<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1701507667135" as="style"/><link rel="stylesheet" href="styles.css?v=1701507667135"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://sqlsync.dev/posts/stop-building-databases/">Accidental database programming</a> <span class="domain">(<a href="https://sqlsync.dev">sqlsync.dev</a>)</span></div><div class="subtext"><span>thunderbong</span> | <span>189 comments</span></div><br/><div><div id="38490750" class="c"><input type="checkbox" id="c-38490750" checked=""/><div class="controls bullet"><span class="by">neilk</span><span>|</span><a href="#38491997">next</a><span>|</span><label class="collapse" for="c-38490750">[-]</label><label class="expand" for="c-38490750">[38 more]</label></div><br/><div class="children"><div class="content">I’m familiar with this project - the creator is a friend. I’ll try to get him on here to answer questions.<p>He’s a seasoned database architect. With SQLsync he’s made a way for frontend developers to query and update a remote database as if it was completely located right in the browser. Because it basically is. The power of WASM makes it possible to ship a whole SQLite database to the browser. The magic is in how it syncs from multiple clients with a clever but simple reactive algorithm.<p>It’s a radical attack on the whole problem. Much of our work as developers is about syncing data. When you start looking at React and REST APIs as a kind of sync procedure, this approach can open a lot of new possibilities. You don’t have to write a weird bespoke database of trees of objects fetched and cached from the API any more. You can just update and query it locally, with all the power of a relational database.</div><br/><div id="38494037" class="c"><input type="checkbox" id="c-38494037" checked=""/><div class="controls bullet"><span class="by">BackBlast</span><span>|</span><a href="#38490750">parent</a><span>|</span><a href="#38491796">next</a><span>|</span><label class="collapse" for="c-38494037">[-]</label><label class="expand" for="c-38494037">[22 more]</label></div><br/><div class="children"><div class="content">I find that moving the full query system into the front end is where most front end devs really want to be.  They want a full power query system for the data instead of continuous rounds of re-inventing the transport layer, REST, GraphQL, *RPC, etc.<p>It&#x27;s hard to adopt such a system in most traditional web shops with their specialized backend and frontend teams.  You&#x27;re pulling out the database, backend, transport, and auth layers and replacing them with this single block system.  Most system architects grew up in the backend so they are generally pretty ignorant of this issue.  As it touches both sides extensively you&#x27;re probably not fitting this into an existing system, which leaves only green field new development.  Finally your backend is not an AWS or Asure service, neither is it lambda friendly.  All of this means that most architect types I talk to will never touch it.<p>This style of system mostly already exists with old tech, CouchDB+PouchDB.  Which works pretty well for some things.  The downsides are that the query system isn&#x27;t really ideal and the auth and data scoping system is pretty foreign to most people.  The easiest model to work with is when the data is totally owned by a single user, and then you use the out-of-the-box database-per-user model.  High data segmentation with CRDTs removes a lot of conflict issues.<p>It has scaling issues though, CouchDB has really high CPU requirements when you&#x27;re connecting 10k to 100k users.  The tech is long in the tooth though it is maintained.  On the system design side it gets really complicated when you start sharing data between users, which makes it rather unsuitable as you&#x27;re just moving the complexity rather than solving it.<p>This approach seems to hit the same target though will likely have similar scaling issues.<p>Look forward to see the evolution of the system.  Looks like a first step into the world.</div><br/><div id="38496379" class="c"><input type="checkbox" id="c-38496379" checked=""/><div class="controls bullet"><span class="by">crooked-v</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38494037">parent</a><span>|</span><a href="#38496316">next</a><span>|</span><label class="collapse" for="c-38496379">[-]</label><label class="expand" for="c-38496379">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not quite shipping the DB to the client, but I like the Supabase&#x2F;PostgREST approach for replacing everything between the client and SQL server with a single very thin proxy that maps tables and functions to REST calls. Even the auth mechanism is fundamentally just Postgres RLS with signed tokens that you can query against in your RLS policies.</div><br/></div></div><div id="38496316" class="c"><input type="checkbox" id="c-38496316" checked=""/><div class="controls bullet"><span class="by">asaddhamani</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38494037">parent</a><span>|</span><a href="#38496379">prev</a><span>|</span><a href="#38494252">next</a><span>|</span><label class="collapse" for="c-38496316">[-]</label><label class="expand" for="c-38496316">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of Meteorjs. It would let you sync a subset of your data to the client and then the client could query it any which way it wanted. They called this “Minimongo”.</div><br/></div></div><div id="38494252" class="c"><input type="checkbox" id="c-38494252" checked=""/><div class="controls bullet"><span class="by">cratermoon</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38494037">parent</a><span>|</span><a href="#38496316">prev</a><span>|</span><a href="#38495341">next</a><span>|</span><label class="collapse" for="c-38494252">[-]</label><label class="expand" for="c-38494252">[14 more]</label></div><br/><div class="children"><div class="content">Yay, we&#x27;re moving back to fat clients! What has been is what will be, and what was done is what will be done, there is nothing new under the sun.</div><br/><div id="38495945" class="c"><input type="checkbox" id="c-38495945" checked=""/><div class="controls bullet"><span class="by">whoisthemachine</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38494252">parent</a><span>|</span><a href="#38494495">next</a><span>|</span><label class="collapse" for="c-38495945">[-]</label><label class="expand" for="c-38495945">[2 more]</label></div><br/><div class="children"><div class="content">Those pesky backends are so annoying, so why don&#x27;t we just put a backend on every client?</div><br/><div id="38496236" class="c"><input type="checkbox" id="c-38496236" checked=""/><div class="controls bullet"><span class="by">throwaway290</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38495945">parent</a><span>|</span><a href="#38494495">next</a><span>|</span><label class="collapse" for="c-38496236">[-]</label><label class="expand" for="c-38496236">[1 more]</label></div><br/><div class="children"><div class="content">Schema and data migrations are too tricky, so why not have every client do it.</div><br/></div></div></div></div><div id="38494495" class="c"><input type="checkbox" id="c-38494495" checked=""/><div class="controls bullet"><span class="by">BackBlast</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38494252">parent</a><span>|</span><a href="#38495945">prev</a><span>|</span><a href="#38495341">next</a><span>|</span><label class="collapse" for="c-38494495">[-]</label><label class="expand" for="c-38494495">[11 more]</label></div><br/><div class="children"><div class="content">I&#x27;m on the fat client train with my company and I nudge my clients that way if they&#x27;re open.  It&#x27;s just a great way to build a system.</div><br/><div id="38495764" class="c"><input type="checkbox" id="c-38495764" checked=""/><div class="controls bullet"><span class="by">pxmpxm</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38494495">parent</a><span>|</span><a href="#38495202">next</a><span>|</span><label class="collapse" for="c-38495764">[-]</label><label class="expand" for="c-38495764">[3 more]</label></div><br/><div class="children"><div class="content">Ohh can&#x27;t wait for the inevitable next step of dropping the &quot;web&quot; part of web assembly and doing, ya know, native fat clients again.</div><br/><div id="38497004" class="c"><input type="checkbox" id="c-38497004" checked=""/><div class="controls bullet"><span class="by">password4321</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38495764">parent</a><span>|</span><a href="#38495824">next</a><span>|</span><label class="collapse" for="c-38497004">[-]</label><label class="expand" for="c-38497004">[1 more]</label></div><br/><div class="children"><div class="content">Excel is a great fat client. Writing a sync in VBA is not, but some of the pieces are already there.</div><br/></div></div><div id="38495824" class="c"><input type="checkbox" id="c-38495824" checked=""/><div class="controls bullet"><span class="by">BackBlast</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38495764">parent</a><span>|</span><a href="#38497004">prev</a><span>|</span><a href="#38495202">next</a><span>|</span><label class="collapse" for="c-38495824">[-]</label><label class="expand" for="c-38495824">[1 more]</label></div><br/><div class="children"><div class="content">I work with lean, business speculative software mostly.  Which means not cross-platform native development is simply not economical to do.  I generally need to be able to hit Windows, iOS, Android, and MacOS square on with one code base.<p>A &quot;native&quot; electron or capacitor distribution system is a fine extension of a local-first web client.  And an advantage of building fat clients generally is they lend themselves to such distribution models much easier than say, htmx or hotwire.<p>Native fat client have had their benefits and lots of people still prefer them, but always had the drawback of manual data management and installs.  Being able to leverage any device you own with a cloud synced local-first client really gives you the best of both worlds.<p>But not all software fits readily within this model.</div><br/></div></div></div></div><div id="38495202" class="c"><input type="checkbox" id="c-38495202" checked=""/><div class="controls bullet"><span class="by">cratermoon</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38494495">parent</a><span>|</span><a href="#38495764">prev</a><span>|</span><a href="#38495341">next</a><span>|</span><label class="collapse" for="c-38495202">[-]</label><label class="expand" for="c-38495202">[7 more]</label></div><br/><div class="children"><div class="content">Great until you have to support <i>n</i> versions on <i>m</i> platforms and half your customers are <i>enterprisey</i> and stay on a 6-year-old version from before your last LTS version on a now-unsupported platform because they built a core part of their business processes on a a misfeature.</div><br/><div id="38495841" class="c"><input type="checkbox" id="c-38495841" checked=""/><div class="controls bullet"><span class="by">BackBlast</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38495202">parent</a><span>|</span><a href="#38495478">next</a><span>|</span><label class="collapse" for="c-38495841">[-]</label><label class="expand" for="c-38495841">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve worked on various forms of &quot;legacy code&quot; for most of my career.  As long as the economics line up and the customer is willing to pay for the required support, then it&#x27;s a fine business avenue.<p>If economics don&#x27;t line up then you have to pull the plug and set them adrift, which is much easier and more secure with a fat client that runs without a server than say, a complex cloud system.</div><br/></div></div><div id="38495478" class="c"><input type="checkbox" id="c-38495478" checked=""/><div class="controls bullet"><span class="by">sp332</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38495202">parent</a><span>|</span><a href="#38495841">prev</a><span>|</span><a href="#38495341">next</a><span>|</span><label class="collapse" for="c-38495478">[-]</label><label class="expand" for="c-38495478">[5 more]</label></div><br/><div class="children"><div class="content">Yes but targeting WASM and SQLite minimizes that pain quite a bit.</div><br/><div id="38495562" class="c"><input type="checkbox" id="c-38495562" checked=""/><div class="controls bullet"><span class="by">cratermoon</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38495478">parent</a><span>|</span><a href="#38495341">next</a><span>|</span><label class="collapse" for="c-38495562">[-]</label><label class="expand" for="c-38495562">[4 more]</label></div><br/><div class="children"><div class="content">Remember when targeting Macromedia Flash was going to solve the web compatibility and interactivity conundrum?</div><br/><div id="38495742" class="c"><input type="checkbox" id="c-38495742" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38495562">parent</a><span>|</span><a href="#38495647">next</a><span>|</span><label class="collapse" for="c-38495742">[-]</label><label class="expand" for="c-38495742">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Remember when targeting Macromedia Flash was going to solve the web compatibility and interactivity conundrum?<p>This sounds like the set up for a &quot;No? Me neither.&quot; punchline. Certainly one of the features of Flash is that it gave you fairly good consistency across computers, but honestly my perception of Flash wasn&#x27;t that it was going to solve some grand web problem, but more &quot;oooh look, shiny rollover buttons!&quot; and &quot;ooh look, super obnoxious advertisement that forces people to pay attention to it!&quot;</div><br/></div></div><div id="38495647" class="c"><input type="checkbox" id="c-38495647" checked=""/><div class="controls bullet"><span class="by">sp332</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38495562">parent</a><span>|</span><a href="#38495742">prev</a><span>|</span><a href="#38495341">next</a><span>|</span><label class="collapse" for="c-38495647">[-]</label><label class="expand" for="c-38495647">[2 more]</label></div><br/><div class="children"><div class="content">Yeah? It was targeted for destruction by Apple because it was buggy and insecure, not because it wasn&#x27;t delivering.</div><br/><div id="38497017" class="c"><input type="checkbox" id="c-38497017" checked=""/><div class="controls bullet"><span class="by">password4321</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38495647">parent</a><span>|</span><a href="#38495341">next</a><span>|</span><label class="collapse" for="c-38497017">[-]</label><label class="expand" for="c-38497017">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t forget horrendous mobile performance (battery drain)!</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="38495341" class="c"><input type="checkbox" id="c-38495341" checked=""/><div class="controls bullet"><span class="by">tdeck</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38494037">parent</a><span>|</span><a href="#38494252">prev</a><span>|</span><a href="#38491796">next</a><span>|</span><label class="collapse" for="c-38495341">[-]</label><label class="expand" for="c-38495341">[5 more]</label></div><br/><div class="children"><div class="content">How is this approach meant to handle data visibility and access control? Often a large part of a backend is materializing raw data into a form that the active user is allowed to view.</div><br/><div id="38495935" class="c"><input type="checkbox" id="c-38495935" checked=""/><div class="controls bullet"><span class="by">BackBlast</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38495341">parent</a><span>|</span><a href="#38491796">next</a><span>|</span><label class="collapse" for="c-38495935">[-]</label><label class="expand" for="c-38495935">[4 more]</label></div><br/><div class="children"><div class="content">So if the user owns all their own data, their &quot;data view&quot; is their data set.  A To-Do system, a personal finance app, any kind of note-taking or personal record keeping fits this model.<p>You create a database per user and the auth and sync are all self contained within that database.  This system is multi-master, which means that any change on a client or on the server will be replicated to every other.  There is no &quot;authority&quot; which trumps the others.  The server is simply a central hub that requires the right authentication to allow the sync process to happen.<p>When you want to create a set of data that crosses user boundaries, it gets complicated.  It&#x27;s possible to do, but you&#x27;re not on the easy train anymore.<p>Creating a system that&#x27;s both easy to use, and scopes the right data view out of the system wide tables and rows we usually think of databases, is not the CouchDB nor SQLSync model.</div><br/><div id="38496930" class="c"><input type="checkbox" id="c-38496930" checked=""/><div class="controls bullet"><span class="by">ako</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38495935">parent</a><span>|</span><a href="#38496420">next</a><span>|</span><label class="collapse" for="c-38496930">[-]</label><label class="expand" for="c-38496930">[1 more]</label></div><br/><div class="children"><div class="content">&gt; When you want to create a set of data that crosses user boundaries, it gets complicated.<p>So it sounds like this excludes most enterprise use cases?</div><br/></div></div><div id="38496420" class="c"><input type="checkbox" id="c-38496420" checked=""/><div class="controls bullet"><span class="by">presidentender</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38495935">parent</a><span>|</span><a href="#38496930">prev</a><span>|</span><a href="#38491796">next</a><span>|</span><label class="collapse" for="c-38496420">[-]</label><label class="expand" for="c-38496420">[2 more]</label></div><br/><div class="children"><div class="content">Correct me if I&#x27;m wrong: we can avoid the idea of a master for this use case because we suppose that only a single client (also server, I guess) will write at a time?</div><br/><div id="38496765" class="c"><input type="checkbox" id="c-38496765" checked=""/><div class="controls bullet"><span class="by">danielheath</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38496420">parent</a><span>|</span><a href="#38491796">next</a><span>|</span><label class="collapse" for="c-38496765">[-]</label><label class="expand" for="c-38496765">[1 more]</label></div><br/><div class="children"><div class="content">You’re wrong if clients can be used offline and sync when they come back online.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38491796" class="c"><input type="checkbox" id="c-38491796" checked=""/><div class="controls bullet"><span class="by">commonenemy</span><span>|</span><a href="#38490750">parent</a><span>|</span><a href="#38494037">prev</a><span>|</span><a href="#38491260">next</a><span>|</span><label class="collapse" for="c-38491796">[-]</label><label class="expand" for="c-38491796">[3 more]</label></div><br/><div class="children"><div class="content">That sounds awfully like Couchbase, which allows you to query&#x2F;update databases that will sync to remote and the back to peers. And you can control the process (auth&#x2F;business logic) with sever side JavaScript plugin with ease.</div><br/><div id="38491981" class="c"><input type="checkbox" id="c-38491981" checked=""/><div class="controls bullet"><span class="by">jchanimal</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38491796">parent</a><span>|</span><a href="#38491260">next</a><span>|</span><label class="collapse" for="c-38491981">[-]</label><label class="expand" for="c-38491981">[2 more]</label></div><br/><div class="children"><div class="content">Creator of Couchbase Mobile here — I’m doing a new web-based thing[1] with a similar reactive API. I’m hoping that my encrypted block replication makes it more of a “data anywhere” solution than a “local first” database. But the paradigm of powerful databases in the browser is definitely one I’m glad to see becoming popular.<p>[1] <a href="https:&#x2F;&#x2F;fireproof.storage&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;fireproof.storage&#x2F;</a></div><br/><div id="38494258" class="c"><input type="checkbox" id="c-38494258" checked=""/><div class="controls bullet"><span class="by">616c</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38491981">parent</a><span>|</span><a href="#38491260">next</a><span>|</span><label class="collapse" for="c-38494258">[-]</label><label class="expand" for="c-38494258">[1 more]</label></div><br/><div class="children"><div class="content">Very exciting I shall as I was a fan of your prior project!</div><br/></div></div></div></div></div></div><div id="38491260" class="c"><input type="checkbox" id="c-38491260" checked=""/><div class="controls bullet"><span class="by">giancarlostoro</span><span>|</span><a href="#38490750">parent</a><span>|</span><a href="#38491796">prev</a><span>|</span><a href="#38491997">next</a><span>|</span><label class="collapse" for="c-38491260">[-]</label><label class="expand" for="c-38491260">[12 more]</label></div><br/><div class="children"><div class="content">Genuinely curious why not just cache the relevant bits in LocalStorage &#x2F; SessionStorage? I seem to remember Chrome trying to add a literal SQL database to the browser, but it never panned out, localStorage became king. I don&#x27;t mean to downplay the usefulness, just I usually opt for what the browser gives me. I&#x27;m huge on WASM and what it will do for the browser as it matures more (or grows in features).</div><br/><div id="38491534" class="c"><input type="checkbox" id="c-38491534" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38491260">parent</a><span>|</span><a href="#38491620">next</a><span>|</span><label class="collapse" for="c-38491534">[-]</label><label class="expand" for="c-38491534">[1 more]</label></div><br/><div class="children"><div class="content">Good question.<p>First to address the main point: why not cache the relevant bits in some kind of local storage. SQLSync plans on doing this, specifically using OPFS for performance (but will have fallbacks to localstorage if needed).<p>Second to address the question of why not use built in kv stores or browser side databases. One answer is another question: how do you solve sync?<p>One approach is using a data model that encodes conflict handling directly, like CRDTs. This approach is easier to put into general kv stores, as syncing requires simply exchanging messages in any order. I find this solution is well suited to unstructured collaboration like text editing, but makes it harder to coordinate centralised changes to the data. Centralised changes are nice when you start introducing authentication, compaction, and upgrades.<p>Another approach is doing something similar to how Git Rebase works. The idea is to let the application state and server state diverge, and then provide an efficient means for the app to periodically reset to the latest server state and replay any unacked mutations. This approach requires the ability to re-run mutations efficiently as well as efficiently track multiple diverging versions of the database state. It&#x27;s certainly possible to build this model on top of local storage.<p>For SQLSync, I found that by controlling the entirety of SQLite and the underlying storage layer I was able to create a solution that works across platforms and offers a fairly consistent performance profile. The same solution runs in native apps, browser sessions (main thread or workers), and on serverless platforms. One of my goals is to follow the lead of SQLite and keep my solution fairly agnostic to the platform (while providing the requisite hooks for things like durable storage).</div><br/></div></div><div id="38491620" class="c"><input type="checkbox" id="c-38491620" checked=""/><div class="controls bullet"><span class="by">LamaOfRuin</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38491260">parent</a><span>|</span><a href="#38491534">prev</a><span>|</span><a href="#38491551">next</a><span>|</span><label class="collapse" for="c-38491620">[-]</label><label class="expand" for="c-38491620">[6 more]</label></div><br/><div class="children"><div class="content">FWIW, Web SQL was always fine, but could never be standardized, because no one was ever going to redo all the work sqlite has done (when every browser already uses sqlite).<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Web_SQL_Database" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Web_SQL_Database</a></div><br/><div id="38491672" class="c"><input type="checkbox" id="c-38491672" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38491620">parent</a><span>|</span><a href="#38491551">next</a><span>|</span><label class="collapse" for="c-38491672">[-]</label><label class="expand" for="c-38491672">[5 more]</label></div><br/><div class="children"><div class="content">Firefox fought against WebSQL. Firefox then re-implemented indexedDB with SQLite on their own browser. Firefox has now largely faded into obscurity.</div><br/><div id="38492367" class="c"><input type="checkbox" id="c-38492367" checked=""/><div class="controls bullet"><span class="by">Moomoomoo309</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38491672">parent</a><span>|</span><a href="#38494211">next</a><span>|</span><label class="collapse" for="c-38492367">[-]</label><label class="expand" for="c-38492367">[2 more]</label></div><br/><div class="children"><div class="content">Tbf, the WebSQL standard was not well-written from how I&#x27;ve heard that story told. It was bug-for-bug exactly standardized to a particular version of SQLite, which is not a good way to write a standard.</div><br/><div id="38494112" class="c"><input type="checkbox" id="c-38494112" checked=""/><div class="controls bullet"><span class="by">LAC-Tech</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38492367">parent</a><span>|</span><a href="#38494211">next</a><span>|</span><label class="collapse" for="c-38494112">[-]</label><label class="expand" for="c-38494112">[1 more]</label></div><br/><div class="children"><div class="content">The important thing is - Firefox has been slowly dying for a decade and SQLite has taken over the world.</div><br/></div></div></div></div><div id="38494211" class="c"><input type="checkbox" id="c-38494211" checked=""/><div class="controls bullet"><span class="by">neftaly</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38491672">parent</a><span>|</span><a href="#38492367">prev</a><span>|</span><a href="#38491551">next</a><span>|</span><label class="collapse" for="c-38494211">[-]</label><label class="expand" for="c-38494211">[2 more]</label></div><br/><div class="children"><div class="content">The issue was that a specific library would be pinned at a specific version for the rest of the history of the web. As good as SQLite is, I hope to hell we&#x27;re not still stuck using it to handle mining operations in the oort cloud in 200 years.</div><br/><div id="38495500" class="c"><input type="checkbox" id="c-38495500" checked=""/><div class="controls bullet"><span class="by">josephg</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38494211">parent</a><span>|</span><a href="#38491551">next</a><span>|</span><label class="collapse" for="c-38495500">[-]</label><label class="expand" for="c-38495500">[1 more]</label></div><br/><div class="children"><div class="content">This is why wasm is great. Webpages can just ship whatever version of SQLite they want. And&#x2F;or eventually migrate to something better.</div><br/></div></div></div></div></div></div></div></div><div id="38491551" class="c"><input type="checkbox" id="c-38491551" checked=""/><div class="controls bullet"><span class="by">justincormack</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38491260">parent</a><span>|</span><a href="#38491620">prev</a><span>|</span><a href="#38491783">next</a><span>|</span><label class="collapse" for="c-38491551">[-]</label><label class="expand" for="c-38491551">[2 more]</label></div><br/><div class="children"><div class="content">There is a literal SQL store in the browser its the sqlite Wasm port. Its just panning out a little differently.</div><br/><div id="38494766" class="c"><input type="checkbox" id="c-38494766" checked=""/><div class="controls bullet"><span class="by">curtisblaine</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38491551">parent</a><span>|</span><a href="#38491783">next</a><span>|</span><label class="collapse" for="c-38494766">[-]</label><label class="expand" for="c-38494766">[1 more]</label></div><br/><div class="children"><div class="content">Which works only on Chrome, IIRC.</div><br/></div></div></div></div><div id="38491783" class="c"><input type="checkbox" id="c-38491783" checked=""/><div class="controls bullet"><span class="by">wouldbecouldbe</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38491260">parent</a><span>|</span><a href="#38491551">prev</a><span>|</span><a href="#38491347">next</a><span>|</span><label class="collapse" for="c-38491783">[-]</label><label class="expand" for="c-38491783">[1 more]</label></div><br/><div class="children"><div class="content">Because if this works it&#x27;s amazing. Realtime sync with offline support out of the box, while not having to develop state management on client and api, but in one place. Those are very hard problems, done with less development. Will definitely give it a shot.</div><br/></div></div><div id="38491347" class="c"><input type="checkbox" id="c-38491347" checked=""/><div class="controls bullet"><span class="by">no_wizard</span><span>|</span><a href="#38490750">root</a><span>|</span><a href="#38491260">parent</a><span>|</span><a href="#38491783">prev</a><span>|</span><a href="#38491997">next</a><span>|</span><label class="collapse" for="c-38491347">[-]</label><label class="expand" for="c-38491347">[1 more]</label></div><br/><div class="children"><div class="content">IndexDB is even better, it supports a wider variety of data serialization, can be queried and versioned</div><br/></div></div></div></div></div></div><div id="38491997" class="c"><input type="checkbox" id="c-38491997" checked=""/><div class="controls bullet"><span class="by">nusmella</span><span>|</span><a href="#38490750">prev</a><span>|</span><a href="#38497102">next</a><span>|</span><label class="collapse" for="c-38491997">[-]</label><label class="expand" for="c-38491997">[30 more]</label></div><br/><div class="children"><div class="content">An old company I worked for used project management software with a check-in&#x2F;out mechanism for making changes. When you &quot;check out&quot; a project it downloads a copy that you change locally, then &quot;check in&quot; uploads it back to the server. A project is &quot;locked&quot; while in the &quot;checked out&quot; state. We all felt it was an archaic mechanism in a word of live updating apps.<p>After 10 years of building SPA &quot;web apps&quot;, that data synchronization mechanism feels ahead of its time.</div><br/><div id="38494130" class="c"><input type="checkbox" id="c-38494130" checked=""/><div class="controls bullet"><span class="by">pdonis</span><span>|</span><a href="#38491997">parent</a><span>|</span><a href="#38493431">next</a><span>|</span><label class="collapse" for="c-38494130">[-]</label><label class="expand" for="c-38494130">[5 more]</label></div><br/><div class="children"><div class="content">What many people either can&#x27;t or don&#x27;t want to acknowledge is that ultimately whether or not you support live updates in parallel by multiple users, instead of locking so only one update can proceed at a time, is not a technical decision, it&#x27;s a business decision: do the business rules that are appropriate for your application enable you to deal with concurrent live updates or not?<p>Ultimately that comes down to whether you can implement a process to ensure consistent resolution of any incompatibilities between multiple concurrent updates. Sometimes that can be done, and sometimes it can&#x27;t, and which is the case for your application depends on your business rules, not on any technical capability.<p>If your business rules don&#x27;t allow you to implement a resolution mechanism, you <i>need</i> locking so that only one update can happen at a time, whether you have the technical capability to support concurrent updates or not.</div><br/><div id="38497046" class="c"><input type="checkbox" id="c-38497046" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38494130">parent</a><span>|</span><a href="#38494665">next</a><span>|</span><label class="collapse" for="c-38497046">[-]</label><label class="expand" for="c-38497046">[1 more]</label></div><br/><div class="children"><div class="content">Nah. I&#x27;ve seen plenty of systems where the business rules would handle concurrent updates fine, but since they&#x27;re using a traditional Web&#x2F;ORM&#x2F;RDBMS setup they build a last-write-wins system without thinking about it. It&#x27;s one of those rare problems where the technical part is actually harder than the business part.</div><br/></div></div><div id="38494665" class="c"><input type="checkbox" id="c-38494665" checked=""/><div class="controls bullet"><span class="by">Terr_</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38494130">parent</a><span>|</span><a href="#38497046">prev</a><span>|</span><a href="#38493431">next</a><span>|</span><label class="collapse" for="c-38494665">[-]</label><label class="expand" for="c-38494665">[3 more]</label></div><br/><div class="children"><div class="content">Indeed, many of the most painful technical problems are actually three business problems in a trenchcoat.</div><br/><div id="38497077" class="c"><input type="checkbox" id="c-38497077" checked=""/><div class="controls bullet"><span class="by">fho</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38494665">parent</a><span>|</span><a href="#38494896">next</a><span>|</span><label class="collapse" for="c-38497077">[-]</label><label class="expand" for="c-38497077">[1 more]</label></div><br/><div class="children"><div class="content">So true ... and often those business decision are not yours to make.</div><br/></div></div><div id="38494896" class="c"><input type="checkbox" id="c-38494896" checked=""/><div class="controls bullet"><span class="by">pdonis</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38494665">parent</a><span>|</span><a href="#38497077">prev</a><span>|</span><a href="#38493431">next</a><span>|</span><label class="collapse" for="c-38494896">[-]</label><label class="expand" for="c-38494896">[1 more]</label></div><br/><div class="children"><div class="content">This literally made me lol. :-)</div><br/></div></div></div></div></div></div><div id="38493431" class="c"><input type="checkbox" id="c-38493431" checked=""/><div class="controls bullet"><span class="by">ozim</span><span>|</span><a href="#38491997">parent</a><span>|</span><a href="#38494130">prev</a><span>|</span><a href="#38494539">next</a><span>|</span><label class="collapse" for="c-38493431">[-]</label><label class="expand" for="c-38493431">[6 more]</label></div><br/><div class="children"><div class="content">It solves so many problems and makes it so easy to implement if you go this way.<p>But just like mentioned it is hard to convince people that it is what they actually want.<p>People fall into some grand illusion that everything should be always available but in reality then one person is doing changes at a time and if somehow 2 or more people have to work on something - more often than not they should be talking or communicating with each other anyway to synchronize.<p>Even with GIT and fully distributed development you cannot solve conflicts automagically. You still have to communicate with others and understand context to pick correct changes.</div><br/><div id="38493553" class="c"><input type="checkbox" id="c-38493553" checked=""/><div class="controls bullet"><span class="by">calvinmorrison</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38493431">parent</a><span>|</span><a href="#38494539">next</a><span>|</span><label class="collapse" for="c-38493553">[-]</label><label class="expand" for="c-38493553">[5 more]</label></div><br/><div class="children"><div class="content">you can only have one person work on the code at a time? that seems, very very obviously dumb</div><br/><div id="38493718" class="c"><input type="checkbox" id="c-38493718" checked=""/><div class="controls bullet"><span class="by">ozim</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38493553">parent</a><span>|</span><a href="#38493623">next</a><span>|</span><label class="collapse" for="c-38493718">[-]</label><label class="expand" for="c-38493718">[2 more]</label></div><br/><div class="children"><div class="content">I can change A to B on my own, you can change A to C on your own.<p>At some point we have to communicate which change is correct.<p>It does not have to be synchronous and it might be via commit message - but still change alone is not enough for conflict resolution.<p>If you edit word document and someone then changes something there is no commit message but might be comment on document, email or im.</div><br/><div id="38495723" class="c"><input type="checkbox" id="c-38495723" checked=""/><div class="controls bullet"><span class="by">__MatrixMan__</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38493718">parent</a><span>|</span><a href="#38493623">next</a><span>|</span><label class="collapse" for="c-38495723">[-]</label><label class="expand" for="c-38495723">[1 more]</label></div><br/><div class="children"><div class="content">Unison has a neat approach to this problem: References are hashes of the abstract syntax tree, the only way to write a &quot;collision&quot; is to write an identical function--which isn&#x27;t actually a collision at all.</div><br/></div></div></div></div><div id="38493623" class="c"><input type="checkbox" id="c-38493623" checked=""/><div class="controls bullet"><span class="by">SkyMarshal</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38493553">parent</a><span>|</span><a href="#38493718">prev</a><span>|</span><a href="#38494944">next</a><span>|</span><label class="collapse" for="c-38493623">[-]</label><label class="expand" for="c-38493623">[1 more]</label></div><br/><div class="children"><div class="content">Multiple people can work on the code simultaneously and asynchronously, but conflict resolution must be done synchronously.</div><br/></div></div></div></div></div></div><div id="38494539" class="c"><input type="checkbox" id="c-38494539" checked=""/><div class="controls bullet"><span class="by">pyeri</span><span>|</span><a href="#38491997">parent</a><span>|</span><a href="#38493431">prev</a><span>|</span><a href="#38492670">next</a><span>|</span><label class="collapse" for="c-38494539">[-]</label><label class="expand" for="c-38494539">[1 more]</label></div><br/><div class="children"><div class="content">This totally. This is one of the reasons that classical RDBMS paradigms and software like MySQL still survive despite however people want to talk it down in favor of &quot;Nosql&quot; or non-relational databases like mongodb citing how fast it is or how cool it is in comparison.<p>For some things, you need the time tested solutions.</div><br/></div></div><div id="38492670" class="c"><input type="checkbox" id="c-38492670" checked=""/><div class="controls bullet"><span class="by">RHSeeger</span><span>|</span><a href="#38491997">parent</a><span>|</span><a href="#38494539">prev</a><span>|</span><a href="#38492174">next</a><span>|</span><label class="collapse" for="c-38492670">[-]</label><label class="expand" for="c-38492670">[10 more]</label></div><br/><div class="children"><div class="content">Sounds like RCS [1].  I remember, back when a company I worked for switched from RCS to CVS, one of my coworkers was annoyed that CVS didn&#x27;t support locking checkouts.<p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Revision_Control_System" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Revision_Control_System</a>
[2] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Concurrent_Versions_System" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Concurrent_Versions_System</a></div><br/><div id="38492797" class="c"><input type="checkbox" id="c-38492797" checked=""/><div class="controls bullet"><span class="by">ethbr1</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38492670">parent</a><span>|</span><a href="#38492174">next</a><span>|</span><label class="collapse" for="c-38492797">[-]</label><label class="expand" for="c-38492797">[9 more]</label></div><br/><div class="children"><div class="content">And, of course, the default mode of Microsoft Team Foundation Server [0], decades after there were better patterns.<p>So many forgotten locks from lazy devs...<p>[0] <a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Azure_DevOps_Server#TFVC" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Azure_DevOps_Server#TFVC</a></div><br/><div id="38493433" class="c"><input type="checkbox" id="c-38493433" checked=""/><div class="controls bullet"><span class="by">partomniscient</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38492797">parent</a><span>|</span><a href="#38493277">next</a><span>|</span><label class="collapse" for="c-38493433">[-]</label><label class="expand" for="c-38493433">[1 more]</label></div><br/><div class="children"><div class="content">Now I feel old, I remember &quot;Anything but sourcesafe&quot; [0], which was a followup to &quot;Visual Sourcesafe Version Control tunsafe at any speed&quot;, and having my trust evapourate when I found out Microsoft didn&#x27;t dogfood their own version control system.<p>So long ago I can&#x27;t remember exactly which but I was running a local cvs and&#x2F;or subversion repository for my own work just to avoid issues like the above.
s
[0] <a href="https:&#x2F;&#x2F;blog.codinghorror.com&#x2F;source-control-anything-but-sourcesafe" rel="nofollow noreferrer">https:&#x2F;&#x2F;blog.codinghorror.com&#x2F;source-control-anything-but-so...</a><p>[1] <a href="https:&#x2F;&#x2F;developsense.com&#x2F;visual-sourcesafe-version-control-unsafe-at-any-speed" rel="nofollow noreferrer">https:&#x2F;&#x2F;developsense.com&#x2F;visual-sourcesafe-version-control-u...</a><p>To get back on topic, the key thing an explicit database gives you is a purpose built-language (and data-integrity enforcement etc. if you do it properly), that everyone knows. (Or used to? SQL is getting more hidden by abstraction layers&#x2F;eco-systems these days). I&#x27;m old, so I reach for my older, well understood tools over new and exciting. Get off my lawn. It may be over-architecting, but I&#x27;m also not working in maximising &#x27;performance in milli&#x2F;micro-seconds is vital&#x27; high load environments, or releasing updated software every other day.<p>The other issue is tool&#x2F;eco-system fragmentation.<p>But when you&#x27;re young and have the energy and mental capacity to abstract out the wahoo for effeciency&#x2F;performance, you do, because you can, because its better at the time. In our day everyone was writing code to write to code which were effectively the pre-cursors to ORM&#x27;s. It&#x27;s just part of being young and committed to your craft, and wanting to get better at it - this is a good thing!<p>It&#x27;s only as you get older you start to appreciate the &quot;Less is More&quot; around same time that job ads appear with &quot;Must have 3 years of SQL-Sync experience&quot; (no offence intended here). There are both costs and benefits but which and how much of each you only find out years later.</div><br/></div></div><div id="38493277" class="c"><input type="checkbox" id="c-38493277" checked=""/><div class="controls bullet"><span class="by">throwaheyy</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38492797">parent</a><span>|</span><a href="#38493433">prev</a><span>|</span><a href="#38493297">next</a><span>|</span><label class="collapse" for="c-38493277">[-]</label><label class="expand" for="c-38493277">[4 more]</label></div><br/><div class="children"><div class="content">Are you sure? My experience of using TFVC was that it would warn you if someone else had opened the file for editing but would not actually lock it. Multiple people could edit the same file concurrently with standard automerging&#x2F;conflict resolution afterwards.</div><br/><div id="38494375" class="c"><input type="checkbox" id="c-38494375" checked=""/><div class="controls bullet"><span class="by">alistairSH</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38493277">parent</a><span>|</span><a href="#38493719">next</a><span>|</span><label class="collapse" for="c-38494375">[-]</label><label class="expand" for="c-38494375">[2 more]</label></div><br/><div class="children"><div class="content">Server workspaces vs local workspaces, maybe?  With server, your local copy was marked read-only. Don’t recall if you could change that flag to edit anyway. We moved to local workspaces as
Quickly as we could - that was a more typical offline edit, resolve conflicts at commit model.  Don’t remember all the details, been 5+ years since I did anything with TFS.</div><br/><div id="38494498" class="c"><input type="checkbox" id="c-38494498" checked=""/><div class="controls bullet"><span class="by">throwaheyy</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38494375">parent</a><span>|</span><a href="#38493719">next</a><span>|</span><label class="collapse" for="c-38494498">[-]</label><label class="expand" for="c-38494498">[1 more]</label></div><br/><div class="children"><div class="content">Yes, “tf edit” would mark on the server that you were opening the file for editing, and cleared the read-only bit, but it didn’t lock the file for others or prevent concurrent edits in any way.</div><br/></div></div></div></div><div id="38493719" class="c"><input type="checkbox" id="c-38493719" checked=""/><div class="controls bullet"><span class="by">RHSeeger</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38493277">parent</a><span>|</span><a href="#38494375">prev</a><span>|</span><a href="#38493297">next</a><span>|</span><label class="collapse" for="c-38493719">[-]</label><label class="expand" for="c-38493719">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m definitely not sure. Could very well be the transition from CVS to Subversion that I&#x27;m remembering. It&#x27;s been a long time :)</div><br/></div></div></div></div><div id="38493297" class="c"><input type="checkbox" id="c-38493297" checked=""/><div class="controls bullet"><span class="by">nemo44x</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38492797">parent</a><span>|</span><a href="#38493277">prev</a><span>|</span><a href="#38492174">next</a><span>|</span><label class="collapse" for="c-38493297">[-]</label><label class="expand" for="c-38493297">[3 more]</label></div><br/><div class="children"><div class="content">Back in the early days of TFS I was briefly at a company that went all in on MS tools. TFS was used and to avoid the lock each developer had a clone made and after checking their clone in the “TFS Guy” in the office would merge it. He also had to merge things when later checking had conflicting changes.<p>Now, the best part of this shit show was they had ~30 different customers and each of these customers had a clone of the main thing that would be customized. So the “TFS Guy” had to determine if to keep in the customer clone only or to propagate to the main and then to all the other clones!<p>Needless to say the “TFS Guy” made a lot of money.</div><br/><div id="38493566" class="c"><input type="checkbox" id="c-38493566" checked=""/><div class="controls bullet"><span class="by">JohnFen</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38493297">parent</a><span>|</span><a href="#38495205">next</a><span>|</span><label class="collapse" for="c-38493566">[-]</label><label class="expand" for="c-38493566">[1 more]</label></div><br/><div class="children"><div class="content">I have to use TFS for a couple of projects where I work. I really wish we had a &quot;TFS Guy&quot;!</div><br/></div></div><div id="38495205" class="c"><input type="checkbox" id="c-38495205" checked=""/><div class="controls bullet"><span class="by">slaymaker1907</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38493297">parent</a><span>|</span><a href="#38493566">prev</a><span>|</span><a href="#38492174">next</a><span>|</span><label class="collapse" for="c-38495205">[-]</label><label class="expand" for="c-38495205">[1 more]</label></div><br/><div class="children"><div class="content">That sounds like torture, he deserved that money.</div><br/></div></div></div></div></div></div></div></div><div id="38492174" class="c"><input type="checkbox" id="c-38492174" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38491997">parent</a><span>|</span><a href="#38492670">prev</a><span>|</span><a href="#38493894">next</a><span>|</span><label class="collapse" for="c-38492174">[-]</label><label class="expand" for="c-38492174">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m a fan of this approach. SQLSync effectively is doing this continuously - however it would be possible to coordinate it explicitly, thus enabling that kind of check in&#x2F;out approach. As for single-owner lock strategies, I think you could also simulate that with SQLSync - although you may not need to depending on the app. If the goal is to &quot;work offline&quot; and then merge when you&#x27;re ready, SQLSync provides this pattern out of the box. If the goal is only one client can make any changes, then some kind of central lock pattern will need to be used (which you could potentially coordinate via SQLSync).</div><br/></div></div><div id="38493894" class="c"><input type="checkbox" id="c-38493894" checked=""/><div class="controls bullet"><span class="by">emmanueloga_</span><span>|</span><a href="#38491997">parent</a><span>|</span><a href="#38492174">prev</a><span>|</span><a href="#38492322">next</a><span>|</span><label class="collapse" for="c-38493894">[-]</label><label class="expand" for="c-38493894">[1 more]</label></div><br/><div class="children"><div class="content">flashbacks to working on a team were we needed to shout across the room for people to unlock their source files in MS SourceSafe :-p</div><br/></div></div><div id="38492322" class="c"><input type="checkbox" id="c-38492322" checked=""/><div class="controls bullet"><span class="by">sodapopcan</span><span>|</span><a href="#38491997">parent</a><span>|</span><a href="#38493894">prev</a><span>|</span><a href="#38492121">next</a><span>|</span><label class="collapse" for="c-38492322">[-]</label><label class="expand" for="c-38492322">[1 more]</label></div><br/><div class="children"><div class="content">Your comment reminds me of <a href="https:&#x2F;&#x2F;joearms.github.io&#x2F;published&#x2F;2014-06-25-minimal-viable-program.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;joearms.github.io&#x2F;published&#x2F;2014-06-25-minimal-viabl...</a></div><br/></div></div><div id="38492121" class="c"><input type="checkbox" id="c-38492121" checked=""/><div class="controls bullet"><span class="by">fjcp</span><span>|</span><a href="#38491997">parent</a><span>|</span><a href="#38492322">prev</a><span>|</span><a href="#38492269">next</a><span>|</span><label class="collapse" for="c-38492121">[-]</label><label class="expand" for="c-38492121">[2 more]</label></div><br/><div class="children"><div class="content">Looks very similar to JEDI [0], an early Delphi VCS system that worked that way. It gave us the tranquility to know that no conflict would appear, as only one developer could work with a locked&#x2F;checked out file at a time. There was no merge those days. In contrast, files that were frequently changed in every task would always cause a blocking between developers.<p>[0] <a href="https:&#x2F;&#x2F;jedivcs.sourceforge.net&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;jedivcs.sourceforge.net&#x2F;</a></div><br/><div id="38493261" class="c"><input type="checkbox" id="c-38493261" checked=""/><div class="controls bullet"><span class="by">hnlmorg</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38492121">parent</a><span>|</span><a href="#38492269">next</a><span>|</span><label class="collapse" for="c-38493261">[-]</label><label class="expand" for="c-38493261">[1 more]</label></div><br/><div class="children"><div class="content">There were loads of VCSs that operated this way. And I don’t miss them one bit.</div><br/></div></div></div></div><div id="38492269" class="c"><input type="checkbox" id="c-38492269" checked=""/><div class="controls bullet"><span class="by">alberth</span><span>|</span><a href="#38491997">parent</a><span>|</span><a href="#38492121">prev</a><span>|</span><a href="#38497102">next</a><span>|</span><label class="collapse" for="c-38492269">[-]</label><label class="expand" for="c-38492269">[2 more]</label></div><br/><div class="children"><div class="content">Sounds like Lotus Notes.</div><br/><div id="38494948" class="c"><input type="checkbox" id="c-38494948" checked=""/><div class="controls bullet"><span class="by">handojin</span><span>|</span><a href="#38491997">root</a><span>|</span><a href="#38492269">parent</a><span>|</span><a href="#38497102">next</a><span>|</span><label class="collapse" for="c-38494948">[-]</label><label class="expand" for="c-38494948">[1 more]</label></div><br/><div class="children"><div class="content">CouchDB is a lineal descendant I guess.</div><br/></div></div></div></div></div></div><div id="38497102" class="c"><input type="checkbox" id="c-38497102" checked=""/><div class="controls bullet"><span class="by">hax0ron3</span><span>|</span><a href="#38491997">prev</a><span>|</span><a href="#38493260">next</a><span>|</span><label class="collapse" for="c-38497102">[-]</label><label class="expand" for="c-38497102">[1 more]</label></div><br/><div class="children"><div class="content">Relational databases are mathematically elegant and useful in certain ways for arbitrary data retrieval and manipulation, but I don&#x27;t see why they would be the best fit browser-side for any but the absolute largest and most complicated front-end systems.<p>Is the typical in-browser code really complex enough that one would want to introduce the object-relational mismatch and all of its associated issues?<p>Most in-browser code wants to operate on a limited set of very well-defined tree data structures, which is a bad fit for relational databases because relational databases are designed to represent a generic graph that can be virtualized into a tree arbitrarily and as necessary.</div><br/></div></div><div id="38493260" class="c"><input type="checkbox" id="c-38493260" checked=""/><div class="controls bullet"><span class="by">roenxi</span><span>|</span><a href="#38497102">prev</a><span>|</span><a href="#38493102">next</a><span>|</span><label class="collapse" for="c-38493260">[-]</label><label class="expand" for="c-38493260">[5 more]</label></div><br/><div class="children"><div class="content">There is an interaction here between the &quot;what gets measured gets managed&quot; principle and the sunk cost fallacy.<p>The problem with databases is actually complexity. Any individual feature is more or less safe, but around the time reliability, caching and indexes get matched together there is a complexity explosion and it doesn&#x27;t (normally, anyhow) make sense to implement a domain-specific DB (call is a DSD?).<p>But, around the time a company has invested in implementing those 3 features and discovered that it has sunk a lot of resources into the DSD, is politically averse to recommending it be stripped out and there is a high real cost to taking out the tech debt in one go.<p>Really the problem here is SQL&#x27;s syntax. If using a basic relational database was a pleasant experience that involved some familiar C-like syntax instead of broken English people would be more tempted to go with a DB instead of rolling their own. The NoSQL databases were a good step in that direction, but then they by and large overfocused on big data instead of everyday usefulness. Things like Redis took hold which is nice.<p>Making it easy to run SQL is a reasonable approach, but the problem is that the good databases - I like postgres - are SQL native and it is hard to get efficiency without speaking the DB&#x27;s language. We really need a PostgresPostSQL database that is a perfect postgres clone but primary parser supports a language with good syntax.</div><br/><div id="38496864" class="c"><input type="checkbox" id="c-38496864" checked=""/><div class="controls bullet"><span class="by">holoduke</span><span>|</span><a href="#38493260">parent</a><span>|</span><a href="#38494373">next</a><span>|</span><label class="collapse" for="c-38496864">[-]</label><label class="expand" for="c-38496864">[2 more]</label></div><br/><div class="children"><div class="content">What is exactly hard about sql? Every dev imho should know it. And sql syntax is good and proven too be long lasting.  Maybe investing some time in actually learning it instead of bashing it will help you further.</div><br/><div id="38497125" class="c"><input type="checkbox" id="c-38497125" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#38493260">root</a><span>|</span><a href="#38496864">parent</a><span>|</span><a href="#38494373">next</a><span>|</span><label class="collapse" for="c-38497125">[-]</label><label class="expand" for="c-38497125">[1 more]</label></div><br/><div class="children"><div class="content">&gt; What is exactly hard about sql?<p>- No non-nullable types (at the expression level). No way to express e.g. normal boolean logic<p>- No real data structures (at the expression level), unless you count rows, which are not first-class values. Even collections aren&#x27;t first-class<p>- Very awkward control flow constructs. E.g. look at how you write recursive queries. Even if&#x2F;else is weird. It&#x27;s a classical Turing Tarpit: everything is possible but nothing is easy<p>- Absurdly complex grammar. Something like 200+ keywords. Bizarre and inconsistent quoting rules<p>- Weird rules about where expressions can be used, and where you have to put variables. Often if you want to extract out a common subexpression and reuse it you have to completely restructure your statement.<p>- Missing basic functionality, e.g. no string concatenation operator (except in some nonstandard dialects)<p>- No libraries. No standard way of reusing code. No unit testing framework, which means in practice most projects have no testing.<p>It&#x27;s a terrible language by any reasonable standard. Its closest cousin is COBOL, and that&#x27;s honestly less awful to write.</div><br/></div></div></div></div><div id="38494373" class="c"><input type="checkbox" id="c-38494373" checked=""/><div class="controls bullet"><span class="by">totalhack</span><span>|</span><a href="#38493260">parent</a><span>|</span><a href="#38496864">prev</a><span>|</span><a href="#38493102">next</a><span>|</span><label class="collapse" for="c-38494373">[-]</label><label class="expand" for="c-38494373">[2 more]</label></div><br/><div class="children"><div class="content">Have you ever looked at adding a semantic layer on top of a db for those that prefer to avoid direct SQL?</div><br/><div id="38497142" class="c"><input type="checkbox" id="c-38497142" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#38493260">root</a><span>|</span><a href="#38494373">parent</a><span>|</span><a href="#38493102">next</a><span>|</span><label class="collapse" for="c-38497142">[-]</label><label class="expand" for="c-38497142">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;d need databases that were open to splitting out and layering like that, and I don&#x27;t think any major SQL databases are. (I mean, most SQL databases are still written in C-family languages; splitting out the PostgreSQL parser into its own library took 20 years and still hasn&#x27;t really been done properly, they do some weird sync thing from the mainline postgresql codebase rather than being the actual trunk for parser development and having postgresql proper use it as a dependency). Maybe you could do something with H2?</div><br/></div></div></div></div></div></div><div id="38493102" class="c"><input type="checkbox" id="c-38493102" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38493260">prev</a><span>|</span><a href="#38491568">next</a><span>|</span><label class="collapse" for="c-38493102">[-]</label><label class="expand" for="c-38493102">[4 more]</label></div><br/><div class="children"><div class="content">Author here. Finally got through most of the questions, will keep checking periodically for ones I&#x27;ve missed (has someone built a better way to track HN discussions?).<p>I&#x27;m very happy to see the discussion thus far. This first post focused on the parts of frontend engineering that motivated me to create SQLSync rather than specifically how SQLSync works. I&#x27;ll be addressing that in my next post. Thanks for all the great questions! Keep them coming :)</div><br/><div id="38493177" class="c"><input type="checkbox" id="c-38493177" checked=""/><div class="controls bullet"><span class="by">tegmarks</span><span>|</span><a href="#38493102">parent</a><span>|</span><a href="#38491568">next</a><span>|</span><label class="collapse" for="c-38493177">[-]</label><label class="expand" for="c-38493177">[3 more]</label></div><br/><div class="children"><div class="content">Thankyou for the very informative article, I appreciate the irony using a post titled &quot;Stop building databases&quot; to announce a new database :-)</div><br/><div id="38493241" class="c"><input type="checkbox" id="c-38493241" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38493102">root</a><span>|</span><a href="#38493177">parent</a><span>|</span><a href="#38491568">next</a><span>|</span><label class="collapse" for="c-38493241">[-]</label><label class="expand" for="c-38493241">[2 more]</label></div><br/><div class="children"><div class="content">You&#x27;re welcome! And I&#x27;m glad you enjoyed it. Once I thought of that title I had to use it.<p>My only saving grace is that technically I didn&#x27;t make a new DB - just using good ol SQLite. Mostly. :)</div><br/><div id="38494714" class="c"><input type="checkbox" id="c-38494714" checked=""/><div class="controls bullet"><span class="by">dev-tacular</span><span>|</span><a href="#38493102">root</a><span>|</span><a href="#38493241">parent</a><span>|</span><a href="#38491568">next</a><span>|</span><label class="collapse" for="c-38494714">[-]</label><label class="expand" for="c-38494714">[1 more]</label></div><br/><div class="children"><div class="content">The title certain piqued my interest!</div><br/></div></div></div></div></div></div></div></div><div id="38491568" class="c"><input type="checkbox" id="c-38491568" checked=""/><div class="controls bullet"><span class="by">lifeisstillgood</span><span>|</span><a href="#38493102">prev</a><span>|</span><a href="#38490392">next</a><span>|</span><label class="collapse" for="c-38491568">[-]</label><label class="expand" for="c-38491568">[3 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t give the user a mental model that reality can break ... badly, or invisibly<p>I fear sync&#x27;ing databases instead of client server models is one of those - either your sync mechanism will just melt, or there are deep assumptions not met<p>Inwoukd feel safer building a set of CRDT primitives to work with if I feel the need for fast UI and stick with forms submit for everything else -</div><br/><div id="38491964" class="c"><input type="checkbox" id="c-38491964" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38491568">parent</a><span>|</span><a href="#38490392">next</a><span>|</span><label class="collapse" for="c-38491964">[-]</label><label class="expand" for="c-38491964">[2 more]</label></div><br/><div class="children"><div class="content">I agree! One of my goals is to make the mental model of SQLSync easy to grok for the developers using it. I&#x27;m biased, but I find the rebase model much easier to understand than CRDTs.</div><br/><div id="38496638" class="c"><input type="checkbox" id="c-38496638" checked=""/><div class="controls bullet"><span class="by">leafmeal</span><span>|</span><a href="#38491568">root</a><span>|</span><a href="#38491964">parent</a><span>|</span><a href="#38490392">next</a><span>|</span><label class="collapse" for="c-38496638">[-]</label><label class="expand" for="c-38496638">[1 more]</label></div><br/><div class="children"><div class="content">I feel like you might be miss the point of the parent comment. Synchronizing between databases is a notoriously difficult problem. It&#x27;s really hard to do while avoiding race conditions. To be fair, I don&#x27;t understand the &quot;git rebase&quot; technique your project uses, but I&#x27;m doubtful it solves these problems.<p>The underlying issue is that users of SQLsync are going to assume that consistency works, but in suble and unsuspecting ways it won&#x27;t.<p>As far as I can tell, the only solutions that handle distributed consistency are those that use CRDTs.</div><br/></div></div></div></div></div></div><div id="38490392" class="c"><input type="checkbox" id="c-38490392" checked=""/><div class="controls bullet"><span class="by">bob1029</span><span>|</span><a href="#38491568">prev</a><span>|</span><a href="#38493574">next</a><span>|</span><label class="collapse" for="c-38490392">[-]</label><label class="expand" for="c-38490392">[7 more]</label></div><br/><div class="children"><div class="content">Trying to synchronize state between client &amp; server is a cursed problem.<p>You can sidestep it altogether if you make mild UX sacrifices and revert to something more akin to the PHP&#x2F;SSR model. SPA is nice, but multipart form posts still work. Just the tiniest amount of javascript can smooth out most of the remaining rough edges.<p>Our latest web products utilize the following client-side state:<p><pre><code>  3rd party IdP claims for auth
  1st party session id in query args
  The current document
</code></pre>
For the first item, I genuinely don&#x27;t even know where this is stored. It&#x27;s Microsoft&#x27;s problem, not ours. All other state lives on the server. We treat the client more or less like a dumb terminal that punches &lt;form&gt;s all day. We don&#x27;t even use first party cookies or local storage to get the job done. This dramatically improved our development experience for iOS&#x2F;Safari targets.<p>So, I would ask this: What is the actual experience you are trying to offer, and why does it justify decoupling of client &amp; server state?</div><br/><div id="38490974" class="c"><input type="checkbox" id="c-38490974" checked=""/><div class="controls bullet"><span class="by">obeavs</span><span>|</span><a href="#38490392">parent</a><span>|</span><a href="#38490493">next</a><span>|</span><label class="collapse" for="c-38490974">[-]</label><label class="expand" for="c-38490974">[1 more]</label></div><br/><div class="children"><div class="content">ElectricSQL has made massive strides towards solving this fwiw. Write sqllite in client, guarantee sync to postgres.<p>See: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37584049">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37584049</a></div><br/></div></div><div id="38490493" class="c"><input type="checkbox" id="c-38490493" checked=""/><div class="controls bullet"><span class="by">threatofrain</span><span>|</span><a href="#38490392">parent</a><span>|</span><a href="#38490974">prev</a><span>|</span><a href="#38493574">next</a><span>|</span><label class="collapse" for="c-38490493">[-]</label><label class="expand" for="c-38490493">[5 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a very common trend for consumer-facing GUI&#x27;s to have optimistic rendering, and if you&#x27;re doing that then you&#x27;re juggling client&#x2F;server state. I still see spinning loaders here and then but they&#x27;re generally for initial content load; e.g., does Gmail make you wait when you archive an email?</div><br/><div id="38490847" class="c"><input type="checkbox" id="c-38490847" checked=""/><div class="controls bullet"><span class="by">_heimdall</span><span>|</span><a href="#38490392">root</a><span>|</span><a href="#38490493">parent</a><span>|</span><a href="#38494181">next</a><span>|</span><label class="collapse" for="c-38490847">[-]</label><label class="expand" for="c-38490847">[3 more]</label></div><br/><div class="children"><div class="content">Not the GP, but I would include optimistic rendering on the list of common patterns that really are a bad idea.<p>Optimistic rendering means your frontend and backend are tightly coupled, error recovery and synchronization is much more complex, and you are locked into (likely heavy) frontend rendering patterns that add even more complexity and coupling.<p>We&#x27;ve spent well over a decade trying to avoid the fact that frontend actions require backend logic to complete. Its a losing battle that&#x27;s just made worse by trying to paper over it.<p>Edit to clarify: this isn&#x27;t a direct comment on the OP tool. I haven&#x27;t used this tool directly but having a hunch it does solve some important use cases for common patterns.</div><br/><div id="38494212" class="c"><input type="checkbox" id="c-38494212" checked=""/><div class="controls bullet"><span class="by">pas</span><span>|</span><a href="#38490392">root</a><span>|</span><a href="#38490847">parent</a><span>|</span><a href="#38494181">next</a><span>|</span><label class="collapse" for="c-38494212">[-]</label><label class="expand" for="c-38494212">[2 more]</label></div><br/><div class="children"><div class="content">the real UX goal is to minimize data loss (ie. provide the ability to resume whatever the user was doing, from a point that&#x27;s as recent as possible), and for this it becomes necessary to provide &quot;auto-save&quot;<p>at that point there&#x27;s already a diverging state problem, even if it&#x27;s saved to localStorage (but obviously it&#x27;s much better to save it on the server)<p>it&#x27;s absolutely ridiculous that we spent the last 10+ years simply reinventing the same wheel (all low-level tools, Angular, React, Vue, rxjs, hooks, signals, whatever, etc), without providing the useful composable primitives for the hard problems.<p>and now there&#x27;s yet one more thing on the frontend, SQLite. okay, there&#x27;s a sync thing too. it&#x27;s not like we didn&#x27;t try it with that adorable DB (RethinkDB).</div><br/><div id="38495165" class="c"><input type="checkbox" id="c-38495165" checked=""/><div class="controls bullet"><span class="by">_heimdall</span><span>|</span><a href="#38490392">root</a><span>|</span><a href="#38494212">parent</a><span>|</span><a href="#38494181">next</a><span>|</span><label class="collapse" for="c-38495165">[-]</label><label class="expand" for="c-38495165">[1 more]</label></div><br/><div class="children"><div class="content">&gt; the real UX goal is to minimize data loss<p>Can&#x27;t say I&#x27;ve been asked to build optimistic updates for that reason, but the irony there is pretty rich if that&#x27;s the UX goal you&#x27;ve seen it used for.<p>In my experience optimistic rendering actually creates more data loss risk than it solves. Caching layers are involved, state is duplicated, and routing comes into question as users could leave the page before a failure state is returned.</div><br/></div></div></div></div></div></div><div id="38494181" class="c"><input type="checkbox" id="c-38494181" checked=""/><div class="controls bullet"><span class="by">pas</span><span>|</span><a href="#38490392">root</a><span>|</span><a href="#38490493">parent</a><span>|</span><a href="#38490847">prev</a><span>|</span><a href="#38493574">next</a><span>|</span><label class="collapse" for="c-38494181">[-]</label><label class="expand" for="c-38494181">[1 more]</label></div><br/><div class="children"><div class="content">gmail makes you wait when you are deleting spam (ie. selecting a ~100 messages and clicking delete permanently, or how it&#x27;s called, and it&#x27;s surprisingly slow)</div><br/></div></div></div></div></div></div><div id="38493574" class="c"><input type="checkbox" id="c-38493574" checked=""/><div class="controls bullet"><span class="by">KolmogorovComp</span><span>|</span><a href="#38490392">prev</a><span>|</span><a href="#38491958">next</a><span>|</span><label class="collapse" for="c-38493574">[-]</label><label class="expand" for="c-38493574">[2 more]</label></div><br/><div class="children"><div class="content">How does this compare to using directly an ORM lib that supports browser like TypeORM [0] via SQL.js [1]?<p>[0] <a href="https:&#x2F;&#x2F;typeorm.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;typeorm.io&#x2F;</a>
[1] <a href="https:&#x2F;&#x2F;typeorm.io&#x2F;supported-platforms#browser" rel="nofollow noreferrer">https:&#x2F;&#x2F;typeorm.io&#x2F;supported-platforms#browser</a></div><br/><div id="38493685" class="c"><input type="checkbox" id="c-38493685" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38493574">parent</a><span>|</span><a href="#38491958">next</a><span>|</span><label class="collapse" for="c-38493685">[-]</label><label class="expand" for="c-38493685">[1 more]</label></div><br/><div class="children"><div class="content">Good question! You can use a ORM with SQLSync. Currently SQLSync doesn&#x27;t provide an ORM layer for two reasons:
  1. there are many that exist, it&#x27;s better to integrate
  2. it&#x27;s a prototype so I started with the lowest common denominator which is raw SQL.<p>SQL.js is an inspiring project in the space and led to official upstream support for compiling SQLite to Wasm. Without these projects SQLSync would have been much more difficult (akin to the original difficulty of SQL.js in the first place). That said, SQLSync is also unique from SQL.js in that it includes a synchronization layer that coordinates with the SQLSync server to provide real time collaboration between users.</div><br/></div></div></div></div><div id="38491958" class="c"><input type="checkbox" id="c-38491958" checked=""/><div class="controls bullet"><span class="by">vemv</span><span>|</span><a href="#38493574">prev</a><span>|</span><a href="#38489850">next</a><span>|</span><label class="collapse" for="c-38491958">[-]</label><label class="expand" for="c-38491958">[36 more]</label></div><br/><div class="children"><div class="content">This seems to be one of those problems that entirely disappears by ditching SPAs.<p>Using solutions from the Hotwire or htmx family would mean that a query is just a server query - making those fast is a better-understood problem.</div><br/><div id="38492522" class="c"><input type="checkbox" id="c-38492522" checked=""/><div class="controls bullet"><span class="by">threatofrain</span><span>|</span><a href="#38491958">parent</a><span>|</span><a href="#38492187">next</a><span>|</span><label class="collapse" for="c-38492522">[-]</label><label class="expand" for="c-38492522">[10 more]</label></div><br/><div class="children"><div class="content">This isn&#x27;t a problem of only websites. Should mobile and desktop ecosystems start making a big move for thin-client like the browser? Should a simple app like Apple Reminders or Google Tasks have the GUI pause if there are delays or connection issues?</div><br/><div id="38494694" class="c"><input type="checkbox" id="c-38494694" checked=""/><div class="controls bullet"><span class="by">theamk</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38492522">parent</a><span>|</span><a href="#38494190">next</a><span>|</span><label class="collapse" for="c-38494694">[-]</label><label class="expand" for="c-38494694">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Should a simple app like Apple Reminders or Google Tasks have the GUI pause if there are delays or connection issues?<p>Yes, they should, because I _need_ good feedback for connection issues.<p>I have not used those two specific apps, but for other &quot;online first&quot; apps it&#x27;s such a common problem. Open an app, type a note, switch back to a different app (or turn off your phone, or close laptop lid).<p>Later on, you want to access the note and it&#x27;s not there. Why? the authors decided to be &quot;smart&quot; and &quot;offline first&quot; and made sync in background, with no feedback, or with heavily delayed feedback... and I was walking out of wifi range when i was typing the note, so connection was spotty.<p>The OP&#x27;s demo TODO app has exactly the same problem - no indication when the data is already uploaded. So please, if your real goal is collaboration, let user know when you cannot perform it, don&#x27;t sweep it under the rug hoping the things would get uploaded eventually.</div><br/><div id="38494797" class="c"><input type="checkbox" id="c-38494797" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38494694">parent</a><span>|</span><a href="#38495219">next</a><span>|</span><label class="collapse" for="c-38494797">[-]</label><label class="expand" for="c-38494797">[1 more]</label></div><br/><div class="children"><div class="content">This is such solid feedback - and a frustration I have with offline first apps. In particular Obsidian sync has this problem which is made worse because it doesn&#x27;t seem to want to sync in the background. (other than that I love Obsidian - just would be nice to get some more feedback)<p>In regard to the TODO demo - I should totally add that. Thanks :)
<a href="https:&#x2F;&#x2F;github.com&#x2F;orbitinghail&#x2F;sqlsync&#x2F;issues&#x2F;31">https:&#x2F;&#x2F;github.com&#x2F;orbitinghail&#x2F;sqlsync&#x2F;issues&#x2F;31</a></div><br/></div></div><div id="38495219" class="c"><input type="checkbox" id="c-38495219" checked=""/><div class="controls bullet"><span class="by">slaymaker1907</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38494694">parent</a><span>|</span><a href="#38494797">prev</a><span>|</span><a href="#38494190">next</a><span>|</span><label class="collapse" for="c-38495219">[-]</label><label class="expand" for="c-38495219">[1 more]</label></div><br/><div class="children"><div class="content">I think my preference is that it works instantly, but have some sort of indicator that it is syncing working. Users should be able to see when it is safe to assume state is consistent with what is on the server.</div><br/></div></div></div></div><div id="38494190" class="c"><input type="checkbox" id="c-38494190" checked=""/><div class="controls bullet"><span class="by">whilenot-dev</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38492522">parent</a><span>|</span><a href="#38494694">prev</a><span>|</span><a href="#38493289">next</a><span>|</span><label class="collapse" for="c-38494190">[-]</label><label class="expand" for="c-38494190">[1 more]</label></div><br/><div class="children"><div class="content">Agree, it&#x27;s dealing with distributed systems all over and handling a very limited sandbox on the client side.<p>I think my sibling comments are completely underestimating the complexity and the market value here. Apple Reminders or Google Tasks are customer facing applications for single individuals, nobody but a single client is working at a time on their own data. Businesses on the other hand want their data at a central location and personnel close to the tasks using client applications. They don&#x27;t want any reliability issues in the client-server-communication blocking the work being done. Heck, businesses want to be able to throw more people at the same tasks and we call it collaborative editing.</div><br/></div></div><div id="38493289" class="c"><input type="checkbox" id="c-38493289" checked=""/><div class="controls bullet"><span class="by">vemv</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38492522">parent</a><span>|</span><a href="#38494190">prev</a><span>|</span><a href="#38493560">next</a><span>|</span><label class="collapse" for="c-38493289">[-]</label><label class="expand" for="c-38493289">[4 more]</label></div><br/><div class="children"><div class="content">Read-only access for coarse-grained pages (as opposed to building a fine-grained ad-hoc DB) seems something reasonable (and easy) to cache for any kind of frontend.<p>That would allow offline viewing to a variety of apps, regardless of approach.<p>Last time I checked Google Docs doesn&#x27;t primarily allow <i>editing</i> offline files, which hints how hard it is to support substantial features beyond mere reading.</div><br/><div id="38494599" class="c"><input type="checkbox" id="c-38494599" checked=""/><div class="controls bullet"><span class="by">threatofrain</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38493289">parent</a><span>|</span><a href="#38494160">next</a><span>|</span><label class="collapse" for="c-38494599">[-]</label><label class="expand" for="c-38494599">[1 more]</label></div><br/><div class="children"><div class="content">If I&#x27;m not mistaken, Google Docs has allowed offline editing for a very long time? You might have to enable an extension that comes default in Chrome. For offline-capable rich text collab there&#x27;s also Notion or Apple Notes.</div><br/></div></div><div id="38494160" class="c"><input type="checkbox" id="c-38494160" checked=""/><div class="controls bullet"><span class="by">chrisco255</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38493289">parent</a><span>|</span><a href="#38494599">prev</a><span>|</span><a href="#38494204">next</a><span>|</span><label class="collapse" for="c-38494160">[-]</label><label class="expand" for="c-38494160">[1 more]</label></div><br/><div class="children"><div class="content">That could just hint at complex legacy code that painted Docs into a corner and prevented them from easily supporting that feature without a full rewrite. No doubt the problem is challenging but just because Google didn&#x27;t do it for docs does not mean it&#x27;s necessarily some Herculean feat.</div><br/></div></div></div></div><div id="38493560" class="c"><input type="checkbox" id="c-38493560" checked=""/><div class="controls bullet"><span class="by">pphysch</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38492522">parent</a><span>|</span><a href="#38493289">prev</a><span>|</span><a href="#38492187">next</a><span>|</span><label class="collapse" for="c-38493560">[-]</label><label class="expand" for="c-38493560">[1 more]</label></div><br/><div class="children"><div class="content">The authorization story in letting the client upload a new version of the application database (after a drop in connectivity) sounds like a total nightmare.<p>I just don&#x27;t think there are &quot;embarrassingly client-side, but also needs a server for some reason&quot; web apps that would benefit from this in the real world. Even Google&#x27;s or Apple&#x27;s version of the simple Todo app has a lot of (useful) integrations, which means having some level of trust with the client.</div><br/></div></div></div></div><div id="38492187" class="c"><input type="checkbox" id="c-38492187" checked=""/><div class="controls bullet"><span class="by">myaccountonhn</span><span>|</span><a href="#38491958">parent</a><span>|</span><a href="#38492522">prev</a><span>|</span><a href="#38494368">next</a><span>|</span><label class="collapse" for="c-38492187">[-]</label><label class="expand" for="c-38492187">[6 more]</label></div><br/><div class="children"><div class="content">Recently gave htmx a spin. It is absolutely bananas how much complexity it removes and how much more productive you become as a result. The fact that you can use whatever stack you want is also such a blessing. I tried it with ocaml + web components and it’s a 10&#x2F;10 super productive experience. Only need one build tool that compiles faster than I can blink, no wiring needed between frontend and backend to map json, it is just insanely productive.</div><br/><div id="38494062" class="c"><input type="checkbox" id="c-38494062" checked=""/><div class="controls bullet"><span class="by">emmanueloga_</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38492187">parent</a><span>|</span><a href="#38494368">next</a><span>|</span><label class="collapse" for="c-38494062">[-]</label><label class="expand" for="c-38494062">[5 more]</label></div><br/><div class="children"><div class="content">I took a close look at htmx, and my impression is that the problems it addresses can be resolved with even fewer than its 4000 lines of JS [1], and without having to familiarize myself with its many opinionated approaches. The crux of the matter is to generate HTML on the server, as much as possible. I know how to achieve that without htmx.<p>The marketing materials for htmx are also a bit off-putting to me, and the authors seem to be enjoying fueling the flames of old and useless holy wars about what REST and hypermedia &quot;actually&quot; are, and how we all need to get back to basics, and remember to thank Ted Nelson before every meal, etc. Their online book spends something like 30 pages explaining what hypermedia is... [2]. I prefer not to sign up for a religion when I choose a JS framework (honestly, that&#x27;s a bit hard these days :-&#x2F;).<p>--<p>1: <a href="https:&#x2F;&#x2F;github.com&#x2F;bigskysoftware&#x2F;htmx&#x2F;blob&#x2F;master&#x2F;dist&#x2F;htmx.js">https:&#x2F;&#x2F;github.com&#x2F;bigskysoftware&#x2F;htmx&#x2F;blob&#x2F;master&#x2F;dist&#x2F;htmx...</a><p>2: <a href="https:&#x2F;&#x2F;hypermedia.systems&#x2F;hypermedia-reintroduction&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;hypermedia.systems&#x2F;hypermedia-reintroduction&#x2F;</a></div><br/><div id="38494696" class="c"><input type="checkbox" id="c-38494696" checked=""/><div class="controls bullet"><span class="by">recursivedoubts</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38494062">parent</a><span>|</span><a href="#38494562">next</a><span>|</span><label class="collapse" for="c-38494696">[-]</label><label class="expand" for="c-38494696">[3 more]</label></div><br/><div class="children"><div class="content">i don&#x27;t think htmx is very opinionated: it generalizes hypermedia controls in HTML and that&#x27;s about it.  No strong opinions on how you use it beyond that, can work reasonably well w&#x2F; any back-end that produces HTML.  The goal is to expand the set of UI use cases that can be cleanly expressed in HTML w&#x2F;o resorting to (user) scripting.<p>Yeah, htmx is 3800 LoC, and you could do an 80&#x2F;20 version of it for a lot less, but there are a lot of details to get right: history, collecting inputs, etc. plus, since it&#x27;s a general purpose library, it has an extensive event system, extension mechanism, etc.  There isn&#x27;t a ton of dead weight to drop, although 2.0 should be smaller as we drop some bad ideas in 1.x.<p>I don&#x27;t care too much about the holy wars around REST, I found them off-putting back in the day before I really understood the concept, but I am passionate about the uniform interface and communicating to developers why that was interesting and different.  I do go a bit hot at times, especially at twitter, but, on the other hand, if I didn&#x27;t, would you have ever heard of htmx?  I try to balance that all out w&#x2F; reasonable essays and the book, which, I think, is worthwhile for most web developers to read (it&#x27;s free online.)</div><br/><div id="38494936" class="c"><input type="checkbox" id="c-38494936" checked=""/><div class="controls bullet"><span class="by">emmanueloga_</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38494696">parent</a><span>|</span><a href="#38494562">next</a><span>|</span><label class="collapse" for="c-38494936">[-]</label><label class="expand" for="c-38494936">[2 more]</label></div><br/><div class="children"><div class="content">My tone was a bit strong—my bad! I appreciate your thoughtful response. I must add I realize running an OSS project and writing a book is a massive effort. Big respect for not just sharing ideas but actually implementing them.</div><br/><div id="38495743" class="c"><input type="checkbox" id="c-38495743" checked=""/><div class="controls bullet"><span class="by">recursivedoubts</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38494936">parent</a><span>|</span><a href="#38494562">next</a><span>|</span><label class="collapse" for="c-38495743">[-]</label><label class="expand" for="c-38495743">[1 more]</label></div><br/><div class="children"><div class="content">no problem at all, i get that htmx isn&#x27;t for everyone and certainly that the shitposting can be a bit much at times.  i appreciate your comment!</div><br/></div></div></div></div></div></div><div id="38494562" class="c"><input type="checkbox" id="c-38494562" checked=""/><div class="controls bullet"><span class="by">unlikelytomato</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38494062">parent</a><span>|</span><a href="#38494696">prev</a><span>|</span><a href="#38494368">next</a><span>|</span><label class="collapse" for="c-38494562">[-]</label><label class="expand" for="c-38494562">[1 more]</label></div><br/><div class="children"><div class="content">From where I sit, I welcome the opinionated approach. I don&#x27;t need my presentation layer to be industry defining.  Htmx allows me to quickly make pages in a way that has never been simple for me using other frameworks. I am primarily a backend engineer though.  Maybe there is some glaring weakness that I am missing, but I have yet to find something simpler for my needs.</div><br/></div></div></div></div></div></div><div id="38494368" class="c"><input type="checkbox" id="c-38494368" checked=""/><div class="controls bullet"><span class="by">apstats</span><span>|</span><a href="#38491958">parent</a><span>|</span><a href="#38492187">prev</a><span>|</span><a href="#38492111">next</a><span>|</span><label class="collapse" for="c-38494368">[-]</label><label class="expand" for="c-38494368">[1 more]</label></div><br/><div class="children"><div class="content">I think it disappears not when you move away from SPA&#x27;s but when you move away from some high interactivity features products that are amazing to use often have.<p>This especially becomes true for products that are expected to work in low internet zones.</div><br/></div></div><div id="38492111" class="c"><input type="checkbox" id="c-38492111" checked=""/><div class="controls bullet"><span class="by">reddalo</span><span>|</span><a href="#38491958">parent</a><span>|</span><a href="#38494368">prev</a><span>|</span><a href="#38496207">next</a><span>|</span><label class="collapse" for="c-38492111">[-]</label><label class="expand" for="c-38492111">[3 more]</label></div><br/><div class="children"><div class="content"><i>But</i>, if I can be honest, solutions such as Hotwire or Livewire are not as snappy as a SPA.<p>I personally prefer InertiaJs [1], which is some kind of front-end router system with its state synced with the server in an &quot;old style&quot; fashion.<p>[1] <a href="https:&#x2F;&#x2F;inertiajs.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;inertiajs.com</a></div><br/><div id="38493562" class="c"><input type="checkbox" id="c-38493562" checked=""/><div class="controls bullet"><span class="by">FridgeSeal</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38492111">parent</a><span>|</span><a href="#38496207">next</a><span>|</span><label class="collapse" for="c-38493562">[-]</label><label class="expand" for="c-38493562">[2 more]</label></div><br/><div class="children"><div class="content">I don’t know what SPA’s you have the pleasure of using, but most SPA’s I’m subjected to are an exercise in molasses like interactions and loading spinners.</div><br/><div id="38495536" class="c"><input type="checkbox" id="c-38495536" checked=""/><div class="controls bullet"><span class="by">qudat</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38493562">parent</a><span>|</span><a href="#38496207">next</a><span>|</span><label class="collapse" for="c-38495536">[-]</label><label class="expand" for="c-38495536">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, they are building SPAs incorrectly by relying on something like `react-query` which is waterfall rendering land.  People don&#x27;t truly understand the sacrifice they are making by using `react-query`.  It isn&#x27;t designed for large scale SPAs, it&#x27;s designed for small sites that just need to fetch a little data.</div><br/></div></div></div></div></div></div><div id="38496207" class="c"><input type="checkbox" id="c-38496207" checked=""/><div class="controls bullet"><span class="by">qudat</span><span>|</span><a href="#38491958">parent</a><span>|</span><a href="#38492111">prev</a><span>|</span><a href="#38495822">next</a><span>|</span><label class="collapse" for="c-38496207">[-]</label><label class="expand" for="c-38496207">[2 more]</label></div><br/><div class="children"><div class="content">“Just don’t have a highly interactive web app.”<p>“Just don’t run services that require more than one VM.”<p>It’s a ridiculous take.</div><br/><div id="38496708" class="c"><input type="checkbox" id="c-38496708" checked=""/><div class="controls bullet"><span class="by">vemv</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38496207">parent</a><span>|</span><a href="#38495822">next</a><span>|</span><label class="collapse" for="c-38496708">[-]</label><label class="expand" for="c-38496708">[1 more]</label></div><br/><div class="children"><div class="content">20 upvotes disagree.<p>SPAs are just a subset of all the JS we can possibly write - interactivity is not compromised.</div><br/></div></div></div></div><div id="38495822" class="c"><input type="checkbox" id="c-38495822" checked=""/><div class="controls bullet"><span class="by">barumrho</span><span>|</span><a href="#38491958">parent</a><span>|</span><a href="#38496207">prev</a><span>|</span><a href="#38493048">next</a><span>|</span><label class="collapse" for="c-38495822">[-]</label><label class="expand" for="c-38495822">[2 more]</label></div><br/><div class="children"><div class="content">Only for some class of websites with limited interactivity.<p>On iOS&#x2F;Android, before all the WebKit apps took over, many apps would use a local SQLite database to support offline edits and implement a syncing protocol to the server. It&#x27;s a lot of work, but the end product can be quite handy. (This is how you&#x27;d expect your email client to work, for example.)</div><br/><div id="38495870" class="c"><input type="checkbox" id="c-38495870" checked=""/><div class="controls bullet"><span class="by">vemv</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38495822">parent</a><span>|</span><a href="#38493048">next</a><span>|</span><label class="collapse" for="c-38495870">[-]</label><label class="expand" for="c-38495870">[1 more]</label></div><br/><div class="children"><div class="content">One could also argue, this class of websites is what the majority of the website&#x2F;webapp landscape should be.<p>An average SPA is, in the end, <i>a website</i> for most users. Take a payment form for instance - we had those 10, 20, 30 years ago, with 0.1x the effort.<p>Of course there&#x27;s place for fat client tech, but there are 1000 websites for each &#x27;email client&#x27; - exceptional cases often dominate the discussion.</div><br/></div></div></div></div><div id="38493048" class="c"><input type="checkbox" id="c-38493048" checked=""/><div class="controls bullet"><span class="by">skybrian</span><span>|</span><a href="#38491958">parent</a><span>|</span><a href="#38495822">prev</a><span>|</span><a href="#38492521">next</a><span>|</span><label class="collapse" for="c-38493048">[-]</label><label class="expand" for="c-38493048">[2 more]</label></div><br/><div class="children"><div class="content">It disappears if your customers have reliable networks, and they are either close enough to the datacenter that the database is in, or you have sufficiently smart database replication. So, often, the problem comes back, but you&#x27;re synchronizing between datacenters.<p>Running server-side does seem to be one of the problems SQLSync wants to handle? I wonder how well it does at that compared to other ways of doing it?</div><br/><div id="38493199" class="c"><input type="checkbox" id="c-38493199" checked=""/><div class="controls bullet"><span class="by">vemv</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38493048">parent</a><span>|</span><a href="#38492521">next</a><span>|</span><label class="collapse" for="c-38493199">[-]</label><label class="expand" for="c-38493199">[1 more]</label></div><br/><div class="children"><div class="content">Precisely an implied part of my point was, server-side caching, DB replication, CAP, etc are all relatively well-understood problems.<p>One can solve those without reinventing the database, as the article denounces.</div><br/></div></div></div></div><div id="38493492" class="c"><input type="checkbox" id="c-38493492" checked=""/><div class="controls bullet"><span class="by">gonzo41</span><span>|</span><a href="#38491958">parent</a><span>|</span><a href="#38492521">prev</a><span>|</span><a href="#38493167">next</a><span>|</span><label class="collapse" for="c-38493492">[-]</label><label class="expand" for="c-38493492">[1 more]</label></div><br/><div class="children"><div class="content">These people will be blown away by server side rendering. Caches in front of API&#x27;s and light weight front ends.</div><br/></div></div><div id="38493167" class="c"><input type="checkbox" id="c-38493167" checked=""/><div class="controls bullet"><span class="by">willsmith72</span><span>|</span><a href="#38491958">parent</a><span>|</span><a href="#38493492">prev</a><span>|</span><a href="#38496439">next</a><span>|</span><label class="collapse" for="c-38493167">[-]</label><label class="expand" for="c-38493167">[6 more]</label></div><br/><div class="children"><div class="content">i don&#x27;t get it, how does that solve the same problem for an interactive website?</div><br/><div id="38493217" class="c"><input type="checkbox" id="c-38493217" checked=""/><div class="controls bullet"><span class="by">vemv</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38493167">parent</a><span>|</span><a href="#38496439">next</a><span>|</span><label class="collapse" for="c-38493217">[-]</label><label class="expand" for="c-38493217">[5 more]</label></div><br/><div class="children"><div class="content">If you want new data, you just fetch it again from the server, and the server returns inherently-fresh data, reasonably fast, along with the HTML fragments necessary for a re-render (over ajax or websockets)</div><br/><div id="38496225" class="c"><input type="checkbox" id="c-38496225" checked=""/><div class="controls bullet"><span class="by">qudat</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38493217">parent</a><span>|</span><a href="#38493668">next</a><span>|</span><label class="collapse" for="c-38496225">[-]</label><label class="expand" for="c-38496225">[1 more]</label></div><br/><div class="children"><div class="content">You’re not explaining anything that an SPA can’t do and you’re missing everything that an SPA can do that htmx can’t.</div><br/></div></div><div id="38493668" class="c"><input type="checkbox" id="c-38493668" checked=""/><div class="controls bullet"><span class="by">willsmith72</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38493217">parent</a><span>|</span><a href="#38496225">prev</a><span>|</span><a href="#38496439">next</a><span>|</span><label class="collapse" for="c-38493668">[-]</label><label class="expand" for="c-38493668">[3 more]</label></div><br/><div class="children"><div class="content">i thought the whole premise of the article was that you don&#x27;t want to do that, you want to cache some stuff, and instead of writing the cache stuff (a db) yourself, use a real db in your frontend.<p>if you wanted to just fetch data from your server, it&#x27;s not a problem anyway, right? a spa can also just fetch fresh data from a server. the whole point of the frontend cache was optimising ux&#x2F;latency, e.g. for apps with global users but not globally deployed servers</div><br/><div id="38494110" class="c"><input type="checkbox" id="c-38494110" checked=""/><div class="controls bullet"><span class="by">pas</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38493668">parent</a><span>|</span><a href="#38496439">next</a><span>|</span><label class="collapse" for="c-38494110">[-]</label><label class="expand" for="c-38494110">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not a HTMX believer, so excuse my potential ignorance, but as far as I know the whole principle of HTMX is to keep things so simple that things cannot go out of sync. (Mostly because HTMX is basically a set of locally cute JS snippets helping with managing the very local interaction&#x2F;state of a &quot;user clicks button -&gt; JS disables button, sends request to backend, waits for response, puts response somewhere in the DOM, and re-enables the button (or removes it, etc)&quot;<p>everything else is simply HTML, &lt;a href.., routing is on the backend, etc.<p>and yes, the article is targeting the SPA crowd</div><br/><div id="38494255" class="c"><input type="checkbox" id="c-38494255" checked=""/><div class="controls bullet"><span class="by">willsmith72</span><span>|</span><a href="#38491958">root</a><span>|</span><a href="#38494110">parent</a><span>|</span><a href="#38496439">next</a><span>|</span><label class="collapse" for="c-38494255">[-]</label><label class="expand" for="c-38494255">[1 more]</label></div><br/><div class="children"><div class="content">so for a typical spa, you can:<p>1. always refetch data. always in sync, but needs a server request, so it&#x27;s slow.<p>2. cache some data on the client. faster, but you&#x27;re &quot;building your own database&quot;. can get out of sync (redux)<p>3. NEW: use SQLSync. fast, client &amp; server stay in sync, don&#x27;t have to &quot;build your own database&quot;<p>what you&#x27;re describing just seems like number 1, right?</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="38489850" class="c"><input type="checkbox" id="c-38489850" checked=""/><div class="controls bullet"><span class="by">matlin</span><span>|</span><a href="#38491958">prev</a><span>|</span><a href="#38492759">next</a><span>|</span><label class="collapse" for="c-38489850">[-]</label><label class="expand" for="c-38489850">[9 more]</label></div><br/><div class="children"><div class="content">I&#x27;m currently writing a very similar article about &quot;full-stack databases&quot; which  highlights the same pattern where many apps end recreating the logic of our backend and database in the frontend client code. The solution we&#x27;re promoting is to choose a database that can run on both the server and in the client and then sync between them.<p>The reason we aren&#x27;t using Sqlite for our product is because Sql is frankly not the right tool for querying data for an application. It doesn&#x27;t easily map to the data-structures you want in your client code and nearly all SQL databases have no way to subscribe to changes to a query without polling the query repeatedly.<p>So if you like the idea of having a complete database on your client but also want deep integration with Typescript&#x2F;Javascript check out what we&#x27;re building at <a href="https:&#x2F;&#x2F;github.com&#x2F;aspen-cloud&#x2F;triplit">https:&#x2F;&#x2F;github.com&#x2F;aspen-cloud&#x2F;triplit</a></div><br/><div id="38496939" class="c"><input type="checkbox" id="c-38496939" checked=""/><div class="controls bullet"><span class="by">cpursley</span><span>|</span><a href="#38489850">parent</a><span>|</span><a href="#38496367">next</a><span>|</span><label class="collapse" for="c-38496939">[-]</label><label class="expand" for="c-38496939">[1 more]</label></div><br/><div class="children"><div class="content">Actually, Postgres provides a great way to subscribe to real time changes via the WAL. I even maintain an open source library for this:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;cpursley&#x2F;walex">https:&#x2F;&#x2F;github.com&#x2F;cpursley&#x2F;walex</a></div><br/></div></div><div id="38496367" class="c"><input type="checkbox" id="c-38496367" checked=""/><div class="controls bullet"><span class="by">matharmin</span><span>|</span><a href="#38489850">parent</a><span>|</span><a href="#38496939">prev</a><span>|</span><a href="#38496341">next</a><span>|</span><label class="collapse" for="c-38496367">[-]</label><label class="expand" for="c-38496367">[1 more]</label></div><br/><div class="children"><div class="content">SQLite does actually provide the mechanisms required to listen for changes via update hooks. It&#x27;s unfortunate that many SQLite bindings don&#x27;t expose that. I&#x27;m using it in a very simple way - automatically rerun the query if data in the underlying table changes. It&#x27;s perhaps not as efficient as incrementally updating the results, but with how fast queries in SQLite usually are, I find that doesn&#x27;t really matter.</div><br/></div></div><div id="38496341" class="c"><input type="checkbox" id="c-38496341" checked=""/><div class="controls bullet"><span class="by">Hithredin</span><span>|</span><a href="#38489850">parent</a><span>|</span><a href="#38496367">prev</a><span>|</span><a href="#38495553">next</a><span>|</span><label class="collapse" for="c-38496341">[-]</label><label class="expand" for="c-38496341">[1 more]</label></div><br/><div class="children"><div class="content">Realm Sync, Mongo + Kotlin MP will cover basically all platforms (server, web, mobile, desktop)... at a cost. Actually interested by alternatives.
Will this be part of your article?</div><br/></div></div><div id="38495553" class="c"><input type="checkbox" id="c-38495553" checked=""/><div class="controls bullet"><span class="by">qudat</span><span>|</span><a href="#38489850">parent</a><span>|</span><a href="#38496341">prev</a><span>|</span><a href="#38491157">next</a><span>|</span><label class="collapse" for="c-38495553">[-]</label><label class="expand" for="c-38495553">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It doesn&#x27;t easily map to the data-structures you want in your client code<p>I disagree.  Normalizing data is critical for FE reactive applications, keeping data up-to-date basically requires it; all CRUD operations are much easier to handle.</div><br/></div></div><div id="38491157" class="c"><input type="checkbox" id="c-38491157" checked=""/><div class="controls bullet"><span class="by">culi</span><span>|</span><a href="#38489850">parent</a><span>|</span><a href="#38495553">prev</a><span>|</span><a href="#38489936">next</a><span>|</span><label class="collapse" for="c-38491157">[-]</label><label class="expand" for="c-38491157">[1 more]</label></div><br/><div class="children"><div class="content">I like the implications of this to a &quot;local first&quot; architecture</div><br/></div></div><div id="38489936" class="c"><input type="checkbox" id="c-38489936" checked=""/><div class="controls bullet"><span class="by">johnny22</span><span>|</span><a href="#38489850">parent</a><span>|</span><a href="#38491157">prev</a><span>|</span><a href="#38492759">next</a><span>|</span><label class="collapse" for="c-38489936">[-]</label><label class="expand" for="c-38489936">[3 more]</label></div><br/><div class="children"><div class="content">postgres has some capability to do that, but does need a server.</div><br/><div id="38490101" class="c"><input type="checkbox" id="c-38490101" checked=""/><div class="controls bullet"><span class="by">matlin</span><span>|</span><a href="#38489850">root</a><span>|</span><a href="#38489936">parent</a><span>|</span><a href="#38492759">next</a><span>|</span><label class="collapse" for="c-38490101">[-]</label><label class="expand" for="c-38490101">[2 more]</label></div><br/><div class="children"><div class="content">Yeah you can subscribe to overall changes to the data on a row by row basis but can&#x27;t subscribe to an actual query. Many apps and libraries imitate reactive queries by just refetching all queries from Postgres when any data changes or just repeatedly polling the query every 10 seconds or so but this puts a lot of strain on the database. You can just subscribe to the replication stream but then you&#x27;re left trying to reconstruct your queries in your application code which is extremely error prone and painful</div><br/><div id="38496959" class="c"><input type="checkbox" id="c-38496959" checked=""/><div class="controls bullet"><span class="by">cpursley</span><span>|</span><a href="#38489850">root</a><span>|</span><a href="#38490101">parent</a><span>|</span><a href="#38492759">next</a><span>|</span><label class="collapse" for="c-38496959">[-]</label><label class="expand" for="c-38496959">[1 more]</label></div><br/><div class="children"><div class="content">Could you explain in more detail the use case for subscribing to the actual queries (instead of the change events)?</div><br/></div></div></div></div></div></div></div></div><div id="38492759" class="c"><input type="checkbox" id="c-38492759" checked=""/><div class="controls bullet"><span class="by">swader999</span><span>|</span><a href="#38489850">prev</a><span>|</span><a href="#38489511">next</a><span>|</span><label class="collapse" for="c-38492759">[-]</label><label class="expand" for="c-38492759">[2 more]</label></div><br/><div class="children"><div class="content">My front end db would look a lot different than the back end. A lot of mutations involve submitting work and waiting for distributed jobs to roll up into some kind of partial answer. This worked, That part didn&#x27;t etc. Long running transactions, workflow that spans months until the final sign off.<p>I do need better in the moment state in the client though. Was looking at react query with perhaps websockets for cache invalidation. It&#x27;s nice to see this sqlsync idea too though to consider.</div><br/><div id="38492900" class="c"><input type="checkbox" id="c-38492900" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38492759">parent</a><span>|</span><a href="#38489511">next</a><span>|</span><label class="collapse" for="c-38492900">[-]</label><label class="expand" for="c-38492900">[1 more]</label></div><br/><div class="children"><div class="content">This is solid feedback. One integration I&#x27;m stoked to build&#x2F;find is some kind of durable job queue that can sync directly with SQLSync. Would be so nice to just commit a job request into the db and know it will eventually run and update the state. If anyone wants to experiment with this let me know! :)</div><br/></div></div></div></div><div id="38489511" class="c"><input type="checkbox" id="c-38489511" checked=""/><div class="controls bullet"><span class="by">yewenjie</span><span>|</span><a href="#38492759">prev</a><span>|</span><a href="#38493708">next</a><span>|</span><label class="collapse" for="c-38489511">[-]</label><label class="expand" for="c-38489511">[5 more]</label></div><br/><div class="children"><div class="content">Is this supposed to be run on the server? Then how does it really solve the frontend side of issues, I&#x27;m just trying to understand.</div><br/><div id="38489754" class="c"><input type="checkbox" id="c-38489754" checked=""/><div class="controls bullet"><span class="by">ranting-moth</span><span>|</span><a href="#38489511">parent</a><span>|</span><a href="#38489790">next</a><span>|</span><label class="collapse" for="c-38489754">[-]</label><label class="expand" for="c-38489754">[1 more]</label></div><br/><div class="children"><div class="content">I sometimes see interesting links on HN but when I click on them and skim through, I still have no idea what exactly it does. This is one of them.</div><br/></div></div><div id="38489790" class="c"><input type="checkbox" id="c-38489790" checked=""/><div class="controls bullet"><span class="by">hk__2</span><span>|</span><a href="#38489511">parent</a><span>|</span><a href="#38489754">prev</a><span>|</span><a href="#38490322">next</a><span>|</span><label class="collapse" for="c-38489790">[-]</label><label class="expand" for="c-38489790">[1 more]</label></div><br/><div class="children"><div class="content">It’s not exactly clear in the article, but there is a client part: <a href="https:&#x2F;&#x2F;github.com&#x2F;orbitinghail&#x2F;sqlsync&#x2F;blob&#x2F;main&#x2F;GUIDE.md">https:&#x2F;&#x2F;github.com&#x2F;orbitinghail&#x2F;sqlsync&#x2F;blob&#x2F;main&#x2F;GUIDE.md</a><p>&gt; Step 2: Install and configure the React library</div><br/></div></div><div id="38490322" class="c"><input type="checkbox" id="c-38490322" checked=""/><div class="controls bullet"><span class="by">jokethrowaway</span><span>|</span><a href="#38489511">parent</a><span>|</span><a href="#38489790">prev</a><span>|</span><a href="#38493708">next</a><span>|</span><label class="collapse" for="c-38490322">[-]</label><label class="expand" for="c-38490322">[2 more]</label></div><br/><div class="children"><div class="content">Not involved with the project but - this is a database which run client side and sync with a database on the server</div><br/><div id="38490864" class="c"><input type="checkbox" id="c-38490864" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38489511">root</a><span>|</span><a href="#38490322">parent</a><span>|</span><a href="#38493708">next</a><span>|</span><label class="collapse" for="c-38490864">[-]</label><label class="expand" for="c-38490864">[1 more]</label></div><br/><div class="children"><div class="content">Precisely! The same database (SQLite) is running on both the client and the server. SQLSync provides a custom storage layer to SQLite that keeps everything in sync. As changes are made locally (optimistically) they are synced into the cloud where they are eventually applied to the primary db replica. The clients subscribe to changes from the primary db and then rebase themselves to stay in sync.<p>I really need to write up a detailed overview of how this works! Thanks for the feedback!</div><br/></div></div></div></div></div></div><div id="38493708" class="c"><input type="checkbox" id="c-38493708" checked=""/><div class="controls bullet"><span class="by">zlies</span><span>|</span><a href="#38489511">prev</a><span>|</span><a href="#38495838">next</a><span>|</span><label class="collapse" for="c-38493708">[-]</label><label class="expand" for="c-38493708">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m trying to achieve something similar with SignalDB: <a href="https:&#x2F;&#x2F;signaldb.js.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;signaldb.js.org&#x2F;</a>
It uses signals for reactivity and is framework agnostic with a mongodb-like query syntax</div><br/></div></div><div id="38495838" class="c"><input type="checkbox" id="c-38495838" checked=""/><div class="controls bullet"><span class="by">chrisjc</span><span>|</span><a href="#38493708">prev</a><span>|</span><a href="#38493769">next</a><span>|</span><label class="collapse" for="c-38495838">[-]</label><label class="expand" for="c-38495838">[1 more]</label></div><br/><div class="children"><div class="content">Sorry for perhaps reducing what SQLSync does to any over simplistic description, but is it effectively applying the CRDT pattern on top of the client (SQLSync&#x2F;sqlite) and servers (Some OLTP) individual operation logs?<p>edit: I mean rebase, not CRDT</div><br/></div></div><div id="38493769" class="c"><input type="checkbox" id="c-38493769" checked=""/><div class="controls bullet"><span class="by">cheema33</span><span>|</span><a href="#38495838">prev</a><span>|</span><a href="#38490983">next</a><span>|</span><label class="collapse" for="c-38493769">[-]</label><label class="expand" for="c-38493769">[3 more]</label></div><br/><div class="children"><div class="content">I am getting the impression that this might work for small data sets.  Does it work for large data sets?  My webapp has to work with 100s of GBs of data in MS SQL Server.<p>Admittedly, I haven&#x27;t yet read the linked article.  But, I plan to.</div><br/><div id="38494214" class="c"><input type="checkbox" id="c-38494214" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38493769">parent</a><span>|</span><a href="#38494128">next</a><span>|</span><label class="collapse" for="c-38494214">[-]</label><label class="expand" for="c-38494214">[1 more]</label></div><br/><div class="children"><div class="content">Currently, SQLSync copies the entire SQLite database to every client. So in order to support large datasets you would need to split up the data over many databases. Some applications can do this, some can&#x27;t. It depends on the specific business and usage requirements.<p>Perhaps in the future, SQLSync will support partial replication which would enable this use case. As always there are trade-offs to consider with both approaches.</div><br/></div></div><div id="38494128" class="c"><input type="checkbox" id="c-38494128" checked=""/><div class="controls bullet"><span class="by">pas</span><span>|</span><a href="#38493769">parent</a><span>|</span><a href="#38494214">prev</a><span>|</span><a href="#38490983">next</a><span>|</span><label class="collapse" for="c-38494128">[-]</label><label class="expand" for="c-38494128">[1 more]</label></div><br/><div class="children"><div class="content">How much data a single user sees at a time?</div><br/></div></div></div></div><div id="38490983" class="c"><input type="checkbox" id="c-38490983" checked=""/><div class="controls bullet"><span class="by">padjo</span><span>|</span><a href="#38493769">prev</a><span>|</span><a href="#38493657">next</a><span>|</span><label class="collapse" for="c-38490983">[-]</label><label class="expand" for="c-38490983">[4 more]</label></div><br/><div class="children"><div class="content">Many times the thought “what if we just shipped the database to the client” has crossed my mind in large multi tenant apps where individual datasets were relatively small. I’ve never gone far with it as it seems sufficiently outside the norm to be a cursed architectural pattern. Would be nice to find out I was wrong.</div><br/><div id="38491139" class="c"><input type="checkbox" id="c-38491139" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38490983">parent</a><span>|</span><a href="#38493861">next</a><span>|</span><label class="collapse" for="c-38491139">[-]</label><label class="expand" for="c-38491139">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m also interested to find out if it&#x27;s cursed :) So far it&#x27;s been a lot better than I expected. Apps like <a href="https:&#x2F;&#x2F;sqlsync-todo.pages.dev" rel="nofollow noreferrer">https:&#x2F;&#x2F;sqlsync-todo.pages.dev</a> are trivialised with this pattern.<p>Tons of work to do in order to really prove it out though. But I&#x27;m pretty excited to keep pushing and see where this goes.</div><br/></div></div><div id="38493861" class="c"><input type="checkbox" id="c-38493861" checked=""/><div class="controls bullet"><span class="by">spacebanana7</span><span>|</span><a href="#38490983">parent</a><span>|</span><a href="#38491139">prev</a><span>|</span><a href="#38495282">next</a><span>|</span><label class="collapse" for="c-38493861">[-]</label><label class="expand" for="c-38493861">[1 more]</label></div><br/><div class="children"><div class="content">I once did this with a calorie counting app. Even with hundreds of thousands of foods in the database, the app took much less space than most media apps or games.</div><br/></div></div><div id="38495282" class="c"><input type="checkbox" id="c-38495282" checked=""/><div class="controls bullet"><span class="by">jacobsenscott</span><span>|</span><a href="#38490983">parent</a><span>|</span><a href="#38493861">prev</a><span>|</span><a href="#38493657">next</a><span>|</span><label class="collapse" for="c-38495282">[-]</label><label class="expand" for="c-38495282">[1 more]</label></div><br/><div class="children"><div class="content">The correct answer is to move the UI back to the server, where the database already is, and just send html to the client side html renderer (or &quot;web browser&quot;). This whole post is just &quot;front end and gone off the rails, over the cliff, and into the ocean.&quot;</div><br/></div></div></div></div><div id="38493657" class="c"><input type="checkbox" id="c-38493657" checked=""/><div class="controls bullet"><span class="by">foobarbecue</span><span>|</span><a href="#38490983">prev</a><span>|</span><a href="#38496169">next</a><span>|</span><label class="collapse" for="c-38493657">[-]</label><label class="expand" for="c-38493657">[1 more]</label></div><br/><div class="children"><div class="content">So this person is building meteor.js minimongo, but for sqlite. Awesome!</div><br/></div></div><div id="38496169" class="c"><input type="checkbox" id="c-38496169" checked=""/><div class="controls bullet"><span class="by">duck</span><span>|</span><a href="#38493657">prev</a><span>|</span><a href="#38493757">next</a><span>|</span><label class="collapse" for="c-38496169">[-]</label><label class="expand" for="c-38496169">[2 more]</label></div><br/><div class="children"><div class="content">Off-topic, but was these diagrams created by hand or is there an app that will make hand-drawn diagrams like this?</div><br/><div id="38496241" class="c"><input type="checkbox" id="c-38496241" checked=""/><div class="controls bullet"><span class="by">superfrank</span><span>|</span><a href="#38496169">parent</a><span>|</span><a href="#38493757">next</a><span>|</span><label class="collapse" for="c-38496241">[-]</label><label class="expand" for="c-38496241">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know what program the author used, but I&#x27;d be surprised if he did them by hand. Excalidraw (<a href="https:&#x2F;&#x2F;excalidraw.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;excalidraw.com&#x2F;</a>) will give a very similar feel.</div><br/></div></div></div></div><div id="38493757" class="c"><input type="checkbox" id="c-38493757" checked=""/><div class="controls bullet"><span class="by">socketcluster</span><span>|</span><a href="#38496169">prev</a><span>|</span><a href="#38494140">next</a><span>|</span><label class="collapse" for="c-38493757">[-]</label><label class="expand" for="c-38493757">[1 more]</label></div><br/><div class="children"><div class="content">I also built a similar serverless project but with a focus on no-code.<p>I built a support chat app with it (which we use ourselves) using only declarative HTML components. Supports both public chat and private chat with authentication.<p>It&#x27;s fully working now but I&#x27;m now focusing on walkthroughs&#x2F;guides.<p><a href="https:&#x2F;&#x2F;saasufy.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;saasufy.com&#x2F;</a></div><br/></div></div><div id="38494140" class="c"><input type="checkbox" id="c-38494140" checked=""/><div class="controls bullet"><span class="by">unoti</span><span>|</span><a href="#38493757">prev</a><span>|</span><a href="#38490069">next</a><span>|</span><label class="collapse" for="c-38494140">[-]</label><label class="expand" for="c-38494140">[1 more]</label></div><br/><div class="children"><div class="content">One other piece of prior art is Lotus Notes, in which the database was stored locally and synced in the background.  <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;HCL_Notes" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;HCL_Notes</a></div><br/></div></div><div id="38490069" class="c"><input type="checkbox" id="c-38490069" checked=""/><div class="controls bullet"><span class="by">pqdbr</span><span>|</span><a href="#38494140">prev</a><span>|</span><a href="#38491896">next</a><span>|</span><label class="collapse" for="c-38490069">[-]</label><label class="expand" for="c-38490069">[4 more]</label></div><br/><div class="children"><div class="content">Can someone explain me how it&#x27;s syncing the state between two different devices without any activity in the Network tab in DevTools, not even WS traffic?<p>I get that you can sync state between browser tabs, but I&#x27;m trying on two different devices (iPhone and Desktop).<p>And as far as I can tell, the Wasm layer can&#x27;t perform network requests directly.<p>UPDATE: In the console tab I can see &#x27;coordinatorUrl: &#x27;wss:&#x2F;&#x2F;sqlsync.orbitinghail.workers.dev&#x27;, but I was expecting to see this Websockets connection in the Network tab, and it isn&#x27;t.</div><br/><div id="38490818" class="c"><input type="checkbox" id="c-38490818" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38490069">parent</a><span>|</span><a href="#38490218">next</a><span>|</span><label class="collapse" for="c-38490818">[-]</label><label class="expand" for="c-38490818">[1 more]</label></div><br/><div class="children"><div class="content">Good catch! SQLSync runs in a shared worker to enable cross-tab reactivity and centralise both local storage and the replication system. You can inspect the worker at the magic url: chrome:&#x2F;&#x2F;inspect&#x2F;#workers</div><br/></div></div><div id="38490218" class="c"><input type="checkbox" id="c-38490218" checked=""/><div class="controls bullet"><span class="by">jasonjmcghee</span><span>|</span><a href="#38490069">parent</a><span>|</span><a href="#38490818">prev</a><span>|</span><a href="#38491896">next</a><span>|</span><label class="collapse" for="c-38490218">[-]</label><label class="expand" for="c-38490218">[2 more]</label></div><br/><div class="children"><div class="content">Websockets tracking in the browser can be weird. Try refreshing the page while you have WS selected in the Network tab</div><br/><div id="38490542" class="c"><input type="checkbox" id="c-38490542" checked=""/><div class="controls bullet"><span class="by">pqdbr</span><span>|</span><a href="#38490069">root</a><span>|</span><a href="#38490218">parent</a><span>|</span><a href="#38491896">next</a><span>|</span><label class="collapse" for="c-38490542">[-]</label><label class="expand" for="c-38490542">[1 more]</label></div><br/><div class="children"><div class="content">I did that!</div><br/></div></div></div></div></div></div><div id="38491896" class="c"><input type="checkbox" id="c-38491896" checked=""/><div class="controls bullet"><span class="by">m9t</span><span>|</span><a href="#38490069">prev</a><span>|</span><a href="#38490384">next</a><span>|</span><label class="collapse" for="c-38491896">[-]</label><label class="expand" for="c-38491896">[7 more]</label></div><br/><div class="children"><div class="content">Offline&#x2F;local-first based on SQLite seems hot right now. Third one I’m reading about this week. And it sounds good to me!<p>But how does it compare to ElectricSQL[1] and PowerSync[2]?<p>[1] <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;electric-sql.com&#x2F;</a>
[2] <a href="https:&#x2F;&#x2F;powersync.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;powersync.com&#x2F;</a></div><br/><div id="38492085" class="c"><input type="checkbox" id="c-38492085" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38491896">parent</a><span>|</span><a href="#38490384">next</a><span>|</span><label class="collapse" for="c-38492085">[-]</label><label class="expand" for="c-38492085">[6 more]</label></div><br/><div class="children"><div class="content">Indeed it&#x27;s a very hot space! So exciting to see all the different approaches.<p>ElectricSQL and PowerSync are both tackling the very hard problem of partial replication. The idea is to build a general solution which allows a traditional centralized db to bidirectionally sync only what&#x27;s needed on the client side - while still supporting optimistic mutations (and all the consistency&#x2F;conflict stuff that goes along with that).<p>The downside is implementation complexity. Both require the ability to keep track of precisely the set of data on each client in order to push out changes to only that subset of the overall database. In addition, specifying which subsets of the database state to pull down requires a new DSL and is a new thing to learn (and optimize). That said, I&#x27;m stoked they are taking on this extremely hard problem so when SQLSync is ready for partial replication someone will have already figured out the best practices.<p>SQLSync, on the other hand, only supports full db sync. So every client will see a consistent view of the entire database. You might immediately wonder if this is a good idea - and for some apps, it&#x27;s not. But consider a personal finance app. The main goal is cross device sync, cloud backup, offline capable, etc. In this case having the entire db stored on every device is probably what you want. Another example is a document oriented data model, such as Airtable. Each Airtable could be a distinct database, thus leaving it up to the client to manage which tables they care about.<p>(added in edit:) By focusing on full db sync, the sync engine is much simpler than solutions that support partial replication. One benefit of this is that the backend is very lightweight. Currently the demo (<a href="https:&#x2F;&#x2F;sqlsync-todo.pages.dev" rel="nofollow noreferrer">https:&#x2F;&#x2F;sqlsync-todo.pages.dev</a>) runs entirely within Cloudflare Durable Objects using very little storage and CPU time.<p>SQLSync has a ton of work to do to make these use cases possible (still very much a prototype), but my initial tests have been extremely promising. Hope this helps!<p>(edit: clarified language regarding centralized dbs and full db sync. Also added paragraph regarding full db sync)</div><br/><div id="38493362" class="c"><input type="checkbox" id="c-38493362" checked=""/><div class="controls bullet"><span class="by">rococosbasilisk</span><span>|</span><a href="#38491896">root</a><span>|</span><a href="#38492085">parent</a><span>|</span><a href="#38493083">next</a><span>|</span><label class="collapse" for="c-38493362">[-]</label><label class="expand" for="c-38493362">[3 more]</label></div><br/><div class="children"><div class="content">Phillip from PowerSync here, always good to see more people working on problems in this space.<p>A few things to clarify:<p>&gt;<i>one multi-tenant centralized db to bidirectionally sync</i><p>PowerSync supports syncing from multiple databases.<p>&gt;<i>The downside is complexity.</i><p>I&#x27;d say this is true if you&#x27;re building a partial replication system yourself. PowerSync gives you a ready-built system that&#x27;s been proven at scale and therefore  lets you avoid most of that complexity.<p>&gt;<i>SQLSync, on the other hand, is full db sync.</i><p>It&#x27;s just as easy to sync the full db with PowerSync as do partial sync.<p>Edit: formatting</div><br/><div id="38493545" class="c"><input type="checkbox" id="c-38493545" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38491896">root</a><span>|</span><a href="#38493362">parent</a><span>|</span><a href="#38493083">next</a><span>|</span><label class="collapse" for="c-38493545">[-]</label><label class="expand" for="c-38493545">[2 more]</label></div><br/><div class="children"><div class="content">Thanks for the clarifying points Phillip. I&#x27;m a big fan of PowerSync! Exciting to see you guys go after the partial replication problem.<p>I&#x27;ve adjusted my comment to be more clear and hopefully more fair. I didn&#x27;t mean to mis-imply anything about your service.</div><br/><div id="38493733" class="c"><input type="checkbox" id="c-38493733" checked=""/><div class="controls bullet"><span class="by">rococosbasilisk</span><span>|</span><a href="#38491896">root</a><span>|</span><a href="#38493545">parent</a><span>|</span><a href="#38493083">next</a><span>|</span><label class="collapse" for="c-38493733">[-]</label><label class="expand" for="c-38493733">[1 more]</label></div><br/><div class="children"><div class="content">No worries Carl, cheers!</div><br/></div></div></div></div></div></div><div id="38493083" class="c"><input type="checkbox" id="c-38493083" checked=""/><div class="controls bullet"><span class="by">goleary</span><span>|</span><a href="#38491896">root</a><span>|</span><a href="#38492085">parent</a><span>|</span><a href="#38493362">prev</a><span>|</span><a href="#38490384">next</a><span>|</span><label class="collapse" for="c-38493083">[-]</label><label class="expand" for="c-38493083">[2 more]</label></div><br/><div class="children"><div class="content">&gt;But consider a personal finance app. The main goal is cross device sync, cloud backup, offline capable, etc. In this case having the entire db stored on every device is probably what you want.<p>A bit confused by this. If I&#x27;m a developer of a PFM, I don&#x27;t want anything but a single user&#x27;s financial data synced to their device. This sounds like partial replication to me.</div><br/><div id="38493316" class="c"><input type="checkbox" id="c-38493316" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38491896">root</a><span>|</span><a href="#38493083">parent</a><span>|</span><a href="#38490384">next</a><span>|</span><label class="collapse" for="c-38493316">[-]</label><label class="expand" for="c-38493316">[1 more]</label></div><br/><div class="children"><div class="content">Precisely. In the SQLSync model - every user would have a private database just for their data. For example, this is how the todo list demo works: <a href="https:&#x2F;&#x2F;sqlsync-todo.pages.dev" rel="nofollow noreferrer">https:&#x2F;&#x2F;sqlsync-todo.pages.dev</a><p>(Note: currently SQLSync&#x27;s server tier doesn&#x27;t support auth, just random 128bit ids. Auth will come as it matures - but don&#x27;t use this for anything super secure at the moment).</div><br/></div></div></div></div></div></div></div></div><div id="38494300" class="c"><input type="checkbox" id="c-38494300" checked=""/><div class="controls bullet"><span class="by">swyx</span><span>|</span><a href="#38490384">prev</a><span>|</span><a href="#38490586">next</a><span>|</span><label class="collapse" for="c-38494300">[-]</label><label class="expand" for="c-38494300">[3 more]</label></div><br/><div class="children"><div class="content">as a frontend dev that went fullstack, i had a similar path too: <a href="https:&#x2F;&#x2F;dx.tips&#x2F;oops-database" rel="nofollow noreferrer">https:&#x2F;&#x2F;dx.tips&#x2F;oops-database</a></div><br/><div id="38494353" class="c"><input type="checkbox" id="c-38494353" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38494300">parent</a><span>|</span><a href="#38490586">next</a><span>|</span><label class="collapse" for="c-38494353">[-]</label><label class="expand" for="c-38494353">[2 more]</label></div><br/><div class="children"><div class="content">swyx! I can&#x27;t believe I missed this post. This is gold. Thanks for sharing!</div><br/><div id="38495280" class="c"><input type="checkbox" id="c-38495280" checked=""/><div class="controls bullet"><span class="by">swyx</span><span>|</span><a href="#38494300">root</a><span>|</span><a href="#38494353">parent</a><span>|</span><a href="#38490586">next</a><span>|</span><label class="collapse" for="c-38495280">[-]</label><label class="expand" for="c-38495280">[1 more]</label></div><br/><div class="children"><div class="content">haha yours is better. nice work and keep up the good fight. am in sf if you ever want to get coffee</div><br/></div></div></div></div></div></div><div id="38490586" class="c"><input type="checkbox" id="c-38490586" checked=""/><div class="controls bullet"><span class="by">athrowaway3z</span><span>|</span><a href="#38494300">prev</a><span>|</span><a href="#38491761">next</a><span>|</span><label class="collapse" for="c-38490586">[-]</label><label class="expand" for="c-38490586">[2 more]</label></div><br/><div class="children"><div class="content">This looks interesting and i might give it a try, but after watching the talk i&#x27;m still a bit unclear why you choose for wasm-in-wasm for the reducer.<p>I suspect you would be better off by creating a rust reducer trait, and lifting that wasm-in-wasm complexity into a new crate implementing the reducer trait through wasm-in-wasm for the people who want that.<p>But maybe i&#x27;m missing something.</div><br/><div id="38490753" class="c"><input type="checkbox" id="c-38490753" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38490586">parent</a><span>|</span><a href="#38491761">next</a><span>|</span><label class="collapse" for="c-38490753">[-]</label><label class="expand" for="c-38490753">[1 more]</label></div><br/><div class="children"><div class="content">Totally fair question. Nothing is set in stone - but this approach made it very easy for me to run precisely the same code on both a generic backend (CloudFlare Durable Objects) and in the frontend stack.<p>As for wasm-in-wasm specifically. It would be nice to experiment with the component model to load reducers alongside SQLSync - but the UX isn&#x27;t quite there yet.</div><br/></div></div></div></div><div id="38491761" class="c"><input type="checkbox" id="c-38491761" checked=""/><div class="controls bullet"><span class="by">svilen_dobrev</span><span>|</span><a href="#38490586">prev</a><span>|</span><a href="#38489721">next</a><span>|</span><label class="collapse" for="c-38491761">[-]</label><label class="expand" for="c-38491761">[1 more]</label></div><br/><div class="children"><div class="content">i used couchdb (on server, with touchdb on android and ios, pouchdb on web, ..) for this kind of thing. Clients were directly connected to cursors over the localdb. How and when that localdb was exchanging data with server-or-others, was not any more Client&#x27;s problem :)</div><br/></div></div><div id="38489721" class="c"><input type="checkbox" id="c-38489721" checked=""/><div class="controls bullet"><span class="by">HatchedLake721</span><span>|</span><a href="#38491761">prev</a><span>|</span><a href="#38493210">next</a><span>|</span><label class="collapse" for="c-38489721">[-]</label><label class="expand" for="c-38489721">[6 more]</label></div><br/><div class="children"><div class="content">Unless I misunderstood, feels like I’ve been doing this with Ember Data since ~2013.<p><a href="https:&#x2F;&#x2F;guides.emberjs.com&#x2F;release&#x2F;models&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;guides.emberjs.com&#x2F;release&#x2F;models&#x2F;</a><p>There’s also <a href="https:&#x2F;&#x2F;orbitjs.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;orbitjs.com&#x2F;</a></div><br/><div id="38491502" class="c"><input type="checkbox" id="c-38491502" checked=""/><div class="controls bullet"><span class="by">robocat</span><span>|</span><a href="#38489721">parent</a><span>|</span><a href="#38491404">next</a><span>|</span><label class="collapse" for="c-38491502">[-]</label><label class="expand" for="c-38491502">[4 more]</label></div><br/><div class="children"><div class="content">I think you have misunderstood?<p>The article is responding to the pattern of yet another custom data model and custom data API (à la Ember).<p>Instead provide an SQL database (the well proven SQLite) within the front end and use SQL to interact. And sync data from-to the backend DB.<p>Which one could then slap on a model or ORM layer on top of - should that be one&#x27;s bent.<p>It isn&#x27;t clear how they manage the subscription to data updates&#x2F;inserts&#x2F;deletions - it mentions supporting triggers, but that feels icky to me.</div><br/><div id="38491895" class="c"><input type="checkbox" id="c-38491895" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38489721">root</a><span>|</span><a href="#38491502">parent</a><span>|</span><a href="#38491404">next</a><span>|</span><label class="collapse" for="c-38491895">[-]</label><label class="expand" for="c-38491895">[3 more]</label></div><br/><div class="children"><div class="content">First, thanks!<p>&gt; It isn&#x27;t clear how they manage the subscription to data updates&#x2F;inserts&#x2F;deletions - it mentions supporting triggers, but that feels icky to me.<p>Architecture post coming soon. In the meantime, I want to clarify that SQLSync does not use triggers for sync. Instead, I hijack SQLites page storage and added page replication to it. Writes are consolidated through an API I call the &quot;reducer&quot; which allows SQLSync to keep track of which logical writes correspond to which sets of page changes. The actual sync is pretty dumb: we run the reducer on both the client and the server. The client replicates down server pages, and then periodically throws out local changes, resets to the server state, and then replays any mutations that haven&#x27;t yet been acked on the server.</div><br/><div id="38492306" class="c"><input type="checkbox" id="c-38492306" checked=""/><div class="controls bullet"><span class="by">frenchman99</span><span>|</span><a href="#38489721">root</a><span>|</span><a href="#38491895">parent</a><span>|</span><a href="#38491404">next</a><span>|</span><label class="collapse" for="c-38492306">[-]</label><label class="expand" for="c-38492306">[2 more]</label></div><br/><div class="children"><div class="content">You say things like &quot;X is pretty dumb&quot; and then go on saying stuff I don&#x27;t understand. Pretty annoying if you ask me.<p>And that&#x27;s despite me having worked with Cassandra, Kafka, Postgres and a variety of programming languages, DevOps tools, having worked with Vuejs and React.</div><br/><div id="38493603" class="c"><input type="checkbox" id="c-38493603" checked=""/><div class="controls bullet"><span class="by">mst</span><span>|</span><a href="#38489721">root</a><span>|</span><a href="#38492306">parent</a><span>|</span><a href="#38491404">next</a><span>|</span><label class="collapse" for="c-38493603">[-]</label><label class="expand" for="c-38493603">[1 more]</label></div><br/><div class="children"><div class="content">Could you clarify which of:<p>- page storage<p>- reducers<p>- replaying mutations<p>- acks<p>you&#x27;re unclear on?</div><br/></div></div></div></div></div></div></div></div><div id="38491404" class="c"><input type="checkbox" id="c-38491404" checked=""/><div class="controls bullet"><span class="by">no_wizard</span><span>|</span><a href="#38489721">parent</a><span>|</span><a href="#38491502">prev</a><span>|</span><a href="#38493210">next</a><span>|</span><label class="collapse" for="c-38491404">[-]</label><label class="expand" for="c-38491404">[1 more]</label></div><br/><div class="children"><div class="content">Ember.js has had more innovations contributed to modern framework ideas than any other framework, really.<p>EmberData, Ember Routing, Ember Multi Applications (can&#x27;t remember what its called, but its a precursor to microfrontends) all in one CLI tooling etc.<p>I could never understand what holds Ember back from being more used. I think it used to be performance but I think they addressed that with Glimmer many years ago.</div><br/></div></div></div></div><div id="38493210" class="c"><input type="checkbox" id="c-38493210" checked=""/><div class="controls bullet"><span class="by">crubier</span><span>|</span><a href="#38489721">prev</a><span>|</span><a href="#38494325">next</a><span>|</span><label class="collapse" for="c-38493210">[-]</label><label class="expand" for="c-38493210">[4 more]</label></div><br/><div class="children"><div class="content">This is very exciting, I really love the LoFi (Local first) wave.<p>The need to write the reducer in Rust for now is a big bummer. Rust is cool, but JS is easier to get started quick.<p>ElectricSQL is an alternative which is cool too.</div><br/><div id="38494657" class="c"><input type="checkbox" id="c-38494657" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#38493210">parent</a><span>|</span><a href="#38493218">next</a><span>|</span><label class="collapse" for="c-38494657">[-]</label><label class="expand" for="c-38494657">[2 more]</label></div><br/><div class="children"><div class="content">&gt; LoFi (Local first)<p>Are we set on this abbreviation? Cause it&#x27;s super confusing.</div><br/><div id="38497115" class="c"><input type="checkbox" id="c-38497115" checked=""/><div class="controls bullet"><span class="by">crubier</span><span>|</span><a href="#38493210">root</a><span>|</span><a href="#38494657">parent</a><span>|</span><a href="#38493218">next</a><span>|</span><label class="collapse" for="c-38497115">[-]</label><label class="expand" for="c-38497115">[1 more]</label></div><br/><div class="children"><div class="content">I agree it&#x27;s super confusing actually, lol. I&#x27;ve seen people using it and it&#x27;s cool, but a non-overloaded one would be better!</div><br/></div></div></div></div><div id="38493218" class="c"><input type="checkbox" id="c-38493218" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38493210">parent</a><span>|</span><a href="#38494657">prev</a><span>|</span><a href="#38494325">next</a><span>|</span><label class="collapse" for="c-38493218">[-]</label><label class="expand" for="c-38493218">[1 more]</label></div><br/><div class="children"><div class="content">Yea, 100% agree. I&#x27;m starting to figure out what that looks like in this issue: <a href="https:&#x2F;&#x2F;github.com&#x2F;orbitinghail&#x2F;sqlsync&#x2F;issues&#x2F;19">https:&#x2F;&#x2F;github.com&#x2F;orbitinghail&#x2F;sqlsync&#x2F;issues&#x2F;19</a></div><br/></div></div></div></div><div id="38494325" class="c"><input type="checkbox" id="c-38494325" checked=""/><div class="controls bullet"><span class="by">hot_gril</span><span>|</span><a href="#38493210">prev</a><span>|</span><a href="#38494232">next</a><span>|</span><label class="collapse" for="c-38494325">[-]</label><label class="expand" for="c-38494325">[2 more]</label></div><br/><div class="children"><div class="content">Coming from the backend world, I&#x27;ve only done small frontends that don&#x27;t get this complicated. Assuming there are legit reasons for a FE to have complex state, a relational database is probably one of the first things you need. It&#x27;s almost an automatic decision on a backend to have one, same should apply here. Using SQLite instead of Redux sounds reasonable.</div><br/><div id="38496034" class="c"><input type="checkbox" id="c-38496034" checked=""/><div class="controls bullet"><span class="by">qudat</span><span>|</span><a href="#38494325">parent</a><span>|</span><a href="#38494232">next</a><span>|</span><label class="collapse" for="c-38496034">[-]</label><label class="expand" for="c-38496034">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Using SQLite instead of Redux sounds reasonable.<p>The trick is reactivity.  `redux` handles surgically updating the view based state changes.  It&#x27;s not enough to have sqlite, you also need reactivity.  Further, apply strict types on top of sqlite&#x2F;SQL is another big challenge.</div><br/></div></div></div></div><div id="38494232" class="c"><input type="checkbox" id="c-38494232" checked=""/><div class="controls bullet"><span class="by">byteCoder</span><span>|</span><a href="#38494325">prev</a><span>|</span><label class="collapse" for="c-38494232">[-]</label><label class="expand" for="c-38494232">[2 more]</label></div><br/><div class="children"><div class="content">&quot;There are only two hard things in Computer Science: cache invalidation and naming things.&quot;<p>-- Phil Karlton</div><br/><div id="38494264" class="c"><input type="checkbox" id="c-38494264" checked=""/><div class="controls bullet"><span class="by">carlsverre</span><span>|</span><a href="#38494232">parent</a><span>|</span><label class="collapse" for="c-38494264">[-]</label><label class="expand" for="c-38494264">[1 more]</label></div><br/><div class="children"><div class="content">I was so tempted to put this quote in the post! One of my faves. I&#x27;m also a fan of all the different variations: <a href="https:&#x2F;&#x2F;martinfowler.com&#x2F;bliki&#x2F;TwoHardThings.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;martinfowler.com&#x2F;bliki&#x2F;TwoHardThings.html</a></div><br/></div></div></div></div></div></div></div></div></div></body></html>