<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1722070848590" as="style"/><link rel="stylesheet" href="styles.css?v=1722070848590"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.singleton.io/posts/2022-10-17-otp-on-wrist/">TOTP tokens on my wrist with the smartest dumb watch</a> <span class="domain">(<a href="https://blog.singleton.io">blog.singleton.io</a>)</span></div><div class="subtext"><span>alexmolas</span> | <span>24 comments</span></div><br/><div><div id="41085020" class="c"><input type="checkbox" id="c-41085020" checked=""/><div class="controls bullet"><span class="by">guenthert</span><span>|</span><a href="#41084194">next</a><span>|</span><label class="collapse" for="c-41085020">[-]</label><label class="expand" for="c-41085020">[2 more]</label></div><br/><div class="children"><div class="content">&gt; To add the secret to the watchface code, you need to convert it to hexadecimal bytes. This cryptii.com page will allow you to do that conversion. Note you’ll have to enter your TOTP secret in uppercase.<p>I wouldn&#x27;t be comfortable entering my TOTP secret into a random web page.  In Linux (Ubuntu here, probably other distributions as well) you might have the `base32` and `od` tools already installed (package &#x27;coreutils&#x27;).<p>Otherwise the project is awesome (just the watch is fugly :))</div><br/><div id="41085069" class="c"><input type="checkbox" id="c-41085069" checked=""/><div class="controls bullet"><span class="by">matheusmoreira</span><span>|</span><a href="#41085020">parent</a><span>|</span><a href="#41084194">next</a><span>|</span><label class="collapse" for="c-41085069">[-]</label><label class="expand" for="c-41085069">[1 more]</label></div><br/><div class="children"><div class="content">The board is also compatible with the A158W and A171W, they look much better.</div><br/></div></div></div></div><div id="41084194" class="c"><input type="checkbox" id="c-41084194" checked=""/><div class="controls bullet"><span class="by">pxx</span><span>|</span><a href="#41085020">prev</a><span>|</span><a href="#41084836">next</a><span>|</span><label class="collapse" for="c-41084194">[-]</label><label class="expand" for="c-41084194">[2 more]</label></div><br/><div class="children"><div class="content">if you&#x27;re wondering why you see a weird ⌍ symbol from time to time on the demo, it&#x27;s a &quot;small 7&quot; because the watch ties the top and bottom segments of the first and third digits (segments A and D) together.<p><a href="https:&#x2F;&#x2F;joeycastillo.github.io&#x2F;Sensor-Watch-Documentation&#x2F;wig&#x2F;display.html#limitations-of-the-clock-digits" rel="nofollow">https:&#x2F;&#x2F;joeycastillo.github.io&#x2F;Sensor-Watch-Documentation&#x2F;wi...</a><p>it&#x27;s really amazing how much efficiency they packed in this display. in normal use, these digits only need to display the numbers 0-5 [for the first digit, the clock only needs 0, 1, 2, but the chronometer goes up to 59:59.99], none of which need to distinguish between those segments. technically I guess the chronometer could have gone up to 69:59.99 without breaking anything though, but I guess &quot;one hour&quot; is sufficient? the numbers 8 and 9 also illuminate both the top and bottom segment, so it&#x27;s only 7 that is an issue.</div><br/><div id="41084873" class="c"><input type="checkbox" id="c-41084873" checked=""/><div class="controls bullet"><span class="by">slim</span><span>|</span><a href="#41084194">parent</a><span>|</span><a href="#41084836">next</a><span>|</span><label class="collapse" for="c-41084873">[-]</label><label class="expand" for="c-41084873">[1 more]</label></div><br/><div class="children"><div class="content">oddly specific objects is working on a advanced replacement lcd</div><br/></div></div></div></div><div id="41084836" class="c"><input type="checkbox" id="c-41084836" checked=""/><div class="controls bullet"><span class="by">Kwpolska</span><span>|</span><a href="#41084194">prev</a><span>|</span><a href="#41085012">next</a><span>|</span><label class="collapse" for="c-41084836">[-]</label><label class="expand" for="c-41084836">[1 more]</label></div><br/><div class="children"><div class="content">Having to recompile and reflash your wristwatch is probably going to limit the number of things you use TOTP for.</div><br/></div></div><div id="41085012" class="c"><input type="checkbox" id="c-41085012" checked=""/><div class="controls bullet"><span class="by">dvh</span><span>|</span><a href="#41084836">prev</a><span>|</span><a href="#41083782">next</a><span>|</span><label class="collapse" for="c-41085012">[-]</label><label class="expand" for="c-41085012">[7 more]</label></div><br/><div class="children"><div class="content">I used totp first time yesterday on GitHub and I don&#x27;t understand it&#x27;s point. I had to install otpclient app (from Ubuntu repository) where I typed 4 strings and it spit out one number which I typed back to GitHub. Attacker could do this as well, so the only thing totp does is to prove I can read and write. What am I missing here?</div><br/><div id="41085334" class="c"><input type="checkbox" id="c-41085334" checked=""/><div class="controls bullet"><span class="by">jmprspret</span><span>|</span><a href="#41085012">parent</a><span>|</span><a href="#41085055">next</a><span>|</span><label class="collapse" for="c-41085334">[-]</label><label class="expand" for="c-41085334">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Attacker could do this as well,<p>No they cannot. They should not&#x2F;will not be able to view that initial TOTP generation code. That is the &quot;secret&quot; that determines what digits are generated at one time.</div><br/></div></div><div id="41085055" class="c"><input type="checkbox" id="c-41085055" checked=""/><div class="controls bullet"><span class="by">SyrupThinker</span><span>|</span><a href="#41085012">parent</a><span>|</span><a href="#41085334">prev</a><span>|</span><a href="#41085041">next</a><span>|</span><label class="collapse" for="c-41085055">[-]</label><label class="expand" for="c-41085055">[1 more]</label></div><br/><div class="children"><div class="content">You are missing that the TOTP secret will only be presented once during setup.<p>It is now a second factor because you need to prove possession of the secret by entering the current TOTP code   during login.
It will not be presented again, so an attacker needs to have been able to intercept the initial secret exchange. (well or phish for it etc.)<p>You are usually prompted to enter the code during setup to ensure the secret has actually been put into some authenticator and is not immediately going to be lost.</div><br/></div></div><div id="41085041" class="c"><input type="checkbox" id="c-41085041" checked=""/><div class="controls bullet"><span class="by">deredede</span><span>|</span><a href="#41085012">parent</a><span>|</span><a href="#41085055">prev</a><span>|</span><a href="#41085035">next</a><span>|</span><label class="collapse" for="c-41085041">[-]</label><label class="expand" for="c-41085041">[1 more]</label></div><br/><div class="children"><div class="content">GitHub sent you those 4 strings while you were logged in and they are now stored on your computer. GitHub will not send them to an attacker that is not already logged in.</div><br/></div></div><div id="41085035" class="c"><input type="checkbox" id="c-41085035" checked=""/><div class="controls bullet"><span class="by">mercora</span><span>|</span><a href="#41085012">parent</a><span>|</span><a href="#41085041">prev</a><span>|</span><a href="#41083782">next</a><span>|</span><label class="collapse" for="c-41085035">[-]</label><label class="expand" for="c-41085035">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s supposed to be on another independent device.</div><br/><div id="41085052" class="c"><input type="checkbox" id="c-41085052" checked=""/><div class="controls bullet"><span class="by">deredede</span><span>|</span><a href="#41085012">root</a><span>|</span><a href="#41085035">parent</a><span>|</span><a href="#41083782">next</a><span>|</span><label class="collapse" for="c-41085052">[-]</label><label class="expand" for="c-41085052">[2 more]</label></div><br/><div class="children"><div class="content">Doesn&#x27;t have to be. While storing them on your computer does not protect you from an adversary with access to your computer, it still protects you against an advrsaey e that intercepts (or guesses, maybe after a breach) your password.</div><br/><div id="41085100" class="c"><input type="checkbox" id="c-41085100" checked=""/><div class="controls bullet"><span class="by">0x073</span><span>|</span><a href="#41085012">root</a><span>|</span><a href="#41085052">parent</a><span>|</span><a href="#41083782">next</a><span>|</span><label class="collapse" for="c-41085100">[-]</label><label class="expand" for="c-41085100">[1 more]</label></div><br/><div class="children"><div class="content">It doesnt have to be yes, but it&#x27;s called 2 factor auth because of the reason that your computer is 1 factor and another device is 2.<p>It won&#x27;t protect you from the intention 2fa was created.</div><br/></div></div></div></div></div></div></div></div><div id="41083782" class="c"><input type="checkbox" id="c-41083782" checked=""/><div class="controls bullet"><span class="by">agscala</span><span>|</span><a href="#41085012">prev</a><span>|</span><a href="#41083265">next</a><span>|</span><label class="collapse" for="c-41083782">[-]</label><label class="expand" for="c-41083782">[1 more]</label></div><br/><div class="children"><div class="content">This is awesome. I&#x27;ve always wished someone made something like this for one of Casio&#x27;s calculator watches</div><br/></div></div><div id="41083265" class="c"><input type="checkbox" id="c-41083265" checked=""/><div class="controls bullet"><span class="by">627467</span><span>|</span><a href="#41083782">prev</a><span>|</span><a href="#41085175">next</a><span>|</span><label class="collapse" for="c-41083265">[-]</label><label class="expand" for="c-41083265">[7 more]</label></div><br/><div class="children"><div class="content">I love this, and have thought of doing the same with a dumb smartwatch but... is it good opsec to have top so visible&#x2F;available? What about losing the watch or getting stolen?</div><br/><div id="41083301" class="c"><input type="checkbox" id="c-41083301" checked=""/><div class="controls bullet"><span class="by">0cf8612b2e1e</span><span>|</span><a href="#41083265">parent</a><span>|</span><a href="#41083310">next</a><span>|</span><label class="collapse" for="c-41083301">[-]</label><label class="expand" for="c-41083301">[3 more]</label></div><br/><div class="children"><div class="content">Unless the owner walks around proclaiming, “This is my second factor”, a casual observer is just going to think it is a broken watch.</div><br/><div id="41084249" class="c"><input type="checkbox" id="c-41084249" checked=""/><div class="controls bullet"><span class="by">hn92726819</span><span>|</span><a href="#41083265">root</a><span>|</span><a href="#41083301">parent</a><span>|</span><a href="#41084712">next</a><span>|</span><label class="collapse" for="c-41084249">[-]</label><label class="expand" for="c-41084249">[1 more]</label></div><br/><div class="children"><div class="content">Also the firmware supports multiple faces. The default face can just be the time</div><br/></div></div><div id="41084712" class="c"><input type="checkbox" id="c-41084712" checked=""/><div class="controls bullet"><span class="by">denysvitali</span><span>|</span><a href="#41083265">root</a><span>|</span><a href="#41083301">parent</a><span>|</span><a href="#41084249">prev</a><span>|</span><a href="#41083310">next</a><span>|</span><label class="collapse" for="c-41084712">[-]</label><label class="expand" for="c-41084712">[1 more]</label></div><br/><div class="children"><div class="content">This is why you create a blog post and share it with the world &#x2F;s</div><br/></div></div></div></div><div id="41083310" class="c"><input type="checkbox" id="c-41083310" checked=""/><div class="controls bullet"><span class="by">mcsniff</span><span>|</span><a href="#41083265">parent</a><span>|</span><a href="#41083301">prev</a><span>|</span><a href="#41085175">next</a><span>|</span><label class="collapse" for="c-41083310">[-]</label><label class="expand" for="c-41083310">[3 more]</label></div><br/><div class="children"><div class="content">Eh, I keep TOTP codes on my Pebble and am fine with it, they are labeled in such a way that doesn&#x27;t make it obvious what services they&#x27;re for.<p>There&#x27;s basically no lock mechanism or security on a Pebble, but it&#x27;s just a second factor.<p>If you have my randomly generated password, have done your intel to know I might have the TOTP on my wrist, and can physically steal my watch, you&#x27;ve got me beat and I&#x27;m okay with that for the convenience it provides.</div><br/><div id="41084767" class="c"><input type="checkbox" id="c-41084767" checked=""/><div class="controls bullet"><span class="by">collingreen</span><span>|</span><a href="#41083265">root</a><span>|</span><a href="#41083310">parent</a><span>|</span><a href="#41085175">next</a><span>|</span><label class="collapse" for="c-41084767">[-]</label><label class="expand" for="c-41084767">[2 more]</label></div><br/><div class="children"><div class="content">All security is a balance if the threat risk and the potential loss. I love that you have a mix that works for you while staying reasonable about it.<p>We all have terrible, terrible tumbler locks on our doors because they are good enough to stop the extremely casual attempts but anywhere with unbarred windows is one rock from &quot;unlocked&quot; and we&#x27;re generally fine with this for 99% of things.</div><br/><div id="41084781" class="c"><input type="checkbox" id="c-41084781" checked=""/><div class="controls bullet"><span class="by">eurleif</span><span>|</span><a href="#41083265">root</a><span>|</span><a href="#41084767">parent</a><span>|</span><a href="#41085175">next</a><span>|</span><label class="collapse" for="c-41084781">[-]</label><label class="expand" for="c-41084781">[1 more]</label></div><br/><div class="children"><div class="content">Security film is another option for windows.</div><br/></div></div></div></div></div></div></div></div><div id="41085175" class="c"><input type="checkbox" id="c-41085175" checked=""/><div class="controls bullet"><span class="by">senectus1</span><span>|</span><a href="#41083265">prev</a><span>|</span><a href="#41084977">next</a><span>|</span><label class="collapse" for="c-41085175">[-]</label><label class="expand" for="c-41085175">[1 more]</label></div><br/><div class="children"><div class="content">why cant i get this on my smartest smart watch?<p>Makes me want to go back to the old casio</div><br/></div></div><div id="41084977" class="c"><input type="checkbox" id="c-41084977" checked=""/><div class="controls bullet"><span class="by">matheusmoreira</span><span>|</span><a href="#41085175">prev</a><span>|</span><a href="#41083406">next</a><span>|</span><label class="collapse" for="c-41084977">[-]</label><label class="expand" for="c-41084977">[1 more]</label></div><br/><div class="children"><div class="content">Love this project, use it literally every day.<p>Not too long ago I implemented a new interface for defining the TOTP codes from within the source code. Unfortunately that work has invalidated the instructions in this article. It works like this now:<p><pre><code>  static totp_t credentials[] = {
    CREDENTIAL(2F, &quot;JBSWY3DPEHPK3PXP&quot;, SHA1, 30),
    CREDENTIAL(AC, &quot;JBSWY3DPEHPK3PXP&quot;, SHA1, 30),
  };
</code></pre>
<a href="https:&#x2F;&#x2F;github.com&#x2F;joeycastillo&#x2F;Sensor-Watch&#x2F;blob&#x2F;main&#x2F;movement&#x2F;watch_faces&#x2F;complication&#x2F;totp_face.c">https:&#x2F;&#x2F;github.com&#x2F;joeycastillo&#x2F;Sensor-Watch&#x2F;blob&#x2F;main&#x2F;movem...</a><p>I also added user calibration to the pulsometer in order to allow it to be used as an asthmometer. It has already helped save lives.<p>It&#x27;s also got calibration and thermal compensation features which enhance the watch&#x27;s accuracy to about 10 seconds per year.<p>It&#x27;s got a growing community. A lot of people have showed up to hack on the firmware. Recently someone made an endless runner game for the watch:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;joeycastillo&#x2F;Sensor-Watch&#x2F;pull&#x2F;419">https:&#x2F;&#x2F;github.com&#x2F;joeycastillo&#x2F;Sensor-Watch&#x2F;pull&#x2F;419</a><p>The maintainers are really nice people too.<p>If you&#x27;re looking for a great open source project to sink some time into, this is it.</div><br/></div></div><div id="41083406" class="c"><input type="checkbox" id="c-41083406" checked=""/><div class="controls bullet"><span class="by">hisamafahri</span><span>|</span><a href="#41084977">prev</a><span>|</span><label class="collapse" for="c-41083406">[-]</label><label class="expand" for="c-41083406">[1 more]</label></div><br/><div class="children"><div class="content">dang, this is so cool</div><br/></div></div></div></div></div></div></div></body></html>