<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1725094866376" as="style"/><link rel="stylesheet" href="styles.css?v=1725094866376"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.freecodecamp.org/news/react-compiler-complete-guide-react-19/">How to Use React Compiler</a> <span class="domain">(<a href="https://www.freecodecamp.org">www.freecodecamp.org</a>)</span></div><div class="subtext"><span>amalinovic</span> | <span>23 comments</span></div><br/><div><div id="41407110" class="c"><input type="checkbox" id="c-41407110" checked=""/><div class="controls bullet"><span class="by">eknkc</span><span>|</span><a href="#41407413">next</a><span>|</span><label class="collapse" for="c-41407110">[-]</label><label class="expand" for="c-41407110">[4 more]</label></div><br/><div class="children"><div class="content">The compiler is interesting.<p>I was expecting it to analyse dependencies and create automated useMemo calls around everything. I mean write regular, readable React code someone might write manually.<p>It does not do that, instead it creates a cache context. Something like a single useRef object and writes imperative code to check if a dependency has changed, look up the previous instance of a variable from the cache and use it etc. Also caches JSX segments and stuff.<p>This would work much faster I guess and would be easier to extend.<p>I assumed the svelte &#x2F; solid &#x2F; vue way of reactivity was the way forward for granular reactive apps. Avoiding unnecessary rerenders etc but the React compiler does a really good job and you get all the fine grained reactivity benefits for free. Without thinking about it in the code.<p>Optimizing compilers are neat.</div><br/><div id="41407184" class="c"><input type="checkbox" id="c-41407184" checked=""/><div class="controls bullet"><span class="by">spion</span><span>|</span><a href="#41407110">parent</a><span>|</span><a href="#41407413">next</a><span>|</span><label class="collapse" for="c-41407184">[-]</label><label class="expand" for="c-41407184">[3 more]</label></div><br/><div class="children"><div class="content">The one place where signal based fine-grained reactivity still wins are lists.<p>Updating the &quot;done&quot; state of a single todo item nested in a list of todo items still causes an entire list (of possibly hundreds of items) to re-render.<p>In principle you can solve this with fully normalized state shape but in practice things like MobX (especially when combined with SolidJS) still provide the best ergonomics and separation of concerns with very little compromise.<p>I&#x27;m however excited to see what kind of DX improvements the compiler can bring to the table. Perhaps someone will have a good idea and we&#x27;ll get something that&#x27;s at the level of MobX.</div><br/><div id="41407246" class="c"><input type="checkbox" id="c-41407246" checked=""/><div class="controls bullet"><span class="by">eknkc</span><span>|</span><a href="#41407110">root</a><span>|</span><a href="#41407184">parent</a><span>|</span><a href="#41407413">next</a><span>|</span><label class="collapse" for="c-41407246">[-]</label><label class="expand" for="c-41407246">[2 more]</label></div><br/><div class="children"><div class="content">Ok haven’t tested this but assuming a naive implementation of an array of 1000 items and setting completed: true in one of them by updating the array would trigger 1000 calls to the inner components.<p>If the react compiler is used, 999 of them will return their memoised result. 1 will need to be rendered again.<p>Which has an overhead but is still a huge gain compared to actually creating vnodes and diffing all render results for all items.<p>You are right, in case of fine grained reactivity, this could just trigger a render on the specific item. But for that to work, the framework will need to wire up 1000 subscriptions to prop changes, have proxy objects and shit like that. There is a larger initial overhead for that and the memoisation + brute force approach might be better at the end.</div><br/><div id="41407287" class="c"><input type="checkbox" id="c-41407287" checked=""/><div class="controls bullet"><span class="by">spion</span><span>|</span><a href="#41407110">root</a><span>|</span><a href="#41407246">parent</a><span>|</span><a href="#41407413">next</a><span>|</span><label class="collapse" for="c-41407287">[-]</label><label class="expand" for="c-41407287">[1 more]</label></div><br/><div class="children"><div class="content">The setup &#x2F; overhead is for the initial render, but after that I&#x27;d be surprised if O(N) defeats O(1) even with a bit of a bigger constant (given a sufficiently large N). Also, given React Fiber, I doubt that those 1000 calls will simply be function calls - I&#x27;d expect plenty of overhead on that end too.<p>Would be interesting to design a realistic benchmark around this. IIRC Michel Weststrate (the author of MobX) had a realistic example based on draggable elements on diagrams, where the diagram link lines needed to be recomputed in realtime as you drag the boxes around.<p>Another realisitc option would be large dashboards made of tables where lots of data updates come in real time.</div><br/></div></div></div></div></div></div></div></div><div id="41407413" class="c"><input type="checkbox" id="c-41407413" checked=""/><div class="controls bullet"><span class="by">dfgdfg34545456</span><span>|</span><a href="#41407110">prev</a><span>|</span><a href="#41407272">next</a><span>|</span><label class="collapse" for="c-41407413">[-]</label><label class="expand" for="c-41407413">[1 more]</label></div><br/><div class="children"><div class="content">If TC39 Signals are merged this will be redundant. Signals are better than this as they keep track of the tree and don&#x27;t do unnecessary traversals. With &#x27;automatic useMemo&#x27; (this), the tree still needs to be fully traversed.</div><br/></div></div><div id="41407272" class="c"><input type="checkbox" id="c-41407272" checked=""/><div class="controls bullet"><span class="by">steve_adams_86</span><span>|</span><a href="#41407413">prev</a><span>|</span><a href="#41407126">next</a><span>|</span><label class="collapse" for="c-41407272">[-]</label><label class="expand" for="c-41407272">[2 more]</label></div><br/><div class="children"><div class="content">That’s a great write up. I’ve been using SolidJS and hadn’t taken the time to soak in the compiler information, so this was a great time saver.<p>Although it’s nice not to worry as much about these optimizations (and I’m certainly not trying to put down the work that went into this compiler), something rubs me the wrong way about so much code generation sitting between the code I wrote and the state management I intended it to do.<p>I guess it’s because react has bitten me so much in this department in the past. I’m sure it’s smarter than I am, I doubt it’s wrong as often as I am, but it feels like it could potentially obfuscate issues or cause slight quirks that would be really, really difficult to debug. Of course it’s just an initial reaction rather than a rational concern based on an intimate understanding of the compiler.<p>Having said that, what the compiler does is different from what I expected but much simpler too. It’s easy enough to follow what it’s doing.<p>I’d like to see performance comparisons between apps with good state management practices without the compiler vs the same apps with no special state management and using the compiler. Is it worth this added complexity if you’re already familiar with React’s foot guns?</div><br/><div id="41407354" class="c"><input type="checkbox" id="c-41407354" checked=""/><div class="controls bullet"><span class="by">pzo</span><span>|</span><a href="#41407272">parent</a><span>|</span><a href="#41407126">next</a><span>|</span><label class="collapse" for="c-41407354">[-]</label><label class="expand" for="c-41407354">[1 more]</label></div><br/><div class="children"><div class="content">I worry about this too but I guess it all depends on tooling&#x2F;debugger - in native land this days you trust compiler and debugger and even code is in ASM everything just works so in react land this still should be possible to deliver similar experience.<p>Similar trends is in other declarative frameworks even on native such as SwiftUI - its easy to write complex gui but harder to debug and easier to shoot yourself in the foot. Its just harder to reason how declerative code will be executed in all corner cases and you have to trust compiler will do its magic. Overall for me it seems a lot of SwiftUI app feels much slower and even Apple developer from time to time shoot themself in the foot. We are just trading developer experience with performance and debugging.</div><br/></div></div></div></div><div id="41407126" class="c"><input type="checkbox" id="c-41407126" checked=""/><div class="controls bullet"><span class="by">dddan</span><span>|</span><a href="#41407272">prev</a><span>|</span><a href="#41406775">next</a><span>|</span><label class="collapse" for="c-41407126">[-]</label><label class="expand" for="c-41407126">[1 more]</label></div><br/><div class="children"><div class="content">that’s easy just call useReactCompiler<p>&#x2F;uj</div><br/></div></div><div id="41406775" class="c"><input type="checkbox" id="c-41406775" checked=""/><div class="controls bullet"><span class="by">Izkata</span><span>|</span><a href="#41407126">prev</a><span>|</span><a href="#41406737">next</a><span>|</span><label class="collapse" for="c-41406775">[-]</label><label class="expand" for="c-41406775">[9 more]</label></div><br/><div class="children"><div class="content">...finally?<p>This kind of automatic optimization was one of the reasons they pushed for function-based components ~6 years ago over class-based components.  One of the main points was &quot;you&#x27;ll no longer need to think about shouldComponentUpdate()&quot;.</div><br/><div id="41406854" class="c"><input type="checkbox" id="c-41406854" checked=""/><div class="controls bullet"><span class="by">mdhb</span><span>|</span><a href="#41406775">parent</a><span>|</span><a href="#41406737">next</a><span>|</span><label class="collapse" for="c-41406854">[-]</label><label class="expand" for="c-41406854">[8 more]</label></div><br/><div class="children"><div class="content">As someone who mostly works with standard OOP libraries &#x2F; frameworks (Lit and Flutter) I’ve always thought that the overwhelming MAJORITY of the arguments that came out of the React camp regarding why functions are the path forward were mostly just bullshit and after sitting on that for several years now I think that has held up fairly well at this point.<p>I quite regularly find myself looking over the fence as it were and genuinely can’t believe people would willingly work like that with the insane levels of complexity and nonsense that the React ecosystem has become in recent years.</div><br/><div id="41407189" class="c"><input type="checkbox" id="c-41407189" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#41406775">root</a><span>|</span><a href="#41406854">parent</a><span>|</span><a href="#41406891">next</a><span>|</span><label class="collapse" for="c-41407189">[-]</label><label class="expand" for="c-41407189">[1 more]</label></div><br/><div class="children"><div class="content">I’ve recently had to work with React after years away. When I’ve done web UI in the last few years I’ve used Svelte.<p>I honestly can’t believe everyone willingly marched into this weird hooks land. I’m sure you get used to it but compared to other frameworks it’s such a chore. The more I use React the more I feel like the maintainers <i>deliberately</i> make it different from other stuff so that people get trained in “React” rather than “JS” and it becomes its own world.</div><br/></div></div><div id="41406891" class="c"><input type="checkbox" id="c-41406891" checked=""/><div class="controls bullet"><span class="by">morbicer</span><span>|</span><a href="#41406775">root</a><span>|</span><a href="#41406854">parent</a><span>|</span><a href="#41407189">prev</a><span>|</span><a href="#41406892">next</a><span>|</span><label class="collapse" for="c-41406891">[-]</label><label class="expand" for="c-41406891">[2 more]</label></div><br/><div class="children"><div class="content">Disagree. Hooks with all their warts are superior way to share functionality over anything found in the class land.</div><br/><div id="41407205" class="c"><input type="checkbox" id="c-41407205" checked=""/><div class="controls bullet"><span class="by">mdhb</span><span>|</span><a href="#41406775">root</a><span>|</span><a href="#41406891">parent</a><span>|</span><a href="#41406892">next</a><span>|</span><label class="collapse" for="c-41407205">[-]</label><label class="expand" for="c-41407205">[1 more]</label></div><br/><div class="children"><div class="content">I find it weird that it’s supposedly such a huge improvement and yet people don’t seem particularly keen to copy the idea into other serious frameworks for the most part.<p>Looks vaguely like Stockholm Syndrome from the outside</div><br/></div></div></div></div><div id="41406892" class="c"><input type="checkbox" id="c-41406892" checked=""/><div class="controls bullet"><span class="by">golergka</span><span>|</span><a href="#41406775">root</a><span>|</span><a href="#41406854">parent</a><span>|</span><a href="#41406891">prev</a><span>|</span><a href="#41406737">next</a><span>|</span><label class="collapse" for="c-41406892">[-]</label><label class="expand" for="c-41406892">[4 more]</label></div><br/><div class="children"><div class="content">How so? For me, modern hook-based react is the most pleasant way to write UI&#x27;s I&#x27;ve ever used — and I used to do a lot of different UIs on different platforms. And transition from classes to hooks was an incredible improvement as well. When you read a function body, you know that declarations can only depend on previous ones. This makes it much easier to read and reason about the code, compared to a class body, where each member can access any other. This also makes it much easier to extract different pieces of functionality into separate hooks.</div><br/><div id="41407207" class="c"><input type="checkbox" id="c-41407207" checked=""/><div class="controls bullet"><span class="by">mdhb</span><span>|</span><a href="#41406775">root</a><span>|</span><a href="#41406892">parent</a><span>|</span><a href="#41406737">next</a><span>|</span><label class="collapse" for="c-41407207">[-]</label><label class="expand" for="c-41407207">[3 more]</label></div><br/><div class="children"><div class="content">What else have you actually used though?</div><br/><div id="41407254" class="c"><input type="checkbox" id="c-41407254" checked=""/><div class="controls bullet"><span class="by">golergka</span><span>|</span><a href="#41406775">root</a><span>|</span><a href="#41407207">parent</a><span>|</span><a href="#41406737">next</a><span>|</span><label class="collapse" for="c-41407254">[-]</label><label class="expand" for="c-41407254">[2 more]</label></div><br/><div class="children"><div class="content">Visual basic, Delphi, win32, flash, imgui, Unity GUI, iOS (Objective-C era, first half of 2010s), Android (also first half of 2010s), even curses, WPF. As far as JS frameworks go, raw jquery, Angular, React. When I was first learning HTML, the best ways to lay out a website&#x27;s structure was to use a table, often — with heavy use of iframes, so I can compare that to modern web development too.<p>And I wouldn&#x27;t write complex modern applications in anything else, unless there&#x27;s computationally heavy rendering going on. And even then, I would still try to keep other parts, like slower and not as expensive to render UI, in this paradigm.</div><br/><div id="41407412" class="c"><input type="checkbox" id="c-41407412" checked=""/><div class="controls bullet"><span class="by">mdhb</span><span>|</span><a href="#41406775">root</a><span>|</span><a href="#41407254">parent</a><span>|</span><a href="#41406737">next</a><span>|</span><label class="collapse" for="c-41407412">[-]</label><label class="expand" for="c-41407412">[1 more]</label></div><br/><div class="children"><div class="content">I don’t mean this with any snark at all because I’ve also used a bunch of those that you listed and remember those old school days well but I don’t think they are a fair comparison to modern approaches and I can see unironically how React would look great in comparison to them.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="41406500" class="c"><input type="checkbox" id="c-41406500" checked=""/><div class="controls bullet"><span class="by">JackYoustra</span><span>|</span><a href="#41406737">prev</a><span>|</span><label class="collapse" for="c-41406500">[-]</label><label class="expand" for="c-41406500">[4 more]</label></div><br/><div class="children"><div class="content">The react compiler is so cool!</div><br/><div id="41407029" class="c"><input type="checkbox" id="c-41407029" checked=""/><div class="controls bullet"><span class="by">revskill</span><span>|</span><a href="#41406500">parent</a><span>|</span><a href="#41406709">prev</a><span>|</span><label class="collapse" for="c-41407029">[-]</label><label class="expand" for="c-41407029">[2 more]</label></div><br/><div class="children"><div class="content">The autumn is cool, not a library.</div><br/><div id="41407245" class="c"><input type="checkbox" id="c-41407245" checked=""/><div class="controls bullet"><span class="by">phist_mcgee</span><span>|</span><a href="#41406500">root</a><span>|</span><a href="#41407029">parent</a><span>|</span><label class="collapse" for="c-41407245">[-]</label><label class="expand" for="c-41407245">[1 more]</label></div><br/><div class="children"><div class="content">Lame</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>