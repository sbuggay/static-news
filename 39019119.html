<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1705482060084" as="style"/><link rel="stylesheet" href="styles.css?v=1705482060084"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://status.kagi.com/issues/2024-01-12-kagi-down-on-some-regions/">Post-mortem for last week&#x27;s incident at Kagi</a> <span class="domain">(<a href="https://status.kagi.com">status.kagi.com</a>)</span></div><div class="subtext"><span>leetrout</span> | <span>117 comments</span></div><br/><div><div id="39020263" class="c"><input type="checkbox" id="c-39020263" checked=""/><div class="controls bullet"><span class="by">blantonl</span><span>|</span><a href="#39020201">next</a><span>|</span><label class="collapse" for="c-39020263">[-]</label><label class="expand" for="c-39020263">[15 more]</label></div><br/><div class="children"><div class="content"><i>At first, by what turned out to be a complete coincidence, the incident occurred at precisely the same time that we were performing an infrastructure upgrade to our VMs with additional RAM resources</i><p>I can assure you that these &quot;coincidences&quot; happen all the time, and will cause you to question your very existence when you are troubleshooting them.  And if you panic while questioning your very existence, you&#x27;ll invariably push a hotfix that breaks something else and then you are in a world of hurt. \<p>Muphy&#x27;s law is a cruel thing to sysadmins and developers.</div><br/><div id="39021429" class="c"><input type="checkbox" id="c-39021429" checked=""/><div class="controls bullet"><span class="by">JohnMakin</span><span>|</span><a href="#39020263">parent</a><span>|</span><a href="#39021738">next</a><span>|</span><label class="collapse" for="c-39021429">[-]</label><label class="expand" for="c-39021429">[1 more]</label></div><br/><div class="children"><div class="content">Completely agree. I’ve triaged many outages with varying degrees of severity in my career so far, and the worst ones were always caused by someone panic-jumping onto some red herring rather than coming up with a sensible explanation as to why that would be a fix other than “it happened at the same time.”<p>I have a saying I really like to throw around, which is “if you don’t know why&#x2F;how you fixed it, you may not have”</div><br/></div></div><div id="39021738" class="c"><input type="checkbox" id="c-39021738" checked=""/><div class="controls bullet"><span class="by">sa46</span><span>|</span><a href="#39020263">parent</a><span>|</span><a href="#39021429">prev</a><span>|</span><a href="#39020201">next</a><span>|</span><label class="collapse" for="c-39021738">[-]</label><label class="expand" for="c-39021738">[13 more]</label></div><br/><div class="children"><div class="content">Oh man, last week we had a small outage. Database queries took much longer than normal. I just so happened to be doing ad-hoc querying on the same table at the same time.<p>“Luckily”, the problem was unrelated to my querying but two coincidences are proper scary.</div><br/><div id="39022199" class="c"><input type="checkbox" id="c-39022199" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#39020263">root</a><span>|</span><a href="#39021738">parent</a><span>|</span><a href="#39020201">next</a><span>|</span><label class="collapse" for="c-39022199">[-]</label><label class="expand" for="c-39022199">[12 more]</label></div><br/><div class="children"><div class="content">nah, unless you were the intern, you should be safe<p>it&#x27;s like Star Trek where you&#x27;re fine unless you&#x27;re the one wearing the red shirt</div><br/><div id="39022267" class="c"><input type="checkbox" id="c-39022267" checked=""/><div class="controls bullet"><span class="by">ashton314</span><span>|</span><a href="#39020263">root</a><span>|</span><a href="#39022199">parent</a><span>|</span><a href="#39020201">next</a><span>|</span><label class="collapse" for="c-39022267">[-]</label><label class="expand" for="c-39022267">[11 more]</label></div><br/><div class="children"><div class="content">If I ever run a company, all the interns will get red shirts</div><br/><div id="39024431" class="c"><input type="checkbox" id="c-39024431" checked=""/><div class="controls bullet"><span class="by">V-eHGsd_</span><span>|</span><a href="#39020263">root</a><span>|</span><a href="#39022267">parent</a><span>|</span><a href="#39022893">next</a><span>|</span><label class="collapse" for="c-39024431">[-]</label><label class="expand" for="c-39024431">[1 more]</label></div><br/><div class="children"><div class="content">The contractor badges at google were red until at least 2015. And as it was explained to me, it was not a coincidence.</div><br/></div></div><div id="39022893" class="c"><input type="checkbox" id="c-39022893" checked=""/><div class="controls bullet"><span class="by">ok_dad</span><span>|</span><a href="#39020263">root</a><span>|</span><a href="#39022267">parent</a><span>|</span><a href="#39024431">prev</a><span>|</span><a href="#39020201">next</a><span>|</span><label class="collapse" for="c-39022893">[-]</label><label class="expand" for="c-39022893">[9 more]</label></div><br/><div class="children"><div class="content">Think about the optics of your funny joke. You’re saying you’ll advertise that the interns are replaceable fodder. Even if that’s true, it’s quite a dick move.</div><br/><div id="39022965" class="c"><input type="checkbox" id="c-39022965" checked=""/><div class="controls bullet"><span class="by">ethbr1</span><span>|</span><a href="#39020263">root</a><span>|</span><a href="#39022893">parent</a><span>|</span><a href="#39022969">next</a><span>|</span><label class="collapse" for="c-39022965">[-]</label><label class="expand" for="c-39022965">[2 more]</label></div><br/><div class="children"><div class="content">Or acknowledging that interns perform a valuable role and celebrating their selfless sacrifice of their very lives for the good of the company.<p>That we should all die such a noble corporate death, at the hands of a colleague possessed by strange galactic energies.</div><br/><div id="39023372" class="c"><input type="checkbox" id="c-39023372" checked=""/><div class="controls bullet"><span class="by">zer00eyz</span><span>|</span><a href="#39020263">root</a><span>|</span><a href="#39022965">parent</a><span>|</span><a href="#39022969">next</a><span>|</span><label class="collapse" for="c-39023372">[-]</label><label class="expand" for="c-39023372">[1 more]</label></div><br/><div class="children"><div class="content">Interns for the Crimson Permanent Assurance...<p>If you know you know, if you dont: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=aSO9OFJNMBA" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=aSO9OFJNMBA</a></div><br/></div></div></div></div><div id="39022969" class="c"><input type="checkbox" id="c-39022969" checked=""/><div class="controls bullet"><span class="by">PNewling</span><span>|</span><a href="#39020263">root</a><span>|</span><a href="#39022893">parent</a><span>|</span><a href="#39022965">prev</a><span>|</span><a href="#39020201">next</a><span>|</span><label class="collapse" for="c-39022969">[-]</label><label class="expand" for="c-39022969">[6 more]</label></div><br/><div class="children"><div class="content">It also could have just been a joke, not one they were actually going to put into practice...</div><br/><div id="39022977" class="c"><input type="checkbox" id="c-39022977" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#39020263">root</a><span>|</span><a href="#39022969">parent</a><span>|</span><a href="#39022986">next</a><span>|</span><label class="collapse" for="c-39022977">[-]</label><label class="expand" for="c-39022977">[1 more]</label></div><br/><div class="children"><div class="content">Some people just come across as the type of person totally not any fun to hang out with.</div><br/></div></div><div id="39022986" class="c"><input type="checkbox" id="c-39022986" checked=""/><div class="controls bullet"><span class="by">ok_dad</span><span>|</span><a href="#39020263">root</a><span>|</span><a href="#39022969">parent</a><span>|</span><a href="#39022977">prev</a><span>|</span><a href="#39020201">next</a><span>|</span><label class="collapse" for="c-39022986">[-]</label><label class="expand" for="c-39022986">[4 more]</label></div><br/><div class="children"><div class="content">I’ve seen enough brainless execs and startup founders around here that you have to take stupid ideas like that seriously. I hope it was a joke, but it’s not very funny for an intern.</div><br/><div id="39023747" class="c"><input type="checkbox" id="c-39023747" checked=""/><div class="controls bullet"><span class="by">DiggyJohnson</span><span>|</span><a href="#39020263">root</a><span>|</span><a href="#39022986">parent</a><span>|</span><a href="#39023183">next</a><span>|</span><label class="collapse" for="c-39023747">[-]</label><label class="expand" for="c-39023747">[2 more]</label></div><br/><div class="children"><div class="content">You definitely do not have to take stupid ideas like that seriously. Simply your life.</div><br/><div id="39023795" class="c"><input type="checkbox" id="c-39023795" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#39020263">root</a><span>|</span><a href="#39023747">parent</a><span>|</span><a href="#39023183">next</a><span>|</span><label class="collapse" for="c-39023795">[-]</label><label class="expand" for="c-39023795">[1 more]</label></div><br/><div class="children"><div class="content">A little more credit to people for making a funny and a little less assumptions that people are that boneheaded would make the world a better place to be sure. I know for one, I rather enjoy being able to see the humor and having a laugh rather than getting all enraged and venting on the internet to show some sort of self perceived superiority.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="39020201" class="c"><input type="checkbox" id="c-39020201" checked=""/><div class="controls bullet"><span class="by">muhammadusman</span><span>|</span><a href="#39020263">prev</a><span>|</span><a href="#39022299">next</a><span>|</span><label class="collapse" for="c-39020201">[-]</label><label class="expand" for="c-39020201">[21 more]</label></div><br/><div class="children"><div class="content">I was one of the users that went and reported this issue on Discord. I love Kagi but I was a bit disappointed to see that their status page showed everything was up and running. I think that made me a bit uneasy and it shows their status pages are not given priority during incidents that are affecting real users. I hope in the future the status page is accurately updated.<p>In the past, services I heavily rely on (e.g. Github), have updated their status pages immediately and this allows me to rest assured that people are aware of the issue and it&#x27;s not an issue with my devices. When this happened with Kagi, I was looking up the nearest grocery stores open since we were getting snow later that day so it was almost like I got let down b&#x2F;c I had to go to Google for this.<p>I will continue using Kagi b&#x2F;c 99.9% of the other time I&#x27;ve used it, it has been better than Google but I hope the authors of the post-mortem do mean it when they say they&#x27;ll be moving their status page code to a different service&#x2F;platform.<p>And thanks again Zac for being transparent and writing this up. This is part of good engineering!</div><br/><div id="39020444" class="c"><input type="checkbox" id="c-39020444" checked=""/><div class="controls bullet"><span class="by">Terretta</span><span>|</span><a href="#39020201">parent</a><span>|</span><a href="#39023156">next</a><span>|</span><label class="collapse" for="c-39020444">[-]</label><label class="expand" for="c-39020444">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>In the past, services I heavily rely on (e.g. Github), have updated their status pages immediately</i><p>Also in the past, other times GitHub has not updated its status page immediately.</div><br/></div></div><div id="39023156" class="c"><input type="checkbox" id="c-39023156" checked=""/><div class="controls bullet"><span class="by">phyzome</span><span>|</span><a href="#39020201">parent</a><span>|</span><a href="#39020444">prev</a><span>|</span><a href="#39020755">next</a><span>|</span><label class="collapse" for="c-39023156">[-]</label><label class="expand" for="c-39023156">[9 more]</label></div><br/><div class="children"><div class="content">As an engineer on call, I have been in this conversation so many times:<p>&quot;Hey, should we go red?&quot;
&quot;I don&#x27;t know, are we sure it&#x27;s an outage, or just a metrics issue?&quot;
&quot;How many users are affected again?&quot;
&quot;I can check, but I&#x27;m trying to read stack traces right now.&quot;
&quot;Look, can we just report the issue?&quot;
&quot;Not sure which services to list in the outage&quot;<p>...and so on. Basically, putting anything up on the status page is a conversation, and the conversation consumes engineer time and attention, and that&#x27;s more time before the incident is <i>resolved</i>. You have to balance communication and actually fixing the damn thing, and it&#x27;s not always clear what the right balance is.<p>If you have enough people, you can have a Technical Incident Manager handle the comms and you can throw additional engineers at the communications side of it, but that&#x27;s not always possible. (Some systems are niche, underdocumented, underinstrumented, etc.)<p>My personal preference? Throw up a big vague &quot;we&#x27;re investigating a possible problem&quot; at the first sign of trouble, and then fill in details (or retract it) at leisure. But none of the companies I&#x27;ve worked at like that idea, so... [shrug]</div><br/><div id="39024417" class="c"><input type="checkbox" id="c-39024417" checked=""/><div class="controls bullet"><span class="by">smsm42</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39023156">parent</a><span>|</span><a href="#39023344">next</a><span>|</span><label class="collapse" for="c-39024417">[-]</label><label class="expand" for="c-39024417">[1 more]</label></div><br/><div class="children"><div class="content">IMHO, any significant growth in 500s (that&#x27;s what I was getting during the outage) warrants mention on status page. I&#x27;ve seen a lot of stuff, so if I see an acknowledged outage, I&#x27;ll just wait for people to do their jobs. Stuff happens. If I see unacknowledged one, I get worried that people who need to know don&#x27;t and that undermines my confidence in the whole setup. I&#x27;d never complain if status page says maybe there&#x27;s a problem but I don&#x27;t see one. I will complain in the opposite case.</div><br/></div></div><div id="39023344" class="c"><input type="checkbox" id="c-39023344" checked=""/><div class="controls bullet"><span class="by">virtue3</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39023156">parent</a><span>|</span><a href="#39024417">prev</a><span>|</span><a href="#39024611">next</a><span>|</span><label class="collapse" for="c-39023344">[-]</label><label class="expand" for="c-39023344">[1 more]</label></div><br/><div class="children"><div class="content">I think your bit at the end is the most important.<p>ANY communication is better than no communication &quot;everything is fine, it must be you&quot; is the worst feeling in these cases.  Especially if your business is reliant on said service and you can&#x27;t figure out why you are borked (eg the github ones).</div><br/></div></div><div id="39024611" class="c"><input type="checkbox" id="c-39024611" checked=""/><div class="controls bullet"><span class="by">PeterStuer</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39023156">parent</a><span>|</span><a href="#39023344">prev</a><span>|</span><a href="#39024498">next</a><span>|</span><label class="collapse" for="c-39024611">[-]</label><label class="expand" for="c-39024611">[2 more]</label></div><br/><div class="children"><div class="content">And that is before &#x27;going red&#x27; has ties to performance metrics with SLA impacts ...</div><br/><div id="39025080" class="c"><input type="checkbox" id="c-39025080" checked=""/><div class="controls bullet"><span class="by">DANmode</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39024611">parent</a><span>|</span><a href="#39024498">next</a><span>|</span><label class="collapse" for="c-39025080">[-]</label><label class="expand" for="c-39025080">[1 more]</label></div><br/><div class="children"><div class="content">Which then means not going yellow or red technically constitutes fraud.</div><br/></div></div></div></div><div id="39024498" class="c"><input type="checkbox" id="c-39024498" checked=""/><div class="controls bullet"><span class="by">TeeWEE</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39023156">parent</a><span>|</span><a href="#39024611">prev</a><span>|</span><a href="#39020755">next</a><span>|</span><label class="collapse" for="c-39024498">[-]</label><label class="expand" for="c-39024498">[4 more]</label></div><br/><div class="children"><div class="content">Connect your status page to actual metrics and decide a treshold for downtime. Boom you’re done.</div><br/><div id="39024636" class="c"><input type="checkbox" id="c-39024636" checked=""/><div class="controls bullet"><span class="by">lrem</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39024498">parent</a><span>|</span><a href="#39020755">next</a><span>|</span><label class="collapse" for="c-39024636">[-]</label><label class="expand" for="c-39024636">[3 more]</label></div><br/><div class="children"><div class="content">Does anyone serious do this?<p>That’s an honest question, from a pretty experienced SRE.</div><br/><div id="39025005" class="c"><input type="checkbox" id="c-39025005" checked=""/><div class="controls bullet"><span class="by">darkwater</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39024636">parent</a><span>|</span><a href="#39020755">next</a><span>|</span><label class="collapse" for="c-39025005">[-]</label><label class="expand" for="c-39025005">[2 more]</label></div><br/><div class="children"><div class="content">In a world of unicorns and rainbows, absolutely. In the real world, it&#x27;s as you probably already know: it&#x27;s not that easy in a complex enough system.<p>Quick counter-example for GP: what if the 500 spike is due to a spike in malformed requests from a single (maybe malicious) user?</div><br/><div id="39025106" class="c"><input type="checkbox" id="c-39025106" checked=""/><div class="controls bullet"><span class="by">laeri</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39025005">parent</a><span>|</span><a href="#39020755">next</a><span>|</span><label class="collapse" for="c-39025106">[-]</label><label class="expand" for="c-39025106">[1 more]</label></div><br/><div class="children"><div class="content">A malformed request should not lead to a 500, they should be handled and validated.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39020755" class="c"><input type="checkbox" id="c-39020755" checked=""/><div class="controls bullet"><span class="by">lambdaba</span><span>|</span><a href="#39020201">parent</a><span>|</span><a href="#39023156">prev</a><span>|</span><a href="#39021835">next</a><span>|</span><label class="collapse" for="c-39020755">[-]</label><label class="expand" for="c-39020755">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m only replying to the praise here - I too, although I haven&#x27;t fully switched, had a very enticing moment with Kagi when it returned a result that couldn&#x27;t even be found on Google at any page in the results. This really sold me on Kagi and I&#x27;ve been going back and forth with some queries, but I have to say that between LLMs, Perplexity, and Google often answering my queries right on the search page, I just don&#x27;t have that many queries left for Kagi.<p>If Kagi would somehow merge with Perplexity, now that would be something.</div><br/><div id="39020935" class="c"><input type="checkbox" id="c-39020935" checked=""/><div class="controls bullet"><span class="by">spdif899</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39020755">parent</a><span>|</span><a href="#39021835">next</a><span>|</span><label class="collapse" for="c-39020935">[-]</label><label class="expand" for="c-39020935">[3 more]</label></div><br/><div class="children"><div class="content">Kagi does offer AI features in their higher subscription tier, including summary, research assistance, and a couple others. Plus I think they have basically a frontend for GPT-4 that uses their search engine for browsing, and they just added vision support to it today.<p>I don&#x27;t subscribe to those features or any AI tool yet, just pointing out there could be a version of Kagi that is able to replace your Chatgpt sub and save you money</div><br/><div id="39021228" class="c"><input type="checkbox" id="c-39021228" checked=""/><div class="controls bullet"><span class="by">lambdaba</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39020935">parent</a><span>|</span><a href="#39021835">next</a><span>|</span><label class="collapse" for="c-39021228">[-]</label><label class="expand" for="c-39021228">[2 more]</label></div><br/><div class="children"><div class="content">Is it as good as Perplexity though? I use ChatGPT for different purposes, I just thought that if Kagi would ally with Perplexity and benefit from its index (I&#x27;m not sure what Perplexity uses), it could get really good. I&#x27;ve only recently tried using Perplexity and I get more use out of it than I would with Kagi, it doesn&#x27;t just do summarization, but I haven&#x27;t seen what Kagi does with research assistance.</div><br/><div id="39022032" class="c"><input type="checkbox" id="c-39022032" checked=""/><div class="controls bullet"><span class="by">jci</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39021228">parent</a><span>|</span><a href="#39021835">next</a><span>|</span><label class="collapse" for="c-39022032">[-]</label><label class="expand" for="c-39022032">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s been a while since I&#x27;ve used Perplexity, but I&#x27;ve been finding the Kagi Assistant super useful. I&#x27;m on the ultimate plan, so I get access to the `Expert` assistant. It&#x27;s been pretty great.<p><a href="https:&#x2F;&#x2F;help.kagi.com&#x2F;kagi&#x2F;ai&#x2F;assistant.html" rel="nofollow">https:&#x2F;&#x2F;help.kagi.com&#x2F;kagi&#x2F;ai&#x2F;assistant.html</a></div><br/></div></div></div></div></div></div></div></div><div id="39021835" class="c"><input type="checkbox" id="c-39021835" checked=""/><div class="controls bullet"><span class="by">herpdyderp</span><span>|</span><a href="#39020201">parent</a><span>|</span><a href="#39020755">prev</a><span>|</span><a href="#39020672">next</a><span>|</span><label class="collapse" for="c-39021835">[-]</label><label class="expand" for="c-39021835">[1 more]</label></div><br/><div class="children"><div class="content">I envy your experiences with other services. I&#x27;ve <i>never</i> seen <i>any</i> service&#x27;s status page show downtime when or even soon after I start experiencing it. Often they simply never show it at all.</div><br/></div></div><div id="39020672" class="c"><input type="checkbox" id="c-39020672" checked=""/><div class="controls bullet"><span class="by">Neikius</span><span>|</span><a href="#39020201">parent</a><span>|</span><a href="#39021835">prev</a><span>|</span><a href="#39021844">next</a><span>|</span><label class="collapse" for="c-39020672">[-]</label><label class="expand" for="c-39020672">[2 more]</label></div><br/><div class="children"><div class="content">Microsoft is notorious for their lax status page updates...</div><br/><div id="39022668" class="c"><input type="checkbox" id="c-39022668" checked=""/><div class="controls bullet"><span class="by">wiml</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39020672">parent</a><span>|</span><a href="#39021844">next</a><span>|</span><label class="collapse" for="c-39022668">[-]</label><label class="expand" for="c-39022668">[1 more]</label></div><br/><div class="children"><div class="content">Is there anyone who <i>isn&#x27;t</i>?</div><br/></div></div></div></div><div id="39021844" class="c"><input type="checkbox" id="c-39021844" checked=""/><div class="controls bullet"><span class="by">NetOpWibby</span><span>|</span><a href="#39020201">parent</a><span>|</span><a href="#39020672">prev</a><span>|</span><a href="#39022299">next</a><span>|</span><label class="collapse" for="c-39021844">[-]</label><label class="expand" for="c-39021844">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s worth noting that the status page software they use doesn&#x27;t auto-update automatically.<p>&gt; Please note that with all that cState can do, it cannot do automatic monitoring out of the box.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;cstate&#x2F;cstate">https:&#x2F;&#x2F;github.com&#x2F;cstate&#x2F;cstate</a></div><br/><div id="39021876" class="c"><input type="checkbox" id="c-39021876" checked=""/><div class="controls bullet"><span class="by">ParetoOptimal</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39021844">parent</a><span>|</span><a href="#39022299">next</a><span>|</span><label class="collapse" for="c-39021876">[-]</label><label class="expand" for="c-39021876">[2 more]</label></div><br/><div class="children"><div class="content">I guess a status page that doesn&#x27;t auto-update is good for PR, but it&#x27;s not very useful to show... you know... the status.</div><br/><div id="39021994" class="c"><input type="checkbox" id="c-39021994" checked=""/><div class="controls bullet"><span class="by">NetOpWibby</span><span>|</span><a href="#39020201">root</a><span>|</span><a href="#39021876">parent</a><span>|</span><a href="#39022299">next</a><span>|</span><label class="collapse" for="c-39021994">[-]</label><label class="expand" for="c-39021994">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I thought that was weird. An auto-updating page is worth the constant pings to the infra IMHO.</div><br/></div></div></div></div></div></div></div></div><div id="39022299" class="c"><input type="checkbox" id="c-39022299" checked=""/><div class="controls bullet"><span class="by">rwiggins</span><span>|</span><a href="#39020201">prev</a><span>|</span><a href="#39024814">next</a><span>|</span><label class="collapse" for="c-39022299">[-]</label><label class="expand" for="c-39022299">[3 more]</label></div><br/><div class="children"><div class="content">Aaaahhh, it&#x27;s crazy how much this incident resonates with me!<p>I&#x27;ve personally handled this <i>exact</i> same kind of outage more times than I&#x27;d care to admit. And just like the fine folks at Kagi, I&#x27;ve fallen into the same rabbit hole (database connection pool health) and tried all the same mitigations - futilely throwing new instances at the problem, the belief that if I could just &quot;reset&quot; traffic it&#x27;d all be fixed, etc...<p>It doesn&#x27;t help that the <i>usual</i> saturation metrics (CPU%, IOPS, ...) for databases typically don&#x27;t move very much during outages like these. You see high query latency, sure, but you go looking and think: &quot;well, it still has CPU and IOPS headroom...&quot; without realizing, as always, lock contention lurks.<p>In my experience, 98% of the time, any weirdness with DB connection pools is a result of weirdness in the DB itself. Not sure what RDBMS Kagi&#x27;s running, but I&#x27;d highly recommend graphing global I&#x2F;O wait time (seconds per second) and global lock acquisition time (seconds per second) for the DB. And also query execution time (seconds per second) <i>per</i> (normalized) query. Add a CPU utilization chart and you&#x27;ve got a dashboard that will let you quickly identify most at-scale perf issues.<p>Separately: I&#x27;m a bit surprised that search queries trigger RDBMS writes. I would&#x27;ve figured the RDBMS would only be used for things like user settings, login management, etc. I wonder if Kagi&#x27;s doing usage accounting (e.g. incrementing a counter) in the RDBMS. That&#x27;d be an absolute classic failure mode at scale.</div><br/><div id="39022403" class="c"><input type="checkbox" id="c-39022403" checked=""/><div class="controls bullet"><span class="by">WhitneyLand</span><span>|</span><a href="#39022299">parent</a><span>|</span><a href="#39024814">next</a><span>|</span><label class="collapse" for="c-39022403">[-]</label><label class="expand" for="c-39022403">[2 more]</label></div><br/><div class="children"><div class="content">I was wondering the same thing.<p>They would have some writes  indirectly due to searches, say if someone chooses to block a search result. They’re also going to have some history and analytics surely.<p>But yeah it’s not obvious what should cause per search write lock contention…</div><br/><div id="39024411" class="c"><input type="checkbox" id="c-39024411" checked=""/><div class="controls bullet"><span class="by">rwiggins</span><span>|</span><a href="#39022299">root</a><span>|</span><a href="#39022403">parent</a><span>|</span><a href="#39024814">next</a><span>|</span><label class="collapse" for="c-39024411">[-]</label><label class="expand" for="c-39024411">[1 more]</label></div><br/><div class="children"><div class="content">You know, in retrospect, I think Kagi expects O(thousands) searches <i>per month</i> per user, so doing per-user usage accounting in the DB is fine -- thanks to row-level locking.<p>Well, at least until you get a user who does 60k &quot;in a short time period&quot;... :-)</div><br/></div></div></div></div></div></div><div id="39024814" class="c"><input type="checkbox" id="c-39024814" checked=""/><div class="controls bullet"><span class="by">dotnet00</span><span>|</span><a href="#39022299">prev</a><span>|</span><a href="#39020701">next</a><span>|</span><label class="collapse" for="c-39024814">[-]</label><label class="expand" for="c-39024814">[1 more]</label></div><br/><div class="children"><div class="content">This was fun to see playing out, it made me realize how I didn&#x27;t even think about how impressive it was that you guys (being a small team) were pushing out updates with very few bugs or visible downtime.<p>I didn&#x27;t mind the downtime, just gave me an excuse to take a break and focus on more casual coding.</div><br/></div></div><div id="39020701" class="c"><input type="checkbox" id="c-39020701" checked=""/><div class="controls bullet"><span class="by">louthy</span><span>|</span><a href="#39024814">prev</a><span>|</span><a href="#39019554">next</a><span>|</span><label class="collapse" for="c-39020701">[-]</label><label class="expand" for="c-39020701">[1 more]</label></div><br/><div class="children"><div class="content">This is something that every start-up company ends up going through at some point. I’ve been there and it’s painful!<p>Sometimes you just don’t have enough time or resource to build the capabilities that would stop an issue like this. Sometimes you didn’t even think a particular issue could even happen and it comes and bites you.<p>The transparency is important, the learning is important, but also (sometimes) the compensation is important.  Kagi should consider giving some search credits for the time that we were unable to use the service. Especially as the real-time response was inadequate (as they freely admit).<p>An outage for a paid-for service is not the same as an outage of a <i>you’re-the-product</i> service</div><br/></div></div><div id="39019554" class="c"><input type="checkbox" id="c-39019554" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#39020701">prev</a><span>|</span><a href="#39023935">next</a><span>|</span><label class="collapse" for="c-39019554">[-]</label><label class="expand" for="c-39019554">[24 more]</label></div><br/><div class="children"><div class="content">That speaks volumes about the observability they have of their internal systems. It&#x27;s easy for me to say they should have seen it sooner, but the right datadog dashboards and splunk queries should have made that clear as day much faster. Hopefully they take it as a learning experience and invest in better monitoring.</div><br/><div id="39019936" class="c"><input type="checkbox" id="c-39019936" checked=""/><div class="controls bullet"><span class="by">z64</span><span>|</span><a href="#39019554">parent</a><span>|</span><a href="#39020195">next</a><span>|</span><label class="collapse" for="c-39019936">[-]</label><label class="expand" for="c-39019936">[17 more]</label></div><br/><div class="children"><div class="content">Hi there, I&#x27;m Zac, Kagi&#x27;s tech lead &#x2F; author of the post-mortem etc.<p>This has 100% been a learning experience for us, but I can provide some finer context re: observability.<p>Kagi is a small team. The number of staff we have capable of responding to an event like this is essentially 3 people, seated across 3 timezones. For myself and my right-hand dev, this is actually our very first step in our web careers - this is to say that we are not some SV vets who have seen it all already. To say that we have a lot to learn is a given, from building Kagi from nothing though, I am proud of how far we&#x27;ve come &amp; where we&#x27;re going.<p>Observability is something we started taking more seriously in the past 6 months or so. We have tons of dashboards now, and alerts that go right to our company chat channels and ping relevant people. And as the primary owner of our DB, GCP&#x27;s query insights are a godsend. During the incident both our monitoring went off, as well as query insights showing the &quot;culprit&quot; query - but, we could have monitoring in the world, and still lack the experience to interpret it and understand what the root cause is or most efficient action to mitigate is.<p>In other words, we don&#x27;t have the wisdom yet to not be &quot;gaslit&quot; by our own systems if we&#x27;re not careful. Only in hindsight can I say that GCP&#x27;s query insights was 100% on the money, and not some bug in application space.<p>All said, our growth has enabled us to expand our team quite a bit now. We have had SRE consultations before, and intend to bring on more full or part-time support to help keep things moving forward.</div><br/><div id="39020379" class="c"><input type="checkbox" id="c-39020379" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39019936">parent</a><span>|</span><a href="#39020654">next</a><span>|</span><label class="collapse" for="c-39020379">[-]</label><label class="expand" for="c-39020379">[3 more]</label></div><br/><div class="children"><div class="content">Hi Zac, thank you for chiming in here.  Been using Kagi since the private beta, and have been overwhelmingly impressed by the service since I first used it.<p>Don&#x27;t worry too much about all the people being harsh in the comments here.  There&#x27;s always a tendency for HN users to pile on with criticism whenever anyone has an outage.<p>I&#x27;ve always found this bizarre, because I&#x27;ve worked at places with worse issues, and more holes in monitoring or whatever than a lot of the companies that get skewered here.  Perhaps many of us are just insecure about our own infra and project our feeling onto other companies when they have outages.<p>Y&#x27;all are doing fine, and I think it&#x27;s to your credit that you&#x27;re able to run Kagi&#x27;s users table off a single, fairly cheap primary database instance.  I&#x27;ve worked at places that haven&#x27;t much thought to optimization, and &quot;solve&quot; scaling problems by throwing more and bigger hardware at it, and then wonder later on why they&#x27;re bleeding cash on infrastructure.  Of course, by that point, those inefficiencies are much more difficult to fix.<p>As for monitoring, unfortunately sometimes you don&#x27;t know everything you need to monitor until something bad happens because your monitoring was missing something critical that you didn&#x27;t realize was critical.  That&#x27;s fine; seems like y&#x27;all are aware and are plugging those holes.  I&#x27;m sure there will be more of those holes in the future, that&#x27;s just life.<p>At any rate, keep doing what you&#x27;re doing, and I know the next time you get hit with something bad, things will be a bit better.</div><br/><div id="39020467" class="c"><input type="checkbox" id="c-39020467" checked=""/><div class="controls bullet"><span class="by">z64</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39020379">parent</a><span>|</span><a href="#39022470">next</a><span>|</span><label class="collapse" for="c-39020467">[-]</label><label class="expand" for="c-39020467">[1 more]</label></div><br/><div class="children"><div class="content">Very kind, thank you! (and everyone else too, many heartwarming replies)</div><br/></div></div><div id="39022470" class="c"><input type="checkbox" id="c-39022470" checked=""/><div class="controls bullet"><span class="by">Tempest1981</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39020379">parent</a><span>|</span><a href="#39020467">prev</a><span>|</span><a href="#39020654">next</a><span>|</span><label class="collapse" for="c-39022470">[-]</label><label class="expand" for="c-39022470">[1 more]</label></div><br/><div class="children"><div class="content">&gt; people being harsh in the comments here<p>I&#x27;ve read most of the comments here, and don&#x27;t recall anything negative, just supportive.</div><br/></div></div></div></div><div id="39020654" class="c"><input type="checkbox" id="c-39020654" checked=""/><div class="controls bullet"><span class="by">tetha</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39019936">parent</a><span>|</span><a href="#39020379">prev</a><span>|</span><a href="#39020141">next</a><span>|</span><label class="collapse" for="c-39020654">[-]</label><label class="expand" for="c-39020654">[2 more]</label></div><br/><div class="children"><div class="content">Mh, I work quite a bit in the OPs-side and monitoring and observability are part of my job, for a bit of time now too.<p>I&#x27;ll say: Effective observability, monitoring and alerting of complex systems is a really hard problem.<p>Like, you look at a graph of a metric, and there are spikes. But... are the spikes even abnormal? Are the spikes caused by the layer below, because our storage array is failing? Are the spikes caused by ... well also the storage layer.. because the application is slamming the database with bullshit queries? Or maybe your data is collected incorrectly. Or you select the wrong data, which is then summarized misleadingly.<p>Been in most of these situations. The monitoring means everything, and nothing, at the same time.<p>And in the application case, little common industry wisdom will help you. Yes, your in-house code is slamming the database with crap, and thus all the layers in between are saturating and people are angry. I guess you&#x27;d add monitoring and instrumentation... while production is down.<p>At that point, I think we&#x27;re at a similar point of &quot;Safety rules are written in blood&quot; - &quot;the most effective monitoring boards are found while prod is down&quot;.<p>And that&#x27;s just the road to find the function in code that&#x27;s a problem. That&#x27;s when product tells you how this is critical to a business critical customer.</div><br/><div id="39024152" class="c"><input type="checkbox" id="c-39024152" checked=""/><div class="controls bullet"><span class="by">callalex</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39020654">parent</a><span>|</span><a href="#39020141">next</a><span>|</span><label class="collapse" for="c-39024152">[-]</label><label class="expand" for="c-39024152">[1 more]</label></div><br/><div class="children"><div class="content">Running voodoo analysis on graph spikes is indeed a fool’s errand. What you really need is load testing on every component of your system, and alerts for when you approach known, tested limits. Of course this is easier said than done and things will still be missed, but I’ve done both approaches and only one of them had pagers needlessly waking me in the middle of the night enough to go on sleepless swearing rants to coworkers.</div><br/></div></div></div></div><div id="39020141" class="c"><input type="checkbox" id="c-39020141" checked=""/><div class="controls bullet"><span class="by">primitivesuave</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39019936">parent</a><span>|</span><a href="#39020654">prev</a><span>|</span><a href="#39021426">next</a><span>|</span><label class="collapse" for="c-39020141">[-]</label><label class="expand" for="c-39020141">[1 more]</label></div><br/><div class="children"><div class="content">I really appreciate you sharing these candid insights. Let me tell you (after over a decade of deploying cloud services), some rogue user will always figure out how to throw an unforeseen wrench into your system as the service gets more popular. Even worse than an outage is when someone figures out how to explode your cloud computing costs :)</div><br/></div></div><div id="39021426" class="c"><input type="checkbox" id="c-39021426" checked=""/><div class="controls bullet"><span class="by">alberth</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39019936">parent</a><span>|</span><a href="#39020141">prev</a><span>|</span><a href="#39020038">next</a><span>|</span><label class="collapse" for="c-39021426">[-]</label><label class="expand" for="c-39021426">[1 more]</label></div><br/><div class="children"><div class="content">Unsolicited suggestion.<p>Don’t host your status page (status.kagi.com), as a subdomain of your main site (DNS issues can cause both your main site and status site to go offline - so use something like kagistatus.com).<p>And host it with a webhost who doesn’t use any common infra as you.</div><br/></div></div><div id="39020038" class="c"><input type="checkbox" id="c-39020038" checked=""/><div class="controls bullet"><span class="by">jjtheblunt</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39019936">parent</a><span>|</span><a href="#39021426">prev</a><span>|</span><a href="#39020841">next</a><span>|</span><label class="collapse" for="c-39020038">[-]</label><label class="expand" for="c-39020038">[1 more]</label></div><br/><div class="children"><div class="content">I bet a silent majority are thinking &quot;well done, Zac, all the same&quot;.</div><br/></div></div><div id="39020841" class="c"><input type="checkbox" id="c-39020841" checked=""/><div class="controls bullet"><span class="by">ayberk</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39019936">parent</a><span>|</span><a href="#39020038">prev</a><span>|</span><a href="#39021463">next</a><span>|</span><label class="collapse" for="c-39020841">[-]</label><label class="expand" for="c-39020841">[1 more]</label></div><br/><div class="children"><div class="content">Kudos for being so open -- after seeing numerous &quot;incidents&quot; at AWS and GCE I can say that two rules always hold with respect to observability:<p>- You don&#x27;t have enough.<p>- You have too much.<p>Usually either something will be missing or some red herring will cost you valuable time. You&#x27;re already doing much better than most people by taking it seriously :)</div><br/></div></div><div id="39021463" class="c"><input type="checkbox" id="c-39021463" checked=""/><div class="controls bullet"><span class="by">JohnMakin</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39019936">parent</a><span>|</span><a href="#39020841">prev</a><span>|</span><a href="#39020183">next</a><span>|</span><label class="collapse" for="c-39021463">[-]</label><label class="expand" for="c-39021463">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Kagi is a small team.<p>I figured this was the case when you said “our devops engineer” singular and not “one of our devops engineers.”<p>I’m glad you’re willing at this stage to invest in SRE. It’s a decision a lot of companies only make when they absolutely have to or have their backs against a wall.</div><br/></div></div><div id="39020183" class="c"><input type="checkbox" id="c-39020183" checked=""/><div class="controls bullet"><span class="by">timwis</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39019936">parent</a><span>|</span><a href="#39021463">prev</a><span>|</span><a href="#39022261">next</a><span>|</span><label class="collapse" for="c-39020183">[-]</label><label class="expand" for="c-39020183">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for sharing! I’m surprised to hear that, given how impressive your product is, but I’m an even bigger fan now.</div><br/></div></div><div id="39022261" class="c"><input type="checkbox" id="c-39022261" checked=""/><div class="controls bullet"><span class="by">siquick</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39019936">parent</a><span>|</span><a href="#39020183">prev</a><span>|</span><a href="#39023436">next</a><span>|</span><label class="collapse" for="c-39022261">[-]</label><label class="expand" for="c-39022261">[1 more]</label></div><br/><div class="children"><div class="content">The best feedback I can give is that my whole family now uses Kagi over Google Search and I’m a regular user of the summariser tool too.<p>Big ups, you’re smashing it</div><br/></div></div><div id="39023436" class="c"><input type="checkbox" id="c-39023436" checked=""/><div class="controls bullet"><span class="by">ijhuygft776</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39019936">parent</a><span>|</span><a href="#39022261">prev</a><span>|</span><a href="#39020135">next</a><span>|</span><label class="collapse" for="c-39023436">[-]</label><label class="expand" for="c-39023436">[1 more]</label></div><br/><div class="children"><div class="content">Kagi, an efficient company. Thanks Zac and the rest of the team</div><br/></div></div><div id="39020135" class="c"><input type="checkbox" id="c-39020135" checked=""/><div class="controls bullet"><span class="by">nanocat</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39019936">parent</a><span>|</span><a href="#39023436">prev</a><span>|</span><a href="#39021453">next</a><span>|</span><label class="collapse" for="c-39020135">[-]</label><label class="expand" for="c-39020135">[1 more]</label></div><br/><div class="children"><div class="content">Sounds like you’re doing great to me. Thank you for being so open!</div><br/></div></div><div id="39021453" class="c"><input type="checkbox" id="c-39021453" checked=""/><div class="controls bullet"><span class="by">digitalsin</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39019936">parent</a><span>|</span><a href="#39020135">prev</a><span>|</span><a href="#39023825">next</a><span>|</span><label class="collapse" for="c-39021453">[-]</label><label class="expand" for="c-39021453">[1 more]</label></div><br/><div class="children"><div class="content">I use Kagi every single day, ever since the beta. I don&#x27;t remember the last time I used that other search engine, the G one..can&#x27;t remember the name. Anyway, absolutely love Kagi and the work you guys do. Thank you!</div><br/></div></div><div id="39023825" class="c"><input type="checkbox" id="c-39023825" checked=""/><div class="controls bullet"><span class="by">xwolfi</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39019936">parent</a><span>|</span><a href="#39021453">prev</a><span>|</span><a href="#39020195">next</a><span>|</span><label class="collapse" for="c-39023825">[-]</label><label class="expand" for="c-39023825">[1 more]</label></div><br/><div class="children"><div class="content">I work in a giant investment bank with hundreds of people who can answer across all time zones. We still f up, we still don&#x27;t always know where problems lie and we still sometimes can spend hours on a simple DoS.<p>You&#x27;ll only get better at guessing what the issue could be: an exploit by a user is something you&#x27;ll remember forever and will overly protect against from now on, until you hit some other completely different problem which your metric will be unprepared for, and you&#x27;ll fumble around and do another post mortem promising to look at that new class of issues etc.<p>You&#x27;ll marvel at the diversity of potential issues, especially in human-facing services like yours. But you&#x27;ll probably have another long loss of service again one day, and you&#x27;re right to insist on the transparency &#x2F; speed of signaling to your users: they can forgive everything as long as you give them an early signal, a discount and an apology, in my experience.</div><br/></div></div></div></div><div id="39020195" class="c"><input type="checkbox" id="c-39020195" checked=""/><div class="controls bullet"><span class="by">hacker_newz</span><span>|</span><a href="#39019554">parent</a><span>|</span><a href="#39019936">prev</a><span>|</span><a href="#39020101">next</a><span>|</span><label class="collapse" for="c-39020195">[-]</label><label class="expand" for="c-39020195">[5 more]</label></div><br/><div class="children"><div class="content">What are &quot;the right datadog dashboards and splunk queries&quot;?</div><br/><div id="39020276" class="c"><input type="checkbox" id="c-39020276" checked=""/><div class="controls bullet"><span class="by">blantonl</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39020195">parent</a><span>|</span><a href="#39020626">next</a><span>|</span><label class="collapse" for="c-39020276">[-]</label><label class="expand" for="c-39020276">[1 more]</label></div><br/><div class="children"><div class="content">Lots and lots of money to catch what you don&#x27;t know, which means &quot;oh crap, now we need to log this also&quot;</div><br/></div></div><div id="39020626" class="c"><input type="checkbox" id="c-39020626" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39020195">parent</a><span>|</span><a href="#39020276">prev</a><span>|</span><a href="#39020328">next</a><span>|</span><label class="collapse" for="c-39020626">[-]</label><label class="expand" for="c-39020626">[2 more]</label></div><br/><div class="children"><div class="content">This is easy for me to say in hindsight, but a graph of queries per user, for the top 100 accounts would have lit up the issue like a Christmas tree. But it&#x27;s the kind of chart you stuff on the full page of charts that are usually not interesting. So many problems have been avoided by &quot;huh, that looks weird&quot; on a dashboard.<p>In a more targeted search, asking Splunk to show out where the traffic is coming from on a map, and a pie chart of the top 10 accounts they&#x27;re coming from would also be illuminating.<p>But again, this is easy for me to say in hindsight, after the issue has been helpfully explained to me in a blog  post. I don&#x27;t claim could have done any better if I were there, my point is that you need to see inside the system to be operate it well.</div><br/><div id="39021934" class="c"><input type="checkbox" id="c-39021934" checked=""/><div class="controls bullet"><span class="by">eep_social</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39020626">parent</a><span>|</span><a href="#39020328">next</a><span>|</span><label class="collapse" for="c-39021934">[-]</label><label class="expand" for="c-39021934">[1 more]</label></div><br/><div class="children"><div class="content">If daily volume is ~400k a sharp 60k spike should show even on a straight rps dashboard. I suspect that didn’t exist because most cloudy SaaS tools don’t seem to put any emphasis on traffic over a particular unit time, like in the Cloudflare site dashboard one must hover over the graph and subtract timestamps to find out if the number of request is per hour, minute, etc. Splunk is similarly bad — the longer the period query covers, the less granularity you get and the minimum seems to be minutely.<p>Drill down by user, locale, etc would just make it even easier to figure out what’s going on once you spot the spike and start to dig.<p>My unsolicited advice for Zac in case they’re reading is — start thinking about SLIs (I for indicators) sooner rather than later to help you think through cases like this.</div><br/></div></div></div></div><div id="39020328" class="c"><input type="checkbox" id="c-39020328" checked=""/><div class="controls bullet"><span class="by">scblzn</span><span>|</span><a href="#39019554">root</a><span>|</span><a href="#39020195">parent</a><span>|</span><a href="#39020626">prev</a><span>|</span><a href="#39020101">next</a><span>|</span><label class="collapse" for="c-39020328">[-]</label><label class="expand" for="c-39020328">[1 more]</label></div><br/><div class="children"><div class="content">surely these ones for datadog: <a href="https:&#x2F;&#x2F;nitter.net&#x2F;TurnerNovak&#x2F;status&#x2F;1654577231937544192" rel="nofollow">https:&#x2F;&#x2F;nitter.net&#x2F;TurnerNovak&#x2F;status&#x2F;1654577231937544192</a><p>&#x2F;s</div><br/></div></div></div></div><div id="39020101" class="c"><input type="checkbox" id="c-39020101" checked=""/><div class="controls bullet"><span class="by">mathverse</span><span>|</span><a href="#39019554">parent</a><span>|</span><a href="#39020195">prev</a><span>|</span><a href="#39023935">next</a><span>|</span><label class="collapse" for="c-39020101">[-]</label><label class="expand" for="c-39020101">[1 more]</label></div><br/><div class="children"><div class="content">Kagi is a startup with low margins and high operational costs.</div><br/></div></div></div></div><div id="39023935" class="c"><input type="checkbox" id="c-39023935" checked=""/><div class="controls bullet"><span class="by">sedatk</span><span>|</span><a href="#39019554">prev</a><span>|</span><a href="#39022686">next</a><span>|</span><label class="collapse" for="c-39023935">[-]</label><label class="expand" for="c-39023935">[1 more]</label></div><br/><div class="children"><div class="content">I’m a paid user of Kagi, and having experienced downtime made me realize how much I took Google’s reliability for granted. Google has never gone down on me, maybe once in the last two decades. Losing access to your search engine is quite crippling. I LOVE Kagi, that’s why I pay for it, but experiencing downtime in my second month was quite off-putting. I love post-mortems, but I hope to never read them. :)<p>That said, I hope this experience makes Kagi even more resilient and reliable.</div><br/></div></div><div id="39022686" class="c"><input type="checkbox" id="c-39022686" checked=""/><div class="controls bullet"><span class="by">mightyham</span><span>|</span><a href="#39023935">prev</a><span>|</span><a href="#39022110">next</a><span>|</span><label class="collapse" for="c-39022686">[-]</label><label class="expand" for="c-39022686">[3 more]</label></div><br/><div class="children"><div class="content">As much as people gush over Kagi on HN, I still have yet to actually try it because I cannot for the life of me get authentication to work. Even after immediately resetting my password, I get an &quot;incorrect email or password&quot; or &quot;try again later&quot; error on the login page. I&#x27;ve tried at least 3 times over the last few months with the same results each time.<p>If such a fundamental part of a web service company&#x27;s website is broken, it makes me weary of their competence.</div><br/><div id="39023357" class="c"><input type="checkbox" id="c-39023357" checked=""/><div class="controls bullet"><span class="by">freediver</span><span>|</span><a href="#39022686">parent</a><span>|</span><a href="#39023943">next</a><span>|</span><label class="collapse" for="c-39023357">[-]</label><label class="expand" for="c-39023357">[1 more]</label></div><br/><div class="children"><div class="content">Have you tried contacting Kagi support to help debug the issue?</div><br/></div></div><div id="39023943" class="c"><input type="checkbox" id="c-39023943" checked=""/><div class="controls bullet"><span class="by">lostlogin</span><span>|</span><a href="#39022686">parent</a><span>|</span><a href="#39023357">prev</a><span>|</span><a href="#39022110">next</a><span>|</span><label class="collapse" for="c-39023943">[-]</label><label class="expand" for="c-39023943">[1 more]</label></div><br/><div class="children"><div class="content">Push on - it’s a great service.</div><br/></div></div></div></div><div id="39022110" class="c"><input type="checkbox" id="c-39022110" checked=""/><div class="controls bullet"><span class="by">igammarays</span><span>|</span><a href="#39022686">prev</a><span>|</span><a href="#39022128">next</a><span>|</span><label class="collapse" for="c-39022110">[-]</label><label class="expand" for="c-39022110">[1 more]</label></div><br/><div class="children"><div class="content">&gt; This didn’t exactly come as a surprise to us, as for the entirety of Kagi’s life so far we have actually used the cheapest, single-core database available to us on GCP!<p>Wow, love that you guys are keeping it lean. Have you considered something like PolyScale to handle sudden spikes in read load and squeeze more performance out of it?</div><br/></div></div><div id="39022128" class="c"><input type="checkbox" id="c-39022128" checked=""/><div class="controls bullet"><span class="by">sabujp</span><span>|</span><a href="#39022110">prev</a><span>|</span><a href="#39020140">next</a><span>|</span><label class="collapse" for="c-39022128">[-]</label><label class="expand" for="c-39022128">[3 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>    We were later in contact with an account that we blocked who claimed they were
    using their account to perform automated scraping of our results, which is not
    something our terms allow for.&quot;
</code></pre>
Set QPS limits for every possible incoming RPC &#x2F; API &#x2F; HTTP request , especially public ones!</div><br/><div id="39022700" class="c"><input type="checkbox" id="c-39022700" checked=""/><div class="controls bullet"><span class="by">leesalminen</span><span>|</span><a href="#39022128">parent</a><span>|</span><a href="#39020140">next</a><span>|</span><label class="collapse" for="c-39022700">[-]</label><label class="expand" for="c-39022700">[2 more]</label></div><br/><div class="children"><div class="content">So much this. I learned this the hard way.<p>We had a search function with typeahead abilities. I had intentionally removed the rate limit from that endpoint to support fast typers.<p>One day around 6AM, someone in Tennessee came into work and put their purse down on their keyboard. The purse depressed a single key and started hitting the API with each keystroke.<p>Of course after 15 minutes of this the db became very unhappy. Then a web server crashed because the db was lagging too much. Cascading failures until that whole prod cluster crashed.<p>Needless to say the rate limit was readded that day ;).</div><br/><div id="39023021" class="c"><input type="checkbox" id="c-39023021" checked=""/><div class="controls bullet"><span class="by">o11c</span><span>|</span><a href="#39022128">root</a><span>|</span><a href="#39022700">parent</a><span>|</span><a href="#39020140">next</a><span>|</span><label class="collapse" for="c-39023021">[-]</label><label class="expand" for="c-39023021">[1 more]</label></div><br/><div class="children"><div class="content">This is a reminder that &quot;we want to support bursts&quot; is much more common thing than &quot;we want a higher ratelimit&quot;. Often  multiple levels of bursts are reasonable (e.g. support 10 requests per minute, but only 100 requests per day; support 10 requests per user, but only 100 requests across all users).<p>There are several ways to track history with just a couple variables (or, if you do have the history, but only <i>accessing</i> a couple of variables); the key observation is that you usually don&#x27;t have to be exact, only put a bound on it.<p>For history approximations in general, one thing I&#x27;m generally fond of is using an exponential moving average (often with λ=1&#x2F;8 so it can be done with shifts `ema -= ema&gt;&gt;3; ema += datum&gt;&gt;3` and it&#x27;s obvious overflow can&#x27;t happen). You do have to be careful that you aren&#x27;t getting hyperbolic behavior though; I&#x27;m not sure I would use this for a rate limiter in particular.</div><br/></div></div></div></div></div></div><div id="39020140" class="c"><input type="checkbox" id="c-39020140" checked=""/><div class="controls bullet"><span class="by">smcleod</span><span>|</span><a href="#39022128">prev</a><span>|</span><a href="#39019440">next</a><span>|</span><label class="collapse" for="c-39020140">[-]</label><label class="expand" for="c-39020140">[1 more]</label></div><br/><div class="children"><div class="content">Good write up. I always appreciate Kagi’s honesty and transparency like this. Great product, great service.</div><br/></div></div><div id="39019440" class="c"><input type="checkbox" id="c-39019440" checked=""/><div class="controls bullet"><span class="by">fwsgonzo</span><span>|</span><a href="#39020140">prev</a><span>|</span><a href="#39019725">next</a><span>|</span><label class="collapse" for="c-39019440">[-]</label><label class="expand" for="c-39019440">[1 more]</label></div><br/><div class="children"><div class="content">It wasn&#x27;t that long ago that I had heard about Kagi the first time. Now I use it every day, and the fact that I can pin cppreference.com to the top is just such a boon.</div><br/></div></div><div id="39019725" class="c"><input type="checkbox" id="c-39019725" checked=""/><div class="controls bullet"><span class="by">layoric</span><span>|</span><a href="#39019440">prev</a><span>|</span><a href="#39022351">next</a><span>|</span><label class="collapse" for="c-39019725">[-]</label><label class="expand" for="c-39019725">[3 more]</label></div><br/><div class="children"><div class="content">&quot;This didn’t exactly come as a surprise to us, as for the entirety of Kagi’s life so far we have actually used the cheapest, single-core database available to us on GCP!&quot;<p>Outages suck, but I love the fact that they are building such a lean product. Been paying for Kagi as a part of de-Google-ifying my use of online services and the experience so far (I wasn&#x27;t impacted by this outage) has been great.<p>A few years ago I built a global SaaS (first employee and SWE) in the weather space which was backed by a single DB, and while it had more than just 1 core (8 when I left from memory), I think a lot of developers reach for distributed DBs far too early. Modern hardware can do a lot, products like AWS Aurora are impressive, but they come with their own complexities (and MUCH higher costs).</div><br/><div id="39020417" class="c"><input type="checkbox" id="c-39020417" checked=""/><div class="controls bullet"><span class="by">z64</span><span>|</span><a href="#39019725">parent</a><span>|</span><a href="#39022351">next</a><span>|</span><label class="collapse" for="c-39020417">[-]</label><label class="expand" for="c-39020417">[2 more]</label></div><br/><div class="children"><div class="content">Very cool! The deluge of cloud solutions are absolutely one of those things that can be a distraction from figuring out &quot;What do I actually need the computer to do?&quot;.<p>Internally I try to promote solutions with the fewest moving cloud-parts, and channel the quiet wisdom of those running services way larger than ours with something like an sqlite3 file that they rsync... I know they&#x27;re out there. Not to downplay the feats of engineering of huge distributed solutions, but sometimes things <i>can</i> be that simple!</div><br/><div id="39020677" class="c"><input type="checkbox" id="c-39020677" checked=""/><div class="controls bullet"><span class="by">layoric</span><span>|</span><a href="#39019725">root</a><span>|</span><a href="#39020417">parent</a><span>|</span><a href="#39022351">next</a><span>|</span><label class="collapse" for="c-39020677">[-]</label><label class="expand" for="c-39020677">[1 more]</label></div><br/><div class="children"><div class="content">Distracting is right! I watched your CrystalConf video and was happy to see the familiar Postgres + Redis combo :). I remember worrying about running out of legs with Redis (being single threaded), but with a combo of pipelining and changing the data structures used it ended up being the piece of infra that had the most headroom.<p>Monitoring was probably the biggest value for outsourcing to another SaaS. I used Runscope, AWS dashboards and own elasticsearch and it was pretty cost effective for the API that was doing ~2M API calls a day.<p>The other risk of cloud solutions is the crazy cost spikes. I remember consulting a partner, much larger, weather company on reducing their costs of a similar global weather product where they chose AWS DynamoDB as their main datastore, and their bill <i>just</i> for DynamoDB was twice our companies cloud bill. All because it was slightly &quot;easier&quot; to not think about compute requirements!<p>Any ways, thanks for the postmortem, hopefully your channeling of quiet wisdom continues to branch out to others! :)</div><br/></div></div></div></div></div></div><div id="39022351" class="c"><input type="checkbox" id="c-39022351" checked=""/><div class="controls bullet"><span class="by">lolc</span><span>|</span><a href="#39019725">prev</a><span>|</span><a href="#39019504">next</a><span>|</span><label class="collapse" for="c-39022351">[-]</label><label class="expand" for="c-39022351">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using it for a few weeks now and when it didn&#x27;t load right away last week I was at a loss what to do. I wondered &quot;what is Kagi and why can&#x27;t my browser search anymore?&quot; It&#x27;s really well built to get out of your way and I&#x27;d all forgotten about it. Eventually I realized I could use another search engine. The bother!<p>Before this post-mortem dropped I&#x27;d also forgotten the incident. Props to the team that doesn&#x27;t make me think when I search!<p>And my sympathy in this incident. It&#x27;s rough when things coincide like that and cause you to look at the wrong metrics.</div><br/></div></div><div id="39019504" class="c"><input type="checkbox" id="c-39019504" checked=""/><div class="controls bullet"><span class="by">boomboomsubban</span><span>|</span><a href="#39022351">prev</a><span>|</span><a href="#39021641">next</a><span>|</span><label class="collapse" for="c-39019504">[-]</label><label class="expand" for="c-39019504">[7 more]</label></div><br/><div class="children"><div class="content">One user running a scraper took the service down for seven hours? I know it&#x27;s easy to sit on the outside and say they should have seen this coming, but how does nobody in testing go &quot;what happens if a ton of searches happen?&quot;</div><br/><div id="39020090" class="c"><input type="checkbox" id="c-39020090" checked=""/><div class="controls bullet"><span class="by">z64</span><span>|</span><a href="#39019504">parent</a><span>|</span><a href="#39021641">next</a><span>|</span><label class="collapse" for="c-39020090">[-]</label><label class="expand" for="c-39020090">[6 more]</label></div><br/><div class="children"><div class="content">Hi there, this is Zac from Kagi. I just posted some other details here that might be of interest:<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39019936">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39019936</a><p>TL;DR - we are a tiny, young team at the center, and everyone has a closet full of hats they wear. No dedicated SRE team yet.<p>&gt; &quot;what happens if a ton of searches happen?&quot;<p>In fairness, you can checkout <a href="https:&#x2F;&#x2F;kagi.com&#x2F;stats" rel="nofollow">https:&#x2F;&#x2F;kagi.com&#x2F;stats</a> - &quot;a lot of searches&quot; is already happening, approaching 400k per day, and systems still operate with plenty of capacity day-to-day, in addition to some auto-scaling measures.<p>The devil is in the details of some users exploting a pathological case. Our lack of experience (now rightfully gained) is knowing what organic or pathological traffic we could have predicted and simulated ahead of time.<p>Load-simulating 20,000 users searching concurrently sounds like it would have been a sound experiment early on, and we did do some things resembling this. But considering this incident, it still would not have caught this issue. We have also had maybe 10 people run security scanners on our production services at this point that generated more traffic than this incident.<p>It is extremely difficult to balance this kind of development when we also have features to build, and clearly we could do with more of it! As mentioned in my other post, we are looking to expand the team in the near term so that we are not spread so thin on these sorts of efforts.<p>There is a lot that could be said in hindsight, but I hope that is a bit more transparent WRT how we ended up here.</div><br/><div id="39020174" class="c"><input type="checkbox" id="c-39020174" checked=""/><div class="controls bullet"><span class="by">smcleod</span><span>|</span><a href="#39019504">root</a><span>|</span><a href="#39020090">parent</a><span>|</span><a href="#39021242">next</a><span>|</span><label class="collapse" for="c-39020174">[-]</label><label class="expand" for="c-39020174">[1 more]</label></div><br/><div class="children"><div class="content">Zac, I think you’re doing great handling and communicating this. Keep up the great work and have fun learning while you’re at it!</div><br/></div></div><div id="39021242" class="c"><input type="checkbox" id="c-39021242" checked=""/><div class="controls bullet"><span class="by">rconti</span><span>|</span><a href="#39019504">root</a><span>|</span><a href="#39020090">parent</a><span>|</span><a href="#39020174">prev</a><span>|</span><a href="#39021641">next</a><span>|</span><label class="collapse" for="c-39021242">[-]</label><label class="expand" for="c-39021242">[4 more]</label></div><br/><div class="children"><div class="content">What does &quot;pathological&quot; mean in this context?</div><br/><div id="39021427" class="c"><input type="checkbox" id="c-39021427" checked=""/><div class="controls bullet"><span class="by">fancy_pantser</span><span>|</span><a href="#39019504">root</a><span>|</span><a href="#39021242">parent</a><span>|</span><a href="#39021641">next</a><span>|</span><label class="collapse" for="c-39021427">[-]</label><label class="expand" for="c-39021427">[3 more]</label></div><br/><div class="children"><div class="content">being such to a degree that is extreme, excessive, or markedly abnormal (with a connotation of it happening on purpose)</div><br/><div id="39022815" class="c"><input type="checkbox" id="c-39022815" checked=""/><div class="controls bullet"><span class="by">SadCordDrone</span><span>|</span><a href="#39019504">root</a><span>|</span><a href="#39021427">parent</a><span>|</span><a href="#39021641">next</a><span>|</span><label class="collapse" for="c-39022815">[-]</label><label class="expand" for="c-39022815">[2 more]</label></div><br/><div class="children"><div class="content">What does &quot; being such to a degree that is extreme, excessive, or markedly abnormal (with a connotation of it happening on purpose)
&quot; mean in this context?</div><br/><div id="39022841" class="c"><input type="checkbox" id="c-39022841" checked=""/><div class="controls bullet"><span class="by">fancy_pantser</span><span>|</span><a href="#39019504">root</a><span>|</span><a href="#39022815">parent</a><span>|</span><a href="#39021641">next</a><span>|</span><label class="collapse" for="c-39022841">[-]</label><label class="expand" for="c-39022841">[1 more]</label></div><br/><div class="children"><div class="content">pathological</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="39021641" class="c"><input type="checkbox" id="c-39021641" checked=""/><div class="controls bullet"><span class="by">precision1k</span><span>|</span><a href="#39019504">prev</a><span>|</span><a href="#39020496">next</a><span>|</span><label class="collapse" for="c-39021641">[-]</label><label class="expand" for="c-39021641">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of a time I was running a proof-of-concept for a new networking tool at a customer site, and about two minutes after we got it running their entire network went down.  We were in a sandboxed area so there was no way our product could of caused a network wide outage, but in my head I&#x27;m thinking:  &quot;there&#x27;s no way, right. . . .RIGHT?!?!&quot;.</div><br/></div></div><div id="39020496" class="c"><input type="checkbox" id="c-39020496" checked=""/><div class="controls bullet"><span class="by">Havoc</span><span>|</span><a href="#39021641">prev</a><span>|</span><a href="#39022259">next</a><span>|</span><label class="collapse" for="c-39020496">[-]</label><label class="expand" for="c-39020496">[1 more]</label></div><br/><div class="children"><div class="content">Ironically the reports of instability got me make an account with them. It&#x27;s been on my todo list but forgot about it</div><br/></div></div><div id="39022259" class="c"><input type="checkbox" id="c-39022259" checked=""/><div class="controls bullet"><span class="by">prh8</span><span>|</span><a href="#39020496">prev</a><span>|</span><a href="#39023963">next</a><span>|</span><label class="collapse" for="c-39022259">[-]</label><label class="expand" for="c-39022259">[1 more]</label></div><br/><div class="children"><div class="content">Totally missed this incident, just want to say thank you to the Kagi team for an awesome product. Love the search and also Orion.</div><br/></div></div><div id="39023963" class="c"><input type="checkbox" id="c-39023963" checked=""/><div class="controls bullet"><span class="by">lostlogin</span><span>|</span><a href="#39022259">prev</a><span>|</span><a href="#39023820">next</a><span>|</span><label class="collapse" for="c-39023963">[-]</label><label class="expand" for="c-39023963">[1 more]</label></div><br/><div class="children"><div class="content">I cracked up when I saw this.<p>My search went bad and I assumed I’d broken something, tried a few things, took a break, tried a few more and it was working. I moved on.<p>It wasn’t ever at my end.</div><br/></div></div><div id="39023820" class="c"><input type="checkbox" id="c-39023820" checked=""/><div class="controls bullet"><span class="by">lopkeny12ko</span><span>|</span><a href="#39023963">prev</a><span>|</span><a href="#39021522">next</a><span>|</span><label class="collapse" for="c-39023820">[-]</label><label class="expand" for="c-39023820">[6 more]</label></div><br/><div class="children"><div class="content">&gt; While we do offer unlimited searches to our users, such volume was a clear abuse of our platform, against our terms of use. As such, we removed searching capability from the offending accounts.<p>Don&#x27;t advertise something as unlimited if it&#x27;s not actually unlimited.</div><br/><div id="39023914" class="c"><input type="checkbox" id="c-39023914" checked=""/><div class="controls bullet"><span class="by">karlshea</span><span>|</span><a href="#39023820">parent</a><span>|</span><a href="#39024447">next</a><span>|</span><label class="collapse" for="c-39023914">[-]</label><label class="expand" for="c-39023914">[3 more]</label></div><br/><div class="children"><div class="content">Unlimited searches as a real user is not the same thing as running a bot against the service.</div><br/><div id="39024093" class="c"><input type="checkbox" id="c-39024093" checked=""/><div class="controls bullet"><span class="by">callalex</span><span>|</span><a href="#39023820">root</a><span>|</span><a href="#39023914">parent</a><span>|</span><a href="#39024014">next</a><span>|</span><label class="collapse" for="c-39024093">[-]</label><label class="expand" for="c-39024093">[1 more]</label></div><br/><div class="children"><div class="content">Just advertise it as 10,000 per day if that’s what it actually is. Any sane user will see a number like that and know they don’t have to worry about the limit.</div><br/></div></div><div id="39024014" class="c"><input type="checkbox" id="c-39024014" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#39023820">root</a><span>|</span><a href="#39023914">parent</a><span>|</span><a href="#39024093">prev</a><span>|</span><a href="#39024447">next</a><span>|</span><label class="collapse" for="c-39024014">[-]</label><label class="expand" for="c-39024014">[1 more]</label></div><br/><div class="children"><div class="content">Real users can also run a bot for their real use cases, the correct way out is not to mislead</div><br/></div></div></div></div><div id="39024447" class="c"><input type="checkbox" id="c-39024447" checked=""/><div class="controls bullet"><span class="by">wiseowise</span><span>|</span><a href="#39023820">parent</a><span>|</span><a href="#39023914">prev</a><span>|</span><a href="#39023837">next</a><span>|</span><label class="collapse" for="c-39024447">[-]</label><label class="expand" for="c-39024447">[1 more]</label></div><br/><div class="children"><div class="content">Don’t abuse the system.</div><br/></div></div><div id="39023837" class="c"><input type="checkbox" id="c-39023837" checked=""/><div class="controls bullet"><span class="by">hackernewds</span><span>|</span><a href="#39023820">parent</a><span>|</span><a href="#39024447">prev</a><span>|</span><a href="#39021522">next</a><span>|</span><label class="collapse" for="c-39023837">[-]</label><label class="expand" for="c-39023837">[1 more]</label></div><br/><div class="children"><div class="content">confused how both it is advertised, and against ToS</div><br/></div></div></div></div><div id="39021522" class="c"><input type="checkbox" id="c-39021522" checked=""/><div class="controls bullet"><span class="by">3np</span><span>|</span><a href="#39023820">prev</a><span>|</span><a href="#39019413">next</a><span>|</span><label class="collapse" for="c-39021522">[-]</label><label class="expand" for="c-39021522">[2 more]</label></div><br/><div class="children"><div class="content">Wouldn&#x27;t some level of per-account rate-limiting make sense? Say, 1000 searches per hour? It&#x27;s commendable and impressive that Kagi has apparently been able to get this far and perform this consistently without any account-level automated rate-limiting but the only alternative is an inevitable cat-and-mouse and whack-a-mole of cutting off paying customers who knowingly or not violate the ToS. Returning 429 with actionable messages makes it clear to users what they should expect.<p>You obviously want the block-interval to be long enough to not cause too much additional churn on the database.<p>Applying restrictions on IP-level when you can avoid it is just a world of frustration for everyone involved.</div><br/><div id="39021959" class="c"><input type="checkbox" id="c-39021959" checked=""/><div class="controls bullet"><span class="by">eep_social</span><span>|</span><a href="#39021522">parent</a><span>|</span><a href="#39019413">next</a><span>|</span><label class="collapse" for="c-39021959">[-]</label><label class="expand" for="c-39021959">[1 more]</label></div><br/><div class="children"><div class="content">&gt; we need to set some automated limits to help us enforce this. From analyzing our user’s usage, we have picked some limits that no good-faith user of Kagi should reasonably hit.<p>&gt; These new limits should already be in place by the time of this post, and we will monitor their impact and continue to tune them as needed.</div><br/></div></div></div></div><div id="39019413" class="c"><input type="checkbox" id="c-39019413" checked=""/><div class="controls bullet"><span class="by">renewiltord</span><span>|</span><a href="#39021522">prev</a><span>|</span><a href="#39020480">next</a><span>|</span><label class="collapse" for="c-39019413">[-]</label><label class="expand" for="c-39019413">[3 more]</label></div><br/><div class="children"><div class="content">Interesting. The classic problem. You offer to not meter something and then someone will use it to max capacity. Then you’re forced to place a limit so that one user won’t hose everyone else.</div><br/><div id="39020375" class="c"><input type="checkbox" id="c-39020375" checked=""/><div class="controls bullet"><span class="by">JumpCrisscross</span><span>|</span><a href="#39019413">parent</a><span>|</span><a href="#39019428">next</a><span>|</span><label class="collapse" for="c-39020375">[-]</label><label class="expand" for="c-39020375">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>you’re forced to place a limit so that one user won’t hose everyone else</i><p>Soft limits at the tail of usage comports with the term unlimited as it&#x27;s commonly used. For Kagi, a rate limit derived from how quickly a human can type makes sense.</div><br/></div></div><div id="39019428" class="c"><input type="checkbox" id="c-39019428" checked=""/><div class="controls bullet"><span class="by">fotta</span><span>|</span><a href="#39019413">parent</a><span>|</span><a href="#39020375">prev</a><span>|</span><a href="#39020480">next</a><span>|</span><label class="collapse" for="c-39019428">[-]</label><label class="expand" for="c-39019428">[1 more]</label></div><br/><div class="children"><div class="content">&gt; We were later in contact with an account that we blocked who claimed they were using their account to perform automated scraping of our results, which is not something our terms allow for.<p>I mean beyond that it was a user that was violating the TOS. This isn’t really a bait and switch scenario (although it could be reasonably construed as such).</div><br/></div></div></div></div><div id="39023719" class="c"><input type="checkbox" id="c-39023719" checked=""/><div class="controls bullet"><span class="by">rmrf100</span><span>|</span><a href="#39020480">prev</a><span>|</span><a href="#39019323">next</a><span>|</span><label class="collapse" for="c-39023719">[-]</label><label class="expand" for="c-39023719">[1 more]</label></div><br/><div class="children"><div class="content">Muphy&#x27;s law</div><br/></div></div><div id="39023421" class="c"><input type="checkbox" id="c-39023421" checked=""/><div class="controls bullet"><span class="by">thecleaner</span><span>|</span><a href="#39019323">prev</a><span>|</span><a href="#39021212">next</a><span>|</span><label class="collapse" for="c-39023421">[-]</label><label class="expand" for="c-39023421">[1 more]</label></div><br/><div class="children"><div class="content">What I gather is this was a rate limiting issue. Rate limiting is a standard pattern for API platforms but I wonder how many consumer facing services implement it.</div><br/></div></div><div id="39021212" class="c"><input type="checkbox" id="c-39021212" checked=""/><div class="controls bullet"><span class="by">refulgentis</span><span>|</span><a href="#39023421">prev</a><span>|</span><a href="#39020112">next</a><span>|</span><label class="collapse" for="c-39021212">[-]</label><label class="expand" for="c-39021212">[1 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t think it was possible to only buy a single core outside of an edge function.</div><br/></div></div><div id="39020111" class="c"><input type="checkbox" id="c-39020111" checked=""/><div class="controls bullet"><span class="by">jacob019</span><span>|</span><a href="#39020112">prev</a><span>|</span><label class="collapse" for="c-39020111">[-]</label><label class="expand" for="c-39020111">[7 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re listening, Kagi, please add an à la carte plan for search.  Maybe hide it behind the API options as not to disrupt your normal plans.  I love the search and I&#x27;m happy to pay, but I&#x27;m cost sensitive now and it&#x27;s the only way that I&#x27;m going to feel comfortable using it long-term.</div><br/><div id="39020148" class="c"><input type="checkbox" id="c-39020148" checked=""/><div class="controls bullet"><span class="by">spiderice</span><span>|</span><a href="#39020111">parent</a><span>|</span><label class="collapse" for="c-39020148">[-]</label><label class="expand" for="c-39020148">[6 more]</label></div><br/><div class="children"><div class="content">They have a $5 for 300 searches option.  Is that not what you&#x27;re referring to?</div><br/><div id="39020347" class="c"><input type="checkbox" id="c-39020347" checked=""/><div class="controls bullet"><span class="by">JumpCrisscross</span><span>|</span><a href="#39020111">root</a><span>|</span><a href="#39020148">parent</a><span>|</span><a href="#39021530">next</a><span>|</span><label class="collapse" for="c-39020347">[-]</label><label class="expand" for="c-39020347">[4 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Is that not what you&#x27;re referring to?</i><p>It sounds like they&#x27;d prefer a 2¢ per search option via API.</div><br/><div id="39020686" class="c"><input type="checkbox" id="c-39020686" checked=""/><div class="controls bullet"><span class="by">jacob019</span><span>|</span><a href="#39020111">root</a><span>|</span><a href="#39020347">parent</a><span>|</span><a href="#39021530">next</a><span>|</span><label class="collapse" for="c-39020686">[-]</label><label class="expand" for="c-39020686">[3 more]</label></div><br/><div class="children"><div class="content">Yes, exactly.  Or 5 cents for the first 100 searches, 2 cents after, something like that.</div><br/><div id="39023766" class="c"><input type="checkbox" id="c-39023766" checked=""/><div class="controls bullet"><span class="by">binsquare</span><span>|</span><a href="#39020111">root</a><span>|</span><a href="#39020686">parent</a><span>|</span><a href="#39021530">next</a><span>|</span><label class="collapse" for="c-39023766">[-]</label><label class="expand" for="c-39023766">[2 more]</label></div><br/><div class="children"><div class="content">They do have the FastGPT api which is approx 1.5cents per api call</div><br/><div id="39023955" class="c"><input type="checkbox" id="c-39023955" checked=""/><div class="controls bullet"><span class="by">lostlogin</span><span>|</span><a href="#39020111">root</a><span>|</span><a href="#39023766">parent</a><span>|</span><a href="#39021530">next</a><span>|</span><label class="collapse" for="c-39023955">[-]</label><label class="expand" for="c-39023955">[1 more]</label></div><br/><div class="children"><div class="content">So raise this to 5c for first 100 and 2c thereafter and we have a happy customer?</div><br/></div></div></div></div></div></div></div></div><div id="39021530" class="c"><input type="checkbox" id="c-39021530" checked=""/><div class="controls bullet"><span class="by">BeetleB</span><span>|</span><a href="#39020111">root</a><span>|</span><a href="#39020148">parent</a><span>|</span><a href="#39020347">prev</a><span>|</span><label class="collapse" for="c-39021530">[-]</label><label class="expand" for="c-39021530">[1 more]</label></div><br/><div class="children"><div class="content">They used to have a $5&#x2F;mo option with N searches, and then charge some cents per search after that. For a lot of people, the net amount would still be under $10&#x2F;mo.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>