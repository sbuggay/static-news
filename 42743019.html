<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1737190875754" as="style"/><link rel="stylesheet" href="styles.css?v=1737190875754"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.railway.com/p/data-center-build-part-one">So you want to build your own data center</a> <span class="domain">(<a href="https://blog.railway.com">blog.railway.com</a>)</span></div><div class="subtext"><span>dban</span> | <span>123 comments</span></div><br/><div><div id="42743915" class="c"><input type="checkbox" id="c-42743915" checked=""/><div class="controls bullet"><span class="by">jonatron</span><span>|</span><a href="#42744572">next</a><span>|</span><label class="collapse" for="c-42743915">[-]</label><label class="expand" for="c-42743915">[45 more]</label></div><br/><div class="children"><div class="content">Why would you call colocation &quot;building your own data center&quot;? You could call it &quot;colocation&quot; or &quot;renting space in a data center&quot;. What are you building? You&#x27;re racking. Can you say what you mean?</div><br/><div id="42744262" class="c"><input type="checkbox" id="c-42744262" checked=""/><div class="controls bullet"><span class="by">xiconfjs</span><span>|</span><a href="#42743915">parent</a><span>|</span><a href="#42743999">next</a><span>|</span><label class="collapse" for="c-42744262">[-]</label><label class="expand" for="c-42744262">[6 more]</label></div><br/><div class="children"><div class="content">I have to second this. While it takes mich effort and in-depth knowledge do build up from an “empty” cage it’s still far from dealing with everything from building permits, to plan and realize a data center to code including redundant power lines, AC and fibre.<p>Still kudos going this path in the cloud-centric time we live in.</div><br/><div id="42745473" class="c"><input type="checkbox" id="c-42745473" checked=""/><div class="controls bullet"><span class="by">manquer</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744262">parent</a><span>|</span><a href="#42744688">next</a><span>|</span><label class="collapse" for="c-42745473">[-]</label><label class="expand" for="c-42745473">[1 more]</label></div><br/><div class="children"><div class="content">While it is more complex to actually build out the center , a lot of that is specific to the regional you are doing it.<p>Thy will vary by country, by state or even county , setting up a DC in the Bay Area and say one in Ohio or Utah is a very different endeavor with different design considerations.</div><br/></div></div><div id="42744688" class="c"><input type="checkbox" id="c-42744688" checked=""/><div class="controls bullet"><span class="by">matt-p</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744262">parent</a><span>|</span><a href="#42745473">prev</a><span>|</span><a href="#42744417">next</a><span>|</span><label class="collapse" for="c-42744688">[-]</label><label class="expand" for="c-42744688">[1 more]</label></div><br/><div class="children"><div class="content">Yes, the second is <i>much</i> more work, orders of magnitude at least.</div><br/></div></div><div id="42744417" class="c"><input type="checkbox" id="c-42744417" checked=""/><div class="controls bullet"><span class="by">j45</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744262">parent</a><span>|</span><a href="#42744688">prev</a><span>|</span><a href="#42745193">next</a><span>|</span><label class="collapse" for="c-42744417">[-]</label><label class="expand" for="c-42744417">[2 more]</label></div><br/><div class="children"><div class="content">Having been around and through both, setting up a cage or two is very different than the entire facility.</div><br/><div id="42744708" class="c"><input type="checkbox" id="c-42744708" checked=""/><div class="controls bullet"><span class="by">HaZeust</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744417">parent</a><span>|</span><a href="#42745193">next</a><span>|</span><label class="collapse" for="c-42744708">[-]</label><label class="expand" for="c-42744708">[1 more]</label></div><br/><div class="children"><div class="content">I think you and GP are in agreement.</div><br/></div></div></div></div><div id="42745193" class="c"><input type="checkbox" id="c-42745193" checked=""/><div class="controls bullet"><span class="by">llm_trw</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744262">parent</a><span>|</span><a href="#42744417">prev</a><span>|</span><a href="#42743999">next</a><span>|</span><label class="collapse" for="c-42745193">[-]</label><label class="expand" for="c-42745193">[1 more]</label></div><br/><div class="children"><div class="content">Do I have stories.<p>One of the better was the dead possum in the drain during a thunderstorm.<p>&gt;So do we throw the main switch before we get electroduced? Or do we try to poke enough holes in it that it gets flushed out? And what about the half million in servers that are going to get ruined?<p>Sign up to my patreon to find out how the story ended.</div><br/></div></div></div></div><div id="42743999" class="c"><input type="checkbox" id="c-42743999" checked=""/><div class="controls bullet"><span class="by">macintux</span><span>|</span><a href="#42743915">parent</a><span>|</span><a href="#42744262">prev</a><span>|</span><a href="#42745397">next</a><span>|</span><label class="collapse" for="c-42743999">[-]</label><label class="expand" for="c-42743999">[3 more]</label></div><br/><div class="children"><div class="content">Dealing with power at that scale, arranging your own ISPs, seems a bit beyond your normal colocation project, but I haven’t bee in the data center space in a very long time.</div><br/><div id="42744227" class="c"><input type="checkbox" id="c-42744227" checked=""/><div class="controls bullet"><span class="by">redeux</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42743999">parent</a><span>|</span><a href="#42745372">next</a><span>|</span><label class="collapse" for="c-42744227">[-]</label><label class="expand" for="c-42744227">[1 more]</label></div><br/><div class="children"><div class="content">I worked for a colo provider for a long time. Many tenants arranged for their own ISPs, especially the ones large enough to use a cage.</div><br/></div></div><div id="42745372" class="c"><input type="checkbox" id="c-42745372" checked=""/><div class="controls bullet"><span class="by">latchkey</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42743999">parent</a><span>|</span><a href="#42744227">prev</a><span>|</span><a href="#42745397">next</a><span>|</span><label class="collapse" for="c-42745372">[-]</label><label class="expand" for="c-42745372">[1 more]</label></div><br/><div class="children"><div class="content">One of the <i>many</i> reasons we went with Switch for our DC is because they have a service to handle all of that for you. Having stumbled on doing this ourselves before, it can be pretty tricky to negotiate everything.<p>We had one provider give us a great price and then bait and switch at the last moment to tell us that there is some other massive installation charge that they didn&#x27;t realize we had to pay.<p>Switch Connect&#x2F;Core is based off the old Enron business that Rob (CEO) bought...<p><a href="https:&#x2F;&#x2F;www.switch.com&#x2F;switch-connect&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.switch.com&#x2F;switch-connect&#x2F;</a>
<a href="https:&#x2F;&#x2F;www.switch.com&#x2F;the-core-cooperative&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.switch.com&#x2F;the-core-cooperative&#x2F;</a></div><br/></div></div></div></div><div id="42745397" class="c"><input type="checkbox" id="c-42745397" checked=""/><div class="controls bullet"><span class="by">vel0city</span><span>|</span><a href="#42743915">parent</a><span>|</span><a href="#42743999">prev</a><span>|</span><a href="#42745071">next</a><span>|</span><label class="collapse" for="c-42745397">[-]</label><label class="expand" for="c-42745397">[1 more]</label></div><br/><div class="children"><div class="content">How to build a house:<p>Step 1: sign a lease at an apartment</div><br/></div></div><div id="42745071" class="c"><input type="checkbox" id="c-42745071" checked=""/><div class="controls bullet"><span class="by">ThatGuyRaion</span><span>|</span><a href="#42743915">parent</a><span>|</span><a href="#42745397">prev</a><span>|</span><a href="#42746491">next</a><span>|</span><label class="collapse" for="c-42745071">[-]</label><label class="expand" for="c-42745071">[3 more]</label></div><br/><div class="children"><div class="content">Not saying I don&#x27;t agree with you but most tech businesses that have their own &quot;Data center&quot; usually have a private cage in a Colo.</div><br/><div id="42745166" class="c"><input type="checkbox" id="c-42745166" checked=""/><div class="controls bullet"><span class="by">cortesoft</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42745071">parent</a><span>|</span><a href="#42746491">next</a><span>|</span><label class="collapse" for="c-42745166">[-]</label><label class="expand" for="c-42745166">[2 more]</label></div><br/><div class="children"><div class="content">They usually don’t say they are building their own datacenter, though. It is different to say something like, “our website runs in our datacenter” than saying you built a datacenter. You would still say, “at our office buildings”, even if you are only renting a few offices in an office park.</div><br/><div id="42746616" class="c"><input type="checkbox" id="c-42746616" checked=""/><div class="controls bullet"><span class="by">bagels</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42745166">parent</a><span>|</span><a href="#42746491">next</a><span>|</span><label class="collapse" for="c-42746616">[-]</label><label class="expand" for="c-42746616">[1 more]</label></div><br/><div class="children"><div class="content">We built an office building would be the analogy.</div><br/></div></div></div></div></div></div><div id="42746491" class="c"><input type="checkbox" id="c-42746491" checked=""/><div class="controls bullet"><span class="by">inopinatus</span><span>|</span><a href="#42743915">parent</a><span>|</span><a href="#42745071">prev</a><span>|</span><a href="#42744684">next</a><span>|</span><label class="collapse" for="c-42746491">[-]</label><label class="expand" for="c-42746491">[4 more]</label></div><br/><div class="children"><div class="content">Come to my office and tell me how it’s not actually my office because it’s leased by my company from the investment vehicle for institutional investors that owns the building that stands on land owned by someone else again that was stolen by the British anyway and therefore calling it “my office” makes me a fool and a liar and I should just “say what I mean”.</div><br/><div id="42746707" class="c"><input type="checkbox" id="c-42746707" checked=""/><div class="controls bullet"><span class="by">yard2010</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42746491">parent</a><span>|</span><a href="#42746746">next</a><span>|</span><label class="collapse" for="c-42746707">[-]</label><label class="expand" for="c-42746707">[2 more]</label></div><br/><div class="children"><div class="content">The british are always the ones to blame :&#x27;)</div><br/><div id="42746751" class="c"><input type="checkbox" id="c-42746751" checked=""/><div class="controls bullet"><span class="by">arminiusreturns</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42746707">parent</a><span>|</span><a href="#42746746">next</a><span>|</span><label class="collapse" for="c-42746751">[-]</label><label class="expand" for="c-42746751">[1 more]</label></div><br/><div class="children"><div class="content">Yes. (except for when it&#x27;s the Vatican, etc)</div><br/></div></div></div></div><div id="42746746" class="c"><input type="checkbox" id="c-42746746" checked=""/><div class="controls bullet"><span class="by">arminiusreturns</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42746491">parent</a><span>|</span><a href="#42746707">prev</a><span>|</span><a href="#42744684">next</a><span>|</span><label class="collapse" for="c-42746746">[-]</label><label class="expand" for="c-42746746">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s more like saying you built the building. (I&#x27;ve bootstrapped datacenters to t2)</div><br/></div></div></div></div><div id="42744684" class="c"><input type="checkbox" id="c-42744684" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#42743915">parent</a><span>|</span><a href="#42746491">prev</a><span>|</span><a href="#42745493">next</a><span>|</span><label class="collapse" for="c-42744684">[-]</label><label class="expand" for="c-42744684">[19 more]</label></div><br/><div class="children"><div class="content">It seems a bit disingenuous but it’s common practice. Even the hyperscalers, who do have their own datacenters, include their colocation servers in the term “datacenter.” Good luck finding the actual, physical location of a server in GCP europe-west2-a (“London”). Maybe it’s in a real Google datacenter in London! Or it could be in an Equinix datacenter in Slough, one room away from AWS eu-west-1.<p>Cloudflare has also historically used “datacenter” to refer to their rack deployments.<p>All that said, for the purpose of the blog post, “building your own datacenter” is misleading.</div><br/><div id="42745298" class="c"><input type="checkbox" id="c-42745298" checked=""/><div class="controls bullet"><span class="by">boulos</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744684">parent</a><span>|</span><a href="#42744705">next</a><span>|</span><label class="collapse" for="c-42745298">[-]</label><label class="expand" for="c-42745298">[3 more]</label></div><br/><div class="children"><div class="content">You&#x27;re correct, there are multiple flavors of Google Cloud Locations. The &quot;Google concrete&quot; ones are listed at google.com&#x2F;datacenters and London isn&#x27;t on that list, today.<p>cloud.google.com&#x2F;about&#x2F;locations lists all the locations that GCE offers service, which is a super set of the large facilities that someone would call a &quot;Google Datacenter&quot;. I liked to mostly refer to the distinction as Google concrete (we built the building) or not. Ultimately, even in locations that are shared colo spaces, or rented, it&#x27;s still Google putting custom racks there, integrating into the network and services, etc. So from a <i>customer</i> perspective, you should pick the right location for you. If that happens to be in a facility where Google poured the concrete, great! If not, it&#x27;s not the end of the world.<p>P.S., I swear the certification PDFs used to include this information (e.g., <a href="https:&#x2F;&#x2F;cloud.google.com&#x2F;security&#x2F;compliance&#x2F;iso-27018?hl=en" rel="nofollow">https:&#x2F;&#x2F;cloud.google.com&#x2F;security&#x2F;compliance&#x2F;iso-27018?hl=en</a>) but now these are all behind &quot;Contact Sales&quot; and some new Certification Manager page in the console.<p>Edit: Yes! <a href="https:&#x2F;&#x2F;cloud.google.com&#x2F;docs&#x2F;geography-and-regions" rel="nofollow">https:&#x2F;&#x2F;cloud.google.com&#x2F;docs&#x2F;geography-and-regions</a> still says:<p>&gt; These data centers might be owned by Google and listed on the Google Cloud locations page, or they might be leased from third-party data center providers. For the full list of data center locations for Google Cloud, see our ISO&#x2F;IEC 27001 certificate. Regardless of whether the data center is owned or leased, Google Cloud selects data centers and designs its infrastructure to provide a uniform level of performance, security, and reliability.<p>So someone can probably use web.archive.org to get the ISO-27001 certificate PDF from whenever the last time it was still up.</div><br/><div id="42746876" class="c"><input type="checkbox" id="c-42746876" checked=""/><div class="controls bullet"><span class="by">quicksilver03</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42745298">parent</a><span>|</span><a href="#42746851">next</a><span>|</span><label class="collapse" for="c-42746876">[-]</label><label class="expand" for="c-42746876">[1 more]</label></div><br/><div class="children"><div class="content">&gt; P.S., I swear the certification PDFs used to include this information (e.g., <a href="https:&#x2F;&#x2F;cloud.google.com&#x2F;security&#x2F;compliance&#x2F;iso-27018?hl=en" rel="nofollow">https:&#x2F;&#x2F;cloud.google.com&#x2F;security&#x2F;compliance&#x2F;iso-27018?hl=en</a>) but now these are all behind &quot;Contact Sales&quot; and some new Certification Manager page in the console.<p>This is not good, I can&#x27;t think of any actual reason to hide those certificates.<p>For comparison, AWS makes their ISO-27001 certificate available at <a href="https:&#x2F;&#x2F;aws.amazon.com&#x2F;compliance&#x2F;iso-27001-faqs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;aws.amazon.com&#x2F;compliance&#x2F;iso-27001-faqs&#x2F;</a> and also cites the certifying agent, most of which have a search page from where you can find all the certificates they&#x27;ve issued.</div><br/></div></div><div id="42746851" class="c"><input type="checkbox" id="c-42746851" checked=""/><div class="controls bullet"><span class="by">throwaway2037</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42745298">parent</a><span>|</span><a href="#42746876">prev</a><span>|</span><a href="#42744705">next</a><span>|</span><label class="collapse" for="c-42746851">[-]</label><label class="expand" for="c-42746851">[1 more]</label></div><br/><div class="children"><div class="content">I found this list: <a href="https:&#x2F;&#x2F;www.google.com&#x2F;about&#x2F;datacenters&#x2F;locations&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.google.com&#x2F;about&#x2F;datacenters&#x2F;locations&#x2F;</a><p>I cannot believe that they never had a UK DC until recently.  I guess they (originally) chose Ireland instead.</div><br/></div></div></div></div><div id="42744705" class="c"><input type="checkbox" id="c-42744705" checked=""/><div class="controls bullet"><span class="by">matt-p</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744684">parent</a><span>|</span><a href="#42745298">prev</a><span>|</span><a href="#42745377">next</a><span>|</span><label class="collapse" for="c-42744705">[-]</label><label class="expand" for="c-42744705">[13 more]</label></div><br/><div class="children"><div class="content">The hyperscalers are absolutely not colo-ing their general purpose compute at Equinix! A cage for routers and direct connect, maybe some limited Edge CDN&#x2F;compute at most.<p>Even where they do lease wholesale space, you&#x27;d be hard pushed to find examples of more than one in a single building. If you count them as Microsoft, Google, AWS then I&#x27;m not sure I can think of a single example off the top of my head. Only really possible if you start including players like IBM or Oracle in that list.</div><br/><div id="42744718" class="c"><input type="checkbox" id="c-42744718" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744705">parent</a><span>|</span><a href="#42744738">next</a><span>|</span><label class="collapse" for="c-42744718">[-]</label><label class="expand" for="c-42744718">[8 more]</label></div><br/><div class="children"><div class="content">Maybe leasing wholesale space shouldn’t be considered colocation, but GCP absolutely does this and the Slough datacenter was a real example.<p>I can’t dig up the source atm but IIRC some Equinix website was bragging about it (and it wasn’t just about direct connect to GCP).</div><br/><div id="42744749" class="c"><input type="checkbox" id="c-42744749" checked=""/><div class="controls bullet"><span class="by">matt-p</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744718">parent</a><span>|</span><a href="#42744738">next</a><span>|</span><label class="collapse" for="c-42744749">[-]</label><label class="expand" for="c-42744749">[7 more]</label></div><br/><div class="children"><div class="content">Google doesn&#x27;t put GCP compute inside Equinx Slough. I could perhaps believe if they have a cage of routers and perhaps even CDN boxes&#x2F;Edge, but no general cloud compute.<p>Google and AWS will put routers inside Equinx Slough sure, but that&#x27;s literally written on the tin, and the only way a carrier hotel could work.</div><br/><div id="42744779" class="c"><input type="checkbox" id="c-42744779" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744749">parent</a><span>|</span><a href="#42744738">next</a><span>|</span><label class="collapse" for="c-42744779">[-]</label><label class="expand" for="c-42744779">[6 more]</label></div><br/><div class="children"><div class="content">Then why do they obfuscate the location of their servers? If they were all in Google datacenters, why not let me see where my VM is?</div><br/><div id="42744859" class="c"><input type="checkbox" id="c-42744859" checked=""/><div class="controls bullet"><span class="by">achierius</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744779">parent</a><span>|</span><a href="#42744738">next</a><span>|</span><label class="collapse" for="c-42744859">[-]</label><label class="expand" for="c-42744859">[5 more]</label></div><br/><div class="children"><div class="content">Security reasons, I presume? Otherwise it would be trivial for an adversary to map out their resources by sampling VM rentals over a moderate time-period.</div><br/><div id="42744894" class="c"><input type="checkbox" id="c-42744894" checked=""/><div class="controls bullet"><span class="by">lostlogin</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744859">parent</a><span>|</span><a href="#42744738">next</a><span>|</span><label class="collapse" for="c-42744894">[-]</label><label class="expand" for="c-42744894">[4 more]</label></div><br/><div class="children"><div class="content">I’m very naive on the subject here - what advantage would this give someone?</div><br/><div id="42745209" class="c"><input type="checkbox" id="c-42745209" checked=""/><div class="controls bullet"><span class="by">chupasaurus</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744894">parent</a><span>|</span><a href="#42744738">next</a><span>|</span><label class="collapse" for="c-42745209">[-]</label><label class="expand" for="c-42745209">[3 more]</label></div><br/><div class="children"><div class="content">The knowledge of blast radii.</div><br/><div id="42745413" class="c"><input type="checkbox" id="c-42745413" checked=""/><div class="controls bullet"><span class="by">jazzyjackson</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42745209">parent</a><span>|</span><a href="#42744738">next</a><span>|</span><label class="collapse" for="c-42745413">[-]</label><label class="expand" for="c-42745413">[2 more]</label></div><br/><div class="children"><div class="content">Gives whole new meaning to “reverse engineering”</div><br/><div id="42745541" class="c"><input type="checkbox" id="c-42745541" checked=""/><div class="controls bullet"><span class="by">chupasaurus</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42745413">parent</a><span>|</span><a href="#42744738">next</a><span>|</span><label class="collapse" for="c-42745541">[-]</label><label class="expand" for="c-42745541">[1 more]</label></div><br/><div class="children"><div class="content">Well, the alternative name for it is &quot;backwards engineering&quot; for a reason.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="42744738" class="c"><input type="checkbox" id="c-42744738" checked=""/><div class="controls bullet"><span class="by">deelowe</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744705">parent</a><span>|</span><a href="#42744718">prev</a><span>|</span><a href="#42745300">next</a><span>|</span><label class="collapse" for="c-42744738">[-]</label><label class="expand" for="c-42744738">[1 more]</label></div><br/><div class="children"><div class="content">Hyperscalers use colos all the time for edge presence.</div><br/></div></div><div id="42745300" class="c"><input type="checkbox" id="c-42745300" checked=""/><div class="controls bullet"><span class="by">boulos</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744705">parent</a><span>|</span><a href="#42744738">prev</a><span>|</span><a href="#42745016">next</a><span>|</span><label class="collapse" for="c-42745300">[-]</label><label class="expand" for="c-42745300">[1 more]</label></div><br/><div class="children"><div class="content">See my sibling comment :).</div><br/></div></div><div id="42745016" class="c"><input type="checkbox" id="c-42745016" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744705">parent</a><span>|</span><a href="#42745300">prev</a><span>|</span><a href="#42745377">next</a><span>|</span><label class="collapse" for="c-42745016">[-]</label><label class="expand" for="c-42745016">[2 more]</label></div><br/><div class="children"><div class="content">The best part about adamantly making such a claim is that anybody who knows better also knows better than to break NDA and pull a Warthunder to prove that the CSPs do use colo facilities, so you&#x27;re not going to get anyone who knows better to disagree with you and say AWS S3 or GCP compute is colo-ed at a specific colo provider.</div><br/><div id="42745213" class="c"><input type="checkbox" id="c-42745213" checked=""/><div class="controls bullet"><span class="by">matt-p</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42745016">parent</a><span>|</span><a href="#42745377">next</a><span>|</span><label class="collapse" for="c-42745213">[-]</label><label class="expand" for="c-42745213">[1 more]</label></div><br/><div class="children"><div class="content">They consume wholesale space, but not retail Colo for general compute, that&#x27;s all I&#x27;m saying.<p>Equinx is retail, with only a couple of exceptions, although I know they&#x27;re trying to grow the wholesale side.</div><br/></div></div></div></div></div></div><div id="42745377" class="c"><input type="checkbox" id="c-42745377" checked=""/><div class="controls bullet"><span class="by">Over2Chars</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744684">parent</a><span>|</span><a href="#42744705">prev</a><span>|</span><a href="#42745493">next</a><span>|</span><label class="collapse" for="c-42745377">[-]</label><label class="expand" for="c-42745377">[2 more]</label></div><br/><div class="children"><div class="content">Indeed, I&#x27;ve seen &quot;data center&quot; maps, and was surprised they were just a <i>tenant</i> in some <i>other guys</i> data center.</div><br/><div id="42746367" class="c"><input type="checkbox" id="c-42746367" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42745377">parent</a><span>|</span><a href="#42745493">next</a><span>|</span><label class="collapse" for="c-42746367">[-]</label><label class="expand" for="c-42746367">[1 more]</label></div><br/><div class="children"><div class="content">Which makes you a subletter, and the one with the highest fee of the whole chain…</div><br/></div></div></div></div></div></div><div id="42744459" class="c"><input type="checkbox" id="c-42744459" checked=""/><div class="controls bullet"><span class="by">walrus01</span><span>|</span><a href="#42743915">parent</a><span>|</span><a href="#42745493">prev</a><span>|</span><a href="#42745045">next</a><span>|</span><label class="collapse" for="c-42744459">[-]</label><label class="expand" for="c-42744459">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Why would you call colocation &quot;building your own data center&quot;?<p>The cynic in me says this was written by sales&#x2F;marketing people targeted specifically at a whole new generation of people who&#x27;ve never laid hands on the bare metal or racked a piece of equipment or done low voltage cabling, fiber cabling, and &quot;plug this into A and B power AC power&quot; cabling.<p>By this, I mean people who&#x27;ve never done anything that isn&#x27;t GCP, Azure, AWS, etc. Many terminologies related to bare metal infrastructure are misused by people who haven&#x27;t been around in the industry long enough to have been <i>required</i> to DIY all their own infrastructure on their own bare metal.<p>I really don&#x27;t mean any insult to people reading this who&#x27;ve only ever touched the software side, but if a document is describing the <i>general concept</i> of hot aisles and cold aisles to an audience in such a way that it assumes they don&#x27;t know what those are, it&#x27;s at a very introductory&#x2F;beginner level of understanding the OSI layer 1 infrastructure.</div><br/><div id="42744604" class="c"><input type="checkbox" id="c-42744604" checked=""/><div class="controls bullet"><span class="by">justjake</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744459">parent</a><span>|</span><a href="#42745241">next</a><span>|</span><label class="collapse" for="c-42744604">[-]</label><label class="expand" for="c-42744604">[3 more]</label></div><br/><div class="children"><div class="content">I think that&#x27;s my fault BTW (Railway Founder here). I asked Charith to cut down a bit on the details to make sure it was approachable to a wider audience (And most people have only done Cloud)<p>I wanted to start off with the 101 content to see if people found it approachable&#x2F;interesting. He&#x27;s got like reams and reams of 201, 301, 401<p>Next time I&#x27;ll stay out of the writing room!</div><br/><div id="42744922" class="c"><input type="checkbox" id="c-42744922" checked=""/><div class="controls bullet"><span class="by">haneefmubarak</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744604">parent</a><span>|</span><a href="#42745241">next</a><span>|</span><label class="collapse" for="c-42744922">[-]</label><label class="expand" for="c-42744922">[2 more]</label></div><br/><div class="children"><div class="content">Bro let him at the 401 and higher hahaha!</div><br/><div id="42745008" class="c"><input type="checkbox" id="c-42745008" checked=""/><div class="controls bullet"><span class="by">justjake</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744922">parent</a><span>|</span><a href="#42745241">next</a><span>|</span><label class="collapse" for="c-42745008">[-]</label><label class="expand" for="c-42745008">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Booo who let this guy cook?&quot;<p>Fair tbh<p>We will indeed write more on this so this is great feedback for next time!</div><br/></div></div></div></div></div></div><div id="42745241" class="c"><input type="checkbox" id="c-42745241" checked=""/><div class="controls bullet"><span class="by">llm_trw</span><span>|</span><a href="#42743915">root</a><span>|</span><a href="#42744459">parent</a><span>|</span><a href="#42744604">prev</a><span>|</span><a href="#42745045">next</a><span>|</span><label class="collapse" for="c-42745241">[-]</label><label class="expand" for="c-42745241">[1 more]</label></div><br/><div class="children"><div class="content">I mean the more people realize the the cloud is now a bad deal the better.<p>When the original aws instance came out it would take you about two years or on demand to pay for the same hardware on prem. Now its between two weeks for ml heavy instances to six months for medium CPU instances.<p>It just doesn&#x27;t make sence to use the cloud for anything past prototyping unless you want Bazos to have a bigger yacth.</div><br/></div></div></div></div><div id="42744487" class="c"><input type="checkbox" id="c-42744487" checked=""/><div class="controls bullet"><span class="by">TacticalCoder</span><span>|</span><a href="#42743915">parent</a><span>|</span><a href="#42745045">prev</a><span>|</span><a href="#42744572">next</a><span>|</span><label class="collapse" for="c-42744487">[-]</label><label class="expand" for="c-42744487">[1 more]</label></div><br/><div class="children"><div class="content">&gt; You could call it &quot;colocation&quot; or &quot;renting space in a data center&quot;. What are you building? You&#x27;re racking. Can you say what you mean?<p>TFA explain what they&#x27;re doing, they literally write this:<p><i>&quot;In general you have three main choices: Greenfield buildout (...), Cage Colocation (getting a private space inside a provider&#x27;s datacenter enclosed by mesh walls), or Rack colocation...<p>We chose the second option&quot;</i><p>I don&#x27;t know how much clearer they can be.</div><br/></div></div></div></div><div id="42744572" class="c"><input type="checkbox" id="c-42744572" checked=""/><div class="controls bullet"><span class="by">toddmorey</span><span>|</span><a href="#42743915">prev</a><span>|</span><a href="#42746872">next</a><span>|</span><label class="collapse" for="c-42744572">[-]</label><label class="expand" for="c-42744572">[10 more]</label></div><br/><div class="children"><div class="content">Reminds me of the old Rackspace days! Boy we had some war stories:<p><pre><code>   - Some EMC guys came to install a storage device for us to test... and tripped over each other and knocked out an entire Rack of servers like a comedy skit. (They uh... didn&#x27;t win the contract.)
   - Some poor guy driving a truck had a heart attack and the crash took our DFW datecenter offline. (There were ballards to prevent this sort of scenario, but the cement hadn&#x27;t been poured in them yet.)
   - At one point we temporarily laser-beamed bandwidth across the street to another building
   - There was one day we knocked out windows and purchased box fans because servers were literally catching on fire.
</code></pre>
Data center science has... well improved since the earlier days. We worked with Facebook on the OpenCompute Project that had some very forward looking infra concepts at the time.</div><br/><div id="42745385" class="c"><input type="checkbox" id="c-42745385" checked=""/><div class="controls bullet"><span class="by">latchkey</span><span>|</span><a href="#42744572">parent</a><span>|</span><a href="#42744904">next</a><span>|</span><label class="collapse" for="c-42745385">[-]</label><label class="expand" for="c-42745385">[2 more]</label></div><br/><div class="children"><div class="content">We had a bird land on a transformer up on a pole and blew fuses. A couple years later, I toured the facility and the fried carcass was still there on the ground below it.</div><br/><div id="42746486" class="c"><input type="checkbox" id="c-42746486" checked=""/><div class="controls bullet"><span class="by">cbg0</span><span>|</span><a href="#42744572">root</a><span>|</span><a href="#42745385">parent</a><span>|</span><a href="#42744904">next</a><span>|</span><label class="collapse" for="c-42746486">[-]</label><label class="expand" for="c-42746486">[1 more]</label></div><br/><div class="children"><div class="content">Left as a warning to other birds, no doubt.</div><br/></div></div></div></div><div id="42744904" class="c"><input type="checkbox" id="c-42744904" checked=""/><div class="controls bullet"><span class="by">lostlogin</span><span>|</span><a href="#42744572">parent</a><span>|</span><a href="#42745385">prev</a><span>|</span><a href="#42745719">next</a><span>|</span><label class="collapse" for="c-42744904">[-]</label><label class="expand" for="c-42744904">[3 more]</label></div><br/><div class="children"><div class="content">&gt; There was one day we knocked out windows and purchased box fans because servers were literally catching on fire.<p>Pointing the fans in or out?</div><br/><div id="42745315" class="c"><input type="checkbox" id="c-42745315" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#42744572">root</a><span>|</span><a href="#42744904">parent</a><span>|</span><a href="#42745719">next</a><span>|</span><label class="collapse" for="c-42745315">[-]</label><label class="expand" for="c-42745315">[2 more]</label></div><br/><div class="children"><div class="content">You want to point them in.</div><br/><div id="42746464" class="c"><input type="checkbox" id="c-42746464" checked=""/><div class="controls bullet"><span class="by">gr3ml1n</span><span>|</span><a href="#42744572">root</a><span>|</span><a href="#42745315">parent</a><span>|</span><a href="#42745719">next</a><span>|</span><label class="collapse" for="c-42746464">[-]</label><label class="expand" for="c-42746464">[1 more]</label></div><br/><div class="children"><div class="content">The datacenters I&#x27;ve been in with emergency cooling fans in the walls all exhaust out, not in.  Easier to get portable CRACs inside and get a good draft going.</div><br/></div></div></div></div></div></div><div id="42745719" class="c"><input type="checkbox" id="c-42745719" checked=""/><div class="controls bullet"><span class="by">kryogen1c</span><span>|</span><a href="#42744572">parent</a><span>|</span><a href="#42744904">prev</a><span>|</span><a href="#42745862">next</a><span>|</span><label class="collapse" for="c-42745719">[-]</label><label class="expand" for="c-42745719">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Data center science has... well improved since the earlier days<p>You say that, but...<p>&gt; There was one day we knocked out windows and purchased box fans because servers were literally catching on fire<p>This happened to Equinix&#x27;s CH1 datacenter in Chicago Jan24 (not the literal fire part). Took down Azure ExpressRoute.<p>Apparently it got too cold and the CRACs couldn&#x27;t take it? I&#x27;m told they had all the doors and windows open trying to keep things cold enough, but alas. As the CRAC goes, so goes the servers</div><br/></div></div><div id="42745862" class="c"><input type="checkbox" id="c-42745862" checked=""/><div class="controls bullet"><span class="by">greenavocado</span><span>|</span><a href="#42744572">parent</a><span>|</span><a href="#42745719">prev</a><span>|</span><a href="#42746580">next</a><span>|</span><label class="collapse" for="c-42745862">[-]</label><label class="expand" for="c-42745862">[1 more]</label></div><br/><div class="children"><div class="content">When it comes to Internet service we&#x27;re living in the early 2000s in the some parts of the manufacturing world</div><br/></div></div><div id="42746580" class="c"><input type="checkbox" id="c-42746580" checked=""/><div class="controls bullet"><span class="by">drpixie</span><span>|</span><a href="#42744572">parent</a><span>|</span><a href="#42745862">prev</a><span>|</span><a href="#42745196">next</a><span>|</span><label class="collapse" for="c-42746580">[-]</label><label class="expand" for="c-42746580">[1 more]</label></div><br/><div class="children"><div class="content">&gt; and purchased box fans because servers were literally catching on fire<p>Ah yes, or a collection of R2D2 portable air conditioners, with the tails draped out through the window.<p>Or a coolant leak that no one noticed until the sub-floor was completely full and the floor panels started to float!</div><br/></div></div><div id="42745196" class="c"><input type="checkbox" id="c-42745196" checked=""/><div class="controls bullet"><span class="by">wgx</span><span>|</span><a href="#42744572">parent</a><span>|</span><a href="#42746580">prev</a><span>|</span><a href="#42746872">next</a><span>|</span><label class="collapse" for="c-42745196">[-]</label><label class="expand" for="c-42745196">[1 more]</label></div><br/><div class="children"><div class="content">I recall getting a DC tour of LON3 and being totally blown away by it all as a 20-something web dev. Good times.</div><br/></div></div></div></div><div id="42746872" class="c"><input type="checkbox" id="c-42746872" checked=""/><div class="controls bullet"><span class="by">random_savv</span><span>|</span><a href="#42744572">prev</a><span>|</span><a href="#42745808">next</a><span>|</span><label class="collapse" for="c-42746872">[-]</label><label class="expand" for="c-42746872">[1 more]</label></div><br/><div class="children"><div class="content">I guess there&#x27;s another in-between step buying your own hardware, even when merely &quot;leasing individual racks&quot;, and EC2 instances: dedicated bare metal providers like Hetzner.<p>This lets one get closer to the metal (e.g. all your data is on your specific disk, rather than an abstracted block storage, such as EBS, not shared with other users, cheaper, etc) without having to worry about the staff that installs the hardware or where&#x2F;how it fits in a rack.<p>For us, this was a way to get 6x performance for 1&#x2F;6 of the cost. (Excluding, of course our time, but we enjoyed it!)</div><br/></div></div><div id="42745808" class="c"><input type="checkbox" id="c-42745808" checked=""/><div class="controls bullet"><span class="by">motoboi</span><span>|</span><a href="#42746872">prev</a><span>|</span><a href="#42745455">next</a><span>|</span><label class="collapse" for="c-42745808">[-]</label><label class="expand" for="c-42745808">[1 more]</label></div><br/><div class="children"><div class="content">I’m my experience and based on writeups like this: Google hates having customers.<p>Someone decided they have to have a public cloud, so they did it, but they want to keep clients away with a 3 meter pole.<p>My AWS account manager is someone I am 100% certain would roll in the mud with me if necessary. Would sleep in the floor with us if we asked in a crisis.<p>Our Google cloud representatives make me sad because I can see that they are even less loved and supported by Google than us. It’s sad seeing someone trying to convince their company to sell and actually do a good job providing service.  It’s like they are setup to fail.<p>Microsoft guys are just bulletproof and excel in selling, providing a good service and squeezing all your money out of your pockets and you are mortally convinced it’s for your own good. Also have a very strange cloud… thing.<p>As for the railway company going metal, well, I have some 15 years of experience with it. I’ll never, NEVER, EVER return to it. It’s just not worth it. But I guess you’ll have to discover it by yourselves. This is the way.<p>You soon discover what in freaking world is Google having so much trouble with. Just make sure you really really love and really really want to sell service to people, instead of building borgs and artificial brains and you’ll do 100x better.</div><br/></div></div><div id="42745455" class="c"><input type="checkbox" id="c-42745455" checked=""/><div class="controls bullet"><span class="by">ChuckMcM</span><span>|</span><a href="#42745808">prev</a><span>|</span><a href="#42744258">next</a><span>|</span><label class="collapse" for="c-42745455">[-]</label><label class="expand" for="c-42745455">[1 more]</label></div><br/><div class="children"><div class="content">From the post: &quot;<i>...but also despite multi-million dollar annual spend, we get about as much support from them as you would spending $100.</i>&quot; -- Ouch! That is a pretty huge problem for Google.<p>I really enjoyed this post, mostly because we had similar adventures when setting up the infrastructure for Blekko. For Blekko, a company that had a lot of &quot;east west&quot; network traffic (that is traffic that goes between racks vs to&#x2F;from the Internet at large) having physically colocated services without competing with other servers for bandwidth was both essential and much more cost effective than paying for this special case at SoftLayer (IBM&#x27;s captive cloud).<p>There are some really cool companies that will build an enclosure for your cold isle, basically it ensures all the air coming out of the floor goes into the back of your servers and not anywhere else. It also keeps not cold air from being entrained from the sides into your servers.<p>The calculations for HVAC &#x27;CRAC&#x27; capacity in a data center are interesting too. In the first CoLo facility we had a &#x27;ROFOR&#x27; (right of first refusal) on expanding into the floor area next to our cage, but when it came time to expand the facility had no more cooling capacity left so it was meaningless.<p>Once you&#x27;ve done this exercise, looking at the 0xide solution will make a lot more sense to you.</div><br/></div></div><div id="42744258" class="c"><input type="checkbox" id="c-42744258" checked=""/><div class="controls bullet"><span class="by">jdoss</span><span>|</span><a href="#42745455">prev</a><span>|</span><a href="#42744709">next</a><span>|</span><label class="collapse" for="c-42744258">[-]</label><label class="expand" for="c-42744258">[7 more]</label></div><br/><div class="children"><div class="content">This is a pretty decent write up. One thing that comes to mind is why would you write your own internal tooling for managing a rack when Netbox exists? Netbox is fantastic and I wish I had this back in the mid 2000s when I was managing 50+ racks.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;netbox-community&#x2F;netbox">https:&#x2F;&#x2F;github.com&#x2F;netbox-community&#x2F;netbox</a></div><br/><div id="42746836" class="c"><input type="checkbox" id="c-42746836" checked=""/><div class="controls bullet"><span class="by">jpc0</span><span>|</span><a href="#42744258">parent</a><span>|</span><a href="#42744318">next</a><span>|</span><label class="collapse" for="c-42746836">[-]</label><label class="expand" for="c-42746836">[1 more]</label></div><br/><div class="children"><div class="content">I like netbox, had it deployed for quite a while. It&#x27;s performance was abysmal and I had to shape my world around how they wanted things.<p>This is the usual case of &quot;We need X and Y does X&quot;, but ignoring that Y also does Z,M,Q and washes dishes and you really don&#x27;t need those things.<p>Sometimes building what you need is the easiest solution, specially when what you need is CRUD infront of a DB...</div><br/></div></div><div id="42744318" class="c"><input type="checkbox" id="c-42744318" checked=""/><div class="controls bullet"><span class="by">ca508</span><span>|</span><a href="#42744258">parent</a><span>|</span><a href="#42746836">prev</a><span>|</span><a href="#42745234">next</a><span>|</span><label class="collapse" for="c-42744318">[-]</label><label class="expand" for="c-42744318">[1 more]</label></div><br/><div class="children"><div class="content">we evaluated a lot of commercial and oss offerings before we decided do go build it ourselves - we still have a deploy of netbox somewhere. But our custom tool (Railyard) works so well because it integrates deeply into the our full software, hardware and orchestration stack. The problem with the OSS stuff is that it&#x27;s almost too generic - you shape the problem to fit its data model vs. solve the problem. We&#x27;re likely going to fold our tool into Railway itself eventually - want to go on-prem; button click hardware design, commission, deploy and devex. Sorta like what Oxide is doing, but approaching the problem from the opposite side.</div><br/></div></div><div id="42745234" class="c"><input type="checkbox" id="c-42745234" checked=""/><div class="controls bullet"><span class="by">nyrikki</span><span>|</span><a href="#42744258">parent</a><span>|</span><a href="#42744318">prev</a><span>|</span><a href="#42744734">next</a><span>|</span><label class="collapse" for="c-42745234">[-]</label><label class="expand" for="c-42745234">[1 more]</label></div><br/><div class="children"><div class="content">Look at the issue list...that is why.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;netbox-community&#x2F;netbox&#x2F;issues?q=is%3Aissue%20state%3Aopen%20label%3A%22status%3A%20needs%20triage%22">https:&#x2F;&#x2F;github.com&#x2F;netbox-community&#x2F;netbox&#x2F;issues?q=is%3Aiss...</a><p>Note how they want to be &quot;NetBox functions as the source of truth for your network infrastructure.&quot;<p>Your individual situation dictates what is important, but had netbox targeted being a central repository vs insisting on not allow other systems to be truthful for certain items it could be a different story.<p>We have learned that trying to centralize complexity and control doesn&#x27;t work, heck we knew that almost immediately after the Clinger Cohen Act passed and even ITIL and TOGAF fully call this out now and I expect this to be targeted by consultants over the next few years.<p>You need a central constant way to find state, to remove any questions or doubt regarding where to find the authoritative information, but generally if you aspire to scale and grow or adapt to new changes you really need to avoid having some centralized, god-box, and prescriptive system like this.</div><br/></div></div><div id="42744734" class="c"><input type="checkbox" id="c-42744734" checked=""/><div class="controls bullet"><span class="by">matt-p</span><span>|</span><a href="#42744258">parent</a><span>|</span><a href="#42745234">prev</a><span>|</span><a href="#42745416">next</a><span>|</span><label class="collapse" for="c-42744734">[-]</label><label class="expand" for="c-42744734">[2 more]</label></div><br/><div class="children"><div class="content">It is not that difficult to build it into your app, if you&#x27;re already storing information about hosts, networking etc. All you&#x27;re really doing is expanding the scope, netbox is a fine starting point if you&#x27;re willing to <i>start</i> there and build your systems around it, but if you&#x27;ve already got a system (or you need to do anything that doesn&#x27;t fit netbox logic) you&#x27;re probably better off just extending it.<p>In this case railway will need to care about a <i>lot</i> of extra information beyond just racks, IP addresses and physical servers.</div><br/><div id="42744989" class="c"><input type="checkbox" id="c-42744989" checked=""/><div class="controls bullet"><span class="by">ca508</span><span>|</span><a href="#42744258">root</a><span>|</span><a href="#42744734">parent</a><span>|</span><a href="#42745416">next</a><span>|</span><label class="collapse" for="c-42744989">[-]</label><label class="expand" for="c-42744989">[1 more]</label></div><br/><div class="children"><div class="content">correct; I think the first version of our tool sprung up in the space of a couple of weekends. It wasn&#x27;t planned, my colleague Pierre who wrote it just had a lot of fun building it.</div><br/></div></div></div></div><div id="42745416" class="c"><input type="checkbox" id="c-42745416" checked=""/><div class="controls bullet"><span class="by">whalesalad</span><span>|</span><a href="#42744258">parent</a><span>|</span><a href="#42744734">prev</a><span>|</span><a href="#42744709">next</a><span>|</span><label class="collapse" for="c-42745416">[-]</label><label class="expand" for="c-42745416">[1 more]</label></div><br/><div class="children"><div class="content">Netbox is just 10,000 Django models with a theme on top. Not very rewarding software to use.</div><br/></div></div></div></div><div id="42744709" class="c"><input type="checkbox" id="c-42744709" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#42744258">prev</a><span>|</span><a href="#42745677">next</a><span>|</span><label class="collapse" for="c-42744709">[-]</label><label class="expand" for="c-42744709">[2 more]</label></div><br/><div class="children"><div class="content">This is how you build a dominant company. Good for you ignoring the whiny conventional wisdom that keeps people stuck in the hyperscalers.<p>You’re an infrastructure company. You gotta own the metal that you sell or you’re just a middleman for the cloud, and always at risk of being undercut by a competitor on bare metal with $0 egress fees.<p>Colocation and peering for $0 egress is why Cloudflare has a free tier, and why new entrants could never compete with them by reselling cloud services.<p>In fact, for hyperscalers, bandwidth price gouging isn’t just a profit center; it’s a moat. It ensures you can’t build the next AWS on AWS, and creates an entirely new (and strategically weaker) market segment of “PaaS” on top of “IaaS.”</div><br/><div id="42744840" class="c"><input type="checkbox" id="c-42744840" checked=""/><div class="controls bullet"><span class="by">justjake</span><span>|</span><a href="#42744709">parent</a><span>|</span><a href="#42745677">next</a><span>|</span><label class="collapse" for="c-42744840">[-]</label><label class="expand" for="c-42744840">[1 more]</label></div><br/><div class="children"><div class="content">Yup. Bingo. We&#x27;ve had to pass the cloud egress costs onto our customers, which sucks.<p>With this, it&#x27;ll mean we can slash that in half, lower storage costs, remove &quot;per seat&quot; pricing, etc<p>Super exciting</div><br/></div></div></div></div><div id="42745677" class="c"><input type="checkbox" id="c-42745677" checked=""/><div class="controls bullet"><span class="by">winash83</span><span>|</span><a href="#42744709">prev</a><span>|</span><a href="#42745491">next</a><span>|</span><label class="collapse" for="c-42745677">[-]</label><label class="expand" for="c-42745677">[2 more]</label></div><br/><div class="children"><div class="content">We went down this path over the last year, lots of our devs need local and dev&#x2F;test environments and AWS was costing us a bomb, With about 7 Bare metals(Colocation) we are running about 200+ VMs and could double that number with some capacity to spare. For management, we built a simple wrapper over libvirt.
I am setting up another rack in the US and will end up costing around $75Kper year for a similar capacity.<p>Our prod is on AWS but we plan to move everything else and it&#x27;s expected to save at least a quarter of a million dollars per year</div><br/><div id="42746535" class="c"><input type="checkbox" id="c-42746535" checked=""/><div class="controls bullet"><span class="by">cbg0</span><span>|</span><a href="#42745677">parent</a><span>|</span><a href="#42745491">next</a><span>|</span><label class="collapse" for="c-42746535">[-]</label><label class="expand" for="c-42746535">[1 more]</label></div><br/><div class="children"><div class="content">Sounds like a good chunk of money saved, but are you getting the same level of redundancy as you did on the cloud?</div><br/></div></div></div></div><div id="42745491" class="c"><input type="checkbox" id="c-42745491" checked=""/><div class="controls bullet"><span class="by">ch33zer</span><span>|</span><a href="#42745677">prev</a><span>|</span><a href="#42744034">next</a><span>|</span><label class="collapse" for="c-42745491">[-]</label><label class="expand" for="c-42745491">[1 more]</label></div><br/><div class="children"><div class="content">I used to work on machine repair automation at a big tech company. IMO repairs are one of the overlooked and harder things to deal with. When you run on AWS you don&#x27;t really think about broken hardware it mostly just repairs itself. When you do it yourself you don&#x27;t have that luxury. You need to have spare parts, technician to do repairs, a process for draining&#x2F;undraining jobs off hosts, testing suites, hardware monitoring tools and 1001 more things to get this right. At smaller scales you can cut corners on some of these things but they will eventually bite you. And this is just machines! Networking gear has it&#x27;s own fun set of problems, and when it fails it can take down your whole rack. How much do you trust your colos not to lose power during peak load? I hope you run disaster recovery drills to prep for these situations!<p>Wishing all the best to this team, seems like fun!</div><br/></div></div><div id="42744034" class="c"><input type="checkbox" id="c-42744034" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#42745491">prev</a><span>|</span><a href="#42745311">next</a><span>|</span><label class="collapse" for="c-42744034">[-]</label><label class="expand" for="c-42744034">[5 more]</label></div><br/><div class="children"><div class="content">It would be nice to have a lot more detail. The WTF sections are the best part. Sounds like your gear needs &quot;this side towards enemy&quot; sign and&#x2F;or the right affordances so it only goes in one way.<p>Did you standardize on layout at the rack level? What poke-yoke processes did you put into place to prevent mistakes?<p>What does your metal-&gt;boot stack look like?<p>Having worked for two different cloud providers and built my own internal clouds with PXE booted hosts, I too find this stuff fascinating.<p>Also take utmost advantage of a new DC when you are booting it to try out all the failure scenarios you can think of and the ones you can&#x27;t through randomized fault injection.</div><br/><div id="42744133" class="c"><input type="checkbox" id="c-42744133" checked=""/><div class="controls bullet"><span class="by">ca508</span><span>|</span><a href="#42744034">parent</a><span>|</span><a href="#42745311">next</a><span>|</span><label class="collapse" for="c-42744133">[-]</label><label class="expand" for="c-42744133">[4 more]</label></div><br/><div class="children"><div class="content">&gt; It would be nice to have a lot more detail<p>I&#x27;m going to save this for when I&#x27;m asked to cut the three paras on power circuit types.<p>Re: standardising layout at the rack level; we do now! we only figured this out after site #2. It makes everything so much easier to verify. And yeah, validation is hard - manually doing it thus far; want to play around with scraping LLDP data but our switch software stack has a bug :&#x2F;. It&#x27;s an evolving process, the more we work with different contractors, the more edge cases we unearth and account for. The biggest improvement is that we have built a internal DCIM that templates a rack design and exports a interactive &quot;cabling explorer&quot; for the site techs - including detailed annotated diagrams of equipment showing port names, etc... The screenshot of the elevation is a screenshot of part of that tool.<p>&gt; What does your metal-&gt;boot stack look like?<p>We&#x27;ve hacked together something on top of <a href="https:&#x2F;&#x2F;github.com&#x2F;danderson&#x2F;netboot&#x2F;tree&#x2F;main&#x2F;pixiecore">https:&#x2F;&#x2F;github.com&#x2F;danderson&#x2F;netboot&#x2F;tree&#x2F;main&#x2F;pixiecore</a> that serves a debian netboot + preseed file. We have some custom temporal workers to connect to Redfish APIs on the BMCs to puppeteer the contraption. Then a custom host agent to provision QEMU VMs and advertise assigned IPs via BGP (using FRR) from the host.<p>Re: new DCs for failure scenarios, yeah we&#x27;ve already blown breakers etc... testing stuff (that&#x27;s how we figured out our phase balancing was off). Went in with a thermal camera on another. A site in AMS is coming up next week and the goal for that is to see how far we can push a fully loaded switch fabric.</div><br/><div id="42744254" class="c"><input type="checkbox" id="c-42744254" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#42744034">root</a><span>|</span><a href="#42744133">parent</a><span>|</span><a href="#42745311">next</a><span>|</span><label class="collapse" for="c-42744254">[-]</label><label class="expand" for="c-42744254">[3 more]</label></div><br/><div class="children"><div class="content">Wonderful!<p>The edge cases are the gold btw, collect the whole set and keep them in a human and machine readable format.<p>I&#x27;d also go through and using a color coded set of cables, insert bad cables (one at a time at first) while the system is doing an aggressive all to all workload and see how quickly you can identify faults.<p>It is the gray failures that will bring the system down, often multiple as a single failure will go undetected for months and then finally tip over an inflection point at a later time.<p>Are you workloads ephemeral and&#x2F;or do they live migrate? Or will physical hosts have long uptimes? It is nice to be able to rebaseline the hardware before and after host kernel upgrades so you can detect any anomalies.<p>You would be surprised about how larger of a systemic performance degradation that major cloud providers have been able to see over months because &quot;all machines are the same&quot;, high precision but low absolute accuracy. It is nice to run the same benchmarks on bare metal and then again under virtualization.<p>I am sure you know, but you are running a multivariate longitudinal experiment, science the shit out of it.</div><br/><div id="42744454" class="c"><input type="checkbox" id="c-42744454" checked=""/><div class="controls bullet"><span class="by">ca508</span><span>|</span><a href="#42744034">root</a><span>|</span><a href="#42744254">parent</a><span>|</span><a href="#42745311">next</a><span>|</span><label class="collapse" for="c-42744454">[-]</label><label class="expand" for="c-42744454">[2 more]</label></div><br/><div class="children"><div class="content">Long running hosts at the moment, but we can drain most workloads off a specific host&#x2F;rack if required and reschedule it pretty fast. We have the advantage of having a custom scheduler&#x2F;orchestrator we&#x27;ve been working on for years, so we have a lot of control on that layer than with Kube or Nomad.<p>Re: Live Migration
We&#x27;re working on adding Live Migration support to our orchestrator atm. We aim to have it running this quarter. That&#x27;ll makes things super seamless.<p>Re: kernels
We&#x27;ve already seen some perf improvements somewhere between 6.0 and 6.5 (I forget the exact reason&#x2F;version) - but it was some fix specific to the Sapphire Rapids cpus we had. But I wish we had more time to science on it, it&#x27;s really fun playing with all the knobs and benchmarking stuff. Some of the telemetry on the new CPUs is also crazy - there&#x27;s stuff like Intel PCM that can pull super fine-grained telemetry direct from the CPU&#x2F;chipset <a href="https:&#x2F;&#x2F;github.com&#x2F;intel&#x2F;pcm">https:&#x2F;&#x2F;github.com&#x2F;intel&#x2F;pcm</a>. Only used it to confirm that we got NUMA affinity right so far - nothing crazy.</div><br/><div id="42744659" class="c"><input type="checkbox" id="c-42744659" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#42744034">root</a><span>|</span><a href="#42744454">parent</a><span>|</span><a href="#42745311">next</a><span>|</span><label class="collapse" for="c-42744659">[-]</label><label class="expand" for="c-42744659">[1 more]</label></div><br/><div class="children"><div class="content">Last thing.<p>You <i>will</i> need a way to coordinate LM with users due them being sensitive to LM blackouts. Not many workloads are, but the ones that are are the kinds of things that customers will just leave over.<p>If you are draining a host, make sure new VMs are on hosts that can be guaranteed to be maintenance free for the next x-days. This allows customers to restart their workloads on their schedule and have a guarantee that they won&#x27;t be impacted. It also encourages good hygiene.<p>Allow customers to trigger migration.<p>Charge extra for a long running maintenance free host.<p>It is good you are hooked into the PCM already. You will experience accidentally antagonistic workloads and the PCM will really help debug those issues.<p>If I were building a DC, I put as many NICs into a host as possible and use SR-VIO to pass the nics into the guests. The switches should be sized to allow for full speed on all nics. I know it sounds crazy but if you design for a typical crud serving tree, you are a saving a buck but making your software problem 100x harder.<p>Everything should have enough headroom so it never hits a knee of a contention curve.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42745311" class="c"><input type="checkbox" id="c-42745311" checked=""/><div class="controls bullet"><span class="by">jpleger</span><span>|</span><a href="#42744034">prev</a><span>|</span><a href="#42743076">next</a><span>|</span><label class="collapse" for="c-42745311">[-]</label><label class="expand" for="c-42745311">[1 more]</label></div><br/><div class="children"><div class="content">Makes me remember some of the days I had in my career. There were a couple really interesting datacenter things I learned by having to deploy tens of thousands of servers in the 2003-2010 timeframe.<p>Cable management and standardization was extremely important (like you couldn&#x27;t get by with shitty practices). At one place where we were deploying hundreds of servers per week, we had a menu of what ops people could choose if the server was different than one of the major clusters. We essentially had 2 chassis options, big disk servers which were 2u or 1u pizza boxes. You then could select 9&#x2F;36&#x2F;146gb SCSI drives. Everything was dual processor with the same processors and we basically had the bottom of the rack with about 10x 2u boxes and then the rest was filled with 20 or more 1u boxes.<p>If I remember correctly we had gotten such an awesome deal on the price for power, because we used facility racks in the cage or something, since I think they threw in the first 2x 30 amp (240v) circuits for free when you used their racks. IIRC we had a 10 year deal on that and there was no metering on them, so we just packed each rack as much as we could. We would put 2x 30s on one side and 2x 20s on another side. I have to think that the DC was barely breaking even because of how much heat we put out and power consumption. Maybe they were making up for it in connection &#x2F; peering fees.<p>I can&#x27;t remember the details, will have to check with one of my friends that worked there around that time.</div><br/></div></div><div id="42743076" class="c"><input type="checkbox" id="c-42743076" checked=""/><div class="controls bullet"><span class="by">dban</span><span>|</span><a href="#42745311">prev</a><span>|</span><a href="#42746221">next</a><span>|</span><label class="collapse" for="c-42743076">[-]</label><label class="expand" for="c-42743076">[6 more]</label></div><br/><div class="children"><div class="content">This is our first post about building out data centers. If you have any questions, we&#x27;re happy to answer them here :)</div><br/><div id="42744958" class="c"><input type="checkbox" id="c-42744958" checked=""/><div class="controls bullet"><span class="by">coder543</span><span>|</span><a href="#42743076">parent</a><span>|</span><a href="#42743553">next</a><span>|</span><label class="collapse" for="c-42744958">[-]</label><label class="expand" for="c-42744958">[1 more]</label></div><br/><div class="children"><div class="content">I thought it was an interesting post, so I tried to add Railway&#x27;s blog to my RSS reader... but it didn&#x27;t work. I tried searching the page source for RSS and also found nothing. Eventually, I noticed the RSS icon in the top right, but it&#x27;s some kind of special button that I can&#x27;t right click and copy the link from, and Safari prevents me from knowing what the URL is... so I had to open that from Firefox to find it.<p>Could be worth adding a &lt;meta&gt; tag to the &lt;head&gt; so that RSS readers can autodiscover the feed. A random link I found on Google: <a href="https:&#x2F;&#x2F;www.petefreitag.com&#x2F;blog&#x2F;rss-autodiscovery&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.petefreitag.com&#x2F;blog&#x2F;rss-autodiscovery&#x2F;</a></div><br/></div></div><div id="42743553" class="c"><input type="checkbox" id="c-42743553" checked=""/><div class="controls bullet"><span class="by">gschier</span><span>|</span><a href="#42743076">parent</a><span>|</span><a href="#42744958">prev</a><span>|</span><a href="#42746221">next</a><span>|</span><label class="collapse" for="c-42743553">[-]</label><label class="expand" for="c-42743553">[4 more]</label></div><br/><div class="children"><div class="content">How do you deal with drive failures? How often does a Railway team member need to visit a DC? What&#x27;s it like inside?</div><br/><div id="42743681" class="c"><input type="checkbox" id="c-42743681" checked=""/><div class="controls bullet"><span class="by">justjake</span><span>|</span><a href="#42743076">root</a><span>|</span><a href="#42743553">parent</a><span>|</span><a href="#42746221">next</a><span>|</span><label class="collapse" for="c-42743681">[-]</label><label class="expand" for="c-42743681">[3 more]</label></div><br/><div class="children"><div class="content">Everything is dual redundancy. We run RAID so if a drive fails it&#x27;s fine; alerting will page oncall which will trigger remote hands onsite, where we have spares for everything in each datacenter</div><br/><div id="42743725" class="c"><input type="checkbox" id="c-42743725" checked=""/><div class="controls bullet"><span class="by">gschier</span><span>|</span><a href="#42743076">root</a><span>|</span><a href="#42743681">parent</a><span>|</span><a href="#42746221">next</a><span>|</span><label class="collapse" for="c-42743725">[-]</label><label class="expand" for="c-42743725">[2 more]</label></div><br/><div class="children"><div class="content">How much additional overhead is there for managing the bare-metal vs cloud? Is it mostly fine after the big effort for initial setup?</div><br/><div id="42743901" class="c"><input type="checkbox" id="c-42743901" checked=""/><div class="controls bullet"><span class="by">ca508</span><span>|</span><a href="#42743076">root</a><span>|</span><a href="#42743725">parent</a><span>|</span><a href="#42746221">next</a><span>|</span><label class="collapse" for="c-42743901">[-]</label><label class="expand" for="c-42743901">[1 more]</label></div><br/><div class="children"><div class="content">We built some internal tooling to help manage the hosts. Once a host is onboarded onto it, it&#x27;s a few button clicks on an internal dashboard to provision a QEMU VM. We made a custom ansible inventory plugin so we can manage these VMs the same as we do machines on GCP.<p>The host runs a custom daemon that programs FRR (an OSS routing stack), so that it advertises addresses assigned to a VM to the rest of the cluster via BGP. So zero config of network switches, etc... required after initial setup.<p>We&#x27;ll blog about this system at some point in the coming months.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42746221" class="c"><input type="checkbox" id="c-42746221" checked=""/><div class="controls bullet"><span class="by">scarab92</span><span>|</span><a href="#42743076">prev</a><span>|</span><a href="#42744627">next</a><span>|</span><label class="collapse" for="c-42746221">[-]</label><label class="expand" for="c-42746221">[2 more]</label></div><br/><div class="children"><div class="content">Interesting that they call out the extortionate egress fees from the majors as a motivation, but are nevertheless also charging customers $0.10 per GB themselves.</div><br/><div id="42746298" class="c"><input type="checkbox" id="c-42746298" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#42746221">parent</a><span>|</span><a href="#42744627">next</a><span>|</span><label class="collapse" for="c-42746298">[-]</label><label class="expand" for="c-42746298">[1 more]</label></div><br/><div class="children"><div class="content">Bezos: Your margin is my opportunity.<p>Railway: No, <i>your</i> margin is <i>my</i> opportunity.</div><br/></div></div></div></div><div id="42744627" class="c"><input type="checkbox" id="c-42744627" checked=""/><div class="controls bullet"><span class="by">linsomniac</span><span>|</span><a href="#42746221">prev</a><span>|</span><a href="#42746272">next</a><span>|</span><label class="collapse" for="c-42744627">[-]</label><label class="expand" for="c-42744627">[1 more]</label></div><br/><div class="children"><div class="content">Was really hoping this was was actually about building your own data center.  Our town doesn&#x27;t have a data center, we need to go an hour south or an hour north.  The building that a past failed data center was in (which doesn&#x27;t bode well for a data center in town, eh?), is up for lease and I&#x27;m tempted.<p>But, I&#x27;d need to start off small, probably per-cabinet UPSes and transfer switches, smaller generators.  I&#x27;ve built up cabinets and cages before, but never built up the exterior infrastructure.</div><br/></div></div><div id="42746272" class="c"><input type="checkbox" id="c-42746272" checked=""/><div class="controls bullet"><span class="by">ThinkBeat</span><span>|</span><a href="#42744627">prev</a><span>|</span><a href="#42745578">next</a><span>|</span><label class="collapse" for="c-42746272">[-]</label><label class="expand" for="c-42746272">[2 more]</label></div><br/><div class="children"><div class="content">1. Is the impression they decided to use a non datacenter location to put their datacenter, 
If so that is not a good idea.<p>2. Geographical distanced backups, if the primary fails. 
Without this you are already in trouble.
What happens if the buildings burns down?<p>3. Hooking up with &quot;local&quot; ISPs 
That seems ok.  As long as ISP failing is easily and 
autoamically dealt with.<p>4. I am a bit confused about what happens at the edge.
On the one head it seems like you have 1 datacenter,
and ISPs doing routing, other places I get the impression
you have compute close to the edge.
Which is it?</div><br/><div id="42746288" class="c"><input type="checkbox" id="c-42746288" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#42746272">parent</a><span>|</span><a href="#42745578">next</a><span>|</span><label class="collapse" for="c-42746288">[-]</label><label class="expand" for="c-42746288">[1 more]</label></div><br/><div class="children"><div class="content">1. No, they&#x27;re using a cage inside a real data center in Ashburn VA which is basically data center city.<p>2. In the diagram you can see site 1 and site 2.<p>3. Yes, routers automatically deal with ISP failures.</div><br/></div></div></div></div><div id="42745578" class="c"><input type="checkbox" id="c-42745578" checked=""/><div class="controls bullet"><span class="by">nyrikki</span><span>|</span><a href="#42746272">prev</a><span>|</span><a href="#42744947">next</a><span>|</span><label class="collapse" for="c-42745578">[-]</label><label class="expand" for="c-42745578">[1 more]</label></div><br/><div class="children"><div class="content">&gt; This will likely involve installing some overhead infrastructure and trays that let you route fiber cables from the edge of your cage to each of your racks, and to route cables between racks<p>Perhaps I am reading this wrong, as you appear to be fiber heavy and do have space on the ladder rack for copper, but if you are commingling the two, be careful. A possible future iteration, would consider a smaller panduit fiberunner setup + a wire rack.<p>Co-mingling copper and fiber, especially through the large spill-overs works until it doesn&#x27;t.<p>Depending on how adaptive you need to be with technology changes, you may run into this in a few years.<p>4x6 encourages a lot of people putting extra cable up in those runners, and sharing a spout with cat-6, cx-#, PDU serial, etc... will almost always end badly for some chunk of fiber.  After those outages it also encourages people to &#x27;upgrade in place&#x27;. When you are walking to your cage look at older cages, notice the loops sticking out of the tops of the trays and some switches that look like porcupines because someone caused an outage and old cables are left in place.<p>Congrats on your new cage.</div><br/></div></div><div id="42744947" class="c"><input type="checkbox" id="c-42744947" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#42745578">prev</a><span>|</span><a href="#42746829">next</a><span>|</span><label class="collapse" for="c-42744947">[-]</label><label class="expand" for="c-42744947">[1 more]</label></div><br/><div class="children"><div class="content">My first colo box came courtesy of a friend of a friend that worked for one of the companies that did that (leaving out names to protect the innocent). It was a true frankenputer built out of whatever spare parts he had laying around. He let me come visit it, and it was an art project as much as a webserver. The mainboard was hung on the wall with some zip ties, the PSU was on the desk top, the hard drive was suspended as well. Eventually, the system was upgraded to newer hardware, put in an actual case, and then racked with an upgraded 100base-t connection. We were screaming in 1999.</div><br/></div></div><div id="42746829" class="c"><input type="checkbox" id="c-42746829" checked=""/><div class="controls bullet"><span class="by">technick</span><span>|</span><a href="#42744947">prev</a><span>|</span><a href="#42744637">next</a><span>|</span><label class="collapse" for="c-42746829">[-]</label><label class="expand" for="c-42746829">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve spent more time than I care working in data centers and can tell you that your job req is asking for one person to perform 3 different roles, maybe 4. I guarantee you&#x27;re going to find a &quot;jack of all trades&quot; and a master of none unless you break them out into these jobs.<p>Application Developer<p>DevOps Engineer<p>Site Reliability Engineer<p>Storage Engineer<p>Good luck, hope you pay them well.</div><br/></div></div><div id="42744637" class="c"><input type="checkbox" id="c-42744637" checked=""/><div class="controls bullet"><span class="by">pixelesque</span><span>|</span><a href="#42746829">prev</a><span>|</span><a href="#42745359">next</a><span>|</span><label class="collapse" for="c-42744637">[-]</label><label class="expand" for="c-42744637">[2 more]</label></div><br/><div class="children"><div class="content">The date and time durations given seem a bit confusing to me...<p>&quot;we kicked off a Railway Metal project last year. Nine months later we were live with the first site in California&quot;.<p>seems inconsistent with:<p>&quot;From kicking off the Railway Metal project in October last-year, it took us five long months to get the first servers plugged in&quot;<p>The article was posted today (Jan 2025), was it maybe originally written last year and the project has been going on for more than a year, and they mean that the Railway Metal project actually started in 2023?</div><br/><div id="42744740" class="c"><input type="checkbox" id="c-42744740" checked=""/><div class="controls bullet"><span class="by">ca508</span><span>|</span><a href="#42744637">parent</a><span>|</span><a href="#42745359">next</a><span>|</span><label class="collapse" for="c-42744740">[-]</label><label class="expand" for="c-42744740">[1 more]</label></div><br/><div class="children"><div class="content">ah that&#x27;s my bad - I wrote this in Dec, we only published in Jan. Obv. missed updating that.<p>Timeline wise; 
- we decided to go for it and spend the $$$ in Oct &#x27;23
- Convos&#x2F;planning started ~ Jan &#x27;24
- Picked the vendors we wanted by ~ Feb&#x2F;Mar &#x27;24
- Lead-times, etc... meant everything was ready for us to go fit the first gear by mostly ourselves at the start of May (that&#x27;s the 5mo)
- We did the &quot;proper&quot; re-install around June, followed closely by the second site in ~ Sep, around when we started letting our users on it as a open beta
- Sep-Dec we just doubled down on refining software&#x2F;automation and process while building out successive installs<p>Lead times can be mind numbing. We have certain switches from Arista that have a 3-6 mo leadtime. Servers are build to order, so again 2+ months depending on stock. And obv. holidays mean a lot of stuff shuts down around December.<p>Sometimes you can swap stuff around to get better lead-times, but then the operational complexity explodes because you have this slightly different component at this one site.<p>I used to be a EEE, and I thought supply chain there was bad. But with DCs I think it&#x27;s sometimes worse because you don&#x27;t directly control some parts of your BoM&#x2F;supply chain (especially with build-to-order servers).</div><br/></div></div></div></div><div id="42745359" class="c"><input type="checkbox" id="c-42745359" checked=""/><div class="controls bullet"><span class="by">Over2Chars</span><span>|</span><a href="#42744637">prev</a><span>|</span><a href="#42744045">next</a><span>|</span><label class="collapse" for="c-42745359">[-]</label><label class="expand" for="c-42745359">[1 more]</label></div><br/><div class="children"><div class="content">I guess we can always try to re-hire all those &quot;Sys Admins&quot; we thought we could live without.<p>LOL?</div><br/></div></div><div id="42744683" class="c"><input type="checkbox" id="c-42744683" checked=""/><div class="controls bullet"><span class="by">matt-p</span><span>|</span><a href="#42744045">prev</a><span>|</span><a href="#42743953">next</a><span>|</span><label class="collapse" for="c-42744683">[-]</label><label class="expand" for="c-42744683">[2 more]</label></div><br/><div class="children"><div class="content">If you’re using 7280-SR3 switches, they’re certainly a fine choice. However, have you considered the 7280-CR3(K) range? They&#x27;re much better $&#x2F;Gbps and more relevant edge interfaces.<p>At this scale, why did you opt for a spine-and-leaf design with 25G switches and a dedicated 32×100G spine? Did you explore just collapsing it and using 1-2 32×100G switches per rack, then employing 100G&gt;4×25G AOC breakout cables and direct 100G links for inter-switch connections and storage servers?<p>Have you also thought about creating a record on PeeringDB?<a href="https:&#x2F;&#x2F;www.peeringdb.com&#x2F;net&#x2F;400940" rel="nofollow">https:&#x2F;&#x2F;www.peeringdb.com&#x2F;net&#x2F;400940</a>.<p>By the way, I’m not convinced I’d recommend a UniFi Pro for anything, even for out-of-band management.</div><br/><div id="42744870" class="c"><input type="checkbox" id="c-42744870" checked=""/><div class="controls bullet"><span class="by">ca508</span><span>|</span><a href="#42744683">parent</a><span>|</span><a href="#42743953">next</a><span>|</span><label class="collapse" for="c-42744870">[-]</label><label class="expand" for="c-42744870">[1 more]</label></div><br/><div class="children"><div class="content">All valid points - and our ideas for Gen 2 sound directionally similar - but those are at crayon drawing stage.<p>When we started, we didn&#x27;t have much of an idea about what the rack needs to look like. So we chose a combination of things we thought we could pull this off. We&#x27;re mostly software and systems folks, and there&#x27;s a dearth of information out there on what to do. Vendors tend to gravitate towards selling BGP+EVPN+VXLAN or whatever &quot;enterprise&quot; reference designs; so we kinda YOLO&#x27;ed the Gen 1. We decided to spend extra money if we could get to a working setup sooner. When the clock is in cloud spend, there&#x27;s uh... lots of opportunity cost :D.<p>A lot of the chipset and switch choices were bets and we had to pick and choose what we gambled on - and what we could get our hands on. The main bets this round were eBGP to the hosts with BGP unnumbered, SONiC switches - this lets us do a lot of networking with our existing IPv6&#x2F;Wireguard&#x2F;eBPF overlay and a debian based switch OS + FRR (so fewer things to learn). And ofc. figuring out how to operationalise the install process and get stuff running on the hardware as soon as possible.<p>Now we&#x27;ve got a working design, we&#x27;ll start iterating a bit more on the hardware choice and network design. I&#x27;d love for us to write about it when we get through it. Plus I think we owe the internet a rant on networking in general.<p>Edit: Also we don&#x27;t use UniFi Pro &#x2F; Uniquity gear anywhere?</div><br/></div></div></div></div><div id="42743953" class="c"><input type="checkbox" id="c-42743953" checked=""/><div class="controls bullet"><span class="by">j-b</span><span>|</span><a href="#42744683">prev</a><span>|</span><a href="#42745245">next</a><span>|</span><label class="collapse" for="c-42743953">[-]</label><label class="expand" for="c-42743953">[2 more]</label></div><br/><div class="children"><div class="content">Love these kinds of posts. Tried railway for the first time a few days ago. It was a delightful experience. Great work!</div><br/><div id="42745068" class="c"><input type="checkbox" id="c-42745068" checked=""/><div class="controls bullet"><span class="by">justjake</span><span>|</span><a href="#42743953">parent</a><span>|</span><a href="#42745245">next</a><span>|</span><label class="collapse" for="c-42745068">[-]</label><label class="expand" for="c-42745068">[1 more]</label></div><br/><div class="children"><div class="content">Thank you! Anything you think we can do better?</div><br/></div></div></div></div><div id="42745245" class="c"><input type="checkbox" id="c-42745245" checked=""/><div class="controls bullet"><span class="by">physhster</span><span>|</span><a href="#42743953">prev</a><span>|</span><a href="#42745585">next</a><span>|</span><label class="collapse" for="c-42745245">[-]</label><label class="expand" for="c-42745245">[1 more]</label></div><br/><div class="children"><div class="content">Having done data center builds for years, mostly on the network side but realistically with all the trades, this is a really cool article.</div><br/></div></div><div id="42745585" class="c"><input type="checkbox" id="c-42745585" checked=""/><div class="controls bullet"><span class="by">hintymad</span><span>|</span><a href="#42745245">prev</a><span>|</span><a href="#42744015">next</a><span>|</span><label class="collapse" for="c-42745585">[-]</label><label class="expand" for="c-42745585">[2 more]</label></div><br/><div class="children"><div class="content">Per my experience with cloud, the most powerful Infra abstraction that AWS offers is actually EC2. The simplicity of getting a cluster of machines up and running with all the metadata readily available via APIs is just liberating. And it just works: the network is easy to configure, the ASGs are flexible enough to customize, and the autoscaling offers strong primitives for advanced scaling.<p>Amazingly, few companies who run their own DCs could build anything comparable to EC2, even at a smaller scale. When I worked in those companies, I sorely missed EC2. I was wondering if there&#x27;s any robust enough open-source alternatives to EC2&#x27;s control-plane software to manage baremetals and offer VMs on top them. That&#x27;ll be awesome for companies that build their own DCs.</div><br/><div id="42745835" class="c"><input type="checkbox" id="c-42745835" checked=""/><div class="controls bullet"><span class="by">mdaniel</span><span>|</span><a href="#42745585">parent</a><span>|</span><a href="#42744015">next</a><span>|</span><label class="collapse" for="c-42745835">[-]</label><label class="expand" for="c-42745835">[1 more]</label></div><br/><div class="children"><div class="content">I believe eBay still runs on OpenStack, which as far as I know even has as ec2-compatible emulation layer <a href="https:&#x2F;&#x2F;docs.openstack.org&#x2F;api-ref&#x2F;ec2-api&#x2F;#supported-features-and-limitations" rel="nofollow">https:&#x2F;&#x2F;docs.openstack.org&#x2F;api-ref&#x2F;ec2-api&#x2F;#supported-featur...</a></div><br/></div></div></div></div><div id="42744015" class="c"><input type="checkbox" id="c-42744015" checked=""/><div class="controls bullet"><span class="by">coolkil</span><span>|</span><a href="#42745585">prev</a><span>|</span><a href="#42744419">next</a><span>|</span><label class="collapse" for="c-42744015">[-]</label><label class="expand" for="c-42744015">[1 more]</label></div><br/><div class="children"><div class="content">Awesome!! Hope to see more companies go this route. I had the pleasure to do something similar for a company(lot smaller scale though)<p>It was my first job out of university. I will never forget the awesome experience of walking into the datacenter and start plugging cables and stuff</div><br/></div></div><div id="42744419" class="c"><input type="checkbox" id="c-42744419" checked=""/><div class="controls bullet"><span class="by">robertclaus</span><span>|</span><a href="#42744015">prev</a><span>|</span><a href="#42744131">next</a><span>|</span><label class="collapse" for="c-42744419">[-]</label><label class="expand" for="c-42744419">[1 more]</label></div><br/><div class="children"><div class="content">I would be super interested to know how this stuff scales physically - how much hardware ended up in that cage (maybe in Cloud-equivalent terms), and how much does it cost to run now that it&#x27;s set up?</div><br/></div></div><div id="42744131" class="c"><input type="checkbox" id="c-42744131" checked=""/><div class="controls bullet"><span class="by">aetherspawn</span><span>|</span><a href="#42744419">prev</a><span>|</span><a href="#42743909">next</a><span>|</span><label class="collapse" for="c-42744131">[-]</label><label class="expand" for="c-42744131">[10 more]</label></div><br/><div class="children"><div class="content">What brand of servers was used?</div><br/><div id="42744482" class="c"><input type="checkbox" id="c-42744482" checked=""/><div class="controls bullet"><span class="by">emmelaich</span><span>|</span><a href="#42744131">parent</a><span>|</span><a href="#42744336">next</a><span>|</span><label class="collapse" for="c-42744482">[-]</label><label class="expand" for="c-42744482">[5 more]</label></div><br/><div class="children"><div class="content">Yes, considering the importance of the power draw, I wondered if ARM servers were used.</div><br/><div id="42744552" class="c"><input type="checkbox" id="c-42744552" checked=""/><div class="controls bullet"><span class="by">ca508</span><span>|</span><a href="#42744131">root</a><span>|</span><a href="#42744482">parent</a><span>|</span><a href="#42744336">next</a><span>|</span><label class="collapse" for="c-42744552">[-]</label><label class="expand" for="c-42744552">[4 more]</label></div><br/><div class="children"><div class="content">oh yes we want to; I even priced a couple out. Most of the SKUs I found were pretty old, and we couldn&#x27;t find anything compelling to risk deploying at the scale we wanted.
It&#x27;s on the wishlist, and if the right hardware comes along; we&#x27;ll rack it up even  as a bet. We maintain Nixpacks (<a href="https:&#x2F;&#x2F;nixpacks.com&#x2F;docs&#x2F;getting-started" rel="nofollow">https:&#x2F;&#x2F;nixpacks.com&#x2F;docs&#x2F;getting-started</a>), so for most of our users we could rebuild most their apps for ARM seamlessly - infact we mostly develop our build systems on ARM (because macbooks). One day.</div><br/><div id="42744995" class="c"><input type="checkbox" id="c-42744995" checked=""/><div class="controls bullet"><span class="by">VTimofeenko</span><span>|</span><a href="#42744131">root</a><span>|</span><a href="#42744552">parent</a><span>|</span><a href="#42744336">next</a><span>|</span><label class="collapse" for="c-42744995">[-]</label><label class="expand" for="c-42744995">[3 more]</label></div><br/><div class="children"><div class="content">&gt; We maintain Nixpacks<p>I _knew_ Railway sounded familiar.<p>Out of curiosity: is nix used to deploy the servers?</div><br/><div id="42745074" class="c"><input type="checkbox" id="c-42745074" checked=""/><div class="controls bullet"><span class="by">justjake</span><span>|</span><a href="#42744131">root</a><span>|</span><a href="#42744995">parent</a><span>|</span><a href="#42744336">next</a><span>|</span><label class="collapse" for="c-42745074">[-]</label><label class="expand" for="c-42745074">[2 more]</label></div><br/><div class="children"><div class="content">Not ATM. We use it in a lot of our stack, so we will likely pull it in in the future</div><br/><div id="42745426" class="c"><input type="checkbox" id="c-42745426" checked=""/><div class="controls bullet"><span class="by">VTimofeenko</span><span>|</span><a href="#42744131">root</a><span>|</span><a href="#42745074">parent</a><span>|</span><a href="#42744336">next</a><span>|</span><label class="collapse" for="c-42745426">[-]</label><label class="expand" for="c-42745426">[1 more]</label></div><br/><div class="children"><div class="content">Got it. Especially interested to see how you set up PXE. Seen a few materials out there but never got around to doing it in my lab.<p>Looking forward to more blogposts!</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42744336" class="c"><input type="checkbox" id="c-42744336" checked=""/><div class="controls bullet"><span class="by">neilv</span><span>|</span><a href="#42744131">parent</a><span>|</span><a href="#42744482">prev</a><span>|</span><a href="#42743909">next</a><span>|</span><label class="collapse" for="c-42744336">[-]</label><label class="expand" for="c-42744336">[4 more]</label></div><br/><div class="children"><div class="content">Looks like Supermicro.</div><br/><div id="42745106" class="c"><input type="checkbox" id="c-42745106" checked=""/><div class="controls bullet"><span class="by">aetherspawn</span><span>|</span><a href="#42744131">root</a><span>|</span><a href="#42744336">parent</a><span>|</span><a href="#42744615">next</a><span>|</span><label class="collapse" for="c-42745106">[-]</label><label class="expand" for="c-42745106">[2 more]</label></div><br/><div class="children"><div class="content">Where do you buy this, direct from Supermicro? Asking as a Dell customer… our servers are $$$</div><br/><div id="42745516" class="c"><input type="checkbox" id="c-42745516" checked=""/><div class="controls bullet"><span class="by">ca508</span><span>|</span><a href="#42744131">root</a><span>|</span><a href="#42745106">parent</a><span>|</span><a href="#42744615">next</a><span>|</span><label class="collapse" for="c-42745516">[-]</label><label class="expand" for="c-42745516">[1 more]</label></div><br/><div class="children"><div class="content">We have a distributor we work with - just because it makes import&#x2F;export a lot easier. But we get to interface directly with Supermicro for the technical&#x2F;design stuff, and they&#x27;re super awesome. If you&#x27;re looking in the US, reach out to their eStore - really great fuss-free turnaround and all direct.</div><br/></div></div></div></div><div id="42744615" class="c"><input type="checkbox" id="c-42744615" checked=""/><div class="controls bullet"><span class="by">justjake</span><span>|</span><a href="#42744131">root</a><span>|</span><a href="#42744336">parent</a><span>|</span><a href="#42745106">prev</a><span>|</span><a href="#42743909">next</a><span>|</span><label class="collapse" for="c-42744615">[-]</label><label class="expand" for="c-42744615">[1 more]</label></div><br/><div class="children"><div class="content">Winner winner chicken dinner!</div><br/></div></div></div></div></div></div><div id="42743909" class="c"><input type="checkbox" id="c-42743909" checked=""/><div class="controls bullet"><span class="by">__fst__</span><span>|</span><a href="#42744131">prev</a><span>|</span><a href="#42744205">next</a><span>|</span><label class="collapse" for="c-42743909">[-]</label><label class="expand" for="c-42743909">[7 more]</label></div><br/><div class="children"><div class="content">Can anyone recommend some engineering reading for building and running DC infrastructure?</div><br/><div id="42743979" class="c"><input type="checkbox" id="c-42743979" checked=""/><div class="controls bullet"><span class="by">ca508</span><span>|</span><a href="#42743909">parent</a><span>|</span><a href="#42744205">next</a><span>|</span><label class="collapse" for="c-42743979">[-]</label><label class="expand" for="c-42743979">[6 more]</label></div><br/><div class="children"><div class="content">We didn&#x27;t find many good up-to-date resources online on the hardware side of things - kinda why we wanted to write about it. The networking aspect was the most mystical - I highly recommend &quot;BGP in the datacenter&quot; by Dinesh Dutt on that (I think it&#x27;s available for free via NVidia). Our design is heavily influenced by the ideas discussed there.</div><br/><div id="42745845" class="c"><input type="checkbox" id="c-42745845" checked=""/><div class="controls bullet"><span class="by">mdaniel</span><span>|</span><a href="#42743909">root</a><span>|</span><a href="#42743979">parent</a><span>|</span><a href="#42744732">next</a><span>|</span><label class="collapse" for="c-42745845">[-]</label><label class="expand" for="c-42745845">[1 more]</label></div><br/><div class="children"><div class="content">the title page says 2017 if that matters to anyone: <a href="https:&#x2F;&#x2F;docs.jetstream-cloud.org&#x2F;attachments&#x2F;bgp-in-the-data-center.pdf" rel="nofollow">https:&#x2F;&#x2F;docs.jetstream-cloud.org&#x2F;attachments&#x2F;bgp-in-the-data...</a></div><br/></div></div><div id="42744732" class="c"><input type="checkbox" id="c-42744732" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#42743909">root</a><span>|</span><a href="#42743979">parent</a><span>|</span><a href="#42745845">prev</a><span>|</span><a href="#42744205">next</a><span>|</span><label class="collapse" for="c-42744732">[-]</label><label class="expand" for="c-42744732">[4 more]</label></div><br/><div class="children"><div class="content">What was the background of your team going into this project? Did you hire specialists for it (whether full time or consultants)?</div><br/><div id="42744971" class="c"><input type="checkbox" id="c-42744971" checked=""/><div class="controls bullet"><span class="by">ca508</span><span>|</span><a href="#42743909">root</a><span>|</span><a href="#42744732">parent</a><span>|</span><a href="#42744205">next</a><span>|</span><label class="collapse" for="c-42744971">[-]</label><label class="expand" for="c-42744971">[3 more]</label></div><br/><div class="children"><div class="content">We talked to a few, I think they&#x27;re called MSPs? We weren&#x27;t super impressed. We decided to YOLO it. There are probably great outfits out there, but it&#x27;s hard to find them through the noise. We&#x27;re mostly software and systems folks, but Railway is a infrastructure company so we need to own stuff down to the cage-nut - we owe it to our users. All engineering, project management and procurement is in-house.<p>We&#x27;re lucky to have a few great distributors&#x2F;manufacturers who help us pick the right gear. But we learnt a lot.<p>We&#x27;ve found a lot of value in getting a broker in to source our transit though.<p>My personal (and potentially misguided) hot take is that most of the baremetal world is stuck in the early 2000&#x27;s, and the only companies doing anything interesting here the likes of AWS,Google and Meta. So the only way to innovate is to stumble around, escape the norms and experiment.</div><br/><div id="42745031" class="c"><input type="checkbox" id="c-42745031" checked=""/><div class="controls bullet"><span class="by">chatmasta</span><span>|</span><a href="#42743909">root</a><span>|</span><a href="#42744971">parent</a><span>|</span><a href="#42744205">next</a><span>|</span><label class="collapse" for="c-42745031">[-]</label><label class="expand" for="c-42745031">[2 more]</label></div><br/><div class="children"><div class="content">Did your investors give you any pushback or were they mostly supportive?</div><br/><div id="42745108" class="c"><input type="checkbox" id="c-42745108" checked=""/><div class="controls bullet"><span class="by">justjake</span><span>|</span><a href="#42743909">root</a><span>|</span><a href="#42745031">parent</a><span>|</span><a href="#42744205">next</a><span>|</span><label class="collapse" for="c-42745108">[-]</label><label class="expand" for="c-42745108">[1 more]</label></div><br/><div class="children"><div class="content">We&#x27;re blessed with some kickass investors. They gave us just the right level of scrutiny. We were super clear about why we wanted to do this, we did it, and then they invested more money shortly after the first workloads starting running on metal<p>If you&#x27;re looking for great partners, who actually have the gal to back innovation, you&#x27;d be hard pressed to do better than Redpoint (Shoutout Erica and Jordan!)</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="42744205" class="c"><input type="checkbox" id="c-42744205" checked=""/><div class="controls bullet"><span class="by">sometalk</span><span>|</span><a href="#42743909">prev</a><span>|</span><label class="collapse" for="c-42744205">[-]</label><label class="expand" for="c-42744205">[2 more]</label></div><br/><div class="children"><div class="content">I remember talking to Jake a couple of years ago when they were looking for someone with a storage background. Cool dude, and cool set of people. Really chuffed to see them doing what they believe in.</div><br/><div id="42744330" class="c"><input type="checkbox" id="c-42744330" checked=""/><div class="controls bullet"><span class="by">justjake</span><span>|</span><a href="#42744205">parent</a><span>|</span><label class="collapse" for="c-42744330">[-]</label><label class="expand" for="c-42744330">[1 more]</label></div><br/><div class="children"><div class="content">Thanks dude &lt;3. We are indeed doing the thing :D</div><br/></div></div></div></div></div></div></div></div></div></body></html>