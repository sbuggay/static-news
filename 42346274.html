<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1733648455680" as="style"/><link rel="stylesheet" href="styles.css?v=1733648455680"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/oils-for-unix/oils/wiki/The-Biggest-Shell-Programs-in-the-World">Biggest shell programs</a>Â <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>101 comments</span></div><br/><div><div id="42353164" class="c"><input type="checkbox" id="c-42353164" checked=""/><div class="controls bullet"><span class="by">zeroxfe</span><span>|</span><a href="#42346711">next</a><span>|</span><label class="collapse" for="c-42353164">[-]</label><label class="expand" for="c-42353164">[4 more]</label></div><br/><div class="children"><div class="content">Okay, so when I worked at Sony about 25 years ago, I got assigned this project to fix our order management system, which was extremely slow, and kept crashing.<p>I jumped in and started digging around, and to my horror, the OMS was a giant set of shell scripts running on an AIX server, which evolved over a decade and was abandoned. It was over 50,000 lines of code! It was horrendous and shit kept timing out everywhere -- orders, payments, and other information were moved from server to server over FTP, parsed with complicated sed&#x2F;awk, and inventory was tracked in text files (also FTPd around.)<p>At the time, perl seemed like the most practical way for me to migrate the mess -- I rewrote all of the shell piece by piece, starting with the simplest peices and replaced them with small perl modules as part of a larger perl application, refactoring along the way. It took me 3 months and I moved the whole thing to about 5000 lines of perl, and it ran 10-100x faster with almost none of the failures in the original system.<p>As terrible as it was, it&#x27;s one of the most satisfying things I&#x27;ve ever done. :-)</div><br/><div id="42353286" class="c"><input type="checkbox" id="c-42353286" checked=""/><div class="controls bullet"><span class="by">shawn_w</span><span>|</span><a href="#42353164">parent</a><span>|</span><a href="#42346711">next</a><span>|</span><label class="collapse" for="c-42353286">[-]</label><label class="expand" for="c-42353286">[3 more]</label></div><br/><div class="children"><div class="content">perl is still the most practical way to mitigate shell script abominations like that. Though tcl&#x27;s a good option too.</div><br/><div id="42354095" class="c"><input type="checkbox" id="c-42354095" checked=""/><div class="controls bullet"><span class="by">chubot</span><span>|</span><a href="#42353164">root</a><span>|</span><a href="#42353286">parent</a><span>|</span><a href="#42353918">next</a><span>|</span><label class="collapse" for="c-42354095">[-]</label><label class="expand" for="c-42354095">[1 more]</label></div><br/><div class="children"><div class="content">Oils aims to be the absolute best way to migrate shell scripts!  (I created the project, and the wiki page being discussed)<p><a href="https:&#x2F;&#x2F;www.oilshell.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.oilshell.org&#x2F;</a><p>OSH is the most bash-compatible shell in the world, and YSH is a new language<p><pre><code>    ls | sort | uniq | wc -l   # this is both OSH and YSH

    var mydict = {foo: 42, bar: [&#x27;a&#x27;, &#x27;b&#x27;]}   # this is new YSH stuff you can start using
    json write (mydict)

</code></pre>
The difference between OSH and YSH is exactly a set of &quot;shopt&quot; options [1], although YSH feels like a brand new language too!  There is a smooth blend.<p>I think it&#x27;s worth it for 2 things alone<p>- YSH checks all errors - you never lose an exit code<p>- YSH has real arrays and doesn&#x27;t mangle your variables with word splitting<p>There&#x27;s a lot more: modules with namespaces (use mymodule.ysh), buffered I&#x2F;O that&#x27;s not slow, etc.<p>Gradually  upgrading -<a href="https:&#x2F;&#x2F;github.com&#x2F;oils-for-unix&#x2F;oils&#x2F;wiki&#x2F;Gradually-Upgrading-Shell-to-YSH">https:&#x2F;&#x2F;github.com&#x2F;oils-for-unix&#x2F;oils&#x2F;wiki&#x2F;Gradually-Upgradi...</a>   (people are writing new YSH, but not many people have gradually upgraded, so I&#x27;d definitely appreciate feedback from people with a big &quot;shell script problem&quot;)<p>---<p>There is a FAQ here about Perl:<p><i>Are you reinventing Perl?</i> - <a href="https:&#x2F;&#x2F;www.oilshell.org&#x2F;blog&#x2F;2021&#x2F;01&#x2F;why-a-new-shell.html#are-you-reinventing-perl" rel="nofollow">https:&#x2F;&#x2F;www.oilshell.org&#x2F;blog&#x2F;2021&#x2F;01&#x2F;why-a-new-shell.html#a...</a><p>Not to say that migrating to Perl is worse in any way, i.e. if you already know Perl or your team knows it.<p>But objectively YSH is also a shell, so I think more of the code carries over, and there is a more direct upgrade path.<p>---<p>[1] Unix Shell Should Evolve like Perl 5 - <a href="https:&#x2F;&#x2F;www.oilshell.org&#x2F;blog&#x2F;2020&#x2F;07&#x2F;blog-roadmap.html#the-unix-shell-should-evolve-like-perl-5" rel="nofollow">https:&#x2F;&#x2F;www.oilshell.org&#x2F;blog&#x2F;2020&#x2F;07&#x2F;blog-roadmap.html#the-...</a> - i.e. with compatible upgrade options</div><br/></div></div><div id="42353918" class="c"><input type="checkbox" id="c-42353918" checked=""/><div class="controls bullet"><span class="by">nextos</span><span>|</span><a href="#42353164">root</a><span>|</span><a href="#42353286">parent</a><span>|</span><a href="#42354095">prev</a><span>|</span><a href="#42346711">next</a><span>|</span><label class="collapse" for="c-42353918">[-]</label><label class="expand" for="c-42353918">[1 more]</label></div><br/><div class="children"><div class="content">Or Ruby, which is essentially Smalltalk for Unix, plus lots of Perl-isms.<p>Haskell (e.g. shh) and Clojure (Babashka) are also a nice for this usecase, but more niche options.</div><br/></div></div></div></div></div></div><div id="42346711" class="c"><input type="checkbox" id="c-42346711" checked=""/><div class="controls bullet"><span class="by">PeterWhittaker</span><span>|</span><a href="#42353164">prev</a><span>|</span><a href="#42346780">next</a><span>|</span><label class="collapse" for="c-42346711">[-]</label><label class="expand" for="c-42346711">[18 more]</label></div><br/><div class="children"><div class="content">Oh, no, now I have to go dig out some of mine....<p>The first really big one I wrote was the ~7000 line installer for the Enrust CA and directory, which ran on, well, all Unixes at that time. It didn&#x27;t initially, of course, but it grew with customer demand.<p>The installation itself wasn&#x27;t especially complicated, but upgrades were, a little, and this was back when every utility on every Unix had slight variations.<p>Much of the script was figuring out and managing those differences, much was error detection and recovery and rollback, some was a very primitive form of package and dependency management....<p>DEC&#x27;s Unix (the other one, not Ultrix) was the most baffling. It took me days to realize that all command line utilities truncated their output at column width. Every single one. Over 30 years later and that one still stands out.<p>Every release of HP-UX had breaking changes, and we covered 6.5 to 11, IIRC. I barely remember Ultrix or the Novell one or Next, or Sequent. I do remember AIX as being weird but I don&#x27;t remember why. And of course even Sun&#x27;s three&#x2F;four OS&#x27;s had their differences (SunOS pre 4.1.3; 4.1.3; Solaris pre 2; and 2+) but they had great FMs. The best.</div><br/><div id="42346827" class="c"><input type="checkbox" id="c-42346827" checked=""/><div class="controls bullet"><span class="by">emmelaich</span><span>|</span><a href="#42346711">parent</a><span>|</span><a href="#42346939">next</a><span>|</span><label class="collapse" for="c-42346827">[-]</label><label class="expand" for="c-42346827">[10 more]</label></div><br/><div class="children"><div class="content">That column truncation sounds bizarre.  Are you sure the terminal didn&#x27;t have some sort of sideways scroll available?</div><br/><div id="42348617" class="c"><input type="checkbox" id="c-42348617" checked=""/><div class="controls bullet"><span class="by">dspillett</span><span>|</span><a href="#42346711">root</a><span>|</span><a href="#42346827">parent</a><span>|</span><a href="#42346939">next</a><span>|</span><label class="collapse" for="c-42348617">[-]</label><label class="expand" for="c-42348617">[9 more]</label></div><br/><div class="children"><div class="content">I think he was meaning that they truncated the lines even when called from a script, with their output going somewhere other than a terminal, not just when run interactively</div><br/><div id="42349505" class="c"><input type="checkbox" id="c-42349505" checked=""/><div class="controls bullet"><span class="by">emmelaich</span><span>|</span><a href="#42346711">root</a><span>|</span><a href="#42348617">parent</a><span>|</span><a href="#42350878">next</a><span>|</span><label class="collapse" for="c-42349505">[-]</label><label class="expand" for="c-42349505">[6 more]</label></div><br/><div class="children"><div class="content">Yep, but I&#x27;m curious enough to quiz it.<p>Weirdly, today I ran wish in MacOS Sequoia (15.1.x) and had the (exception) output truncated at terminal width!</div><br/><div id="42352439" class="c"><input type="checkbox" id="c-42352439" checked=""/><div class="controls bullet"><span class="by">p_l</span><span>|</span><a href="#42346711">root</a><span>|</span><a href="#42349505">parent</a><span>|</span><a href="#42349665">next</a><span>|</span><label class="collapse" for="c-42352439">[-]</label><label class="expand" for="c-42352439">[4 more]</label></div><br/><div class="children"><div class="content">Because macOS closest relative isn&#x27;t Free&#x2F;NetBSD, but OSF&#x2F;1 which, under few different names, was sold by Digital as Unix for Alpha (there were few rare builds for MIPS too).</div><br/><div id="42355007" class="c"><input type="checkbox" id="c-42355007" checked=""/><div class="controls bullet"><span class="by">skissane</span><span>|</span><a href="#42346711">root</a><span>|</span><a href="#42352439">parent</a><span>|</span><a href="#42353835">next</a><span>|</span><label class="collapse" for="c-42355007">[-]</label><label class="expand" for="c-42355007">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Because macOS closest relative isn&#x27;t Free&#x2F;NetBSD, but OSF&#x2F;1<p>What you say here contains some truth (certainly with respect to the kernel), but I doubt that has anything to do with the behaviour the grandparent is reportingâthe wish command in Tcl&#x2F;Tk truncating output at terminal width. That behaviour would be determined by the Tcl&#x2F;Tk code, nothing inherently to do with the underlying OS.<p>&gt; but OSF&#x2F;1 which, under few different names, was sold by Digital as Unix for Alpha (there were few rare builds for MIPS too).<p>IBM also briefly sold a port of OSF&#x2F;1 to IBM mainframes, AIX&#x2F;ESA: it was available to customers in June 1992, and withdrawn from marketing in June 1993âit was discontinued so quickly due to lack of customer interest, and also because IBM was about to release (in 1994) a UNIX compatibility subsystem for MVS (OpenEdition), which was a more attractive UNIX option for many of their mainframe customers.<p>I believe IBM&#x27;s abortive Workplace OS â shipped in beta form only as OS&#x2F;2 PowerPC Edition â was also partially derived from the OSF&#x2F;1 code base.</div><br/></div></div><div id="42353835" class="c"><input type="checkbox" id="c-42353835" checked=""/><div class="controls bullet"><span class="by">emmelaich</span><span>|</span><a href="#42346711">root</a><span>|</span><a href="#42352439">parent</a><span>|</span><a href="#42355007">prev</a><span>|</span><a href="#42349665">next</a><span>|</span><label class="collapse" for="c-42353835">[-]</label><label class="expand" for="c-42353835">[2 more]</label></div><br/><div class="children"><div class="content">Interesting, I thought MacOS was basically a FreeBSD variant.<p>But I just tried it again on a resized terminal window and I couldn&#x27;t reproduce it!</div><br/><div id="42354292" class="c"><input type="checkbox" id="c-42354292" checked=""/><div class="controls bullet"><span class="by">p_l</span><span>|</span><a href="#42346711">root</a><span>|</span><a href="#42353835">parent</a><span>|</span><a href="#42349665">next</a><span>|</span><label class="collapse" for="c-42354292">[-]</label><label class="expand" for="c-42354292">[1 more]</label></div><br/><div class="children"><div class="content">OSX took in a bit of FreeBSD and NetBSD to modernise sons areas, but the main thing for 10.0 release involved pulling in the latest OSFMK.<p>Also, several APIs introduced after BSD 4.4 are very visibly missing, pointing to how little was taken from Free&#x2F;NetBSD</div><br/></div></div></div></div></div></div><div id="42349665" class="c"><input type="checkbox" id="c-42349665" checked=""/><div class="controls bullet"><span class="by">PeterWhittaker</span><span>|</span><a href="#42346711">root</a><span>|</span><a href="#42349505">parent</a><span>|</span><a href="#42352439">prev</a><span>|</span><a href="#42350878">next</a><span>|</span><label class="collapse" for="c-42349665">[-]</label><label class="expand" for="c-42349665">[1 more]</label></div><br/><div class="children"><div class="content">dspillett was exactly right: ps, e.g., truncated its output at $COLUMNS and there was no horizontal scroll.<p>As suggested above, it did this even when called from a script.<p>The fix was easy, set COLUMNS ridiculously large if DEC Unix, but it took days of WTF apparent UB before I realized how simple was what was happening. It just seemed haphazard: I&#x27;d reposition and resize a window so I could run the script in one while manually running the commands in another, get inconsistent results, rinse, repeat...<p>...and eventually realize the common element in each test was me, and the variations I was introducing were window size.<p>I cursed their engineers for trying to be &quot;helpful&quot; and keep things &quot;pretty&quot;.</div><br/></div></div></div></div><div id="42350878" class="c"><input type="checkbox" id="c-42350878" checked=""/><div class="controls bullet"><span class="by">nikau</span><span>|</span><a href="#42346711">root</a><span>|</span><a href="#42348617">parent</a><span>|</span><a href="#42349505">prev</a><span>|</span><a href="#42348861">next</a><span>|</span><label class="collapse" for="c-42350878">[-]</label><label class="expand" for="c-42350878">[1 more]</label></div><br/><div class="children"><div class="content">If he is talking about osf1&#x2F;tru64 that&#x27;s the first one heard of it</div><br/></div></div><div id="42348861" class="c"><input type="checkbox" id="c-42348861" checked=""/><div class="controls bullet"><span class="by">raffraffraff</span><span>|</span><a href="#42346711">root</a><span>|</span><a href="#42348617">parent</a><span>|</span><a href="#42350878">prev</a><span>|</span><a href="#42346939">next</a><span>|</span><label class="collapse" for="c-42348861">[-]</label><label class="expand" for="c-42348861">[1 more]</label></div><br/><div class="children"><div class="content">:O</div><br/></div></div></div></div></div></div><div id="42346939" class="c"><input type="checkbox" id="c-42346939" checked=""/><div class="controls bullet"><span class="by">throw16180339</span><span>|</span><a href="#42346711">parent</a><span>|</span><a href="#42346827">prev</a><span>|</span><a href="#42348858">next</a><span>|</span><label class="collapse" for="c-42346939">[-]</label><label class="expand" for="c-42346939">[4 more]</label></div><br/><div class="children"><div class="content">&gt; DEC&#x27;s Unix (the other one, not Ultrix) was the most baffling. It took me days to realize that all command line utilities truncated their output at column width. Every single one. Over 30 years later and that one still stands out.<p>Do you mean OSF1&#x2F;, Digital Unix, or Tru64 Unix?</div><br/><div id="42349633" class="c"><input type="checkbox" id="c-42349633" checked=""/><div class="controls bullet"><span class="by">PeterWhittaker</span><span>|</span><a href="#42346711">root</a><span>|</span><a href="#42346939">parent</a><span>|</span><a href="#42348858">next</a><span>|</span><label class="collapse" for="c-42349633">[-]</label><label class="expand" for="c-42349633">[3 more]</label></div><br/><div class="children"><div class="content">Oh, yes, I think it was Digital Unix. IIRC, we toyed with OSF&#x2F;1, but there wasn&#x27;t much call for it.</div><br/><div id="42352461" class="c"><input type="checkbox" id="c-42352461" checked=""/><div class="controls bullet"><span class="by">p_l</span><span>|</span><a href="#42346711">root</a><span>|</span><a href="#42349633">parent</a><span>|</span><a href="#42348858">next</a><span>|</span><label class="collapse" for="c-42352461">[-]</label><label class="expand" for="c-42352461">[2 more]</label></div><br/><div class="children"><div class="content">OSF&#x2F;1, Digital Unix, and Tru64 are the same OS at different points in time.<p>Technically OSF&#x2F;1 was supposed to be the commercial BSD answer to System V, in practice only several niche vendors used it, plus Digital and NeXT (and through NeXT, Apple which continues the line to this day)</div><br/><div id="42352712" class="c"><input type="checkbox" id="c-42352712" checked=""/><div class="controls bullet"><span class="by">PeterWhittaker</span><span>|</span><a href="#42346711">root</a><span>|</span><a href="#42352461">parent</a><span>|</span><a href="#42348858">next</a><span>|</span><label class="collapse" for="c-42352712">[-]</label><label class="expand" for="c-42352712">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the clarification. It was so long ago, itâs all a bit hazy.<p>Other than the COLUMNS thing. That is burnt into my memory forever.</div><br/></div></div></div></div></div></div></div></div><div id="42348858" class="c"><input type="checkbox" id="c-42348858" checked=""/><div class="controls bullet"><span class="by">raffraffraff</span><span>|</span><a href="#42346711">parent</a><span>|</span><a href="#42346939">prev</a><span>|</span><a href="#42347809">next</a><span>|</span><label class="collapse" for="c-42348858">[-]</label><label class="expand" for="c-42348858">[1 more]</label></div><br/><div class="children"><div class="content">I made it to thousands but more like 2000. At least I only had to support Redhat and Ubuntu (modern ones, at that)</div><br/></div></div><div id="42347809" class="c"><input type="checkbox" id="c-42347809" checked=""/><div class="controls bullet"><span class="by">banku_brougham</span><span>|</span><a href="#42346711">parent</a><span>|</span><a href="#42348858">prev</a><span>|</span><a href="#42353403">next</a><span>|</span><label class="collapse" for="c-42347809">[-]</label><label class="expand" for="c-42347809">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for your service, Im so glad you could share. Id be interested to read more.</div><br/></div></div><div id="42353403" class="c"><input type="checkbox" id="c-42353403" checked=""/><div class="controls bullet"><span class="by">PeterWhittaker</span><span>|</span><a href="#42346711">parent</a><span>|</span><a href="#42347809">prev</a><span>|</span><a href="#42346780">next</a><span>|</span><label class="collapse" for="c-42353403">[-]</label><label class="expand" for="c-42353403">[1 more]</label></div><br/><div class="children"><div class="content">OK, so JOOC I ran wc against the main binary and supporting libraries for a project I did last year: It&#x27;s a script to manage linear assured pipelines implemented as a series of containers (an input protocol adapter, one or more filters, an output protocol adapter). The whole thing was intended to be useful for people who aren&#x27;t necessarily experts in either containers or protocols, but who have an idea of how they want to filter&#x2F;transform files as they transit the pipeline.<p>It&#x27;s 6224 lines, so far.<p>There is a top-level binary with sub-functions, sort of like how<p><pre><code>   git [ git options ] &lt; git action&gt; [action options]
</code></pre>
or<p><pre><code>  systemctl [etc.[
</code></pre>
work.<p>There is a sub command to add a new sub command, which creates the necessary libraries and pre-populates function definitions from a template; the template includes short and long usage functions, so that<p><pre><code>  cbap -h
</code></pre>
or<p><pre><code>  cbap pipeline -h
</code></pre>
give useful and reasonable advice.<p>There are subcommands for manipulating base images, components (which are images with specific properties for use as containers in the pipelines), and pipelines themselves. A LOT of code is for testing, to make sure that the component and pipeline definitions are correctly formatted. (Pipelines are specified in something-almost-TOML, so there is code to parse toml, convert sections to arrays, etc., while components are specified as simple key=value files, so there is code to parse those, extract LHS and RHS, perform schema validation, etc.).<p>Since pipeline components can share properties, there is code to find common properties in var and etc files, specify component properties, etc.<p>There are a lot user and group and directory and FIFO manipulation functions tailored to the security requirements: When a pipeline is setup, users and groups and SEL types and MCS categories are generated and applied, then mapped into to the service files that start the components (so there is a lot of systemd manipulation as well).<p>Probably the single biggest set of calls are the functions that get&#x2F;set component properties (which are really container properties) and allow us to use data-driven container definitions, with each property having a get function, a validation function, and an inline (in a pipeline) version, for maximum flexibility.<p>Finally, there is code that uses a lot of bash references to set variables either from files, the environment, or the command line, so that we can test rapidly.<p>It also support four levels of user, from maintainer (people who work on the code itself), developer (people who develop component definitions), integrators (people who build pipelines from components), and operators (people who install pipelines), with the ability to copy and package itself for export to users at any of those levels (there is a lot of data-driven, limited recursive stuff happening therein).<p>Since target systems can be any Linux, it uses makeself to package and extract itself.<p>For example, an integrator can create a pipeline definition, which will produce a makeself file that, when run on the target system, will create all users, groups, directories, FIFOs (the inter-component IPC), apply DAC and MAC, create systemd files, copy images to each user, and launch the pipeline - with a delete option to undo all of that.<p>There is some seccomp in there as well, but we&#x27;ve paused that as we need to find the right balance between allow- and deny- listing.<p>(Yes, I use shellcheck. Religiously. :-&gt;)</div><br/></div></div></div></div><div id="42346780" class="c"><input type="checkbox" id="c-42346780" checked=""/><div class="controls bullet"><span class="by">RodgerTheGreat</span><span>|</span><a href="#42346711">prev</a><span>|</span><a href="#42348135">next</a><span>|</span><label class="collapse" for="c-42346780">[-]</label><label class="expand" for="c-42346780">[4 more]</label></div><br/><div class="children"><div class="content">At one point I considered writing an interpreter for my scripting language Lil in bash to maximize portability, but quickly realized that floating-point arithmetic would be extremely painful (can&#x27;t even necessarily depend on bc&#x2F;dc being available in every environment) and some of the machines in my arsenal have older versions of bash with very limited support for associative arrays. My compromise was to instead target AWK, which is a much more pleasant general-purpose language than most shells, and available in any POSIX environment: <a href="https:&#x2F;&#x2F;beyondloom.com&#x2F;blog&#x2F;lila.html" rel="nofollow">https:&#x2F;&#x2F;beyondloom.com&#x2F;blog&#x2F;lila.html</a></div><br/><div id="42347549" class="c"><input type="checkbox" id="c-42347549" checked=""/><div class="controls bullet"><span class="by">seiferteric</span><span>|</span><a href="#42346780">parent</a><span>|</span><a href="#42348135">next</a><span>|</span><label class="collapse" for="c-42347549">[-]</label><label class="expand" for="c-42347549">[3 more]</label></div><br/><div class="children"><div class="content">&gt; can&#x27;t even necessarily depend on bc&#x2F;dc being available in every environment<p>Just discovered this myself, also trying to make a language target shell. Was really surprised bc&#x2F;dc was not present I think in Ubuntu install in WSL2. Also using awk for floating point math, but just shelling out to it.</div><br/><div id="42347565" class="c"><input type="checkbox" id="c-42347565" checked=""/><div class="controls bullet"><span class="by">RodgerTheGreat</span><span>|</span><a href="#42346780">root</a><span>|</span><a href="#42347549">parent</a><span>|</span><a href="#42350940">next</a><span>|</span><label class="collapse" for="c-42347565">[-]</label><label class="expand" for="c-42347565">[1 more]</label></div><br/><div class="children"><div class="content">Yep! I <i>considered</i> shelling out to AWK for the same reason, as a bc&#x2F;dc alternative, but rapidly found that nearly everything else bash could do was easier and less error-prone (and workable on much older systems) if I moved the whole script into pure AWK.</div><br/></div></div><div id="42350940" class="c"><input type="checkbox" id="c-42350940" checked=""/><div class="controls bullet"><span class="by">kjellsbells</span><span>|</span><a href="#42346780">root</a><span>|</span><a href="#42347549">parent</a><span>|</span><a href="#42347565">prev</a><span>|</span><a href="#42348135">next</a><span>|</span><label class="collapse" for="c-42350940">[-]</label><label class="expand" for="c-42350940">[1 more]</label></div><br/><div class="children"><div class="content">One of those occasional reminders that Linux != UNIX, I guess. Bc is mandatory in POSIX I believe but Linux never took that path.<p><a href="https:&#x2F;&#x2F;pubs.opengroup.org&#x2F;onlinepubs&#x2F;9699919799.2008edition&#x2F;" rel="nofollow">https:&#x2F;&#x2F;pubs.opengroup.org&#x2F;onlinepubs&#x2F;9699919799.2008edition...</a></div><br/></div></div></div></div></div></div><div id="42348135" class="c"><input type="checkbox" id="c-42348135" checked=""/><div class="controls bullet"><span class="by">ulrischa</span><span>|</span><a href="#42346780">prev</a><span>|</span><a href="#42348395">next</a><span>|</span><label class="collapse" for="c-42348135">[-]</label><label class="expand" for="c-42348135">[8 more]</label></div><br/><div class="children"><div class="content">I think the main problem with writing large programs as bash scripts is that shell scripting languages were never really designed for complexity. They excel at orchestrating small commands and gluing together existing tools in a quick, exploratory way. But when you start pushing beyond a few hundred lines of Bash, you run into a series of limitations that make long-term maintenance and scalability a headache.<p>First, thereâs the issue of readability. Bash&#x27;s syntax can become downright cryptic as it grows. Variable scoping rules are subtle, error handling is primitive, and string handling quickly becomes messy. These factors translate into code thatâs harder to maintain and reason about. As a result, future maintainers are likely to waste time deciphering whatâs going on, and theyâll also have a harder time confidently making changes.<p>Next, thereâs the lack of robust tooling. With more mature languages, you get static analysis tools, linters, and debuggers that help you spot common mistakes early on. For bash, most of these are either missing or extremely limited. Without these guardrails, large bash programs are more prone to silent errors, regressions, and subtle bugs.<p>Then thereâs testing. While you can test bash scripts, the process is often more cumbersome. Complex logic or data structures make it even trickier. Plus, handling edge casesâlike whitespace in filenames or unexpected environment conditionsâmeans you end up writing a ton of defensive code thatâs painful to verify thoroughly.<p>Finally, the ecosystem just isnât built for large-scale Bash development. You lose out on modularity, package management, standardized dependency handling, and all the other modern development patterns that languages like Python or Go provide. Over time, these deficits accumulate and slow you down.<p>I think using Bash for one-off tasks or simple automation is  fine â it&#x27;s what itâs good at. But when you start thinking of building something substantial, youâre usually better off reaching for a language designed for building and maintaining complex applications. It saves time in the long run, even if the initial learning curve or setup might be slightly higher.</div><br/><div id="42351152" class="c"><input type="checkbox" id="c-42351152" checked=""/><div class="controls bullet"><span class="by">JoyfulTurkey</span><span>|</span><a href="#42348135">parent</a><span>|</span><a href="#42348762">next</a><span>|</span><label class="collapse" for="c-42351152">[-]</label><label class="expand" for="c-42351152">[2 more]</label></div><br/><div class="children"><div class="content">Dealing with this at work right now. Digging through thousands of lines of Bash. This script wasnât written a long time ago, so no clue why they went with Bash.<p>The script works but it always feels like something is going to break if I look at the code the wrong way.</div><br/><div id="42354138" class="c"><input type="checkbox" id="c-42354138" checked=""/><div class="controls bullet"><span class="by">chubot</span><span>|</span><a href="#42348135">root</a><span>|</span><a href="#42351152">parent</a><span>|</span><a href="#42348762">next</a><span>|</span><label class="collapse" for="c-42354138">[-]</label><label class="expand" for="c-42354138">[1 more]</label></div><br/><div class="children"><div class="content">If you have thousands of lines of bash, don&#x27;t like maintaining it, but don&#x27;t necessarily want to rewrite the whole thing at once, that&#x27;s what <a href="https:&#x2F;&#x2F;www.oilshell.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.oilshell.org&#x2F;</a> is for!<p>See my comment here, with some details: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42354095">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42354095</a><p>(I created the project and the wiki page.  Right now the best bet is to join <a href="https:&#x2F;&#x2F;oilshell.zulipchat.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;oilshell.zulipchat.com&#x2F;</a> if it interests you.  People who want to test it out should be comfortable with compiling source tarballs, which is generally trivial because shells have almost no dependencies.)<p>The first step is:<p><pre><code>    shopt --set strict:all  # at the top of the file
</code></pre>
Or to run under bash<p><pre><code>    shopt -s strict:all 2&gt;&#x2F;dev&#x2F;null || true
</code></pre>
And then run with &quot;osh myscript.bash&quot;<p>OSH should run your script exactly the same as bash, but with better error messages, and precise source locations.<p>And you will get some strictness errors, which can help catch coding bugs.  It&#x27;s a little like ShellCheck, except it can detect things at runtime, whereas ShellCheck can&#x27;t.</div><br/></div></div></div></div><div id="42348762" class="c"><input type="checkbox" id="c-42348762" checked=""/><div class="controls bullet"><span class="by">ndsipa_pomu</span><span>|</span><a href="#42348135">parent</a><span>|</span><a href="#42351152">prev</a><span>|</span><a href="#42349117">next</a><span>|</span><label class="collapse" for="c-42348762">[-]</label><label class="expand" for="c-42348762">[4 more]</label></div><br/><div class="children"><div class="content">Using ShellCheck as a linter can catch a lot of the common footguns and there are a LOT of footguns and&#x2F;or unexpected behaviour that can catch out even experienced Bash writers. However, Bash&#x2F;shell occupies a unique place in the hierarchy of languages in that it&#x27;s available almost everywhere and will still be around in 30 years. If you want a program that will run almost everywhere and still run in 30 years time, then shell&#x2F;Bash is a good choice.</div><br/><div id="42350851" class="c"><input type="checkbox" id="c-42350851" checked=""/><div class="controls bullet"><span class="by">norir</span><span>|</span><a href="#42348135">root</a><span>|</span><a href="#42348762">parent</a><span>|</span><a href="#42349117">next</a><span>|</span><label class="collapse" for="c-42350851">[-]</label><label class="expand" for="c-42350851">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;d almost always prefer c99 to shell for anything more than 100 lines of code or so. There is even a project I saw here recently that can bootstrap tcc in pure shell (which can then be used to bootstrap gcc). I&#x27;m somewhat skeptical that bash will still be used for anything but legacy scripts in 30 years, despite it&#x27;s impressive longevity to this point, but I could sadly be proven wrong.</div><br/><div id="42351147" class="c"><input type="checkbox" id="c-42351147" checked=""/><div class="controls bullet"><span class="by">ndsipa_pomu</span><span>|</span><a href="#42348135">root</a><span>|</span><a href="#42350851">parent</a><span>|</span><a href="#42349117">next</a><span>|</span><label class="collapse" for="c-42351147">[-]</label><label class="expand" for="c-42351147">[2 more]</label></div><br/><div class="children"><div class="content">So, if you wanted to write something that you would be pretty sure could easily run on machines in 30 years time, what would you use?<p>I don&#x27;t think c99 would be a good choice as processors will likely be different in 30 years time. If you had your program on e.g. a usb stick and you manage to load it onto a machine, it&#x27;d only be able to run if you had the same architecture. Even nowadays, you&#x27;d run into difficulties with arm and x86 differences.<p>Some kind of bytecode language might seem better (e.g. java), but I have my doubts about backwards compatibility. I wonder if Java code from 20 years ago would just run happily on a new Java version. However, there&#x27;s also the issue of Java not being installed everywhere.</div><br/><div id="42353121" class="c"><input type="checkbox" id="c-42353121" checked=""/><div class="controls bullet"><span class="by">wiseowise</span><span>|</span><a href="#42348135">root</a><span>|</span><a href="#42351147">parent</a><span>|</span><a href="#42349117">next</a><span>|</span><label class="collapse" for="c-42353121">[-]</label><label class="expand" for="c-42353121">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I wonder if Java code from 20 years ago would just run happily on a new Java version.<p>Absolutely.</div><br/></div></div></div></div></div></div></div></div><div id="42349117" class="c"><input type="checkbox" id="c-42349117" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#42348135">parent</a><span>|</span><a href="#42348762">prev</a><span>|</span><a href="#42348395">next</a><span>|</span><label class="collapse" for="c-42349117">[-]</label><label class="expand" for="c-42349117">[1 more]</label></div><br/><div class="children"><div class="content">Bash&#x2F;ksh have -x as a debug&#x2F;tracing argument.</div><br/></div></div></div></div><div id="42348395" class="c"><input type="checkbox" id="c-42348395" checked=""/><div class="controls bullet"><span class="by">ykonstant</span><span>|</span><a href="#42348135">prev</a><span>|</span><a href="#42346359">next</a><span>|</span><label class="collapse" for="c-42348395">[-]</label><label class="expand" for="c-42348395">[1 more]</label></div><br/><div class="children"><div class="content">Many of these programs are true gems; the rkhunter script, for instance is both nice code (can be improved) and a treasure trove of information*.<p>Note that much of the code size of these scripts is dedicated to ensuring that the right utilities exist across the various platforms and perform as expected with their various command line options.  This is the worst pain point of any serious shell script author, even worse than signals and subprocesses (unless one <i>enjoys</i> the pain).<p>*Information that, I would argue, would be less transparent if rkhunter had been written in a &quot;proper&quot; programming language. It might be shoved off in some records in data structures to be retrieved; actions might be complex combinations of various functions---or, woe, methods and classes---on nested data structures; logging could be JSON-Bourned into pieces and compressed in some database to be accessed via other methods and so on.<p>Shell scripts, precisely due to the lack of such complex tools, tend to &quot;spill the beans&quot; on what is happening.  This makes rkhunter, for instance, a decent documentation of various exploits and rootkits without having to dig into file upon file, structure upon structure, DB upon DB.</div><br/></div></div><div id="42346359" class="c"><input type="checkbox" id="c-42346359" checked=""/><div class="controls bullet"><span class="by">voxadam</span><span>|</span><a href="#42348395">prev</a><span>|</span><a href="#42347349">next</a><span>|</span><label class="collapse" for="c-42346359">[-]</label><label class="expand" for="c-42346359">[7 more]</label></div><br/><div class="children"><div class="content">I&#x27;m pretty sure the largest handwritten shell program I used back in the day on a regular basis was <i>abcde</i> (A Better CD Encoder)[1] which clocks in at ~5500 LOC.[2]<p>[1] <a href="https:&#x2F;&#x2F;abcde.einval.com" rel="nofollow">https:&#x2F;&#x2F;abcde.einval.com</a><p>[2] <a href="https:&#x2F;&#x2F;git.einval.com&#x2F;cgi-bin&#x2F;gitweb.cgi?p=abcde.git;a=blob;f=abcde;h=b53593a00df40043448d4ab25d85648837314844;hb=HEAD" rel="nofollow">https:&#x2F;&#x2F;git.einval.com&#x2F;cgi-bin&#x2F;gitweb.cgi?p=abcde.git;a=blob...</a></div><br/><div id="42347175" class="c"><input type="checkbox" id="c-42347175" checked=""/><div class="controls bullet"><span class="by">lelandfe</span><span>|</span><a href="#42346359">parent</a><span>|</span><a href="#42347004">next</a><span>|</span><label class="collapse" for="c-42347175">[-]</label><label class="expand" for="c-42347175">[5 more]</label></div><br/><div class="children"><div class="content">Not that I&#x27;d know anything about it, but this was one of the tools recommended on What.CD back in the day. Along with Max (my friends tell me) <a href="https:&#x2F;&#x2F;github.com&#x2F;sbooth&#x2F;Max">https:&#x2F;&#x2F;github.com&#x2F;sbooth&#x2F;Max</a></div><br/><div id="42347225" class="c"><input type="checkbox" id="c-42347225" checked=""/><div class="controls bullet"><span class="by">voxadam</span><span>|</span><a href="#42346359">root</a><span>|</span><a href="#42347175">parent</a><span>|</span><a href="#42347004">next</a><span>|</span><label class="collapse" for="c-42347225">[-]</label><label class="expand" for="c-42347225">[4 more]</label></div><br/><div class="children"><div class="content">Probably every rip I posted to What.CD and OiNK before it was created using abcde.<p><i>Allegedly.</i></div><br/><div id="42350062" class="c"><input type="checkbox" id="c-42350062" checked=""/><div class="controls bullet"><span class="by">lelandfe</span><span>|</span><a href="#42346359">root</a><span>|</span><a href="#42347225">parent</a><span>|</span><a href="#42347308">next</a><span>|</span><label class="collapse" for="c-42350062">[-]</label><label class="expand" for="c-42350062">[1 more]</label></div><br/><div class="children"><div class="content">The greatest loss was truly not even What.CD the incredible tracker but the forums. I&#x27;ve never again found a more concentrated group of people with taste.</div><br/></div></div><div id="42347308" class="c"><input type="checkbox" id="c-42347308" checked=""/><div class="controls bullet"><span class="by">throwup238</span><span>|</span><a href="#42346359">root</a><span>|</span><a href="#42347225">parent</a><span>|</span><a href="#42350062">prev</a><span>|</span><a href="#42347004">next</a><span>|</span><label class="collapse" for="c-42347308">[-]</label><label class="expand" for="c-42347308">[2 more]</label></div><br/><div class="children"><div class="content">You gotta use the SWIM acronym, for the ultimate callback to the aughts.</div><br/><div id="42347316" class="c"><input type="checkbox" id="c-42347316" checked=""/><div class="controls bullet"><span class="by">voxadam</span><span>|</span><a href="#42346359">root</a><span>|</span><a href="#42347308">parent</a><span>|</span><a href="#42347004">next</a><span>|</span><label class="collapse" for="c-42347316">[-]</label><label class="expand" for="c-42347316">[1 more]</label></div><br/><div class="children"><div class="content">Honestly, I came <i>so</i>  close, so damn close. :)</div><br/></div></div></div></div></div></div></div></div><div id="42347004" class="c"><input type="checkbox" id="c-42347004" checked=""/><div class="controls bullet"><span class="by">dlcarrier</span><span>|</span><a href="#42346359">parent</a><span>|</span><a href="#42347175">prev</a><span>|</span><a href="#42347349">next</a><span>|</span><label class="collapse" for="c-42347004">[-]</label><label class="expand" for="c-42347004">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve used that before.  It works really well and was pretty easy to use.  I had no idea the whole thing is just a giant shell script.</div><br/></div></div></div></div><div id="42347349" class="c"><input type="checkbox" id="c-42347349" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#42346359">prev</a><span>|</span><a href="#42350460">next</a><span>|</span><label class="collapse" for="c-42347349">[-]</label><label class="expand" for="c-42347349">[3 more]</label></div><br/><div class="children"><div class="content">The FreeBSD Update client is about 3600 lines of sh code.  Not huge compared to some of the other programs mentioned here, but I&#x27;m inclined to say that &quot;tool for updating an entire operating system&quot; is a pretty hefty amount of functionality.<p>The code which builds the updates probably adds up to more lines, but that&#x27;s split across many files.</div><br/><div id="42348523" class="c"><input type="checkbox" id="c-42348523" checked=""/><div class="controls bullet"><span class="by">sebtron</span><span>|</span><a href="#42347349">parent</a><span>|</span><a href="#42349757">next</a><span>|</span><label class="collapse" for="c-42348523">[-]</label><label class="expand" for="c-42348523">[1 more]</label></div><br/><div class="children"><div class="content">For reference: <a href="https:&#x2F;&#x2F;cgit.freebsd.org&#x2F;src&#x2F;tree&#x2F;usr.sbin&#x2F;freebsd-update&#x2F;freebsd-update.sh" rel="nofollow">https:&#x2F;&#x2F;cgit.freebsd.org&#x2F;src&#x2F;tree&#x2F;usr.sbin&#x2F;freebsd-update&#x2F;fr...</a></div><br/></div></div><div id="42349757" class="c"><input type="checkbox" id="c-42349757" checked=""/><div class="controls bullet"><span class="by">craftkiller</span><span>|</span><a href="#42347349">parent</a><span>|</span><a href="#42348523">prev</a><span>|</span><a href="#42350460">next</a><span>|</span><label class="collapse" for="c-42349757">[-]</label><label class="expand" for="c-42349757">[1 more]</label></div><br/><div class="children"><div class="content">poudriere is roughly 3 FreeBSD Update clients of sh code: <a href="https:&#x2F;&#x2F;github.com&#x2F;freebsd&#x2F;poudriere&#x2F;blob&#x2F;master&#x2F;src&#x2F;share&#x2F;poudriere&#x2F;common.sh">https:&#x2F;&#x2F;github.com&#x2F;freebsd&#x2F;poudriere&#x2F;blob&#x2F;master&#x2F;src&#x2F;share&#x2F;p...</a></div><br/></div></div></div></div><div id="42350460" class="c"><input type="checkbox" id="c-42350460" checked=""/><div class="controls bullet"><span class="by">eschneider</span><span>|</span><a href="#42347349">prev</a><span>|</span><a href="#42347040">next</a><span>|</span><label class="collapse" for="c-42350460">[-]</label><label class="expand" for="c-42350460">[6 more]</label></div><br/><div class="children"><div class="content">Sometimes shell is the only thing you can guarantee is available and life is such you have to have portability, but in general, if you&#x27;ve got an enormous shell app, you might want to rethink your life choices. :&#x2F;</div><br/><div id="42355095" class="c"><input type="checkbox" id="c-42355095" checked=""/><div class="controls bullet"><span class="by">GuB-42</span><span>|</span><a href="#42350460">parent</a><span>|</span><a href="#42350820">next</a><span>|</span><label class="collapse" for="c-42355095">[-]</label><label class="expand" for="c-42355095">[1 more]</label></div><br/><div class="children"><div class="content">The problem is: which shell? Bash is far from being universal. Also, there is usually not much you can do with a shell without commands (find, grep, sed, cat, head, tail, cut...), and commands have their own portability issues.<p>Targeting busybox may be your best bet, but once you are leaving your typical Linux system, writing portable (Bourne) shell scripts becomes hard to impossible.</div><br/></div></div><div id="42350820" class="c"><input type="checkbox" id="c-42350820" checked=""/><div class="controls bullet"><span class="by">norir</span><span>|</span><a href="#42350460">parent</a><span>|</span><a href="#42355095">prev</a><span>|</span><a href="#42347040">next</a><span>|</span><label class="collapse" for="c-42350820">[-]</label><label class="expand" for="c-42350820">[4 more]</label></div><br/><div class="children"><div class="content">I hear this fairly often and I&#x27;m genuinely curious how often you have shell but _not_ a c compiler or the ability to install a c compiler via the shell. Once you have a c compiler, you can break out of shell and either write c programs that the shell script composes or install a better scripting language like lua. At this point in time, it feels quite niche to me that one would _need_ to exclusively use shell.</div><br/><div id="42351238" class="c"><input type="checkbox" id="c-42351238" checked=""/><div class="controls bullet"><span class="by">bhawks</span><span>|</span><a href="#42350460">root</a><span>|</span><a href="#42350820">parent</a><span>|</span><a href="#42351524">next</a><span>|</span><label class="collapse" for="c-42351238">[-]</label><label class="expand" for="c-42351238">[1 more]</label></div><br/><div class="children"><div class="content">There are plenty of contexts where you won&#x27;t have a compiler today - embedded (optimize for space) and very security hardened deployments (minimize attack surface).<p>Historically people used to sell compilers - so minimizing installation to dev machines probably was a savings (and in those times space was at a premium everywhere).<p>That said - I am with you, give me any other programming language besides shell!</div><br/></div></div><div id="42351524" class="c"><input type="checkbox" id="c-42351524" checked=""/><div class="controls bullet"><span class="by">chubot</span><span>|</span><a href="#42350460">root</a><span>|</span><a href="#42350820">parent</a><span>|</span><a href="#42351238">prev</a><span>|</span><a href="#42347040">next</a><span>|</span><label class="collapse" for="c-42351524">[-]</label><label class="expand" for="c-42351524">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s what I thought -- I thought that OS X was the main Unix where it is &quot;annoying&quot; to get a C compiler (huge XCode thing IIRC), and it isn&#x27;t used for servers much.<p>But people have told me stories about working for the government<p>(my background was more &quot;big tech&quot;, and video games, which are both extremely different)<p>Some government&#x2F;defense systems are extremely locked down, and they don&#x27;t have C compilers<p>So people make do with crazy shell script hacks.  This is obviously suboptimal, but it is not that surprising in retrospect!</div><br/><div id="42353023" class="c"><input type="checkbox" id="c-42353023" checked=""/><div class="controls bullet"><span class="by">mdaniel</span><span>|</span><a href="#42350460">root</a><span>|</span><a href="#42351524">parent</a><span>|</span><a href="#42347040">next</a><span>|</span><label class="collapse" for="c-42353023">[-]</label><label class="expand" for="c-42353023">[1 more]</label></div><br/><div class="children"><div class="content">&gt; it is &quot;annoying&quot; to get a C compiler (huge XCode thing IIRC)<p>FWIW, there is an apple.com .dmg &quot;command line tools&quot; that is much smaller than Xcode formal, but I actually came here to say that to the very best of my knowledge a $(ruby -e $(curl ...)) to brew install will then subsequently download pre-built binaries from GitHub&#x27;s docker registry</div><br/></div></div></div></div></div></div></div></div><div id="42347040" class="c"><input type="checkbox" id="c-42347040" checked=""/><div class="controls bullet"><span class="by">xyst</span><span>|</span><a href="#42350460">prev</a><span>|</span><a href="#42353000">next</a><span>|</span><label class="collapse" for="c-42347040">[-]</label><label class="expand" for="c-42347040">[5 more]</label></div><br/><div class="children"><div class="content">Itâs âonlyâ 7.1K LoC, but my favorite is the âacme.shâ script which is used to issue and renew certs from Lets Encrypt.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;acmesh-official&#x2F;acme.sh&#x2F;blob&#x2F;master&#x2F;acme.sh">https:&#x2F;&#x2F;github.com&#x2F;acmesh-official&#x2F;acme.sh&#x2F;blob&#x2F;master&#x2F;acme....</a></div><br/><div id="42347295" class="c"><input type="checkbox" id="c-42347295" checked=""/><div class="controls bullet"><span class="by">Brian_K_White</span><span>|</span><a href="#42347040">parent</a><span>|</span><a href="#42347279">next</a><span>|</span><label class="collapse" for="c-42347295">[-]</label><label class="expand" for="c-42347295">[3 more]</label></div><br/><div class="children"><div class="content">already in the list</div><br/><div id="42348223" class="c"><input type="checkbox" id="c-42348223" checked=""/><div class="controls bullet"><span class="by">dizhn</span><span>|</span><a href="#42347040">root</a><span>|</span><a href="#42347295">parent</a><span>|</span><a href="#42347279">next</a><span>|</span><label class="collapse" for="c-42348223">[-]</label><label class="expand" for="c-42348223">[2 more]</label></div><br/><div class="children"><div class="content">Parent might have meant that they like it. I was going to say the same thing. That one and distrobox are quite impressive in how well they work.</div><br/><div id="42354121" class="c"><input type="checkbox" id="c-42354121" checked=""/><div class="controls bullet"><span class="by">Macha</span><span>|</span><a href="#42347040">root</a><span>|</span><a href="#42348223">parent</a><span>|</span><a href="#42347279">next</a><span>|</span><label class="collapse" for="c-42354121">[-]</label><label class="expand" for="c-42354121">[1 more]</label></div><br/><div class="children"><div class="content">Personally I abandoned acme.sh for lego because it didn&#x27;t work well. For example, they lost track of the environment variables they were using for the server in their acme dns plugin across versions, thereby breaking what&#x27;s supposed to be a fire and forget process.<p>That and the CA that was exploiting shell injection in acme.sh convinced me it was time to move on</div><br/></div></div></div></div></div></div></div></div><div id="42353000" class="c"><input type="checkbox" id="c-42353000" checked=""/><div class="controls bullet"><span class="by">mihaitodor</span><span>|</span><a href="#42347040">prev</a><span>|</span><a href="#42349239">next</a><span>|</span><label class="collapse" for="c-42353000">[-]</label><label class="expand" for="c-42353000">[1 more]</label></div><br/><div class="children"><div class="content">I just added winetricks (22k LoC shell script) <a href="https:&#x2F;&#x2F;github.com&#x2F;Winetricks&#x2F;winetricks">https:&#x2F;&#x2F;github.com&#x2F;Winetricks&#x2F;winetricks</a></div><br/></div></div><div id="42349239" class="c"><input type="checkbox" id="c-42349239" checked=""/><div class="controls bullet"><span class="by">jefftk</span><span>|</span><a href="#42353000">prev</a><span>|</span><a href="#42355576">next</a><span>|</span><label class="collapse" for="c-42349239">[-]</label><label class="expand" for="c-42349239">[7 more]</label></div><br/><div class="children"><div class="content">Back when I worked on mod_pagespeed we wrote shell scripts for our end-to-end tests.  This was expedient when getting started, but then we just kept using it long past when we should have switched away.  At one point I got buy-in for switching to python, but (inexperience) I thought the right way to do it was to build up a parallel set of tests in python and then switch over once everything had been ported.  This, of course, didn&#x27;t work out. If I were doing this now I&#x27;d do it incrementally, since there&#x27;s no reason you can&#x27;t have a mix of shell and python during the transition.<p>I count 10k lines of hand-written bash in the system tests:<p><pre><code>    $ git clone git@github.com:apache&#x2F;incubator-pagespeed-mod.git
    $ git clone git@github.com:apache&#x2F;incubator-pagespeed-ngx.git
    $ find incubator-pagespeed-* | \
         grep sh$ | \
         grep system_test | \
         xargs cat | \
         wc -l
    10579</code></pre></div><br/><div id="42349981" class="c"><input type="checkbox" id="c-42349981" checked=""/><div class="controls bullet"><span class="by">gjvc</span><span>|</span><a href="#42349239">parent</a><span>|</span><a href="#42355576">next</a><span>|</span><label class="collapse" for="c-42349981">[-]</label><label class="expand" for="c-42349981">[6 more]</label></div><br/><div class="children"><div class="content">lines ending in | do not require \</div><br/><div id="42351256" class="c"><input type="checkbox" id="c-42351256" checked=""/><div class="controls bullet"><span class="by">jefftk</span><span>|</span><a href="#42349239">root</a><span>|</span><a href="#42349981">parent</a><span>|</span><a href="#42353166">next</a><span>|</span><label class="collapse" for="c-42351256">[-]</label><label class="expand" for="c-42351256">[2 more]</label></div><br/><div class="children"><div class="content">Thanks for the tip!<p>(I&#x27;m very conflicted about learning new things that make shell more convenient: I don&#x27;t need more things pushing me toward using this in-many-ways-horrible-but-I&#x27;m-so-fast-with-it tool.)</div><br/><div id="42351317" class="c"><input type="checkbox" id="c-42351317" checked=""/><div class="controls bullet"><span class="by">gjvc</span><span>|</span><a href="#42349239">root</a><span>|</span><a href="#42351256">parent</a><span>|</span><a href="#42353166">next</a><span>|</span><label class="collapse" for="c-42351317">[-]</label><label class="expand" for="c-42351317">[1 more]</label></div><br/><div class="children"><div class="content">you might (or might not) like this, then <a href="https:&#x2F;&#x2F;iam.georgecox.com&#x2F;2023&#x2F;02&#x2F;05&#x2F;command-dispatch-via-bash-array-notation-oh-my&#x2F;" rel="nofollow">https:&#x2F;&#x2F;iam.georgecox.com&#x2F;2023&#x2F;02&#x2F;05&#x2F;command-dispatch-via-ba...</a></div><br/></div></div></div></div><div id="42353166" class="c"><input type="checkbox" id="c-42353166" checked=""/><div class="controls bullet"><span class="by">greazy</span><span>|</span><a href="#42349239">root</a><span>|</span><a href="#42349981">parent</a><span>|</span><a href="#42351256">prev</a><span>|</span><a href="#42350654">next</a><span>|</span><label class="collapse" for="c-42353166">[-]</label><label class="expand" for="c-42353166">[2 more]</label></div><br/><div class="children"><div class="content">In my experience they do. Could it be related to strict bash mode?</div><br/><div id="42353848" class="c"><input type="checkbox" id="c-42353848" checked=""/><div class="controls bullet"><span class="by">gjvc</span><span>|</span><a href="#42349239">root</a><span>|</span><a href="#42353166">parent</a><span>|</span><a href="#42350654">next</a><span>|</span><label class="collapse" for="c-42353848">[-]</label><label class="expand" for="c-42353848">[1 more]</label></div><br/><div class="children"><div class="content">dunno. give some evidence.</div><br/></div></div></div></div><div id="42350654" class="c"><input type="checkbox" id="c-42350654" checked=""/><div class="controls bullet"><span class="by">michaelcampbell</span><span>|</span><a href="#42349239">root</a><span>|</span><a href="#42349981">parent</a><span>|</span><a href="#42353166">prev</a><span>|</span><a href="#42355576">next</a><span>|</span><label class="collapse" for="c-42350654">[-]</label><label class="expand" for="c-42350654">[1 more]</label></div><br/><div class="children"><div class="content">I (also?) never new this; thanks.<p>My old finger memory will still probably put them in, alas.</div><br/></div></div></div></div></div></div><div id="42355576" class="c"><input type="checkbox" id="c-42355576" checked=""/><div class="controls bullet"><span class="by">pwdisswordfishz</span><span>|</span><a href="#42349239">prev</a><span>|</span><a href="#42350602">next</a><span>|</span><label class="collapse" for="c-42355576">[-]</label><label class="expand" for="c-42355576">[1 more]</label></div><br/><div class="children"><div class="content">Surprised not to see Arch Linuxâs makepkg on the list, btw.</div><br/></div></div><div id="42350602" class="c"><input type="checkbox" id="c-42350602" checked=""/><div class="controls bullet"><span class="by">michaelcampbell</span><span>|</span><a href="#42355576">prev</a><span>|</span><a href="#42349317">next</a><span>|</span><label class="collapse" for="c-42350602">[-]</label><label class="expand" for="c-42350602">[3 more]</label></div><br/><div class="children"><div class="content">Probably my largest one that was an order of magnitude smaller than these for the most part, but it checked that my VPN was up (or not) and started it if not.  (And restarted various media based docker containers.)<p>If it was up, it would do a speedcheck and record that for the IP the VPN was using, then check to see how that speed was compared to the average, with a standard deviation and z-score.  It would then calculate how long it should wait before it recycled the VPN client.  Slow VPN endpoints would cycle quicker, faster ones would wait longer to cycle.  Speeds outsize a standard deviation or so would check quicker than the last delta, within 1 Z would expand the delta before it checked again.<p>Another one about that size would, based on current time, scrape the local weather and sunup&#x2F;sundown times for my lat&#x2F;long, and determine how long to wait before turning on an outdoor hose, and for how long to run it via X10 with a switch on the laptop that was using a serial port to hook into the X10 devices.  The hose was attached to a sprinkler on my roof which would spray down the roof to cool it off.  Hotter (and sunnier) weather would run longer and wait shorter, and vice versa.  I live in the US South where shedding those BTUs via evaporation did make a difference in my air conditioning power use.</div><br/><div id="42355121" class="c"><input type="checkbox" id="c-42355121" checked=""/><div class="controls bullet"><span class="by">eszed</span><span>|</span><a href="#42350602">parent</a><span>|</span><a href="#42350790">next</a><span>|</span><label class="collapse" for="c-42355121">[-]</label><label class="expand" for="c-42355121">[1 more]</label></div><br/><div class="children"><div class="content">These are my two favorite on the page, and seem somehow emblematic of the &quot;hacker spirit&quot;.</div><br/></div></div><div id="42350790" class="c"><input type="checkbox" id="c-42350790" checked=""/><div class="controls bullet"><span class="by">Y_Y</span><span>|</span><a href="#42350602">parent</a><span>|</span><a href="#42355121">prev</a><span>|</span><a href="#42349317">next</a><span>|</span><label class="collapse" for="c-42350790">[-]</label><label class="expand" for="c-42350790">[1 more]</label></div><br/><div class="children"><div class="content">For those of you not familiar with &quot;British Thermal Units&quot;, they&#x27;re about 7e-14 firkin square furlongs per square fortnight.</div><br/></div></div></div></div><div id="42349317" class="c"><input type="checkbox" id="c-42349317" checked=""/><div class="controls bullet"><span class="by">oneeyedpigeon</span><span>|</span><a href="#42350602">prev</a><span>|</span><a href="#42347644">next</a><span>|</span><label class="collapse" for="c-42349317">[-]</label><label class="expand" for="c-42349317">[1 more]</label></div><br/><div class="children"><div class="content">On a macOS machine, this:<p><pre><code>  $ file &#x2F;usr&#x2F;bin&#x2F;* | grep &quot;shell script&quot; | cut -f1 -d&#x27;:&#x27; | xargs wc -l | sort -n
</code></pre>
gives me:<p><pre><code>  6431 &#x2F;usr&#x2F;bin&#x2F;tkcon
</code></pre>
but that&#x27;s another Tk script disguised as a shell script; the next is:<p><pre><code>  1030 &#x2F;usr&#x2F;bin&#x2F;dtruss
</code></pre>
which is a shell script wrapper around dtrace.</div><br/></div></div><div id="42347644" class="c"><input type="checkbox" id="c-42347644" checked=""/><div class="controls bullet"><span class="by">zabzonk</span><span>|</span><a href="#42349317">prev</a><span>|</span><a href="#42347366">next</a><span>|</span><label class="collapse" for="c-42347644">[-]</label><label class="expand" for="c-42347644">[3 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t know about the biggest, although it was quite big, , but the best shell program I ever wrote was in ReXX for a couple of IBM 4381s running VM&#x2F;CMS which did distributed printing across a number of physical sites. It saved us a ton of money as it only needed a cheap serial terminal and printer and saved us so much money when IBM was wanting to charge us an ungodly amount for their own printers and associated comms. One of pieces of software I&#x27;m most proud of (written in the mid 1980s), to this day.</div><br/><div id="42347813" class="c"><input type="checkbox" id="c-42347813" checked=""/><div class="controls bullet"><span class="by">banku_brougham</span><span>|</span><a href="#42347644">parent</a><span>|</span><a href="#42347366">next</a><span>|</span><label class="collapse" for="c-42347813">[-]</label><label class="expand" for="c-42347813">[2 more]</label></div><br/><div class="children"><div class="content">Well, you gotta post this somewhere so we can see</div><br/><div id="42348000" class="c"><input type="checkbox" id="c-42348000" checked=""/><div class="controls bullet"><span class="by">zabzonk</span><span>|</span><a href="#42347644">root</a><span>|</span><a href="#42347813">parent</a><span>|</span><a href="#42347366">next</a><span>|</span><label class="collapse" for="c-42348000">[-]</label><label class="expand" for="c-42348000">[1 more]</label></div><br/><div class="children"><div class="content">Like much of what i wrote before the days of distributed version control, this is now lost in the mists of time. And the code wouldn&#x27;t belong to me anyway.</div><br/></div></div></div></div></div></div><div id="42347366" class="c"><input type="checkbox" id="c-42347366" checked=""/><div class="controls bullet"><span class="by">sigoden</span><span>|</span><a href="#42347644">prev</a><span>|</span><a href="#42346705">next</a><span>|</span><label class="collapse" for="c-42347366">[-]</label><label class="expand" for="c-42347366">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re looking for a tool to simplify the building of big shell programs, I highly recommend using argc (<a href="https:&#x2F;&#x2F;github.com&#x2F;sigoden&#x2F;argc">https:&#x2F;&#x2F;github.com&#x2F;sigoden&#x2F;argc</a>).
It&#x27;s a powerful Bash CLI framework that significantly simplifies the process of developing feature-rich command-line interfaces.</div><br/></div></div><div id="42346705" class="c"><input type="checkbox" id="c-42346705" checked=""/><div class="controls bullet"><span class="by">alsetmusic</span><span>|</span><a href="#42347366">prev</a><span>|</span><a href="#42350578">next</a><span>|</span><label class="collapse" for="c-42346705">[-]</label><label class="expand" for="c-42346705">[1 more]</label></div><br/><div class="children"><div class="content">I love exploring things like this. The demo for ble.sh interactive text editor made me chuckle with delight.</div><br/></div></div><div id="42350578" class="c"><input type="checkbox" id="c-42350578" checked=""/><div class="controls bullet"><span class="by">tpoacher</span><span>|</span><a href="#42346705">prev</a><span>|</span><a href="#42347110">next</a><span>|</span><label class="collapse" for="c-42350578">[-]</label><label class="expand" for="c-42350578">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m writing a ticketing manager for the terminal entirely in bash. Reasonably non-trivial project, and it&#x27;s been pretty enjoyable working &quot;exclusively&quot; with bash. (&quot;exclusively&quot; here used in quotes, because the whole point of a shell scripting language is to act as a glue between smaller programs or core utilities in the first place, which obviously may well have been written in other languages. but you get the point).<p>Having said that, if I were to start experimenting with an altogether different shell, I would be very tempted to try jshell!<p>Incidentally, I hate when projects say stuff like &quot;Oils is our upgrade path from bash to a better language and runtime&quot;. Whether a change of this kind is an &quot;upgrade&quot; is completely subjective, and the wording is unnecessarily haughty &#x2F; dismissive. And very often you realise that projects who say that kind of thing are basically just using the underlying tech wrongly, and trying to reinvent the wheel.<p>Honestly, I&#x27;ve almost developed a knee reflex to seeing the words &quot;upgrade&quot; and &quot;better&quot; in this kind of context by now. Oils may be a cool project but that description is not making me want to find out more about it.</div><br/><div id="42353938" class="c"><input type="checkbox" id="c-42353938" checked=""/><div class="controls bullet"><span class="by">bbkane</span><span>|</span><a href="#42350578">parent</a><span>|</span><a href="#42347110">next</a><span>|</span><label class="collapse" for="c-42353938">[-]</label><label class="expand" for="c-42353938">[1 more]</label></div><br/><div class="children"><div class="content">Man if you think Bash doesn&#x27;t need an upgrade, more power to you, but every time I use it for anything slightly complicated I regret it, so I&#x27;m firmly in the &quot;dear Lord, let&#x27;s find a smooth upgrade from Bash&quot; camp and I&#x27;m excited about Oils</div><br/></div></div></div></div><div id="42347110" class="c"><input type="checkbox" id="c-42347110" checked=""/><div class="controls bullet"><span class="by">robhlt</span><span>|</span><a href="#42350578">prev</a><span>|</span><a href="#42350489">next</a><span>|</span><label class="collapse" for="c-42347110">[-]</label><label class="expand" for="c-42347110">[1 more]</label></div><br/><div class="children"><div class="content">FireHOL is another pretty big one, around 20k lines. It&#x27;s a neat firewall configuration tool with its own custom config format.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;firehol&#x2F;firehol">https:&#x2F;&#x2F;github.com&#x2F;firehol&#x2F;firehol</a></div><br/></div></div><div id="42350489" class="c"><input type="checkbox" id="c-42350489" checked=""/><div class="controls bullet"><span class="by">branon</span><span>|</span><a href="#42347110">prev</a><span>|</span><a href="#42347442">next</a><span>|</span><label class="collapse" for="c-42350489">[-]</label><label class="expand" for="c-42350489">[1 more]</label></div><br/><div class="children"><div class="content">Biggest I know of is <a href="https:&#x2F;&#x2F;github.com&#x2F;sonic2kk&#x2F;steamtinkerlaunch&#x2F;blob&#x2F;master&#x2F;steamtinkerlaunch">https:&#x2F;&#x2F;github.com&#x2F;sonic2kk&#x2F;steamtinkerlaunch&#x2F;blob&#x2F;master&#x2F;st...</a><p>27k lines&#x2F;24k loc</div><br/></div></div><div id="42347442" class="c"><input type="checkbox" id="c-42347442" checked=""/><div class="controls bullet"><span class="by">kamaal</span><span>|</span><a href="#42350489">prev</a><span>|</span><a href="#42346785">next</a><span>|</span><label class="collapse" for="c-42347442">[-]</label><label class="expand" for="c-42347442">[5 more]</label></div><br/><div class="children"><div class="content">As someone who has written and maintained large Perl programs at various points in my career. There is a reason why people do this- Java and Python like languages work fine when interfaces and formats are defined, and you often have 0 OS interaction. That is, you use JSON&#x2F;XML&#x2F;YAML or interact with a database or other programs via http(s). This creates an ideal situation where these languages can shine.<p>When people do large quantity text and OS interaction work, languages like Java and Python are a giant pain. And you will begin to notice how Shell&#x2F;Perl become a breeze to do this kind of work.<p>This means nearly every automation task, chaotic non-standard interfaces, working with text&#x2F;log files, or other data formats that are not structured(or at least well enough). Add to this Perl&#x27;s commitment towards backwards compatibility, a large install base and performance. You have 0 alternatives apart from Perl if you are working to these kind of tasks.<p>I have long believed that a big reason for so much manual drudgery these days, with large companies hiring thousands of people to do trivially easy to automate tasks is because Perl usage dropped. People attempt to use Python or Java to do some big automation tasks and quit soon enough when they are faced with the magnitude of verbosity and overall size of code they have to churn and maintain to get it done.</div><br/><div id="42354155" class="c"><input type="checkbox" id="c-42354155" checked=""/><div class="controls bullet"><span class="by">chubot</span><span>|</span><a href="#42347442">parent</a><span>|</span><a href="#42350526">next</a><span>|</span><label class="collapse" for="c-42354155">[-]</label><label class="expand" for="c-42354155">[1 more]</label></div><br/><div class="children"><div class="content">Yes I agree - my favorite language is Python, but it can be annoying&#x2F;inefficient for certain low-level OS things.  This is why I created <a href="https:&#x2F;&#x2F;www.oilshell.org" rel="nofollow">https:&#x2F;&#x2F;www.oilshell.org</a> (and the linked wiki page)<p>A few links for context:<p><i>Are you reinventing Perl?</i><p><a href="https:&#x2F;&#x2F;www.oilshell.org&#x2F;blog&#x2F;2021&#x2F;01&#x2F;why-a-new-shell.html#are-you-reinventing-perl" rel="nofollow">https:&#x2F;&#x2F;www.oilshell.org&#x2F;blog&#x2F;2021&#x2F;01&#x2F;why-a-new-shell.html#a...</a><p><i>The Unix Shell Should Evolve Like Perl 5</i> (with compatible upgrade options, rather than a big bang like Perl 6&#x2F;Raku)<p><a href="https:&#x2F;&#x2F;www.oilshell.org&#x2F;blog&#x2F;2020&#x2F;07&#x2F;blog-roadmap.html#the-unix-shell-should-evolve-like-perl-5" rel="nofollow">https:&#x2F;&#x2F;www.oilshell.org&#x2F;blog&#x2F;2020&#x2F;07&#x2F;blog-roadmap.html#the-...</a><p><i>A Tour of YSH</i> - <a href="https:&#x2F;&#x2F;www.oilshell.org&#x2F;release&#x2F;latest&#x2F;doc&#x2F;ysh-tour.html" rel="nofollow">https:&#x2F;&#x2F;www.oilshell.org&#x2F;release&#x2F;latest&#x2F;doc&#x2F;ysh-tour.html</a></div><br/></div></div><div id="42350526" class="c"><input type="checkbox" id="c-42350526" checked=""/><div class="controls bullet"><span class="by">stackskipton</span><span>|</span><a href="#42347442">parent</a><span>|</span><a href="#42354155">prev</a><span>|</span><a href="#42349932">next</a><span>|</span><label class="collapse" for="c-42350526">[-]</label><label class="expand" for="c-42350526">[1 more]</label></div><br/><div class="children"><div class="content">Strong disagree that it&#x27;s because &quot;Omg, no more Perl&quot; but just complexity cranked up and that Perl person stitching scripts together became their full job and obviously Perl only got you so far. So now you have additional FTE who is probably expensive.<p>Also, if end user is on Windows, there is already Perl like option on their desktop, it&#x27;s called Powershell and will perform similar to Perl.</div><br/></div></div><div id="42349932" class="c"><input type="checkbox" id="c-42349932" checked=""/><div class="controls bullet"><span class="by">GoblinSlayer</span><span>|</span><a href="#42347442">parent</a><span>|</span><a href="#42350526">prev</a><span>|</span><a href="#42349597">next</a><span>|</span><label class="collapse" for="c-42349932">[-]</label><label class="expand" for="c-42349932">[1 more]</label></div><br/><div class="children"><div class="content">I did a big automation task in native code, because efficiency is desirable in such cases, while bash+grep favor running a new process for every text line. In order to be efficient, you need to minimize work, and thus batch and deduplicate it, which means you need to handle data in a stateful manner while tracking deduplication context, which is easier in a proper programming language, while bash+grep favor stateless text processing and thus result in much work duplication. Another strategy for minimization of work is accurate filtering, which is easier to express imperatively with nice formatting in a proper programming language, grep and regex are completely unsuitable for this. Then if you use line separated format, git awards you with escaping to accommodate for whatever, which is inconsistently supported and can be disabled by asking null terminated string format with -z option, I don&#x27;t think bash has any way to handle it, while in a sufficiently low level language it&#x27;s natural, and it also allows for incremental streaming so you don&#x27;t have to start a new process for every text line.<p>As a bonus you can use single code base for everything no matter if there&#x27;s http or something else in the line.</div><br/></div></div><div id="42349597" class="c"><input type="checkbox" id="c-42349597" checked=""/><div class="controls bullet"><span class="by">hiAndrewQuinn</span><span>|</span><a href="#42347442">parent</a><span>|</span><a href="#42349932">prev</a><span>|</span><a href="#42346785">next</a><span>|</span><label class="collapse" for="c-42349597">[-]</label><label class="expand" for="c-42349597">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been seriously considering learning some Perl 5-fu ever since I realized it&#x27;s installed by default on so many Linux and BSD systems. I think even OpenBSD comes with perl installed.<p>That may not seem like a big advantage until you&#x27;re working in an environment where you don&#x27;t actually have the advantage of just installing things from the open Internet (or reaching the Internet at all).</div><br/></div></div></div></div><div id="42346785" class="c"><input type="checkbox" id="c-42346785" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#42347442">prev</a><span>|</span><a href="#42348076">next</a><span>|</span><label class="collapse" for="c-42346785">[-]</label><label class="expand" for="c-42346785">[2 more]</label></div><br/><div class="children"><div class="content">Why is ReaR not on this list?<p><a href="https:&#x2F;&#x2F;relax-and-recover.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;relax-and-recover.org&#x2F;</a><p>This is the equivalent of the &quot;Ignite&quot; tool under HP-UX.</div><br/><div id="42347068" class="c"><input type="checkbox" id="c-42347068" checked=""/><div class="controls bullet"><span class="by">chubot</span><span>|</span><a href="#42346785">parent</a><span>|</span><a href="#42348076">next</a><span>|</span><label class="collapse" for="c-42347068">[-]</label><label class="expand" for="c-42347068">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a wiki, you can add it!<p>Looks legit to me, e.g. <a href="https:&#x2F;&#x2F;github.com&#x2F;rear&#x2F;rear&#x2F;blob&#x2F;master&#x2F;usr&#x2F;share&#x2F;rear&#x2F;lib&#x2F;_input-output-functions.sh">https:&#x2F;&#x2F;github.com&#x2F;rear&#x2F;rear&#x2F;blob&#x2F;master&#x2F;usr&#x2F;share&#x2F;rear&#x2F;lib&#x2F;...</a></div><br/></div></div></div></div><div id="42348076" class="c"><input type="checkbox" id="c-42348076" checked=""/><div class="controls bullet"><span class="by">sn9</span><span>|</span><a href="#42346785">prev</a><span>|</span><a href="#42349845">next</a><span>|</span><label class="collapse" for="c-42348076">[-]</label><label class="expand" for="c-42348076">[5 more]</label></div><br/><div class="children"><div class="content">I think around a decade ago, I tried installing a copy of Mathematica and the installer from Wolfram was a bash program that was over a GB in size.<p>I tried opening it up just to look at it and most text editors just absolutely choked on it. I can&#x27;t remember, but it was either Vim xor Emacs that could finally handle opening it.</div><br/><div id="42348105" class="c"><input type="checkbox" id="c-42348105" checked=""/><div class="controls bullet"><span class="by">zertrin</span><span>|</span><a href="#42348076">parent</a><span>|</span><a href="#42348107">next</a><span>|</span><label class="collapse" for="c-42348105">[-]</label><label class="expand" for="c-42348105">[1 more]</label></div><br/><div class="children"><div class="content">Most likely it embedded a (g)zip inside the shell script? I&#x27;ve seen this frequently.</div><br/></div></div><div id="42348107" class="c"><input type="checkbox" id="c-42348107" checked=""/><div class="controls bullet"><span class="by">szszrk</span><span>|</span><a href="#42348076">parent</a><span>|</span><a href="#42348105">prev</a><span>|</span><a href="#42349845">next</a><span>|</span><label class="collapse" for="c-42348107">[-]</label><label class="expand" for="c-42348107">[3 more]</label></div><br/><div class="children"><div class="content">Some installers include binaries inside their shell scripts. So the script extracts data from itself. Not great for transparency, but works and is single file.</div><br/><div id="42349123" class="c"><input type="checkbox" id="c-42349123" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#42348076">root</a><span>|</span><a href="#42348107">parent</a><span>|</span><a href="#42349845">next</a><span>|</span><label class="collapse" for="c-42349123">[-]</label><label class="expand" for="c-42349123">[2 more]</label></div><br/><div class="children"><div class="content">shar, shell archives.</div><br/><div id="42349293" class="c"><input type="checkbox" id="c-42349293" checked=""/><div class="controls bullet"><span class="by">szszrk</span><span>|</span><a href="#42348076">root</a><span>|</span><a href="#42349123">parent</a><span>|</span><a href="#42349845">next</a><span>|</span><label class="collapse" for="c-42349293">[-]</label><label class="expand" for="c-42349293">[1 more]</label></div><br/><div class="children"><div class="content">A bit of a pain in the ass in some corporate environments, where binaries are scanned before use by DLP software ;&#x2F;</div><br/></div></div></div></div></div></div></div></div><div id="42349845" class="c"><input type="checkbox" id="c-42349845" checked=""/><div class="controls bullet"><span class="by">fny</span><span>|</span><a href="#42348076">prev</a><span>|</span><a href="#42351934">next</a><span>|</span><label class="collapse" for="c-42349845">[-]</label><label class="expand" for="c-42349845">[1 more]</label></div><br/><div class="children"><div class="content">I feel like this merits having a Computer Benchmarks Game for different shells.</div><br/></div></div><div id="42351934" class="c"><input type="checkbox" id="c-42351934" checked=""/><div class="controls bullet"><span class="by">svilen_dobrev</span><span>|</span><a href="#42349845">prev</a><span>|</span><a href="#42346639">next</a><span>|</span><label class="collapse" for="c-42351934">[-]</label><label class="expand" for="c-42351934">[1 more]</label></div><br/><div class="children"><div class="content">around ~2000, my build&#x2F;install script had to simulate some kind of OO-like inheritance.. And there was python but noone understood it (and even less had it installed), so: bash - aliases had priority over funcs which had priority to whatever executables found in PATH.. so here you go - whole 3 levels of it, with lowest&#x2F;PATH being changeable..</div><br/></div></div><div id="42346639" class="c"><input type="checkbox" id="c-42346639" checked=""/><div class="controls bullet"><span class="by">transcriptase</span><span>|</span><a href="#42351934">prev</a><span>|</span><a href="#42351848">next</a><span>|</span><label class="collapse" for="c-42346639">[-]</label><label class="expand" for="c-42346639">[1 more]</label></div><br/><div class="children"><div class="content">Sometimes I do things I know are cursed for the sheer entertainment of being able to say it worked. E.g. my one absurdly complex R script that would write ungodly long bash scripts based on the output of various domain specific packages.<p>It began:<p># Yeah yeah I know</div><br/></div></div><div id="42351848" class="c"><input type="checkbox" id="c-42351848" checked=""/><div class="controls bullet"><span class="by">khushy</span><span>|</span><a href="#42346639">prev</a><span>|</span><a href="#42346567">next</a><span>|</span><label class="collapse" for="c-42351848">[-]</label><label class="expand" for="c-42351848">[1 more]</label></div><br/><div class="children"><div class="content">Most shell script installers are works of art</div><br/></div></div><div id="42346567" class="c"><input type="checkbox" id="c-42346567" checked=""/><div class="controls bullet"><span class="by">sixthDot</span><span>|</span><a href="#42351848">prev</a><span>|</span><a href="#42347548">next</a><span>|</span><label class="collapse" for="c-42346567">[-]</label><label class="expand" for="c-42346567">[2 more]</label></div><br/><div class="children"><div class="content">everything you can do in `git gui` is actually a silly shell script but that works for me.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;git&#x2F;git&#x2F;blob&#x2F;master&#x2F;git-gui&#x2F;git-gui.sh">https:&#x2F;&#x2F;github.com&#x2F;git&#x2F;git&#x2F;blob&#x2F;master&#x2F;git-gui&#x2F;git-gui.sh</a></div><br/><div id="42346826" class="c"><input type="checkbox" id="c-42346826" checked=""/><div class="controls bullet"><span class="by">ilyagr</span><span>|</span><a href="#42346567">parent</a><span>|</span><a href="#42347548">next</a><span>|</span><label class="collapse" for="c-42346826">[-]</label><label class="expand" for="c-42346826">[1 more]</label></div><br/><div class="children"><div class="content">It (and gitk) are actually Tcl scripts. Note how the &quot;shell script&quot; you linked exec-s itself with `wish`</div><br/></div></div></div></div><div id="42347548" class="c"><input type="checkbox" id="c-42347548" checked=""/><div class="controls bullet"><span class="by">anothername12</span><span>|</span><a href="#42346567">prev</a><span>|</span><a href="#42349080">next</a><span>|</span><label class="collapse" for="c-42347548">[-]</label><label class="expand" for="c-42347548">[1 more]</label></div><br/><div class="children"><div class="content">I would add Bash Forth to that. String-threaded concatenative programming!</div><br/></div></div><div id="42349080" class="c"><input type="checkbox" id="c-42349080" checked=""/><div class="controls bullet"><span class="by">rajamaka</span><span>|</span><a href="#42347548">prev</a><span>|</span><label class="collapse" for="c-42349080">[-]</label><label class="expand" for="c-42349080">[3 more]</label></div><br/><div class="children"><div class="content">Would love to see the same for batch on Windows</div><br/><div id="42351279" class="c"><input type="checkbox" id="c-42351279" checked=""/><div class="controls bullet"><span class="by">denistaran</span><span>|</span><a href="#42349080">parent</a><span>|</span><label class="collapse" for="c-42351279">[-]</label><label class="expand" for="c-42351279">[2 more]</label></div><br/><div class="children"><div class="content">If youâre scripting on Windows, itâs better to use PowerShell instead of batch. Compared to Bash, PowerShell is also better suited for large scripts because it works with objects rather than plain text. This makes handling structured data like JSON, XML, or command outputs much easier, avoiding the need for error-prone text parsing.</div><br/><div id="42353341" class="c"><input type="checkbox" id="c-42353341" checked=""/><div class="controls bullet"><span class="by">shawn_w</span><span>|</span><a href="#42349080">root</a><span>|</span><a href="#42351279">parent</a><span>|</span><label class="collapse" for="c-42353341">[-]</label><label class="expand" for="c-42353341">[1 more]</label></div><br/><div class="children"><div class="content">PowerShell is definitely better for new projects, but there&#x27;s lots of legacy batch files out there.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>