<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1712998867886" as="style"/><link rel="stylesheet" href="styles.css?v=1712998867886"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://textslashplain.com/2024/04/10/browser-security-bugs-that-arent-javascript-in-pdf/">Browser Security Bugs That Aren&#x27;t: JavaScript in PDF</a>Â <span class="domain">(<a href="https://textslashplain.com">textslashplain.com</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>9 comments</span></div><br/><div><div id="40021560" class="c"><input type="checkbox" id="c-40021560" checked=""/><div class="controls bullet"><span class="by">jart</span><span>|</span><a href="#40021294">next</a><span>|</span><label class="collapse" for="c-40021560">[-]</label><label class="expand" for="c-40021560">[1 more]</label></div><br/><div class="children"><div class="content">Just because PDF files can&#x27;t hijack your domain, doesn&#x27;t mean they can&#x27;t spy on you. Unfortunately, there isn&#x27;t really an open source tool for sanitizing PDF files.</div><br/></div></div><div id="40021294" class="c"><input type="checkbox" id="c-40021294" checked=""/><div class="controls bullet"><span class="by">egberts1</span><span>|</span><a href="#40021560">prev</a><span>|</span><a href="#40000886">next</a><span>|</span><label class="collapse" for="c-40021294">[-]</label><label class="expand" for="c-40021294">[1 more]</label></div><br/><div class="children"><div class="content">Even from sandboxed JS, you can do network probes.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;joevennix&#x2F;lan-js">https:&#x2F;&#x2F;github.com&#x2F;joevennix&#x2F;lan-js</a></div><br/></div></div><div id="40000886" class="c"><input type="checkbox" id="c-40000886" checked=""/><div class="controls bullet"><span class="by">patrakov</span><span>|</span><a href="#40021294">prev</a><span>|</span><a href="#40021198">next</a><span>|</span><label class="collapse" for="c-40000886">[-]</label><label class="expand" for="c-40000886">[2 more]</label></div><br/><div class="children"><div class="content">The article is a bit one-sided: it reviews the topic only from the aspect of rendering PDFs using a copy of pdf.js embedded in a web browser. However, this is not the only copy of pdf.js. It would be interesting to check software like NextCloud or its proprietary workalikes (e.g., PCloud) for their handling of untrusted JavaScript in PDF files shared through these platforms.</div><br/><div id="40021100" class="c"><input type="checkbox" id="c-40021100" checked=""/><div class="controls bullet"><span class="by">bawolff</span><span>|</span><a href="#40000886">parent</a><span>|</span><a href="#40021198">next</a><span>|</span><label class="collapse" for="c-40021100">[-]</label><label class="expand" for="c-40021100">[1 more]</label></div><br/><div class="children"><div class="content">They are mostly talking about chrome which does not use pdf.js (unless they changed it)<p>In any case, its pretty similar in both cases. Even in the client side rendering case, if there is a sandbox you still have to escape it before your script execution is a real vuln.</div><br/></div></div></div></div><div id="40021198" class="c"><input type="checkbox" id="c-40021198" checked=""/><div class="controls bullet"><span class="by">jotaen</span><span>|</span><a href="#40000886">prev</a><span>|</span><a href="#40021408">next</a><span>|</span><label class="collapse" for="c-40021198">[-]</label><label class="expand" for="c-40021198">[3 more]</label></div><br/><div class="children"><div class="content">For anyone (like me) wondering why PDFs would need to support JavaScript in the first place, the main motivation&#x2F;use-case appears to be validation and interactivity of embedded forms.</div><br/><div id="40021483" class="c"><input type="checkbox" id="c-40021483" checked=""/><div class="controls bullet"><span class="by">VS1999</span><span>|</span><a href="#40021198">parent</a><span>|</span><a href="#40021408">next</a><span>|</span><label class="collapse" for="c-40021483">[-]</label><label class="expand" for="c-40021483">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve seen javascript in PDFs be used for unintended exploits more often than every legitimate use combined. It&#x27;s kind of like if JPEGs could run arbitrary code by design.</div><br/><div id="40021622" class="c"><input type="checkbox" id="c-40021622" checked=""/><div class="controls bullet"><span class="by">ldjb</span><span>|</span><a href="#40021198">root</a><span>|</span><a href="#40021483">parent</a><span>|</span><a href="#40021408">next</a><span>|</span><label class="collapse" for="c-40021622">[-]</label><label class="expand" for="c-40021622">[1 more]</label></div><br/><div class="children"><div class="content">There are restrictions, but SVG is an example of an image file type that can run JavaScript (again, there are legitimate use cases for this).</div><br/></div></div></div></div></div></div><div id="40021408" class="c"><input type="checkbox" id="c-40021408" checked=""/><div class="controls bullet"><span class="by">james-bcn</span><span>|</span><a href="#40021198">prev</a><span>|</span><label class="collapse" for="c-40021408">[-]</label><label class="expand" for="c-40021408">[1 more]</label></div><br/><div class="children"><div class="content">Works on Chrome and Firefox but not on Safari.</div><br/></div></div></div></div></div></div></div></body></html>