<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1711098068509" as="style"/><link rel="stylesheet" href="styles.css?v=1711098068509"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://difftastic.wilfred.me.uk/">Difftastic, a structural diff tool that understands syntax</a>Â <span class="domain">(<a href="https://difftastic.wilfred.me.uk">difftastic.wilfred.me.uk</a>)</span></div><div class="subtext"><span>jiripospisil</span> | <span>130 comments</span></div><br/><div><div id="39779595" class="c"><input type="checkbox" id="c-39779595" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#39778795">next</a><span>|</span><label class="collapse" for="c-39779595">[-]</label><label class="expand" for="c-39779595">[45 more]</label></div><br/><div class="children"><div class="content">For those who don&#x27;t already know, this is built on tree-sitter (<a href="https:&#x2F;&#x2F;tree-sitter.github.io&#x2F;tree-sitter&#x2F;" rel="nofollow">https:&#x2F;&#x2F;tree-sitter.github.io&#x2F;tree-sitter&#x2F;</a>) which does for parsing what LSP does for analysis. That is, it provides a standard interface for turning code into an AST and then making that AST available to clients like editors and diff tools. Instead of a neat tool like this having to support dozens of languages, it can just support tree-sitter and automatically work with anything that tree-sitter supports. And if you&#x27;re developing a new language, you can create a tree-sitter parser for it, and now every tool that speaks tree-sitter knows how to support your language.<p>Those 2 <i>massive</i> innovations are leading to an explosion of tooling improvements like this. Now every editor, diff tool, or whatever can support dozens or hundreds of languages without having to duplicate all the work of every other similar tool. That&#x27;s freaking amazing.</div><br/><div id="39780995" class="c"><input type="checkbox" id="c-39780995" checked=""/><div class="controls bullet"><span class="by">ievans</span><span>|</span><a href="#39779595">parent</a><span>|</span><a href="#39780968">next</a><span>|</span><label class="collapse" for="c-39780995">[-]</label><label class="expand" for="c-39780995">[5 more]</label></div><br/><div class="children"><div class="content">Absolutely agreed, and copying from a comment I wrote last year: I think the fact that tree-sitter is dependency-free is worth highlighting. For context, some of my teammates maintain the OCaml tree-sitter bindings and often contribute to grammars as part of our work on Semgrep (Semgrep uses tree-sitter for searching code and parsing queries that are code snippets themselves into AST matchers).<p>Often when writing a linter, you need to bring along the runtime of the language you&#x27;re targeting. E.g., in python if you&#x27;re writing a parser using the builtin `ast` module, you need to match the language version &amp; features. So you can&#x27;t parse Python 3 code with Pylint running on Python 2.7, for instance. This ends up being more obnoxious than you&#x27;d think at first, especially if you&#x27;re targeting multiple languages.<p>Before tree-sitter, using a language&#x27;s built-in AST tooling was often the best approach because it is guaranteed to keep up with the latest syntax. IMO the genius of tree-sitter is that it&#x27;s made it way easier than with traditional grammars to keep the language parsers updated. Highly recommend Max Brunsfield&#x27;s strange loop talk if you want to learn more about the design choices behind tree-sitter: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Jes3bD6P0To" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Jes3bD6P0To</a><p>And this has resulted in a bunch of new tools built off on tree-sitter, off the top of my head in addition to difftastic: neovim, Zed, Semgrep, and Github code search!</div><br/><div id="39788446" class="c"><input type="checkbox" id="c-39788446" checked=""/><div class="controls bullet"><span class="by">jrave</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39780995">parent</a><span>|</span><a href="#39788033">next</a><span>|</span><label class="collapse" for="c-39788446">[-]</label><label class="expand" for="c-39788446">[1 more]</label></div><br/><div class="children"><div class="content">helix (<a href="https:&#x2F;&#x2F;helix-editor.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;helix-editor.com&#x2F;</a>) is using treesitter and LSP as well</div><br/></div></div><div id="39788033" class="c"><input type="checkbox" id="c-39788033" checked=""/><div class="controls bullet"><span class="by">ossusermivami</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39780995">parent</a><span>|</span><a href="#39788446">prev</a><span>|</span><a href="#39781849">next</a><span>|</span><label class="collapse" for="c-39788033">[-]</label><label class="expand" for="c-39788033">[1 more]</label></div><br/><div class="children"><div class="content">don&#x27;t forget old man emacs is now using tree sitter</div><br/></div></div><div id="39781849" class="c"><input type="checkbox" id="c-39781849" checked=""/><div class="controls bullet"><span class="by">drcongo</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39780995">parent</a><span>|</span><a href="#39788033">prev</a><span>|</span><a href="#39780968">next</a><span>|</span><label class="collapse" for="c-39781849">[-]</label><label class="expand" for="c-39781849">[2 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t forget Zed! <a href="https:&#x2F;&#x2F;zed.dev" rel="nofollow">https:&#x2F;&#x2F;zed.dev</a></div><br/><div id="39783645" class="c"><input type="checkbox" id="c-39783645" checked=""/><div class="controls bullet"><span class="by">germandiago</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39781849">parent</a><span>|</span><a href="#39780968">next</a><span>|</span><label class="collapse" for="c-39783645">[-]</label><label class="expand" for="c-39783645">[1 more]</label></div><br/><div class="children"><div class="content">Looks great! It has lsp support for code completion? Supports C++?</div><br/></div></div></div></div></div></div><div id="39780968" class="c"><input type="checkbox" id="c-39780968" checked=""/><div class="controls bullet"><span class="by">bfrog</span><span>|</span><a href="#39779595">parent</a><span>|</span><a href="#39780995">prev</a><span>|</span><a href="#39782413">next</a><span>|</span><label class="collapse" for="c-39780968">[-]</label><label class="expand" for="c-39780968">[8 more]</label></div><br/><div class="children"><div class="content">While I agree tree-sitter is an amazing tool, writing the grammar out can be incredibly difficult I found. I tried writing out a grammar and highlighting query set for vhdl with tree-sitter, and found that there were a lot of difficulties in expressing vhdl grammar in tree-sitter.</div><br/><div id="39781014" class="c"><input type="checkbox" id="c-39781014" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39780968">parent</a><span>|</span><a href="#39782413">next</a><span>|</span><label class="collapse" for="c-39781014">[-]</label><label class="expand" for="c-39781014">[7 more]</label></div><br/><div class="children"><div class="content">No argument from me on that. The upside is that one person, somewhere, has to get it right one time and then we can all use it.</div><br/><div id="39781838" class="c"><input type="checkbox" id="c-39781838" checked=""/><div class="controls bullet"><span class="by">grub5000</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39781014">parent</a><span>|</span><a href="#39782413">next</a><span>|</span><label class="collapse" for="c-39781838">[-]</label><label class="expand" for="c-39781838">[6 more]</label></div><br/><div class="children"><div class="content">Seems like something LLMs should be useful for, if not now then soon enough</div><br/><div id="39782601" class="c"><input type="checkbox" id="c-39782601" checked=""/><div class="controls bullet"><span class="by">HumanOstrich</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39781838">parent</a><span>|</span><a href="#39782413">next</a><span>|</span><label class="collapse" for="c-39782601">[-]</label><label class="expand" for="c-39782601">[5 more]</label></div><br/><div class="children"><div class="content">I think many people are exhausted (at least I am) with the constant irrational exuberance of bolting AI onto every technology, product, and service in existence to end all of humanity&#x27;s problems. It won&#x27;t work like that.</div><br/><div id="39783725" class="c"><input type="checkbox" id="c-39783725" checked=""/><div class="controls bullet"><span class="by">germandiago</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39782601">parent</a><span>|</span><a href="#39782413">next</a><span>|</span><label class="collapse" for="c-39783725">[-]</label><label class="expand" for="c-39783725">[4 more]</label></div><br/><div class="children"><div class="content">In fact, reminds me of the time at which they used Blockchain for everything.<p>Just a bubble right now. It will come back to its natural uses after it. Everyone is doing AI now and I am pretty sure it is to attract investment even if some might know their product will go nowhere.</div><br/><div id="39785038" class="c"><input type="checkbox" id="c-39785038" checked=""/><div class="controls bullet"><span class="by">dreamcompiler</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39783725">parent</a><span>|</span><a href="#39782413">next</a><span>|</span><label class="collapse" for="c-39785038">[-]</label><label class="expand" for="c-39785038">[3 more]</label></div><br/><div class="children"><div class="content">Correction: Everybody <i>says</i> they&#x27;re doing AI now because that&#x27;s the magic buzzword for getting money.<p>I spent the 1990s building actual AI software, but we had to call it something else because if you even whispered &quot;AI&quot; in the 90s your funding would dry up instantly.</div><br/><div id="39787019" class="c"><input type="checkbox" id="c-39787019" checked=""/><div class="controls bullet"><span class="by">klabb3</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39785038">parent</a><span>|</span><a href="#39782413">next</a><span>|</span><label class="collapse" for="c-39787019">[-]</label><label class="expand" for="c-39787019">[2 more]</label></div><br/><div class="children"><div class="content">Someone should build a tool that augments any text with current year tech buzzwords for  optimal investor appeal. I wonder what tech could be used for thatâ¦ wait</div><br/><div id="39787921" class="c"><input type="checkbox" id="c-39787921" checked=""/><div class="controls bullet"><span class="by">pizza</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39787019">parent</a><span>|</span><a href="#39782413">next</a><span>|</span><label class="collapse" for="c-39787921">[-]</label><label class="expand" for="c-39787921">[1 more]</label></div><br/><div class="children"><div class="content">tree-sitter?</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="39782413" class="c"><input type="checkbox" id="c-39782413" checked=""/><div class="controls bullet"><span class="by">duped</span><span>|</span><a href="#39779595">parent</a><span>|</span><a href="#39780968">prev</a><span>|</span><a href="#39783672">next</a><span>|</span><label class="collapse" for="c-39782413">[-]</label><label class="expand" for="c-39782413">[4 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t believe this is correct - there&#x27;s no such thing as &quot;speaking tree-sitter.&quot; Every tree-sitter parser emits a different concrete syntax tree, not a standard abstract syntax tree.<p>LSP truly solves the M editors to N languages needing M * N  many integrations by using a standard interface for a query oriented compiler. Tree sitter doesn&#x27;t solve this problem, it just makes it way easier to write N many integrations for your editor&#x2F;tool.</div><br/><div id="39782683" class="c"><input type="checkbox" id="c-39782683" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39782413">parent</a><span>|</span><a href="#39783672">next</a><span>|</span><label class="collapse" for="c-39782683">[-]</label><label class="expand" for="c-39782683">[3 more]</label></div><br/><div class="children"><div class="content">That depends on how deep you want to go with the result. I use the Nova editor which uses tree-sitter for syntax highlighting, and I&#x27;ve packaged several languages for it. Each time it goes like this:<p>1. Clone someone&#x27;s tree-sitter grammar off GitHub.<p>2. Build it into a Mac .dylib.<p>3. Create a Nova extension that says &quot;use this .dylib to highlight that language.&quot;<p>4. Use it.<p>I don&#x27;t have to make any changes to Nova itself, and the amount of configuration I have to write is so tiny that Nova could have a DIY wizard if they wanted it to.<p>The source for Difftastic discussed here (at <a href="https:&#x2F;&#x2F;github.com&#x2F;Wilfred&#x2F;difftastic&#x2F;blob&#x2F;master&#x2F;src&#x2F;parse&#x2F;tree_sitter_parser.rs">https:&#x2F;&#x2F;github.com&#x2F;Wilfred&#x2F;difftastic&#x2F;blob&#x2F;master&#x2F;src&#x2F;parse&#x2F;...</a>) is also very simple: for each of a list of supported languages, import the tree-sitter parser and wrap a teensy amount of configuration around it.</div><br/><div id="39782797" class="c"><input type="checkbox" id="c-39782797" checked=""/><div class="controls bullet"><span class="by">duped</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39782683">parent</a><span>|</span><a href="#39783672">next</a><span>|</span><label class="collapse" for="c-39782797">[-]</label><label class="expand" for="c-39782797">[2 more]</label></div><br/><div class="children"><div class="content">&gt; 3. Create a Nova extension that says &quot;use this .dylib to highlight that language.&quot;<p>How is that possible if the different tokens emitted by tree sitter don&#x27;t have standardized names? Isn&#x27;t there some kind of configuration that maps the rules in the grammar to whatever convention Nova uses for their token names?<p>Now tree sitter does make this super easy, but my point was you still have to have some kind of per-language configuration&#x2F;logic to work, whereas the entire point of LSP is to have <i>none</i>.</div><br/><div id="39782986" class="c"><input type="checkbox" id="c-39782986" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39782797">parent</a><span>|</span><a href="#39783672">next</a><span>|</span><label class="collapse" for="c-39782986">[-]</label><label class="expand" for="c-39782986">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s done with the &quot;highlights.scm&quot; query (<a href="https:&#x2F;&#x2F;tree-sitter.github.io&#x2F;tree-sitter&#x2F;syntax-highlighting#highlights" rel="nofollow">https:&#x2F;&#x2F;tree-sitter.github.io&#x2F;tree-sitter&#x2F;syntax-highlightin...</a>) that maps nodes to their types with lots of standard names (<a href="https:&#x2F;&#x2F;github.com&#x2F;tree-sitter&#x2F;tree-sitter&#x2F;blob&#x2F;master&#x2F;highlight&#x2F;src&#x2F;lib.rs">https:&#x2F;&#x2F;github.com&#x2F;tree-sitter&#x2F;tree-sitter&#x2F;blob&#x2F;master&#x2F;highl...</a>).<p>The maintainer of the tree-sitter grammar is usually one who maintains that mapping. At least, every time I&#x27;ve wanted to use it, it&#x27;s been the case that all of that was already done and part of the grammar&#x27;s repo.</div><br/></div></div></div></div></div></div></div></div><div id="39783672" class="c"><input type="checkbox" id="c-39783672" checked=""/><div class="controls bullet"><span class="by">abdullahkhalids</span><span>|</span><a href="#39779595">parent</a><span>|</span><a href="#39782413">prev</a><span>|</span><a href="#39786693">next</a><span>|</span><label class="collapse" for="c-39783672">[-]</label><label class="expand" for="c-39783672">[13 more]</label></div><br/><div class="children"><div class="content">Can one write a tree-sitter grammar for English (or any other natural language), that basically labels each sentence as a statement, so I can use difftastic to show changes on sentences rather than visual lines?<p>This is because visual line diffs for an essay is bonkers. Usually the sentence changed starts in the middle of a visual line.</div><br/><div id="39785158" class="c"><input type="checkbox" id="c-39785158" checked=""/><div class="controls bullet"><span class="by">pxeger1</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39783672">parent</a><span>|</span><a href="#39783772">next</a><span>|</span><label class="collapse" for="c-39785158">[-]</label><label class="expand" for="c-39785158">[7 more]</label></div><br/><div class="children"><div class="content">The common advice[0] is to just write one sentence per line. I usually split at commas etc as well. Then use editor soft wrapping instead of fixing a maximum line length - but if your lines get longer than the screen width that might be a sign your sentences are too complex.<p>[0]: anyone have a good source for this? Iâm not sure where I first encountered it</div><br/><div id="39787541" class="c"><input type="checkbox" id="c-39787541" checked=""/><div class="controls bullet"><span class="by">rokkitmensch</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39785158">parent</a><span>|</span><a href="#39787515">next</a><span>|</span><label class="collapse" for="c-39787541">[-]</label><label class="expand" for="c-39787541">[1 more]</label></div><br/><div class="children"><div class="content">I will write excessively complex sentences whenever I darn please, and will be hogtied before I stop at the whims of a &#x2F;diff tool&#x2F;.<p>Mock outrage aside, whimsy and play in written language is vastly cheaper than in industrial programming environments. Provided, of course, the author can yet communicate while horsing around.</div><br/></div></div><div id="39787515" class="c"><input type="checkbox" id="c-39787515" checked=""/><div class="controls bullet"><span class="by">sovietswag</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39785158">parent</a><span>|</span><a href="#39787541">prev</a><span>|</span><a href="#39786809">next</a><span>|</span><label class="collapse" for="c-39787515">[-]</label><label class="expand" for="c-39787515">[1 more]</label></div><br/><div class="children"><div class="content">It turns out that there is a lot of discourse out there about &quot;semantic
newlines&quot;, under a few different names. So far the names I&#x27;ve seen are:<p>- One Sentence Per Line (OSPL)
- Semantic Line Breaks (SemBr)
- Semantic Linefeeds
- Ventilated Prose
- Semantic newlines<p>Reading through the pages below was helpful in getting a better idea of
what language people use to discuss this. They&#x27;re mostly historical
retrospectives or arguments for the merit of semantic newlines.<p><a href="https:&#x2F;&#x2F;rhodesmill.org&#x2F;brandon&#x2F;2012&#x2F;one-sentence-per-line" rel="nofollow">https:&#x2F;&#x2F;rhodesmill.org&#x2F;brandon&#x2F;2012&#x2F;one-sentence-per-line</a>
<a href="https:&#x2F;&#x2F;ramshankar.org&#x2F;blog&#x2F;posts&#x2F;2019&#x2F;semantic-line-breaks" rel="nofollow">https:&#x2F;&#x2F;ramshankar.org&#x2F;blog&#x2F;posts&#x2F;2019&#x2F;semantic-line-breaks</a>
<a href="https:&#x2F;&#x2F;vanemden.wordpress.com&#x2F;2009&#x2F;01&#x2F;01&#x2F;ventilated-prose" rel="nofollow">https:&#x2F;&#x2F;vanemden.wordpress.com&#x2F;2009&#x2F;01&#x2F;01&#x2F;ventilated-prose</a>
<a href="https:&#x2F;&#x2F;discuss.python.org&#x2F;t&#x2F;semantic-line-breaks&#x2F;13874" rel="nofollow">https:&#x2F;&#x2F;discuss.python.org&#x2F;t&#x2F;semantic-line-breaks&#x2F;13874</a>
<a href="https:&#x2F;&#x2F;discuss.python.org&#x2F;t&#x2F;one-sentence-per-line-for-peps-and-more&#x2F;13920" rel="nofollow">https:&#x2F;&#x2F;discuss.python.org&#x2F;t&#x2F;one-sentence-per-line-for-peps-...</a>
<a href="https:&#x2F;&#x2F;sembr.org" rel="nofollow">https:&#x2F;&#x2F;sembr.org</a>
<a href="https:&#x2F;&#x2F;asciidoctor.org&#x2F;docs&#x2F;asciidoc-recommended-practices&#x2F;#one-sentence-per-line" rel="nofollow">https:&#x2F;&#x2F;asciidoctor.org&#x2F;docs&#x2F;asciidoc-recommended-practices&#x2F;...</a><p>(Actually I think one-sentence-per-line denotes something slightly different
from semantic-line-breaks, not that I know what that difference is).</div><br/></div></div><div id="39786809" class="c"><input type="checkbox" id="c-39786809" checked=""/><div class="controls bullet"><span class="by">bpeebles</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39785158">parent</a><span>|</span><a href="#39787515">prev</a><span>|</span><a href="#39786902">next</a><span>|</span><label class="collapse" for="c-39786809">[-]</label><label class="expand" for="c-39786809">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;rhodesmill.org&#x2F;brandon&#x2F;2012&#x2F;one-sentence-per-line&#x2F;" rel="nofollow">https:&#x2F;&#x2F;rhodesmill.org&#x2F;brandon&#x2F;2012&#x2F;one-sentence-per-line&#x2F;</a> is one possibility. And discusses a Kernighan Unix memo from 1974 advocating for the practice. &quot;UNIX for Beginners&quot; <a href="https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20130108163017if_&#x2F;http:&#x2F;&#x2F;miffy.tom-yam.or.jp:80&#x2F;2238&#x2F;ref&#x2F;beg.pdf" rel="nofollow">https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20130108163017if_&#x2F;http:&#x2F;&#x2F;miffy.t...</a> (PDF)</div><br/></div></div><div id="39786902" class="c"><input type="checkbox" id="c-39786902" checked=""/><div class="controls bullet"><span class="by">abdullahkhalids</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39785158">parent</a><span>|</span><a href="#39786809">prev</a><span>|</span><a href="#39786400">next</a><span>|</span><label class="collapse" for="c-39786902">[-]</label><label class="expand" for="c-39786902">[2 more]</label></div><br/><div class="children"><div class="content">I am not a slave of the machine. The machine is my tool. The machine will conform to what I want. Not the other way around.<p>There is no philosophy more important in this age.</div><br/><div id="39787141" class="c"><input type="checkbox" id="c-39787141" checked=""/><div class="controls bullet"><span class="by">antonvs</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39786902">parent</a><span>|</span><a href="#39786400">next</a><span>|</span><label class="collapse" for="c-39787141">[-]</label><label class="expand" for="c-39787141">[1 more]</label></div><br/><div class="children"><div class="content">In my work I encounter quite a few people beating their heads against walls trying to make the machine &quot;conform to what they want&quot;.<p>You can often achieve your goals much more quickly by using tools they way they best support being used.</div><br/></div></div></div></div><div id="39786400" class="c"><input type="checkbox" id="c-39786400" checked=""/><div class="controls bullet"><span class="by">meatmanek</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39785158">parent</a><span>|</span><a href="#39786902">prev</a><span>|</span><a href="#39783772">next</a><span>|</span><label class="collapse" for="c-39786400">[-]</label><label class="expand" for="c-39786400">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=31808093">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=31808093</a></div><br/></div></div></div></div><div id="39783772" class="c"><input type="checkbox" id="c-39783772" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39783672">parent</a><span>|</span><a href="#39785158">prev</a><span>|</span><a href="#39786693">next</a><span>|</span><label class="collapse" for="c-39783772">[-]</label><label class="expand" for="c-39783772">[5 more]</label></div><br/><div class="children"><div class="content">word diff gets you halfway without that complexity</div><br/><div id="39783845" class="c"><input type="checkbox" id="c-39783845" checked=""/><div class="controls bullet"><span class="by">abdullahkhalids</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39783772">parent</a><span>|</span><a href="#39786693">next</a><span>|</span><label class="collapse" for="c-39783845">[-]</label><label class="expand" for="c-39783845">[4 more]</label></div><br/><div class="children"><div class="content">Do you mean the diff system inbuilt into Microsoft Word or Google docs etc?</div><br/><div id="39784340" class="c"><input type="checkbox" id="c-39784340" checked=""/><div class="controls bullet"><span class="by">senknvd</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39783845">parent</a><span>|</span><a href="#39786693">next</a><span>|</span><label class="collapse" for="c-39784340">[-]</label><label class="expand" for="c-39784340">[3 more]</label></div><br/><div class="children"><div class="content">There is a --word-diff flag in git diff. It can also be customized using --word-diff-regex to possibly match sentences.</div><br/><div id="39784422" class="c"><input type="checkbox" id="c-39784422" checked=""/><div class="controls bullet"><span class="by">abdullahkhalids</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39784340">parent</a><span>|</span><a href="#39786693">next</a><span>|</span><label class="collapse" for="c-39784422">[-]</label><label class="expand" for="c-39784422">[2 more]</label></div><br/><div class="children"><div class="content">I see. From the docs [1]<p><pre><code>    --word-diff-regex=&lt;regex&gt; 

      ... A match that contains a newline is silently truncated(!) at the newline.
</code></pre>
If I understand this correctly, if you use newlines inside a sentence (if you are writing a fixed width document, for example), this won&#x27;t work.<p>[1] <a href="https:&#x2F;&#x2F;git-scm.com&#x2F;docs&#x2F;git-diff" rel="nofollow">https:&#x2F;&#x2F;git-scm.com&#x2F;docs&#x2F;git-diff</a></div><br/><div id="39784810" class="c"><input type="checkbox" id="c-39784810" checked=""/><div class="controls bullet"><span class="by">mzs</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39784422">parent</a><span>|</span><a href="#39786693">next</a><span>|</span><label class="collapse" for="c-39784810">[-]</label><label class="expand" for="c-39784810">[1 more]</label></div><br/><div class="children"><div class="content">pipe through &quot;fmt -sw999999999999&quot; first</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="39786693" class="c"><input type="checkbox" id="c-39786693" checked=""/><div class="controls bullet"><span class="by">danielvaughn</span><span>|</span><a href="#39779595">parent</a><span>|</span><a href="#39783672">prev</a><span>|</span><a href="#39782495">next</a><span>|</span><label class="collapse" for="c-39786693">[-]</label><label class="expand" for="c-39786693">[1 more]</label></div><br/><div class="children"><div class="content">As soon as you said tree sitter I immediately understood. Yes, I canât believe I never realized that you could totally build a syntax-aware VCS on top of it. Thatâs brilliant.<p>I just wrote a language parser a few months ago in tree sitter and itâs probably the most delightful software Iâve used apart from ffmpeg.</div><br/></div></div><div id="39782495" class="c"><input type="checkbox" id="c-39782495" checked=""/><div class="controls bullet"><span class="by">emporas</span><span>|</span><a href="#39779595">parent</a><span>|</span><a href="#39786693">prev</a><span>|</span><a href="#39786770">next</a><span>|</span><label class="collapse" for="c-39782495">[-]</label><label class="expand" for="c-39782495">[1 more]</label></div><br/><div class="children"><div class="content">Was reading about emacs and tree-sitter today [1]. Tree-sitter is a force to be reckoned with.<p>[1] <a href="https:&#x2F;&#x2F;www.masteringemacs.org&#x2F;article&#x2F;how-to-get-started-tree-sitter" rel="nofollow">https:&#x2F;&#x2F;www.masteringemacs.org&#x2F;article&#x2F;how-to-get-started-tr...</a></div><br/></div></div><div id="39786770" class="c"><input type="checkbox" id="c-39786770" checked=""/><div class="controls bullet"><span class="by">fiddlerwoaroof</span><span>|</span><a href="#39779595">parent</a><span>|</span><a href="#39782495">prev</a><span>|</span><a href="#39783471">next</a><span>|</span><label class="collapse" for="c-39786770">[-]</label><label class="expand" for="c-39786770">[1 more]</label></div><br/><div class="children"><div class="content">The main issue I have with tree-sitter is that itâs approach canât work for many languages I care about: Common Lisp cannot be parsed without a full lisp implementation; Haskellâs syntax is complicated enough that the grammar is incomplete; C&#x2F;C++ canât be parsed accurately if only because of the pre-processor; parsing perl is Turing-complete, etc. I think the suggestion elsewhere makes sense: donât make us write parsers in a new ecosystem, but instead define a format for existing parsers to produce as a side-output.</div><br/></div></div><div id="39783471" class="c"><input type="checkbox" id="c-39783471" checked=""/><div class="controls bullet"><span class="by">chubot</span><span>|</span><a href="#39779595">parent</a><span>|</span><a href="#39786770">prev</a><span>|</span><a href="#39784499">next</a><span>|</span><label class="collapse" for="c-39783471">[-]</label><label class="expand" for="c-39783471">[4 more]</label></div><br/><div class="children"><div class="content">BTW there is interesting feedback from 4 people on a  Treesitter post yesterday:<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39762495">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39762495</a><p>(1) The top comment is from the author of difftastic (the subject here), saying that treesitter Nim plugin can&#x27;t be merged, because it&#x27;s 60 MB of generated C source code.  There&#x27;s a scalability problem supporting multiple languages.<p>The author of Treesitter proposes using the WASM runtime, which is new.<p>(2) The original blog post  concludes with some Treesitter issues, prefering Syntect (a Rust library that accepts Textmate grammars)<p><i>Because of these issues Iâll evaluate what highlighter to use on a case-by-case basis, with Syntect as the default choice.</i><p><a href="https:&#x2F;&#x2F;www.jonashietala.se&#x2F;blog&#x2F;2024&#x2F;03&#x2F;19&#x2F;lets_create_a_tree-sitter_grammar&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.jonashietala.se&#x2F;blog&#x2F;2024&#x2F;03&#x2F;19&#x2F;lets_create_a_tr...</a><p>Other feedback:<p>(3) <i>The idea of a uniform api for querying syntax trees is a good one and tree-sitter deserves credit for popularizing it. It&#x27;s unfortunately not a great implementation of the idea</i><p>(4) <i>[It]  segfaults constantly ... More than any NPM module I&#x27;ve ever used before. Any syntax that doesn&#x27;t precisely match the grammar is liable to take down your entire thread.</i><p>---<p>I think some of the feedback was rude and harsh, and maybe even using Treesitter outside its intended use cases.  But as someone who&#x27;s been interested in Treesitter, but hasn&#x27;t really used it, it seems real.<p>One problem I see is that Treesitter is meant to be incremental, so it can be used in an editor&#x2F;IDE.  And that&#x27;s a significantly harder problem than batch syntax highlighting, parsing, semantic understanding.<p>---<p>That is, difftastic is a batch tool, i.e. you run it with git diff.<p>So to me the obvious thing for difftastic is to throw out the GLR algorithm, and throw out the heinous external lexers written in C that are constrained by it, and just use normal batch parsers written in whatever language, with whatever algorithm.  Recursive descent.<p>These parsers can output a CST in the TreeSitter format, which looks pretty simple.<p>They don&#x27;t even need to be linked into the difftastic binary -- you could emit an CST &#x2F; S-expression format and match it with the text.<p>Unix style!  Parsers can live in different binaries and still be composed.<p>The blog post use case can also just use batch parsers that output a CST.  You don&#x27;t Treesitter&#x27;s incremental features to render HTML for your blog.</div><br/><div id="39786011" class="c"><input type="checkbox" id="c-39786011" checked=""/><div class="controls bullet"><span class="by">diffxx</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39783471">parent</a><span>|</span><a href="#39784499">next</a><span>|</span><label class="collapse" for="c-39786011">[-]</label><label class="expand" for="c-39786011">[3 more]</label></div><br/><div class="children"><div class="content">As one of the harsh and rude commentators, I would say I basically agree with your interpretation. You also correctly inferred that I have experience with working with it in an area that is arguably outside of its true use case.<p>At the same time, I believe that there needs to be a corrective about what tree-sitter should and should not be used for. There are companies building security products on top of tree-sitter which I think is an objectively bad idea given its problems and limitations. Difftastic is to me a grey area because it could lead hypothetically to a security issue if it generates an incorrect diff due to an incorrect tree-sitter grammar. Unlikely but not impossible.<p>Your point about batch vs incremental is spot on, though even for IDEs, I think incremental is usually overkill (I have written a recursive descent parser for a language in c that can do 3million lines per second on a decent laptop which is about 60k lines per 20 ms, which is the window I look to for reactivity). How many non-generated source files exceed say 100k lines? Incremental parsing feels like taking on a lot of complexity for rather limited benefit except in fairly niche use cases (granting that one person&#x27;s niche is another&#x27;s common case).<p>That being said, it is impressive that their incremental algorithm works as well as it does but the cost is that grammar writers are forced to mold a language grammar that might not fit into the GLR algorithm. When it doesn&#x27;t work as expected, which is not uncommon in my experience, the error messages are inscrutable and debugging either the generator or the generated code is nigh impossible.<p>Most of the happy users have no idea how the sausage is made, they just see the prettier syntax highlighting that works with multiple tools. I get that my criticism is as welcome as a wet blanket, but I just think there is something much better possible which your comment hints at.</div><br/><div id="39786196" class="c"><input type="checkbox" id="c-39786196" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39786011">parent</a><span>|</span><a href="#39787988">next</a><span>|</span><label class="collapse" for="c-39786196">[-]</label><label class="expand" for="c-39786196">[1 more]</label></div><br/><div class="children"><div class="content">FWIW, as a happy user, I&#x27;m mainly happy that it exists at all. In the short term, it reduces the work supporting M editors and N languages from to M+N. That&#x27;s nice. More importantly, it puts a bug in everyone&#x27;s ear that this is a good and achievable thing. Maybe the next step will be a tree-sitter-API-compatible replacement that fixes some of those problems and we can all migrate onto that.<p>That is, the big win is getting people to buy into the concept of syntax (and analysis) as a library and not as a feature of one specific editor. Once we&#x27;re all spoiled by that, perhaps a better implementation or an nice API will come along and astound us all.</div><br/></div></div><div id="39787988" class="c"><input type="checkbox" id="c-39787988" checked=""/><div class="controls bullet"><span class="by">porker</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39786011">parent</a><span>|</span><a href="#39786196">prev</a><span>|</span><a href="#39784499">next</a><span>|</span><label class="collapse" for="c-39787988">[-]</label><label class="expand" for="c-39787988">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Your point about batch vs incremental is spot on, though even for IDEs, I think incremental is usually overkill<p>I&#x27;d understood that incremental was used so that as someone writes code the IDE can syntax highlight the incomplete and syntactically incorrect code with better accuracy. Is that not the case?</div><br/></div></div></div></div></div></div><div id="39784499" class="c"><input type="checkbox" id="c-39784499" checked=""/><div class="controls bullet"><span class="by">joshspankit</span><span>|</span><a href="#39779595">parent</a><span>|</span><a href="#39783471">prev</a><span>|</span><a href="#39781128">next</a><span>|</span><label class="collapse" for="c-39784499">[-]</label><label class="expand" for="c-39784499">[2 more]</label></div><br/><div class="children"><div class="content">How close are we to being able to copy a function in to the clipboard, then highlight some lines of code and paste the function around it (like highlight &gt; quote marks)?</div><br/><div id="39785979" class="c"><input type="checkbox" id="c-39785979" checked=""/><div class="controls bullet"><span class="by">OJFord</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39784499">parent</a><span>|</span><a href="#39781128">next</a><span>|</span><label class="collapse" for="c-39785979">[-]</label><label class="expand" for="c-39785979">[1 more]</label></div><br/><div class="children"><div class="content">What does it mean to paste a function around some lines of code? As in what&#x27;re the manual steps you do because that&#x27;s not possible today?</div><br/></div></div></div></div><div id="39781128" class="c"><input type="checkbox" id="c-39781128" checked=""/><div class="controls bullet"><span class="by">epistasis</span><span>|</span><a href="#39779595">parent</a><span>|</span><a href="#39784499">prev</a><span>|</span><a href="#39787650">next</a><span>|</span><label class="collapse" for="c-39781128">[-]</label><label class="expand" for="c-39781128">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m imagining what I could have done in my compilers class with something like tree-sitter...<p>It feels kind of as foundational as YACC.</div><br/><div id="39781197" class="c"><input type="checkbox" id="c-39781197" checked=""/><div class="controls bullet"><span class="by">ivanjermakov</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39781128">parent</a><span>|</span><a href="#39787650">next</a><span>|</span><label class="collapse" for="c-39781197">[-]</label><label class="expand" for="c-39781197">[1 more]</label></div><br/><div class="children"><div class="content">It is literally an alternative to YACC and other parser generators.</div><br/></div></div></div></div><div id="39787650" class="c"><input type="checkbox" id="c-39787650" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#39779595">parent</a><span>|</span><a href="#39781128">prev</a><span>|</span><a href="#39778795">next</a><span>|</span><label class="collapse" for="c-39787650">[-]</label><label class="expand" for="c-39787650">[3 more]</label></div><br/><div class="children"><div class="content">This question is coming from a place of total ignorance:<p>One appeal of the general idea of a structural diff tool, for me, is ignoring the ordering of things for which ordering makes no difference.<p><pre><code>    x = 4
    y = 7
</code></pre>
are independent statements and the code will be no different if I replace those two statements with<p><pre><code>    y = 7
    x = 4
</code></pre>
However, this information is not actually present in the abstract syntax tree. If I instead consider these two statements:<p><pre><code>    x += 3
    x *= 7
</code></pre>
it is apparent that reordering them will cause changes to the meaning of the code. But as far as the AST goes, this is the same thing as the example where reordering was fine.<p>What kinds of things are we doing with our new AST tooling?</div><br/><div id="39787944" class="c"><input type="checkbox" id="c-39787944" checked=""/><div class="controls bullet"><span class="by">etbebl</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39787650">parent</a><span>|</span><a href="#39778795">next</a><span>|</span><label class="collapse" for="c-39787944">[-]</label><label class="expand" for="c-39787944">[2 more]</label></div><br/><div class="children"><div class="content">&gt;    x = 4
&gt;    y = 7
&gt;
&gt;are independent statements and the code will be no different if I replace those two statements with
&gt;
&gt;    y = 7
&gt;    x = 4<p>Not always, e.g. in a multi threaded situation where x and y are shared atomics. Then unless we authorize C++ to take more liberties in reordering, another thread will never see y as 7 while x is not yet 4 in the first example, but not the second. This kind of subtlety can&#x27;t be determined from syntax alone.</div><br/><div id="39787963" class="c"><input type="checkbox" id="c-39787963" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#39779595">root</a><span>|</span><a href="#39787944">parent</a><span>|</span><a href="#39778795">next</a><span>|</span><label class="collapse" for="c-39787963">[-]</label><label class="expand" for="c-39787963">[1 more]</label></div><br/><div class="children"><div class="content">OK, I tended to agree that the AST was inadequate for this task. But what are we doing with it? That&#x27;s most of what I want from &quot;structural code diff&quot;.</div><br/></div></div></div></div></div></div></div></div><div id="39778795" class="c"><input type="checkbox" id="c-39778795" checked=""/><div class="controls bullet"><span class="by">bloopernova</span><span>|</span><a href="#39779595">prev</a><span>|</span><a href="#39778838">next</a><span>|</span><label class="collapse" for="c-39778795">[-]</label><label class="expand" for="c-39778795">[15 more]</label></div><br/><div class="children"><div class="content">Related, updating difftastic and friends if you installed via cargo:<p><pre><code>  cargo install cargo-update
  cargo install-update --list
  cargo install-update --all
</code></pre>
Other fun Rust projects available via cargo:<p><a href="https:&#x2F;&#x2F;mise.jdx.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mise.jdx.dev&#x2F;</a> mise-en-place, a drop-in replacement for asdf <a href="https:&#x2F;&#x2F;asdf-vm.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;asdf-vm.com&#x2F;</a> that is really fast and flexible.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;ajeetdsouza&#x2F;zoxide">https:&#x2F;&#x2F;github.com&#x2F;ajeetdsouza&#x2F;zoxide</a> is a fantastic cd replacement, which stores where you cd to, and you can then do a partial match like &quot;z hel&quot; might take you to &quot;~&#x2F;projects&#x2F;helloworld&quot;.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;bootandy&#x2F;dust">https:&#x2F;&#x2F;github.com&#x2F;bootandy&#x2F;dust</a> is a compliment to &quot;du&quot;, shows which directories are using the most disk space.</div><br/><div id="39782379" class="c"><input type="checkbox" id="c-39782379" checked=""/><div class="controls bullet"><span class="by">arlort</span><span>|</span><a href="#39778795">parent</a><span>|</span><a href="#39779166">next</a><span>|</span><label class="collapse" for="c-39782379">[-]</label><label class="expand" for="c-39782379">[1 more]</label></div><br/><div class="children"><div class="content">Another three very neat ones are<p>- <a href="https:&#x2F;&#x2F;github.com&#x2F;eza-community&#x2F;eza">https:&#x2F;&#x2F;github.com&#x2F;eza-community&#x2F;eza</a> (ls with some added visual sugar)<p>- <a href="https:&#x2F;&#x2F;github.com&#x2F;ClementTsang&#x2F;bottom">https:&#x2F;&#x2F;github.com&#x2F;ClementTsang&#x2F;bottom</a> (htop but with graphs)<p>- <a href="https:&#x2F;&#x2F;github.com&#x2F;sharkdp&#x2F;bat">https:&#x2F;&#x2F;github.com&#x2F;sharkdp&#x2F;bat</a> (cat with syntax highlight)</div><br/></div></div><div id="39779166" class="c"><input type="checkbox" id="c-39779166" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#39778795">parent</a><span>|</span><a href="#39782379">prev</a><span>|</span><a href="#39786509">next</a><span>|</span><label class="collapse" for="c-39779166">[-]</label><label class="expand" for="c-39779166">[2 more]</label></div><br/><div class="children"><div class="content">I love zoxide! Also for your list: lsd, a prettier ls.</div><br/><div id="39779850" class="c"><input type="checkbox" id="c-39779850" checked=""/><div class="controls bullet"><span class="by">bloopernova</span><span>|</span><a href="#39778795">root</a><span>|</span><a href="#39779166">parent</a><span>|</span><a href="#39786509">next</a><span>|</span><label class="collapse" for="c-39779850">[-]</label><label class="expand" for="c-39779850">[1 more]</label></div><br/><div class="children"><div class="content">so... many... colours!<p>Looks great, thank you for the recommendation.</div><br/></div></div></div></div><div id="39786509" class="c"><input type="checkbox" id="c-39786509" checked=""/><div class="controls bullet"><span class="by">letmeinhere</span><span>|</span><a href="#39778795">parent</a><span>|</span><a href="#39779166">prev</a><span>|</span><a href="#39782953">next</a><span>|</span><label class="collapse" for="c-39786509">[-]</label><label class="expand" for="c-39786509">[1 more]</label></div><br/><div class="children"><div class="content">My favorite of the new `du`s is dua-cli, an ncdu clone (an interactive TUI). I went hunting because the latter didn&#x27;t have a light-mode.</div><br/></div></div><div id="39782953" class="c"><input type="checkbox" id="c-39782953" checked=""/><div class="controls bullet"><span class="by">satvikpendem</span><span>|</span><a href="#39778795">parent</a><span>|</span><a href="#39786509">prev</a><span>|</span><a href="#39785325">next</a><span>|</span><label class="collapse" for="c-39782953">[-]</label><label class="expand" for="c-39782953">[1 more]</label></div><br/><div class="children"><div class="content">Also, cargo-binstall (cargo binary install) which allows you to not have to compile every single time you cargo install and instead allows you to just install the binaries for a specific program. It also integrates with cargo install-update.</div><br/></div></div><div id="39785325" class="c"><input type="checkbox" id="c-39785325" checked=""/><div class="controls bullet"><span class="by">tomatao</span><span>|</span><a href="#39778795">parent</a><span>|</span><a href="#39782953">prev</a><span>|</span><a href="#39780829">next</a><span>|</span><label class="collapse" for="c-39785325">[-]</label><label class="expand" for="c-39785325">[1 more]</label></div><br/><div class="children"><div class="content">How do these compare to <a href="https:&#x2F;&#x2F;github.com&#x2F;moonrepo&#x2F;proto">https:&#x2F;&#x2F;github.com&#x2F;moonrepo&#x2F;proto</a> ?</div><br/></div></div><div id="39780829" class="c"><input type="checkbox" id="c-39780829" checked=""/><div class="controls bullet"><span class="by">qmmmur</span><span>|</span><a href="#39778795">parent</a><span>|</span><a href="#39785325">prev</a><span>|</span><a href="#39779191">next</a><span>|</span><label class="collapse" for="c-39780829">[-]</label><label class="expand" for="c-39780829">[5 more]</label></div><br/><div class="children"><div class="content">Wow, I installed mise-en-place. It&#x27;s exactly what I wanted asdf to be.</div><br/><div id="39782057" class="c"><input type="checkbox" id="c-39782057" checked=""/><div class="controls bullet"><span class="by">bloopernova</span><span>|</span><a href="#39778795">root</a><span>|</span><a href="#39780829">parent</a><span>|</span><a href="#39779191">next</a><span>|</span><label class="collapse" for="c-39782057">[-]</label><label class="expand" for="c-39782057">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s so much faster than asdf, the dev did a really great job.</div><br/><div id="39783831" class="c"><input type="checkbox" id="c-39783831" checked=""/><div class="controls bullet"><span class="by">drewbitt</span><span>|</span><a href="#39778795">root</a><span>|</span><a href="#39782057">parent</a><span>|</span><a href="#39779191">next</a><span>|</span><label class="collapse" for="c-39783831">[-]</label><label class="expand" for="c-39783831">[3 more]</label></div><br/><div class="children"><div class="content">The rename to mise broke my workflow for a bit and the library is changing fast &amp; adding new features frequently. That&#x27;s good, but I hope it can stabilize a bit, so things don&#x27;t get deprecated again. Still love it.</div><br/><div id="39784566" class="c"><input type="checkbox" id="c-39784566" checked=""/><div class="controls bullet"><span class="by">bloopernova</span><span>|</span><a href="#39778795">root</a><span>|</span><a href="#39783831">parent</a><span>|</span><a href="#39779191">next</a><span>|</span><label class="collapse" for="c-39784566">[-]</label><label class="expand" for="c-39784566">[2 more]</label></div><br/><div class="children"><div class="content">Yeah, the name &quot;rtx&quot; was not easy to search for. Mise is a much nicer name too.<p>I am currently using it with direnv, but there&#x27;s enough functionality in mise to replace that too. I keep meaning to spend some time making mise work without direnv, but it&#x27;s not been urgent since everything pretty much just works now.<p>I like the active development since the dev really seems to care about doing a great job, and I&#x27;ve been lucky enough so far that my (simple) workflows haven&#x27;t been impacted.</div><br/><div id="39787866" class="c"><input type="checkbox" id="c-39787866" checked=""/><div class="controls bullet"><span class="by">prh8</span><span>|</span><a href="#39778795">root</a><span>|</span><a href="#39784566">parent</a><span>|</span><a href="#39779191">next</a><span>|</span><label class="collapse" for="c-39787866">[-]</label><label class="expand" for="c-39787866">[1 more]</label></div><br/><div class="children"><div class="content">Do you know if thereâs a way to do per directory aliases with Mise? Every time I see a tool for directory environment, thatâs the one feature in really hoping for</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39779191" class="c"><input type="checkbox" id="c-39779191" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#39778795">parent</a><span>|</span><a href="#39780829">prev</a><span>|</span><a href="#39778838">next</a><span>|</span><label class="collapse" for="c-39779191">[-]</label><label class="expand" for="c-39779191">[3 more]</label></div><br/><div class="children"><div class="content">ncdu is the best du replacement by far.</div><br/><div id="39780924" class="c"><input type="checkbox" id="c-39780924" checked=""/><div class="controls bullet"><span class="by">polygamous_bat</span><span>|</span><a href="#39778795">root</a><span>|</span><a href="#39779191">parent</a><span>|</span><a href="#39778838">next</a><span>|</span><label class="collapse" for="c-39780924">[-]</label><label class="expand" for="c-39780924">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always used dust as a replacement, and so I am curious to know if you have tried both tools: do you have thoughts on what makes ncdu better?</div><br/><div id="39781393" class="c"><input type="checkbox" id="c-39781393" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#39778795">root</a><span>|</span><a href="#39780924">parent</a><span>|</span><a href="#39778838">next</a><span>|</span><label class="collapse" for="c-39781393">[-]</label><label class="expand" for="c-39781393">[1 more]</label></div><br/><div class="children"><div class="content">Dust is probably the best you can get without interactivity, so it&#x27;s good for logs.<p>But ncdu is a fully interactive file browser that lets you navigate through the tree, and crucially it lets you delete things without requiring a full rescan. It&#x27;s amazing for freeing up disk space by deleting things you don&#x27;t need anymore, which is probably 95% of the reasons I run `du`.</div><br/></div></div></div></div></div></div></div></div><div id="39778838" class="c"><input type="checkbox" id="c-39778838" checked=""/><div class="controls bullet"><span class="by">mlavrent</span><span>|</span><a href="#39778795">prev</a><span>|</span><a href="#39778882">next</a><span>|</span><label class="collapse" for="c-39778838">[-]</label><label class="expand" for="c-39778838">[21 more]</label></div><br/><div class="children"><div class="content">Iâm almost not sure why tools like git donât ship with this as default. Been using difft for about a year now, and my main complaint is that it makes it hard to go back and use other diff tools when I donât have difft available :).<p>I am curious if thereâs been any work on _semantic_ diff tools as well (for when eg the syntax changes but the meaning is the same). It seems like an intractable problem in the general but maybe itâs doable and&#x2F;or useful for smaller DSLs or subsets of some languages?</div><br/><div id="39779479" class="c"><input type="checkbox" id="c-39779479" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#39778838">parent</a><span>|</span><a href="#39783065">next</a><span>|</span><label class="collapse" for="c-39779479">[-]</label><label class="expand" for="c-39779479">[1 more]</label></div><br/><div class="children"><div class="content">I think shipping good ol&#x27; diff as the default makes sense. It&#x27;s going to be there already on any system you might want to run git on, it&#x27;s fast, it&#x27;s tiny, and everyone knows the basics of how to use it.<p>But I&#x27;m glad it&#x27;s easy to change that default.</div><br/></div></div><div id="39783065" class="c"><input type="checkbox" id="c-39783065" checked=""/><div class="controls bullet"><span class="by">DarkPlayer</span><span>|</span><a href="#39778838">parent</a><span>|</span><a href="#39779479">prev</a><span>|</span><a href="#39779267">next</a><span>|</span><label class="collapse" for="c-39783065">[-]</label><label class="expand" for="c-39783065">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I am curious if there&#x27;s been any work on _semantic_ diff tools as well (for when eg the syntax changes but the meaning is the same)<p>We are working on <a href="https:&#x2F;&#x2F;semanticdiff.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;semanticdiff.com&#x2F;</a> which detects basic semantic changes like converting a literal from decimal to hex or reordering keys within JSON objects. It is not a command line utility but a VS Code extension and GitHub App. You can check out <a href="https:&#x2F;&#x2F;semanticdiff.com&#x2F;blog&#x2F;semanticdiff-vs-difftastic&#x2F;" rel="nofollow">https:&#x2F;&#x2F;semanticdiff.com&#x2F;blog&#x2F;semanticdiff-vs-difftastic&#x2F;</a> if you want to learn more about how it works and how it differs from difftastic.</div><br/><div id="39785134" class="c"><input type="checkbox" id="c-39785134" checked=""/><div class="controls bullet"><span class="by">Izikiel43</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39783065">parent</a><span>|</span><a href="#39779267">next</a><span>|</span><label class="collapse" for="c-39785134">[-]</label><label class="expand" for="c-39785134">[1 more]</label></div><br/><div class="children"><div class="content">Thank you, you just simplified my life greatly, will use it for a demo tomorrow.</div><br/></div></div></div></div><div id="39779267" class="c"><input type="checkbox" id="c-39779267" checked=""/><div class="controls bullet"><span class="by">otherjason</span><span>|</span><a href="#39778838">parent</a><span>|</span><a href="#39783065">prev</a><span>|</span><a href="#39779036">next</a><span>|</span><label class="collapse" for="c-39779267">[-]</label><label class="expand" for="c-39779267">[3 more]</label></div><br/><div class="children"><div class="content">Difftastic is a useful tool, but in my experience, it&#x27;s far too slow to be suitable as the default selection for a ubiquitous tool like git.</div><br/><div id="39782148" class="c"><input type="checkbox" id="c-39782148" checked=""/><div class="controls bullet"><span class="by">drcongo</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39779267">parent</a><span>|</span><a href="#39779036">next</a><span>|</span><label class="collapse" for="c-39782148">[-]</label><label class="expand" for="c-39782148">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m finding it instantaneous here on a large dirty codebase. In what way is it slow for you?</div><br/><div id="39783701" class="c"><input type="checkbox" id="c-39783701" checked=""/><div class="controls bullet"><span class="by">acdha</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39782148">parent</a><span>|</span><a href="#39779036">next</a><span>|</span><label class="collapse" for="c-39783701">[-]</label><label class="expand" for="c-39783701">[1 more]</label></div><br/><div class="children"><div class="content">Diff a large JSON file - I think it has to do with how large  a single structure since I notice it most with static test fixtures.</div><br/></div></div></div></div></div></div><div id="39779036" class="c"><input type="checkbox" id="c-39779036" checked=""/><div class="controls bullet"><span class="by">ruined</span><span>|</span><a href="#39778838">parent</a><span>|</span><a href="#39779267">prev</a><span>|</span><a href="#39779856">next</a><span>|</span><label class="collapse" for="c-39779036">[-]</label><label class="expand" for="c-39779036">[10 more]</label></div><br/><div class="children"><div class="content">&gt;I am curious if thereâs been any work on _semantic_ diff tools as well (for when eg the syntax changes but the meaning is the same).<p>if you do this your difftool becomes a compiler</div><br/><div id="39779269" class="c"><input type="checkbox" id="c-39779269" checked=""/><div class="controls bullet"><span class="by">mlavrent</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39779036">parent</a><span>|</span><a href="#39779339">next</a><span>|</span><label class="collapse" for="c-39779269">[-]</label><label class="expand" for="c-39779269">[4 more]</label></div><br/><div class="children"><div class="content">Sorry, I should&#x27;ve been clearer. I&#x27;m interested if there&#x27;s any tool that does this kind of thing statically, without running the code. I guess a simple approach is to compile both programs and see if the generated code is the same, but I&#x27;d guess reasoning at the generated-code level will probably produce a lot more false positives (i.e. tool will report a change when there isn&#x27;t one) than if you reason about the original program.</div><br/><div id="39780787" class="c"><input type="checkbox" id="c-39780787" checked=""/><div class="controls bullet"><span class="by">jerf</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39779269">parent</a><span>|</span><a href="#39781709">next</a><span>|</span><label class="collapse" for="c-39780787">[-]</label><label class="expand" for="c-39780787">[2 more]</label></div><br/><div class="children"><div class="content">This gets really hard, really fast. That is, yes, reasonably obviously doing this completely 100% accurately requires a solution to the halting problem, but even getting to &quot;useful&quot; is <i>really really hard</i>. Even the Haskell world doesn&#x27;t try to solve the &quot;equivalence of functions&quot; problem, and it&#x27;s even more complicated in imperative languages.<p>You probably have a mental image of catching something really simple, and, yeah, &quot;1 + 1&quot; -&gt; &quot;2&quot; is reasonably easy, but in reality there aren&#x27;t a lot of those super easy changes. Most of the time there is <i>something</i> confounding the situation.<p>Truly neutral refactorings are pretty uncommon in their own right. You can see that when someone is discussing semantic versioning and pointing out that if you define a &quot;major version&quot; as &quot;there exists at least one possible use of the code whose behavior will be changed as a result of this library change&quot;, almost any API change is automatically a major version change, which isn&#x27;t really what anyone wants. E.g., in Python, the mere fact that introspecting on an object&#x27;s methods will show one more method than it used to isn&#x27;t really what we want a major version change for. In general, proving refactorings are actually 100% safe is equally difficult; even simple arithmetic changes can result in things overflowing at different times or in different ways, it&#x27;s virtually impossible to rewrite an expression involving floats without the change being witnessable <i>somehow</i>, extracting a function could make it so that code that previously didn&#x27;t overflow the stack now does, memory allocation changes can be the difference between OOMing and not and may interact with GC in unpredictable ways if you get <i>really</i> precise, etc.</div><br/><div id="39781623" class="c"><input type="checkbox" id="c-39781623" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39780787">parent</a><span>|</span><a href="#39781709">next</a><span>|</span><label class="collapse" for="c-39781623">[-]</label><label class="expand" for="c-39781623">[1 more]</label></div><br/><div class="children"><div class="content">Here&#x27;s a fun related article on Indistinguishability Obfuscation: <a href="https:&#x2F;&#x2F;cacm.acm.org&#x2F;research&#x2F;indistinguishability-obfuscation-from-well-founded-assumptions&#x2F;" rel="nofollow">https:&#x2F;&#x2F;cacm.acm.org&#x2F;research&#x2F;indistinguishability-obfuscati...</a><p>TL;DR verifying that 2 functions have the same output is really freaking hard.</div><br/></div></div></div></div><div id="39781709" class="c"><input type="checkbox" id="c-39781709" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39779269">parent</a><span>|</span><a href="#39780787">prev</a><span>|</span><a href="#39779339">next</a><span>|</span><label class="collapse" for="c-39781709">[-]</label><label class="expand" for="c-39781709">[1 more]</label></div><br/><div class="children"><div class="content">The Unison language (<a href="https:&#x2F;&#x2F;www.unison-lang.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.unison-lang.org&#x2F;</a>) knows how to compute whether the semantic meaning of the code has changed (though I don&#x27;t think it&#x27;s possible to get the actual diff to visualize it).<p>You can edit a function you&#x27;ve committed into the Unison code repo, and if you didn&#x27;t change the semantics of the function, it&#x27;s actually stored under the exact same hash...  All places using the function refer to it by its hash, so nothing needs to be recompiled either, and no tests need to be rerun.<p>Things like renaming variables, reordering code whose order doesn&#x27;t matter (common in functional programming) and things like that do NOT change the hash.<p>I believe this is only possible because Unison is a Pure Functional Language. If it&#x27;s not, it becomes a NP problem to decide if two programs are exactly equivalent, probably.<p>I wonder if Unison could provide the actual semantic diff you&#x27;re thinking of, it&#x27;s probably not much more complex than actually knowing the meaning of the code did change. Maybe create a Feature Request :) <a href="https:&#x2F;&#x2F;github.com&#x2F;unisonweb&#x2F;unison">https:&#x2F;&#x2F;github.com&#x2F;unisonweb&#x2F;unison</a></div><br/></div></div></div></div><div id="39779339" class="c"><input type="checkbox" id="c-39779339" checked=""/><div class="controls bullet"><span class="by">Chris_Newton</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39779036">parent</a><span>|</span><a href="#39779269">prev</a><span>|</span><a href="#39779076">next</a><span>|</span><label class="collapse" for="c-39779339">[-]</label><label class="expand" for="c-39779339">[1 more]</label></div><br/><div class="children"><div class="content"><i>if you do this your difftool becomes a compiler</i><p>Some linters and formatters are effectively compilers already, so that doesnât seem completely implausible in itself. Finding canonical representations of common coding patterns so you can quickly and reliably determine that they are equivalent is a different question, though.</div><br/></div></div><div id="39779076" class="c"><input type="checkbox" id="c-39779076" checked=""/><div class="controls bullet"><span class="by">hobs</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39779036">parent</a><span>|</span><a href="#39779339">prev</a><span>|</span><a href="#39779856">next</a><span>|</span><label class="collapse" for="c-39779076">[-]</label><label class="expand" for="c-39779076">[4 more]</label></div><br/><div class="children"><div class="content">That&#x27;s exactly what I have done with diffing SQL in lazy mode - just use a server and diff the AST&#x2F;plan.</div><br/><div id="39779283" class="c"><input type="checkbox" id="c-39779283" checked=""/><div class="controls bullet"><span class="by">slotrans</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39779076">parent</a><span>|</span><a href="#39779856">next</a><span>|</span><label class="collapse" for="c-39779283">[-]</label><label class="expand" for="c-39779283">[3 more]</label></div><br/><div class="children"><div class="content">Two semantically equivalent SQL statements can plan differently...</div><br/><div id="39780209" class="c"><input type="checkbox" id="c-39780209" checked=""/><div class="controls bullet"><span class="by">rrrrrrrrrrrryan</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39779283">parent</a><span>|</span><a href="#39783434">next</a><span>|</span><label class="collapse" for="c-39780209">[-]</label><label class="expand" for="c-39780209">[1 more]</label></div><br/><div class="children"><div class="content">The exact same SQL statement can plan differently if table statistics change.</div><br/></div></div><div id="39783434" class="c"><input type="checkbox" id="c-39783434" checked=""/><div class="controls bullet"><span class="by">hobs</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39779283">parent</a><span>|</span><a href="#39780209">prev</a><span>|</span><a href="#39779856">next</a><span>|</span><label class="collapse" for="c-39783434">[-]</label><label class="expand" for="c-39783434">[1 more]</label></div><br/><div class="children"><div class="content">Absolutely and for this case a different plan mattered.</div><br/></div></div></div></div></div></div></div></div><div id="39779856" class="c"><input type="checkbox" id="c-39779856" checked=""/><div class="controls bullet"><span class="by">rob74</span><span>|</span><a href="#39778838">parent</a><span>|</span><a href="#39779036">prev</a><span>|</span><a href="#39778882">next</a><span>|</span><label class="collapse" for="c-39779856">[-]</label><label class="expand" for="c-39779856">[4 more]</label></div><br/><div class="children"><div class="content">&gt; <i>I am curious if thereâs been any work on _semantic_ diff tools as well (for when eg the syntax changes but the meaning is the same)</i><p>So when using such a diff tool you can spend hours refactoring something, and then git will refuse to commit your changes because your refactoring was successful in not changing the behavior of the code? I understand what you mean, but if we arrive at that point maybe we should stop calling it &quot;diff&quot;, to avoid confusion...</div><br/><div id="39780157" class="c"><input type="checkbox" id="c-39780157" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39779856">parent</a><span>|</span><a href="#39778882">next</a><span>|</span><label class="collapse" for="c-39780157">[-]</label><label class="expand" for="c-39780157">[3 more]</label></div><br/><div class="children"><div class="content">Git doesn&#x27;t use the output of `diff` to determine whether anything has changed.</div><br/><div id="39781938" class="c"><input type="checkbox" id="c-39781938" checked=""/><div class="controls bullet"><span class="by">samatman</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39780157">parent</a><span>|</span><a href="#39778882">next</a><span>|</span><label class="collapse" for="c-39781938">[-]</label><label class="expand" for="c-39781938">[2 more]</label></div><br/><div class="children"><div class="content">True, although not widely known it would seem.<p>It does use diff to generate patches, however. I know in today&#x27;s GitHub-dominated landscape, that&#x27;s considered a bit of a dusty feature, but it would be a pity to break it.</div><br/><div id="39783073" class="c"><input type="checkbox" id="c-39783073" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#39778838">root</a><span>|</span><a href="#39781938">parent</a><span>|</span><a href="#39778882">next</a><span>|</span><label class="collapse" for="c-39783073">[-]</label><label class="expand" for="c-39783073">[1 more]</label></div><br/><div class="children"><div class="content">If you want to generate patches rather than look at local differences, there&#x27;s a specific command for that - <a href="https:&#x2F;&#x2F;git-scm.com&#x2F;docs&#x2F;git-format-patch" rel="nofollow">https:&#x2F;&#x2F;git-scm.com&#x2F;docs&#x2F;git-format-patch</a></div><br/></div></div></div></div></div></div></div></div></div></div><div id="39778882" class="c"><input type="checkbox" id="c-39778882" checked=""/><div class="controls bullet"><span class="by">pmayrgundter</span><span>|</span><a href="#39778838">prev</a><span>|</span><a href="#39778815">next</a><span>|</span><label class="collapse" for="c-39778882">[-]</label><label class="expand" for="c-39778882">[6 more]</label></div><br/><div class="children"><div class="content">&quot;Do you know how to read @@ -5,6 +5,7 @@ syntax? Difftastic shows the actual line numbers from your files, both before and after.&quot;<p>Preach!<p>Just dropped it in and did a git diff.. works like a charm!</div><br/><div id="39783933" class="c"><input type="checkbox" id="c-39783933" checked=""/><div class="controls bullet"><span class="by">neuromanser</span><span>|</span><a href="#39778882">parent</a><span>|</span><a href="#39778815">next</a><span>|</span><label class="collapse" for="c-39783933">[-]</label><label class="expand" for="c-39783933">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Do you know how to read @@ -5,6 +5,7 @@ syntax?<p>Do you <i>not</i>?</div><br/><div id="39787182" class="c"><input type="checkbox" id="c-39787182" checked=""/><div class="controls bullet"><span class="by">pmayrgundter</span><span>|</span><a href="#39778882">root</a><span>|</span><a href="#39783933">parent</a><span>|</span><a href="#39787899">next</a><span>|</span><label class="collapse" for="c-39787182">[-]</label><label class="expand" for="c-39787182">[1 more]</label></div><br/><div class="children"><div class="content">20 years staring at it and no, i don&#x27;t.  i usually have to work it out from context.  i think if you have vi or ed sensory organs it might work better for ya. which.. i still chuckle that vi is the visual editor, bc ed lol</div><br/></div></div><div id="39787899" class="c"><input type="checkbox" id="c-39787899" checked=""/><div class="controls bullet"><span class="by">snthpy</span><span>|</span><a href="#39778882">root</a><span>|</span><a href="#39783933">parent</a><span>|</span><a href="#39787182">prev</a><span>|</span><a href="#39785974">next</a><span>|</span><label class="collapse" for="c-39787899">[-]</label><label class="expand" for="c-39787899">[1 more]</label></div><br/><div class="children"><div class="content">Same here. If there&#x27;s a great ELI5 explanation somewhere, please post a link. Thanks</div><br/></div></div><div id="39785974" class="c"><input type="checkbox" id="c-39785974" checked=""/><div class="controls bullet"><span class="by">wffurr</span><span>|</span><a href="#39778882">root</a><span>|</span><a href="#39783933">parent</a><span>|</span><a href="#39787899">prev</a><span>|</span><a href="#39787364">next</a><span>|</span><label class="collapse" for="c-39785974">[-]</label><label class="expand" for="c-39785974">[1 more]</label></div><br/><div class="children"><div class="content">No, I sure donât.</div><br/></div></div><div id="39787364" class="c"><input type="checkbox" id="c-39787364" checked=""/><div class="controls bullet"><span class="by">teaearlgraycold</span><span>|</span><a href="#39778882">root</a><span>|</span><a href="#39783933">parent</a><span>|</span><a href="#39785974">prev</a><span>|</span><a href="#39778815">next</a><span>|</span><label class="collapse" for="c-39787364">[-]</label><label class="expand" for="c-39787364">[1 more]</label></div><br/><div class="children"><div class="content">Never needed to.</div><br/></div></div></div></div></div></div><div id="39778815" class="c"><input type="checkbox" id="c-39778815" checked=""/><div class="controls bullet"><span class="by">sanity</span><span>|</span><a href="#39778882">prev</a><span>|</span><a href="#39781685">next</a><span>|</span><label class="collapse" for="c-39778815">[-]</label><label class="expand" for="c-39778815">[3 more]</label></div><br/><div class="children"><div class="content">Interesting, I found Semantic Merge [1] years ago but it was never open source.<p>This just does diff but not merge, but at least it&#x27;s open source - and the diffs look a <i>lot</i> nicer, I&#x27;ve already made it my default.<p>Any plans to extend it to merging?<p>[1] <a href="https:&#x2F;&#x2F;docs.plasticscm.com&#x2F;semanticmerge" rel="nofollow">https:&#x2F;&#x2F;docs.plasticscm.com&#x2F;semanticmerge</a></div><br/><div id="39786038" class="c"><input type="checkbox" id="c-39786038" checked=""/><div class="controls bullet"><span class="by">OJFord</span><span>|</span><a href="#39778815">parent</a><span>|</span><a href="#39780263">next</a><span>|</span><label class="collapse" for="c-39786038">[-]</label><label class="expand" for="c-39786038">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Any plans to extend it to merging?<p>The GitHub readme:<p>&gt; Can difftastic do merges?<p>&gt; No. AST merging is a hard problem that difftastic does not address.<p>&gt; AST diffing is a also lossy process from the perspective of a text diff. Difftastic will ignore whitespace that isn&#x27;t syntactically significant, but merging requires tracking whitespace.</div><br/></div></div><div id="39780263" class="c"><input type="checkbox" id="c-39780263" checked=""/><div class="controls bullet"><span class="by">rideontime</span><span>|</span><a href="#39778815">parent</a><span>|</span><a href="#39786038">prev</a><span>|</span><a href="#39781685">next</a><span>|</span><label class="collapse" for="c-39780263">[-]</label><label class="expand" for="c-39780263">[1 more]</label></div><br/><div class="children"><div class="content">Was going to suggest this myself, this was a godsend when I was working with a big team on a C# project going through a messy refactor.</div><br/></div></div></div></div><div id="39781685" class="c"><input type="checkbox" id="c-39781685" checked=""/><div class="controls bullet"><span class="by">jmholla</span><span>|</span><a href="#39778815">prev</a><span>|</span><a href="#39785417">next</a><span>|</span><label class="collapse" for="c-39781685">[-]</label><label class="expand" for="c-39781685">[1 more]</label></div><br/><div class="children"><div class="content">I tried switching to this, but I found it noisy and use weird formatting for things that didn&#x27;t change. I went back to using icdiff[0].<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;jeffkaufman&#x2F;icdiff">https:&#x2F;&#x2F;github.com&#x2F;jeffkaufman&#x2F;icdiff</a></div><br/></div></div><div id="39785417" class="c"><input type="checkbox" id="c-39785417" checked=""/><div class="controls bullet"><span class="by">yboris</span><span>|</span><a href="#39781685">prev</a><span>|</span><a href="#39780491">next</a><span>|</span><label class="collapse" for="c-39785417">[-]</label><label class="expand" for="c-39785417">[1 more]</label></div><br/><div class="children"><div class="content">Related tool: <i>diff2html</i> also as a <i>CLI</i> - with one command opens a browser tab showing HTML diff (side by side or line by line) - a great way to review your work before committing.<p><a href="https:&#x2F;&#x2F;diff2html.xyz&#x2F;" rel="nofollow">https:&#x2F;&#x2F;diff2html.xyz&#x2F;</a></div><br/></div></div><div id="39780491" class="c"><input type="checkbox" id="c-39780491" checked=""/><div class="controls bullet"><span class="by">pjturpeau</span><span>|</span><a href="#39785417">prev</a><span>|</span><a href="#39779377">next</a><span>|</span><label class="collapse" for="c-39780491">[-]</label><label class="expand" for="c-39780491">[2 more]</label></div><br/><div class="children"><div class="content">It seems to be a great tool, however on the few checks I did on big XML files, it shows modified lines in normal green and modified attributes in bold green, which makes them difficult to detect visualy.<p>I didn&#x27;t find in the documentation how it is possible to change the style of the diff, or to ask for another color in the bold case.<p>Any idea?</div><br/><div id="39783456" class="c"><input type="checkbox" id="c-39783456" checked=""/><div class="controls bullet"><span class="by">jez</span><span>|</span><a href="#39780491">parent</a><span>|</span><a href="#39779377">next</a><span>|</span><label class="collapse" for="c-39783456">[-]</label><label class="expand" for="c-39783456">[1 more]</label></div><br/><div class="children"><div class="content">Unfortunately it doesn&#x27;t appear to allow customizing colors yet.<p>I chimed in on this issue[1] to express support for that. You may wish to also chime in on that one, or open a new issue if you think that the feature you&#x27;re looking for is sufficiently different from the one discussed in that thread.<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;Wilfred&#x2F;difftastic&#x2F;issues&#x2F;611">https:&#x2F;&#x2F;github.com&#x2F;Wilfred&#x2F;difftastic&#x2F;issues&#x2F;611</a></div><br/></div></div></div></div><div id="39779377" class="c"><input type="checkbox" id="c-39779377" checked=""/><div class="controls bullet"><span class="by">asicsp</span><span>|</span><a href="#39780491">prev</a><span>|</span><a href="#39784129">next</a><span>|</span><label class="collapse" for="c-39779377">[-]</label><label class="expand" for="c-39779377">[1 more]</label></div><br/><div class="children"><div class="content">Previous discussions:<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27768861">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27768861</a> <i>(297 points | 3 years ago | 61 comments)</i><p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=32746258">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=32746258</a> <i>(698 points | 2 years ago | 90 comments)</i><p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=30841244">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=30841244</a> <i>(983 points | 2 years ago | 219 comments)</i></div><br/></div></div><div id="39784129" class="c"><input type="checkbox" id="c-39784129" checked=""/><div class="controls bullet"><span class="by">Arrgh</span><span>|</span><a href="#39779377">prev</a><span>|</span><a href="#39787324">next</a><span>|</span><label class="collapse" for="c-39784129">[-]</label><label class="expand" for="c-39784129">[1 more]</label></div><br/><div class="children"><div class="content">Long, long ago, I used a library called Augeas (<a href="https:&#x2F;&#x2F;augeas.net&#x2F;" rel="nofollow">https:&#x2F;&#x2F;augeas.net&#x2F;</a>) in a drift-detection product*, so that if we detected a difference in config files, either on the same server through time, or on different servers that were supposed to be similar, we could de-noise the diffs, and more importantly, let users write fine-grained, but syntax-tolerant, allow-lists like &quot;this particular setting is allowed to differ&quot;... or even &quot;this particular setting can have one of the following list of values&quot;. :)<p>* the company was acquired by Splunk years after we shelved that product</div><br/></div></div><div id="39787324" class="c"><input type="checkbox" id="c-39787324" checked=""/><div class="controls bullet"><span class="by">domenkozar</span><span>|</span><a href="#39784129">prev</a><span>|</span><a href="#39784431">next</a><span>|</span><label class="collapse" for="c-39787324">[-]</label><label class="expand" for="c-39787324">[1 more]</label></div><br/><div class="children"><div class="content">In devenv.sh:<p><pre><code>  difftastic.enable = true;</code></pre></div><br/></div></div><div id="39784431" class="c"><input type="checkbox" id="c-39784431" checked=""/><div class="controls bullet"><span class="by">dsp_person</span><span>|</span><a href="#39787324">prev</a><span>|</span><a href="#39786805">next</a><span>|</span><label class="collapse" for="c-39784431">[-]</label><label class="expand" for="c-39784431">[4 more]</label></div><br/><div class="children"><div class="content">Interesting that while the arch linux the package weighs in a 7MB, it extracts to 80MB installed, and the `difft` binary is a whole 78MB. On a ZFS dataset with LZ4 compression du says it&#x27;s 17MB. I wonder why not just compress whatever is so compressible in the binary? It would probably even load faster to decompress it in ram.</div><br/><div id="39785421" class="c"><input type="checkbox" id="c-39785421" checked=""/><div class="controls bullet"><span class="by">jiripospisil</span><span>|</span><a href="#39784431">parent</a><span>|</span><a href="#39785907">next</a><span>|</span><label class="collapse" for="c-39785421">[-]</label><label class="expand" for="c-39785421">[2 more]</label></div><br/><div class="children"><div class="content">Just a data point because you mentioned compression and I got curious - it&#x27;s about 10MB on btrfs with zstd:1.<p><pre><code>  Processed 1 file, 614 regular extents (614 refs), 0 inline.
  Type       Perc     Disk Usage   Uncompressed Referenced  
  TOTAL       14%       10M          77M          77M       
  none       100%      1.1M         1.1M         1.1M       
  zstd        12%      9.8M          76M          76M</code></pre></div><br/><div id="39785766" class="c"><input type="checkbox" id="c-39785766" checked=""/><div class="controls bullet"><span class="by">dsp_person</span><span>|</span><a href="#39784431">root</a><span>|</span><a href="#39785421">parent</a><span>|</span><a href="#39785907">next</a><span>|</span><label class="collapse" for="c-39785766">[-]</label><label class="expand" for="c-39785766">[1 more]</label></div><br/><div class="children"><div class="content">Apparently ZFS 2.2.0 added an early abort capability for zstd compression. Maybe I&#x27;ll switch over to it.</div><br/></div></div></div></div><div id="39785907" class="c"><input type="checkbox" id="c-39785907" checked=""/><div class="controls bullet"><span class="by">speed_spread</span><span>|</span><a href="#39784431">parent</a><span>|</span><a href="#39785421">prev</a><span>|</span><a href="#39786805">next</a><span>|</span><label class="collapse" for="c-39785907">[-]</label><label class="expand" for="c-39785907">[1 more]</label></div><br/><div class="children"><div class="content">Its probably related to the comment here about the Nim parser being an unmergable 60mb C file. It looks like TreeSitter requires lots and lots of code, a lot of which must be redundant &#x2F; compressible.</div><br/></div></div></div></div><div id="39786805" class="c"><input type="checkbox" id="c-39786805" checked=""/><div class="controls bullet"><span class="by">ein0p</span><span>|</span><a href="#39784431">prev</a><span>|</span><a href="#39784786">next</a><span>|</span><label class="collapse" for="c-39786805">[-]</label><label class="expand" for="c-39786805">[1 more]</label></div><br/><div class="children"><div class="content">I wish someone would make a console 3 way merge with some rudimentary editing support. I know thereâs vimdiff, but I just donât gel with it. For the lack of a better description I just want a console version of Meldâs 3-pane merge.</div><br/></div></div><div id="39784786" class="c"><input type="checkbox" id="c-39784786" checked=""/><div class="controls bullet"><span class="by">replwoacause</span><span>|</span><a href="#39786805">prev</a><span>|</span><a href="#39780616">next</a><span>|</span><label class="collapse" for="c-39784786">[-]</label><label class="expand" for="c-39784786">[2 more]</label></div><br/><div class="children"><div class="content">I want for a nice diff tool on Mac that doesnât cost an arm and a leg like Kaleidoscope. Right now I am using one called CompareMerge2 from the App Store which is pretty good.</div><br/><div id="39785701" class="c"><input type="checkbox" id="c-39785701" checked=""/><div class="controls bullet"><span class="by">PlunderBunny</span><span>|</span><a href="#39784786">parent</a><span>|</span><a href="#39780616">next</a><span>|</span><label class="collapse" for="c-39785701">[-]</label><label class="expand" for="c-39785701">[1 more]</label></div><br/><div class="children"><div class="content">I too, settled on CompareMerge2 after casting around fruitlessly, and lusting after Kaleidoscope.</div><br/></div></div></div></div><div id="39780616" class="c"><input type="checkbox" id="c-39780616" checked=""/><div class="controls bullet"><span class="by">nibab</span><span>|</span><a href="#39784786">prev</a><span>|</span><a href="#39780875">next</a><span>|</span><label class="collapse" for="c-39780616">[-]</label><label class="expand" for="c-39780616">[1 more]</label></div><br/><div class="children"><div class="content">This is great! I wish my PR review tools allowed me to plug in something like this. Hopefully one day we will go back to the world of customizable&#x2F;plugin-based software. Most of my web tools are very prescriptive about the user experience and dont let me tailor my tools.</div><br/></div></div><div id="39780875" class="c"><input type="checkbox" id="c-39780875" checked=""/><div class="controls bullet"><span class="by">sanxchit</span><span>|</span><a href="#39780616">prev</a><span>|</span><a href="#39787652">next</a><span>|</span><label class="collapse" for="c-39780875">[-]</label><label class="expand" for="c-39780875">[3 more]</label></div><br/><div class="children"><div class="content">What an amazing tool, wish it had a GUI version as well.</div><br/><div id="39782012" class="c"><input type="checkbox" id="c-39782012" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#39780875">parent</a><span>|</span><a href="#39787652">next</a><span>|</span><label class="collapse" for="c-39782012">[-]</label><label class="expand" for="c-39782012">[2 more]</label></div><br/><div class="children"><div class="content">From the screenshot examples in the readme, Iâm not sure how substantial the benefits are over GUI tools like Kdiff3 or WinMerge that have existed for ages.</div><br/><div id="39782620" class="c"><input type="checkbox" id="c-39782620" checked=""/><div class="controls bullet"><span class="by">sanxchit</span><span>|</span><a href="#39780875">root</a><span>|</span><a href="#39782012">parent</a><span>|</span><a href="#39787652">next</a><span>|</span><label class="collapse" for="c-39782620">[-]</label><label class="expand" for="c-39782620">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve used WinMerge, its very different from the above tool because its still a text diff. It often gets the diffs wrong when multiple lines are involved. Take this trivial C# example: <a href="https:&#x2F;&#x2F;www.diffchecker.com&#x2F;gr0H7qA1&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.diffchecker.com&#x2F;gr0H7qA1&#x2F;</a><p>Most diff tools throw out something that is quite difficult to parse, but difftastic gave me the most concise diff so far.</div><br/></div></div></div></div></div></div><div id="39787652" class="c"><input type="checkbox" id="c-39787652" checked=""/><div class="controls bullet"><span class="by">arcastroe</span><span>|</span><a href="#39780875">prev</a><span>|</span><a href="#39787286">next</a><span>|</span><label class="collapse" for="c-39787652">[-]</label><label class="expand" for="c-39787652">[1 more]</label></div><br/><div class="children"><div class="content">Could this be integrated with something like Gitea or is this purely for CLI based use?</div><br/></div></div><div id="39787286" class="c"><input type="checkbox" id="c-39787286" checked=""/><div class="controls bullet"><span class="by">gexla</span><span>|</span><a href="#39787652">prev</a><span>|</span><a href="#39781572">next</a><span>|</span><label class="collapse" for="c-39787286">[-]</label><label class="expand" for="c-39787286">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for this. I&#x27;ll give it a try. And for diffs in a different context, I really like Beyond Compare.</div><br/></div></div><div id="39781572" class="c"><input type="checkbox" id="c-39781572" checked=""/><div class="controls bullet"><span class="by">xyzelement</span><span>|</span><a href="#39787286">prev</a><span>|</span><a href="#39779859">next</a><span>|</span><label class="collapse" for="c-39781572">[-]</label><label class="expand" for="c-39781572">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t write enough code &#x2F; write it professionally anymore to integrate it into my life BUT MAN this is a great idea.<p>In general, we&#x27;re overflowing in TMI which makes it hard to suss out what matters. For example at work I often read docs that describe what we do for customer X vs customer Y and it takes a ton of work to suss out the 1% of text that is <i>different</i> between those two, which is really what you want to understand and validate.<p>So anything that makes just the impactful change stand out is beyond welcome.</div><br/></div></div><div id="39779859" class="c"><input type="checkbox" id="c-39779859" checked=""/><div class="controls bullet"><span class="by">adamc</span><span>|</span><a href="#39781572">prev</a><span>|</span><a href="#39779392">next</a><span>|</span><label class="collapse" for="c-39779859">[-]</label><label class="expand" for="c-39779859">[2 more]</label></div><br/><div class="children"><div class="content">Doesn&#x27;t seem to have a Debian install.</div><br/><div id="39779909" class="c"><input type="checkbox" id="c-39779909" checked=""/><div class="controls bullet"><span class="by">pas</span><span>|</span><a href="#39779859">parent</a><span>|</span><a href="#39779392">next</a><span>|</span><label class="collapse" for="c-39779909">[-]</label><label class="expand" for="c-39779909">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;Wilfred&#x2F;difftastic&#x2F;issues&#x2F;560">https:&#x2F;&#x2F;github.com&#x2F;Wilfred&#x2F;difftastic&#x2F;issues&#x2F;560</a> help wanted :)</div><br/></div></div></div></div><div id="39779392" class="c"><input type="checkbox" id="c-39779392" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#39779859">prev</a><span>|</span><a href="#39780559">next</a><span>|</span><label class="collapse" for="c-39779392">[-]</label><label class="expand" for="c-39779392">[1 more]</label></div><br/><div class="children"><div class="content">There is also gumtree that does ast based diffing <a href="https:&#x2F;&#x2F;github.com&#x2F;GumTreeDiff&#x2F;gumtree">https:&#x2F;&#x2F;github.com&#x2F;GumTreeDiff&#x2F;gumtree</a></div><br/></div></div><div id="39780559" class="c"><input type="checkbox" id="c-39780559" checked=""/><div class="controls bullet"><span class="by">blackfawn</span><span>|</span><a href="#39779392">prev</a><span>|</span><a href="#39780466">next</a><span>|</span><label class="collapse" for="c-39780559">[-]</label><label class="expand" for="c-39780559">[1 more]</label></div><br/><div class="children"><div class="content">Difftastic seems really nice! Unfortunately it shows some changed binary files which makes it sort of unusable. `file` reports these files as &quot;ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, stripped&quot; and the MIME type&#x2F;encoding is &quot;application&#x2F;x-sharedlib; charset=binary&quot; so not sure why difftastic is trying to show them as thousands of changed lines of text...</div><br/></div></div><div id="39780466" class="c"><input type="checkbox" id="c-39780466" checked=""/><div class="controls bullet"><span class="by">airstrike</span><span>|</span><a href="#39780559">prev</a><span>|</span><a href="#39781414">next</a><span>|</span><label class="collapse" for="c-39780466">[-]</label><label class="expand" for="c-39780466">[2 more]</label></div><br/><div class="children"><div class="content">Fantastic tool. Now we just need the vscode extension ;-)</div><br/><div id="39788203" class="c"><input type="checkbox" id="c-39788203" checked=""/><div class="controls bullet"><span class="by">modernerd</span><span>|</span><a href="#39780466">parent</a><span>|</span><a href="#39781414">next</a><span>|</span><label class="collapse" for="c-39788203">[-]</label><label class="expand" for="c-39788203">[1 more]</label></div><br/><div class="children"><div class="content">SemanticDiff is probably the closest for now, although I don&#x27;t think it uses tree-sitter.<p><a href="https:&#x2F;&#x2F;semanticdiff.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;semanticdiff.com&#x2F;</a><p>Found via <a href="https:&#x2F;&#x2F;github.com&#x2F;Wilfred&#x2F;difftastic&#x2F;issues&#x2F;194">https:&#x2F;&#x2F;github.com&#x2F;Wilfred&#x2F;difftastic&#x2F;issues&#x2F;194</a>.</div><br/></div></div></div></div><div id="39781414" class="c"><input type="checkbox" id="c-39781414" checked=""/><div class="controls bullet"><span class="by">akkartik</span><span>|</span><a href="#39780466">prev</a><span>|</span><a href="#39781205">next</a><span>|</span><label class="collapse" for="c-39781414">[-]</label><label class="expand" for="c-39781414">[1 more]</label></div><br/><div class="children"><div class="content">Is there a way to make the output more familiar to diff users? I&#x27;ve turned on --inline. I also mostly don&#x27;t care enough about line numbers to want them on <i>every</i> line, so prefer the &#x27;&lt;&#x27; and &#x27;&gt;&#x27; leaders.<p>Also, on Arch there doesn&#x27;t seem to be a man page.</div><br/></div></div><div id="39781205" class="c"><input type="checkbox" id="c-39781205" checked=""/><div class="controls bullet"><span class="by">keybored</span><span>|</span><a href="#39781414">prev</a><span>|</span><a href="#39787367">next</a><span>|</span><label class="collapse" for="c-39781205">[-]</label><label class="expand" for="c-39781205">[1 more]</label></div><br/><div class="children"><div class="content">I think I use this indirectly through the git-delta pager which is a great pager replacement for git.</div><br/></div></div><div id="39787367" class="c"><input type="checkbox" id="c-39787367" checked=""/><div class="controls bullet"><span class="by">duncan_britt</span><span>|</span><a href="#39781205">prev</a><span>|</span><a href="#39779031">next</a><span>|</span><label class="collapse" for="c-39787367">[-]</label><label class="expand" for="c-39787367">[1 more]</label></div><br/><div class="children"><div class="content">Can it be made to work with magit in emacs?</div><br/></div></div><div id="39779031" class="c"><input type="checkbox" id="c-39779031" checked=""/><div class="controls bullet"><span class="by">hrdwdmrbl</span><span>|</span><a href="#39787367">prev</a><span>|</span><a href="#39784466">next</a><span>|</span><label class="collapse" for="c-39779031">[-]</label><label class="expand" for="c-39779031">[5 more]</label></div><br/><div class="children"><div class="content">It seems like a major lapse in product innovation that Github has not come out with something like this. They don&#x27;t even have something to help you when the indentation changes, they usually just show it as a giant add &amp; remove. Their diff viewer can and should be smarter.</div><br/><div id="39784083" class="c"><input type="checkbox" id="c-39784083" checked=""/><div class="controls bullet"><span class="by">neuromanser</span><span>|</span><a href="#39779031">parent</a><span>|</span><a href="#39787224">next</a><span>|</span><label class="collapse" for="c-39784083">[-]</label><label class="expand" for="c-39784083">[1 more]</label></div><br/><div class="children"><div class="content">Github can&#x27;t even recognize syntax, let alone provide semantic diffs! In fact, Github can&#x27;t even tell that foo.cpp.in is different from foo.mk.in! Any foo.t is declared to be Perl, with no way to fix itâ¦There are a decade-old tickets!</div><br/></div></div><div id="39787224" class="c"><input type="checkbox" id="c-39787224" checked=""/><div class="controls bullet"><span class="by">bPspGiJT8Y</span><span>|</span><a href="#39779031">parent</a><span>|</span><a href="#39784083">prev</a><span>|</span><a href="#39779695">next</a><span>|</span><label class="collapse" for="c-39787224">[-]</label><label class="expand" for="c-39787224">[1 more]</label></div><br/><div class="children"><div class="content">Tree-sitter optimizes for performance (to use in editors), not for correctness. In fact even TS&#x27; core developers advocate for not bothering too much with correctness of grammars[1]. I imagine this constraint would be a deal-breaker for GitHub or anyone else in their position.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;tree-sitter&#x2F;tree-sitter&#x2F;issues&#x2F;130#issuecomment-364830185">https:&#x2F;&#x2F;github.com&#x2F;tree-sitter&#x2F;tree-sitter&#x2F;issues&#x2F;130#issuec...</a></div><br/></div></div><div id="39779695" class="c"><input type="checkbox" id="c-39779695" checked=""/><div class="controls bullet"><span class="by">sroussey</span><span>|</span><a href="#39779031">parent</a><span>|</span><a href="#39787224">prev</a><span>|</span><a href="#39784466">next</a><span>|</span><label class="collapse" for="c-39779695">[-]</label><label class="expand" for="c-39779695">[2 more]</label></div><br/><div class="children"><div class="content">GitHub has the option to ignore whitespace in a diff.</div><br/><div id="39781507" class="c"><input type="checkbox" id="c-39781507" checked=""/><div class="controls bullet"><span class="by">mbork_pl</span><span>|</span><a href="#39779031">root</a><span>|</span><a href="#39779695">parent</a><span>|</span><a href="#39784466">next</a><span>|</span><label class="collapse" for="c-39781507">[-]</label><label class="expand" for="c-39781507">[1 more]</label></div><br/><div class="children"><div class="content">Which is useful, but too crude.</div><br/></div></div></div></div></div></div><div id="39784466" class="c"><input type="checkbox" id="c-39784466" checked=""/><div class="controls bullet"><span class="by">nialv7</span><span>|</span><a href="#39779031">prev</a><span>|</span><a href="#39779598">next</a><span>|</span><label class="collapse" for="c-39784466">[-]</label><label class="expand" for="c-39784466">[1 more]</label></div><br/><div class="children"><div class="content">Difftastic is great, but when I need to create patches I need to go back to good ol&#x27; diff...<p>Is there a patching tool that can apply difftastic diffs?</div><br/></div></div><div id="39779598" class="c"><input type="checkbox" id="c-39779598" checked=""/><div class="controls bullet"><span class="by">adamtaylor_13</span><span>|</span><a href="#39784466">prev</a><span>|</span><a href="#39782060">next</a><span>|</span><label class="collapse" for="c-39779598">[-]</label><label class="expand" for="c-39779598">[2 more]</label></div><br/><div class="children"><div class="content">Does anyone know how to enable this for .html.erb files? I found it doesn&#x27;t work properly in Ruby .erb files which makes it fallback to just regular ol diff behavior.</div><br/><div id="39780170" class="c"><input type="checkbox" id="c-39780170" checked=""/><div class="controls bullet"><span class="by">coldbrewed</span><span>|</span><a href="#39779598">parent</a><span>|</span><a href="#39782060">next</a><span>|</span><label class="collapse" for="c-39780170">[-]</label><label class="expand" for="c-39780170">[1 more]</label></div><br/><div class="children"><div class="content">That may require a tree-sitter implementation for erb templated html; it may exist but if so it&#x27;s less of a mainstream thing.<p>Some quick googling turns up <a href="https:&#x2F;&#x2F;github.com&#x2F;tree-sitter&#x2F;tree-sitter-embedded-template">https:&#x2F;&#x2F;github.com&#x2F;tree-sitter&#x2F;tree-sitter-embedded-template</a> which may or may not meet your needs.</div><br/></div></div></div></div><div id="39782060" class="c"><input type="checkbox" id="c-39782060" checked=""/><div class="controls bullet"><span class="by">markrages</span><span>|</span><a href="#39779598">prev</a><span>|</span><label class="collapse" for="c-39782060">[-]</label><label class="expand" for="c-39782060">[1 more]</label></div><br/><div class="children"><div class="content">Does the output work with patch(1)?  Or does this use a different patch?</div><br/></div></div></div></div></div></div></div></body></html>