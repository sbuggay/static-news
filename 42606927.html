<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1736326879435" as="style"/><link rel="stylesheet" href="styles.css?v=1736326879435"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="http://funcall.blogspot.com/2025/01/fold-and-monoids.html">Fold-... and Monoids</a> <span class="domain">(<a href="http://funcall.blogspot.com">funcall.blogspot.com</a>)</span></div><div class="subtext"><span>ykm</span> | <span>9 comments</span></div><br/><div><div id="42632324" class="c"><input type="checkbox" id="c-42632324" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#42632205">next</a><span>|</span><label class="collapse" for="c-42632324">[-]</label><label class="expand" for="c-42632324">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If I haven’t used fold-left or fold-right in a while, I sometimes forget which one computes what.<p>I&#x27;m glad I&#x27;m not the only one struggling with this! Though I have started remembering it a different way: I pretend the &#x27;r&#x27; in &#x27;foldr&#x27; stands for recursive. Thus it&#x27;s easier to remember that<p><pre><code>    foldr(º, [a, b, ...]) ~=
        a º (b º ...)
</code></pre>
where the right term for each operator is given by the recursive call. In contrast, then, foldl must be the iterative variant where<p><pre><code>    foldl(º, z, [a, b, ...]) ~=
        z º= a
        z º= b
        ...
        return z</code></pre></div><br/></div></div><div id="42632205" class="c"><input type="checkbox" id="c-42632205" checked=""/><div class="controls bullet"><span class="by">Gehinnn</span><span>|</span><a href="#42632324">prev</a><span>|</span><a href="#42632238">next</a><span>|</span><label class="collapse" for="c-42632205">[-]</label><label class="expand" for="c-42632205">[1 more]</label></div><br/><div class="children"><div class="content">A nice property of monoids is associativity, which allows for some interesting incremental algorithms, e.g. by using balanced trees: If the fold of × on a list is computed in clever way, the fold of × on a list where one element is modified can be computed in logarithmic time, given the computation of the first list.<p>A good example for a monoid are strings with the string concatenation operation! This is used a lot in text editors. Homomorphisms are also of practical relevance here.<p>If × is a commutative group operation (i.e. inverse elements exist and a×b=b×a), that can even be done in constant time in a trivial way.</div><br/></div></div><div id="42632238" class="c"><input type="checkbox" id="c-42632238" checked=""/><div class="controls bullet"><span class="by">quchen</span><span>|</span><a href="#42632205">prev</a><span>|</span><a href="#42632177">next</a><span>|</span><label class="collapse" for="c-42632238">[-]</label><label class="expand" for="c-42632238">[2 more]</label></div><br/><div class="children"><div class="content">Not sure why the article has to mention monads? I mean there’s the (mathematically correct) joke that »monads are monoids in the category of endofunctors«, but understanding that requires getting elbow deep into category theory, and if you’re not one of the maybe 10 people in the world gifted that way has zero practical use when programming.<p>&gt; A monad is a monoid over a set of curried functions.<p>Is that so? Sounds very wrong to me. If we want to go the monad joke way, monads have to have an operation (a -&gt; m b) that composes, but those are just normal functions, and there’s nothing curried about it. It’s a statement that one could bend enough so it’s kind of right, but what it really does is raise eyebrows.<p>&gt; Monads force sequential processing because you set up a pipeline and the earlier stages of the pipeline naturally must run first.<p>No, a counterexample is the (esoteric) reverse state monad, where values flow the normal way but state comes from the results of future computations.</div><br/><div id="42632295" class="c"><input type="checkbox" id="c-42632295" checked=""/><div class="controls bullet"><span class="by">tpoacher</span><span>|</span><a href="#42632238">parent</a><span>|</span><a href="#42632177">next</a><span>|</span><label class="collapse" for="c-42632295">[-]</label><label class="expand" for="c-42632295">[1 more]</label></div><br/><div class="children"><div class="content">I found it useful to have them mentioned, since people new to this topic (or, e.g., Haskell) tend to bump onto monoids when they first try to understand monads.<p>A &#x27;handwavy&#x27; association that somewhat makes sense and allows you to have some sort of perspective when moving on to monads is better than simply omitting the link to monads completely, just because one can &quot;kindof maybe&quot; find holes in the simplified explanation provided.<p>(fair enough, the words &quot;this is somewhat oversimplified, but&quot; could have been added, but personally I didn&#x27;t care)</div><br/></div></div></div></div><div id="42632177" class="c"><input type="checkbox" id="c-42632177" checked=""/><div class="controls bullet"><span class="by">tpoacher</span><span>|</span><a href="#42632238">prev</a><span>|</span><a href="#42632003">next</a><span>|</span><label class="collapse" for="c-42632177">[-]</label><label class="expand" for="c-42632177">[1 more]</label></div><br/><div class="children"><div class="content">Very nice article, thank you.<p>One of the clearest, most relatable definitions of what a monoid actually is, why you should care if at all, and how it relates to monads at the end. Great!<p>Might have been nice to add a footnote on what an &quot;endofunctor&quot; is as well, broadly speaking, given the whole &quot;a monad is a monoid in the category of endofunctors&quot; mantra that one first hears when they try to figure out monads.</div><br/></div></div><div id="42632003" class="c"><input type="checkbox" id="c-42632003" checked=""/><div class="controls bullet"><span class="by">gleenn</span><span>|</span><a href="#42632177">prev</a><span>|</span><a href="#42631848">next</a><span>|</span><label class="collapse" for="c-42632003">[-]</label><label class="expand" for="c-42632003">[1 more]</label></div><br/><div class="children"><div class="content">This was uniquely followable mathy code</div><br/></div></div><div id="42631848" class="c"><input type="checkbox" id="c-42631848" checked=""/><div class="controls bullet"><span class="by">revskill</span><span>|</span><a href="#42632003">prev</a><span>|</span><label class="collapse" for="c-42631848">[-]</label><label class="expand" for="c-42631848">[2 more]</label></div><br/><div class="children"><div class="content">Is it useful in solving leetcode problems ?</div><br/><div id="42631973" class="c"><input type="checkbox" id="c-42631973" checked=""/><div class="controls bullet"><span class="by">noelwelsh</span><span>|</span><a href="#42631848">parent</a><span>|</span><label class="collapse" for="c-42631973">[-]</label><label class="expand" for="c-42631973">[1 more]</label></div><br/><div class="children"><div class="content">Dynamic programming is often (always?) structured as a monoid, and that&#x27;s the kind of thing that shows up in leetcode.</div><br/></div></div></div></div></div></div></div></div></div></body></html>