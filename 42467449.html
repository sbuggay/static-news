<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1734685260945" as="style"/><link rel="stylesheet" href="styles.css?v=1734685260945"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://gribstream.com">Show HN: Gribstream.com – Historical Weather Forecast API</a> <span class="domain">(<a href="https://gribstream.com">gribstream.com</a>)</span></div><div class="subtext"><span>ElPeque</span> | <span>10 comments</span></div><br/><div><div id="42469082" class="c"><input type="checkbox" id="c-42469082" checked=""/><div class="controls bullet"><span class="by">greggsy</span><span>|</span><a href="#42468828">next</a><span>|</span><label class="collapse" for="c-42469082">[-]</label><label class="expand" for="c-42469082">[2 more]</label></div><br/><div class="children"><div class="content">There used to be a really nice website that allowed you to scroll and scale years worth of historical weather for any location. Also allowed you to prepare average annual graphs.<p>It fell into disrepair after Flash was killed off, and the maintainer wasn&#x27;t able to commit time to porting it over to a new platform.<p>I figure that the commodification of weather data is the real reason why it hasn&#x27;t been replaced with a viable alternative.</div><br/><div id="42469194" class="c"><input type="checkbox" id="c-42469194" checked=""/><div class="controls bullet"><span class="by">CalRobert</span><span>|</span><a href="#42469082">parent</a><span>|</span><a href="#42468828">next</a><span>|</span><label class="collapse" for="c-42469194">[-]</label><label class="expand" for="c-42469194">[1 more]</label></div><br/><div class="children"><div class="content">Weatherspark! It was amazing.</div><br/></div></div></div></div><div id="42468828" class="c"><input type="checkbox" id="c-42468828" checked=""/><div class="controls bullet"><span class="by">Upitor</span><span>|</span><a href="#42469082">prev</a><span>|</span><a href="#42468088">next</a><span>|</span><label class="collapse" for="c-42468828">[-]</label><label class="expand" for="c-42468828">[1 more]</label></div><br/><div class="children"><div class="content">In my experience, NWP data is big. Like, really big! Data over HTTP calls seems to limit the use case a bit; have you considered making it possible to mount storage directly (fsspec), and use fx the zarr format? In this way, querying with xarray would be much more flexible</div><br/></div></div><div id="42468088" class="c"><input type="checkbox" id="c-42468088" checked=""/><div class="controls bullet"><span class="by">alexose</span><span>|</span><a href="#42468828">prev</a><span>|</span><a href="#42467679">next</a><span>|</span><label class="collapse" for="c-42468088">[-]</label><label class="expand" for="c-42468088">[2 more]</label></div><br/><div class="children"><div class="content">This is great!  I&#x27;ve always wanted to backtest forecast models, but I was stuck on where to find good historical data.</div><br/><div id="42468145" class="c"><input type="checkbox" id="c-42468145" checked=""/><div class="controls bullet"><span class="by">ElPeque</span><span>|</span><a href="#42468088">parent</a><span>|</span><a href="#42467679">next</a><span>|</span><label class="collapse" for="c-42468145">[-]</label><label class="expand" for="c-42468145">[1 more]</label></div><br/><div class="children"><div class="content">Glad you like it! I hope it will suit your work.</div><br/></div></div></div></div><div id="42467679" class="c"><input type="checkbox" id="c-42467679" checked=""/><div class="controls bullet"><span class="by">antasvara</span><span>|</span><a href="#42468088">prev</a><span>|</span><label class="collapse" for="c-42467679">[-]</label><label class="expand" for="c-42467679">[4 more]</label></div><br/><div class="children"><div class="content">Just a heads up that there is a similar Python package for this that is free called Herbie [1], though the syntax of this one looks a little easier to use.<p>[1]: <a href="https:&#x2F;&#x2F;herbie.readthedocs.io&#x2F;en&#x2F;stable&#x2F;" rel="nofollow">https:&#x2F;&#x2F;herbie.readthedocs.io&#x2F;en&#x2F;stable&#x2F;</a></div><br/><div id="42467704" class="c"><input type="checkbox" id="c-42467704" checked=""/><div class="controls bullet"><span class="by">ElPeque</span><span>|</span><a href="#42467679">parent</a><span>|</span><label class="collapse" for="c-42467704">[-]</label><label class="expand" for="c-42467704">[3 more]</label></div><br/><div class="children"><div class="content">Interesting!<p>This is a little different though.<p>This dataset is is part of the AWS Open Data program and so it is freely available from S3. By running the API within AWS then you get a massive latency and bandwidth advantage.<p>So with GribStream you are pushing the computation closer to where the big data is and only downloading the small data. And GribStream uses a custom grib2 parser that allows it to extract the data in a streaming fashion, using very little memory.<p>It makes a huge difference if you need to extract timeseries of a handful of coordinates for months at a time.<p>Cheers!</div><br/><div id="42468065" class="c"><input type="checkbox" id="c-42468065" checked=""/><div class="controls bullet"><span class="by">cbarrick</span><span>|</span><a href="#42467679">root</a><span>|</span><a href="#42467704">parent</a><span>|</span><label class="collapse" for="c-42468065">[-]</label><label class="expand" for="c-42468065">[2 more]</label></div><br/><div class="children"><div class="content">&gt; And GribStream uses a custom grib2 parser that allows it to extract the data in a streaming fashion, using very little memory.<p>How does this compare to using Xarray on a netCDF dataset?</div><br/><div id="42468204" class="c"><input type="checkbox" id="c-42468204" checked=""/><div class="controls bullet"><span class="by">ElPeque</span><span>|</span><a href="#42467679">root</a><span>|</span><a href="#42468065">parent</a><span>|</span><label class="collapse" for="c-42468204">[-]</label><label class="expand" for="c-42468204">[1 more]</label></div><br/><div class="children"><div class="content">Grib2 files are much more compact than netCDF, just less convenient to use. But GribStream takes care of that and just returns you the timeseries for the coordinates you need.<p>Besides using the usual index files to only do http range requests for weather parameters of interest, GribStream also avoids creating big memory buffers to decode&#x2F;decompress the whole grid. It does the decoding in a streaming fashion and only accumulates the values that are being looked for so it can do so very efficiently. It doesn&#x27;t even finish downloading the partial grib file, it early aborts. And it also skips ahead many headers and parts of the grib2 format that are not really required or that can be assumed for being constant in the whole dataset. In other words, it cuts all possible corners and the parse is (currently) specifically optimized for the NBM and GFS datasets.<p>Although I intend to support several others, like the Rapid Refresh (RAP) model.<p>And the fact that this process runs close to the data (AWS), it can do so way faster than you can run it anywhere else.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>