<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1690880459345" as="style"/><link rel="stylesheet" href="styles.css?v=1690880459345"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://caseymuratori.com/blog_0025">The worst API ever made (2014)</a> <span class="domain">(<a href="https://caseymuratori.com">caseymuratori.com</a>)</span></div><div class="subtext"><span>PaulHoule</span> | <span>91 comments</span></div><br/><div><div id="36953592" class="c"><input type="checkbox" id="c-36953592" checked=""/><div class="controls bullet"><span class="by">noen</span><span>|</span><a href="#36951780">next</a><span>|</span><label class="collapse" for="c-36953592">[-]</label><label class="expand" for="c-36953592">[1 more]</label></div><br/><div class="children"><div class="content">About 7 years ago I was in a meeting with a former Windows core graphics engineer.<p>My team was attempting to figure out some extremely obtuse workflows with MediaFountain and DirectX.<p>We had a meeting with this guy and a couple of the other engineers that wrote the APIs and the implementation underneath.<p>This particular guy literally chuckled as we aired our frustrations and this was his response:<p>“Yeah you won’t figure those APIs out from the documentation.  It was on purpose.  You have to go buy the book.”<p>Proceeded to explain to me that this was how he, and many other core Windows engineers lined their pockets for years - write complex implementations, do the absolute bare minimum documentation, then take a 6 month sabbatical and publish a reference book that was absolutely required to actually use the API.<p>Apparently many of these guys made 10-20x their salaries on this grift and it didn’t really stop until the mid 2000’s.</div><br/></div></div><div id="36951780" class="c"><input type="checkbox" id="c-36951780" checked=""/><div class="controls bullet"><span class="by">erulabs</span><span>|</span><a href="#36953592">prev</a><span>|</span><a href="#36952139">next</a><span>|</span><label class="collapse" for="c-36951780">[-]</label><label class="expand" for="c-36951780">[37 more]</label></div><br/><div class="children"><div class="content">&gt; I don’t think people who make APIs really appreciate how important it is to get them right, and how much unnecessary work their mistakes can cause for hundreds, thousands, sometimes even millions of other programmers.<p>When I was a kid I tried to build a windows app. Getting a notepad clone even kind of close was a triumph for me, but I decided I wasn’t smart enough to be a programmer, and it set me back about 8 years at least.<p>I was about 19 and a jr sysadmin changing air conditioning units when I finally sorted out the vast majority of coding is vastly simpler and vastly more fun than win32. Those windows APIs cost me a <i>lot</i> of time!</div><br/><div id="36952051" class="c"><input type="checkbox" id="c-36952051" checked=""/><div class="controls bullet"><span class="by">marmakoide</span><span>|</span><a href="#36951780">parent</a><span>|</span><a href="#36953306">next</a><span>|</span><label class="collapse" for="c-36952051">[-]</label><label class="expand" for="c-36952051">[9 more]</label></div><br/><div class="children"><div class="content">In the late 90&#x27;s, my Dad bought Visual Studio 6 to learn C++. I knew my way around Turbo Pascal, i386 assembler and C&#x2F;DJGPP on DOS, so I figured I could try to code for Windows, &quot;I am Big Boy now&quot;.<p>The Visual Studio 6 box had an introduction book to win32 and MFC ... Nothing made sense to me, a lot of boiler plate code was there without much explanation about why it was there. I just said &quot;nope, life is too short to suffer this&quot;, and went back to DOS. Learned Unix system programming at the university, it felt sane and consistent.<p>This introduction to win32 API was so traumatizing, even now, I would not touch it with a barge pole, POSIX or GTFO.</div><br/><div id="36953691" class="c"><input type="checkbox" id="c-36953691" checked=""/><div class="controls bullet"><span class="by">tragomaskhalos</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952051">parent</a><span>|</span><a href="#36952901">next</a><span>|</span><label class="collapse" for="c-36953691">[-]</label><label class="expand" for="c-36953691">[1 more]</label></div><br/><div class="children"><div class="content">There was a period of time when Microsoft were very enamoured of the document-view model of desktop applications; you could choose to build MDI (multiple document interface) or SDI (single ...) applications, complete with menu management, so if you want to do a Word clone, knock yourself out. however if you just wanted a simple doohickey with a few buttons and whatnot - like the vast majority of cases - you were out of luck. There was of course a way to do this (and it became easier in later releases of Visual C++), but you had to fight the stupid M&#x2F;SDI model the whole way.</div><br/></div></div><div id="36952901" class="c"><input type="checkbox" id="c-36952901" checked=""/><div class="controls bullet"><span class="by">rob74</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952051">parent</a><span>|</span><a href="#36953691">prev</a><span>|</span><a href="#36952826">next</a><span>|</span><label class="collapse" for="c-36952901">[-]</label><label class="expand" for="c-36952901">[2 more]</label></div><br/><div class="children"><div class="content">I tried to switch from Delphi to Visual C++ around the same time, which made me appreciate even more how easy it was to build a GUI app with Delphi as opposed to the way VC++ did it (having a barebones visual designer and other than that forcing you to use all the gnarly APIs directly), how straightforward Object Pascal was compared to C++, and how much faster the compiler was, and decided to just stick with Delphi for the time being. The later .NET IDEs improved the usability quite a bit (thanks Anders Hejlsberg!), but those were for .NET, they didn&#x27;t generate native code.</div><br/><div id="36952964" class="c"><input type="checkbox" id="c-36952964" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952901">parent</a><span>|</span><a href="#36952826">next</a><span>|</span><label class="collapse" for="c-36952964">[-]</label><label class="expand" for="c-36952964">[1 more]</label></div><br/><div class="children"><div class="content">They do generate native code at installation time via the NGEN tool, and Managed C++ (later C++&#x2F;CLI) can created mixed mode Assemblies, where native code is embedded on the file, which is the reason why mixed mode Assemblies can&#x27;t be considered safe from CLR point of view.</div><br/></div></div></div></div><div id="36952826" class="c"><input type="checkbox" id="c-36952826" checked=""/><div class="controls bullet"><span class="by">physicles</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952051">parent</a><span>|</span><a href="#36952901">prev</a><span>|</span><a href="#36952953">next</a><span>|</span><label class="collapse" for="c-36952826">[-]</label><label class="expand" for="c-36952826">[2 more]</label></div><br/><div class="children"><div class="content">I had a similar experience. I&#x27;d been doing C++ for DOS with some x86 assembly for a couple years when I somehow got access to Visual C++ (probably version 5) with MFC. Just getting to Hello World took me a solid week. Eventually I wrapped my head around it, but moved to C#&#x2F;WinForms as soon as that came out.</div><br/><div id="36953606" class="c"><input type="checkbox" id="c-36953606" checked=""/><div class="controls bullet"><span class="by">bergen</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952826">parent</a><span>|</span><a href="#36952953">next</a><span>|</span><label class="collapse" for="c-36953606">[-]</label><label class="expand" for="c-36953606">[1 more]</label></div><br/><div class="children"><div class="content">Boggled my mind in university that c# was so smooth to get an application running, and the same ideas could not be applied to C++, in basically the same Coding environment. Tried for 4 separate times, always threw the towel.</div><br/></div></div></div></div><div id="36952953" class="c"><input type="checkbox" id="c-36952953" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952051">parent</a><span>|</span><a href="#36952826">prev</a><span>|</span><a href="#36953306">next</a><span>|</span><label class="collapse" for="c-36952953">[-]</label><label class="expand" for="c-36952953">[3 more]</label></div><br/><div class="children"><div class="content">Then let me tell you that programming X Windows is even worse, from the point of view of someone that knows Windows since Windows 3.0, and learned it via Turbo Pascal for Windows and Turbo C++ manuals.</div><br/><div id="36953486" class="c"><input type="checkbox" id="c-36953486" checked=""/><div class="controls bullet"><span class="by">jamesfmilne</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952953">parent</a><span>|</span><a href="#36953306">next</a><span>|</span><label class="collapse" for="c-36953486">[-]</label><label class="expand" for="c-36953486">[2 more]</label></div><br/><div class="children"><div class="content">X Windows at least has the &quot;advantage&quot; that you can download the code for Xlib or the Xorg server itself to see what&#x27;s going on under the hood.<p>Although, you&#x27;re going to have to be fairly proficient to get your head around that stuff too.<p>Agree that X11 has a dreadful API.</div><br/><div id="36953658" class="c"><input type="checkbox" id="c-36953658" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36953486">parent</a><span>|</span><a href="#36953306">next</a><span>|</span><label class="collapse" for="c-36953658">[-]</label><label class="expand" for="c-36953658">[1 more]</label></div><br/><div class="children"><div class="content">Which wasn&#x27;t necessarly how X Windows worked in commercial UNIX, so having the source code wasn&#x27;t of much help.<p>And that O&#x27;reilly X Windows book series, The Definitive Guides to the X Window System, a &quot;tiny&quot; set of 8 books, only for the UI stack.</div><br/></div></div></div></div></div></div></div></div><div id="36953306" class="c"><input type="checkbox" id="c-36953306" checked=""/><div class="controls bullet"><span class="by">notduncansmith</span><span>|</span><a href="#36951780">parent</a><span>|</span><a href="#36952051">prev</a><span>|</span><a href="#36952080">next</a><span>|</span><label class="collapse" for="c-36953306">[-]</label><label class="expand" for="c-36953306">[1 more]</label></div><br/><div class="children"><div class="content">Maybe ironic but I wouldn’t be where I am without Windows APIs.<p>I was 19, and I was a member of some forums where folks shared knowledge on how to (ab)use various technologies for profit;  many of these technologies were Web-based. I didn’t know any Web programming, but I knew VB.NET from some community college courses (with some fundamentals from high school) and I figured out how to drive this browser and interact with pages.<p>This allowed me to automate various Web interactions and make a few bucks writing code, which eventually led to my current career as a professional software developer.<p>I was getting paid (not much lol) to build apps before I knew either of brands like “port” but I hope that, no matter how much money is in the table, y’all feel good about every deal! Respect</div><br/></div></div><div id="36952080" class="c"><input type="checkbox" id="c-36952080" checked=""/><div class="controls bullet"><span class="by">iamwil</span><span>|</span><a href="#36951780">parent</a><span>|</span><a href="#36953306">prev</a><span>|</span><a href="#36952347">next</a><span>|</span><label class="collapse" for="c-36952080">[-]</label><label class="expand" for="c-36952080">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always wondered who were the people that were responsible for such terrible Windows APIs. They must have had an axe to grind or followed some ideology.<p>As a kid, I wanted to make games, and just found the win32 API inscrutable. I too lost a couple years.</div><br/><div id="36952859" class="c"><input type="checkbox" id="c-36952859" checked=""/><div class="controls bullet"><span class="by">narrator</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952080">parent</a><span>|</span><a href="#36952402">next</a><span>|</span><label class="collapse" for="c-36952859">[-]</label><label class="expand" for="c-36952859">[2 more]</label></div><br/><div class="children"><div class="content">The MS of the 90s, being the monopolists that the were, probably wanted Win32 to be as radically and annoyingly different from Unix and MacOS as possible just to make it hard to port software.</div><br/><div id="36952979" class="c"><input type="checkbox" id="c-36952979" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952859">parent</a><span>|</span><a href="#36952402">next</a><span>|</span><label class="collapse" for="c-36952979">[-]</label><label class="expand" for="c-36952979">[1 more]</label></div><br/><div class="children"><div class="content">In the 90s, there were other options besides Windows and POSIX.<p>The Mac OS from the 90&#x27;s had zero POSIX, and was less capable than Windows, hence Copland, which by the way also had zero compatibility with UNIX and was going to be a microkernel OS with C++ userspace.</div><br/></div></div></div></div><div id="36952402" class="c"><input type="checkbox" id="c-36952402" checked=""/><div class="controls bullet"><span class="by">cratermoon</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952080">parent</a><span>|</span><a href="#36952859">prev</a><span>|</span><a href="#36952347">next</a><span>|</span><label class="collapse" for="c-36952402">[-]</label><label class="expand" for="c-36952402">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;ve always wondered who were the people that were responsible for such terrible Windows APIs.<p>Charles Simonyi comes to mind.</div><br/><div id="36953037" class="c"><input type="checkbox" id="c-36953037" checked=""/><div class="controls bullet"><span class="by">indy</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952402">parent</a><span>|</span><a href="#36952347">next</a><span>|</span><label class="collapse" for="c-36953037">[-]</label><label class="expand" for="c-36953037">[1 more]</label></div><br/><div class="children"><div class="content">Truly terrible APIs never originate from one mind.<p>Instead they&#x27;re the result of a whole bureaucracy of people each of whom have to inject their own particular requirements, coding preferences and &quot;what if in the future...&quot; guesses.</div><br/></div></div></div></div></div></div><div id="36952347" class="c"><input type="checkbox" id="c-36952347" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#36951780">parent</a><span>|</span><a href="#36952080">prev</a><span>|</span><a href="#36953285">next</a><span>|</span><label class="collapse" for="c-36952347">[-]</label><label class="expand" for="c-36952347">[4 more]</label></div><br/><div class="children"><div class="content">I have the exact opposite experience --- I&#x27;ve been programming in win32 for about as long as it existed, and did win16 before that. There&#x27;s no better way to make super-efficient single-EXE applications that can run on every version of Windows since Win95 (and if you try a little harder, you can get to Win3.11 with Win32s.) Everything newer has felt far more bloated and complex.<p>That said, some parts of Windows API are horrible; everything COM-related comes to mind.</div><br/><div id="36952728" class="c"><input type="checkbox" id="c-36952728" checked=""/><div class="controls bullet"><span class="by">pyeri</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952347">parent</a><span>|</span><a href="#36953285">next</a><span>|</span><label class="collapse" for="c-36952728">[-]</label><label class="expand" for="c-36952728">[3 more]</label></div><br/><div class="children"><div class="content">Instead of dabbling with the windows API directly, a better option is to use the .NET WinForms API. You can use any CIL language like C# or VB.NET. Granted that it is a framework or toolkit like many others but one of the most efficient and relatively easiest to use that I&#x27;ve found so far. I&#x27;ve tried hello worlds with many other frameworks like Java Swing&#x2F;AWT&#x2F;SWT, Python Tkinter&#x2F;PySide, Electron.js framework, etc. and none came close to WinForms API, especially when it&#x27;s powered using the super efficient Visual Studio Community Edition.</div><br/><div id="36953520" class="c"><input type="checkbox" id="c-36953520" checked=""/><div class="controls bullet"><span class="by">namdnay</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952728">parent</a><span>|</span><a href="#36953285">next</a><span>|</span><label class="collapse" for="c-36953520">[-]</label><label class="expand" for="c-36953520">[2 more]</label></div><br/><div class="children"><div class="content">Wasnt there an issue with your apps then needing the user to install the “.NET runtime” or something? I remember it being the main reason why people stayed on win32 for so long</div><br/><div id="36953763" class="c"><input type="checkbox" id="c-36953763" checked=""/><div class="controls bullet"><span class="by">pyeri</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36953520">parent</a><span>|</span><a href="#36953285">next</a><span>|</span><label class="collapse" for="c-36953763">[-]</label><label class="expand" for="c-36953763">[1 more]</label></div><br/><div class="children"><div class="content">The .NET runtime usually comes pre-installed on all machines above Windows 7. It&#x27;s just that if your app needs some advanced feature, you need to upgrade runtime version in those cases, this is pretty much how other runtime based systems like Java and Python also work.<p>Most people who stayed with win32 for long were C programmers who preferred the &quot;purist way&quot;. But those who wanted developer productivity soon switched to the frameworks of .NET, Java, Python, etc.</div><br/></div></div></div></div></div></div></div></div><div id="36953285" class="c"><input type="checkbox" id="c-36953285" checked=""/><div class="controls bullet"><span class="by">nvy</span><span>|</span><a href="#36951780">parent</a><span>|</span><a href="#36952347">prev</a><span>|</span><a href="#36953633">next</a><span>|</span><label class="collapse" for="c-36953285">[-]</label><label class="expand" for="c-36953285">[3 more]</label></div><br/><div class="children"><div class="content">Once, I tried to write a GUI program in pure win32, that would have a custom window shape like demoscene intros&#x2F;warez cracktros.<p>Once.</div><br/><div id="36953394" class="c"><input type="checkbox" id="c-36953394" checked=""/><div class="controls bullet"><span class="by">sph</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36953285">parent</a><span>|</span><a href="#36953364">next</a><span>|</span><label class="collapse" for="c-36953394">[-]</label><label class="expand" for="c-36953394">[1 more]</label></div><br/><div class="children"><div class="content">Oh God you just stirred a long forgotten memory of my youth. Trying to make custom-shaped windows.<p>I also felt it was unreasonably hard in MFC&#x2F;Visual C++ to just have a button in a different colour. The RAD system was so barebones compared to what I was used to previously with Visual Basic, and the people in Delphi could make vibrant, colourful GUIs which were a pain in the butt to do in C++.<p>I will always remember Delphi as the cool RAD system that could create beautiful GUIs but the language is a bit ass, so I never took the time to learn it. (I have never liked the feel of Pascal for some reason)</div><br/></div></div><div id="36953364" class="c"><input type="checkbox" id="c-36953364" checked=""/><div class="controls bullet"><span class="by">3dbrows</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36953285">parent</a><span>|</span><a href="#36953394">prev</a><span>|</span><a href="#36953633">next</a><span>|</span><label class="collapse" for="c-36953364">[-]</label><label class="expand" for="c-36953364">[1 more]</label></div><br/><div class="children"><div class="content">I’m sure you managed to get the MIDI background music working easily though.</div><br/></div></div></div></div><div id="36953633" class="c"><input type="checkbox" id="c-36953633" checked=""/><div class="controls bullet"><span class="by">arc-in-space</span><span>|</span><a href="#36951780">parent</a><span>|</span><a href="#36953285">prev</a><span>|</span><a href="#36953101">next</a><span>|</span><label class="collapse" for="c-36953633">[-]</label><label class="expand" for="c-36953633">[1 more]</label></div><br/><div class="children"><div class="content">Same here. Trying to write something using win32 as a ~14yo made me feel like an absolute worthless idiot and I just didn&#x27;t touch code for 2-3 years.</div><br/></div></div><div id="36953101" class="c"><input type="checkbox" id="c-36953101" checked=""/><div class="controls bullet"><span class="by">suzzer99</span><span>|</span><a href="#36951780">parent</a><span>|</span><a href="#36953633">prev</a><span>|</span><a href="#36951887">next</a><span>|</span><label class="collapse" for="c-36953101">[-]</label><label class="expand" for="c-36953101">[1 more]</label></div><br/><div class="children"><div class="content">I had a similar experience with BASIC on the C64 in high school, which set me back about 10 years from becoming a programmer.<p>But on the upside I got a lot out of my system in my 20s, and have never gotten burnt out on programming.</div><br/></div></div><div id="36951887" class="c"><input type="checkbox" id="c-36951887" checked=""/><div class="controls bullet"><span class="by">lockhouse</span><span>|</span><a href="#36951780">parent</a><span>|</span><a href="#36953101">prev</a><span>|</span><a href="#36952315">next</a><span>|</span><label class="collapse" for="c-36951887">[-]</label><label class="expand" for="c-36951887">[11 more]</label></div><br/><div class="children"><div class="content">As a kid, I noped right out of raw Win32 API and reached for MFC instead.  It made writing Windows applications so much easier.</div><br/><div id="36951959" class="c"><input type="checkbox" id="c-36951959" checked=""/><div class="controls bullet"><span class="by">user3939382</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36951887">parent</a><span>|</span><a href="#36951918">next</a><span>|</span><label class="collapse" for="c-36951959">[-]</label><label class="expand" for="c-36951959">[9 more]</label></div><br/><div class="children"><div class="content">I looked at WPF a few users ago and my impression was, I could spend 2 hours doing something I could easily do in the browser in 15 minutes. Maybe it&#x27;s not that bad once you get the hang of it, but it looked so arduous I immediately decided I didn&#x27;t have the will to go farther.</div><br/><div id="36952233" class="c"><input type="checkbox" id="c-36952233" checked=""/><div class="controls bullet"><span class="by">fomine3</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36951959">parent</a><span>|</span><a href="#36952950">next</a><span>|</span><label class="collapse" for="c-36952233">[-]</label><label class="expand" for="c-36952233">[1 more]</label></div><br/><div class="children"><div class="content">To be fair, making an app in 2008 (when WPF released) with JS was a completely mess. WPF was usable and they introduced data binding&#x2F;MVVM. In 2018 (React&#x2F;Redux), it&#x27;s fair that JS seems to be advanced vs WPF.  Though its productivity isn&#x27;t so bad (unless you want to fully customize everything).</div><br/></div></div><div id="36952950" class="c"><input type="checkbox" id="c-36952950" checked=""/><div class="controls bullet"><span class="by">deaddodo</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36951959">parent</a><span>|</span><a href="#36952233">prev</a><span>|</span><a href="#36951988">next</a><span>|</span><label class="collapse" for="c-36952950">[-]</label><label class="expand" for="c-36952950">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t even get this arduousness argument. A barebones WinMain is extremely long-winded (what causes most people to &quot;nope out&quot;), certainly, but once you get passed that it&#x27;s fairly consistent and the API calls reasonably formed. I don&#x27;t think it&#x27;s an example of a perfect API, but the concepts and functionality of it mean once you learn the basics of it (handles, resources, parentage, text encoding, type annotation, etc) they apply to any other widget you&#x27;ll implement, from legacy ones all the way back in 1993 to modern ones introduced in Windows 7+.</div><br/></div></div><div id="36951988" class="c"><input type="checkbox" id="c-36951988" checked=""/><div class="controls bullet"><span class="by">eternityforest</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36951959">parent</a><span>|</span><a href="#36952950">prev</a><span>|</span><a href="#36951918">next</a><span>|</span><label class="collapse" for="c-36951988">[-]</label><label class="expand" for="c-36951988">[6 more]</label></div><br/><div class="children"><div class="content">As far as I&#x27;m concerned the only easy UI is a declarative reactive UI.  Vue and to a degree Flutter make everything look hard</div><br/><div id="36952328" class="c"><input type="checkbox" id="c-36952328" checked=""/><div class="controls bullet"><span class="by">fiddlerwoaroof</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36951988">parent</a><span>|</span><a href="#36952100">next</a><span>|</span><label class="collapse" for="c-36952328">[-]</label><label class="expand" for="c-36952328">[1 more]</label></div><br/><div class="children"><div class="content">I have the opposite experience: I learned to program with Delphi, and all the React libraries feel like hard, slow ways to make stuff I&#x27;d make in five minutes in Delphi.</div><br/></div></div><div id="36952100" class="c"><input type="checkbox" id="c-36952100" checked=""/><div class="controls bullet"><span class="by">worthless-trash</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36951988">parent</a><span>|</span><a href="#36952328">prev</a><span>|</span><a href="#36951918">next</a><span>|</span><label class="collapse" for="c-36952100">[-]</label><label class="expand" for="c-36952100">[4 more]</label></div><br/><div class="children"><div class="content">What is an example of this? (non ui programmer here).</div><br/><div id="36953055" class="c"><input type="checkbox" id="c-36953055" checked=""/><div class="controls bullet"><span class="by">deaddodo</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952100">parent</a><span>|</span><a href="#36952264">next</a><span>|</span><label class="collapse" for="c-36953055">[-]</label><label class="expand" for="c-36953055">[2 more]</label></div><br/><div class="children"><div class="content">The simple distinction is this (using abstract examples):<p>* Declarative: here is a UI that I designed ahead of time. I&#x27;ve set up these controls with these hooks. Your logic then plugs into my UI independent of it&#x27;s design. (When myBtn is clicked, it fires MyCode::MyBtn() in your code).<p>* Imperative: here is my main.c. In my main(), I call a function createWindow and then createButton with various parameters (size, text caption, styling, etc) that returns a handle to the widget&#x2F;window. I give a callback to my widgets. When that button is clicked, the callback is fired. I can call a function called destroyWidget with that handle and erase it.<p>Or, to simplify solely to definitions: in declarative UI, I create (or <i>declare</i>) the UI ahead of time and hook it into my logic. In imperative UI, the UI is rendered as requested (an <i>imperative</i>). The definitions are directly orthogonal to imperative vs declarative programming, in general.<p>As to &quot;reactive&quot;, this is an independent descriptor that simply means that the UI adjusts to it&#x27;s environment. It&#x27;s usually used in the context of Web or mobile devices, since an Android app that appeared the same on Phones and Tablets would offer a subpar experience for users on one or the other.</div><br/><div id="36953331" class="c"><input type="checkbox" id="c-36953331" checked=""/><div class="controls bullet"><span class="by">lelanthran</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36953055">parent</a><span>|</span><a href="#36952264">next</a><span>|</span><label class="collapse" for="c-36953331">[-]</label><label class="expand" for="c-36953331">[1 more]</label></div><br/><div class="children"><div class="content">Which approach is &quot;better&quot; varies, though.<p>Given an imperative UI and a small amount of time (depending on the surface area of the API) I can <i>create</i> a declarative interface to it.<p>I cannot do the reverse given a declarative UI.<p>My observation of declarative UIs is that, sooner or later, due to necessity, they tend towards the inclusion of imperative elements (<i>&quot;If we are running as Super-User, then $FOO must be a button, else it must be a link to a page requesting Super-User privileges&quot;</i>).<p>At the end the &quot;declarative&quot; UI is declarative for only the most trivial usages. Any non-trivial usage includes hacks or workarounds to implement conditional elements, loops (for collections of elements) and subcomponent specialisation (for element reuse).</div><br/></div></div></div></div><div id="36952264" class="c"><input type="checkbox" id="c-36952264" checked=""/><div class="controls bullet"><span class="by">eternityforest</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36952100">parent</a><span>|</span><a href="#36953055">prev</a><span>|</span><a href="#36951918">next</a><span>|</span><label class="collapse" for="c-36952264">[-]</label><label class="expand" for="c-36952264">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;vuejs.org&#x2F;guide&#x2F;quick-start.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;vuejs.org&#x2F;guide&#x2F;quick-start.html</a><p>The &quot;Global build&quot; section shows off how easy it can be the best.<p>More complicated stuff with modules might be harder especially when dealing with NPM build stuff, but it&#x27;s generally pretty nice.</div><br/></div></div></div></div></div></div></div></div><div id="36951918" class="c"><input type="checkbox" id="c-36951918" checked=""/><div class="controls bullet"><span class="by">paulryanrogers</span><span>|</span><a href="#36951780">root</a><span>|</span><a href="#36951887">parent</a><span>|</span><a href="#36951959">prev</a><span>|</span><a href="#36952315">next</a><span>|</span><label class="collapse" for="c-36951918">[-]</label><label class="expand" for="c-36951918">[1 more]</label></div><br/><div class="children"><div class="content">MFC felt pretty awkward to me, though I was introduced to it after Swing and C. I suppose it&#x27;s all matter of perspectives and preferences.</div><br/></div></div></div></div></div></div><div id="36952139" class="c"><input type="checkbox" id="c-36952139" checked=""/><div class="controls bullet"><span class="by">woodruffw</span><span>|</span><a href="#36951780">prev</a><span>|</span><a href="#36951916">next</a><span>|</span><label class="collapse" for="c-36952139">[-]</label><label class="expand" for="c-36952139">[2 more]</label></div><br/><div class="children"><div class="content">ETW is pretty bad but, for Windows APIs, it feels pretty middle-of-the-pack to me.<p>OpenSSL, on the other hand, is an endless nightmare to work with: clusters of APIs that are behaviorally similar (retrieving the attributes within an X.509 certificate, for example) have wildly different function signatures. Even when function signatures for similar APIs resemble each other, their interior behaviors vary widely (around assuming that lengths include NULs, maintaining or not maintaining interior reference counts, etc.). Seemingly basic functionalities (&quot;turn a buffer of PEM-encoded certificates into a `STACK_OF(X509)`&quot;) have no APIs at all; other APIs solve simple tasks through obscenely overpowered (and dangerous) primitives (such as `X509V3_EXT_conf`). And so on.</div><br/><div id="36953449" class="c"><input type="checkbox" id="c-36953449" checked=""/><div class="controls bullet"><span class="by">sph</span><span>|</span><a href="#36952139">parent</a><span>|</span><a href="#36951916">next</a><span>|</span><label class="collapse" for="c-36953449">[-]</label><label class="expand" for="c-36953449">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m building an app that uses the Web Crypto API and the annoying thing about cryptography is that in practice you&#x27;re calling a ton of different algorithms with slightly varied argument, which of course you have to name, and makes code reuse practically impossible.<p>You can have an `encrypt` function, that takes an RSA key, but wait, if you&#x27;re encrypting with AES-GCM you also need a salt and an IV, that other times is called a nonce (which is similar to an IV but not exactly). But wait, if you&#x27;re encrypting a key, you&#x27;re actually &quot;wrapping&quot; a key, so your API should clarify all these little variations in process, which is a pain. Given that the error conditions are very opaque, to avoid mistakes you need a very clear and verbose API on top of the bare crypto functions to stay sane.<p>Literally my morning plan for today is refactor the cryptography functions in my project because they&#x27;re an unwieldy mess.</div><br/></div></div></div></div><div id="36951916" class="c"><input type="checkbox" id="c-36951916" checked=""/><div class="controls bullet"><span class="by">openthc</span><span>|</span><a href="#36952139">prev</a><span>|</span><a href="#36951757">next</a><span>|</span><label class="collapse" for="c-36951916">[-]</label><label class="expand" for="c-36951916">[5 more]</label></div><br/><div class="children"><div class="content">For many years (since 2014) the API for Metrc (the cannabis reporting engine in Colorado and other states) would NEVER return any useful data at all, simply an empty JSON array.  So after each operation, one would have to query the search endpoint for plants or inventory to discover the new items -- and hope you could positively identify which one was the new one you were looking for.<p>That and not supporting B2B transactions via their API. They would alternately claim it&#x27;s for security or that the States were not asking for it.  States would tell other software vendors that Metrc coludn&#x27;t do it.  Neither party could move the ball.<p>Only now, in 2023, have they started responding with the ID of the newly created items (why not a fully inflated record of what was just created) and working to support B2B.<p>These state run APIs, from a for-profit corporation, are not good for the public (they hide, or cannot handle important laboratory testing data) and they are not good for the licensees, especially the small businesses.  And there is no accountability -- agency points to vendor &amp; vendor points to agency.<p>Sadly, getting these State agencies to understand the beauty of distributed&#x2F;federated systems -- and the difficutly for small businesses to respond to RFPs -- keep us from having nice things.<p>End of rant.</div><br/><div id="36953640" class="c"><input type="checkbox" id="c-36953640" checked=""/><div class="controls bullet"><span class="by">dvdkon</span><span>|</span><a href="#36951916">parent</a><span>|</span><a href="#36952008">next</a><span>|</span><label class="collapse" for="c-36953640">[-]</label><label class="expand" for="c-36953640">[1 more]</label></div><br/><div class="children"><div class="content">That reminds me of a certain dataset (public transport timetables) managed for the Czech state by a private company (CHAPS). They have a duty to release the data for free, but instead they only release near-useless cut-down versions. If you want usable data, you have to pay them for the &quot;enhanced&quot; version.<p>The ministry that oversees this is not interested in changing anything, so despite external efforts, this has been going on for almost a decade.</div><br/></div></div><div id="36952008" class="c"><input type="checkbox" id="c-36952008" checked=""/><div class="controls bullet"><span class="by">mfrisbie</span><span>|</span><a href="#36951916">parent</a><span>|</span><a href="#36953640">prev</a><span>|</span><a href="#36952235">next</a><span>|</span><label class="collapse" for="c-36952008">[-]</label><label class="expand" for="c-36952008">[2 more]</label></div><br/><div class="children"><div class="content">My favorite Metrc API wart was submitting harvests when their API servers were bogged down. Sometimes, your &quot;create harvest&quot; request would get stuck in a transaction pool that wouldn&#x27;t timeout for 10 minutes. You&#x27;d have to wait the full 10 minutes to see if it succeeded or not because setting a shorter timeout would risk double-submitting the harvest, thereby completely screwing up that cannabis business&#x27;s compliance data.</div><br/><div id="36952844" class="c"><input type="checkbox" id="c-36952844" checked=""/><div class="controls bullet"><span class="by">eyelidlessness</span><span>|</span><a href="#36951916">root</a><span>|</span><a href="#36952008">parent</a><span>|</span><a href="#36952235">next</a><span>|</span><label class="collapse" for="c-36952844">[-]</label><label class="expand" for="c-36952844">[1 more]</label></div><br/><div class="children"><div class="content">Oh, if only it were that simple across the board! One of my favorites was getting any number of errors (timeouts, various internal errors) only to discover later that the reporting did <i>sometimes, eventually, unpredictably</i> succeed despite whatever error had been returned and regardless of how fatal the error message might have seemed to be. And often this occurred during waves of intermittent outages, where determining any given success might take hours. And in any case, correlating success for some resources was partly guesswork, matching data to the timestamps we reported, which of course lost fidelity in their system because… SQL Server stores it that way, I guess.</div><br/></div></div></div></div><div id="36952235" class="c"><input type="checkbox" id="c-36952235" checked=""/><div class="controls bullet"><span class="by">quickthrower2</span><span>|</span><a href="#36951916">parent</a><span>|</span><a href="#36952008">prev</a><span>|</span><a href="#36951757">next</a><span>|</span><label class="collapse" for="c-36952235">[-]</label><label class="expand" for="c-36952235">[1 more]</label></div><br/><div class="children"><div class="content">What’s that API smoking?</div><br/></div></div></div></div><div id="36951757" class="c"><input type="checkbox" id="c-36951757" checked=""/><div class="controls bullet"><span class="by">thefourthchime</span><span>|</span><a href="#36951916">prev</a><span>|</span><a href="#36952323">next</a><span>|</span><label class="collapse" for="c-36951757">[-]</label><label class="expand" for="c-36951757">[3 more]</label></div><br/><div class="children"><div class="content">I used to be a Windows programmer and dealt with APIs like this all the time.<p>Honestly, the Event Tracing API is consistent with all of the Win32 APIs. They&#x27;re pretty freaking horrible. It&#x27;s like filling out a bunch of tax documents to do anything.</div><br/><div id="36952274" class="c"><input type="checkbox" id="c-36952274" checked=""/><div class="controls bullet"><span class="by">bentcorner</span><span>|</span><a href="#36951757">parent</a><span>|</span><a href="#36952323">next</a><span>|</span><label class="collapse" for="c-36952274">[-]</label><label class="expand" for="c-36952274">[2 more]</label></div><br/><div class="children"><div class="content">I think this explains ETW&#x27;s horribleness pretty well:<p>&gt; <i>Now, normally, a game developer would have no reason to use the Event Tracing for Windows API directly. You can use tools like PerfMon to view logged information about your game, like how much working set it was using or how much disk I&#x2F;O it did. But there is one specific thing that directly accessing Event Tracing gives you that you can’t get anywhere else: context switch timing.</i><p>It&#x27;s been awhile since I&#x27;ve run wpa and wpr but I thought you got context switch timing these days with the built in tools such that there&#x27;s no need to do it yourself.  <i>IMO</i> having a good ETW API is probably low ROI.</div><br/><div id="36952395" class="c"><input type="checkbox" id="c-36952395" checked=""/><div class="controls bullet"><span class="by">schemescape</span><span>|</span><a href="#36951757">root</a><span>|</span><a href="#36952274">parent</a><span>|</span><a href="#36952323">next</a><span>|</span><label class="collapse" for="c-36952395">[-]</label><label class="expand" for="c-36952395">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also been xperf and Process Monitor for a long time. It&#x27;s not clear to me from the article why they needed to use the underlying API instead of the tooling built on top.</div><br/></div></div></div></div></div></div><div id="36952323" class="c"><input type="checkbox" id="c-36952323" checked=""/><div class="controls bullet"><span class="by">thyrox</span><span>|</span><a href="#36951757">prev</a><span>|</span><a href="#36951837">next</a><span>|</span><label class="collapse" for="c-36952323">[-]</label><label class="expand" for="c-36952323">[7 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Whenever you evaluate an API, or create a new one, you must always, always, ALWAYS start by writing some code as if you were a user trying to do the thing that the API is supposed to do. This is the only way to get a nice, clean perspective on how the API would work if it had no constraints on it whatsoever. If it was “magical”, as it were. And then, once you have that, you can move forward and start thinking about the practical problems, and what the best way is for you to get to something implementable.</i><p>Such good advice. It&#x27;s so obvious but so easy to miss when you&#x27;re excited to get things done. I think it&#x27;s like writing a unit test before writing the code.<p>It changes your POV from an &quot;API creator&quot; to an &quot;API consumer&quot; - for whom this whole thing will be all about eventually.</div><br/><div id="36952680" class="c"><input type="checkbox" id="c-36952680" checked=""/><div class="controls bullet"><span class="by">smarkov</span><span>|</span><a href="#36952323">parent</a><span>|</span><a href="#36953282">next</a><span>|</span><label class="collapse" for="c-36952680">[-]</label><label class="expand" for="c-36952680">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;d go a step further and say this is how you should write all of your code because realistically every single function&#x2F;class is its own little API.</div><br/><div id="36952944" class="c"><input type="checkbox" id="c-36952944" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#36952323">root</a><span>|</span><a href="#36952680">parent</a><span>|</span><a href="#36953282">next</a><span>|</span><label class="collapse" for="c-36952944">[-]</label><label class="expand" for="c-36952944">[4 more]</label></div><br/><div class="children"><div class="content">Maybe we should invent a paradigm and write a manifesto about it. We can call it... test-driven development.</div><br/><div id="36953075" class="c"><input type="checkbox" id="c-36953075" checked=""/><div class="controls bullet"><span class="by">TylerE</span><span>|</span><a href="#36952323">root</a><span>|</span><a href="#36952944">parent</a><span>|</span><a href="#36953398">next</a><span>|</span><label class="collapse" for="c-36953075">[-]</label><label class="expand" for="c-36953075">[1 more]</label></div><br/><div class="children"><div class="content">I find TDD antethetical to this... you really need to actually understand the problem space - that requires large scale experimentation, not the micro-structuring TDD preaches.</div><br/></div></div><div id="36953398" class="c"><input type="checkbox" id="c-36953398" checked=""/><div class="controls bullet"><span class="by">lelanthran</span><span>|</span><a href="#36952323">root</a><span>|</span><a href="#36952944">parent</a><span>|</span><a href="#36953075">prev</a><span>|</span><a href="#36953541">next</a><span>|</span><label class="collapse" for="c-36953398">[-]</label><label class="expand" for="c-36953398">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  Maybe we should invent a paradigm and write a manifesto about it. We can call it... test-driven development.<p>Isn&#x27;t test-driven development the opposite, though?<p>If the program is layered as layers A (main program), B (business logic), C (data objects) and D (persistent storage), TDD would have you first do the interface (and tests) for D before you do anything for C.<p>You only realise if D is missing something (or worse, has superfluous features) once you start doing C. Same when you get to B.<p>When going API first, you go top-down. You <i>first</i> figure out what the interface to the main program (A) should be, then you figure out what the interface to B should look like, etc.</div><br/></div></div><div id="36953541" class="c"><input type="checkbox" id="c-36953541" checked=""/><div class="controls bullet"><span class="by">LogicalBorg</span><span>|</span><a href="#36952323">root</a><span>|</span><a href="#36952944">parent</a><span>|</span><a href="#36953398">prev</a><span>|</span><a href="#36953282">next</a><span>|</span><label class="collapse" for="c-36953541">[-]</label><label class="expand" for="c-36953541">[1 more]</label></div><br/><div class="children"><div class="content">I think that User-Centered Design (UCD) would be a better term here for what this concept is trying to say. In modern design, we tell user stories that help guide development of interfaces, including APIs.</div><br/></div></div></div></div></div></div><div id="36953282" class="c"><input type="checkbox" id="c-36953282" checked=""/><div class="controls bullet"><span class="by">paulclinger</span><span>|</span><a href="#36952323">parent</a><span>|</span><a href="#36952680">prev</a><span>|</span><a href="#36951837">next</a><span>|</span><label class="collapse" for="c-36953282">[-]</label><label class="expand" for="c-36953282">[1 more]</label></div><br/><div class="children"><div class="content">Agree; it also helps to write documentation supporting the example. On several occasions I ended up reworking APIs I&#x27;d been working on after writing documentation for them, as some of the elements were too complex, looked inconsistent, or just didn&#x27;t feel right.</div><br/></div></div></div></div><div id="36951837" class="c"><input type="checkbox" id="c-36951837" checked=""/><div class="controls bullet"><span class="by">alpb</span><span>|</span><a href="#36952323">prev</a><span>|</span><a href="#36951898">next</a><span>|</span><label class="collapse" for="c-36951837">[-]</label><label class="expand" for="c-36951837">[2 more]</label></div><br/><div class="children"><div class="content">I worked at Microsoft early-career and one of the projects I worked on was to integrate with ETW from a Go program to plumb events from Go code into ETW. I would also agree that this is one of the APIs that take a really long time to reason about it and some parts just feel like this API should not&#x27;ve been exposed to anyone who&#x27;s not on the Windows team at all.</div><br/><div id="36953185" class="c"><input type="checkbox" id="c-36953185" checked=""/><div class="controls bullet"><span class="by">ghosty141</span><span>|</span><a href="#36951837">parent</a><span>|</span><a href="#36951898">next</a><span>|</span><label class="collapse" for="c-36953185">[-]</label><label class="expand" for="c-36953185">[1 more]</label></div><br/><div class="children"><div class="content">Did you ask why that API is so bad? My guess is &quot;well for historical reason [...]&quot;.</div><br/></div></div></div></div><div id="36951898" class="c"><input type="checkbox" id="c-36951898" checked=""/><div class="controls bullet"><span class="by">cortesoft</span><span>|</span><a href="#36951837">prev</a><span>|</span><a href="#36951730">next</a><span>|</span><label class="collapse" for="c-36951898">[-]</label><label class="expand" for="c-36951898">[6 more]</label></div><br/><div class="children"><div class="content">Is the JDSL not the worst API ever made?<p><a href="https:&#x2F;&#x2F;thedailywtf.com&#x2F;articles&#x2F;the-inner-json-effect" rel="nofollow noreferrer">https:&#x2F;&#x2F;thedailywtf.com&#x2F;articles&#x2F;the-inner-json-effect</a></div><br/><div id="36952186" class="c"><input type="checkbox" id="c-36952186" checked=""/><div class="controls bullet"><span class="by">sublinear</span><span>|</span><a href="#36951898">parent</a><span>|</span><a href="#36951730">next</a><span>|</span><label class="collapse" for="c-36952186">[-]</label><label class="expand" for="c-36952186">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve read this one a few times and first heard it paraphrased in conversation years ago. I&#x27;m convinced it&#x27;s a myth, but an entertaining one.</div><br/><div id="36952681" class="c"><input type="checkbox" id="c-36952681" checked=""/><div class="controls bullet"><span class="by">Tainnor</span><span>|</span><a href="#36951898">root</a><span>|</span><a href="#36952186">parent</a><span>|</span><a href="#36951730">next</a><span>|</span><label class="collapse" for="c-36952681">[-]</label><label class="expand" for="c-36952681">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m convinced at least 50% of thedailywtf is made up. But maybe that&#x27;s just something I tell myself so I can sleep better.</div><br/><div id="36953062" class="c"><input type="checkbox" id="c-36953062" checked=""/><div class="controls bullet"><span class="by">Ygg2</span><span>|</span><a href="#36951898">root</a><span>|</span><a href="#36952681">parent</a><span>|</span><a href="#36953483">next</a><span>|</span><label class="collapse" for="c-36953062">[-]</label><label class="expand" for="c-36953062">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m convinced 75% of it is real. I don&#x27;t sleep at night.</div><br/></div></div><div id="36953483" class="c"><input type="checkbox" id="c-36953483" checked=""/><div class="controls bullet"><span class="by">formerly_proven</span><span>|</span><a href="#36951898">root</a><span>|</span><a href="#36952681">parent</a><span>|</span><a href="#36953062">prev</a><span>|</span><a href="#36951730">next</a><span>|</span><label class="collapse" for="c-36953483">[-]</label><label class="expand" for="c-36953483">[2 more]</label></div><br/><div class="children"><div class="content">I think most of it is made up but I’ve also seen a database schema and usage pattern (in an enterprise &#x2F; MSSQL application) that’s far worse than anything I’ve read on that site so maybe it isn’t. But a lot of the stories have this ring of made-upness to it.</div><br/><div id="36953878" class="c"><input type="checkbox" id="c-36953878" checked=""/><div class="controls bullet"><span class="by">Tainnor</span><span>|</span><a href="#36951898">root</a><span>|</span><a href="#36953483">parent</a><span>|</span><a href="#36951730">next</a><span>|</span><label class="collapse" for="c-36953878">[-]</label><label class="expand" for="c-36953878">[1 more]</label></div><br/><div class="children"><div class="content">The code isn&#x27;t what I find unbelievable, it&#x27;s the embellishments and the characters in the story.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36951730" class="c"><input type="checkbox" id="c-36951730" checked=""/><div class="controls bullet"><span class="by">vietthan</span><span>|</span><a href="#36951898">prev</a><span>|</span><a href="#36952009">next</a><span>|</span><label class="collapse" for="c-36951730">[-]</label><label class="expand" for="c-36951730">[1 more]</label></div><br/><div class="children"><div class="content">Bravo. I know nothing about this technically but it was succinct and conveyed the frustration superbly.</div><br/></div></div><div id="36952009" class="c"><input type="checkbox" id="c-36952009" checked=""/><div class="controls bullet"><span class="by">nimbius</span><span>|</span><a href="#36951730">prev</a><span>|</span><a href="#36952547">next</a><span>|</span><label class="collapse" for="c-36952009">[-]</label><label class="expand" for="c-36952009">[1 more]</label></div><br/><div class="children"><div class="content">0. Thanks I hate it<p>1.  You haven&#x27;t lived until you&#x27;ve tried to extract any reasonable data at all from NOAA.gov.</div><br/></div></div><div id="36952547" class="c"><input type="checkbox" id="c-36952547" checked=""/><div class="controls bullet"><span class="by">j16sdiz</span><span>|</span><a href="#36952009">prev</a><span>|</span><a href="#36951922">next</a><span>|</span><label class="collapse" for="c-36952547">[-]</label><label class="expand" for="c-36952547">[2 more]</label></div><br/><div class="children"><div class="content">ETW is not easy because they get literally into the most performance sensitive codepath.<p>I think I can forgive any usibility quirk for performance reason.</div><br/><div id="36952667" class="c"><input type="checkbox" id="c-36952667" checked=""/><div class="controls bullet"><span class="by">abraae</span><span>|</span><a href="#36952547">parent</a><span>|</span><a href="#36951922">next</a><span>|</span><label class="collapse" for="c-36952667">[-]</label><label class="expand" for="c-36952667">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, gloves are off for something so performance sensitive, and that also has to be backwards compatible with eons of older Windows versions. Who cares if it&#x27;s not more intuitive.<p>That said, certainly there should be some decent documentation with working examples. I assume there are not hence the author&#x27;s arduous trip down shonky lane.</div><br/></div></div></div></div><div id="36951922" class="c"><input type="checkbox" id="c-36951922" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#36952547">prev</a><span>|</span><a href="#36953061">next</a><span>|</span><label class="collapse" for="c-36951922">[-]</label><label class="expand" for="c-36951922">[6 more]</label></div><br/><div class="children"><div class="content">An importunately verbose and complicated API that I&#x27;ve recently come across is that of LMDB.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Lightning_Memory-Mapped_Database" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Lightning_Memory-Mapped_Databa...</a><p>Here is a long page explaining how to initialize things. (Warning: HTTP only!)<p><a href="http:&#x2F;&#x2F;www.lmdb.tech&#x2F;doc&#x2F;starting.html" rel="nofollow noreferrer">http:&#x2F;&#x2F;www.lmdb.tech&#x2F;doc&#x2F;starting.html</a><p>Ya gotta create an environment with <i>mdb_env_create</i>. So okay, that is ready to use, right? Constructor has been called, we have an object, right? Nope! You have to <i>open</i> it now, with <i>mdb_env_open</i>.<p>But what the above page doesn&#x27;t tell you is that <i>mdb_env_create</i> has flags. Oooh yeah.  MDB_FIXEDMAP, MDB_NOSUBDIR,
MDB_RDONLY, MDB_WRITEMAP, MDB_NOMETASYNC, MDB_NOSYNC, MDB_NOTLS, MDB_NOLOCK, MDB_NORDAHEAD, MDB_NOMEMINIT, ...<p>What are all these for? Should you be using any of them? Are the defaults good?<p>So, once we have an env with the right flags, we can <i>mdb_txn_begin</i>. This takes flags again. Luckily, only MDB_RDONLY applies. Probably ....<p>So we are ready to transact now, right? Nope. &quot;Once a transaction has been created, a database can be opened within it using <i>mdb_dbi_open</i>().&quot; [Which has seven flags!]<p>But wait, the documentation hastens to add: &quot;[a]lso, <i>mdb_env_set_maxdbs()</i> must be called after <i>mdb_env_create()</i> and before <i>mdb_env_open()</i> to set the maximum number of named databases you want to support.&quot;<p>Finally, &quot;[w]ithin a transaction, <i>mdb_get()</i> and <i>mdb_put()</i> can store single key&#x2F;value pairs if that is all you need to do (but see Cursors below if you want to do more).&quot;<p>Ah cursors. Here, <i>mdb_cursor_create</i> doesn&#x27;t have flags, phew! But there is an integer op code. <i>mdb_cursor_get</i> is basically the ioctl of database access. 
MDB_FIRST,  
MDB_FIRST_DUP,  
MDB_GET_BOTH, 
MDB_GET_BOTH_RANGE,  
MDB_GET_CURRENT,  
MDB_GET_MULTIPLE,  
MDB_LAST,  
MDB_LAST_DUP,  
MDB_NEXT, 
MDB_NEXT_DUP,
MDB_NEXT_MULTIPLE,  
MDB_NEXT_NODUP,  
MDB_PREV,  
MDB_PREV_DUP,  
MDB_PREV_NODUP,  
MDB_SET,  
MDB_SET_KEY,  
MDB_SET_RANGE.</div><br/><div id="36952311" class="c"><input type="checkbox" id="c-36952311" checked=""/><div class="controls bullet"><span class="by">malkia</span><span>|</span><a href="#36951922">parent</a><span>|</span><a href="#36953061">next</a><span>|</span><label class="collapse" for="c-36952311">[-]</label><label class="expand" for="c-36952311">[5 more]</label></div><br/><div class="children"><div class="content">I disagree, lmdb is exactly what you need to run exactly where you want. No more, no less.</div><br/><div id="36952374" class="c"><input type="checkbox" id="c-36952374" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#36951922">root</a><span>|</span><a href="#36952311">parent</a><span>|</span><a href="#36953061">next</a><span>|</span><label class="collapse" for="c-36952374">[-]</label><label class="expand" for="c-36952374">[4 more]</label></div><br/><div class="children"><div class="content">Every flag you don&#x27;t use is more than what you need or want and could be a compile-time configuration option to remove the associated code which implements the flag.<p>Functions represented as integer codes that go through a common dispatch function similar to ioctl lead to compiled code from which the linker cannot remove unused functions.<p>If instead of a MDB_GET_BOTH_RANGE opcode to mdb_cursor_get there was a mdb_cursor_get_both_range function, then if you don&#x27;t use that function, it could be removed out of the executable. (If it&#x27;s put into its own object file, and the database library is statically linked.)</div><br/><div id="36952563" class="c"><input type="checkbox" id="c-36952563" checked=""/><div class="controls bullet"><span class="by">malkia</span><span>|</span><a href="#36951922">root</a><span>|</span><a href="#36952374">parent</a><span>|</span><a href="#36953061">next</a><span>|</span><label class="collapse" for="c-36952563">[-]</label><label class="expand" for="c-36952563">[3 more]</label></div><br/><div class="children"><div class="content">Oh, please let&#x27;s not this go into another &quot;compile time&quot; flag, because I&#x27;ve seen enough where this goes. Unless you are doing strictly embedded, or whatever clearance software, you don&#x27;t need this &quot;compile time&quot; thing.<p>(I&#x27;m speaking from experience, having and still having to deal with tons of #ifdef code - gamedev, great for shipping to a console, awful for the rest of the code - game tools).</div><br/><div id="36952890" class="c"><input type="checkbox" id="c-36952890" checked=""/><div class="controls bullet"><span class="by">kazinator</span><span>|</span><a href="#36951922">root</a><span>|</span><a href="#36952563">parent</a><span>|</span><a href="#36952762">next</a><span>|</span><label class="collapse" for="c-36952890">[-]</label><label class="expand" for="c-36952890">[1 more]</label></div><br/><div class="children"><div class="content">You can have it both ways!<p><pre><code>  #ifdef FOO_BUILD_TIME_FLAGS
  #define foo_enabled(CTX, FLAG) ((FOO_BUILD_TIME_FLAGS &amp; (FLAG)) != 0)
  #else
  #define foo_enabled(CTX, FLAG) (((CTX)-&gt;flags &amp; (FLAG)) != 0)
  #endif
</code></pre>
If we specify FOO_BUILD_TIME_FLAGS symbol which expands to a bitwise OR or various flags (or maybe just zero!) then the flag checks in the code all become constant expressions, subject to dead code elimination.<p>If we don&#x27;t specify that, then there is a flags field that is checked at run-time.<p>I&#x27;d rather have most of the flags go away. Pick a behavior and hard-coded. Those who want it some other way can UTSL: use the source, Luke.<p>If you have 8 flags, that&#x27;s 256 combinations to test for interactions.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36953061" class="c"><input type="checkbox" id="c-36953061" checked=""/><div class="controls bullet"><span class="by">ComodoHacker</span><span>|</span><a href="#36951922">prev</a><span>|</span><a href="#36952502">next</a><span>|</span><label class="collapse" for="c-36953061">[-]</label><label class="expand" for="c-36953061">[1 more]</label></div><br/><div class="children"><div class="content">&gt; If you simply want to receive a list of the context switches, even if only for your process, it must be running with full administrator privileges<p>That&#x27;s actually a reasonable security requirement, greatly narrowing attack surface. Note that ETW API was designed before CPU timing side channels like Spectre were a thing.</div><br/></div></div><div id="36952502" class="c"><input type="checkbox" id="c-36952502" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#36953061">prev</a><span>|</span><a href="#36952480">next</a><span>|</span><label class="collapse" for="c-36952502">[-]</label><label class="expand" for="c-36952502">[1 more]</label></div><br/><div class="children"><div class="content">Related:<p><i>The Worst API Ever Made (2014)</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=23496194">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=23496194</a> - June 2020 (9 comments)<p><i>Event Tracing for Windows: The Worst API Ever Made (2014)</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=17273000">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=17273000</a> - June 2018 (1 comment)<p><i>The Worst API Ever Made?</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=8146124">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=8146124</a> - Aug 2014 (80 comments)</div><br/></div></div><div id="36952480" class="c"><input type="checkbox" id="c-36952480" checked=""/><div class="controls bullet"><span class="by">rootw0rm</span><span>|</span><a href="#36952502">prev</a><span>|</span><a href="#36952437">next</a><span>|</span><label class="collapse" for="c-36952480">[-]</label><label class="expand" for="c-36952480">[1 more]</label></div><br/><div class="children"><div class="content">Came here expecting Windows, found Windows.  I think I nominate WMI though</div><br/></div></div><div id="36952437" class="c"><input type="checkbox" id="c-36952437" checked=""/><div class="controls bullet"><span class="by">wredue</span><span>|</span><a href="#36952480">prev</a><span>|</span><a href="#36953346">next</a><span>|</span><label class="collapse" for="c-36952437">[-]</label><label class="expand" for="c-36952437">[1 more]</label></div><br/><div class="children"><div class="content">I had to build and edit spreadsheets with the OpenXML SDK.<p>I have absolutely zero clue what the hell microsoft was thinking with this. Most of the use cases don’t give two rats shits about the different “parts”, but the api forces you to manually create them anyway. Why? Presumably so you know the parts exist?<p>Never mind that some, but not all (of course) formatting parts of the api require undocumented magic values in magic slots.<p>I don’t know if it’s as bad as this event tracing, but I do know that OpenXML is by far the worst api I’ve ever personally been abused by.</div><br/></div></div><div id="36953346" class="c"><input type="checkbox" id="c-36953346" checked=""/><div class="controls bullet"><span class="by">sharts</span><span>|</span><a href="#36952437">prev</a><span>|</span><a href="#36952305">next</a><span>|</span><label class="collapse" for="c-36953346">[-]</label><label class="expand" for="c-36953346">[1 more]</label></div><br/><div class="children"><div class="content">That just shows that the vast amount of developers are morons that have an inability to empathize.<p>Doubly so at larger companies.</div><br/></div></div><div id="36952305" class="c"><input type="checkbox" id="c-36952305" checked=""/><div class="controls bullet"><span class="by">malkia</span><span>|</span><a href="#36953346">prev</a><span>|</span><a href="#36951974">next</a><span>|</span><label class="collapse" for="c-36952305">[-]</label><label class="expand" for="c-36952305">[2 more]</label></div><br/><div class="children"><div class="content">OMG, Just use <a href="https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;krabsetw">https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;krabsetw</a> and be done with it...</div><br/><div id="36952598" class="c"><input type="checkbox" id="c-36952598" checked=""/><div class="controls bullet"><span class="by">db48x</span><span>|</span><a href="#36952305">parent</a><span>|</span><a href="#36951974">next</a><span>|</span><label class="collapse" for="c-36952598">[-]</label><label class="expand" for="c-36952598">[1 more]</label></div><br/><div class="children"><div class="content">That package dates from 2016, and this article was written in 2014. In those ancient days, you had no choice except to use the ETW api directly.<p>Worse, the existence of a nice wrapper that smooths out the API doesn’t actually make the API itself any better. The existence of the wrapper is itself rather damning.</div><br/></div></div></div></div><div id="36951974" class="c"><input type="checkbox" id="c-36951974" checked=""/><div class="controls bullet"><span class="by">bitwize</span><span>|</span><a href="#36952305">prev</a><span>|</span><a href="#36952853">next</a><span>|</span><label class="collapse" for="c-36951974">[-]</label><label class="expand" for="c-36951974">[4 more]</label></div><br/><div class="children"><div class="content">It&#x27;s really on-brand for Microsoft Windows APIs. They&#x27;re all about making you fill out a giant tax form of a struct and passing the OS a callback. It&#x27;s kind of a house style that Microsoft adopted back in the Windows 3.x or before days and it stuck.<p>My favorite is the Dir() function in Visual Basic which is used for directory walking. Only it&#x27;s non-reentrant, so you can&#x27;t walk subdirectories with it! Near as I can tell it&#x27;s traceable back to DIR$ in GW-BASIC, which in turn was an exposure of DOS&#x27;s broken, non-reentrant GetDirectoryEntry and NextDirectoryEntry system calls! DOS will just never die!</div><br/><div id="36952997" class="c"><input type="checkbox" id="c-36952997" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#36951974">parent</a><span>|</span><a href="#36953552">next</a><span>|</span><label class="collapse" for="c-36952997">[-]</label><label class="expand" for="c-36952997">[2 more]</label></div><br/><div class="children"><div class="content">Which is why they can keep the OS ABI compatible, while at the same time evolving that struct.<p>By having a size field, the OS can know for which version of the struct the application was compiled for, and what fields it expects to have in that struct.</div><br/><div id="36953516" class="c"><input type="checkbox" id="c-36953516" checked=""/><div class="controls bullet"><span class="by">formerly_proven</span><span>|</span><a href="#36951974">root</a><span>|</span><a href="#36952997">parent</a><span>|</span><a href="#36953552">next</a><span>|</span><label class="collapse" for="c-36953516">[-]</label><label class="expand" for="c-36953516">[1 more]</label></div><br/><div class="children"><div class="content">I don’t think that’s a common complaint in itself. Sure, new people wonder why that sizeof line is needed, but once you learn about ABI compatibility that makes perfect sense.<p>It’s about the other parts.</div><br/></div></div></div></div><div id="36953552" class="c"><input type="checkbox" id="c-36953552" checked=""/><div class="controls bullet"><span class="by">_glass</span><span>|</span><a href="#36951974">parent</a><span>|</span><a href="#36952997">prev</a><span>|</span><a href="#36952853">next</a><span>|</span><label class="collapse" for="c-36953552">[-]</label><label class="expand" for="c-36953552">[1 more]</label></div><br/><div class="children"><div class="content">People here complaining about Microsoft. I fully expected SAP. I think every API is reflecting the organization it was developed in. Everything is based on top of something older, bureaucratically refined.</div><br/></div></div></div></div><div id="36952853" class="c"><input type="checkbox" id="c-36952853" checked=""/><div class="controls bullet"><span class="by">gordian-not</span><span>|</span><a href="#36951974">prev</a><span>|</span><a href="#36952852">next</a><span>|</span><label class="collapse" for="c-36952853">[-]</label><label class="expand" for="c-36952853">[1 more]</label></div><br/><div class="children"><div class="content">this is the lecture about api design he referred to
<a href="https:&#x2F;&#x2F;m.youtube.com&#x2F;watch?v=ZQ5_u8Lgvyk">https:&#x2F;&#x2F;m.youtube.com&#x2F;watch?v=ZQ5_u8Lgvyk</a><p>if anyone else was looking</div><br/></div></div><div id="36952852" class="c"><input type="checkbox" id="c-36952852" checked=""/><div class="controls bullet"><span class="by">aledalgrande</span><span>|</span><a href="#36952853">prev</a><span>|</span><a href="#36952831">next</a><span>|</span><label class="collapse" for="c-36952852">[-]</label><label class="expand" for="c-36952852">[1 more]</label></div><br/><div class="children"><div class="content">&gt; CSS, for example, can probably claim half the spots on the top 10 for any year in which there’s a new version.<p>Yes. But also, try dealing with any Meta API. Godspeed</div><br/></div></div><div id="36952831" class="c"><input type="checkbox" id="c-36952831" checked=""/><div class="controls bullet"><span class="by">RantyDave</span><span>|</span><a href="#36952852">prev</a><span>|</span><a href="#36952087">next</a><span>|</span><label class="collapse" for="c-36952831">[-]</label><label class="expand" for="c-36952831">[1 more]</label></div><br/><div class="children"><div class="content">Original QuickTime. We&#x27;re talking PTSD, here.</div><br/></div></div><div id="36953422" class="c"><input type="checkbox" id="c-36953422" checked=""/><div class="controls bullet"><span class="by">unnouinceput</span><span>|</span><a href="#36952087">prev</a><span>|</span><a href="#36952960">next</a><span>|</span><label class="collapse" for="c-36953422">[-]</label><label class="expand" for="c-36953422">[1 more]</label></div><br/><div class="children"><div class="content">Quote: &quot;Variety is the spice of life, I am told. Microsoft wants your life to be spicy.&quot;<p>I&#x27;m stealing this, this is gold.</div><br/></div></div><div id="36952960" class="c"><input type="checkbox" id="c-36952960" checked=""/><div class="controls bullet"><span class="by">Sparkyte</span><span>|</span><a href="#36953422">prev</a><span>|</span><label class="collapse" for="c-36952960">[-]</label><label class="expand" for="c-36952960">[1 more]</label></div><br/><div class="children"><div class="content">Challenge accepted.</div><br/></div></div></div></div></div></div></div></body></html>