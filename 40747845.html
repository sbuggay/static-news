<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1719046861062" as="style"/><link rel="stylesheet" href="styles.css?v=1719046861062"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/Eliah-Lakhin/lady-deirdre">Show HN: Lady Deirdre 2 – Rust Framework for Compilers and LSP Servers</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>Eliah_Lakhin</span> | <span>36 comments</span></div><br/><div><div id="40753083" class="c"><input type="checkbox" id="c-40753083" checked=""/><div class="controls bullet"><span class="by">gsuuon</span><span>|</span><a href="#40756300">next</a><span>|</span><label class="collapse" for="c-40753083">[-]</label><label class="expand" for="c-40753083">[2 more]</label></div><br/><div class="children"><div class="content">This is cool, I think an integrated compiler and LSP is a great standard for new languages. I&#x27;d go one further though and say that syntax highlighting should also be part of that language core. This way you have a single source of truth wrt to that language: how it should look, what it means and how it runs.<p>Tree-sitter is widely supported (both in editors and on web) for syntax highlighting as well as making semantic nodes available for external tools to interact with. Is there any chance you&#x27;d add a tree-sitter integration to this project? Or conversely, build out a compatible API that can be used with editors&#x2F;tools that use tree-sitter&#x27;s library?<p>The licensing is a bit confusing - for example, what happens with open-source projects that use this that are then used in commercial projects?</div><br/><div id="40753717" class="c"><input type="checkbox" id="c-40753717" checked=""/><div class="controls bullet"><span class="by">Eliah_Lakhin</span><span>|</span><a href="#40753083">parent</a><span>|</span><a href="#40756300">next</a><span>|</span><label class="collapse" for="c-40753717">[-]</label><label class="expand" for="c-40753717">[1 more]</label></div><br/><div class="children"><div class="content">&gt; build out a compatible API that can be used with editors&#x2F;tools that use tree-sitter&#x27;s library?<p>That&#x27;s an interesting idea. Tree-Sitter and Lady Deirdre are quite different in their approaches to parsing. Tree-Sitter is a GLR parser, while Lady Deirdre is a recursive-descent parser. In the Lady Deirdre API, there are customizable traits that let you define new types of files with parsers (&quot;documents&quot; in terms of Lady Deirdre). Perhaps it would be possible to create an adapter, but I would implement it as a separate crate.<p>&gt; what happens with open-source projects that use this that are then used in commercial projects?<p>Good question. The idea is that if you link to Lady Deirdre in the Cargo.toml dependencies, it is up to the commercial project authors. They will compile the actual executable intended for selling by downloading both your crate and my crate. However, I&#x27;m not a lawyer, and this is not legal advice. Just my thoughts.</div><br/></div></div></div></div><div id="40756300" class="c"><input type="checkbox" id="c-40756300" checked=""/><div class="controls bullet"><span class="by">winter_blue</span><span>|</span><a href="#40753083">prev</a><span>|</span><a href="#40751011">next</a><span>|</span><label class="collapse" for="c-40756300">[-]</label><label class="expand" for="c-40756300">[1 more]</label></div><br/><div class="children"><div class="content">This is awesome. Thank you!</div><br/></div></div><div id="40751011" class="c"><input type="checkbox" id="c-40751011" checked=""/><div class="controls bullet"><span class="by">armchairhacker</span><span>|</span><a href="#40756300">prev</a><span>|</span><a href="#40750634">next</a><span>|</span><label class="collapse" for="c-40751011">[-]</label><label class="expand" for="c-40751011">[10 more]</label></div><br/><div class="children"><div class="content">First, I really like language frameworks like this. I think it could become very useful and popular.<p>That being said, I really doubt anyone will buy a commercial license. People don&#x27;t sell compilers and IDEs, and the ones who do are large corporations who make everything themselves. Look at state of language tooling today: nearly every compiler is open-source, every language server is free, every IDE is free except JetBrains (a well-known company with a large reputation) and Sublime Text (being heavily replaced by VS Code), and anything not open-source has an active open-source alternative. Nobody&#x27;s going to buy a license from you to sell their compiler, because nobody&#x27;s planning to sell their compiler.<p>For this reason I&#x27;d recommend changing the license. I don&#x27;t think it&#x27;s overly-restrictive or dishonest, I think it&#x27;s fair to expect being paid if someone makes &gt;$200,000 off your work. But nonetheless it hurts adoption, a lot of people will see &quot;proprietary&quot; and not even read the license text. You&#x27;re more likely to make money distributing it as MIT &#x2F; Apache, letting it get popular, and setting up donations&#x2F;sponsorships to fund development. But honestly, if you&#x27;re looking to make money this isn&#x27;t the space to do so: you could be hired by someone to work on PL, or you could sell something like a game, but you&#x27;re not going to sell your own PL.</div><br/><div id="40751355" class="c"><input type="checkbox" id="c-40751355" checked=""/><div class="controls bullet"><span class="by">Eliah_Lakhin</span><span>|</span><a href="#40751011">parent</a><span>|</span><a href="#40752018">next</a><span>|</span><label class="collapse" for="c-40751355">[-]</label><label class="expand" for="c-40751355">[4 more]</label></div><br/><div class="children"><div class="content">Thank you for your feedback!<p>I agree with your point about the licensing. I would also add that tools for the development of compiler front-ends are quite a niche market. So, honestly speaking, I don&#x27;t plan to earn much from my project regardless of the license terms. This work is part of a higher-level in-progress toolset, which is closer to the end users. I have dedicated it as a separate project primarily for public preview, with some restrictions on distribution and use, as I haven&#x27;t decided on the overall toolset distribution model yet. But it is possible that I will change the licensing terms of Lady Deirdre in the future to something less restrictive (maybe even MIT) to make it more popular, this is just not my current goal. I apologize for any inconvenience my current licensing terms may cause.</div><br/><div id="40751747" class="c"><input type="checkbox" id="c-40751747" checked=""/><div class="controls bullet"><span class="by">zackbrown</span><span>|</span><a href="#40751011">root</a><span>|</span><a href="#40751355">parent</a><span>|</span><a href="#40751629">next</a><span>|</span><label class="collapse" for="c-40751747">[-]</label><label class="expand" for="c-40751747">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I apologize for any inconvenience my current licensing terms may cause.<p>Friendly advice from a stranger, worth what it costs: I believe the greatest inconvenience of a commercial license will be to _you_, as opposed to end-users.<p>The market is so saturated with open source, developers expect it, and commercial licenses cause huge usage friction and doubt.<p>The &quot;dual license&quot; died as a viable business model around the time Meta (née Facebook) and Microsoft starting investing billions into free-as-in-beer OSS, 10-15 years ago.<p>Today, this model will only sabotage usage.  People using your OSS is good.  Even if your goal isn&#x27;t to become popular, usage &amp; feedback are learning, and while it&#x27;s fine for popularity not to be a goal, I would encourage you not to proactively target the opposite of popularity.<p>If you have some other IP (the other tech you&#x27;re describing) that can remain proprietary or wrapped behind a service, then people using other pieces of your stack for free is a _really good thing._  At least, they&#x27;re aware of your brand and have started to trust it.  At best, they&#x27;re ready to use your commercial offering out of the gate.</div><br/></div></div><div id="40751629" class="c"><input type="checkbox" id="c-40751629" checked=""/><div class="controls bullet"><span class="by">Onavo</span><span>|</span><a href="#40751011">root</a><span>|</span><a href="#40751355">parent</a><span>|</span><a href="#40751747">prev</a><span>|</span><a href="#40752895">next</a><span>|</span><label class="collapse" for="c-40751629">[-]</label><label class="expand" for="c-40751629">[1 more]</label></div><br/><div class="children"><div class="content">You could however offer a cloud based static analysis API for security companies, which could be a viable source of revenue to fund the development.</div><br/></div></div><div id="40752895" class="c"><input type="checkbox" id="c-40752895" checked=""/><div class="controls bullet"><span class="by">zamalek</span><span>|</span><a href="#40751011">root</a><span>|</span><a href="#40751355">parent</a><span>|</span><a href="#40751629">prev</a><span>|</span><a href="#40752018">next</a><span>|</span><label class="collapse" for="c-40752895">[-]</label><label class="expand" for="c-40752895">[1 more]</label></div><br/><div class="children"><div class="content">IANAL&#x2F;IANYL. Make it dual-licensed, AGPL with MIT by request. Indicate that you are presently declining MIT license requests. The chances of your agreement being adhered to are near zero, regardless of the legality. On the other hand, any mention of GPL will send lawyers running for the hills - AGPL more-so (and legally so, it makes your code basically useless to a corp). The MIT carveout is merely there so that contributors don&#x27;t throw a fit if you choose a more permissive license down the line.</div><br/></div></div></div></div><div id="40752018" class="c"><input type="checkbox" id="c-40752018" checked=""/><div class="controls bullet"><span class="by">giancarlostoro</span><span>|</span><a href="#40751011">parent</a><span>|</span><a href="#40751355">prev</a><span>|</span><a href="#40755677">next</a><span>|</span><label class="collapse" for="c-40752018">[-]</label><label class="expand" for="c-40752018">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s 5 thousand after you&#x27;ve made 200 thousand though? I think that&#x27;s the only restriction? Unless he updated it before I got to look.</div><br/><div id="40753042" class="c"><input type="checkbox" id="c-40753042" checked=""/><div class="controls bullet"><span class="by">Eliah_Lakhin</span><span>|</span><a href="#40751011">root</a><span>|</span><a href="#40752018">parent</a><span>|</span><a href="#40755677">next</a><span>|</span><label class="collapse" for="c-40753042">[-]</label><label class="expand" for="c-40753042">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s 5 thousand after you&#x27;ve made 200 thousand though?<p>That&#x27;s correct. The license agreement requires purchasing a commercial license per product if it reaches a certain revenue threshold. I believe this price should be feasible for a business, and this restriction is not unfair for regular programmers either. To clarify, the license needs to be renewed annually to continue receiving new versions from me. Additionally, I reserve the right to change the price in the future. However, license renewal is not a strict obligation. You can continue using the previous versions if you buy the license at least once.<p>The idea is to replace the donation model widespread in typical OSS projects with a formal obligation to purchase a license. I believe this approach more accurately expresses what the authors really want in exchange for their labor.</div><br/><div id="40754656" class="c"><input type="checkbox" id="c-40754656" checked=""/><div class="controls bullet"><span class="by">Vegenoid</span><span>|</span><a href="#40751011">root</a><span>|</span><a href="#40753042">parent</a><span>|</span><a href="#40755677">next</a><span>|</span><label class="collapse" for="c-40754656">[-]</label><label class="expand" for="c-40754656">[1 more]</label></div><br/><div class="children"><div class="content">I think your approach is good. There are several ways to make money by independently making software:<p>1. Charge money for the software<p>2. Charge money to help people implement&#x2F;use the software<p>3. Leverage the experience and credibility gained to get a company to hire you or sell consulting services<p>4. Hope that people give you money for the software out of the goodness of their heart<p>Opting for an MIT license pretty much ensures that the software will only make money for you indirectly via option 3, and maybe you&#x27;ll get a trickle via option 4. There are numerous examples of people making popular OSS that become frustrated with companies that are using their software to make money, and they aren&#x27;t getting anything for it. They have to work for other people for money despite having made software that generates lots of value. If you want to ensure that if your software creates substantial value, you get some of it, you need a license like yours.<p>I think there is a strong argument that if you want to get paid for your software, you simply shouldn&#x27;t make it any flavor of source-available. A company may actually be more willing to buy software that is closed source than open source, because the closed-source software is simply <i>perceived</i> as being more valuable. Of course, as an engineer, I love that the source code is available.</div><br/></div></div></div></div></div></div><div id="40755677" class="c"><input type="checkbox" id="c-40755677" checked=""/><div class="controls bullet"><span class="by">prmph</span><span>|</span><a href="#40751011">parent</a><span>|</span><a href="#40752018">prev</a><span>|</span><a href="#40751138">next</a><span>|</span><label class="collapse" for="c-40755677">[-]</label><label class="expand" for="c-40755677">[1 more]</label></div><br/><div class="children"><div class="content">Yeah the readme claims you can use this in an open source project. This is weird. An open source project that bundles this software (as a language implementation necessarily must) will _not_ remain open source. The only way a related work remains open source is if it depends on this project as a _peer_ dependency.<p>So as it is, I seriously doubt that anyone wanting a quicker way to implement a language will use this; why would I want to hamper adoption of my language by hobbling it with such a license?</div><br/></div></div></div></div><div id="40750634" class="c"><input type="checkbox" id="c-40750634" checked=""/><div class="controls bullet"><span class="by">solarpunk</span><span>|</span><a href="#40751011">prev</a><span>|</span><a href="#40754327">next</a><span>|</span><label class="collapse" for="c-40750634">[-]</label><label class="expand" for="c-40750634">[1 more]</label></div><br/><div class="children"><div class="content">I like the Alpha Centauri reference here lol.</div><br/></div></div><div id="40754327" class="c"><input type="checkbox" id="c-40754327" checked=""/><div class="controls bullet"><span class="by">ilrwbwrkhv</span><span>|</span><a href="#40750634">prev</a><span>|</span><a href="#40750681">next</a><span>|</span><label class="collapse" for="c-40754327">[-]</label><label class="expand" for="c-40754327">[1 more]</label></div><br/><div class="children"><div class="content">The good thing about the Rust ecosystem is that because it is hard, it keeps the Js script kiddies out of it, which means most of the popular packages and software is really high quality and well thought out.</div><br/></div></div><div id="40750681" class="c"><input type="checkbox" id="c-40750681" checked=""/><div class="controls bullet"><span class="by">mdaniel</span><span>|</span><a href="#40754327">prev</a><span>|</span><a href="#40751071">next</a><span>|</span><label class="collapse" for="c-40750681">[-]</label><label class="expand" for="c-40750681">[3 more]</label></div><br/><div class="children"><div class="content">The way the headline was written it seemed like this was the second <i>iteration</i> of Lady and not just a 2.0 release announcement<p>It would have also gone a long way if you had mentioned the licensing, which I am always interested in: <a href="https:&#x2F;&#x2F;github.com&#x2F;Eliah-Lakhin&#x2F;lady-deirdre#copyright">https:&#x2F;&#x2F;github.com&#x2F;Eliah-Lakhin&#x2F;lady-deirdre#copyright</a><p>As for a question: why the seemingly needless location of everything down in a &quot;work&quot; folder? Is there something else that you envision one day living at the top-level which you just planned for by putting everything someone would care about one further click away?</div><br/><div id="40750939" class="c"><input type="checkbox" id="c-40750939" checked=""/><div class="controls bullet"><span class="by">Eliah_Lakhin</span><span>|</span><a href="#40750681">parent</a><span>|</span><a href="#40750969">next</a><span>|</span><label class="collapse" for="c-40750939">[-]</label><label class="expand" for="c-40750939">[1 more]</label></div><br/><div class="children"><div class="content">You are right, this is indeed the second iteration of the project. Since the first iteration (released about a year ago), many things have changed and been reworked. The most notable change is the introduction of the semantic-analysis framework. Lady Deirdre 1 was merely an incremental parser library.<p>&gt; why the seemingly needless location of everything down in a &quot;work&quot; folder?<p>It&#x27;s just easier for me to organize the filesystem this way on my local machine. Everything that is unrelated to the development is outside of the work directory. Also, the license agreement refers to the &quot;work&quot;. Perhaps it would be clearer for users if the work directory is clearly dedicated.<p>&gt; Is there something else that you envision one day living at the top-level which you just planned for by putting everything someone would care about one further click away?<p>Everything that I planned to publish that is related to Lady Deirdre is already in the repository. I use this project for my other programming language project that I plan to release soon, but it will be in a separate GitHub repo. Actually, Lady Deirdre initially was separated from the language project codebase as I thought it may be useful for other programming language authors.</div><br/></div></div></div></div><div id="40751071" class="c"><input type="checkbox" id="c-40751071" checked=""/><div class="controls bullet"><span class="by">weinzierl</span><span>|</span><a href="#40750681">prev</a><span>|</span><a href="#40752715">next</a><span>|</span><label class="collapse" for="c-40751071">[-]</label><label class="expand" for="c-40751071">[4 more]</label></div><br/><div class="children"><div class="content"><i>&quot;replacement for preexisting projects with similar goals, such as Tree-Sitter, Rowan, or Salsa.&quot;</i><p>To be a true replacement, there is at least one crucial feature missing: A LICENSE file that starts with <i>&quot;The MIT License (MIT)&quot;</i>.<p>Nothing against &quot;source available&quot; but thinking to have a chance to stand in for more permissively licensed projects is very much unrealistic.</div><br/><div id="40751412" class="c"><input type="checkbox" id="c-40751412" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#40751071">parent</a><span>|</span><a href="#40751129">next</a><span>|</span><label class="collapse" for="c-40751412">[-]</label><label class="expand" for="c-40751412">[2 more]</label></div><br/><div class="children"><div class="content">It’s amusing to me that we as a community both complain that OSS maintainers aren’t paid and then expect someone who’s making the source available to pick OSS. Let people try alternate funding models and honestly as a hacker community we should be a bit more supportive of the work required to bootstrap something.</div><br/><div id="40754702" class="c"><input type="checkbox" id="c-40754702" checked=""/><div class="controls bullet"><span class="by">vendiddy</span><span>|</span><a href="#40751071">root</a><span>|</span><a href="#40751412">parent</a><span>|</span><a href="#40751129">next</a><span>|</span><label class="collapse" for="c-40754702">[-]</label><label class="expand" for="c-40754702">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I would like to see more ideas like this.<p>I really hope there&#x27;s a model out there for OSS at least where folks can get paid.<p>I always wondered what if engineers had a $100&#x2F;month budget to donate to OSS founders. It wouldn&#x27;t cost an employer much and would be a good way to give back.</div><br/></div></div></div></div></div></div><div id="40752715" class="c"><input type="checkbox" id="c-40752715" checked=""/><div class="controls bullet"><span class="by">mtndew4brkfst</span><span>|</span><a href="#40751071">prev</a><span>|</span><a href="#40750711">next</a><span>|</span><label class="collapse" for="c-40752715">[-]</label><label class="expand" for="c-40752715">[3 more]</label></div><br/><div class="children"><div class="content">Thank you to the commenters who highlighted the licensing. I would ordinarily be <i>very</i> interested in this premise but I don&#x27;t want to risk unconsciously adapting ideas from what I read that could put me in tension with the terms or the author, and I can&#x27;t use it directly.</div><br/><div id="40756538" class="c"><input type="checkbox" id="c-40756538" checked=""/><div class="controls bullet"><span class="by">williamcotton</span><span>|</span><a href="#40752715">parent</a><span>|</span><a href="#40754173">next</a><span>|</span><label class="collapse" for="c-40756538">[-]</label><label class="expand" for="c-40756538">[1 more]</label></div><br/><div class="children"><div class="content">Are you worried about copyright infringement?</div><br/></div></div></div></div></div></div></div></div></div></body></html>