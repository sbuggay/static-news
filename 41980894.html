<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1730365268680" as="style"/><link rel="stylesheet" href="styles.css?v=1730365268680"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.brendangregg.com/blog//2024-10-29/ai-flame-graphs.html">AI Flame Graphs</a> <span class="domain">(<a href="https://www.brendangregg.com">www.brendangregg.com</a>)</span></div><div class="subtext"><span>JNRowe</span> | <span>69 comments</span></div><br/><div><div id="41994469" class="c"><input type="checkbox" id="c-41994469" checked=""/><div class="controls bullet"><span class="by">wcunning</span><span>|</span><a href="#41993999">next</a><span>|</span><label class="collapse" for="c-41994469">[-]</label><label class="expand" for="c-41994469">[5 more]</label></div><br/><div class="children"><div class="content">I actually looked at this in detail about a year ago for some automated driving compute work at my previous job, and I found that the detailed info you&#x27;d want from Nvidia was just 100% unavailable. There&#x27;s pretty good proxies in some of the data you can get out of Nvidia tools, and there&#x27;s some extra info you can glean from some of the function call stack in the open source Nvidia driver shim layer (because the actual main components are still binary blob, even with the &quot;open source&quot; driver), but over all you still can&#x27;t get much useful info out.<p>Now that Brendan works for Intel, he can get a lot of this info from the much more open source Intel GPU driver, but that&#x27;s only so useful since everyone is either Nvidia or AMD still. The more hopeful sign is that a lot of the major customers of Nvidia are going to start demanding this sort of access and there&#x27;s a real chance that AMD&#x27;s more accessible driver starts documenting what to actually look at, which will create the market competition to fill this space. In the meantime, take a look at the flamegraph capabilities in PyTorch and similar frameworks, up an abstraction level and eek what performance you can.</div><br/><div id="42000587" class="c"><input type="checkbox" id="c-42000587" checked=""/><div class="controls bullet"><span class="by">ryao</span><span>|</span><a href="#41994469">parent</a><span>|</span><a href="#42001865">next</a><span>|</span><label class="collapse" for="c-42000587">[-]</label><label class="expand" for="c-42000587">[3 more]</label></div><br/><div class="children"><div class="content">I just sent the link to a driver developer at Nvidia. If he shares the link with others at Nvidia, they should become aware of the idea tomorrow. That said, I have no idea if he will do that, but at least I tried.</div><br/><div id="42000922" class="c"><input type="checkbox" id="c-42000922" checked=""/><div class="controls bullet"><span class="by">sleepybrett</span><span>|</span><a href="#41994469">root</a><span>|</span><a href="#42000587">parent</a><span>|</span><a href="#42001865">next</a><span>|</span><label class="collapse" for="c-42000922">[-]</label><label class="expand" for="c-42000922">[2 more]</label></div><br/><div class="children"><div class="content">Are they interested in you optimizing your workloads or just selling you more gpus to help you get to market faster...</div><br/><div id="42004327" class="c"><input type="checkbox" id="c-42004327" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#41994469">root</a><span>|</span><a href="#42000922">parent</a><span>|</span><a href="#42001865">next</a><span>|</span><label class="collapse" for="c-42004327">[-]</label><label class="expand" for="c-42004327">[1 more]</label></div><br/><div class="children"><div class="content">It is in Nvidia&#x27;s interest that their cards have better developer experience and cost less to run than their competitors.</div><br/></div></div></div></div></div></div><div id="42001865" class="c"><input type="checkbox" id="c-42001865" checked=""/><div class="controls bullet"><span class="by">yanniszark</span><span>|</span><a href="#41994469">parent</a><span>|</span><a href="#42000587">prev</a><span>|</span><a href="#41993999">next</a><span>|</span><label class="collapse" for="c-42001865">[-]</label><label class="expand" for="c-42001865">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure, it seems to me like this should be doable in Nvidia as well. This is a paper that uses instruction sampling (called CUPTI) in Nvidia to provide optimization advice:<p><a href="https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;document&#x2F;9370339" rel="nofollow">https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;document&#x2F;9370339</a><p>It seems like the instruction sampler is there, and it also provides the stall reason.</div><br/></div></div></div></div><div id="41993999" class="c"><input type="checkbox" id="c-41993999" checked=""/><div class="controls bullet"><span class="by">zkry</span><span>|</span><a href="#41994469">prev</a><span>|</span><a href="#42004415">next</a><span>|</span><label class="collapse" for="c-41993999">[-]</label><label class="expand" for="c-41993999">[30 more]</label></div><br/><div class="children"><div class="content">&gt; Imagine halving the resource costs of AI and what that could mean for the planet and the industry -- based on extreme estimates such savings could reduce the total US power usage by over 10% by 20301.<p>Why would it be the case that reducing the costs of AI reduces power consumption as opposed to increase AI usage (or another application using electricity)? I would think with cheaper AI their usage would be come more ubiquitous: LLMs in fridges, toasters, smart alarms, etc.</div><br/><div id="41994104" class="c"><input type="checkbox" id="c-41994104" checked=""/><div class="controls bullet"><span class="by">Erethon</span><span>|</span><a href="#41993999">parent</a><span>|</span><a href="#41994108">next</a><span>|</span><label class="collapse" for="c-41994104">[-]</label><label class="expand" for="c-41994104">[19 more]</label></div><br/><div class="children"><div class="content">This is the <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Jevons_paradox" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Jevons_paradox</a> and it&#x27;s what always happens in these cases.</div><br/><div id="41994610" class="c"><input type="checkbox" id="c-41994610" checked=""/><div class="controls bullet"><span class="by">ben_w</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41994104">parent</a><span>|</span><a href="#41994108">next</a><span>|</span><label class="collapse" for="c-41994610">[-]</label><label class="expand" for="c-41994610">[18 more]</label></div><br/><div class="children"><div class="content">It does happen, but not always.<p>For example, food got cheaper and consumption has increased to the extent that obesity is a major problem, but this is much less than you might conclude from the degree to which productivity has increased per farmer.<p>For image generation, the energy needed to create an image is rapidly approaching the energy cost of a human noticing that they&#x27;ve seen an image — once it gets cheap enough (and good enough) to have it replace game rendering engines, we can&#x27;t really spend meaningfully more on it.<p>(Probably. By that point they may be good enough to be trainers for other AI, or we might not need any better AI — impossible to know at this point).<p>For text generation, difficult to tell because e.g. source code and legal code have a lot of text.</div><br/><div id="41998676" class="c"><input type="checkbox" id="c-41998676" checked=""/><div class="controls bullet"><span class="by">_heimdall</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41994610">parent</a><span>|</span><a href="#42000331">next</a><span>|</span><label class="collapse" for="c-41998676">[-]</label><label class="expand" for="c-41998676">[12 more]</label></div><br/><div class="children"><div class="content">Food may be a bit of an outlier, the number of consumers won&#x27;t change quickly in response and each person can only eat so much.<p>When it comes to converting electricity into images and text, there really is no upper bound in sight. People are happy to load the internet up with as much content as they can churn out.</div><br/><div id="42000348" class="c"><input type="checkbox" id="c-42000348" checked=""/><div class="controls bullet"><span class="by">wongarsu</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41998676">parent</a><span>|</span><a href="#41998947">next</a><span>|</span><label class="collapse" for="c-42000348">[-]</label><label class="expand" for="c-42000348">[4 more]</label></div><br/><div class="children"><div class="content">If we assume that text and images are made for human consumption then there is a limit in how much we can consume. In fact I doubt there is much room for our society&#x27;s per-person media consumption to increase. There is obviously room for growth in fewer people seeing the same content, and room for some &quot;waste&quot; (i.e. content nobody ever sees). The upper bound (ignoring waste) would be if everybody only saw and read content that nobody else has ever seen and will ever see. But if we assume society continues to function as it does the real limit will be a lot lower.<p>Now maybe waste is a bigger issue with content than with food. I&#x27;m not sure. Both have some nonzero cost to waste. It might depend on how content is distributed</div><br/><div id="42000698" class="c"><input type="checkbox" id="c-42000698" checked=""/><div class="controls bullet"><span class="by">ben_w</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#42000348">parent</a><span>|</span><a href="#42000613">next</a><span>|</span><label class="collapse" for="c-42000698">[-]</label><label class="expand" for="c-42000698">[1 more]</label></div><br/><div class="children"><div class="content">Mm.<p>I&#x27;d would say that <i>text</i> is capable of being extremely useful even when no human reads it, because of source code, maths proofs, etc.<p>But I&#x27;m curious: 238 wpm * 0.75 words per token * 16 (waking) hours per day * 83 years * $10.00 &#x2F; 1M output tokens (current API cost for 4o without batching) means the current cost of making as many tokens as a human can read in a lifetime is $92,300: <a href="https:&#x2F;&#x2F;www.wolframalpha.com&#x2F;input?i=238+words+per+minute+%2F+0.75+words+per+token+*+16+hours+per+day+*+83+years+*+%2410.00+%2F+1e6+tokens" rel="nofollow">https:&#x2F;&#x2F;www.wolframalpha.com&#x2F;input?i=238+words+per+minute+%2...</a><p>With these numbers, a well-written project with even a billion lines of code would be a rounding error even if only a thousand people used any specific such software and none of that was ever shared with what other people wanted to get done.</div><br/></div></div><div id="42000613" class="c"><input type="checkbox" id="c-42000613" checked=""/><div class="controls bullet"><span class="by">_heimdall</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#42000348">parent</a><span>|</span><a href="#42000698">prev</a><span>|</span><a href="#41998947">next</a><span>|</span><label class="collapse" for="c-42000613">[-]</label><label class="expand" for="c-42000613">[2 more]</label></div><br/><div class="children"><div class="content">Its an interesting question for sure. Anecdotally it seems to me like there&#x27;s a ton of content thrown online that is rarely, if ever, consumed. From bot-generated blog posts to social media posts, surely some of it is never seen or viewed only a few times before it gets buried and never seen again.<p>Market dynamics should push people to stop generating that content if they don&#x27;t enough value to justify the cost. In practice, though, it hasn&#x27;t seemed to happen yet and we must be pass a threshold where there&#x27;s more content created online than we could ever value.<p>It&#x27;d make for an interesting study, but short of having verifiable data I have to assume we&#x27;ll continue increasing the rate at which content is created whether the value is there or not.</div><br/><div id="42002277" class="c"><input type="checkbox" id="c-42002277" checked=""/><div class="controls bullet"><span class="by">UltraSane</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#42000613">parent</a><span>|</span><a href="#41998947">next</a><span>|</span><label class="collapse" for="c-42002277">[-]</label><label class="expand" for="c-42002277">[1 more]</label></div><br/><div class="children"><div class="content">Yandex image search works really well at finding similar images but it also leads you to some very strange parts of the internet that are exactly what you are describing: bot generated pages that almost no one reads.</div><br/></div></div></div></div></div></div><div id="41998947" class="c"><input type="checkbox" id="c-41998947" checked=""/><div class="controls bullet"><span class="by">ben_w</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41998676">parent</a><span>|</span><a href="#42000348">prev</a><span>|</span><a href="#42000331">next</a><span>|</span><label class="collapse" for="c-41998947">[-]</label><label class="expand" for="c-41998947">[7 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t see an end at the level of everyone having it at 60fps (or so) in each eye?</div><br/><div id="41999300" class="c"><input type="checkbox" id="c-41999300" checked=""/><div class="controls bullet"><span class="by">_heimdall</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41998947">parent</a><span>|</span><a href="#42002296">next</a><span>|</span><label class="collapse" for="c-41999300">[-]</label><label class="expand" for="c-41999300">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not quite sure what you mean, 60fps would have something to do with output displays but nothing to do with the content. There&#x27;s no upper bound to how much content people would have LLMs make, whether that content is being consumed on cell phone screens or some kind of in-eye display.</div><br/><div id="42000211" class="c"><input type="checkbox" id="c-42000211" checked=""/><div class="controls bullet"><span class="by">ben_w</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41999300">parent</a><span>|</span><a href="#42002296">next</a><span>|</span><label class="collapse" for="c-42000211">[-]</label><label class="expand" for="c-42000211">[3 more]</label></div><br/><div class="children"><div class="content">If you <i>generate a new image 60 times per second</i>, that&#x27;s reasonably described as &quot;60 fps&quot;, this is how the output of video game engines has been described for at least 25 years*.<p>If everyone&#x27;s doing that all day every day on each eye, that&#x27;s a reasonable guess of an upper bound: you as a human cannot actually consume more even if you make it.<p>GANs can already do that speed, but any given GAN is a specialist AI and not a general model; diffusion models are general, but they&#x27;re slower (best generation speed I&#x27;ve seen is 4-5 frames per second on unknown hardware). LLMs aren&#x27;t really suited to doing images at all, but can control other models (this is what ChatGPT does when &quot;it makes an image&quot; — it calls out to DALL•E).<p>* how long I&#x27;ve been paying attention to that, not a detailed historical analysis</div><br/><div id="42000264" class="c"><input type="checkbox" id="c-42000264" checked=""/><div class="controls bullet"><span class="by">_heimdall</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#42000211">parent</a><span>|</span><a href="#42002296">next</a><span>|</span><label class="collapse" for="c-42000264">[-]</label><label class="expand" for="c-42000264">[2 more]</label></div><br/><div class="children"><div class="content">Sure, I supposed you could calculate <i>a limit</i> by looking at how many human eyes there are, how many frames per second they can see, and max resolution visible. That still isn&#x27;t actually a limit on how many images could be made, only how many could be consumed.<p>That said, if we got to such a massive scale I&#x27;d expect us to hit other limits first (electricity available, best produced, storage space, network transmission, etc.).<p>Or did I totally misunderstand your example here? I may have misread it completely, if so sorry about that!</div><br/><div id="42000417" class="c"><input type="checkbox" id="c-42000417" checked=""/><div class="controls bullet"><span class="by">ben_w</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#42000264">parent</a><span>|</span><a href="#42002296">next</a><span>|</span><label class="collapse" for="c-42000417">[-]</label><label class="expand" for="c-42000417">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Sure, I supposed you could calculate a limit by looking at how many human eyes there are, how many frames per second they can see, and max resolution visible. That still isn&#x27;t actually a limit on how many images could be made, only how many could be consumed.<p>Sure, absolutely. But I can say the same of food, which is why I drew the analogy between them previously.<p>&gt; That said, if we got to such a massive scale I&#x27;d expect us to hit other limits first (electricity available, best produced, storage space, network transmission, etc.).<p>Difficult to guess when the quality isn&#x27;t yet at the right threshold: GANs are already this speed on phone hardware*, so we&#x27;re not bounded on that specific combination with available electrical energy; on the other hand, 2 years ago I was seeing images for about 3 kJ, which is in the region of hundreds of kilowatts for 2 eyes at 60 fps, which is absolutely going to be a problem… if they were limited to that hardware and with that model (though both are moving targets, I&#x27;d be very surprised if the unknown hardware that I&#x27;ve seen doing 4-5 fps was burning 12-15 kW, but it&#x27;s not strictly speaking impossible it really was that power hungry).<p>* Specifically: on an iPhone 11, BlazeStyleGAN model was generating images in 12.14 ms, which is just over 82 fps — <a href="https:&#x2F;&#x2F;research.google&#x2F;blog&#x2F;mediapipe-facestylizer-on-device-real-time-few-shot-face-stylization&#x2F;" rel="nofollow">https:&#x2F;&#x2F;research.google&#x2F;blog&#x2F;mediapipe-facestylizer-on-devic...</a></div><br/></div></div></div></div></div></div></div></div><div id="42002296" class="c"><input type="checkbox" id="c-42002296" checked=""/><div class="controls bullet"><span class="by">UltraSane</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41998947">parent</a><span>|</span><a href="#41999300">prev</a><span>|</span><a href="#42000325">next</a><span>|</span><label class="collapse" for="c-42002296">[-]</label><label class="expand" for="c-42002296">[1 more]</label></div><br/><div class="children"><div class="content">The ultimate end-game for image-gen AI is a closed-loop system where a computer can monitor sexual arousal levels and generate the most arousing porn possible for the subject. This would be VERY addictive. Unless people can just become completely immune to all pornographic stimuli.</div><br/></div></div><div id="42000325" class="c"><input type="checkbox" id="c-42000325" checked=""/><div class="controls bullet"><span class="by">debugnik</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41998947">parent</a><span>|</span><a href="#42002296">prev</a><span>|</span><a href="#42000331">next</a><span>|</span><label class="collapse" for="c-42000325">[-]</label><label class="expand" for="c-42000325">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re assuming people will create content to consume it, and not just to spam various platforms, competing for attention. Most of it might only be ever consumed by crawlers, if at all.</div><br/></div></div></div></div></div></div><div id="42000331" class="c"><input type="checkbox" id="c-42000331" checked=""/><div class="controls bullet"><span class="by">AcerbicZero</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41994610">parent</a><span>|</span><a href="#41998676">prev</a><span>|</span><a href="#42002165">next</a><span>|</span><label class="collapse" for="c-42000331">[-]</label><label class="expand" for="c-42000331">[3 more]</label></div><br/><div class="children"><div class="content">I think you&#x27;re missing the broader analogy here; Cheap LLMs == LLMs everywhere. Cheap food == People everywhere.<p>I&#x27;m no Malthusian, but the paradox holds here pretty well.</div><br/><div id="42000552" class="c"><input type="checkbox" id="c-42000552" checked=""/><div class="controls bullet"><span class="by">ben_w</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#42000331">parent</a><span>|</span><a href="#42002165">next</a><span>|</span><label class="collapse" for="c-42000552">[-]</label><label class="expand" for="c-42000552">[2 more]</label></div><br/><div class="children"><div class="content">The population indeed went up, and at the same time the fertility rate is declining. What Malthus was expecting is that more food would just lead to more people on the knife-edge of famine, and we&#x27;re wildly far from that in most of the world. (What is paradoxical is that the USA is simultaneously very rich, has high obesity, and somehow manages to also have a huge problem with kids going hungry).<p>The very specific point I&#x27;m claiming is that the increased consumption isn&#x27;t always unbounded.</div><br/><div id="42000866" class="c"><input type="checkbox" id="c-42000866" checked=""/><div class="controls bullet"><span class="by">AcerbicZero</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#42000552">parent</a><span>|</span><a href="#42002165">next</a><span>|</span><label class="collapse" for="c-42000866">[-]</label><label class="expand" for="c-42000866">[1 more]</label></div><br/><div class="children"><div class="content">The fertility rate trends are missing the core point here. Your obesity and hunger examples actually reinforce the Jevons paradox - when a resource becomes cheap enough, we find ways to use it even beyond what seems rational. But more importantly, you&#x27;re still not getting the original Malthusian comparison: Malthus wasn&#x27;t predicting that cheaper food would make people eat more (obesity) - he was predicting that cheaper food would lead to more total people. Similarly, cheaper AI won&#x27;t just make individual AIs consume more - it means AI will be deployed everywhere possible. The parallel is about multiplication of instances, not increased individual consumption.</div><br/></div></div></div></div></div></div><div id="42002165" class="c"><input type="checkbox" id="c-42002165" checked=""/><div class="controls bullet"><span class="by">skybrian</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41994610">parent</a><span>|</span><a href="#42000331">prev</a><span>|</span><a href="#41994108">next</a><span>|</span><label class="collapse" for="c-42002165">[-]</label><label class="expand" for="c-42002165">[2 more]</label></div><br/><div class="children"><div class="content">Image generation isn&#x27;t cheap enough until we have sites that work like Google Image search, filling the page with image variations nearly instantly and available for free.</div><br/><div id="42004013" class="c"><input type="checkbox" id="c-42004013" checked=""/><div class="controls bullet"><span class="by">ben_w</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#42002165">parent</a><span>|</span><a href="#41994108">next</a><span>|</span><label class="collapse" for="c-42004013">[-]</label><label class="expand" for="c-42004013">[1 more]</label></div><br/><div class="children"><div class="content">We&#x27;re not a huge distance from that already.<p><a href="https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2408.14837" rel="nofollow">https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2408.14837</a><p>Also TIL this is generated at 20 frames per second, the best I&#x27;ve used myself was &quot;only&quot; 4-5; does anyone know the performance and power consumption of a Google TPU?</div><br/></div></div></div></div></div></div></div></div><div id="41994108" class="c"><input type="checkbox" id="c-41994108" checked=""/><div class="controls bullet"><span class="by">esafak</span><span>|</span><a href="#41993999">parent</a><span>|</span><a href="#41994104">prev</a><span>|</span><a href="#41994841">next</a><span>|</span><label class="collapse" for="c-41994108">[-]</label><label class="expand" for="c-41994108">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s possible to decrease costs faster than usage can rise.</div><br/></div></div><div id="41994841" class="c"><input type="checkbox" id="c-41994841" checked=""/><div class="controls bullet"><span class="by">airstrike</span><span>|</span><a href="#41993999">parent</a><span>|</span><a href="#41994108">prev</a><span>|</span><a href="#41994026">next</a><span>|</span><label class="collapse" for="c-41994841">[-]</label><label class="expand" for="c-41994841">[5 more]</label></div><br/><div class="children"><div class="content">You specifically picked things like toasters and fridges which seem like frivolous if not entirely useless applications of LLMs.<p>But you can be more charitable and imagine more productive uses of AI on the edge that are impossible today. Those uses would presumably create <i>some</i> value, so if by reducing AI energy costs by 90% we get all the AI usage we have today <i>plus</i> those new uses that aren&#x27;t currently viable, it&#x27;s a better bang for buck.</div><br/><div id="41999891" class="c"><input type="checkbox" id="c-41999891" checked=""/><div class="controls bullet"><span class="by">ithkuil</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41994841">parent</a><span>|</span><a href="#41999930">next</a><span>|</span><label class="collapse" for="c-41999891">[-]</label><label class="expand" for="c-41999891">[1 more]</label></div><br/><div class="children"><div class="content">AI will be useful with toasters and fridges but of course that doesn&#x27;t mean it will have to run on the devices itself</div><br/></div></div><div id="41999930" class="c"><input type="checkbox" id="c-41999930" checked=""/><div class="controls bullet"><span class="by">derektank</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41994841">parent</a><span>|</span><a href="#41999891">prev</a><span>|</span><a href="#41994026">next</a><span>|</span><label class="collapse" for="c-41999930">[-]</label><label class="expand" for="c-41999930">[3 more]</label></div><br/><div class="children"><div class="content">I actually think that fridges with image recognition would be a value add depending on the price. Could evaluate whether or not your food has spoiled, queue up a list of items to purchase, etc.</div><br/><div id="42000185" class="c"><input type="checkbox" id="c-42000185" checked=""/><div class="controls bullet"><span class="by">spockz</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41999930">parent</a><span>|</span><a href="#42000403">next</a><span>|</span><label class="collapse" for="c-42000185">[-]</label><label class="expand" for="c-42000185">[1 more]</label></div><br/><div class="children"><div class="content">Maybe for larger kitchen&#x2F;restaurants. But for residential use I think it would only serve to further distance the human from nature with all subsequent drawbacks.</div><br/></div></div><div id="42000403" class="c"><input type="checkbox" id="c-42000403" checked=""/><div class="controls bullet"><span class="by">workflowsauce</span><span>|</span><a href="#41993999">root</a><span>|</span><a href="#41999930">parent</a><span>|</span><a href="#42000185">prev</a><span>|</span><a href="#41994026">next</a><span>|</span><label class="collapse" for="c-42000403">[-]</label><label class="expand" for="c-42000403">[1 more]</label></div><br/><div class="children"><div class="content">Fridge snake that crawls through the fridge and maps out the food</div><br/></div></div></div></div></div></div><div id="41994026" class="c"><input type="checkbox" id="c-41994026" checked=""/><div class="controls bullet"><span class="by">lodovic</span><span>|</span><a href="#41993999">parent</a><span>|</span><a href="#41994841">prev</a><span>|</span><a href="#41995233">next</a><span>|</span><label class="collapse" for="c-41994026">[-]</label><label class="expand" for="c-41994026">[1 more]</label></div><br/><div class="children"><div class="content">I had the same thought - power use will not be halved, usage will double instead.</div><br/></div></div><div id="41995233" class="c"><input type="checkbox" id="c-41995233" checked=""/><div class="controls bullet"><span class="by">theptip</span><span>|</span><a href="#41993999">parent</a><span>|</span><a href="#41994026">prev</a><span>|</span><a href="#42002293">next</a><span>|</span><label class="collapse" for="c-41995233">[-]</label><label class="expand" for="c-41995233">[1 more]</label></div><br/><div class="children"><div class="content">The answer depends on what is rate-limiting growth; while we are supply-constrained on GPUs you can’t just increase AI usage.<p>The next bottleneck will be datacenter power interconnects, but in that scenario as you say you can expect power usage to expand to fill the supply gap if there is a perf win.</div><br/></div></div><div id="42001305" class="c"><input type="checkbox" id="c-42001305" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#41993999">parent</a><span>|</span><a href="#42002293">prev</a><span>|</span><a href="#42004415">next</a><span>|</span><label class="collapse" for="c-42001305">[-]</label><label class="expand" for="c-42001305">[1 more]</label></div><br/><div class="children"><div class="content">That depends on whether AI cost is dominated by power consumption cost [0]. I don’t think it is?<p>[0] For inference, that is. Training is another matter, and energy consumption for hardware manufacturing yet another.</div><br/></div></div></div></div><div id="42004415" class="c"><input type="checkbox" id="c-42004415" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#41993999">prev</a><span>|</span><a href="#41994498">next</a><span>|</span><label class="collapse" for="c-42004415">[-]</label><label class="expand" for="c-42004415">[1 more]</label></div><br/><div class="children"><div class="content">I never really liked flamegraphs much but I am going to put that aside for a bit and try to be as objective as possible.<p>I don&#x27;t find the usecase presented here compelling. Cutting out the &quot;yo we will save you $x billion in compute&quot; costs the tools presented here seem to be…stacktraces for your kernels. Stacktraces that go from your Python code through the driver shim to the kernel and finally onto the GPU. Neat. I don&#x27;t actually know very much about what Intel has in this area so perhaps this is a step forward for them? If so, I will always applaud people figuring out how to piece together symbols and whatnot to make profiling work.<p>However, I am still not very impressed. Sure, there are some workloads where it is nice to know that 70% of your time is spent in some GEMM. But I think the real optimization doesn&#x27;t look like that all. For most &quot;real&quot; workloads, you already know the basics of how your kernels look and execute. Nobody is burning a million dollars an hour on a training run without knowing what each and every one of the important kernels are. Some of them were probably written by hand. Some might be written in higher-level PyTorch&#x2F;Triton&#x2F;JAX&#x2F;whatever. Still others might be built on some general library. But the people who do this are not stupid, and they aren&#x27;t going to be caught unawares that a random kernel has suddenly popped up on their flamegraph. They should already know what is there. And most of these tools have debugging facilities to dump intermediate state in forms that tools understand. Often this is incomplete and buggy, I know. But it&#x27;s there and people <i>do</i> use them.<p>What these people are optimizing are things that flamegraphs do not show. That&#x27;s things like latency in kernel launches, or synchronization overhead with the host. It&#x27;s global memory traffic and warp stalls. Sure, the tools to profile this are immature compared to what the hyperscalers have for CPUs. But they are still present and used heavily: I don&#x27;t buy the argument that knowing that your python code calls a kernel through __cuda12_ioctl_whatever is actually helpful. This seems like a solution searching for a problem, or maybe a basic diagnostic tool at best.</div><br/></div></div><div id="41994498" class="c"><input type="checkbox" id="c-41994498" checked=""/><div class="controls bullet"><span class="by">xnx</span><span>|</span><a href="#42004415">prev</a><span>|</span><a href="#42001155">next</a><span>|</span><label class="collapse" for="c-41994498">[-]</label><label class="expand" for="c-41994498">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Imagine halving the resource costs of AI and what that could mean for the planet and the industry<p>Google has done this:
&quot;In eighteen months, we reduced costs by more than 90% for these queries through hardware, engineering, and technical breakthroughs, while doubling the size of our custom Gemini model.&quot; <a href="https:&#x2F;&#x2F;blog.google&#x2F;inside-google&#x2F;message-ceo&#x2F;alphabet-earnings-q3-2024&#x2F;" rel="nofollow">https:&#x2F;&#x2F;blog.google&#x2F;inside-google&#x2F;message-ceo&#x2F;alphabet-earni...</a></div><br/><div id="41994521" class="c"><input type="checkbox" id="c-41994521" checked=""/><div class="controls bullet"><span class="by">htrp</span><span>|</span><a href="#41994498">parent</a><span>|</span><a href="#42001155">next</a><span>|</span><label class="collapse" for="c-41994521">[-]</label><label class="expand" for="c-41994521">[1 more]</label></div><br/><div class="children"><div class="content">rephrased as &quot;We took compute from everything else.... and gave it to AI&quot;</div><br/></div></div></div></div><div id="42001155" class="c"><input type="checkbox" id="c-42001155" checked=""/><div class="controls bullet"><span class="by">dan-robertson</span><span>|</span><a href="#41994498">prev</a><span>|</span><a href="#41996299">next</a><span>|</span><label class="collapse" for="c-42001155">[-]</label><label class="expand" for="c-42001155">[3 more]</label></div><br/><div class="children"><div class="content">Being able to ‘connect’ call stacks between python, c++, and the gpu&#x2F;accelerator seems useful.<p>I wonder if this pushes a bit much towards flamegraphs specifically. They were an innovation when they were first invented and the alternatives were things like perf report, but now I think they’re more one tool among many. In particular, I think many people who are serious about performance often reach for things like pprof for statistical profiles and various traceing and trace-visualisation tools for more fine-grained information (things like bpftrace, systemtap, or custom instrumentation on the recording side and perfetto or the many game-development oriented tools on the visualisation (and sometimes instrumentation) side).<p>I was particularly surprised by the statement about intel’s engineers not knowing what to do with the flamegraphs. I read it as them already having tools that are better suited to their particular needs, because I think the alternative has to be that they are incompetent or, at best, not thinking about performance at all.<p>Lots of performance measuring on Linux is done through the perf subsystem and Intel have made a lot of contributions to make it good. Similarly, Intel have added hardware features that are useful for measuring and improving performance – an area where their chips have features that, at least on chips I’ve used, easily beat AMD’s offerings. This kind of plumbing is important and useful, and I guess the flamegraphs demonstrate that the plumbing was done.</div><br/><div id="42001546" class="c"><input type="checkbox" id="c-42001546" checked=""/><div class="controls bullet"><span class="by">stefan_</span><span>|</span><a href="#42001155">parent</a><span>|</span><a href="#42001735">next</a><span>|</span><label class="collapse" for="c-42001546">[-]</label><label class="expand" for="c-42001546">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a bit weird, very much a &quot;software optimization&quot; approach. But looking at the flame graph, you couldn&#x27;t tell a model running in FP32 from one in INT8, taking 3x the time and energy.</div><br/></div></div></div></div><div id="41996299" class="c"><input type="checkbox" id="c-41996299" checked=""/><div class="controls bullet"><span class="by">kevg123</span><span>|</span><a href="#42001155">prev</a><span>|</span><a href="#41994512">next</a><span>|</span><label class="collapse" for="c-41996299">[-]</label><label class="expand" for="c-41996299">[1 more]</label></div><br/><div class="children"><div class="content">&gt; based on Intel EU stall profiling for hardware profiling<p>It wasn&#x27;t clearly defined but I think EU stall means Execution Unit stall which is when a GPU &quot;becomes stalled when all of its threads are waiting for results from fixed function units&quot; <a href="https:&#x2F;&#x2F;www.intel.com&#x2F;content&#x2F;www&#x2F;us&#x2F;en&#x2F;docs&#x2F;gpa&#x2F;user-guide&#x2F;2022-4&#x2F;gpu-metrics.html" rel="nofollow">https:&#x2F;&#x2F;www.intel.com&#x2F;content&#x2F;www&#x2F;us&#x2F;en&#x2F;docs&#x2F;gpa&#x2F;user-guide&#x2F;...</a></div><br/></div></div><div id="41994512" class="c"><input type="checkbox" id="c-41994512" checked=""/><div class="controls bullet"><span class="by">davidclark</span><span>|</span><a href="#41996299">prev</a><span>|</span><a href="#41998434">next</a><span>|</span><label class="collapse" for="c-41994512">[-]</label><label class="expand" for="c-41994512">[1 more]</label></div><br/><div class="children"><div class="content">This is so cool! Flame graphs are super helpful for analyzing bottlenecks. The eflambe library for elixir has let us catch some tricky issues.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;Stratus3D&#x2F;eflambe&#x2F;blob&#x2F;master&#x2F;README.adoc">https:&#x2F;&#x2F;github.com&#x2F;Stratus3D&#x2F;eflambe&#x2F;blob&#x2F;master&#x2F;README.adoc</a></div><br/></div></div><div id="41998434" class="c"><input type="checkbox" id="c-41998434" checked=""/><div class="controls bullet"><span class="by">_heimdall</span><span>|</span><a href="#41994512">prev</a><span>|</span><a href="#41997696">next</a><span>|</span><label class="collapse" for="c-41998434">[-]</label><label class="expand" for="c-41998434">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Imagine halving the resource costs of AI and what that could mean for the planet and the industry -- based on extreme estimates such savings could reduce the total US power usage by over 10% by 2030<p>The way this is phrased threw me off. It sounded to me like the author was comparing the power use of a more efficient LLM industry to US usage <i>without</i> LLMs and expecting it to be 10% lower.<p>Looking into the source linked with the claim, it doesn&#x27;t even hold up when compared against how much power LLMs use today. The linked article raises an estimate that LLM power use could increase 15-23 times between 2023 and 2027, and that by 2030 LLMs could account for 20-25% of our total energy use.<p>Working that match backwards, the benefit the author is hailing as a success is that we would <i>only</i> increase energy use by say 7.5-11.5 times by 2027 and that in 2030 LLMs would <i>only</i> be 10% of the total energy use. That&#x27;s not a win in my book, and doesn&#x27;t account for the Jevan&#x27;s Paradox problem where we would almost certainly just use all that efficiency gain to further grow LLM use compared to the 2030 prediction without the efficiency gains.</div><br/></div></div><div id="41997696" class="c"><input type="checkbox" id="c-41997696" checked=""/><div class="controls bullet"><span class="by">simpledood</span><span>|</span><a href="#41998434">prev</a><span>|</span><a href="#41993520">next</a><span>|</span><label class="collapse" for="c-41997696">[-]</label><label class="expand" for="c-41997696">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve tried using flame graphs, but in my view nothing beats the simplicity and succinctness of gprof output for quickly analyzing program bottlenecks.<p><a href="https:&#x2F;&#x2F;ftp.gnu.org&#x2F;old-gnu&#x2F;Manuals&#x2F;gprof-2.9.1&#x2F;html_chapter&#x2F;gprof_5.html#SEC12" rel="nofollow">https:&#x2F;&#x2F;ftp.gnu.org&#x2F;old-gnu&#x2F;Manuals&#x2F;gprof-2.9.1&#x2F;html_chapter...</a><p>For each function you know how much CPU is spent in the function itself, as opposed to child calls. All in a simple text file without the need for constantly scrolling, panning, and enlarging to get the information you need.</div><br/></div></div><div id="41993520" class="c"><input type="checkbox" id="c-41993520" checked=""/><div class="controls bullet"><span class="by">adrianco</span><span>|</span><a href="#41997696">prev</a><span>|</span><a href="#41993820">next</a><span>|</span><label class="collapse" for="c-41993520">[-]</label><label class="expand" for="c-41993520">[1 more]</label></div><br/><div class="children"><div class="content">This is super interesting and useful. I tried reading the code to understand how GPU workloads worked last year and it was easy to get lost in all the options and pluggable layers.</div><br/></div></div><div id="41993820" class="c"><input type="checkbox" id="c-41993820" checked=""/><div class="controls bullet"><span class="by">have_faith</span><span>|</span><a href="#41993520">prev</a><span>|</span><a href="#42001875">next</a><span>|</span><label class="collapse" for="c-41993820">[-]</label><label class="expand" for="c-41993820">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Imagine halving the resource costs of AI ... based on extreme estimates such savings could reduce the total US power usage by over 10% by 2030<p>Is that implying that by 2030 they expect at least 20% of all US energy to be used by AI?</div><br/><div id="41993924" class="c"><input type="checkbox" id="c-41993924" checked=""/><div class="controls bullet"><span class="by">benreesman</span><span>|</span><a href="#41993820">parent</a><span>|</span><a href="#41993996">next</a><span>|</span><label class="collapse" for="c-41993924">[-]</label><label class="expand" for="c-41993924">[1 more]</label></div><br/><div class="children"><div class="content">Data centers are big consumers of energy. Most modern data centers will have a mix of vector and scalar compute because ML&#x2F;AI is a bunch of stuff, most of which was ubiquitous a decade ago.<p>In the limit case where Prineville just gets 100k BH100 slammed into it? The absolute best you’re going to do is to have Brendan Gregg looking at the cost. He’s the acknowledged world expert on profiling and performance tuning on modern gear in the general case. There are experts in a vertical (SG14, you want to watch Carl Cook).<p>I’ve been around the block and my go-to on performance trouble is “What’s the Gregg book say here…” it your first stop.</div><br/></div></div><div id="41993996" class="c"><input type="checkbox" id="c-41993996" checked=""/><div class="controls bullet"><span class="by">Writingdorky</span><span>|</span><a href="#41993820">parent</a><span>|</span><a href="#41993924">prev</a><span>|</span><a href="#41993917">next</a><span>|</span><label class="collapse" for="c-41993996">[-]</label><label class="expand" for="c-41993996">[1 more]</label></div><br/><div class="children"><div class="content">The data source is linked and is based on the ARM Datacenter Energy prediction.<p>But i don&#x27;t think its too far fetched.<p>The compute needed for digital twins, simulating a whole army of robots than uploading it to the robots, who sitll need a ton of compute, is not unrealistic.<p>Cars like Tesla have A TON of compute build in too.<p>And we have seen what suddenly happens to an LLM when you switch the amount of parameters. We were in a investment hell were it was not clear in what to invest (crypto, blockchain and NFT bubble bursted) but AI opened up the sky again.<p>If we continue like this, it will not be far fetched that everyone has their own private agent running and paying for it (private &#x2F; isolated for data security) + your work agent.</div><br/></div></div><div id="41993917" class="c"><input type="checkbox" id="c-41993917" checked=""/><div class="controls bullet"><span class="by">klysm</span><span>|</span><a href="#41993820">parent</a><span>|</span><a href="#41993996">prev</a><span>|</span><a href="#42001875">next</a><span>|</span><label class="collapse" for="c-41993917">[-]</label><label class="expand" for="c-41993917">[2 more]</label></div><br/><div class="children"><div class="content">Seems pretty absurd</div><br/><div id="41993938" class="c"><input type="checkbox" id="c-41993938" checked=""/><div class="controls bullet"><span class="by">benreesman</span><span>|</span><a href="#41993820">root</a><span>|</span><a href="#41993917">parent</a><span>|</span><a href="#42001875">next</a><span>|</span><label class="collapse" for="c-41993938">[-]</label><label class="expand" for="c-41993938">[1 more]</label></div><br/><div class="children"><div class="content">Given who said it, I chose to read for understanding.</div><br/></div></div></div></div></div></div><div id="42001875" class="c"><input type="checkbox" id="c-42001875" checked=""/><div class="controls bullet"><span class="by">yanniszark</span><span>|</span><a href="#41993820">prev</a><span>|</span><a href="#41998494">next</a><span>|</span><label class="collapse" for="c-42001875">[-]</label><label class="expand" for="c-42001875">[1 more]</label></div><br/><div class="children"><div class="content">Trying to find out more about this EU stall thing Brendan talks about. Is it instruction sampling that gives you the reason for the stall? Sounds like a pretty advanced hw functionality.</div><br/></div></div><div id="41998494" class="c"><input type="checkbox" id="c-41998494" checked=""/><div class="controls bullet"><span class="by">Veserv</span><span>|</span><a href="#42001875">prev</a><span>|</span><a href="#42002281">next</a><span>|</span><label class="collapse" for="c-41998494">[-]</label><label class="expand" for="c-41998494">[1 more]</label></div><br/><div class="children"><div class="content">I do not really understand the mentioned difficulties with instruction profiling.<p>Are they saying it is hard to sample the stacks across the boundary? Are they saying it is hard to do so coherently because the accelerator engine is actually asynchronous so you need to do some sort of cross-boundary correlation?<p>However, they then talk about file systems and &#x2F;proc representations which have nothing to do with the actual sampling process; only posing problems for the display of human-readable information. Many naive profiling, tracing, and logging implementations conflate these actions to their detriment; are they being conflated here or is it just a generic statement of the scope of problems?</div><br/></div></div><div id="42002281" class="c"><input type="checkbox" id="c-42002281" checked=""/><div class="controls bullet"><span class="by">r3tr0</span><span>|</span><a href="#41998494">prev</a><span>|</span><a href="#41995901">next</a><span>|</span><label class="collapse" for="c-42002281">[-]</label><label class="expand" for="c-42002281">[1 more]</label></div><br/><div class="children"><div class="content">i am actually working on a platform that makes this sort of stuff easy. We use BPF under the hood and let you remotely deploy them across a cluster and visualize them.<p>Check us out: <a href="https:&#x2F;&#x2F;yeet.cx" rel="nofollow">https:&#x2F;&#x2F;yeet.cx</a><p>Our current package index is a bit thin:<p><a href="https:&#x2F;&#x2F;yeet.cx&#x2F;discover" rel="nofollow">https:&#x2F;&#x2F;yeet.cx&#x2F;discover</a><p>We have a ton in the pipeline and are going to add more in the coming weeks and release an SDK.</div><br/></div></div><div id="41995901" class="c"><input type="checkbox" id="c-41995901" checked=""/><div class="controls bullet"><span class="by">shidoshi</span><span>|</span><a href="#42002281">prev</a><span>|</span><a href="#41998644">next</a><span>|</span><label class="collapse" for="c-41995901">[-]</label><label class="expand" for="c-41995901">[1 more]</label></div><br/><div class="children"><div class="content">I can imagine Nelson and other Anthropic engineers jumping for joy at this release.</div><br/></div></div><div id="41998644" class="c"><input type="checkbox" id="c-41998644" checked=""/><div class="controls bullet"><span class="by">treefarmer</span><span>|</span><a href="#41995901">prev</a><span>|</span><a href="#42000660">next</a><span>|</span><label class="collapse" for="c-41998644">[-]</label><label class="expand" for="c-41998644">[2 more]</label></div><br/><div class="children"><div class="content">Would love it if it was available and open source so people could use it in their own projects (or on their own hardware), instead of only being available on Intel&#x27;s AI Cloud. But cool idea and execution nevertheless!</div><br/><div id="42001803" class="c"><input type="checkbox" id="c-42001803" checked=""/><div class="controls bullet"><span class="by">flamingspear</span><span>|</span><a href="#41998644">parent</a><span>|</span><a href="#42000660">next</a><span>|</span><label class="collapse" for="c-42001803">[-]</label><label class="expand" for="c-42001803">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, would love to built-in support for this in PyTorch or TF</div><br/></div></div></div></div><div id="42000660" class="c"><input type="checkbox" id="c-42000660" checked=""/><div class="controls bullet"><span class="by">impish9208</span><span>|</span><a href="#41998644">prev</a><span>|</span><a href="#42000485">next</a><span>|</span><label class="collapse" for="c-42000660">[-]</label><label class="expand" for="c-42000660">[1 more]</label></div><br/><div class="children"><div class="content">Dupe: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41983876">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41983876</a></div><br/></div></div><div id="42000485" class="c"><input type="checkbox" id="c-42000485" checked=""/><div class="controls bullet"><span class="by">ryao</span><span>|</span><a href="#42000660">prev</a><span>|</span><a href="#41995521">next</a><span>|</span><label class="collapse" for="c-42000485">[-]</label><label class="expand" for="c-42000485">[1 more]</label></div><br/><div class="children"><div class="content">Wow. Nice.</div><br/></div></div><div id="41995521" class="c"><input type="checkbox" id="c-41995521" checked=""/><div class="controls bullet"><span class="by">FeepingCreature</span><span>|</span><a href="#42000485">prev</a><span>|</span><a href="#41994572">next</a><span>|</span><label class="collapse" for="c-41995521">[-]</label><label class="expand" for="c-41995521">[5 more]</label></div><br/><div class="children"><div class="content">Unrelated, but on the topic of reducing power consumption, I want to once again note that both AMD and NVidia max out a CPU core per blocking API call, preventing your CPU from entering low power states even when doing nothing but waiting on the GPU, for no reason other than to minimally rice benchmarks.<p>Basically, these APIs are set up to busyspin while waiting for a bus write from the GPU by default (!), rather than use interrupts like every other hardware device on your system.<p>You turn it off with<p>NVidia: `cudaSetDeviceFlags(cudaDeviceScheduleBlockingSync)`<p>AMD: `hipSetDeviceFlags(hipDeviceScheduleBlockingSync)`<p>On Pytorch<p>NVidia: `import ctypes \ ctypes.CDLL(&#x27;libcudart.so&#x27;).cudaSetDeviceFlags(4)`<p>AMD: `import ctypes \ ctypes.CDLL(&#x27;libamdhip64.so&#x27;).hipSetDeviceFlags(4)`<p>This saves me 20W whenever my GPU is busy in ComfyUI.<p>Every single device using the default settings for CUDA&#x2F;ROCM burns a CPU core per worker thread for no reason.</div><br/><div id="41996598" class="c"><input type="checkbox" id="c-41996598" checked=""/><div class="controls bullet"><span class="by">bob1029</span><span>|</span><a href="#41995521">parent</a><span>|</span><a href="#41996783">next</a><span>|</span><label class="collapse" for="c-41996598">[-]</label><label class="expand" for="c-41996598">[3 more]</label></div><br/><div class="children"><div class="content">&gt; for no reason other than to minimally rice benchmarks.<p>For AI&#x2F;ML applications, perhaps no one will notice.<p>For gaming, yielding threads of execution to the OS can periodically incur minimum scheduler delays of 10-20ms. Many gamers will notice an ~extra frame of latency being randomly injected.</div><br/><div id="41996767" class="c"><input type="checkbox" id="c-41996767" checked=""/><div class="controls bullet"><span class="by">FeepingCreature</span><span>|</span><a href="#41995521">root</a><span>|</span><a href="#41996598">parent</a><span>|</span><a href="#41996783">next</a><span>|</span><label class="collapse" for="c-41996767">[-]</label><label class="expand" for="c-41996767">[2 more]</label></div><br/><div class="children"><div class="content">Sure, but CUDA <i>is</i> an AI&#x2F;ML API, and anyways you&#x27;re not doing blocking calls when writing a graphics engine regardless. (Well, you better not.) And anyways, these calls will <i>already</i> busyspin for a few millis before yielding to the OS - it&#x27;s just that you have to explicitly opt in to the latter part. So these are the sorts of calls that you&#x27;d use for high-throughput work, but they behave like calls designed for very-low-latency work. There is no point in shaving a few milliseconds off a low-seconds call other than to make NVidia look a few percent better in benchmarks. The tradeoffs are all wrong, and because nobody knows about it, megawatts of energy are being wasted.</div><br/><div id="42004343" class="c"><input type="checkbox" id="c-42004343" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#41995521">root</a><span>|</span><a href="#41996767">parent</a><span>|</span><a href="#41996783">next</a><span>|</span><label class="collapse" for="c-42004343">[-]</label><label class="expand" for="c-42004343">[1 more]</label></div><br/><div class="children"><div class="content">This is important if you are launching many kernels and orchestrating their execution from the CPU.</div><br/></div></div></div></div></div></div></div></div><div id="41994572" class="c"><input type="checkbox" id="c-41994572" checked=""/><div class="controls bullet"><span class="by">nonamepcbrand1</span><span>|</span><a href="#41995521">prev</a><span>|</span><a href="#41994669">next</a><span>|</span><label class="collapse" for="c-41994572">[-]</label><label class="expand" for="c-41994572">[3 more]</label></div><br/><div class="children"><div class="content">totally looks like self promotion article lol</div><br/><div id="41996378" class="c"><input type="checkbox" id="c-41996378" checked=""/><div class="controls bullet"><span class="by">tantalor</span><span>|</span><a href="#41994572">parent</a><span>|</span><a href="#41994669">next</a><span>|</span><label class="collapse" for="c-41996378">[-]</label><label class="expand" for="c-41996378">[2 more]</label></div><br/><div class="children"><div class="content">This guy invented flame graphs (among other things) so... I&#x27;m gonna allow it.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Brendan_Gregg" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Brendan_Gregg</a></div><br/></div></div></div></div><div id="41994669" class="c"><input type="checkbox" id="c-41994669" checked=""/><div class="controls bullet"><span class="by">Lerc</span><span>|</span><a href="#41994572">prev</a><span>|</span><label class="collapse" for="c-41994669">[-]</label><label class="expand" for="c-41994669">[1 more]</label></div><br/><div class="children"><div class="content">There has been a bit of hyperbole of late about energy saving AI.<p>There isn&#x27;t a magic bullet here, it&#x27;s just people improving a relatively new technology.  Even though the underlying neural nets are fairly old now, the newness of transformers and the newness of the massive scale means there&#x27;s quite a lot of low hanging fruit still.  Some of the best minds are on this problem and are reaching for the hardest to get fruit.<p>A lot of these advancements work well together improving efficiency a few percent here, a few percent there.<p>This is a good thing, but people are doing crazy comparisons by extrapolating older tech into future use cases.<p>This is like estimating the impact of cars by correctly guessing that there are 1.4 Billion cars in the world and multiplying that by the impact of a single model-T Ford.</div><br/></div></div></div></div></div></div></div></body></html>