<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1725526862753" as="style"/><link rel="stylesheet" href="styles.css?v=1725526862753"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/SoptikHa2/desed">Desed: Demystify and debug your sed scripts</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>asicsp</span> | <span>19 comments</span></div><br/><div><div id="41454770" class="c"><input type="checkbox" id="c-41454770" checked=""/><div class="controls bullet"><span class="by">qwertox</span><span>|</span><a href="#41454034">next</a><span>|</span><label class="collapse" for="c-41454770">[-]</label><label class="expand" for="c-41454770">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Why sed??<p>&gt; Sed is the perfect programming language, especially for graph problems. It&#x27;s plain and simple and doesn&#x27;t clutter your screen with useless identifiers like if, for, while, or int. Furthermore since it doesn&#x27;t have things like numbers, it&#x27;s very simple to use.<p>&quot;useless identifiers like if, for, while, or int&quot;? Useless identifiers?</div><br/></div></div><div id="41454034" class="c"><input type="checkbox" id="c-41454034" checked=""/><div class="controls bullet"><span class="by">leetrout</span><span>|</span><a href="#41454770">prev</a><span>|</span><a href="#41453906">next</a><span>|</span><label class="collapse" for="c-41454034">[-]</label><label class="expand" for="c-41454034">[8 more]</label></div><br/><div class="children"><div class="content">Related, `sd` is a great utility worth the install which makes simple sed-type operations more obvious &#x2F; easier (for some value of easy).<p><a href="https:&#x2F;&#x2F;github.com&#x2F;chmln&#x2F;sd">https:&#x2F;&#x2F;github.com&#x2F;chmln&#x2F;sd</a></div><br/><div id="41454321" class="c"><input type="checkbox" id="c-41454321" checked=""/><div class="controls bullet"><span class="by">oguz-ismail</span><span>|</span><a href="#41454034">parent</a><span>|</span><a href="#41453906">next</a><span>|</span><label class="collapse" for="c-41454321">[-]</label><label class="expand" for="c-41454321">[7 more]</label></div><br/><div class="children"><div class="content">It uses a different syntax though. Hardly worth anyone&#x27;s time</div><br/><div id="41454792" class="c"><input type="checkbox" id="c-41454792" checked=""/><div class="controls bullet"><span class="by">keybored</span><span>|</span><a href="#41454034">root</a><span>|</span><a href="#41454321">parent</a><span>|</span><a href="#41454563">next</a><span>|</span><label class="collapse" for="c-41454792">[-]</label><label class="expand" for="c-41454792">[1 more]</label></div><br/><div class="children"><div class="content">Middle-brow dismissal. Hardly worth anyone’s consideration.<p>Just go straight to the point that this isn’t available on a proprietary Unix that had its EOL fifteen years ago and that five people still use.</div><br/></div></div><div id="41454563" class="c"><input type="checkbox" id="c-41454563" checked=""/><div class="controls bullet"><span class="by">Etheryte</span><span>|</span><a href="#41454034">root</a><span>|</span><a href="#41454321">parent</a><span>|</span><a href="#41454792">prev</a><span>|</span><a href="#41454575">next</a><span>|</span><label class="collapse" for="c-41454563">[-]</label><label class="expand" for="c-41454563">[4 more]</label></div><br/><div class="children"><div class="content">Not sure if I agree. Sed is widely known and much of the value comes from that, just being around for a long while, but I wouldn&#x27;t really say that the syntax is all that straightforward. As a thought experiment, try explaining how to use sed to a fresh graduate who&#x27;s never seen it. Not saying sd is better or anything, but rather that just because the syntax is different doesn&#x27;t make it bad.</div><br/><div id="41454709" class="c"><input type="checkbox" id="c-41454709" checked=""/><div class="controls bullet"><span class="by">wolletd</span><span>|</span><a href="#41454034">root</a><span>|</span><a href="#41454563">parent</a><span>|</span><a href="#41454700">next</a><span>|</span><label class="collapse" for="c-41454709">[-]</label><label class="expand" for="c-41454709">[1 more]</label></div><br/><div class="children"><div class="content">&gt; try explaining how to use sed to a fresh graduate who&#x27;s never seen it<p>Well, for starters, you just `s&#x2F;&lt;regex&gt;&#x2F;&lt;replacement&gt;&#x2F;` and try to use that in your everyday work. Just forget about the syntax. It&#x27;s a search-and-replace tool.<p>That&#x27;s the only way I used sed for years. I&#x27;ve learned more since then, but it&#x27;s still the command I use the most. And that&#x27;s also what `sd` focuses on.<p>Also, if you want to replace newlines, just use `tr`, to hook onto the examples of sd. It may seem annoying to use a different tool, but there are two major advantages:
1. you&#x27;re learning about the existence, capabilities and limitations of more tools
2. both `sed` and `tr` are probably available in your next shitty embedded busybox-driven device, while `sd` probably is not<p>As you said, the value comes from being around for a long time and, probably more importantly, still being present on nearly any Unix-like system.</div><br/></div></div><div id="41454700" class="c"><input type="checkbox" id="c-41454700" checked=""/><div class="controls bullet"><span class="by">oguz-ismail</span><span>|</span><a href="#41454034">root</a><span>|</span><a href="#41454563">parent</a><span>|</span><a href="#41454709">prev</a><span>|</span><a href="#41454575">next</a><span>|</span><label class="collapse" for="c-41454700">[-]</label><label class="expand" for="c-41454700">[2 more]</label></div><br/><div class="children"><div class="content">sed is widely known because it&#x27;s available everywhere and is used in every shell script. I just don&#x27;t see the point in learning a new utility that does the same thing as sed but with different syntax. In this case the new utility doesn&#x27;t even honor my language settings and just errors out if I enter a non-English letter. It&#x27;s ridiculous</div><br/><div id="41454719" class="c"><input type="checkbox" id="c-41454719" checked=""/><div class="controls bullet"><span class="by">wolletd</span><span>|</span><a href="#41454034">root</a><span>|</span><a href="#41454700">parent</a><span>|</span><a href="#41454575">next</a><span>|</span><label class="collapse" for="c-41454719">[-]</label><label class="expand" for="c-41454719">[1 more]</label></div><br/><div class="children"><div class="content">How? Shouldn&#x27;t it just all be UTF-8? Or do you use a different encoding on your system?</div><br/></div></div></div></div></div></div><div id="41454575" class="c"><input type="checkbox" id="c-41454575" checked=""/><div class="controls bullet"><span class="by">GolDDranks</span><span>|</span><a href="#41454034">root</a><span>|</span><a href="#41454321">parent</a><span>|</span><a href="#41454563">prev</a><span>|</span><a href="#41453906">next</a><span>|</span><label class="collapse" for="c-41454575">[-]</label><label class="expand" for="c-41454575">[1 more]</label></div><br/><div class="children"><div class="content">sd has very much proven to be worth of my time. It&#x27;s both faster and way easier to use.</div><br/></div></div></div></div></div></div><div id="41453906" class="c"><input type="checkbox" id="c-41453906" checked=""/><div class="controls bullet"><span class="by">hiAndrewQuinn</span><span>|</span><a href="#41454034">prev</a><span>|</span><a href="#41454212">next</a><span>|</span><label class="collapse" for="c-41453906">[-]</label><label class="expand" for="c-41453906">[8 more]</label></div><br/><div class="children"><div class="content">I feel we&#x27;re witnessing a resurgence of interest in &#x27;nix default programs such as `sed` and `awk` in part because LLMs make it so much easier to get started in them, and because they really do exist <i>everywhere</i> you might look. (The fact they were designed to be performant in bygone decades and are super-performant now as a result is also nice!)<p>There is just something incredibly freeing about knowing you can sit down at a freshly-reinstalled box and do productive work without having to install a single thing on the box itself first.<p>EDIT: <a href="https:&#x2F;&#x2F;hiandrewquinn.github.io&#x2F;til-site&#x2F;posts&#x2F;what-programming-languages-come-out-of-the-box-on-debian-12&#x2F;" rel="nofollow">https:&#x2F;&#x2F;hiandrewquinn.github.io&#x2F;til-site&#x2F;posts&#x2F;what-programm...</a> might be of interest if you want to know what you can work with right out of the box on Debian 12. Other distros might differ.</div><br/><div id="41453959" class="c"><input type="checkbox" id="c-41453959" checked=""/><div class="controls bullet"><span class="by">WizardClickBoy</span><span>|</span><a href="#41453906">parent</a><span>|</span><a href="#41454178">next</a><span>|</span><label class="collapse" for="c-41453959">[-]</label><label class="expand" for="c-41453959">[3 more]</label></div><br/><div class="children"><div class="content">100% agree. I&#x27;m currently preparing several 10s of GBs of HTML in nested directories for static hosting via S3 and was floundering until Gippity recommended find + exec sed to me. I&#x27;m now batch fixing issues (think &#x27;not enough &quot;..&#x2F;&quot; in 60000 relative hrefs in nested directories&#x27;) with a single command rather than writing scripts and feel like a wizard.<p>These tools are things I&#x27;ve used before but always found painful and confusing. Being able to ask Gippity for detailed explanations of what is happening, in particular being able to paste a failing command and have it explain what the problem is, has been a game changer.<p>In general, for those of us who never had a command line wizard colleague or mentor to show what is possible, LLMs are an absolute game changer both in terms of recommending tools and showing how to use them.</div><br/><div id="41454190" class="c"><input type="checkbox" id="c-41454190" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#41453906">root</a><span>|</span><a href="#41453959">parent</a><span>|</span><a href="#41454178">next</a><span>|</span><label class="collapse" for="c-41454190">[-]</label><label class="expand" for="c-41454190">[2 more]</label></div><br/><div class="children"><div class="content">Primeagen detected<p>I find him hard to listen to when he does things like this</div><br/><div id="41454372" class="c"><input type="checkbox" id="c-41454372" checked=""/><div class="controls bullet"><span class="by">WizardClickBoy</span><span>|</span><a href="#41453906">root</a><span>|</span><a href="#41454190">parent</a><span>|</span><a href="#41454178">next</a><span>|</span><label class="collapse" for="c-41454372">[-]</label><label class="expand" for="c-41454372">[1 more]</label></div><br/><div class="children"><div class="content">Primeagen is some kind of Youtuber? I am not familiar and don&#x27;t understand what you are trying to convey here.</div><br/></div></div></div></div></div></div><div id="41454178" class="c"><input type="checkbox" id="c-41454178" checked=""/><div class="controls bullet"><span class="by">godelski</span><span>|</span><a href="#41453906">parent</a><span>|</span><a href="#41453959">prev</a><span>|</span><a href="#41454069">next</a><span>|</span><label class="collapse" for="c-41454178">[-]</label><label class="expand" for="c-41454178">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve gotten into it recently but actually not because LLMs. Actually I find them unhelpful here. The reason I&#x27;ve gotten into it is because I wanted to make a bunch of install scripts for programs I want on fresh boxes. Mostly it&#x27;s been fun. Seeing what I can do with curl, sed, awk, regex, and bash scripting. I&#x27;m often finding that I can do a ton of things in a single line where I would have done a lot more if I wrote it in python or something else. Idk, there&#x27;s just something very fun about this.<p>Though what&#x27;s been a little frustrating is that there&#x27;s anti scraping measures and they break things. But they&#x27;re always trivial to get around, so it&#x27;s just annoying.<p>A big reason LLMs and up failing is that I need my scripts to work on osx and nix machines. So it&#x27;s always suggesting things to me that work on one but not the other. It seems to not want to listen to my constraints and grep is problematic for them in particular. Luckily man pages are great. I think they&#x27;re often over looked.</div><br/><div id="41454261" class="c"><input type="checkbox" id="c-41454261" checked=""/><div class="controls bullet"><span class="by">asicsp</span><span>|</span><a href="#41453906">root</a><span>|</span><a href="#41454178">parent</a><span>|</span><a href="#41454069">next</a><span>|</span><label class="collapse" for="c-41454261">[-]</label><label class="expand" for="c-41454261">[1 more]</label></div><br/><div class="children"><div class="content">If you are able to install specific implementations of the tools, go with GNU tools on all the machines. That way, you&#x27;d get more features and work the same everywhere.<p>If that is not an option, go with Perl. It&#x27;d be a little slower, but you&#x27;ll get consistent results. Plus, Perl has powerful regex, lots of standard libraries, etc.</div><br/></div></div></div></div><div id="41454069" class="c"><input type="checkbox" id="c-41454069" checked=""/><div class="controls bullet"><span class="by">dools</span><span>|</span><a href="#41453906">parent</a><span>|</span><a href="#41454178">prev</a><span>|</span><a href="#41453985">next</a><span>|</span><label class="collapse" for="c-41454069">[-]</label><label class="expand" for="c-41454069">[1 more]</label></div><br/><div class="children"><div class="content">I needed some scripts to run a little “factory” for flashing an operating system onto some IoT devices. Lots of the work was running various shell commands but it is nonetheless something I would have traditionally written in PHP or Python but I thought “what the hell” and did the whole thing in bash with ChatGPT and it was a totally mind blowing experience.<p>Now I use bash for all sorts of stuff. I’ve been working with *nix for 20 years but bash is so arcane and my needs always so immediate that I never did anything other than use it to run commands in sequence with maybe a $1 or a $2 in there</div><br/></div></div></div></div><div id="41454212" class="c"><input type="checkbox" id="c-41454212" checked=""/><div class="controls bullet"><span class="by">aidos</span><span>|</span><a href="#41453906">prev</a><span>|</span><label class="collapse" for="c-41454212">[-]</label><label class="expand" for="c-41454212">[1 more]</label></div><br/><div class="children"><div class="content">sed, awk, grep and friends are just so effective at trawling through text.<p>I dump about 150GB of Postgres logs a day (I know, it&#x27;s over the top but I only keep a few days worth and there have been several occasions where I was saved by being able to pick through them).<p>At that size you even need to give up on grepping, really. I&#x27;ve written a tiny bash script that uses the fact that log lines start with a timestamp and `dd` for immediate extraction. This allows me to quickly binary search for the location I&#x27;m interested in.<p>Then I can `dd` to dump the region of the file I want. After that I have an little awk script that lets me collapse the sql lines (since they break across multiple lines) to make grepping really easy.<p>All in all it&#x27;s a handful of old school script that makes an almost impossible task easy.</div><br/></div></div></div></div></div></div></div></body></html>