<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1724144466050" as="style"/><link rel="stylesheet" href="styles.css?v=1724144466050"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.greptile.com/blog/semantic">Searching a Codebase in English</a> <span class="domain">(<a href="https://www.greptile.com">www.greptile.com</a>)</span></div><div class="subtext"><span>dakshgupta</span> | <span>19 comments</span></div><br/><div><div id="41296098" class="c"><input type="checkbox" id="c-41296098" checked=""/><div class="controls bullet"><span class="by">tonyoconnell</span><span>|</span><a href="#41296612">next</a><span>|</span><label class="collapse" for="c-41296098">[-]</label><label class="expand" for="c-41296098">[3 more]</label></div><br/><div class="children"><div class="content">Summary
&quot;Semantic search on codebases works better if you first translate the code to natural language, before generating embedding vectors.
It also works better if you chunk more “tightly” - on a per-function level rather than a per-file level. This is because noise negatively impacts retrieval quality in a huge way.&quot;<p>This makes a lot of sense. You should also embed information about how the code is related to other functions&#x2F;code and where it is located in the codebase. One approach is to add really wonderful comments to the code so that when humans and machines read it they are brought on a step by step journey of how the code fulfills a goal. I tell the LLM to explain step by step to junior developers and and to inspire seniour engineers with glimpse of the profound beauty of the code and its architecture.</div><br/><div id="41296300" class="c"><input type="checkbox" id="c-41296300" checked=""/><div class="controls bullet"><span class="by">dakshgupta</span><span>|</span><a href="#41296098">parent</a><span>|</span><a href="#41296612">next</a><span>|</span><label class="collapse" for="c-41296300">[-]</label><label class="expand" for="c-41296300">[2 more]</label></div><br/><div class="children"><div class="content">We use tree-sitter right now and experimenting with call graphs currently. Will write about the results when we have data on that.</div><br/><div id="41297792" class="c"><input type="checkbox" id="c-41297792" checked=""/><div class="controls bullet"><span class="by">tonyoconnell</span><span>|</span><a href="#41296098">root</a><span>|</span><a href="#41296300">parent</a><span>|</span><a href="#41296612">next</a><span>|</span><label class="collapse" for="c-41297792">[-]</label><label class="expand" for="c-41297792">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using tree-sitter also. Looking forward to reading about your results with call graphs</div><br/></div></div></div></div></div></div><div id="41296612" class="c"><input type="checkbox" id="c-41296612" checked=""/><div class="controls bullet"><span class="by">oshams</span><span>|</span><a href="#41296098">prev</a><span>|</span><a href="#41296102">next</a><span>|</span><label class="collapse" for="c-41296612">[-]</label><label class="expand" for="c-41296612">[1 more]</label></div><br/><div class="children"><div class="content">Interesting direction. We also have a codebase chat (example here <a href="https:&#x2F;&#x2F;wiki.mutable.ai&#x2F;ollama&#x2F;ollama">https:&#x2F;&#x2F;wiki.mutable.ai&#x2F;ollama&#x2F;ollama</a>) that HN might find appealing. It uses a wiki as a living artifact owned by your team to power the chat, gives us increased context length and reasoning capabilities. We didn&#x27;t really like the results we got with embeddings. Have been pretty thrilled with the results on Q&amp;A, search, and even codegen (more on that soon).</div><br/></div></div><div id="41296102" class="c"><input type="checkbox" id="c-41296102" checked=""/><div class="controls bullet"><span class="by">deisteve</span><span>|</span><a href="#41296612">prev</a><span>|</span><a href="#41261780">next</a><span>|</span><label class="collapse" for="c-41296102">[-]</label><label class="expand" for="c-41296102">[4 more]</label></div><br/><div class="children"><div class="content">is there a free version of greptile</div><br/><div id="41296294" class="c"><input type="checkbox" id="c-41296294" checked=""/><div class="controls bullet"><span class="by">dakshgupta</span><span>|</span><a href="#41296102">parent</a><span>|</span><a href="#41261780">next</a><span>|</span><label class="collapse" for="c-41296294">[-]</label><label class="expand" for="c-41296294">[3 more]</label></div><br/><div class="children"><div class="content">Free for small open source repos + 300 large open source repos.<p>Code MISTRAL100 at checkout for a free month of Pro.</div><br/><div id="41296639" class="c"><input type="checkbox" id="c-41296639" checked=""/><div class="controls bullet"><span class="by">elashri</span><span>|</span><a href="#41296102">root</a><span>|</span><a href="#41296294">parent</a><span>|</span><a href="#41261780">next</a><span>|</span><label class="collapse" for="c-41296639">[-]</label><label class="expand" for="c-41296639">[2 more]</label></div><br/><div class="children"><div class="content">So does this mean that you can use it for all your small open source repos or do you need to apply for each one? The only mention of free offering is in pricing page where you fill a form with a repo link to apply for the free offering.<p>Edit: found the information in docs here [2]<p>[2] <a href="https:&#x2F;&#x2F;docs.greptile.com&#x2F;pricing">https:&#x2F;&#x2F;docs.greptile.com&#x2F;pricing</a></div><br/><div id="41296786" class="c"><input type="checkbox" id="c-41296786" checked=""/><div class="controls bullet"><span class="by">dakshgupta</span><span>|</span><a href="#41296102">root</a><span>|</span><a href="#41296639">parent</a><span>|</span><a href="#41261780">next</a><span>|</span><label class="collapse" for="c-41296786">[-]</label><label class="expand" for="c-41296786">[1 more]</label></div><br/><div class="children"><div class="content">That form is if you want to install the code review bot or other GitHub integrations for free on your repo .<p>If you want to chat with your repo for free you can do that on the website, assuming it’s a small public repo.</div><br/></div></div></div></div></div></div></div></div><div id="41261780" class="c"><input type="checkbox" id="c-41261780" checked=""/><div class="controls bullet"><span class="by">Zambyte</span><span>|</span><a href="#41296102">prev</a><span>|</span><label class="collapse" for="c-41261780">[-]</label><label class="expand" for="c-41261780">[10 more]</label></div><br/><div class="children"><div class="content">The page is unreadable on Firefox Focus</div><br/><div id="41295261" class="c"><input type="checkbox" id="c-41295261" checked=""/><div class="controls bullet"><span class="by">jesse__</span><span>|</span><a href="#41261780">parent</a><span>|</span><a href="#41296401">next</a><span>|</span><label class="collapse" for="c-41295261">[-]</label><label class="expand" for="c-41295261">[7 more]</label></div><br/><div class="children"><div class="content">Also unreadable on Android&#x2F;Chrome.  The whole left side of the page is cropped off</div><br/><div id="41296403" class="c"><input type="checkbox" id="c-41296403" checked=""/><div class="controls bullet"><span class="by">dakshgupta</span><span>|</span><a href="#41261780">root</a><span>|</span><a href="#41295261">parent</a><span>|</span><a href="#41295279">next</a><span>|</span><label class="collapse" for="c-41296403">[-]</label><label class="expand" for="c-41296403">[1 more]</label></div><br/><div class="children"><div class="content">Just fixed, sorry</div><br/></div></div><div id="41295279" class="c"><input type="checkbox" id="c-41295279" checked=""/><div class="controls bullet"><span class="by">bavent</span><span>|</span><a href="#41261780">root</a><span>|</span><a href="#41295261">parent</a><span>|</span><a href="#41296403">prev</a><span>|</span><a href="#41296401">next</a><span>|</span><label class="collapse" for="c-41295279">[-]</label><label class="expand" for="c-41295279">[5 more]</label></div><br/><div class="children"><div class="content">Also unreadable on Firefox on iOS.</div><br/><div id="41296406" class="c"><input type="checkbox" id="c-41296406" checked=""/><div class="controls bullet"><span class="by">dakshgupta</span><span>|</span><a href="#41261780">root</a><span>|</span><a href="#41295279">parent</a><span>|</span><a href="#41296040">next</a><span>|</span><label class="collapse" for="c-41296406">[-]</label><label class="expand" for="c-41296406">[1 more]</label></div><br/><div class="children"><div class="content">Pushed a fix, thanks</div><br/></div></div><div id="41296040" class="c"><input type="checkbox" id="c-41296040" checked=""/><div class="controls bullet"><span class="by">tonyoconnell</span><span>|</span><a href="#41261780">root</a><span>|</span><a href="#41295279">parent</a><span>|</span><a href="#41296406">prev</a><span>|</span><a href="#41296401">next</a><span>|</span><label class="collapse" for="c-41296040">[-]</label><label class="expand" for="c-41296040">[3 more]</label></div><br/><div class="children"><div class="content">Works well in Arc and Chrome in OSX. Arc is a lovely browser BTW.</div><br/><div id="41296186" class="c"><input type="checkbox" id="c-41296186" checked=""/><div class="controls bullet"><span class="by">tanvibhakta</span><span>|</span><a href="#41261780">root</a><span>|</span><a href="#41296040">parent</a><span>|</span><a href="#41296401">next</a><span>|</span><label class="collapse" for="c-41296186">[-]</label><label class="expand" for="c-41296186">[2 more]</label></div><br/><div class="children"><div class="content">Unreadable on Firefox on Android also. I think maybe this site just wasn&#x27;t tested on a small screen - ie where most people get there reading done.</div><br/><div id="41296399" class="c"><input type="checkbox" id="c-41296399" checked=""/><div class="controls bullet"><span class="by">dakshgupta</span><span>|</span><a href="#41261780">root</a><span>|</span><a href="#41296186">parent</a><span>|</span><a href="#41296401">next</a><span>|</span><label class="collapse" for="c-41296399">[-]</label><label class="expand" for="c-41296399">[1 more]</label></div><br/><div class="children"><div class="content">Sorry, fixed</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41296401" class="c"><input type="checkbox" id="c-41296401" checked=""/><div class="controls bullet"><span class="by">dakshgupta</span><span>|</span><a href="#41261780">parent</a><span>|</span><a href="#41295261">prev</a><span>|</span><a href="#41295586">next</a><span>|</span><label class="collapse" for="c-41296401">[-]</label><label class="expand" for="c-41296401">[1 more]</label></div><br/><div class="children"><div class="content">Sorry, just fixed</div><br/></div></div></div></div></div></div></div></div></div></body></html>