<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1709110850068" as="style"/><link rel="stylesheet" href="styles.css?v=1709110850068"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://openjdk.org/jeps/467">JEP 467: Markdown Documentation Comments</a> <span class="domain">(<a href="https://openjdk.org">openjdk.org</a>)</span></div><div class="subtext"><span>mfiguiere</span> | <span>27 comments</span></div><br/><div><div id="39534176" class="c"><input type="checkbox" id="c-39534176" checked=""/><div class="controls bullet"><span class="by">MBCook</span><span>|</span><a href="#39534321">next</a><span>|</span><label class="collapse" for="c-39534176">[-]</label><label class="expand" for="c-39534176">[3 more]</label></div><br/><div class="children"><div class="content">I can’t wait. As someone spending much of their time in Java I much prefer the idea of markdown to HTML for writing Javadoc.<p>HTML may produce nice output when everything is processed, but inline it’s ugly and distracting. This is exactly the problem Gruber designed markdown to fix.<p>Personally I’m not big on &#x2F;&#x2F;&#x2F; as it’s pretty visually heavy. I understand their reasoning for not allowing it in &#x2F;** *&#x2F; blocks. I’d be happy with maybe &#x2F;&#x2F;** *&#x2F; or &#x2F;*** *&#x2F;, but I’m just bike-shedding.<p>Its a great QOL feature idea and I’ll be happy when I can start using it.</div><br/><div id="39534529" class="c"><input type="checkbox" id="c-39534529" checked=""/><div class="controls bullet"><span class="by">tczMUFlmoNk</span><span>|</span><a href="#39534176">parent</a><span>|</span><a href="#39535356">next</a><span>|</span><label class="collapse" for="c-39534529">[-]</label><label class="expand" for="c-39534529">[1 more]</label></div><br/><div class="children"><div class="content">One little syntactic serendipity of &#x2F;&#x2F;&#x2F; is that, together with the following space, the prefix is four characters wide rather than three in &#x2F;** *&#x2F; with the [Space][Star][Space] line prefix, which has some minor benefits in terms of consistent indentation. (In fact, this is true whether you use tabs or spaces!)</div><br/></div></div><div id="39535356" class="c"><input type="checkbox" id="c-39535356" checked=""/><div class="controls bullet"><span class="by">frant-hartm</span><span>|</span><a href="#39534176">parent</a><span>|</span><a href="#39534529">prev</a><span>|</span><a href="#39534321">next</a><span>|</span><label class="collapse" for="c-39535356">[-]</label><label class="expand" for="c-39535356">[1 more]</label></div><br/><div class="children"><div class="content">Same here. I am so used to<p><pre><code>  &#x2F;**
   *
   *&#x2F;
</code></pre>
that I find this visually off-putting. Almost as much the string interpolation in string templates.<p><pre><code>  &#x2F;***
</code></pre>
would be much better.<p>Also &#x2F;&#x2F;&#x2F; will be read as a comment with a line starting with a slash until the tooling is updated.</div><br/></div></div></div></div><div id="39534321" class="c"><input type="checkbox" id="c-39534321" checked=""/><div class="controls bullet"><span class="by">jonhohle</span><span>|</span><a href="#39534176">prev</a><span>|</span><a href="#39534693">next</a><span>|</span><label class="collapse" for="c-39534321">[-]</label><label class="expand" for="c-39534321">[1 more]</label></div><br/><div class="children"><div class="content">I used pegdown-doclet for this for a long time. It made documentation in code as easy to read as the generated docs. I don’t think most developers knew that JavaDoc was HTML to begin with (or evernlooked at the rendered docs).</div><br/></div></div><div id="39534693" class="c"><input type="checkbox" id="c-39534693" checked=""/><div class="controls bullet"><span class="by">gudzpoz</span><span>|</span><a href="#39534321">prev</a><span>|</span><a href="#39533079">next</a><span>|</span><label class="collapse" for="c-39534693">[-]</label><label class="expand" for="c-39534693">[1 more]</label></div><br/><div class="children"><div class="content">Although it is not mentioned in the JEP, I wonder if we can use fenced code blocks as @snippet tags [1]. Of course one can still use {@snippet}, but fenced code blocks seem to me to be the go-to for code quoting in Markdown.<p><pre><code>    ```java id=example
    class HelloWorld {
        public static void main(String... args) {
            System.out.println(&quot;Hello World!&quot;);  &#x2F;&#x2F; @link substring=&quot;System.out&quot; target=&quot;System#out&quot;
        }
    }
    ```
</code></pre>
(However, some JS highlighting libraries will strip pre-existing HTML in the code (e.g. PRISM.js [2], as is mentioned in the JEP), negating the @link tag above. Highlight.js [3] seems fine though.)<p>[1] <a href="https:&#x2F;&#x2F;openjdk.org&#x2F;jeps&#x2F;413" rel="nofollow">https:&#x2F;&#x2F;openjdk.org&#x2F;jeps&#x2F;413</a>
[2] <a href="https:&#x2F;&#x2F;prismjs.com&#x2F;faq.html#if-pre-existing-html-is-stripped-off-how-can-i-highlight" rel="nofollow">https:&#x2F;&#x2F;prismjs.com&#x2F;faq.html#if-pre-existing-html-is-strippe...</a>
[3] <a href="https:&#x2F;&#x2F;jsfiddle.net&#x2F;LFJKR&#x2F;" rel="nofollow">https:&#x2F;&#x2F;jsfiddle.net&#x2F;LFJKR&#x2F;</a></div><br/></div></div><div id="39533079" class="c"><input type="checkbox" id="c-39533079" checked=""/><div class="controls bullet"><span class="by">Georgelemental</span><span>|</span><a href="#39534693">prev</a><span>|</span><a href="#39534194">next</a><span>|</span><label class="collapse" for="c-39533079">[-]</label><label class="expand" for="c-39533079">[1 more]</label></div><br/><div class="children"><div class="content">Rust has this, it&#x27;s a great QOL feature, glad to see it spread widely</div><br/></div></div><div id="39534194" class="c"><input type="checkbox" id="c-39534194" checked=""/><div class="controls bullet"><span class="by">MrBuddyCasino</span><span>|</span><a href="#39533079">prev</a><span>|</span><a href="#39534895">next</a><span>|</span><label class="collapse" for="c-39534194">[-]</label><label class="expand" for="c-39534194">[2 more]</label></div><br/><div class="children"><div class="content">Who else prefers AsciiDoc syntax?</div><br/><div id="39534530" class="c"><input type="checkbox" id="c-39534530" checked=""/><div class="controls bullet"><span class="by">splittingTimes</span><span>|</span><a href="#39534194">parent</a><span>|</span><a href="#39534895">next</a><span>|</span><label class="collapse" for="c-39534530">[-]</label><label class="expand" for="c-39534530">[1 more]</label></div><br/><div class="children"><div class="content">Here.<p>Did manage to make it work with AsciiDoclet?</div><br/></div></div></div></div><div id="39534895" class="c"><input type="checkbox" id="c-39534895" checked=""/><div class="controls bullet"><span class="by">oaiey</span><span>|</span><a href="#39534194">prev</a><span>|</span><a href="#39531731">next</a><span>|</span><label class="collapse" for="c-39534895">[-]</label><label class="expand" for="c-39534895">[2 more]</label></div><br/><div class="children"><div class="content">Are Javadocs still a thing? When I was young and coded Java the last time that was all fancy and normal to do. But today?<p>Also wish C# would switch to Markdown comments instead of this XML nonsense. This JEP looks so clean.</div><br/><div id="39535431" class="c"><input type="checkbox" id="c-39535431" checked=""/><div class="controls bullet"><span class="by">adrianmsmith</span><span>|</span><a href="#39534895">parent</a><span>|</span><a href="#39531731">next</a><span>|</span><label class="collapse" for="c-39535431">[-]</label><label class="expand" for="c-39535431">[1 more]</label></div><br/><div class="children"><div class="content">What would you use instead of Javadoc if you didn&#x27;t use Javadoc?</div><br/></div></div></div></div><div id="39531731" class="c"><input type="checkbox" id="c-39531731" checked=""/><div class="controls bullet"><span class="by">java-man</span><span>|</span><a href="#39534895">prev</a><span>|</span><a href="#39534285">next</a><span>|</span><label class="collapse" for="c-39531731">[-]</label><label class="expand" for="c-39531731">[4 more]</label></div><br/><div class="children"><div class="content">How different is the javadoc markdown dialect from that of github?</div><br/><div id="39532405" class="c"><input type="checkbox" id="c-39532405" checked=""/><div class="controls bullet"><span class="by">wpollock</span><span>|</span><a href="#39531731">parent</a><span>|</span><a href="#39532854">next</a><span>|</span><label class="collapse" for="c-39532405">[-]</label><label class="expand" for="c-39532405">[2 more]</label></div><br/><div class="children"><div class="content">Github Flavored Markdown (GFM) is a superset of commonmark.  The differences are indicated in the GFM spec at <a href="https:&#x2F;&#x2F;github.github.com&#x2F;gfm&#x2F;" rel="nofollow">https:&#x2F;&#x2F;github.github.com&#x2F;gfm&#x2F;</a>.</div><br/><div id="39534565" class="c"><input type="checkbox" id="c-39534565" checked=""/><div class="controls bullet"><span class="by">masklinn</span><span>|</span><a href="#39531731">root</a><span>|</span><a href="#39532405">parent</a><span>|</span><a href="#39532854">next</a><span>|</span><label class="collapse" for="c-39534565">[-]</label><label class="expand" for="c-39534565">[1 more]</label></div><br/><div class="children"><div class="content">Extensions aside the major difference is the handling of line breaks: in markdown they get discarded, you need two to separate paragraphs.<p>In GFM, individual line break are translated to line breaks in the output.</div><br/></div></div></div></div><div id="39532854" class="c"><input type="checkbox" id="c-39532854" checked=""/><div class="controls bullet"><span class="by">infogulch</span><span>|</span><a href="#39531731">parent</a><span>|</span><a href="#39532405">prev</a><span>|</span><a href="#39534285">next</a><span>|</span><label class="collapse" for="c-39532854">[-]</label><label class="expand" for="c-39532854">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Markdown documentation comments are written in the CommonMark variant of Markdown. There are enhancements to links, to allow convenient linking to other program elements. Simple GFM pipe tables are supported, as are all JavaDoc tags.<p><a href="https:&#x2F;&#x2F;openjdk.org&#x2F;jeps&#x2F;467#Syntax" rel="nofollow">https:&#x2F;&#x2F;openjdk.org&#x2F;jeps&#x2F;467#Syntax</a></div><br/></div></div></div></div><div id="39532798" class="c"><input type="checkbox" id="c-39532798" checked=""/><div class="controls bullet"><span class="by">marknote</span><span>|</span><a href="#39534285">prev</a><span>|</span><a href="#39532700">next</a><span>|</span><label class="collapse" for="c-39532798">[-]</label><label class="expand" for="c-39532798">[1 more]</label></div><br/><div class="children"><div class="content">Nice, markdown can help to make java comment easier.</div><br/></div></div><div id="39532700" class="c"><input type="checkbox" id="c-39532700" checked=""/><div class="controls bullet"><span class="by">ecshafer</span><span>|</span><a href="#39532798">prev</a><span>|</span><a href="#39533661">next</a><span>|</span><label class="collapse" for="c-39532700">[-]</label><label class="expand" for="c-39532700">[5 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t see the need for this. Java having a Mardown parser within its compiler just seems wildly out of scope for not a lot of benefit. This seems like the use case of an IDE extension, or a website that host code, not the compiler itself.</div><br/><div id="39532885" class="c"><input type="checkbox" id="c-39532885" checked=""/><div class="controls bullet"><span class="by">anatnom</span><span>|</span><a href="#39532700">parent</a><span>|</span><a href="#39533842">next</a><span>|</span><label class="collapse" for="c-39532885">[-]</label><label class="expand" for="c-39532885">[1 more]</label></div><br/><div class="children"><div class="content">The javadoc tool is useful for creating simple HTML documentation directly from the source code. But you end up choosing between making the documentation comments legible as source code or legible as HTML. If HTML javadoc is important to a project, this often means that HTML-in-java-comments will prevail, which in turn means that the developer experience of working on and maintaining those docs is poor. Eclipse and IntelliJ both do good HTML rendering of these comments in mouseover&#x2F;etc displays, but it is quite annoying to open a file and then need to hover the mouse over the main type just to make the documentation legible.</div><br/></div></div><div id="39533842" class="c"><input type="checkbox" id="c-39533842" checked=""/><div class="controls bullet"><span class="by">tpmoney</span><span>|</span><a href="#39532700">parent</a><span>|</span><a href="#39532885">prev</a><span>|</span><a href="#39534110">next</a><span>|</span><label class="collapse" for="c-39533842">[-]</label><label class="expand" for="c-39533842">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d argue the fact that Java included an html parser to parse and generate JavaDoc as part of the core langue has made it still one of the best languages for finding and reading documentation. Yes, many smaller packages and libraries are just blank auto-generated docs that tell you nothing, but the packages with a well written set of javadocs are wonderful to work with. And a standard with a built in parser means once you know how to read it one place, you know how to read it anywhere. And your IDE will always know how to parse it.<p>Rust likewise has a standard and parser built in (markdown in this case) and even took it a step further and allowed your example doc code to be runnable and testable.<p>Personally I&#x27;ve long wanted to see JavaDoc allow markdown. As the JEP examples show, trying to make any javadoc comments that format nicely for the javadoc parsers means making documentation that&#x27;s hard to read when you&#x27;re in the code itself. Even the most basic of markdown parsing covers probably 90% of what you&#x27;d put in javadoc, and would make reading (and writing) good JavaDoc that much better.</div><br/></div></div><div id="39534110" class="c"><input type="checkbox" id="c-39534110" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#39532700">parent</a><span>|</span><a href="#39533842">prev</a><span>|</span><a href="#39533122">next</a><span>|</span><label class="collapse" for="c-39534110">[-]</label><label class="expand" for="c-39534110">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Java having a Mardown parser within its compiler just seems wildly out of scope for not a lot of benefit.</i><p>It won&#x27;t.  The `javadoc` tool parses doc comments and outputs HTML, not `javac`.<p>&gt; <i>This seems like the use case of an IDE extension, or a website that host code</i><p>Disagree.  I find often enough that I read Java code in vim or simply using less or cat.  Having doc comments that are more readable would be helpful.  And it seems silly that every website code hosting solution should have to implement a javadoc parser, when a much simpler solution exists: use markup that is readable as-is.<p>If you don&#x27;t want to use this, that&#x27;s fine; you can continue writing your javadoc comments as you have in the past.  That&#x27;s no reason to suggest that the rest of us should be stuck in the past.</div><br/></div></div></div></div><div id="39533661" class="c"><input type="checkbox" id="c-39533661" checked=""/><div class="controls bullet"><span class="by">bodeadly</span><span>|</span><a href="#39532700">prev</a><span>|</span><label class="collapse" for="c-39533661">[-]</label><label class="expand" for="c-39533661">[5 more]</label></div><br/><div class="children"><div class="content">I would argue that API doc text should not be inlined with code at all. It&#x27;s just noise. It should be in a separate XML file with a minimal schema. Then building the javadoc is just running xsltproc with a javadoc.xslt. Then you also have the option to use your own xslt file to generate pages that integrate with your com &#x2F; org site (like learn.microsoft.com).</div><br/><div id="39534131" class="c"><input type="checkbox" id="c-39534131" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#39533661">parent</a><span>|</span><a href="#39533754">next</a><span>|</span><label class="collapse" for="c-39534131">[-]</label><label class="expand" for="c-39534131">[1 more]</label></div><br/><div class="children"><div class="content">No thank you.  As someone who has to read code in addition to writing it, it&#x27;s great to have the doc comments right there, so I don&#x27;t have to open and search through another document.<p>There&#x27;s also the issue of keeping things up to date: it&#x27;s much more likely that a programmer is going to keep docs up to date if the doc is right there along with the code than if it&#x27;s in a separate file.<p>Not to mention... XML... ugh, no, let&#x27;s not.</div><br/></div></div><div id="39533754" class="c"><input type="checkbox" id="c-39533754" checked=""/><div class="controls bullet"><span class="by">rockwotj</span><span>|</span><a href="#39533661">parent</a><span>|</span><a href="#39534131">prev</a><span>|</span><a href="#39533774">next</a><span>|</span><label class="collapse" for="c-39533754">[-]</label><label class="expand" for="c-39533754">[1 more]</label></div><br/><div class="children"><div class="content">Hard disagree. I often read header files directly for documentation and think it’s pretty great. Makes it easy to delve into the source if needed and I dont have to leave my terminal&#x2F;nvim</div><br/></div></div><div id="39533774" class="c"><input type="checkbox" id="c-39533774" checked=""/><div class="controls bullet"><span class="by">riwsky</span><span>|</span><a href="#39533661">parent</a><span>|</span><a href="#39533754">prev</a><span>|</span><a href="#39534214">next</a><span>|</span><label class="collapse" for="c-39533774">[-]</label><label class="expand" for="c-39533774">[1 more]</label></div><br/><div class="children"><div class="content">You would be wrong. The closer documentation is to the code, the more likely it is to be seen, and to be updated. Reading and writing the docs are more common operations than “writing a new doc transformation tool” by at least 4 or 5 orders of magnitude; the ease of writing new doc transformation tools should not be the determining factor in a design.</div><br/></div></div><div id="39534214" class="c"><input type="checkbox" id="c-39534214" checked=""/><div class="controls bullet"><span class="by">j45</span><span>|</span><a href="#39533661">parent</a><span>|</span><a href="#39533774">prev</a><span>|</span><label class="collapse" for="c-39534214">[-]</label><label class="expand" for="c-39534214">[1 more]</label></div><br/><div class="children"><div class="content">It’s much easier to have it inline.<p>Is there a reason why in addition to being inline it couldn’t also be  on its own and off to the side?</div><br/></div></div></div></div></div></div></div></div></div></body></html>