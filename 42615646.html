<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1736240477098" as="style"/><link rel="stylesheet" href="styles.css?v=1736240477098"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://alexanderpetros.com/triptych/">Triptych Proposals</a> <span class="domain">(<a href="https://alexanderpetros.com">alexanderpetros.com</a>)</span></div><div class="subtext"><span>felipemesquita</span> | <span>57 comments</span></div><br/><div><div id="42616849" class="c"><input type="checkbox" id="c-42616849" checked=""/><div class="controls bullet"><span class="by">alexpetros</span><span>|</span><a href="#42619144">next</a><span>|</span><label class="collapse" for="c-42616849">[-]</label><label class="expand" for="c-42616849">[2 more]</label></div><br/><div class="children"><div class="content">Co-author here! I&#x27;ll let the proposal mostly speak for itself but one recurring question it doesn&#x27;t answer is: &quot;how likely is any of this to happen?&quot;<p>My answer is: I&#x27;m pretty optimistic! The people on WHATWG have been responsive and offered great feedback. These things take a long time but we&#x27;re making steady progress so far, and the webpage linked here will have all the status updates. So, stay tuned.</div><br/><div id="42619096" class="c"><input type="checkbox" id="c-42619096" checked=""/><div class="controls bullet"><span class="by">philosopher1234</span><span>|</span><a href="#42616849">parent</a><span>|</span><a href="#42619144">next</a><span>|</span><label class="collapse" for="c-42619096">[-]</label><label class="expand" for="c-42619096">[1 more]</label></div><br/><div class="children"><div class="content">Is it possible to see their feedback? Is it published somewhere public?</div><br/></div></div></div></div><div id="42619144" class="c"><input type="checkbox" id="c-42619144" checked=""/><div class="controls bullet"><span class="by">emmanueloga_</span><span>|</span><a href="#42616849">prev</a><span>|</span><a href="#42617190">next</a><span>|</span><label class="collapse" for="c-42619144">[-]</label><label class="expand" for="c-42619144">[2 more]</label></div><br/><div class="children"><div class="content">In the meanwhile, I found that enabling page transitions is a progressive enhancement tweak that can go a long way in making HTML replacement unnecessary in a lot of cases.<p>1) Add this to your css:<p><pre><code>    @view-transition { navigation: auto; }
</code></pre>
2) Profit.<p>Well, not so fast haha. There are a few details that you should know [1].<p>* Firefox has not implemented this yet but it seems likey they are working on it.<p>* All your static assets need to be properly cached to make the best use of the browser cache.<p>Also, prefetching <i>some</i> links on hover, like those on a navbar, is helpful.<p>Add a css class &quot;prefetch&quot; to the links you want to prefetch, then use something like this:<p><pre><code>    document.addEventListener(&quot;mouseover&quot;, ({target}) =&gt; {
      if (target.tagName !== &quot;A&quot; || !target.classList.contains(&quot;prefetch&quot;)) return;
      target.classList.remove(&quot;prefetch&quot;);

      const linkElement = document.createElement(&quot;link&quot;);
      linkElement.rel = &quot;prefetch&quot;;
      linkElement.href = target.getAttribute(&quot;href&quot;);
      document.head.appendChild(linkElement);
    })
</code></pre>
There&#x27;s more work on prefetching&#x2F;prerendering going on but it is a lil green (experimental) at the moment [2].<p>--<p>1: <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;CSS&#x2F;@view-transition" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;CSS&#x2F;@view-trans...</a><p>2: <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;Speculation_Rules_API#specifications" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;Speculation...</a></div><br/><div id="42619460" class="c"><input type="checkbox" id="c-42619460" checked=""/><div class="controls bullet"><span class="by">alexpetros</span><span>|</span><a href="#42619144">parent</a><span>|</span><a href="#42617190">next</a><span>|</span><label class="collapse" for="c-42619460">[-]</label><label class="expand" for="c-42619460">[1 more]</label></div><br/><div class="children"><div class="content">In many cases, browsers will also automatically perform a &quot;smooth&quot; transition between pages if your caching settings are don well, as described above. It&#x27;s called paint holding. [0]<p>One of the driving ideas behind Triptych is that, while HTML is insufficient in a couple key ways, it&#x27;s a way better foundation for your website than JavaScript, and it gets better without any effort from you all the time. In the long run, that really matters. [1]<p>[0] <a href="https:&#x2F;&#x2F;developer.chrome.com&#x2F;blog&#x2F;paint-holding" rel="nofollow">https:&#x2F;&#x2F;developer.chrome.com&#x2F;blog&#x2F;paint-holding</a>
[1] <a href="https:&#x2F;&#x2F;unplannedobsolescence.com&#x2F;blog&#x2F;hard-page-load&#x2F;" rel="nofollow">https:&#x2F;&#x2F;unplannedobsolescence.com&#x2F;blog&#x2F;hard-page-load&#x2F;</a></div><br/></div></div></div></div><div id="42617190" class="c"><input type="checkbox" id="c-42617190" checked=""/><div class="controls bullet"><span class="by">divbzero</span><span>|</span><a href="#42619144">prev</a><span>|</span><a href="#42616254">next</a><span>|</span><label class="collapse" for="c-42617190">[-]</label><label class="expand" for="c-42617190">[1 more]</label></div><br/><div class="children"><div class="content">When I was reading “The future of htmx” blog post which is also being discussed on HN [1], the “htmx is the new jQuery” idea jumped out at me. Given that jQuery has been gradually replaced by native JavaScript [2], I wondered what web development could look like if htmx is gradually replaced by native HTML.<p>Triptych could be it, and it’s particularly interesting that it’s being championed by the htmx developers.<p>[1]: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42613221">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42613221</a><p>[2]: <a href="https:&#x2F;&#x2F;youmightnotneedjquery.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;youmightnotneedjquery.com&#x2F;</a></div><br/></div></div><div id="42616254" class="c"><input type="checkbox" id="c-42616254" checked=""/><div class="controls bullet"><span class="by">recursivedoubts</span><span>|</span><a href="#42617190">prev</a><span>|</span><a href="#42616021">next</a><span>|</span><label class="collapse" for="c-42616254">[-]</label><label class="expand" for="c-42616254">[1 more]</label></div><br/><div class="children"><div class="content">this is a set of proposals by Alex Petros, in the htmx team, to move some of the ideas of htmx into the HTML spec. He has begun work on the first proposal, allowing HTML to access PUT, DELETE, etc.<p><a href="https:&#x2F;&#x2F;alexanderpetros.com&#x2F;triptych&#x2F;form-http-methods" rel="nofollow">https:&#x2F;&#x2F;alexanderpetros.com&#x2F;triptych&#x2F;form-http-methods</a><p>This is going to be a long term effort, but Alex has the stubbornness to see it through.</div><br/></div></div><div id="42616021" class="c"><input type="checkbox" id="c-42616021" checked=""/><div class="controls bullet"><span class="by">tinthedev</span><span>|</span><a href="#42616254">prev</a><span>|</span><a href="#42617746">next</a><span>|</span><label class="collapse" for="c-42616021">[-]</label><label class="expand" for="c-42616021">[1 more]</label></div><br/><div class="children"><div class="content">It looks wonderful, but the adoption will be a thoroughly uphill battle. Be it from browsers, be it from designs and implementations on the web.<p>I&#x27;ll be first in line to try it out if it ever materializes, though!</div><br/></div></div><div id="42617746" class="c"><input type="checkbox" id="c-42617746" checked=""/><div class="controls bullet"><span class="by">KronisLV</span><span>|</span><a href="#42616021">prev</a><span>|</span><a href="#42619162">next</a><span>|</span><label class="collapse" for="c-42617746">[-]</label><label class="expand" for="c-42617746">[1 more]</label></div><br/><div class="children"><div class="content">Good luck!<p>The partial page replacement in particular sounds like it might be really interesting and useful to have as a feature of HTML, though ofc more details will emerge with time.<p>Unless it ended up like PrimeFaces&#x2F;JSF where more often than not you have to finagle some reference to a particular table row in a larger component tree, inside of an update attribute for some AJAX action and still spend an hour or two debugging why nothing works.</div><br/></div></div><div id="42616221" class="c"><input type="checkbox" id="c-42616221" checked=""/><div class="controls bullet"><span class="by">mg</span><span>|</span><a href="#42619162">prev</a><span>|</span><a href="#42615940">next</a><span>|</span><label class="collapse" for="c-42616221">[-]</label><label class="expand" for="c-42616221">[13 more]</label></div><br/><div class="children"><div class="content">What is the upside of<p><pre><code>    &lt;button action=&quot;&#x2F;users&#x2F;354&quot; method=&quot;DELETE&quot;&gt;&lt;&#x2F;button&gt;
</code></pre>
over<p><pre><code>    &lt;button action=&quot;&#x2F;users&#x2F;delete?id=354&quot;&gt;&lt;&#x2F;button&gt;

?</code></pre></div><br/><div id="42616504" class="c"><input type="checkbox" id="c-42616504" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#42616221">parent</a><span>|</span><a href="#42620044">next</a><span>|</span><label class="collapse" for="c-42616504">[-]</label><label class="expand" for="c-42616504">[2 more]</label></div><br/><div class="children"><div class="content">A GET request to `&#x2F;users&#x2F;delete?id=354` is dangerous. In particular, it is more vulnerable to a CSRF attack, since a form on another domain can just make a request to that endpoint, using the user&#x27;s cookies.<p>It&#x27;s possible to protect against this using various techniques, but they all add some complexity.<p>Also, the former is more semantically correct in terms of HTTP and REST.</div><br/><div id="42620381" class="c"><input type="checkbox" id="c-42620381" checked=""/><div class="controls bullet"><span class="by">hnbad</span><span>|</span><a href="#42616221">root</a><span>|</span><a href="#42616504">parent</a><span>|</span><a href="#42620044">next</a><span>|</span><label class="collapse" for="c-42620381">[-]</label><label class="expand" for="c-42620381">[1 more]</label></div><br/><div class="children"><div class="content">An important consideration is also that browsers may prefetch GET requests.</div><br/></div></div></div></div><div id="42620044" class="c"><input type="checkbox" id="c-42620044" checked=""/><div class="controls bullet"><span class="by">bryanrasmussen</span><span>|</span><a href="#42616221">parent</a><span>|</span><a href="#42616504">prev</a><span>|</span><a href="#42616791">next</a><span>|</span><label class="collapse" for="c-42620044">[-]</label><label class="expand" for="c-42620044">[1 more]</label></div><br/><div class="children"><div class="content">Everybody has already pointed out the problem with GETTING a deletable resource, but I figured I would add this (and maybe someone will remember extra specifics).<p>About 2007 or so there was a case where a site was using GET to delete user accounts, of course you had to be logged in to the site to do it so what was the harm the devs thought, however a popular extension made by Google for Chrome started prefetching GET requests for the users - so coming in to the account page where you could theoretically delete your account ended up deleting the account.<p>It was pretty funny, because I wasn&#x27;t involved in either side of the fight that ensued.<p>I would provide more detail than that, but I&#x27;m finding it difficult to search for it, I guess Google has screwed up a lot of other stuff since then.<p>on edit: my memory must be playing tricks on me, I think it had to be more around 2010, 2011 that this happened, at first I was thinking it happened before I started working in Thomson Reuters but now I think it must have happened within the first couple years there.</div><br/></div></div><div id="42616791" class="c"><input type="checkbox" id="c-42616791" checked=""/><div class="controls bullet"><span class="by">alexpetros</span><span>|</span><a href="#42616221">parent</a><span>|</span><a href="#42620044">prev</a><span>|</span><a href="#42616301">next</a><span>|</span><label class="collapse" for="c-42616791">[-]</label><label class="expand" for="c-42616791">[1 more]</label></div><br/><div class="children"><div class="content">Hey there, good question! Probably worth reading both sections 6 and 7 for context, but I answer this question specifically in section 7.2: <a href="https:&#x2F;&#x2F;alexanderpetros.com&#x2F;triptych&#x2F;form-http-methods#ad-hoc-uri-semantics" rel="nofollow">https:&#x2F;&#x2F;alexanderpetros.com&#x2F;triptych&#x2F;form-http-methods#ad-ho...</a></div><br/></div></div><div id="42616301" class="c"><input type="checkbox" id="c-42616301" checked=""/><div class="controls bullet"><span class="by">AndrewHampton</span><span>|</span><a href="#42616221">parent</a><span>|</span><a href="#42616791">prev</a><span>|</span><a href="#42616272">next</a><span>|</span><label class="collapse" for="c-42616301">[-]</label><label class="expand" for="c-42616301">[7 more]</label></div><br/><div class="children"><div class="content">What HTTP method would you expect the second example to use? `GET &#x2F;users&#x2F;delete?id=354`?<p>The first has the advantage of being a little clearer at the HTTP level with `DELETE &#x2F;users&#x2F;354`.</div><br/><div id="42616400" class="c"><input type="checkbox" id="c-42616400" checked=""/><div class="controls bullet"><span class="by">mg</span><span>|</span><a href="#42616221">root</a><span>|</span><a href="#42616301">parent</a><span>|</span><a href="#42616272">next</a><span>|</span><label class="collapse" for="c-42616400">[-]</label><label class="expand" for="c-42616400">[6 more]</label></div><br/><div class="children"><div class="content">GET because that is also the default for all other elements I think. form, a, img, iframe, video...<p>Ok, but what is the advantage to be &quot;clear at the http level&quot;?</div><br/><div id="42616449" class="c"><input type="checkbox" id="c-42616449" checked=""/><div class="controls bullet"><span class="by">necubi</span><span>|</span><a href="#42616221">root</a><span>|</span><a href="#42616400">parent</a><span>|</span><a href="#42619712">next</a><span>|</span><label class="collapse" for="c-42616449">[-]</label><label class="expand" for="c-42616449">[1 more]</label></div><br/><div class="children"><div class="content">GET shouldn&#x27;t be used for a delete action, because it&#x27;s specified as a safe method[0], which means essentially read-only. On a practical level, clients (like browsers) are free to cache and retry GET requests, which could lead to deletes not occurring or occurring when not desired.<p>[0] <a href="https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;rfc7231#section-4.2.1" rel="nofollow">https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;html&#x2F;rfc7231#section-4.2.1</a></div><br/></div></div><div id="42619712" class="c"><input type="checkbox" id="c-42619712" checked=""/><div class="controls bullet"><span class="by">JimDabell</span><span>|</span><a href="#42616221">root</a><span>|</span><a href="#42616400">parent</a><span>|</span><a href="#42616449">prev</a><span>|</span><a href="#42616445">next</a><span>|</span><label class="collapse" for="c-42619712">[-]</label><label class="expand" for="c-42619712">[2 more]</label></div><br/><div class="children"><div class="content">That means I can make you delete things by embedding that delete URL as the source of an image on a page you visit.<p>GET is defined to be safe by HTTP. There have been decades of software development that have happened with the understanding that GETs can take place without user approval. To abuse GET for unsafe actions like deleting things is a huge problem.<p>This has already happened before in big ways. 37Signals built a bunch of things this way and then the Google Web Accelerator came along, prefetching links, and their customers suffered data loss.<p>When they were told they were abusing HTTP, they ignored it and tried to detect GWA instead of fixing their bug. Same thing happened again, more things deleted because GET was misused.<p>GET is safe by definition. Don’t abuse it for unsafe actions.</div><br/><div id="42619991" class="c"><input type="checkbox" id="c-42619991" checked=""/><div class="controls bullet"><span class="by">mg</span><span>|</span><a href="#42616221">root</a><span>|</span><a href="#42619712">parent</a><span>|</span><a href="#42616445">next</a><span>|</span><label class="collapse" for="c-42619991">[-]</label><label class="expand" for="c-42619991">[1 more]</label></div><br/><div class="children"><div class="content">You can already do POST requests by embedding forms and&#x2F;or JS. And with the proposed &lt;button method=DELETE&gt; you could also embed that. So I don&#x27;t see how the proposal of adding more HTTP methods to html elements prevents abuse.</div><br/></div></div></div></div><div id="42616445" class="c"><input type="checkbox" id="c-42616445" checked=""/><div class="controls bullet"><span class="by">lionkor</span><span>|</span><a href="#42616221">root</a><span>|</span><a href="#42616400">parent</a><span>|</span><a href="#42619712">prev</a><span>|</span><a href="#42617026">next</a><span>|</span><label class="collapse" for="c-42616445">[-]</label><label class="expand" for="c-42616445">[1 more]</label></div><br/><div class="children"><div class="content">Well, its correct, so its likely to be optimized correctly, to aid in debugging, to make testing easier and clearer, and generally just to be correct.<p>Correctness is very rarely a bad goal to have.<p>Also, of course, different methods have different rules, which you know as an SE. For example, PUT, UPDATE and DELETE have very different semantics in terms of repeatability of requests, for example.</div><br/></div></div><div id="42617026" class="c"><input type="checkbox" id="c-42617026" checked=""/><div class="controls bullet"><span class="by">recursive</span><span>|</span><a href="#42616221">root</a><span>|</span><a href="#42616400">parent</a><span>|</span><a href="#42616445">prev</a><span>|</span><a href="#42616272">next</a><span>|</span><label class="collapse" for="c-42617026">[-]</label><label class="expand" for="c-42617026">[1 more]</label></div><br/><div class="children"><div class="content">GETs have no side effects, by specification. DELETEs can have side effects.</div><br/></div></div></div></div></div></div><div id="42616272" class="c"><input type="checkbox" id="c-42616272" checked=""/><div class="controls bullet"><span class="by">recursivedoubts</span><span>|</span><a href="#42616221">parent</a><span>|</span><a href="#42616301">prev</a><span>|</span><a href="#42615940">next</a><span>|</span><label class="collapse" for="c-42616272">[-]</label><label class="expand" for="c-42616272">[1 more]</label></div><br/><div class="children"><div class="content">implied idempotence</div><br/></div></div></div></div><div id="42615940" class="c"><input type="checkbox" id="c-42615940" checked=""/><div class="controls bullet"><span class="by">ttymck</span><span>|</span><a href="#42616221">prev</a><span>|</span><a href="#42617460">next</a><span>|</span><label class="collapse" for="c-42615940">[-]</label><label class="expand" for="c-42615940">[2 more]</label></div><br/><div class="children"><div class="content">Looks really pragmatic and I&#x27;d be glad to see this succeed.<p>Is anyone able to credibly comment on the likelihood that these make it into the standard, and what the timeline might look like?</div><br/><div id="42616292" class="c"><input type="checkbox" id="c-42616292" checked=""/><div class="controls bullet"><span class="by">recursivedoubts</span><span>|</span><a href="#42615940">parent</a><span>|</span><a href="#42617460">next</a><span>|</span><label class="collapse" for="c-42616292">[-]</label><label class="expand" for="c-42616292">[1 more]</label></div><br/><div class="children"><div class="content">Alex is working on it now and we have contacts in the browser teams.  I’m optimistic but it will be a long term (decades) project.</div><br/></div></div></div></div><div id="42617460" class="c"><input type="checkbox" id="c-42617460" checked=""/><div class="controls bullet"><span class="by">Devasta</span><span>|</span><a href="#42615940">prev</a><span>|</span><a href="#42617411">next</a><span>|</span><label class="collapse" for="c-42617460">[-]</label><label class="expand" for="c-42617460">[1 more]</label></div><br/><div class="children"><div class="content">Its genuinely incredible that we are more than 20 years since the takeover of HTML from the W3C and there isn&#x27;t anything in the browser approaching even one tenth of the capability of XForms.<p>I wish the people behind this initiative luck and hope they succeed but I don&#x27;t think it&#x27;ll go anywhere; the browser devs gave up on HTML years ago, JavaScript is the primary language of the web.</div><br/></div></div><div id="42617411" class="c"><input type="checkbox" id="c-42617411" checked=""/><div class="controls bullet"><span class="by">andrewflnr</span><span>|</span><a href="#42617460">prev</a><span>|</span><a href="#42616001">next</a><span>|</span><label class="collapse" for="c-42617411">[-]</label><label class="expand" for="c-42617411">[4 more]</label></div><br/><div class="children"><div class="content">&gt; giving buttons to ability<p>Might want to fix that. :)</div><br/><div id="42617601" class="c"><input type="checkbox" id="c-42617601" checked=""/><div class="controls bullet"><span class="by">tln</span><span>|</span><a href="#42617411">parent</a><span>|</span><a href="#42616001">next</a><span>|</span><label class="collapse" for="c-42617601">[-]</label><label class="expand" for="c-42617601">[3 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t seen the proposal, but buttons can already set the form method (and action, and more). So I guess the &quot;Button HTTP Requests&quot; will just save the need to nest one tag?<p><pre><code>    &lt;form&gt;&lt;button type=&quot;submit&quot; formaction=&quot;&#x2F;session&quot; formmethod=&quot;DELETE&quot;&gt;&lt;&#x2F;form&gt;
    &lt;form action=&quot;&#x2F;session&quot; method=&quot;DELETE&quot;&gt;&lt;button type=&quot;submit&quot;&gt;&lt;&#x2F;form&gt;</code></pre></div><br/><div id="42618444" class="c"><input type="checkbox" id="c-42618444" checked=""/><div class="controls bullet"><span class="by">andrewflnr</span><span>|</span><a href="#42617411">root</a><span>|</span><a href="#42617601">parent</a><span>|</span><a href="#42617726">next</a><span>|</span><label class="collapse" for="c-42618444">[-]</label><label class="expand" for="c-42618444">[1 more]</label></div><br/><div class="children"><div class="content">To be clear, I was referring to the minor typo.</div><br/></div></div><div id="42617726" class="c"><input type="checkbox" id="c-42617726" checked=""/><div class="controls bullet"><span class="by">jjcm</span><span>|</span><a href="#42617411">root</a><span>|</span><a href="#42617601">parent</a><span>|</span><a href="#42618444">prev</a><span>|</span><a href="#42616001">next</a><span>|</span><label class="collapse" for="c-42617726">[-]</label><label class="expand" for="c-42617726">[1 more]</label></div><br/><div class="children"><div class="content">This proposal also includes the ability to update a target DOM element with the response from that delete action.</div><br/></div></div></div></div></div></div><div id="42615910" class="c"><input type="checkbox" id="c-42615910" checked=""/><div class="controls bullet"><span class="by">netcraft</span><span>|</span><a href="#42616001">prev</a><span>|</span><a href="#42619915">next</a><span>|</span><label class="collapse" for="c-42615910">[-]</label><label class="expand" for="c-42615910">[1 more]</label></div><br/><div class="children"><div class="content">I love these. Its the things we&#x27;ve been doing (or attempting to do) with our web pages for decades. I&#x27;ve written tons of jquery to do these exact things, lots of react code as well.<p>I think its an uphill battle, but I am hopeful.</div><br/></div></div><div id="42616136" class="c"><input type="checkbox" id="c-42616136" checked=""/><div class="controls bullet"><span class="by">motoboi</span><span>|</span><a href="#42616534">prev</a><span>|</span><label class="collapse" for="c-42616136">[-]</label><label class="expand" for="c-42616136">[23 more]</label></div><br/><div class="children"><div class="content">JSON rest api are just hypermedia rest api but with the data compressed. The compression format is json and the dictionary are the hypermedia relations previously passed in the client.<p>It’s 2025, the client don’t need to be generic and able to surf and discover the internet like it’s 2005.<p>The database is consumed via APIS distributed in two parts: first the client (a lib), second the data: json.</div><br/><div id="42616324" class="c"><input type="checkbox" id="c-42616324" checked=""/><div class="controls bullet"><span class="by">recursivedoubts</span><span>|</span><a href="#42616136">parent</a><span>|</span><a href="#42616807">next</a><span>|</span><label class="collapse" for="c-42616324">[-]</label><label class="expand" for="c-42616324">[5 more]</label></div><br/><div class="children"><div class="content">No, they aren’t.<p><a href="https:&#x2F;&#x2F;htmx.org&#x2F;essays&#x2F;how-did-rest-come-to-mean-the-opposite-of-rest&#x2F;" rel="nofollow">https:&#x2F;&#x2F;htmx.org&#x2F;essays&#x2F;how-did-rest-come-to-mean-the-opposi...</a><p>Your client is already generic you just aren’t using that functionality:<p><a href="https:&#x2F;&#x2F;htmx.org&#x2F;essays&#x2F;hypermedia-clients&#x2F;" rel="nofollow">https:&#x2F;&#x2F;htmx.org&#x2F;essays&#x2F;hypermedia-clients&#x2F;</a></div><br/><div id="42616924" class="c"><input type="checkbox" id="c-42616924" checked=""/><div class="controls bullet"><span class="by">colordrops</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42616324">parent</a><span>|</span><a href="#42616807">next</a><span>|</span><label class="collapse" for="c-42616924">[-]</label><label class="expand" for="c-42616924">[4 more]</label></div><br/><div class="children"><div class="content">Maybe just give up the ghost and use a new unambiguous term instead of REST. Devs aren&#x27;t going to let go of their JSON apis as browsers often are not the only, or even main, consumers of said APIs.<p>Creating frameworks and standards to support &quot;true&quot; RESTful APIs is a noble goal, but for most people it&#x27;s a matter of semantics as they aren&#x27;t going to change how they are doing things.<p>A list of words that have changed meaning, sometimes even the opposite, of their original meaning:<p><a href="https:&#x2F;&#x2F;ideas.ted.com&#x2F;20-words-that-once-meant-something-very-different&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ideas.ted.com&#x2F;20-words-that-once-meant-something-ver...</a><p>It seems these two discussions should not be conflated: 1. What RESTful originally meant, and 2. The value of RESTful APIs and when they should and shouldn&#x27;t be used.</div><br/><div id="42618510" class="c"><input type="checkbox" id="c-42618510" checked=""/><div class="controls bullet"><span class="by">BlueTemplar</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42616924">parent</a><span>|</span><a href="#42617142">next</a><span>|</span><label class="collapse" for="c-42618510">[-]</label><label class="expand" for="c-42618510">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s weird that you would argue &quot;people won&#x27;t change&quot; at the same time as you point out how word meanings change.<p>Have you forgotten how XML was all the rage not that long ago ?<p>Also, specific people might not change, but they do retire&#x2F;die, and new generations might have different opinions...</div><br/><div id="42619617" class="c"><input type="checkbox" id="c-42619617" checked=""/><div class="controls bullet"><span class="by">colordrops</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42618510">parent</a><span>|</span><a href="#42617142">next</a><span>|</span><label class="collapse" for="c-42619617">[-]</label><label class="expand" for="c-42619617">[1 more]</label></div><br/><div class="children"><div class="content">People change organically but people can&#x27;t be easily changed inentionally.<p>I&#x27;m not suggesting that going back to the original meaning is a bad thing, in fact more power to those who are attempting this. I&#x27;m just suggesting that instead of moving the mountain, they could just go around it.</div><br/></div></div></div></div><div id="42617142" class="c"><input type="checkbox" id="c-42617142" checked=""/><div class="controls bullet"><span class="by">thatsafeature2</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42616924">parent</a><span>|</span><a href="#42618510">prev</a><span>|</span><a href="#42616807">next</a><span>|</span><label class="collapse" for="c-42617142">[-]</label><label class="expand" for="c-42617142">[1 more]</label></div><br/><div class="children"><div class="content">RESTful is an oddly-specific term, so I don&#x27;t see the point of changing the meaning.<p>Feel free to change the meaning of &#x27;agile&#x27; to mean &#x27;whatever&#x27; (which is how it&#x27;s interpreted by 99.99% of the population), but leave things like RESTful alone.<p>Signed,
CEO of htmx</div><br/></div></div></div></div></div></div><div id="42616807" class="c"><input type="checkbox" id="c-42616807" checked=""/><div class="controls bullet"><span class="by">alexpetros</span><span>|</span><a href="#42616136">parent</a><span>|</span><a href="#42616324">prev</a><span>|</span><a href="#42617301">next</a><span>|</span><label class="collapse" for="c-42616807">[-]</label><label class="expand" for="c-42616807">[16 more]</label></div><br/><div class="children"><div class="content">It sounds like the client you&#x27;re describing is less capable than the client of 2005, and I&#x27;d be curious to hear why you think that&#x27;s a good thing.</div><br/><div id="42617015" class="c"><input type="checkbox" id="c-42617015" checked=""/><div class="controls bullet"><span class="by">cryptonector</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42616807">parent</a><span>|</span><a href="#42617301">next</a><span>|</span><label class="collapse" for="c-42617015">[-]</label><label class="expand" for="c-42617015">[15 more]</label></div><br/><div class="children"><div class="content">The problem with RESTful requiring hypermedia is that if you want to automate use of the API then you need to... define something like a schema -- a commitment to having specific links so that you don&#x27;t have to scrape or require a human to automate use of such an API.  Hypermedia is completely self-describing <i>when you have human users involved</i> but not when you don&#x27;t have human users involved.  If you insist on HATEOAS as the substrate of the API then you need to give us a schema language that we can use to automate things.  Then you can have your hypermedia as part of the UI <i>and</i> the API.<p>The alternative is to have hypermedia for the UI on the one hand, and separately JSON&#x2F;whatever for the API on the other.  But now you have all this code duplication.  You can cure that code duplication by just using the API from JavaScript on the user-agent to render the UI from data, and now you&#x27;re essentially using something like a schema but with hand-compiled codecs to render the UI from data.<p>Even if you go with hypermedia, using that as your API is terribly inefficient in terms of bandwidth for bulk data, so devs invariably don&#x27;t use HTML or XML or any hypermedia for bulk data.  If you have a schema then you could &quot;compress&quot; (dehydrate) that data using something not too unlike FastInfoSet by essentially throwing away most of the hypermedia, and you can re-hydrate the hypermedia where you need it.<p>So I think GP is not too far off.  If we defined schemas for &quot;pages&quot; and used codecs generated or interpreted from those schemas then we could get something close to ideal:<p><pre><code>  - compression (though the
    data might still be highly
    compressible with zlib&#x2F;
    zstd&#x2F;brotli&#x2F;whatever,
    naturally)

  - hypermedia

  - structured data with
    programmatic access methods
    (think XPath, JSONPath, etc.)
</code></pre>
The cost of this is: a) having to define a schema for every page, b) the user-agent having to GET the schema in order to &quot;hydrate&quot; or interpret the data.  (a) is not a new cost, though a schema language understood by the user-agent is required, so we&#x27;d have to define such a language and start using it -- (a) is a migration cost.  (b) is just part of implementing in the user-agent.<p>This is not really all that crazy.  After all XML namespaces and Schemas are already only referenced in each document, not in-lined.<p>The insistence on purity (HTML, XHTML, XML) is not winning.  Falling back on dehydration&#x2F;hydration might be your best bet if you insist.<p>Me, I&#x27;m pragmatic.  I don&#x27;t mind the hydration codec being written in JS and SPAs.  I mean, I agree that it would be better if we didn&#x27;t need that -- after all I use NoScript still, every day.  But in the absence of a suitable schema language I don&#x27;t really see how to avoid JS and SPAs.  Users want speed and responsiveness, and devs want structured data instead of hypermedia -- they want <i>structure</i>, which hypermedia doesn&#x27;t really give them.<p>But I&#x27;d be ecstatic if we had such a schema language and lost all that JS.  Then we could still have JS-less pages that are effectively SPAs if the pages wanted to incorporate re-hydrated content sent in response to a button that did a GET, say.</div><br/><div id="42617277" class="c"><input type="checkbox" id="c-42617277" checked=""/><div class="controls bullet"><span class="by">recursivedoubts</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42617015">parent</a><span>|</span><a href="#42617695">next</a><span>|</span><label class="collapse" for="c-42617277">[-]</label><label class="expand" for="c-42617277">[9 more]</label></div><br/><div class="children"><div class="content">HATEOAS is for humans:<p><a href="https:&#x2F;&#x2F;intercoolerjs.org&#x2F;2016&#x2F;05&#x2F;08&#x2F;hatoeas-is-for-humans.html" rel="nofollow">https:&#x2F;&#x2F;intercoolerjs.org&#x2F;2016&#x2F;05&#x2F;08&#x2F;hatoeas-is-for-humans.h...</a></div><br/><div id="42617360" class="c"><input type="checkbox" id="c-42617360" checked=""/><div class="controls bullet"><span class="by">cryptonector</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42617277">parent</a><span>|</span><a href="#42617695">next</a><span>|</span><label class="collapse" for="c-42617360">[-]</label><label class="expand" for="c-42617360">[8 more]</label></div><br/><div class="children"><div class="content">SPAs are for humans, but they let you have structured data.<p>That&#x27;s the problem here.  People need APIs, which means not-for-humans, and so to find an efficient way to get &quot;pages&quot; for humans and APIs for not-humans they invented SPAs that transfer data in not-for-humans encodings and generate or render it from&#x2F;to UIs for humans.  And then the intransigent HATEOAS boosters come and tell you &quot;that&#x27;s not RESTful!!&quot; &quot;you&#x27;re misusing the term!!&quot;, etc.<p>Look at your response to my thoughtful comment: it&#x27;s just a dismissive one-liner that helps no one and which implicitly says &quot;though shall have an end-point that deals in HTML and another that deals in JSON, and though shall have to duplicate effort&quot;.  It comes across as flippant -- as literally flipping the finger[0].<p>No wonder the devs ignore all this HATEOAS and REST purity.<p>[0] There&#x27;s no etymological link between &quot;flippant&quot; and &quot;flipping the finger&quot;, but the meanings are similar enough.</div><br/><div id="42617587" class="c"><input type="checkbox" id="c-42617587" checked=""/><div class="controls bullet"><span class="by">recursivedoubts</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42617360">parent</a><span>|</span><a href="#42617695">next</a><span>|</span><label class="collapse" for="c-42617587">[-]</label><label class="expand" for="c-42617587">[7 more]</label></div><br/><div class="children"><div class="content">Yeah, that was too short a response, sorry I was bouncing around a lot in the thread.<p>The essay I linked to somewhat agrees w&#x2F;your general point, which is that hypermedia is (mostly) wasted on automated consumers of REST (in the original sense) APIs.<p>I don&#x27;t think it&#x27;s a bad thing to split your hypermedia API and your JSON API:<p><a href="https:&#x2F;&#x2F;htmx.org&#x2F;essays&#x2F;splitting-your-apis&#x2F;" rel="nofollow">https:&#x2F;&#x2F;htmx.org&#x2F;essays&#x2F;splitting-your-apis&#x2F;</a><p>(NB, some people recommend even splitting your JSON-for-app &amp; JSON-for-integration APIs: <a href="https:&#x2F;&#x2F;max.engineer&#x2F;server-informed-ui" rel="nofollow">https:&#x2F;&#x2F;max.engineer&#x2F;server-informed-ui</a>)<p>I also don&#x27;t think it&#x27;s hard to avoid duplicating your effort, assuming you have a decent model layer:<p><a href="https:&#x2F;&#x2F;htmx.org&#x2F;essays&#x2F;mvc&#x2F;" rel="nofollow">https:&#x2F;&#x2F;htmx.org&#x2F;essays&#x2F;mvc&#x2F;</a><p>As far as efficiency goes, HTML is typically within spitting distance of JSON particularly if you have compression enabled:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;1cg&#x2F;html-json-size-comparison">https:&#x2F;&#x2F;github.com&#x2F;1cg&#x2F;html-json-size-comparison</a><p>And is also may be more efficient to generate because it isn&#x27;t using reflection:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;1cg&#x2F;html-json-speed-comparison">https:&#x2F;&#x2F;github.com&#x2F;1cg&#x2F;html-json-speed-comparison</a><p>(Those costs will typically be dwarfed by data store access anyway)<p>So, all in all, I kind of agree with you on the pointlessness of REST purity when it comes to general purpose APIs, but disagree in that I think you can profitably split your application API (hypermedia) from your automation API (JSON) and get the best of both worlds, and not duplicate code too much if you have a proper model layer.<p>Hope that&#x27;s more useful.</div><br/><div id="42617691" class="c"><input type="checkbox" id="c-42617691" checked=""/><div class="controls bullet"><span class="by">cryptonector</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42617587">parent</a><span>|</span><a href="#42618532">next</a><span>|</span><label class="collapse" for="c-42617691">[-]</label><label class="expand" for="c-42617691">[4 more]</label></div><br/><div class="children"><div class="content">Thanks, I appreciate the detailed response.<p>&gt; So, all in all, I kind of agree with you on the pointlessness of REST purity when it comes to general purpose APIs, but disagree in that I think you can profitably split your application API (hypermedia) from your automation API (JSON) and get the best of both worlds, and not duplicate code too much if you have a proper model layer.<p>I&#x27;ve yet to see what I proposed, so I&#x27;ve no idea how it would work out.  Given the current state of the world I think devs will continue to write JS-dependent SPAs that use JSON APIs.  Grandstanding about the meaning of REST is not going to change that.</div><br/><div id="42617731" class="c"><input type="checkbox" id="c-42617731" checked=""/><div class="controls bullet"><span class="by">recursivedoubts</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42617691">parent</a><span>|</span><a href="#42618532">next</a><span>|</span><label class="collapse" for="c-42617731">[-]</label><label class="expand" for="c-42617731">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve built apps w&#x2F; hypermedia APIs &amp; JSON APIs for automation, which is great because the JSON API can stay stable and not get dragged around by changes in your application.<p>As far as the future, we&#x27;ll see.  htmx (and other hypermedia-oriented libraries, like unpoly, hotwire, data-star, etc) is getting some traction, but I think you are probably correct that fixed-format JSON APIs talking to react front-ends is going to be the most common approach for the foreseeable future.</div><br/><div id="42617866" class="c"><input type="checkbox" id="c-42617866" checked=""/><div class="controls bullet"><span class="by">cryptonector</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42617731">parent</a><span>|</span><a href="#42618532">next</a><span>|</span><label class="collapse" for="c-42617866">[-]</label><label class="expand" for="c-42617866">[2 more]</label></div><br/><div class="children"><div class="content">If you want JS-lesness and HATEOASnes then maybe if we had an automatic way to go from structured data to HTML...  :)</div><br/><div id="42617943" class="c"><input type="checkbox" id="c-42617943" checked=""/><div class="controls bullet"><span class="by">recursivedoubts</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42617866">parent</a><span>|</span><a href="#42618532">next</a><span>|</span><label class="collapse" for="c-42617943">[-]</label><label class="expand" for="c-42617943">[1 more]</label></div><br/><div class="children"><div class="content">most structured-data to UI systems I have seen produce pretty bad, generic user interfaces<p>the innovation of hypermedia was mixing presentation information w&#x2F;control information (hypermedia controls) to produce a user interface (distributed control information, in the case of the web)<p>i think that&#x27;s an interesting and crucial aspect of the REST network architecture</div><br/></div></div></div></div></div></div></div></div><div id="42618532" class="c"><input type="checkbox" id="c-42618532" checked=""/><div class="controls bullet"><span class="by">eadmund</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42617587">parent</a><span>|</span><a href="#42617691">prev</a><span>|</span><a href="#42617695">next</a><span>|</span><label class="collapse" for="c-42618532">[-]</label><label class="expand" for="c-42618532">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I think you can profitably split your application API (hypermedia) from your automation API (JSON)<p>Why split them?  Just support multiple representations: HTML and JSON (and perhaps other, saner representations than JSON …) and just let content negotiation sort it all out.</div><br/><div id="42618688" class="c"><input type="checkbox" id="c-42618688" checked=""/><div class="controls bullet"><span class="by">recursivedoubts</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42618532">parent</a><span>|</span><a href="#42617695">next</a><span>|</span><label class="collapse" for="c-42618688">[-]</label><label class="expand" for="c-42618688">[1 more]</label></div><br/><div class="children"><div class="content">I tend not to like content negotiation:<p><a href="https:&#x2F;&#x2F;htmx.org&#x2F;essays&#x2F;why-tend-not-to-use-content-negotiation&#x2F;" rel="nofollow">https:&#x2F;&#x2F;htmx.org&#x2F;essays&#x2F;why-tend-not-to-use-content-negotiat...</a></div><br/></div></div></div></div></div></div></div></div></div></div><div id="42617695" class="c"><input type="checkbox" id="c-42617695" checked=""/><div class="controls bullet"><span class="by">riwsky</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42617015">parent</a><span>|</span><a href="#42617277">prev</a><span>|</span><a href="#42617529">next</a><span>|</span><label class="collapse" for="c-42617695">[-]</label><label class="expand" for="c-42617695">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The problem with RESTful requiring hypermedia is that if you want to automate use of the API then you need to... define something like a schema -- a commitment to having specific links so that you don&#x27;t have to scrape or require a human to automate use of such an API<p>We already have the schema language; it’s HTML. Stylesheets and favicons are two examples of specific links that are automatically interpreted by user-agents. Applications are free to use their own link rels. If your point is that changing the name of those rels could break automation that used them, in a way that wouldn’t break humans…then the same is true of JSON APIs as well.<p>Like, the flaws you point out are legit—but they are properties of how devs are ab&#x2F;using HTML, not the technology itself.</div><br/><div id="42619810" class="c"><input type="checkbox" id="c-42619810" checked=""/><div class="controls bullet"><span class="by">cryptonector</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42617695">parent</a><span>|</span><a href="#42617529">next</a><span>|</span><label class="collapse" for="c-42619810">[-]</label><label class="expand" for="c-42619810">[1 more]</label></div><br/><div class="children"><div class="content">HTML is most decidedly not a schema language.</div><br/></div></div></div></div><div id="42617529" class="c"><input type="checkbox" id="c-42617529" checked=""/><div class="controls bullet"><span class="by">alexpetros</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42617015">parent</a><span>|</span><a href="#42617695">prev</a><span>|</span><a href="#42617580">next</a><span>|</span><label class="collapse" for="c-42617529">[-]</label><label class="expand" for="c-42617529">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The alternative is to have hypermedia for the UI on the one hand, and separately JSON&#x2F;whatever for the API on the other. But now you have all this code duplication.<p>What code duplication? If both these APIs use the same data fetching layer, there&#x27;s no code duplication; if they don&#x27;t, then it&#x27;s because the JSON API and the Hypermedia UI have different requirements, and can be more efficiently implemented if they don&#x27;t reuse each other&#x27;s querying logic (usually the case).<p>What you want is some universal way to write them both, and my general stance is that usually they have different requirements, and you&#x27;ll end up writing so much on top of that universal layer that you might as well have just skipped it in the first place.</div><br/><div id="42617661" class="c"><input type="checkbox" id="c-42617661" checked=""/><div class="controls bullet"><span class="by">cryptonector</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42617529">parent</a><span>|</span><a href="#42617580">next</a><span>|</span><label class="collapse" for="c-42617661">[-]</label><label class="expand" for="c-42617661">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve worked with a HATEOAS database application written in Ruby using Rails.  It still managed to have HTML- and JSON-specific code.  Its web UI was OK, but not as responsive as a SPA.</div><br/></div></div></div></div><div id="42617580" class="c"><input type="checkbox" id="c-42617580" checked=""/><div class="controls bullet"><span class="by">deniz-a</span><span>|</span><a href="#42616136">root</a><span>|</span><a href="#42617015">parent</a><span>|</span><a href="#42617529">prev</a><span>|</span><a href="#42617301">next</a><span>|</span><label class="collapse" for="c-42617580">[-]</label><label class="expand" for="c-42617580">[1 more]</label></div><br/><div class="children"><div class="content">The &quot;structured data with programmatic access methods&quot; sounds a lot like microformats2 (<a href="https:&#x2F;&#x2F;microformats.org&#x2F;wiki&#x2F;microformats2" rel="nofollow">https:&#x2F;&#x2F;microformats.org&#x2F;wiki&#x2F;microformats2</a>), which is being used quite successfully in the IndieWeb community to drive machine interactions with human websites.</div><br/></div></div></div></div></div></div><div id="42617301" class="c"><input type="checkbox" id="c-42617301" checked=""/><div class="controls bullet"><span class="by">cryptonector</span><span>|</span><a href="#42616136">parent</a><span>|</span><a href="#42616807">prev</a><span>|</span><label class="collapse" for="c-42617301">[-]</label><label class="expand" for="c-42617301">[1 more]</label></div><br/><div class="children"><div class="content">&gt; JSON rest api are just hypermedia rest api but with the data compressed. The compression format is json and the dictionary are the hypermedia relations previously passed in the client.<p>Yes.<p>&gt; It’s 2025, the client don’t need to be generic and able to surf and discover the internet like it’s 2005.<p>No.  Where the client is a user-agent browser sort of application then it has to be generic.<p>&gt; The database is consumed via APIS distributed in two parts: first the client (a lib), second the data: json.<p>Yes-ish.  If instead of a hand-coded &quot;re-hydrator&quot; library you had a schema a schema whose metaschema is supported by the user-agent, then everything would be better because<p>a) you&#x27;d have less code,<p>b) need a lot less dev labor (because of (a), so I repeat myself),<p>c) you get to have structured data APIs that also satisfy the HATEOAS concept.<p>Idk if TFA will like or hate that, but hey.</div><br/></div></div></div></div></div></div></div></div></div></body></html>