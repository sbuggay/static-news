<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1737018071587" as="style"/><link rel="stylesheet" href="styles.css?v=1737018071587"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/cessen/ropey">Ropey – A UTF8 text rope for manipulating and editing large text</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>keepamovin</span> | <span>95 comments</span></div><br/><div><div id="42718354" class="c"><input type="checkbox" id="c-42718354" checked=""/><div class="controls bullet"><span class="by">Validark</span><span>|</span><a href="#42714632">next</a><span>|</span><label class="collapse" for="c-42718354">[-]</label><label class="expand" for="c-42718354">[4 more]</label></div><br/><div class="children"><div class="content">From the Readme:<p>&quot;Unsafe code
Ropey uses unsafe code to help achieve some of its space and performance characteristics. Although effort has been put into keeping the unsafe code compartmentalized and making it correct, please be cautious about using Ropey in software that may face adversarial conditions.<p>Auditing, fuzzing, etc. of the unsafe code in Ropey is extremely welcome. If you find any unsoundness, please file an issue! Also welcome are recommendations for how to remove any of the unsafe code without introducing significant space or performance regressions, or how to compartmentalize the unsafe code even better.&quot;</div><br/><div id="42722001" class="c"><input type="checkbox" id="c-42722001" checked=""/><div class="controls bullet"><span class="by">p-e-w</span><span>|</span><a href="#42718354">parent</a><span>|</span><a href="#42714632">next</a><span>|</span><label class="collapse" for="c-42722001">[-]</label><label class="expand" for="c-42722001">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s such a weird disclaimer, considering that an overwhelming majority of mission-critical software is written <i>entirely</i> in &quot;unsafe&quot; code (that is, C&#x2F;C++).<p>&quot;Please be cautious about using Linux&#x2F;macOS&#x2F;Windows&#x2F;Firefox&#x2F;Chrome&#x2F;Safari in adversarial conditions.&quot; I&#x27;ve never read a statement like that, even though it would be more warranted than in this case.<p>And even unsafe Rust is far safer than C and C++. It still provides automatic memory management <i>by default,</i> the thread safety guarantees that come with ownership, and abstraction mechanics that make it harder to commit blunders that can lead to unsafety.</div><br/><div id="42722344" class="c"><input type="checkbox" id="c-42722344" checked=""/><div class="controls bullet"><span class="by">oguz-ismail</span><span>|</span><a href="#42718354">root</a><span>|</span><a href="#42722001">parent</a><span>|</span><a href="#42714632">next</a><span>|</span><label class="collapse" for="c-42722344">[-]</label><label class="expand" for="c-42722344">[2 more]</label></div><br/><div class="children"><div class="content">Those are well-established languages. Rust&#x27;s only selling point is its alleged safety</div><br/><div id="42722787" class="c"><input type="checkbox" id="c-42722787" checked=""/><div class="controls bullet"><span class="by">p-e-w</span><span>|</span><a href="#42718354">root</a><span>|</span><a href="#42722344">parent</a><span>|</span><a href="#42714632">next</a><span>|</span><label class="collapse" for="c-42722787">[-]</label><label class="expand" for="c-42722787">[1 more]</label></div><br/><div class="children"><div class="content">Rust is pretty well-established now, being used in production by companies like Amazon. Safety is most certainly <i>not</i> its &quot;only selling point&quot;. And the underlying mechanisms have been evaluated in detail by many researchers, both theoretically and practically, so labeling it as &quot;alleged safety&quot; is disingenuous.</div><br/></div></div></div></div></div></div></div></div><div id="42714632" class="c"><input type="checkbox" id="c-42714632" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#42718354">prev</a><span>|</span><a href="#42712866">next</a><span>|</span><label class="collapse" for="c-42714632">[-]</label><label class="expand" for="c-42714632">[18 more]</label></div><br/><div class="children"><div class="content">Rust is missing an abstraction over non-contiguous chunks of contiguous allocations of data that would make handling ropes seamless and more natural even for smaller sizes.<p>C# has the concept of “Sequences” which is basically a generalization of a deque with associated classes and apis such as ReadOnlySequence and SequenceReader to encourage reduced allocations, reuse of existing buffers&#x2F;slices even for composition, etc<p>Knowing the rust community, I wouldn’t be surprised if there’s already an RFC for something like this.</div><br/><div id="42714900" class="c"><input type="checkbox" id="c-42714900" checked=""/><div class="controls bullet"><span class="by">gpm</span><span>|</span><a href="#42714632">parent</a><span>|</span><a href="#42715835">next</a><span>|</span><label class="collapse" for="c-42714900">[-]</label><label class="expand" for="c-42714900">[11 more]</label></div><br/><div class="children"><div class="content">I think you might be looking for the bytes crate, which is pretty widely used in networking code: <a href="https:&#x2F;&#x2F;docs.rs&#x2F;bytes&#x2F;latest&#x2F;bytes&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;docs.rs&#x2F;bytes&#x2F;latest&#x2F;bytes&#x2F;index.html</a><p>In general this sort of structure is the sort of thing I&#x27;d expect to see in an external crate in rust, not the standard library. So it&#x27;s unlikely there&#x27;s any RFCs, and more likely there&#x27;s a few competing implementations lying around.</div><br/><div id="42715243" class="c"><input type="checkbox" id="c-42715243" checked=""/><div class="controls bullet"><span class="by">zamalek</span><span>|</span><a href="#42714632">root</a><span>|</span><a href="#42714900">parent</a><span>|</span><a href="#42715109">next</a><span>|</span><label class="collapse" for="c-42715243">[-]</label><label class="expand" for="c-42715243">[9 more]</label></div><br/><div class="children"><div class="content">Bytes is essentially multiple slices over a optimistically single contiguous arc buffer. It&#x27;s basically the inverse of what the root comment is after (an array of buffers). It&#x27;s a rather strange crate because network IO doesn&#x27;t actually need contiguous memory.<p>std does actually have a vague version of what the root comment wants: <a href="https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;io&#x2F;struct.IoSlice.html" rel="nofollow">https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;std&#x2F;io&#x2F;struct.IoSlice.html</a> and its sibling IoSliceMut (slicing, appending, inserting, etc. is out of scope for both - so not usable for rope stuff)</div><br/><div id="42722003" class="c"><input type="checkbox" id="c-42722003" checked=""/><div class="controls bullet"><span class="by">Arnavion</span><span>|</span><a href="#42714632">root</a><span>|</span><a href="#42715243">parent</a><span>|</span><a href="#42717403">next</a><span>|</span><label class="collapse" for="c-42722003">[-]</label><label class="expand" for="c-42722003">[1 more]</label></div><br/><div class="children"><div class="content">The bytes crate does support what ComputerGuru asked for via the Buf trait. The trait can be implemented over a sequence of buffers but still provides functions that are common with single buffers. For example the hyper crate uses the trait in exactly this way - it has an internal type that is a VecDeque of chunks but also implements the Buf trait.<p><a href="https:&#x2F;&#x2F;docs.rs&#x2F;bytes&#x2F;1.9.0&#x2F;bytes&#x2F;buf&#x2F;trait.Buf.html" rel="nofollow">https:&#x2F;&#x2F;docs.rs&#x2F;bytes&#x2F;1.9.0&#x2F;bytes&#x2F;buf&#x2F;trait.Buf.html</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;hyperium&#x2F;hyper&#x2F;blob&#x2F;3817a79b213f840302d7e27fac8508de9caada0f&#x2F;src&#x2F;common&#x2F;buf.rs">https:&#x2F;&#x2F;github.com&#x2F;hyperium&#x2F;hyper&#x2F;blob&#x2F;3817a79b213f840302d7e...</a></div><br/></div></div><div id="42717403" class="c"><input type="checkbox" id="c-42717403" checked=""/><div class="controls bullet"><span class="by">derefr</span><span>|</span><a href="#42714632">root</a><span>|</span><a href="#42715243">parent</a><span>|</span><a href="#42722003">prev</a><span>|</span><a href="#42716249">next</a><span>|</span><label class="collapse" for="c-42717403">[-]</label><label class="expand" for="c-42717403">[6 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s a rather strange crate because network IO doesn&#x27;t actually need contiguous memory.<p>Network IO doesn&#x27;t <i>need</i> contiguous memory, no, but each side of the duplex kind of benefits from it in its own way:<p>1. on receive, you can treat a <i>contiguous</i> received network datagram as its own little memory arena — write code that sends sliced references to the contents of the datagram to other threads to work with, where those references keep the datagram arena itself alive for as long as it&#x27;s being worked with; and then drop the whole thing when the handling of the datagram is complete.<p>(This is somewhat akin to the Erlang approach — where the received message is a globally-shared binary; it gets passed by refcount into an actor started just for handling that request; that actor is spawned with its own preallocated memory arena; into that arena, the actor spits any temporaries related to copying&#x2F;munging the slices of the shared binary, without having to grow the arena; the actor quickly finishes and dies; the arena is deallocated without ever having had to GC, and the refcount of the shared binary goes to zero — unless non-copied slices of it were async-forwarded to other actors for further processing.)<p>Also note that the whole premise here is <i>zero-copy</i> networking (as the bytes docs say: <a href="https:&#x2F;&#x2F;docs.rs&#x2F;bytes&#x2F;1.9.0&#x2F;bytes&#x2F;#bytes" rel="nofollow">https:&#x2F;&#x2F;docs.rs&#x2F;bytes&#x2F;1.9.0&#x2F;bytes&#x2F;#bytes</a>). The &quot;message&quot; being received here isn&#x27;t a copy of the one from the network card, but literally the same physical wired memory the PHY sees as being part of its IO ring-buffer — just also mapped into your process&#x27;s memory on (zero-copy) receive. If this data came chunked, you&#x27;d <i>need</i> to copy some of it to assemble those chunks into a contiguous string or data structure. But since it arrives contiguously, you can just slice it, and cast the resulting slice into whatever type you like.<p>2. on send — presuming you&#x27;re doing non-blocking IO — it&#x27;s nice to once again have a <i>preallocated arena</i> into which you can write out byte-sequences before flinging them at the kernel as [vectors of] large, contiguous DMA requests, without having to stop to allocate. (This removes the CPU as a bottleneck from IO performance — think writev(2).)<p>The ideal design here is that you allocate fixed-sized refcounted buffers; fill them up until the next thing you want to write doesn&#x27;t fit†; and then intentionally drop the current buffer, switching your write_arena reference to point to a freshly-allocated buffer; and repeating. Each buffer then lives until all its slice-references get consumed. This forms kind of a &quot;memory-lifetime-managed buffer-persisted message queue&quot; — with the backing buffers of your messages living until all the messages held in them get &quot;ACKed&quot; [i.e. dropped by the receiving threads.]<p>Also, rather than having the buffers deallocate when you &quot;use them up&quot; — requiring you to allocate the next time you need a buffer — you can instead have the buffer&#x27;s destructor release the memory it&#x27;s holding into a buffer pool; and then have your next-buffer-please logic pull from that pool in preference to allocating. But then you&#x27;ll want a higher-level &quot;writable stream that is actually a mempool + current write_arena reference&quot; type. (Hey, that&#x27;s BufMut!)<p>† And at that point, when the next message doesn&#x27;t fit, you <i>do not split the message</i>. That violates the whole premise of vectorizing the writes. Instead, you leave some of the buffer unused, and push the large message into a fresh buffer, so that the message will still correspond to a single vectorized-write element &#x2F; io_uring call &#x2F; DMA request &#x2F; etc. If the message is so large it won&#x27;t fit in your default buffer size, you allocate a buffer just for that one message, or better yet, you utilize a special second pool of <i>larger</i> fixed-size buffers. &quot;Jumbo&quot; buffers, per se.<p>(Get it yet? Networking <i>hardware</i> is also doing exactly what I&#x27;m describing here to pack and unpack your packets into frames. For a NIC or switch, the buffers <i>are</i> the [bodies of the] frames; a jumbo buffer is an Ethernet jumbo frame; and so on.)</div><br/><div id="42718120" class="c"><input type="checkbox" id="c-42718120" checked=""/><div class="controls bullet"><span class="by">zamalek</span><span>|</span><a href="#42714632">root</a><span>|</span><a href="#42717403">parent</a><span>|</span><a href="#42718946">next</a><span>|</span><label class="collapse" for="c-42718120">[-]</label><label class="expand" for="c-42718120">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Get it yet<p>I&#x27;m not sure if your comment was meant to be condescending, but it really does come across at that. I&#x27;m very well versed in this domain.<p>Having a per-request&#x2F;connection arena isn&#x27;t the only option. What I have seen&#x2F;use, which is still zero copy (as far as IO zero copy can be in Rust without resorting to bytemuck&#x2F;blittable types), is to have a pool of buffers of a specific length - typically page-sized by default and definitely page-aligned. These buffers can come from a single large contiguous allocation. If you run out of space in a buffer you grab a new&#x2F;reused one from the pool, add it to your vec of buffers, and carry on. At the end of the story you would use vectored IO to submit all of them at once - all the way down to the NIC and everything.<p>This approach is more widespread mainly due to historical reasons: it&#x27;s really easy to fragment 32bit address space, so allocating jumbo buffers simply wasn&#x27;t an option if you didn&#x27;t want your server OOMing with 1GB of available (but non-contiguous) memory.<p><a href="https:&#x2F;&#x2F;man7.org&#x2F;linux&#x2F;man-pages&#x2F;man3&#x2F;iovec.3type.html" rel="nofollow">https:&#x2F;&#x2F;man7.org&#x2F;linux&#x2F;man-pages&#x2F;man3&#x2F;iovec.3type.html</a><p><a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;api&#x2F;ws2def&#x2F;ns-ws2def-wsabuf" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;api&#x2F;ws2def&#x2F;n...</a></div><br/><div id="42718874" class="c"><input type="checkbox" id="c-42718874" checked=""/><div class="controls bullet"><span class="by">derefr</span><span>|</span><a href="#42714632">root</a><span>|</span><a href="#42718120">parent</a><span>|</span><a href="#42718946">next</a><span>|</span><label class="collapse" for="c-42718874">[-]</label><label class="expand" for="c-42718874">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;m very well versed in this domain.<p>Apologies, I wasn&#x27;t really responding to you directly; I was just taking the opportunity to write an educational-blog-post-as-comment aimed at the average HN reader (who has likely never considered what an Ethernet frame even is, or how a device that uses what are essentially DSPs does TDM packet scheduling) — with your comment being the parent because it&#x27;s the necessary prerequisite reading to motivate the lesson.<p>&gt; Having a per-request&#x2F;connection arena isn&#x27;t the only option. What I have seen&#x2F;use, which is still zero copy (as far as IO zero copy can be in Rust without resorting to bytemuck&#x2F;blittable types), is to have a pool of buffers of a specific length - typically page-sized by default and definitely page-aligned. These buffers can come from a single large contiguous allocation. If you run out of space in a buffer you grab a new&#x2F;reused one from the pool, add it to your vec of buffers, and carry on. At the end of the story you would use vectored IO to submit all of them at once - all the way down to the NIC and everything.<p>I think you&#x27;re focusing too much on the word &quot;arena&quot; here, because AFAICT we&#x27;re both describing the same concept.<p>In your model (closer to the one used in actual switching), there&#x27;s a single global buffer pool that all concurrent requests lease from; in my model, there&#x27;s global heap memory, and then a per-thread&#x2F;actor&#x2F;buf-object elastic buffer pool that allocates from the global heap every once in a while, but otherwise reuses buffers internally.<p>I would say that your model is probably the one used in most zero-copy networking frameworks like DPDK. While my model is probably the one used in most language runtimes — especially managed + garbage-collected runtimes, where contending over a <i>global</i> language-exposed pool, can be more expensive than &quot;allocating&quot; (especially when the runtime has its own buffer pool and &quot;allocation&quot; rarely hits the kernel.)<p>But both models are essentially the same from the perspective of someone <i>using</i> the buffer ADT and trying to understand why it&#x27;s designed the way it is, what it gets them, etc. :)<p>&gt; it&#x27;s really easy to fragment 32bit address space, so allocating jumbo buffers simply wasn&#x27;t an option if you didn&#x27;t want your server OOMing with 1GB of available (but non-contiguous) memory.<p>Maybe you&#x27;re imagining something else here, but when I say &quot;jumbo buffer&quot;, I don&#x27;t mean custom buffers allocated on demand and right-sized to hold one message; rather, I&#x27;m speaking of something very closely resembling actual jumbo frames — i.e. another pre-allocated pool containing a smaller number of larger, fixed-size MTU-slot buffers.<p>With this kind of jumbo-buffer-pool, when your messages get big, you switch over from filling regular buffers to filling jumbo buffers — which holds off message fragmentation, but also means new messages go &quot;out the door&quot; a bit slower, maybe &quot;platoon&quot; a bit and potentially overwhelm the recipient with each burst, etc (which is why you don&#x27;t just use the larger buffer pool as the only pool.)<p>But if your messages can be bigger than your set jumbo-buffer size, then there&#x27;s nowhere to go from there; you still need to have a way to split messages across frames.<p>(Luckily, in the case of `bytes`, splitting a message across frames just means the message now needs multiple iovec-list entries to submit, rather than implying a framing protocol &#x2F; L2 message encoding with a continuation marker &#x2F; sequence ID &#x2F; etc.)</div><br/></div></div></div></div><div id="42718946" class="c"><input type="checkbox" id="c-42718946" checked=""/><div class="controls bullet"><span class="by">BeeOnRope</span><span>|</span><a href="#42714632">root</a><span>|</span><a href="#42717403">parent</a><span>|</span><a href="#42718120">prev</a><span>|</span><a href="#42716249">next</a><span>|</span><label class="collapse" for="c-42718946">[-]</label><label class="expand" for="c-42718946">[3 more]</label></div><br/><div class="children"><div class="content">How does bytes crate, or anyone else, offer zero copy receive from kernel (as opposed to kernel bypass) sockets?<p>As far as I know that is not possible: there&#x27;s always a copy.</div><br/><div id="42719202" class="c"><input type="checkbox" id="c-42719202" checked=""/><div class="controls bullet"><span class="by">derefr</span><span>|</span><a href="#42714632">root</a><span>|</span><a href="#42718946">parent</a><span>|</span><a href="#42716249">next</a><span>|</span><label class="collapse" for="c-42719202">[-]</label><label class="expand" for="c-42719202">[2 more]</label></div><br/><div class="children"><div class="content">For network receive, I was assuming kernel-bypass sockets, not kernel sockets.<p>`bytes` <i>can</i> give you &quot;ring-buffer-like&quot; <i>one</i>-copy kernel-socket receive by e.g. using the Buf as the target for scheduling io_uring read&#x2F;recv into.<p>Also, RDMA is technically networking! (Though I think all the Rust RDMA libraries already provide ADTs that work like Buf&#x2F;MutBuf, rather than just saying &quot;here&#x27;s some network-shared memory, build your own ADT on top.&quot;)</div><br/><div id="42719634" class="c"><input type="checkbox" id="c-42719634" checked=""/><div class="controls bullet"><span class="by">BeeOnRope</span><span>|</span><a href="#42714632">root</a><span>|</span><a href="#42719202">parent</a><span>|</span><a href="#42716249">next</a><span>|</span><label class="collapse" for="c-42719634">[-]</label><label class="expand" for="c-42719634">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, you mention explicitly kernel networking right below about the send path:<p>&gt; before flinging them at the kernel as [vectors of] large, contiguous DMA requests, without having to stop to allocate<p>So I had assumed you were taking about kernel networking elsewhere as well.<p>BTW, on the kernel send path, there is again a copy, contiguous or not, regardless of what API you use.<p>When using kernel networking I don&#x27;t think contiguity matters as you suggest, as there is always a copy. Furthermore &quot;contiguous&quot; in userspace doesn&#x27;t correspond to contiguous in physical address space so in any case the hardware is just often going to see a userspace buffer as a series of discontiguous pages anyway: that&#x27;s what happens with direct IO disk writes, which _are_ zero copy (huge pages helps).</div><br/></div></div></div></div></div></div></div></div><div id="42716249" class="c"><input type="checkbox" id="c-42716249" checked=""/><div class="controls bullet"><span class="by">cmrdporcupine</span><span>|</span><a href="#42714632">root</a><span>|</span><a href="#42715243">parent</a><span>|</span><a href="#42717403">prev</a><span>|</span><a href="#42715109">next</a><span>|</span><label class="collapse" for="c-42716249">[-]</label><label class="expand" for="c-42716249">[1 more]</label></div><br/><div class="children"><div class="content">Yah I&#x27;d Bytes&#x27; chief use is avoiding copies when dealing with distinct portions of (contiguous) buffers.<p>It is not a tool for composing disparate pieces into one (while avoiding copies)</div><br/></div></div></div></div></div></div><div id="42715835" class="c"><input type="checkbox" id="c-42715835" checked=""/><div class="controls bullet"><span class="by">caconym_</span><span>|</span><a href="#42714632">parent</a><span>|</span><a href="#42714900">prev</a><span>|</span><a href="#42715027">next</a><span>|</span><label class="collapse" for="c-42715835">[-]</label><label class="expand" for="c-42715835">[2 more]</label></div><br/><div class="children"><div class="content">I wrote a utf-8 capable (but also fully generic over element type) rope implementation in Rust last fall (edit: 2023) and the main issue I ran into was the lack of a suitable regex library capable of working across slice boundaries. With some finagling I did manage to get it to work with most&#x2F;all of the other relevant iterator&#x2F;reader traits IIRC, and it benchmarked fairly well from a practical perspective, though it&#x27;s not as fast as some of the other explicitly performance-focused implementations out there.<p>I&#x27;m afraid I might not have that much free time again for a long time, but maybe when I do, somebody will have solved the regex issue for me...</div><br/><div id="42719713" class="c"><input type="checkbox" id="c-42719713" checked=""/><div class="controls bullet"><span class="by">celeritascelery</span><span>|</span><a href="#42714632">root</a><span>|</span><a href="#42715835">parent</a><span>|</span><a href="#42715027">next</a><span>|</span><label class="collapse" for="c-42719713">[-]</label><label class="expand" for="c-42719713">[1 more]</label></div><br/><div class="children"><div class="content">There is a crate that can handle regex over non contiguous data. It had some weak points, but overall is really good<p><a href="https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;regex-cursor" rel="nofollow">https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;regex-cursor</a></div><br/></div></div></div></div><div id="42715027" class="c"><input type="checkbox" id="c-42715027" checked=""/><div class="controls bullet"><span class="by">deathanatos</span><span>|</span><a href="#42714632">parent</a><span>|</span><a href="#42715835">prev</a><span>|</span><a href="#42714863">next</a><span>|</span><label class="collapse" for="c-42715027">[-]</label><label class="expand" for="c-42715027">[1 more]</label></div><br/><div class="children"><div class="content">Hmm. It&#x27;s similar to, but not fully, a `BufRead`? Maybe a `BufRead + Seek`. The slicing ability isn&#x27;t really covered by those traits, though, but I think you could wrap a BufRead+Seek in something that effectively slices it.<p>A `BufRead + Seek` need not be backed by memory, though, except in the midst of being read. (A buffered normal file implements `BufRead + Seek`, for example.)<p>I feel like either Iterator or in some rare case of requiring generic indexing, Index, are more important than &quot;it is composed of some number of linked memory allocations&quot;?<p>A ReadOnlySequence seems to imply a linked-list of memory sections though; I&#x27;m not sure a good rope is going to be able to non-trivially interface with that, since the rope is a tree; walking the nodes in sequence is possible, but it&#x27;s a tree walk, and something like ReadOnlySequenceSegment::Next() is then a bit <i>tricky</i>. (You could gather the set of nodes into an array ahead of time, but now merely turning it into that is O(nodes) which is sad.)<p>(And while it might be tempting to say &quot;have the leaf nodes be a LL&quot;, I don&#x27;t think you <i>want</i> to, as it means that inserts need to adjust those links, and I think you would rather have mutations produce a cheaply made but entirely new tree, which I don&#x27;t think permits a LL of the leafs. You want this to make undo&#x2F;redo cheap: it&#x27;s just &quot;go back to the last rope&quot;, and then all the ropes share the underlying character data that&#x27;s not changing rope to rope. The rope in the OP seems to support this: &quot;Cloning ropes is extremely cheap. Rope clones share data,&quot;)</div><br/></div></div><div id="42714863" class="c"><input type="checkbox" id="c-42714863" checked=""/><div class="controls bullet"><span class="by">jzelinskie</span><span>|</span><a href="#42714632">parent</a><span>|</span><a href="#42715027">prev</a><span>|</span><a href="#42716360">next</a><span>|</span><label class="collapse" for="c-42714863">[-]</label><label class="expand" for="c-42714863">[1 more]</label></div><br/><div class="children"><div class="content">Is buf-list[0] what you&#x27;re describing?<p>[0]: <a href="https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;buf-list" rel="nofollow">https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;buf-list</a></div><br/></div></div><div id="42716360" class="c"><input type="checkbox" id="c-42716360" checked=""/><div class="controls bullet"><span class="by">theolivenbaum</span><span>|</span><a href="#42714632">parent</a><span>|</span><a href="#42714863">prev</a><span>|</span><a href="#42716146">next</a><span>|</span><label class="collapse" for="c-42716360">[-]</label><label class="expand" for="c-42716360">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also a really nice implementation of Rope for C# here: <a href="https:&#x2F;&#x2F;github.com&#x2F;FlatlinerDOA&#x2F;Rope">https:&#x2F;&#x2F;github.com&#x2F;FlatlinerDOA&#x2F;Rope</a></div><br/></div></div><div id="42716146" class="c"><input type="checkbox" id="c-42716146" checked=""/><div class="controls bullet"><span class="by">duped</span><span>|</span><a href="#42714632">parent</a><span>|</span><a href="#42716360">prev</a><span>|</span><a href="#42712866">next</a><span>|</span><label class="collapse" for="c-42716146">[-]</label><label class="expand" for="c-42716146">[1 more]</label></div><br/><div class="children"><div class="content">Vec&lt;Vec&lt;T&gt;&gt;?</div><br/></div></div></div></div><div id="42712866" class="c"><input type="checkbox" id="c-42712866" checked=""/><div class="controls bullet"><span class="by">rdimartino</span><span>|</span><a href="#42714632">prev</a><span>|</span><a href="#42714325">next</a><span>|</span><label class="collapse" for="c-42712866">[-]</label><label class="expand" for="c-42712866">[27 more]</label></div><br/><div class="children"><div class="content">I hadn&#x27;t heard of rope data structures until I read about the xi editor (also written in Rust) a few years ago, but it looks like that&#x27;s been discontinued.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;xi-editor&#x2F;xi-editor">https:&#x2F;&#x2F;github.com&#x2F;xi-editor&#x2F;xi-editor</a></div><br/><div id="42713614" class="c"><input type="checkbox" id="c-42713614" checked=""/><div class="controls bullet"><span class="by">kibwen</span><span>|</span><a href="#42712866">parent</a><span>|</span><a href="#42713765">next</a><span>|</span><label class="collapse" for="c-42713614">[-]</label><label class="expand" for="c-42713614">[15 more]</label></div><br/><div class="children"><div class="content">The authors of Xi are currently working on Xilem, an experimental reactive UI framework for Rust: <a href="https:&#x2F;&#x2F;github.com&#x2F;linebender&#x2F;xilem">https:&#x2F;&#x2F;github.com&#x2F;linebender&#x2F;xilem</a><p>In the announcement post, they mention that work on Xi is considered &quot;on hold&quot; rather than strictly discontinued: <a href="https:&#x2F;&#x2F;raphlinus.github.io&#x2F;rust&#x2F;gui&#x2F;2022&#x2F;05&#x2F;07&#x2F;ui-architecture.html" rel="nofollow">https:&#x2F;&#x2F;raphlinus.github.io&#x2F;rust&#x2F;gui&#x2F;2022&#x2F;05&#x2F;07&#x2F;ui-architect...</a></div><br/><div id="42713763" class="c"><input type="checkbox" id="c-42713763" checked=""/><div class="controls bullet"><span class="by">infogulch</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42713614">parent</a><span>|</span><a href="#42713767">next</a><span>|</span><label class="collapse" for="c-42713763">[-]</label><label class="expand" for="c-42713763">[7 more]</label></div><br/><div class="children"><div class="content">Legendary-tier yak shaving.<p>&quot;I want to build an editor, but first I must solve rendering 2D graphics purely on the GPU, invent a parallelizable path solver, and code a human perception-based color value manipulation library.&quot;</div><br/><div id="42714398" class="c"><input type="checkbox" id="c-42714398" checked=""/><div class="controls bullet"><span class="by">PoignardAzur</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42713763">parent</a><span>|</span><a href="#42716020">next</a><span>|</span><label class="collapse" for="c-42714398">[-]</label><label class="expand" for="c-42714398">[1 more]</label></div><br/><div class="children"><div class="content">You have no idea.<p>I think we&#x27;re at five or six levels of yaks by now.<p>(xi -&gt; xilem -&gt; masonry -&gt; vello -&gt; peniko -&gt; color)</div><br/></div></div><div id="42716020" class="c"><input type="checkbox" id="c-42716020" checked=""/><div class="controls bullet"><span class="by">bbkane</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42713763">parent</a><span>|</span><a href="#42714398">prev</a><span>|</span><a href="#42717365">next</a><span>|</span><label class="collapse" for="c-42716020">[-]</label><label class="expand" for="c-42716020">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a lot of fun to follow, especially as its so different than my developmental expertise.<p>You can see the current projects (13 active) on <a href="https:&#x2F;&#x2F;linebender.org" rel="nofollow">https:&#x2F;&#x2F;linebender.org</a> , and several members post interesting checkins in <a href="https:&#x2F;&#x2F;xi.zulipchat.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xi.zulipchat.com&#x2F;</a></div><br/></div></div><div id="42717365" class="c"><input type="checkbox" id="c-42717365" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42713763">parent</a><span>|</span><a href="#42716020">prev</a><span>|</span><a href="#42716748">next</a><span>|</span><label class="collapse" for="c-42717365">[-]</label><label class="expand" for="c-42717365">[1 more]</label></div><br/><div class="children"><div class="content">&gt; first I must solve rendering 2D graphics purely on the GPU<p>To be fair, the original author of Xi (&#x27;raphlinus) has been working on GPU-side 2D rendering much longer than on Xi.</div><br/></div></div><div id="42716748" class="c"><input type="checkbox" id="c-42716748" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42713763">parent</a><span>|</span><a href="#42717365">prev</a><span>|</span><a href="#42713767">next</a><span>|</span><label class="collapse" for="c-42716748">[-]</label><label class="expand" for="c-42716748">[3 more]</label></div><br/><div class="children"><div class="content">This is the path to Enlightenment (17).</div><br/><div id="42720729" class="c"><input type="checkbox" id="c-42720729" checked=""/><div class="controls bullet"><span class="by">mech422</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42716748">parent</a><span>|</span><a href="#42713767">next</a><span>|</span><label class="collapse" for="c-42720729">[-]</label><label class="expand" for="c-42720729">[2 more]</label></div><br/><div class="children"><div class="content">They just had a release as well :-)
It doesn&#x27;t really seem to get much press anymore...
Back in the &#x27;early days&#x27; - wow! E! was something pretty special :-D</div><br/><div id="42720751" class="c"><input type="checkbox" id="c-42720751" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42720729">parent</a><span>|</span><a href="#42713767">next</a><span>|</span><label class="collapse" for="c-42720751">[-]</label><label class="expand" for="c-42720751">[1 more]</label></div><br/><div class="children"><div class="content">E15 or so was mindblowing at the time. It was living in a sci-fi movie.</div><br/></div></div></div></div></div></div></div></div><div id="42713767" class="c"><input type="checkbox" id="c-42713767" checked=""/><div class="controls bullet"><span class="by">amanda99</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42713614">parent</a><span>|</span><a href="#42713763">prev</a><span>|</span><a href="#42713765">next</a><span>|</span><label class="collapse" for="c-42713767">[-]</label><label class="expand" for="c-42713767">[7 more]</label></div><br/><div class="children"><div class="content">Repo says &quot;discontinued&quot;.</div><br/><div id="42714149" class="c"><input type="checkbox" id="c-42714149" checked=""/><div class="controls bullet"><span class="by">daveguy</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42713767">parent</a><span>|</span><a href="#42713765">next</a><span>|</span><label class="collapse" for="c-42714149">[-]</label><label class="expand" for="c-42714149">[6 more]</label></div><br/><div class="children"><div class="content">Yes, the xi repo is discontinued. They recommend the lapce editor as the spiritual successor:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;lapce&#x2F;lapce">https:&#x2F;&#x2F;github.com&#x2F;lapce&#x2F;lapce</a></div><br/><div id="42715076" class="c"><input type="checkbox" id="c-42715076" checked=""/><div class="controls bullet"><span class="by">satvikpendem</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42714149">parent</a><span>|</span><a href="#42716539">next</a><span>|</span><label class="collapse" for="c-42715076">[-]</label><label class="expand" for="c-42715076">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;d also recommend Helix [0] (which also uses the rope data structure [1]), that&#x27;s a more widely used editor also written in Rust.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;helix-editor&#x2F;helix">https:&#x2F;&#x2F;github.com&#x2F;helix-editor&#x2F;helix</a><p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;helix-editor&#x2F;helix&#x2F;blob&#x2F;master&#x2F;docs&#x2F;architecture.md">https:&#x2F;&#x2F;github.com&#x2F;helix-editor&#x2F;helix&#x2F;blob&#x2F;master&#x2F;docs&#x2F;archi...</a></div><br/><div id="42718853" class="c"><input type="checkbox" id="c-42718853" checked=""/><div class="controls bullet"><span class="by">jll29</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42715076">parent</a><span>|</span><a href="#42716083">next</a><span>|</span><label class="collapse" for="c-42718853">[-]</label><label class="expand" for="c-42718853">[2 more]</label></div><br/><div class="children"><div class="content">This looks pretty cool - except... modes like in vi are a no-go area; has anyone tried to modify the GUI (key bindings) to make it similar to Emacs or Notepad?<p>The extra keypress for switching between &quot;i&quot; (inserting text) &quot;ESC&quot; (moving cursor) &quot;i&quot;... would drive me insane (just not used to it, but used to very fast, friction-free typing&#x2F;editing).</div><br/><div id="42720437" class="c"><input type="checkbox" id="c-42720437" checked=""/><div class="controls bullet"><span class="by">satvikpendem</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42718853">parent</a><span>|</span><a href="#42716083">next</a><span>|</span><label class="collapse" for="c-42720437">[-]</label><label class="expand" for="c-42720437">[1 more]</label></div><br/><div class="children"><div class="content">There might be mods but it is fundamentally built around those vi like keybindings so you&#x27;ll be fighting an uphill battle.</div><br/></div></div></div></div><div id="42716083" class="c"><input type="checkbox" id="c-42716083" checked=""/><div class="controls bullet"><span class="by">VeejayRampay</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42715076">parent</a><span>|</span><a href="#42718853">prev</a><span>|</span><a href="#42716539">next</a><span>|</span><label class="collapse" for="c-42716083">[-]</label><label class="expand" for="c-42716083">[1 more]</label></div><br/><div class="children"><div class="content">helix is a really really good text editor &#x2F; terminal IDE<p>I&#x27;m seriously impressed by the level of quality out of the box</div><br/></div></div></div></div><div id="42716539" class="c"><input type="checkbox" id="c-42716539" checked=""/><div class="controls bullet"><span class="by">pryelluw</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42714149">parent</a><span>|</span><a href="#42715076">prev</a><span>|</span><a href="#42713765">next</a><span>|</span><label class="collapse" for="c-42716539">[-]</label><label class="expand" for="c-42716539">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for posting. I discovered floem <a href="https:&#x2F;&#x2F;github.com&#x2F;lapce&#x2F;floem">https:&#x2F;&#x2F;github.com&#x2F;lapce&#x2F;floem</a>
I’ve been looking for something like it</div><br/></div></div></div></div></div></div></div></div><div id="42713765" class="c"><input type="checkbox" id="c-42713765" checked=""/><div class="controls bullet"><span class="by">itishappy</span><span>|</span><a href="#42712866">parent</a><span>|</span><a href="#42713614">prev</a><span>|</span><a href="#42715352">next</a><span>|</span><label class="collapse" for="c-42713765">[-]</label><label class="expand" for="c-42713765">[5 more]</label></div><br/><div class="children"><div class="content">Zed uses something similar to ropes as well:<p><a href="https:&#x2F;&#x2F;zed.dev&#x2F;blog&#x2F;zed-decoded-rope-sumtree" rel="nofollow">https:&#x2F;&#x2F;zed.dev&#x2F;blog&#x2F;zed-decoded-rope-sumtree</a></div><br/><div id="42714717" class="c"><input type="checkbox" id="c-42714717" checked=""/><div class="controls bullet"><span class="by">infogulch</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42713765">parent</a><span>|</span><a href="#42714095">next</a><span>|</span><label class="collapse" for="c-42714717">[-]</label><label class="expand" for="c-42714717">[2 more]</label></div><br/><div class="children"><div class="content">Zed&#x27;s Sum Tree is my favorite datastructure ever and is the future of database indexes.</div><br/><div id="42717992" class="c"><input type="checkbox" id="c-42717992" checked=""/><div class="controls bullet"><span class="by">senderista</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42714717">parent</a><span>|</span><a href="#42714095">next</a><span>|</span><label class="collapse" for="c-42717992">[-]</label><label class="expand" for="c-42717992">[1 more]</label></div><br/><div class="children"><div class="content">I think this is what Guy Steele called a &quot;monoid-cached tree&quot;:<p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=ftcIcn8AmSY" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=ftcIcn8AmSY</a></div><br/></div></div></div></div><div id="42714095" class="c"><input type="checkbox" id="c-42714095" checked=""/><div class="controls bullet"><span class="by">PittleyDunkin</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42713765">parent</a><span>|</span><a href="#42714717">prev</a><span>|</span><a href="#42715352">next</a><span>|</span><label class="collapse" for="c-42714095">[-]</label><label class="expand" for="c-42714095">[2 more]</label></div><br/><div class="children"><div class="content">Zed seems to be a gui-oriented editor here: <a href="https:&#x2F;&#x2F;zed.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;zed.dev&#x2F;</a></div><br/><div id="42714380" class="c"><input type="checkbox" id="c-42714380" checked=""/><div class="controls bullet"><span class="by">supriyo-biswas</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42714095">parent</a><span>|</span><a href="#42715352">next</a><span>|</span><label class="collapse" for="c-42714380">[-]</label><label class="expand" for="c-42714380">[1 more]</label></div><br/><div class="children"><div class="content">You still need a backing data structure that holds the contents of your editor, and that&#x27;s where you&#x27;d use a rope.</div><br/></div></div></div></div></div></div><div id="42715352" class="c"><input type="checkbox" id="c-42715352" checked=""/><div class="controls bullet"><span class="by">secondcoming</span><span>|</span><a href="#42712866">parent</a><span>|</span><a href="#42713765">prev</a><span>|</span><a href="#42714325">next</a><span>|</span><label class="collapse" for="c-42715352">[-]</label><label class="expand" for="c-42715352">[6 more]</label></div><br/><div class="children"><div class="content">Is it even possible to write any text editor without some form of rope data structure?</div><br/><div id="42715775" class="c"><input type="checkbox" id="c-42715775" checked=""/><div class="controls bullet"><span class="by">cschmidt</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42715352">parent</a><span>|</span><a href="#42720129">next</a><span>|</span><label class="collapse" for="c-42715775">[-]</label><label class="expand" for="c-42715775">[1 more]</label></div><br/><div class="children"><div class="content">Here&#x27;s a paper reviewing the various choices, that is often mentioned in discussions around data structures for text editors:<p><a href="https:&#x2F;&#x2F;www.cs.unm.edu&#x2F;~crowley&#x2F;papers&#x2F;sds.pdf" rel="nofollow">https:&#x2F;&#x2F;www.cs.unm.edu&#x2F;~crowley&#x2F;papers&#x2F;sds.pdf</a></div><br/></div></div><div id="42720129" class="c"><input type="checkbox" id="c-42720129" checked=""/><div class="controls bullet"><span class="by">ben-schaaf</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42715352">parent</a><span>|</span><a href="#42715775">prev</a><span>|</span><a href="#42715642">next</a><span>|</span><label class="collapse" for="c-42720129">[-]</label><label class="expand" for="c-42720129">[2 more]</label></div><br/><div class="children"><div class="content">VSCode uses a piece table (<a href="https:&#x2F;&#x2F;code.visualstudio.com&#x2F;blogs&#x2F;2018&#x2F;03&#x2F;23&#x2F;text-buffer-reimplementation" rel="nofollow">https:&#x2F;&#x2F;code.visualstudio.com&#x2F;blogs&#x2F;2018&#x2F;03&#x2F;23&#x2F;text-buffer-r...</a>).</div><br/><div id="42722593" class="c"><input type="checkbox" id="c-42722593" checked=""/><div class="controls bullet"><span class="by">canucker2016</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42720129">parent</a><span>|</span><a href="#42715642">next</a><span>|</span><label class="collapse" for="c-42722593">[-]</label><label class="expand" for="c-42722593">[1 more]</label></div><br/><div class="children"><div class="content">MS Word used piece table, which led to the &quot;fast save&quot; feature - which saved only the newer pieces.</div><br/></div></div></div></div><div id="42715642" class="c"><input type="checkbox" id="c-42715642" checked=""/><div class="controls bullet"><span class="by">caconym_</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42715352">parent</a><span>|</span><a href="#42720129">prev</a><span>|</span><a href="#42715797">next</a><span>|</span><label class="collapse" for="c-42715642">[-]</label><label class="expand" for="c-42715642">[1 more]</label></div><br/><div class="children"><div class="content">Gap buffers are the other classic option, and there are others too, e.g. piece tables.</div><br/></div></div><div id="42715797" class="c"><input type="checkbox" id="c-42715797" checked=""/><div class="controls bullet"><span class="by">marssaxman</span><span>|</span><a href="#42712866">root</a><span>|</span><a href="#42715352">parent</a><span>|</span><a href="#42715642">prev</a><span>|</span><a href="#42714325">next</a><span>|</span><label class="collapse" for="c-42715797">[-]</label><label class="expand" for="c-42715797">[1 more]</label></div><br/><div class="children"><div class="content">Most certainly: gap buffers, piece tables, and line arrays are also popular choices.</div><br/></div></div></div></div></div></div><div id="42714325" class="c"><input type="checkbox" id="c-42714325" checked=""/><div class="controls bullet"><span class="by">neilv</span><span>|</span><a href="#42712866">prev</a><span>|</span><a href="#42715502">next</a><span>|</span><label class="collapse" for="c-42714325">[-]</label><label class="expand" for="c-42714325">[11 more]</label></div><br/><div class="children"><div class="content">How would you associate non-character data with ranges of characters, such as for syntax coloring, semantic links, and references to points in the text?<p>(I couldn&#x27;t find a mention of this in the README, design.md, or examples.)<p>In Emacs buffers, the concepts include <i>text properties</i>, <i>overlays</i>, and <i>markers</i>.</div><br/><div id="42714688" class="c"><input type="checkbox" id="c-42714688" checked=""/><div class="controls bullet"><span class="by">filcuk</span><span>|</span><a href="#42714325">parent</a><span>|</span><a href="#42716797">next</a><span>|</span><label class="collapse" for="c-42714688">[-]</label><label class="expand" for="c-42714688">[9 more]</label></div><br/><div class="children"><div class="content">That would depend on your editor&#x27;s implementation.</div><br/><div id="42714842" class="c"><input type="checkbox" id="c-42714842" checked=""/><div class="controls bullet"><span class="by">neilv</span><span>|</span><a href="#42714325">root</a><span>|</span><a href="#42714688">parent</a><span>|</span><a href="#42716797">next</a><span>|</span><label class="collapse" for="c-42714842">[-]</label><label class="expand" for="c-42714842">[8 more]</label></div><br/><div class="children"><div class="content">But, within this API, is there any support for the associations with non-character data?<p>For example, if you delete some text these Ropey data structure, does Ropey have facilities to update the associated non-character data (such as deleting all or part of one or more chunks of the non-character data, and&#x2F;or updating positional information)?  Or do you have to do that separately outside of Ropey?</div><br/><div id="42715033" class="c"><input type="checkbox" id="c-42715033" checked=""/><div class="controls bullet"><span class="by">zaphar</span><span>|</span><a href="#42714325">root</a><span>|</span><a href="#42714842">parent</a><span>|</span><a href="#42716797">next</a><span>|</span><label class="collapse" for="c-42715033">[-]</label><label class="expand" for="c-42715033">[7 more]</label></div><br/><div class="children"><div class="content">A rope is only concerned with manipulating a string with very low cpu overhead while maintaining the illusion of a sequence of characters or bytes. It doesn&#x27;t really care or maintain any other text decoration you might be maintaining. That is the concern of the consumer of the rope and I&#x27;m not sure there is a good common interface for that.</div><br/><div id="42715534" class="c"><input type="checkbox" id="c-42715534" checked=""/><div class="controls bullet"><span class="by">neilv</span><span>|</span><a href="#42714325">root</a><span>|</span><a href="#42715033">parent</a><span>|</span><a href="#42716797">next</a><span>|</span><label class="collapse" for="c-42715534">[-]</label><label class="expand" for="c-42715534">[6 more]</label></div><br/><div class="children"><div class="content">Thanks.<p>I was a little confused, because the lede sentence was &quot;Ropey is a utf8 text rope for Rust, designed to be the backing text-buffer for applications such as text editors.&quot;<p>Pretty much all text editors are expected to implement decorations and references, <i>somehow</i>, and some popular text buffer APIs support those.</div><br/><div id="42720470" class="c"><input type="checkbox" id="c-42720470" checked=""/><div class="controls bullet"><span class="by">alaroldai</span><span>|</span><a href="#42714325">root</a><span>|</span><a href="#42715534">parent</a><span>|</span><a href="#42716292">next</a><span>|</span><label class="collapse" for="c-42720470">[-]</label><label class="expand" for="c-42720470">[1 more]</label></div><br/><div class="children"><div class="content">For data that isn&#x27;t part of the document, you could use a write-through wrapper around the rope, with a secondary data structure mapping ranges of the document to this extra data.<p>From the wrapper&#x27;s point of view, there&#x27;s no difference between character and non-character data, and the whole buffer can be modeled as a collection of indices mapping ranges of the document to different kinds of data.<p>One of those indices could be a rope (mapping document ranges to character data, for the document text). Other kinds of indices could also be used. The important thing is that all edits go through the wrapper so that all the relevant indices get updated.</div><br/></div></div><div id="42716292" class="c"><input type="checkbox" id="c-42716292" checked=""/><div class="controls bullet"><span class="by">favorited</span><span>|</span><a href="#42714325">root</a><span>|</span><a href="#42715534">parent</a><span>|</span><a href="#42720470">prev</a><span>|</span><a href="#42716611">next</a><span>|</span><label class="collapse" for="c-42716292">[-]</label><label class="expand" for="c-42716292">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;d like an example of how this can be done, Swift&#x27;s AttributedString type is exactly that.  It manages the association of runs of attributes (font, kerning, color, etc.) with Unicode text, and its backing storage uses a rope type provided by the swift-collections package.  (The rope module itself isn&#x27;t stabilized yet, so it&#x27;s really only used for AttributedString at this point, AFAIK.)<p><a href="https:&#x2F;&#x2F;github.com&#x2F;swiftlang&#x2F;swift-foundation&#x2F;tree&#x2F;main&#x2F;Sources&#x2F;FoundationEssentials&#x2F;AttributedString">https:&#x2F;&#x2F;github.com&#x2F;swiftlang&#x2F;swift-foundation&#x2F;tree&#x2F;main&#x2F;Sour...</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;apple&#x2F;swift-collections&#x2F;tree&#x2F;main&#x2F;Sources&#x2F;RopeModule">https:&#x2F;&#x2F;github.com&#x2F;apple&#x2F;swift-collections&#x2F;tree&#x2F;main&#x2F;Sources...</a></div><br/></div></div><div id="42716611" class="c"><input type="checkbox" id="c-42716611" checked=""/><div class="controls bullet"><span class="by">adastra22</span><span>|</span><a href="#42714325">root</a><span>|</span><a href="#42715534">parent</a><span>|</span><a href="#42716292">prev</a><span>|</span><a href="#42716797">next</a><span>|</span><label class="collapse" for="c-42716611">[-]</label><label class="expand" for="c-42716611">[3 more]</label></div><br/><div class="children"><div class="content">I thought the defining feature of a text editor (as opposed to a word processor) is that it didn’t have rich text decorations. Are we talking about the same thing?</div><br/><div id="42716796" class="c"><input type="checkbox" id="c-42716796" checked=""/><div class="controls bullet"><span class="by">nicoburns</span><span>|</span><a href="#42714325">root</a><span>|</span><a href="#42716611">parent</a><span>|</span><a href="#42718295">next</a><span>|</span><label class="collapse" for="c-42716796">[-]</label><label class="expand" for="c-42716796">[1 more]</label></div><br/><div class="children"><div class="content">Most text editors will support things like syntax highlighting, which are text-decorations even if they&#x27;re nor user-managed.</div><br/></div></div><div id="42718295" class="c"><input type="checkbox" id="c-42718295" checked=""/><div class="controls bullet"><span class="by">neilv</span><span>|</span><a href="#42714325">root</a><span>|</span><a href="#42716611">parent</a><span>|</span><a href="#42716796">prev</a><span>|</span><a href="#42716797">next</a><span>|</span><label class="collapse" for="c-42718295">[-]</label><label class="expand" for="c-42718295">[1 more]</label></div><br/><div class="children"><div class="content">Not rich text, but decorations like decorations on a data structure.  (I was trying to match the terminology that I thought a previous commenter was using.)</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="42716797" class="c"><input type="checkbox" id="c-42716797" checked=""/><div class="controls bullet"><span class="by">iLemming</span><span>|</span><a href="#42714325">parent</a><span>|</span><a href="#42714688">prev</a><span>|</span><a href="#42715502">next</a><span>|</span><label class="collapse" for="c-42716797">[-]</label><label class="expand" for="c-42716797">[1 more]</label></div><br/><div class="children"><div class="content"><i>I&#x27;m sorry, it&#x27;s only vaguely related, but maybe someone can share some ideas.</i><p>What would be some good use-cases for using Ropey with Emacs? Maybe re-formatting&#x2F;beautifying huge json files or something like that?<p><i>I didn&#x27;t have time yet to explore the project more closely, but it looks very interesting.</i></div><br/></div></div></div></div><div id="42715502" class="c"><input type="checkbox" id="c-42715502" checked=""/><div class="controls bullet"><span class="by">qup</span><span>|</span><a href="#42714325">prev</a><span>|</span><a href="#42716225">next</a><span>|</span><label class="collapse" for="c-42715502">[-]</label><label class="expand" for="c-42715502">[4 more]</label></div><br/><div class="children"><div class="content">What a perfect readme.<p>Kudos to the author.</div><br/><div id="42715621" class="c"><input type="checkbox" id="c-42715621" checked=""/><div class="controls bullet"><span class="by">mathfailure</span><span>|</span><a href="#42715502">parent</a><span>|</span><a href="#42716225">next</a><span>|</span><label class="collapse" for="c-42715621">[-]</label><label class="expand" for="c-42715621">[3 more]</label></div><br/><div class="children"><div class="content">No need for sarcasm, maybe target auditory already knows what &#x27;rope&#x27; is.</div><br/><div id="42716363" class="c"><input type="checkbox" id="c-42716363" checked=""/><div class="controls bullet"><span class="by">qup</span><span>|</span><a href="#42715502">root</a><span>|</span><a href="#42715621">parent</a><span>|</span><a href="#42715875">next</a><span>|</span><label class="collapse" for="c-42716363">[-]</label><label class="expand" for="c-42716363">[1 more]</label></div><br/><div class="children"><div class="content">No sarcasm, it was good enough to compliment</div><br/></div></div><div id="42715875" class="c"><input type="checkbox" id="c-42715875" checked=""/><div class="controls bullet"><span class="by">doormatt</span><span>|</span><a href="#42715502">root</a><span>|</span><a href="#42715621">parent</a><span>|</span><a href="#42716363">prev</a><span>|</span><a href="#42716225">next</a><span>|</span><label class="collapse" for="c-42715875">[-]</label><label class="expand" for="c-42715875">[1 more]</label></div><br/><div class="children"><div class="content">Why do you assume sarcasm?  I thought the readme was unsarcastically excellent as well.</div><br/></div></div></div></div></div></div><div id="42716225" class="c"><input type="checkbox" id="c-42716225" checked=""/><div class="controls bullet"><span class="by">ggregoire</span><span>|</span><a href="#42715502">prev</a><span>|</span><a href="#42717161">next</a><span>|</span><label class="collapse" for="c-42716225">[-]</label><label class="expand" for="c-42716225">[3 more]</label></div><br/><div class="children"><div class="content">Didn&#x27;t know about this data structure. What are some use cases other than text editors? The article on wikipedia [1] doesn&#x27;t expand much on this.<p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Rope_(data_structure)" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Rope_(data_structure)</a></div><br/><div id="42720584" class="c"><input type="checkbox" id="c-42720584" checked=""/><div class="controls bullet"><span class="by">zahlman</span><span>|</span><a href="#42716225">parent</a><span>|</span><a href="#42717519">next</a><span>|</span><label class="collapse" for="c-42720584">[-]</label><label class="expand" for="c-42720584">[1 more]</label></div><br/><div class="children"><div class="content">I imagine that text template renders could benefit. The general use case is any time you need to repeatedly splice (take slices, insert data in the middle etc) a text of significant length and performance is important. (I heard of this concept a long time ago, but rarely think about it.)</div><br/></div></div><div id="42717519" class="c"><input type="checkbox" id="c-42717519" checked=""/><div class="controls bullet"><span class="by">josephg</span><span>|</span><a href="#42716225">parent</a><span>|</span><a href="#42720584">prev</a><span>|</span><a href="#42717161">next</a><span>|</span><label class="collapse" for="c-42717519">[-]</label><label class="expand" for="c-42717519">[1 more]</label></div><br/><div class="children"><div class="content">We use them pretty heavily in realtime collaborative editing libraries for text. Ie, text CRDTs. In diamond types, merging a branch into another branch requires (essentially) replaying a whole lot of edit operations. Using a rope makes that fast.</div><br/></div></div></div></div><div id="42717161" class="c"><input type="checkbox" id="c-42717161" checked=""/><div class="controls bullet"><span class="by">devit</span><span>|</span><a href="#42716225">prev</a><span>|</span><a href="#42712730">next</a><span>|</span><label class="collapse" for="c-42717161">[-]</label><label class="expand" for="c-42717161">[5 more]</label></div><br/><div class="children"><div class="content">&quot;Handling texts that are larger than available memory. Ropey is an in-memory data structure.&quot;<p>That seems to make it of dubious use, not really suitable for a well-engineered text editor.<p>The fact that it&#x27;s UTF-8 only is also a serious problem since files can contain arbitrary byte sequences.</div><br/><div id="42717546" class="c"><input type="checkbox" id="c-42717546" checked=""/><div class="controls bullet"><span class="by">abtinf</span><span>|</span><a href="#42717161">parent</a><span>|</span><a href="#42719483">next</a><span>|</span><label class="collapse" for="c-42717546">[-]</label><label class="expand" for="c-42717546">[1 more]</label></div><br/><div class="children"><div class="content">What kind of wild use case involves <i>editing</i> a <i>text file</i> larger than modern ram?</div><br/></div></div><div id="42719483" class="c"><input type="checkbox" id="c-42719483" checked=""/><div class="controls bullet"><span class="by">jbaber</span><span>|</span><a href="#42717161">parent</a><span>|</span><a href="#42717546">prev</a><span>|</span><a href="#42717471">next</a><span>|</span><label class="collapse" for="c-42719483">[-]</label><label class="expand" for="c-42719483">[1 more]</label></div><br/><div class="children"><div class="content">I disagree that there are a lot of editors that can handle files not in RAM. But I&#x27;d like one. All I know of is &#x27;less&#x27;.</div><br/></div></div><div id="42717471" class="c"><input type="checkbox" id="c-42717471" checked=""/><div class="controls bullet"><span class="by">TheRealPomax</span><span>|</span><a href="#42717161">parent</a><span>|</span><a href="#42719483">prev</a><span>|</span><a href="#42712730">next</a><span>|</span><label class="collapse" for="c-42717471">[-]</label><label class="expand" for="c-42717471">[2 more]</label></div><br/><div class="children"><div class="content">What text editor do you use where loading a large text file <i>doesn&#x27;t</i> put that entire text file in memory? In a world where even sub-$100 devices have gigabytes of memory, this doesn&#x27;t seem even remotely problematic.</div><br/><div id="42722518" class="c"><input type="checkbox" id="c-42722518" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#42717161">root</a><span>|</span><a href="#42717471">parent</a><span>|</span><a href="#42712730">next</a><span>|</span><label class="collapse" for="c-42722518">[-]</label><label class="expand" for="c-42722518">[1 more]</label></div><br/><div class="children"><div class="content">those gigabytes of memory on sub-$100 devices are usually occupied by other apps taking the same careless approach to memory, so it&#x27;s very problematic</div><br/></div></div></div></div></div></div><div id="42712730" class="c"><input type="checkbox" id="c-42712730" checked=""/><div class="controls bullet"><span class="by">javier2</span><span>|</span><a href="#42717161">prev</a><span>|</span><a href="#42715994">next</a><span>|</span><label class="collapse" for="c-42712730">[-]</label><label class="expand" for="c-42712730">[5 more]</label></div><br/><div class="children"><div class="content">Any editors using this?</div><br/><div id="42713278" class="c"><input type="checkbox" id="c-42713278" checked=""/><div class="controls bullet"><span class="by">cschmidt</span><span>|</span><a href="#42712730">parent</a><span>|</span><a href="#42713012">next</a><span>|</span><label class="collapse" for="c-42713278">[-]</label><label class="expand" for="c-42713278">[3 more]</label></div><br/><div class="children"><div class="content">It seems like Helix is using it <a href="https:&#x2F;&#x2F;github.com&#x2F;helix-editor&#x2F;helix&#x2F;blob&#x2F;master&#x2F;docs&#x2F;architecture.md">https:&#x2F;&#x2F;github.com&#x2F;helix-editor&#x2F;helix&#x2F;blob&#x2F;master&#x2F;docs&#x2F;archi...</a></div><br/><div id="42714087" class="c"><input type="checkbox" id="c-42714087" checked=""/><div class="controls bullet"><span class="by">abound</span><span>|</span><a href="#42712730">root</a><span>|</span><a href="#42713278">parent</a><span>|</span><a href="#42713012">next</a><span>|</span><label class="collapse" for="c-42714087">[-]</label><label class="expand" for="c-42714087">[2 more]</label></div><br/><div class="children"><div class="content">FWIW, I use Helix as my main editor and every time it has crashed (probably a few dozen times over a year or two, I&#x27;ve filed issues), it&#x27;s related to bad text position stuff, where it effectively goes &quot;out of bounds&quot; on the text data structure.<p>I think its mostly due to multiple buffers showing the same content, as opposed to this Ropey library directly.</div><br/><div id="42721876" class="c"><input type="checkbox" id="c-42721876" checked=""/><div class="controls bullet"><span class="by">polyaniline</span><span>|</span><a href="#42712730">root</a><span>|</span><a href="#42714087">parent</a><span>|</span><a href="#42713012">next</a><span>|</span><label class="collapse" for="c-42721876">[-]</label><label class="expand" for="c-42721876">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s unexpected. I&#x27;ve used it for over a year and haven&#x27;t had a single crash. I&#x27;ve used it for data files millions of lines long, and often open the same file in buffers side by side too. Could you share the issue you opened?</div><br/></div></div></div></div></div></div><div id="42713012" class="c"><input type="checkbox" id="c-42713012" checked=""/><div class="controls bullet"><span class="by">recov</span><span>|</span><a href="#42712730">parent</a><span>|</span><a href="#42713278">prev</a><span>|</span><a href="#42715994">next</a><span>|</span><label class="collapse" for="c-42713012">[-]</label><label class="expand" for="c-42713012">[1 more]</label></div><br/><div class="children"><div class="content">Not that library in particular, but <a href="https:&#x2F;&#x2F;zed.dev&#x2F;blog&#x2F;zed-decoded-rope-sumtree" rel="nofollow">https:&#x2F;&#x2F;zed.dev&#x2F;blog&#x2F;zed-decoded-rope-sumtree</a></div><br/></div></div></div></div><div id="42715994" class="c"><input type="checkbox" id="c-42715994" checked=""/><div class="controls bullet"><span class="by">rileytg</span><span>|</span><a href="#42712730">prev</a><span>|</span><a href="#42721019">next</a><span>|</span><label class="collapse" for="c-42715994">[-]</label><label class="expand" for="c-42715994">[4 more]</label></div><br/><div class="children"><div class="content">i hope someone can use this to create an editor similar to notepad++ that is cross platform. I have not found an editor that can handle large files as well as notepad++ on non windows systems. Last I looked into this, the issue was lack of low level libraries to handle large files.</div><br/><div id="42721887" class="c"><input type="checkbox" id="c-42721887" checked=""/><div class="controls bullet"><span class="by">polyaniline</span><span>|</span><a href="#42715994">parent</a><span>|</span><a href="#42716816">next</a><span>|</span><label class="collapse" for="c-42721887">[-]</label><label class="expand" for="c-42721887">[1 more]</label></div><br/><div class="children"><div class="content">Helix is on Windows, right?,</div><br/></div></div><div id="42716816" class="c"><input type="checkbox" id="c-42716816" checked=""/><div class="controls bullet"><span class="by">nicoburns</span><span>|</span><a href="#42715994">parent</a><span>|</span><a href="#42721887">prev</a><span>|</span><a href="#42716252">next</a><span>|</span><label class="collapse" for="c-42716816">[-]</label><label class="expand" for="c-42716816">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not open source, but sublime text does well with large files (depending on your definition of large, but several GB is fine)</div><br/></div></div><div id="42716252" class="c"><input type="checkbox" id="c-42716252" checked=""/><div class="controls bullet"><span class="by">ori_b</span><span>|</span><a href="#42715994">parent</a><span>|</span><a href="#42716816">prev</a><span>|</span><a href="#42721019">next</a><span>|</span><label class="collapse" for="c-42716252">[-]</label><label class="expand" for="c-42716252">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re someone. Start typing.</div><br/></div></div></div></div><div id="42721019" class="c"><input type="checkbox" id="c-42721019" checked=""/><div class="controls bullet"><span class="by">cryptonector</span><span>|</span><a href="#42715994">prev</a><span>|</span><a href="#42714875">next</a><span>|</span><label class="collapse" for="c-42721019">[-]</label><label class="expand" for="c-42721019">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of xi.</div><br/></div></div><div id="42714875" class="c"><input type="checkbox" id="c-42714875" checked=""/><div class="controls bullet"><span class="by">pixelpoet</span><span>|</span><a href="#42721019">prev</a><span>|</span><a href="#42713794">next</a><span>|</span><label class="collapse" for="c-42714875">[-]</label><label class="expand" for="c-42714875">[10 more]</label></div><br/><div class="children"><div class="content">Author is perhaps better known for his really great path tracer (and attendant blog), Psychopath: <a href="https:&#x2F;&#x2F;github.com&#x2F;cessen&#x2F;psychopath">https:&#x2F;&#x2F;github.com&#x2F;cessen&#x2F;psychopath</a><p>Also, I have to wonder when this fad of loudly announcing when something is written in Rust will finally come to pass. Maybe software written in other languages should loudly announce it in every second sentence? To me at least it&#x27;s become as self-aggrandizingly cringe as &quot;Sent from my iPhone&quot; at the end of every email...</div><br/><div id="42714971" class="c"><input type="checkbox" id="c-42714971" checked=""/><div class="controls bullet"><span class="by">mattdw</span><span>|</span><a href="#42714875">parent</a><span>|</span><a href="#42716114">next</a><span>|</span><label class="collapse" for="c-42714971">[-]</label><label class="expand" for="c-42714971">[3 more]</label></div><br/><div class="children"><div class="content">When it’s a library of code, the language it is written in is pretty pertinent information as that’s the language it has to be consumed from…</div><br/><div id="42715223" class="c"><input type="checkbox" id="c-42715223" checked=""/><div class="controls bullet"><span class="by">pixelpoet</span><span>|</span><a href="#42714875">root</a><span>|</span><a href="#42714971">parent</a><span>|</span><a href="#42716114">next</a><span>|</span><label class="collapse" for="c-42715223">[-]</label><label class="expand" for="c-42715223">[2 more]</label></div><br/><div class="children"><div class="content">I get that of course, but on the other hand I&#x27;m sure you know what I&#x27;m getting at too: users of certain languages, platforms etc feel the need to announce it as a point of pride, or feature in itself, and frequently. Every language will have this to some degree (with the possible exception of COBOL, lol), but there are definite outliers.</div><br/><div id="42715645" class="c"><input type="checkbox" id="c-42715645" checked=""/><div class="controls bullet"><span class="by">itishappy</span><span>|</span><a href="#42714875">root</a><span>|</span><a href="#42715223">parent</a><span>|</span><a href="#42716114">next</a><span>|</span><label class="collapse" for="c-42715645">[-]</label><label class="expand" for="c-42715645">[1 more]</label></div><br/><div class="children"><div class="content">I believe HN actually had an article for a Minecraft server written in COBOL about a month ago, lol.<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42513022">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=42513022</a></div><br/></div></div></div></div></div></div><div id="42716114" class="c"><input type="checkbox" id="c-42716114" checked=""/><div class="controls bullet"><span class="by">ricciardo</span><span>|</span><a href="#42714875">parent</a><span>|</span><a href="#42714971">prev</a><span>|</span><a href="#42716303">next</a><span>|</span><label class="collapse" for="c-42716114">[-]</label><label class="expand" for="c-42716114">[1 more]</label></div><br/><div class="children"><div class="content">Think about the implications of the language though. When something is written in rust, management of memory is safer, multi threaded applications are safer, etc... (due to the nature of the language). If something is written in C++, the developer might be more inclined to review the code and tests to ensure proper handling of memory as well as determining if (when there is) non-deterministic behavior is safe. Hence, when highlighting something is written in Rust, it might not be just for the buzzword but also for something like developer confidence.</div><br/></div></div><div id="42716303" class="c"><input type="checkbox" id="c-42716303" checked=""/><div class="controls bullet"><span class="by">xboxnolifes</span><span>|</span><a href="#42714875">parent</a><span>|</span><a href="#42716114">prev</a><span>|</span><a href="#42714977">next</a><span>|</span><label class="collapse" for="c-42716303">[-]</label><label class="expand" for="c-42716303">[1 more]</label></div><br/><div class="children"><div class="content">I think you&#x27;ve just become primed to reflex on seeing the word rust. The Readme has only 2 uses of the word rust: the header, and in the features. One tells you the language the library is for, the other is used as context for a type.</div><br/></div></div><div id="42714977" class="c"><input type="checkbox" id="c-42714977" checked=""/><div class="controls bullet"><span class="by">uecker</span><span>|</span><a href="#42714875">parent</a><span>|</span><a href="#42716303">prev</a><span>|</span><a href="#42716521">next</a><span>|</span><label class="collapse" for="c-42714977">[-]</label><label class="expand" for="c-42714977">[1 more]</label></div><br/><div class="children"><div class="content">Maybe it is already considered an achievement if someone manages to write a program in Rust.</div><br/></div></div><div id="42716521" class="c"><input type="checkbox" id="c-42716521" checked=""/><div class="controls bullet"><span class="by">J_Shelby_J</span><span>|</span><a href="#42714875">parent</a><span>|</span><a href="#42714977">prev</a><span>|</span><a href="#42717237">next</a><span>|</span><label class="collapse" for="c-42716521">[-]</label><label class="expand" for="c-42716521">[1 more]</label></div><br/><div class="children"><div class="content">When it stops baiting engagement with these sort of comments, probably.</div><br/></div></div><div id="42717237" class="c"><input type="checkbox" id="c-42717237" checked=""/><div class="controls bullet"><span class="by">keybored</span><span>|</span><a href="#42714875">parent</a><span>|</span><a href="#42716521">prev</a><span>|</span><a href="#42713794">next</a><span>|</span><label class="collapse" for="c-42717237">[-]</label><label class="expand" for="c-42717237">[2 more]</label></div><br/><div class="children"><div class="content">I for one am fed up with people advertising that they are using rope for their string implementation in an editor or editor-adjacent library.  Ugh.  We get it.  Niche datastructure, woah so cool.  You really went above and beyond and read that appendix to your data structures and algorithms textbook...!</div><br/><div id="42718433" class="c"><input type="checkbox" id="c-42718433" checked=""/><div class="controls bullet"><span class="by">Validark</span><span>|</span><a href="#42714875">root</a><span>|</span><a href="#42717237">parent</a><span>|</span><a href="#42713794">next</a><span>|</span><label class="collapse" for="c-42718433">[-]</label><label class="expand" for="c-42718433">[1 more]</label></div><br/><div class="children"><div class="content">Is it advertised a lot? I know the basic idea of Ropes and that it&#x27;s used for scripting languages a lot but I haven&#x27;t seen it in ads. Maybe I haven&#x27;t looked at enough new editors though.</div><br/></div></div></div></div></div></div><div id="42716173" class="c"><input type="checkbox" id="c-42716173" checked=""/><div class="controls bullet"><span class="by">RockRobotRock</span><span>|</span><a href="#42713794">prev</a><span>|</span><label class="collapse" for="c-42716173">[-]</label><label class="expand" for="c-42716173">[1 more]</label></div><br/><div class="children"><div class="content">built in rust btw</div><br/></div></div></div></div></div></div></div></body></html>