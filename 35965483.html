<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1684314057817" as="style"/><link rel="stylesheet" href="styles.css?v=1684314057817"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://bun.sh/blog/bun-v0.6.0">Bun 0.6</a> <span class="domain">(<a href="https://bun.sh">bun.sh</a>)</span></div><div class="subtext"><span>tommasoamici</span> | <span>203 comments</span></div><br/><div><div id="35965782" class="c"><input type="checkbox" id="c-35965782" checked=""/><div class="controls bullet"><span class="by">hu3</span><span>|</span><a href="#35965563">next</a><span>|</span><label class="collapse" for="c-35965782">[-]</label><label class="expand" for="c-35965782">[105 more]</label></div><br/><div class="children"><div class="content">&gt; Standalone executables. You can now create standalone executables with bun build.<p>&gt; bun build --compile .&#x2F;foo.ts<p>&gt; This lets you distribute your app as a single executable file, without requiring users to install Bun.<p>&gt; .&#x2F;foo<p>This is big! Part of Go&#x27;s popularity is due to how easy it is to produce self-contained executables.<p>And it seems to support amd64 and arm according too: <a href="https:&#x2F;&#x2F;twitter.com&#x2F;jarredsumner&#x2F;status&#x2F;1657964313888575489" rel="nofollow">https:&#x2F;&#x2F;twitter.com&#x2F;jarredsumner&#x2F;status&#x2F;1657964313888575489</a></div><br/><div id="35967599" class="c"><input type="checkbox" id="c-35967599" checked=""/><div class="controls bullet"><span class="by">pier25</span><span>|</span><a href="#35965782">parent</a><span>|</span><a href="#35966185">next</a><span>|</span><label class="collapse" for="c-35967599">[-]</label><label class="expand" for="c-35967599">[39 more]</label></div><br/><div class="children"><div class="content">Apparently a hello world is like 90MB.<p><a href="https:&#x2F;&#x2F;twitter.com&#x2F;jarredsumner&#x2F;status&#x2F;1657765876085690368" rel="nofollow">https:&#x2F;&#x2F;twitter.com&#x2F;jarredsumner&#x2F;status&#x2F;1657765876085690368</a></div><br/><div id="35968378" class="c"><input type="checkbox" id="c-35968378" checked=""/><div class="controls bullet"><span class="by">pseudosavant</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967599">parent</a><span>|</span><a href="#35967852">next</a><span>|</span><label class="collapse" for="c-35968378">[-]</label><label class="expand" for="c-35968378">[20 more]</label></div><br/><div class="children"><div class="content">Is 90MB really that big when compared against the other types of binaries that would get deployed: containers and VM images? How big is the platform (k8s, docker, etc) you need installed to run your app? Probably more than 90MB.</div><br/><div id="35969361" class="c"><input type="checkbox" id="c-35969361" checked=""/><div class="controls bullet"><span class="by">microflash</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968378">parent</a><span>|</span><a href="#35968419">next</a><span>|</span><label class="collapse" for="c-35969361">[-]</label><label class="expand" for="c-35969361">[10 more]</label></div><br/><div class="children"><div class="content">A native Java &quot;Hello World&quot; can be around 8MB in size.[1] So, yes, 90MB is too much.<p>1. <a href="https:&#x2F;&#x2F;sergiomartinrubio.com&#x2F;articles&#x2F;getting-started-with-graalvm-and-java-native&#x2F;" rel="nofollow">https:&#x2F;&#x2F;sergiomartinrubio.com&#x2F;articles&#x2F;getting-started-with-...</a></div><br/><div id="35969435" class="c"><input type="checkbox" id="c-35969435" checked=""/><div class="controls bullet"><span class="by">Waterluvian</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35969361">parent</a><span>|</span><a href="#35971197">next</a><span>|</span><label class="collapse" for="c-35969435">[-]</label><label class="expand" for="c-35969435">[7 more]</label></div><br/><div class="children"><div class="content">“The generated file is 7.7MB, which is quite impressive for a Java application since this executable does need a JVM.”<p>I assume this is a typo and they mean “does NOT”?</div><br/><div id="35969644" class="c"><input type="checkbox" id="c-35969644" checked=""/><div class="controls bullet"><span class="by">carbotaniuman</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35969435">parent</a><span>|</span><a href="#35971536">next</a><span>|</span><label class="collapse" for="c-35969644">[-]</label><label class="expand" for="c-35969644">[5 more]</label></div><br/><div class="children"><div class="content">I think it isn&#x27;t, and there saying it&#x27;s impressive how small the JVM overhead is.</div><br/><div id="35969927" class="c"><input type="checkbox" id="c-35969927" checked=""/><div class="controls bullet"><span class="by">Waterluvian</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35969644">parent</a><span>|</span><a href="#35971536">next</a><span>|</span><label class="collapse" for="c-35969927">[-]</label><label class="expand" for="c-35969927">[4 more]</label></div><br/><div class="children"><div class="content">Is the JVM inside that 8MB then I guess? That is pretty great.<p>Originally I thought the alternative was “8MB but supply your own virtual machine.”</div><br/><div id="35970696" class="c"><input type="checkbox" id="c-35970696" checked=""/><div class="controls bullet"><span class="by">squeaky-clean</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35969927">parent</a><span>|</span><a href="#35971536">next</a><span>|</span><label class="collapse" for="c-35970696">[-]</label><label class="expand" for="c-35970696">[3 more]</label></div><br/><div class="children"><div class="content">There&#x27;s no JVM when using GraalVM Native Images, it relies on a JVM during the compile step (well, specifically GraalVM), but produces native code similar to compiling C. There&#x27;s no virtual machine running bytecode, just entirely native code. So the size of the executable will depend on how many features of the JVM you need compiled into your executable.<p>A pure java bytecode (bring-your-own-JVM) Hello World can be under 2KB pretty easily. Smaller than the equivalent C program. But of course, that&#x27;s not including the size of your system JVM.</div><br/><div id="35972011" class="c"><input type="checkbox" id="c-35972011" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35970696">parent</a><span>|</span><a href="#35971536">next</a><span>|</span><label class="collapse" for="c-35972011">[-]</label><label class="expand" for="c-35972011">[2 more]</label></div><br/><div class="children"><div class="content">&gt; but produces native code similar to compiling C.<p>That&#x27;s very misleading. For one, Java running native still needs a Garbage Collector, maintains Object headers which increase memory usage, can do things like reflection for configured classes, can load services via the ServiceLoader, schedule Threads and manage executors, and many other things that are &quot;expected&quot; to any Java application... in summary: native executables still have a Java runtime embedded into them (called Substrate VM, by the way), making them very different from C (much more like Go).<p>Also,notice that native Java executables still tend to have a lower &quot;peak performance&quot; (i.e. once a &quot;normal&quot; JVM has warmed up, it will almost certainly be faster than a native executable because the latter cannot do JIT compilation to take advantage of runtime profiling, like a normal JVM does).</div><br/><div id="35972305" class="c"><input type="checkbox" id="c-35972305" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35972011">parent</a><span>|</span><a href="#35971536">next</a><span>|</span><label class="collapse" for="c-35972305">[-]</label><label class="expand" for="c-35972305">[1 more]</label></div><br/><div class="children"><div class="content">It also misleading to think C doesn&#x27;t have a runtime.<p><a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;cpp&#x2F;c-runtime-library&#x2F;c-run-time-library-reference?view=msvc-170" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;cpp&#x2F;c-runtime-library&#x2F;c-ru...</a><p><a href="https:&#x2F;&#x2F;gcc.gnu.org&#x2F;onlinedocs&#x2F;gccint&#x2F;Libgcc.html" rel="nofollow">https:&#x2F;&#x2F;gcc.gnu.org&#x2F;onlinedocs&#x2F;gccint&#x2F;Libgcc.html</a><p><a href="https:&#x2F;&#x2F;software-dl.ti.com&#x2F;codegen&#x2F;docs&#x2F;tiarmclang&#x2F;compiler_tools_user_guide&#x2F;compiler_manual&#x2F;linker_description&#x2F;11_linking_c_cpp_code&#x2F;run-time-initialization-stdz0752677.html" rel="nofollow">https:&#x2F;&#x2F;software-dl.ti.com&#x2F;codegen&#x2F;docs&#x2F;tiarmclang&#x2F;compiler_...</a><p>And many more, not feeling like linking documentation from all C compilers.<p>In fact this is so relevant even for C, that ISO C has a special section for deployments without runtime support, named freestanding C.<p>&quot;In a freestanding environment (in which C program execution may take place without any benefit of an operating system), the name and type of the function called at program startup are implementation-defined. There are otherwise no reserved external identitiers. Any library facilities available to a freestanding propram are implementation-defined.&quot;</div><br/></div></div></div></div></div></div></div></div></div></div><div id="35971536" class="c"><input type="checkbox" id="c-35971536" checked=""/><div class="controls bullet"><span class="by">pkphilip</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35969435">parent</a><span>|</span><a href="#35969644">prev</a><span>|</span><a href="#35971197">next</a><span>|</span><label class="collapse" for="c-35971536">[-]</label><label class="expand" for="c-35971536">[1 more]</label></div><br/><div class="children"><div class="content">A full Quarkus web application with REST uses just 12MB of RAM (with Graalvm). So yes, Java has come a long way</div><br/></div></div></div></div><div id="35971197" class="c"><input type="checkbox" id="c-35971197" checked=""/><div class="controls bullet"><span class="by">Spivak</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35969361">parent</a><span>|</span><a href="#35969435">prev</a><span>|</span><a href="#35968419">next</a><span>|</span><label class="collapse" for="c-35971197">[-]</label><label class="expand" for="c-35971197">[2 more]</label></div><br/><div class="children"><div class="content">I feel like using Graal for the comparison is cheating a bit because it&#x27;s so fundamentally different from what bun is doing. You need to compare it to tools that ship class files and a JVM, or something like PyInstaller which will have much much more overhead.</div><br/><div id="35972091" class="c"><input type="checkbox" id="c-35972091" checked=""/><div class="controls bullet"><span class="by">sshine</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35971197">parent</a><span>|</span><a href="#35968419">next</a><span>|</span><label class="collapse" for="c-35972091">[-]</label><label class="expand" for="c-35972091">[1 more]</label></div><br/><div class="children"><div class="content">I wouldn’t call it cheating.<p>I’d also compare against stripped Rust binaries statically linked against musl.</div><br/></div></div></div></div></div></div><div id="35968419" class="c"><input type="checkbox" id="c-35968419" checked=""/><div class="controls bullet"><span class="by">pier25</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968378">parent</a><span>|</span><a href="#35969361">prev</a><span>|</span><a href="#35968547">next</a><span>|</span><label class="collapse" for="c-35968419">[-]</label><label class="expand" for="c-35968419">[4 more]</label></div><br/><div class="children"><div class="content">Depends. Doesn&#x27;t seem much for a server but if you want to distribute an executable to your users then 90MB seems huge. IIRC a hello world Go binary is like 2MB.</div><br/><div id="35968952" class="c"><input type="checkbox" id="c-35968952" checked=""/><div class="controls bullet"><span class="by">metaltyphoon</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968419">parent</a><span>|</span><a href="#35968547">next</a><span>|</span><label class="collapse" for="c-35968952">[-]</label><label class="expand" for="c-35968952">[3 more]</label></div><br/><div class="children"><div class="content">Yeah but no one distributes hello world.</div><br/><div id="35969604" class="c"><input type="checkbox" id="c-35969604" checked=""/><div class="controls bullet"><span class="by">georgyo</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968952">parent</a><span>|</span><a href="#35968547">next</a><span>|</span><label class="collapse" for="c-35969604">[-]</label><label class="expand" for="c-35969604">[2 more]</label></div><br/><div class="children"><div class="content">If the base line is 90MB, then it only goes up from there.</div><br/><div id="35969865" class="c"><input type="checkbox" id="c-35969865" checked=""/><div class="controls bullet"><span class="by">patrickthebold</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35969604">parent</a><span>|</span><a href="#35968547">next</a><span>|</span><label class="collapse" for="c-35969865">[-]</label><label class="expand" for="c-35969865">[1 more]</label></div><br/><div class="children"><div class="content">The question is &quot;how fast&quot;. If bun executables are always 45x go&#x27;s that&#x27;s a problem. If they are always 98mb more than go&#x27;s, then it&#x27;s less of a problem as the size grows.</div><br/></div></div></div></div></div></div></div></div><div id="35968547" class="c"><input type="checkbox" id="c-35968547" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968378">parent</a><span>|</span><a href="#35968419">prev</a><span>|</span><a href="#35972074">next</a><span>|</span><label class="collapse" for="c-35968547">[-]</label><label class="expand" for="c-35968547">[2 more]</label></div><br/><div class="children"><div class="content">yeah 90MB for a hello world is big.<p>Approximately 2,700 times bigger than it could be.</div><br/><div id="35971983" class="c"><input type="checkbox" id="c-35971983" checked=""/><div class="controls bullet"><span class="by">wiz21c</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968547">parent</a><span>|</span><a href="#35972074">next</a><span>|</span><label class="collapse" for="c-35971983">[-]</label><label class="expand" for="c-35971983">[1 more]</label></div><br/><div class="children"><div class="content">I got 4Gigs on my phone and 4x that on my laptop. I don&#x27;t care about 90megs.<p>What&#x27;s the point in looking at size ? I can see two:<p>- want to email the exe, and you have limits on mail size
- want to be ecofriendly, in that case stop watching netflix for 2 hours and you&#x27;ll have your megs</div><br/></div></div></div></div><div id="35972074" class="c"><input type="checkbox" id="c-35972074" checked=""/><div class="controls bullet"><span class="by">schara</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968378">parent</a><span>|</span><a href="#35968547">prev</a><span>|</span><a href="#35972065">next</a><span>|</span><label class="collapse" for="c-35972074">[-]</label><label class="expand" for="c-35972074">[2 more]</label></div><br/><div class="children"><div class="content">I have 13043 .exe files on this computer, at 90MB a piece that would be 1TB.</div><br/><div id="35972478" class="c"><input type="checkbox" id="c-35972478" checked=""/><div class="controls bullet"><span class="by">sammoore</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35972074">parent</a><span>|</span><a href="#35972065">next</a><span>|</span><label class="collapse" for="c-35972478">[-]</label><label class="expand" for="c-35972478">[1 more]</label></div><br/><div class="children"><div class="content">If most executables on your machine used Bun, then it would be a bundled shared library on your system eliminating the bulk of the 90mb executable size. Just like the shared libraries the 13043 .exe files on your computer are currently linking to.</div><br/></div></div></div></div></div></div><div id="35967852" class="c"><input type="checkbox" id="c-35967852" checked=""/><div class="controls bullet"><span class="by">leeoniya</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967599">parent</a><span>|</span><a href="#35968378">prev</a><span>|</span><a href="#35967658">next</a><span>|</span><label class="collapse" for="c-35967852">[-]</label><label class="expand" for="c-35967852">[5 more]</label></div><br/><div class="children"><div class="content">ICU :(<p><a href="https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;issues&#x2F;2541">https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;issues&#x2F;2541</a><p><a href="https:&#x2F;&#x2F;twitter.com&#x2F;jarredsumner&#x2F;status&#x2F;1616597667408404481" rel="nofollow">https:&#x2F;&#x2F;twitter.com&#x2F;jarredsumner&#x2F;status&#x2F;1616597667408404481</a></div><br/><div id="35968156" class="c"><input type="checkbox" id="c-35968156" checked=""/><div class="controls bullet"><span class="by">edflsafoiewq</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967852">parent</a><span>|</span><a href="#35967658">next</a><span>|</span><label class="collapse" for="c-35968156">[-]</label><label class="expand" for="c-35968156">[4 more]</label></div><br/><div class="children"><div class="content">QuickJS has a custom unicode library for this reason.</div><br/><div id="35968607" class="c"><input type="checkbox" id="c-35968607" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968156">parent</a><span>|</span><a href="#35967658">next</a><span>|</span><label class="collapse" for="c-35968607">[-]</label><label class="expand" for="c-35968607">[3 more]</label></div><br/><div class="children"><div class="content">It’s slow as molasses in some parts though. (Deliberately, it’s a trade-off.)<p>The <i>Unicode</i> part of ICU shouldn’t be that large, however (on the order of hundreds of kilobytes), it’s the locale data that’s big[1]. Does Bun implement ECMA-402 internationalization? Even without locales, one of the largest parts of ICU data is normalization and casing tables, which I think bare ECMAScript does not require. (It does mean bare ECMAScript cannot adequately process Unicode text, but meh, you get what you pay for.)<p>[1] <a href="https:&#x2F;&#x2F;unicode-org.github.io&#x2F;icu&#x2F;userguide&#x2F;icu_data&#x2F;buildtool.html#file-slicing-coarse-grained-features" rel="nofollow">https:&#x2F;&#x2F;unicode-org.github.io&#x2F;icu&#x2F;userguide&#x2F;icu_data&#x2F;buildto...</a></div><br/><div id="35968722" class="c"><input type="checkbox" id="c-35968722" checked=""/><div class="controls bullet"><span class="by">sjrd</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968607">parent</a><span>|</span><a href="#35967658">next</a><span>|</span><label class="collapse" for="c-35968722">[-]</label><label class="expand" for="c-35968722">[2 more]</label></div><br/><div class="children"><div class="content">Bare ECMAScript does require normalization [1] and case conversions (for the root locale only) [2].<p>[1] <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;JavaScript&#x2F;Reference&#x2F;Global_Objects&#x2F;String&#x2F;normalize" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;JavaScript&#x2F;Refe...</a><p>[2] <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;JavaScript&#x2F;Reference&#x2F;Global_Objects&#x2F;String&#x2F;toLowerCase" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;JavaScript&#x2F;Refe...</a></div><br/><div id="35968780" class="c"><input type="checkbox" id="c-35968780" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968722">parent</a><span>|</span><a href="#35967658">next</a><span>|</span><label class="collapse" for="c-35968780">[-]</label><label class="expand" for="c-35968780">[1 more]</label></div><br/><div class="children"><div class="content">Ah, I see, String.prototype.normalize() is in ES6. I remembered that Duktape (which has its own, even slower Unicode library) can’t do it[1], but then it doesn’t try for ES6 either.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;svaarala&#x2F;duktape&#x2F;issues&#x2F;1718">https:&#x2F;&#x2F;github.com&#x2F;svaarala&#x2F;duktape&#x2F;issues&#x2F;1718</a></div><br/></div></div></div></div></div></div></div></div></div></div><div id="35967658" class="c"><input type="checkbox" id="c-35967658" checked=""/><div class="controls bullet"><span class="by">VWWHFSfQ</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967599">parent</a><span>|</span><a href="#35967852">prev</a><span>|</span><a href="#35967875">next</a><span>|</span><label class="collapse" for="c-35967658">[-]</label><label class="expand" for="c-35967658">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;m curious why that would be so big.  Even my python3.10 binary + &#x2F;usr&#x2F;lib&#x2F;python3.10 is only 30MB</div><br/><div id="35967666" class="c"><input type="checkbox" id="c-35967666" checked=""/><div class="controls bullet"><span class="by">matlin</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967658">parent</a><span>|</span><a href="#35967875">next</a><span>|</span><label class="collapse" for="c-35967666">[-]</label><label class="expand" for="c-35967666">[4 more]</label></div><br/><div class="children"><div class="content">It bundles an entire JS engine with it. I think JSC in Bun&#x27;s case. V8 for Deno and Node.</div><br/><div id="35968031" class="c"><input type="checkbox" id="c-35968031" checked=""/><div class="controls bullet"><span class="by">ricardobeat</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967666">parent</a><span>|</span><a href="#35967875">next</a><span>|</span><label class="collapse" for="c-35968031">[-]</label><label class="expand" for="c-35968031">[3 more]</label></div><br/><div class="children"><div class="content">The engine is not the largest part of it. just-js, which is pretty close to barebones V8, sits at ~20MB. JSC is supposed to be about 4MB, Hermes is 2-3MB. The largest parts I think are ICU and the built-in libraries.</div><br/><div id="35969886" class="c"><input type="checkbox" id="c-35969886" checked=""/><div class="controls bullet"><span class="by">billywhizz</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968031">parent</a><span>|</span><a href="#35967875">next</a><span>|</span><label class="collapse" for="c-35969886">[-]</label><label class="expand" for="c-35969886">[2 more]</label></div><br/><div class="children"><div class="content">yes. author of just-js here. a minimal build of a v8 based runtime weighs in around 23-25 MB on modern linux using latest v8. this gets bigger all the time, due to new functionality being added to JS&#x2F;V8 and no easy way to decide what parts of JS to include. when i started working on just-js ~3.5 years ago i&#x27;m pretty sure it was only 15MB or so - can verify when i have time.</div><br/><div id="35970749" class="c"><input type="checkbox" id="c-35970749" checked=""/><div class="controls bullet"><span class="by">billywhizz</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35969886">parent</a><span>|</span><a href="#35967875">next</a><span>|</span><label class="collapse" for="c-35970749">[-]</label><label class="expand" for="c-35970749">[1 more]</label></div><br/><div class="children"><div class="content">i just tried recompiling v0.0.2 (<a href="https:&#x2F;&#x2F;github.com&#x2F;just-js&#x2F;just&#x2F;releases&#x2F;tag&#x2F;0.0.2">https:&#x2F;&#x2F;github.com&#x2F;just-js&#x2F;just&#x2F;releases&#x2F;tag&#x2F;0.0.2</a>) of just-js and comparing it to current. for the completely static build on ubuntu 22.04 i see following:<p>0.0.2 (v8 v8.4.371.18) - file size: 15.2 MB, startup RSS: 8.4 MB
current (v8 v10.6.194.9) - file size: 19.5 MB, startup RSS: 12.3 MB<p>so, that&#x27;s roughly 30% binary size increase and 50% greater startup memory usage in 2.5 years. =&#x2F;</div><br/></div></div></div></div></div></div></div></div></div></div><div id="35967875" class="c"><input type="checkbox" id="c-35967875" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967599">parent</a><span>|</span><a href="#35967658">prev</a><span>|</span><a href="#35969503">next</a><span>|</span><label class="collapse" for="c-35967875">[-]</label><label class="expand" for="c-35967875">[4 more]</label></div><br/><div class="children"><div class="content">IIRC the latest Linux Node.js binary is over 70MB.<p>Though Bun doesn&#x27;t use Node.js I believe, there&#x27;s a reference<p>(At least it&#x27;s not JVM Hotspot...)</div><br/><div id="35968491" class="c"><input type="checkbox" id="c-35968491" checked=""/><div class="controls bullet"><span class="by">U1F984</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967875">parent</a><span>|</span><a href="#35969503">next</a><span>|</span><label class="collapse" for="c-35968491">[-]</label><label class="expand" for="c-35968491">[3 more]</label></div><br/><div class="children"><div class="content">A Java Runtime for Hello world is just 32 MB: <a href="https:&#x2F;&#x2F;adoptium.net&#x2F;blog&#x2F;2021&#x2F;10&#x2F;jlink-to-produce-own-runtime&#x2F;" rel="nofollow">https:&#x2F;&#x2F;adoptium.net&#x2F;blog&#x2F;2021&#x2F;10&#x2F;jlink-to-produce-own-runti...</a></div><br/><div id="35972715" class="c"><input type="checkbox" id="c-35972715" checked=""/><div class="controls bullet"><span class="by">mike_hearn</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968491">parent</a><span>|</span><a href="#35969753">next</a><span>|</span><label class="collapse" for="c-35972715">[-]</label><label class="expand" for="c-35972715">[1 more]</label></div><br/><div class="children"><div class="content">You can actually get it smaller if you compile your own JDK and look at the compressed size. I got it down to 7mb at one point.</div><br/></div></div><div id="35969753" class="c"><input type="checkbox" id="c-35969753" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968491">parent</a><span>|</span><a href="#35972715">prev</a><span>|</span><a href="#35969503">next</a><span>|</span><label class="collapse" for="c-35969753">[-]</label><label class="expand" for="c-35969753">[1 more]</label></div><br/><div class="children"><div class="content">A full Java runtime is 95MB. (Smaller than the JDK size of 312MB.)<p>&gt; The jlinked runtime using the above command is about 95Mb.<p>Simple programs -- like Hello World -- can indeed exclude certain parts of the JRE using jdeps, for a smaller size.</div><br/></div></div></div></div></div></div><div id="35969503" class="c"><input type="checkbox" id="c-35969503" checked=""/><div class="controls bullet"><span class="by">stephc_int13</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967599">parent</a><span>|</span><a href="#35967875">prev</a><span>|</span><a href="#35969409">next</a><span>|</span><label class="collapse" for="c-35969503">[-]</label><label class="expand" for="c-35969503">[1 more]</label></div><br/><div class="children"><div class="content">The storage part is not a big deal, it does not look nice but this is simply a bit disgusting.<p>The worrying part is that this is mostly code, not dead junk simply occupying space, this is part of the code path, filling the caches, or should I say trashing the caches…</div><br/></div></div><div id="35969409" class="c"><input type="checkbox" id="c-35969409" checked=""/><div class="controls bullet"><span class="by">s17n</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967599">parent</a><span>|</span><a href="#35969503">prev</a><span>|</span><a href="#35967656">next</a><span>|</span><label class="collapse" for="c-35969409">[-]</label><label class="expand" for="c-35969409">[1 more]</label></div><br/><div class="children"><div class="content">For most use cases, that doesn’t matter.</div><br/></div></div><div id="35967656" class="c"><input type="checkbox" id="c-35967656" checked=""/><div class="controls bullet"><span class="by">bryancoxwell</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967599">parent</a><span>|</span><a href="#35969409">prev</a><span>|</span><a href="#35968034">next</a><span>|</span><label class="collapse" for="c-35967656">[-]</label><label class="expand" for="c-35967656">[1 more]</label></div><br/><div class="children"><div class="content">Well, I do appreciate the transparency to be honest.</div><br/></div></div><div id="35968034" class="c"><input type="checkbox" id="c-35968034" checked=""/><div class="controls bullet"><span class="by">datavirtue</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967599">parent</a><span>|</span><a href="#35967656">prev</a><span>|</span><a href="#35966185">next</a><span>|</span><label class="collapse" for="c-35968034">[-]</label><label class="expand" for="c-35968034">[1 more]</label></div><br/><div class="children"><div class="content">That small!?</div><br/></div></div></div></div><div id="35966185" class="c"><input type="checkbox" id="c-35966185" checked=""/><div class="controls bullet"><span class="by">brundolf</span><span>|</span><a href="#35965782">parent</a><span>|</span><a href="#35967599">prev</a><span>|</span><a href="#35965864">next</a><span>|</span><label class="collapse" for="c-35966185">[-]</label><label class="expand" for="c-35966185">[14 more]</label></div><br/><div class="children"><div class="content">Fwiw, Deno can do this too: <a href="https:&#x2F;&#x2F;deno.com&#x2F;manual@v1.33.3&#x2F;tools&#x2F;compiler" rel="nofollow">https:&#x2F;&#x2F;deno.com&#x2F;manual@v1.33.3&#x2F;tools&#x2F;compiler</a></div><br/><div id="35966453" class="c"><input type="checkbox" id="c-35966453" checked=""/><div class="controls bullet"><span class="by">petetnt</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966185">parent</a><span>|</span><a href="#35968160">next</a><span>|</span><label class="collapse" for="c-35966453">[-]</label><label class="expand" for="c-35966453">[10 more]</label></div><br/><div class="children"><div class="content">And NodeJS too <a href="https:&#x2F;&#x2F;nodejs.org&#x2F;api&#x2F;single-executable-applications.html" rel="nofollow">https:&#x2F;&#x2F;nodejs.org&#x2F;api&#x2F;single-executable-applications.html</a></div><br/><div id="35966501" class="c"><input type="checkbox" id="c-35966501" checked=""/><div class="controls bullet"><span class="by">vdfs</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966453">parent</a><span>|</span><a href="#35966515">next</a><span>|</span><label class="collapse" for="c-35966501">[-]</label><label class="expand" for="c-35966501">[4 more]</label></div><br/><div class="children"><div class="content">There is also <a href="https:&#x2F;&#x2F;github.com&#x2F;vercel&#x2F;pkg">https:&#x2F;&#x2F;github.com&#x2F;vercel&#x2F;pkg</a></div><br/><div id="35971309" class="c"><input type="checkbox" id="c-35971309" checked=""/><div class="controls bullet"><span class="by">iansinnott</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966501">parent</a><span>|</span><a href="#35972073">next</a><span>|</span><label class="collapse" for="c-35971309">[-]</label><label class="expand" for="c-35971309">[1 more]</label></div><br/><div class="children"><div class="content">Perhaps it&#x27;s specific to the applications i&#x27;ve built, but pkg has _ALWAYS_ given me issues. The ideal is the packaged code Just Works as if you ran it with node, and in my experience pkg does not deliver in that regard.<p>Glad others are finding value there, but i wish it was more of a drop-in replacement for `node &lt;script.js&gt;`. Feels similar to `ts-node` (always having issues) and `tsx` (just works).</div><br/></div></div><div id="35972073" class="c"><input type="checkbox" id="c-35972073" checked=""/><div class="controls bullet"><span class="by">freeatnet</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966501">parent</a><span>|</span><a href="#35971309">prev</a><span>|</span><a href="#35968934">next</a><span>|</span><label class="collapse" for="c-35972073">[-]</label><label class="expand" for="c-35972073">[1 more]</label></div><br/><div class="children"><div class="content">Does anyone know of a good comparison of these bundling methods?</div><br/></div></div><div id="35968934" class="c"><input type="checkbox" id="c-35968934" checked=""/><div class="controls bullet"><span class="by">JonathonW</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966501">parent</a><span>|</span><a href="#35972073">prev</a><span>|</span><a href="#35966515">next</a><span>|</span><label class="collapse" for="c-35968934">[-]</label><label class="expand" for="c-35968934">[1 more]</label></div><br/><div class="children"><div class="content">Produces smaller binaries than bun too--  one of my applications, packaged by pkg for Windows, is about 70 MB (and actually does things; this isn&#x27;t a Hello World).  And it compresses well (must be including library sources in the binary as plain text); in a ZIP it&#x27;s about 25 MB.<p>Still not small, but I&#x27;m not sure what Bun&#x27;s doing to come out 20 MB larger than an app with actual functionality and dependencies (this one has express, sqlite, passport, bcrypt, and a bunch of others--  essentially everything you&#x27;d need for a web service).</div><br/></div></div></div></div><div id="35966515" class="c"><input type="checkbox" id="c-35966515" checked=""/><div class="controls bullet"><span class="by">RedShift1</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966453">parent</a><span>|</span><a href="#35966501">prev</a><span>|</span><a href="#35968160">next</a><span>|</span><label class="collapse" for="c-35966515">[-]</label><label class="expand" for="c-35966515">[5 more]</label></div><br/><div class="children"><div class="content">Experimental, so probably at least 5 years before it&#x27;s considered &quot;stable&quot;</div><br/><div id="35966702" class="c"><input type="checkbox" id="c-35966702" checked=""/><div class="controls bullet"><span class="by">g_delgado14</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966515">parent</a><span>|</span><a href="#35968160">next</a><span>|</span><label class="collapse" for="c-35966702">[-]</label><label class="expand" for="c-35966702">[4 more]</label></div><br/><div class="children"><div class="content">As if bun isn&#x27;t experimental</div><br/><div id="35966726" class="c"><input type="checkbox" id="c-35966726" checked=""/><div class="controls bullet"><span class="by">brundolf</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966702">parent</a><span>|</span><a href="#35968160">next</a><span>|</span><label class="collapse" for="c-35966726">[-]</label><label class="expand" for="c-35966726">[3 more]</label></div><br/><div class="children"><div class="content">Node moves pretty slow these days, I wouldn&#x27;t be surprised if Bun&#x27;s version gets stabilized before Node&#x27;s</div><br/><div id="35970022" class="c"><input type="checkbox" id="c-35970022" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966726">parent</a><span>|</span><a href="#35969787">next</a><span>|</span><label class="collapse" for="c-35970022">[-]</label><label class="expand" for="c-35970022">[1 more]</label></div><br/><div class="children"><div class="content">Which is probably a good thing. Node is starting to get firmly in the boring technology camp these days.</div><br/></div></div><div id="35969787" class="c"><input type="checkbox" id="c-35969787" checked=""/><div class="controls bullet"><span class="by">re-thc</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966726">parent</a><span>|</span><a href="#35970022">prev</a><span>|</span><a href="#35968160">next</a><span>|</span><label class="collapse" for="c-35969787">[-]</label><label class="expand" for="c-35969787">[1 more]</label></div><br/><div class="children"><div class="content">Has it ever moved fast? It&#x27;s been at a steady pace for a long time.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="35968160" class="c"><input type="checkbox" id="c-35968160" checked=""/><div class="controls bullet"><span class="by">kbenson</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966185">parent</a><span>|</span><a href="#35966453">prev</a><span>|</span><a href="#35965864">next</a><span>|</span><label class="collapse" for="c-35968160">[-]</label><label class="expand" for="c-35968160">[3 more]</label></div><br/><div class="children"><div class="content">Yeah, I used Deno to build a simple URL switch case utility in late 2021 to handle sending different URLs to different browsers, and that was ~56MB compiled at the time.  I don&#x27;t know if it&#x27;s changed in the base size since then, but if bun is resulting in 90MB binaries (as reported here), then Deno may yield a significant reduction in size (if it hasn&#x27;t gotten much worse in that time).</div><br/><div id="35968845" class="c"><input type="checkbox" id="c-35968845" checked=""/><div class="controls bullet"><span class="by">brundolf</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968160">parent</a><span>|</span><a href="#35965864">next</a><span>|</span><label class="collapse" for="c-35968845">[-]</label><label class="expand" for="c-35968845">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m sure it&#x27;ll get better (I&#x27;m sure both will); there&#x27;s probably a lot of potential optimization to be done, dropping unused parts of the standard library and platform APIs and such (the way Deno loads most of the standard library as remote modules might actually be helping it here at the beginning), and Jarred is a stickler for hyper-optimization</div><br/><div id="35969981" class="c"><input type="checkbox" id="c-35969981" checked=""/><div class="controls bullet"><span class="by">kbenson</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35968845">parent</a><span>|</span><a href="#35965864">next</a><span>|</span><label class="collapse" for="c-35969981">[-]</label><label class="expand" for="c-35969981">[1 more]</label></div><br/><div class="children"><div class="content">Interestingly, I&#x27;m sure a lot of people that want to compile to a binary would love an option that had trade-offs for the size even if it greatly hurt performance.  For example, my case was ~100 lines of code not including the parseArgs and parseIni modules I used, and is meant to be run with an argument and then it exits with an action.  If I could have chosen a dead simple and dumb JS interpreter without JIT but that was &lt; 10MB, I would have.<p>It might even have resulted in a faster runtime as well, since it wouldn&#x27;t need to load nearly as much of the binary into memory, and also wouldn&#x27;t need to initialize as many special purpose data structures to deal with advanced performance cases.</div><br/></div></div></div></div></div></div></div></div><div id="35965864" class="c"><input type="checkbox" id="c-35965864" checked=""/><div class="controls bullet"><span class="by">silisili</span><span>|</span><a href="#35965782">parent</a><span>|</span><a href="#35966185">prev</a><span>|</span><a href="#35972267">next</a><span>|</span><label class="collapse" for="c-35965864">[-]</label><label class="expand" for="c-35965864">[24 more]</label></div><br/><div class="children"><div class="content">It&#x27;s why I dove into Go.<p>This definitely took me from the &#x27;eh, kinda cool project&#x27; to &#x27;I cant wait to try this out immediately&#x27; camp.<p>The binaries are pretty huge, hoping they can bring that down in time.</div><br/><div id="35965927" class="c"><input type="checkbox" id="c-35965927" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35965864">parent</a><span>|</span><a href="#35965904">next</a><span>|</span><label class="collapse" for="c-35965927">[-]</label><label class="expand" for="c-35965927">[7 more]</label></div><br/><div class="children"><div class="content">&gt; The binaries are pretty huge, hoping they can bring that down in time.<p>I&#x27;m surprised the numbers are as high as they are and hope they can reduce them... but they&#x27;ll never get down to the kind of numbers Go and Rust get to because Bun depends on JavaScriptCore, which isn&#x27;t small, and unless they&#x27;re doing some truly insane optimizations they&#x27;re not going to be able to reduce its size.<p>FWIW QuickJS is a tiny JS runtime by Fabrice Ballard... that also supports creation of standalone executables: <a href="https:&#x2F;&#x2F;bellard.org&#x2F;quickjs&#x2F;quickjs.html#Executable-generation" rel="nofollow">https:&#x2F;&#x2F;bellard.org&#x2F;quickjs&#x2F;quickjs.html#Executable-generati...</a> though its runtime speed is considerably worse than JSC or V8.</div><br/><div id="35966172" class="c"><input type="checkbox" id="c-35966172" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35965927">parent</a><span>|</span><a href="#35969836">next</a><span>|</span><label class="collapse" for="c-35966172">[-]</label><label class="expand" for="c-35966172">[2 more]</label></div><br/><div class="children"><div class="content">For 90% of things this will be used for, it&#x27;s more than enough so it might be a good default unless you enable a `-Ojit` flag when building more complex applications where the JIT will be a benefit. In fact, startup times might even be faster.<p>The challenge of course is supporting two JS runtimes within the same codebase.</div><br/><div id="35966452" class="c"><input type="checkbox" id="c-35966452" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966172">parent</a><span>|</span><a href="#35969836">next</a><span>|</span><label class="collapse" for="c-35966452">[-]</label><label class="expand" for="c-35966452">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I suspect the weird little differences between runtimes (e.g. what language features they do and do not support) would lead you down a path of a thousand cuts.<p>It still feels like a graceful idea, though.</div><br/></div></div></div></div><div id="35969836" class="c"><input type="checkbox" id="c-35969836" checked=""/><div class="controls bullet"><span class="by">rtpg</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35965927">parent</a><span>|</span><a href="#35966172">prev</a><span>|</span><a href="#35966446">next</a><span>|</span><label class="collapse" for="c-35969836">[-]</label><label class="expand" for="c-35969836">[1 more]</label></div><br/><div class="children"><div class="content">Why is JavascriptCore so big? What&#x27;s going on internally to end up with binaries that big?</div><br/></div></div><div id="35966446" class="c"><input type="checkbox" id="c-35966446" checked=""/><div class="controls bullet"><span class="by">whimsicalism</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35965927">parent</a><span>|</span><a href="#35969836">prev</a><span>|</span><a href="#35965904">next</a><span>|</span><label class="collapse" for="c-35966446">[-]</label><label class="expand" for="c-35966446">[3 more]</label></div><br/><div class="children"><div class="content">JSC is ridiculously fast, this is what makes bun great</div><br/><div id="35966477" class="c"><input type="checkbox" id="c-35966477" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966446">parent</a><span>|</span><a href="#35965904">next</a><span>|</span><label class="collapse" for="c-35966477">[-]</label><label class="expand" for="c-35966477">[2 more]</label></div><br/><div class="children"><div class="content">It really depends on what you&#x27;re doing. If 95% of your code is file or network I&#x2F;O then it&#x27;s really not going to make the slightest difference whether you&#x27;re running JSC, V8 or QuickJS. If your code is enormously complex and benefits from JIT then yes, you&#x27;re going to really feel that downgrade.</div><br/><div id="35968152" class="c"><input type="checkbox" id="c-35968152" checked=""/><div class="controls bullet"><span class="by">mixedCase</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966477">parent</a><span>|</span><a href="#35965904">next</a><span>|</span><label class="collapse" for="c-35968152">[-]</label><label class="expand" for="c-35968152">[1 more]</label></div><br/><div class="children"><div class="content">The difference in real world performance between web servers written in things like Python or Ruby to those written in Go, C# or even lower-level languages like Rust would indicate that&#x27;s an over-estimation of how much IO dominates total runtime, even if it is by far the slowest part.</div><br/></div></div></div></div></div></div></div></div><div id="35965904" class="c"><input type="checkbox" id="c-35965904" checked=""/><div class="controls bullet"><span class="by">TechBro8615</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35965864">parent</a><span>|</span><a href="#35965927">prev</a><span>|</span><a href="#35966952">next</a><span>|</span><label class="collapse" for="c-35965904">[-]</label><label class="expand" for="c-35965904">[15 more]</label></div><br/><div class="children"><div class="content">You&#x27;ve been able to do this with Deno for a long time (and Node too, as of recently). The downside is it bundles all of V8 so a &quot;hello world&quot; binary ends up being at least 70mb.</div><br/><div id="35966131" class="c"><input type="checkbox" id="c-35966131" checked=""/><div class="controls bullet"><span class="by">winrid</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35965904">parent</a><span>|</span><a href="#35966952">next</a><span>|</span><label class="collapse" for="c-35966131">[-]</label><label class="expand" for="c-35966131">[14 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been desensitized by my world of 500mb docker containers.</div><br/><div id="35966179" class="c"><input type="checkbox" id="c-35966179" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966131">parent</a><span>|</span><a href="#35966350">next</a><span>|</span><label class="collapse" for="c-35966179">[-]</label><label class="expand" for="c-35966179">[2 more]</label></div><br/><div class="children"><div class="content">Docker containers are actually smaller if they share layers with other containers in the system. A ton of containers based on the same image reaps many deduplication benefits.</div><br/><div id="35967747" class="c"><input type="checkbox" id="c-35967747" checked=""/><div class="controls bullet"><span class="by">tracker1</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966179">parent</a><span>|</span><a href="#35966350">next</a><span>|</span><label class="collapse" for="c-35967747">[-]</label><label class="expand" for="c-35967747">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I notice many&#x2F;most images are based on a recent Debian base if they aren&#x27;t on Alpine or closer to bare images.  I don&#x27;t consider even Alpine as a base too bad for a lot of apps.</div><br/></div></div></div></div><div id="35966350" class="c"><input type="checkbox" id="c-35966350" checked=""/><div class="controls bullet"><span class="by">thewataccount</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966131">parent</a><span>|</span><a href="#35966179">prev</a><span>|</span><a href="#35967365">next</a><span>|</span><label class="collapse" for="c-35966350">[-]</label><label class="expand" for="c-35966350">[7 more]</label></div><br/><div class="children"><div class="content">Have you tried using alpine based images instead of debian&#x2F;ubuntu&#x2F;others? I know it&#x27;s not always possible especially because of musl but for most things it works fine and is tiny.</div><br/><div id="35967524" class="c"><input type="checkbox" id="c-35967524" checked=""/><div class="controls bullet"><span class="by">verdverm</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966350">parent</a><span>|</span><a href="#35966580">next</a><span>|</span><label class="collapse" for="c-35967524">[-]</label><label class="expand" for="c-35967524">[1 more]</label></div><br/><div class="children"><div class="content">If everyone is on the same base image, then you aren&#x27;t really dealing with 500mb images, but much smaller layers on top.</div><br/></div></div><div id="35966580" class="c"><input type="checkbox" id="c-35966580" checked=""/><div class="controls bullet"><span class="by">winrid</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966350">parent</a><span>|</span><a href="#35967524">prev</a><span>|</span><a href="#35970865">next</a><span>|</span><label class="collapse" for="c-35966580">[-]</label><label class="expand" for="c-35966580">[4 more]</label></div><br/><div class="children"><div class="content">It becomes a political issue at this point w&#x2F; battling the ops team. I have more important battles.</div><br/><div id="35970031" class="c"><input type="checkbox" id="c-35970031" checked=""/><div class="controls bullet"><span class="by">zaphar</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966580">parent</a><span>|</span><a href="#35966853">next</a><span>|</span><label class="collapse" for="c-35970031">[-]</label><label class="expand" for="c-35970031">[1 more]</label></div><br/><div class="children"><div class="content">If it&#x27;s a battle by all means avoid it. But it&#x27;s weird that your ops team would care about the image type. The whole point of containers is that they don&#x27;t <i>need</i> to care.</div><br/></div></div><div id="35966853" class="c"><input type="checkbox" id="c-35966853" checked=""/><div class="controls bullet"><span class="by">thewataccount</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966580">parent</a><span>|</span><a href="#35970031">prev</a><span>|</span><a href="#35967158">next</a><span>|</span><label class="collapse" for="c-35966853">[-]</label><label class="expand" for="c-35966853">[1 more]</label></div><br/><div class="children"><div class="content">Yeah that&#x27;s fair, if it works it works.<p>Depending on your setup it doesn&#x27;t really matter anyway.</div><br/></div></div><div id="35967158" class="c"><input type="checkbox" id="c-35967158" checked=""/><div class="controls bullet"><span class="by">beanjuiceII</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966580">parent</a><span>|</span><a href="#35966853">prev</a><span>|</span><a href="#35970865">next</a><span>|</span><label class="collapse" for="c-35967158">[-]</label><label class="expand" for="c-35967158">[1 more]</label></div><br/><div class="children"><div class="content">how about ubuntu chisel</div><br/></div></div></div></div><div id="35970865" class="c"><input type="checkbox" id="c-35970865" checked=""/><div class="controls bullet"><span class="by">jrockway</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966350">parent</a><span>|</span><a href="#35966580">prev</a><span>|</span><a href="#35967365">next</a><span>|</span><label class="collapse" for="c-35970865">[-]</label><label class="expand" for="c-35970865">[1 more]</label></div><br/><div class="children"><div class="content">Why even include Alpine?  Distroless is the way to go.</div><br/></div></div></div></div><div id="35967365" class="c"><input type="checkbox" id="c-35967365" checked=""/><div class="controls bullet"><span class="by">claytongulick</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966131">parent</a><span>|</span><a href="#35966350">prev</a><span>|</span><a href="#35966952">next</a><span>|</span><label class="collapse" for="c-35967365">[-]</label><label class="expand" for="c-35967365">[4 more]</label></div><br/><div class="children"><div class="content">Yeah, this is honestly one of the things that turns me off of containers in general.<p>Like, the whole point was to effectively use linux kernel namespaces with cgroups in an intelligent way to give VM-like isolation, but non-emulated performance - and supposedly not having to deal with image size bloat from the OS like you get in VMs.<p>What we got was an unholy mashup of difficult to debug, bloated images and ridiculously complex deployment and maintenance mechanisms like kubernetes.<p>I just do old school &#x2F;home&#x2F;app_name deployments with systemd unit files, and user-level permissions.<p>Oh, and it&#x27;s webscale[1].<p>[1] <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=b2F-DItXtZs">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=b2F-DItXtZs</a></div><br/><div id="35967772" class="c"><input type="checkbox" id="c-35967772" checked=""/><div class="controls bullet"><span class="by">tracker1</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967365">parent</a><span>|</span><a href="#35966952">next</a><span>|</span><label class="collapse" for="c-35967772">[-]</label><label class="expand" for="c-35967772">[3 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t <i>HAVE</i> to be that bulky or complex.  You have a lighter space like Dokku or just direct scripted deployments pretty easily.  As to the size, you can use debian-slim or alpine as a base for smaller options.  There&#x27;s also bare containers, or close to bare for some languages and platforms as well (go in particular).</div><br/><div id="35971411" class="c"><input type="checkbox" id="c-35971411" checked=""/><div class="controls bullet"><span class="by">claytongulick</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967772">parent</a><span>|</span><a href="#35966952">next</a><span>|</span><label class="collapse" for="c-35971411">[-]</label><label class="expand" for="c-35971411">[2 more]</label></div><br/><div class="children"><div class="content">What&#x27;s even &quot;lighter&quot; is a single binary sitting in &#x2F;home&#x2F;app running under &quot;app&quot; user and launched by systemd unit file with auto restart.<p>Look, I totally get the unholy hell that&#x27;s (for example) python dependency management, and containers are a great solve for that.<p>Sometimes you don&#x27;t have a choice of technology, so I get it.<p>What I don&#x27;t understand is folks that use containers for stuff like go binaries. Or nodejs. I mean, it&#x27;s just an &quot;npm install&quot;. Or now bun with it&#x27;s fancy new build option, you don&#x27;t even need that.<p>I honestly don&#x27;t get the point of containers with languages that have good dependency management, unless you&#x27;re in a big matrix organization or something.<p>Or, as one HN user put it years ago, &quot;containers are static compilation for millennials&quot;.<p>I snorted beer out of my nose the first time I read that.</div><br/><div id="35971672" class="c"><input type="checkbox" id="c-35971672" checked=""/><div class="controls bullet"><span class="by">TechBro8615</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35971411">parent</a><span>|</span><a href="#35966952">next</a><span>|</span><label class="collapse" for="c-35971672">[-]</label><label class="expand" for="c-35971672">[1 more]</label></div><br/><div class="children"><div class="content">It feels like the same people who make this argument are also using the other side of their mouth to lament that nobody uses containers for their original purpose of containerization. And yet, that&#x27;s a legitimate use case that is totally orthogonal to any build process or artifact distribution method. In fact the argument itself betrays a misunderstanding, because the underlying complaint is about using Docker <i>images</i> as a build artifact, but it&#x27;s presented as if <i>containers</i> are the problem. But they&#x27;re separate concepts (you don&#x27;t compile a container, so the snarky analogy to static compilation is nonsensical upon closer inspection).<p>There are plenty of good reasons to containerize even a single binary executable, as demonstrated by the fact that officially maintained images exist for containerizing processes like Postgres or haproxy. Sure, you could run both Postgres and haproxy as services directly on the host,  but then you&#x27;d miss out on all the benefits either provided by or complementary to containerization, like isolated cgroups and network namespaces that make declarative service orchestration easily achievable with maintainable configuration.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="35966952" class="c"><input type="checkbox" id="c-35966952" checked=""/><div class="controls bullet"><span class="by">latchkey</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35965864">parent</a><span>|</span><a href="#35965904">prev</a><span>|</span><a href="#35972267">next</a><span>|</span><label class="collapse" for="c-35966952">[-]</label><label class="expand" for="c-35966952">[1 more]</label></div><br/><div class="children"><div class="content">`-trimpath -s -w` makes binary size smaller.<p>`xz -z -9e` is good to compress it for distribution.</div><br/></div></div></div></div><div id="35972267" class="c"><input type="checkbox" id="c-35972267" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#35965782">parent</a><span>|</span><a href="#35965864">prev</a><span>|</span><a href="#35965901">next</a><span>|</span><label class="collapse" for="c-35972267">[-]</label><label class="expand" for="c-35972267">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, because compilers that produce static binaries don&#x27;t exist since Macro Assemblers and FORTRAN were created. &#x2F;s</div><br/></div></div><div id="35965901" class="c"><input type="checkbox" id="c-35965901" checked=""/><div class="controls bullet"><span class="by">MuffinFlavored</span><span>|</span><a href="#35965782">parent</a><span>|</span><a href="#35972267">prev</a><span>|</span><a href="#35967683">next</a><span>|</span><label class="collapse" for="c-35965901">[-]</label><label class="expand" for="c-35965901">[16 more]</label></div><br/><div class="children"><div class="content">&gt; Part of Go&#x27;s popularity is due to how easy it is to produce self-contained executables.<p>Rust too... :D</div><br/><div id="35966523" class="c"><input type="checkbox" id="c-35966523" checked=""/><div class="controls bullet"><span class="by">winrid</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35965901">parent</a><span>|</span><a href="#35967380">next</a><span>|</span><label class="collapse" for="c-35966523">[-]</label><label class="expand" for="c-35966523">[12 more]</label></div><br/><div class="children"><div class="content">Nah, rust still depends on libc at runtime which is a pain. Go doesn&#x27;t have this problem afaik as it has its own stdlib and runtime.</div><br/><div id="35967125" class="c"><input type="checkbox" id="c-35967125" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966523">parent</a><span>|</span><a href="#35967801">next</a><span>|</span><label class="collapse" for="c-35967125">[-]</label><label class="expand" for="c-35967125">[5 more]</label></div><br/><div class="children"><div class="content">You can statically link libc in Rust too; at least, if teh interwebz is correct (not a Rust expert); you just need some extra flags.<p>This is actually not that different from Go in practice; many Go binaries are linked to libc: it happens as soon as you or a dependency imports the very commonly used &quot;net&quot; package unless you specifically set CGO_ENABLED=0, -tags=netgo, or use -extldflags=-static.</div><br/><div id="35972192" class="c"><input type="checkbox" id="c-35972192" checked=""/><div class="controls bullet"><span class="by">maeln</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967125">parent</a><span>|</span><a href="#35967364">next</a><span>|</span><label class="collapse" for="c-35972192">[-]</label><label class="expand" for="c-35972192">[1 more]</label></div><br/><div class="children"><div class="content">You can, but usually, if you really want a binary with no runtime dependencies, most people will just compile their code against musl libc instead.<p>The only issue is that some lib sometime do not compile (or at least without some workaround) with musl. Although it often concern one specific platform (looking at you Mac OS).</div><br/></div></div><div id="35967364" class="c"><input type="checkbox" id="c-35967364" checked=""/><div class="controls bullet"><span class="by">Conscat</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967125">parent</a><span>|</span><a href="#35972192">prev</a><span>|</span><a href="#35967801">next</a><span>|</span><label class="collapse" for="c-35967364">[-]</label><label class="expand" for="c-35967364">[3 more]</label></div><br/><div class="children"><div class="content">Statically linking libC is problematic in various ways. I really appreciate that Zig has its own runtime that is designed specifically for this use case.</div><br/><div id="35969966" class="c"><input type="checkbox" id="c-35969966" checked=""/><div class="controls bullet"><span class="by">Kamq</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967364">parent</a><span>|</span><a href="#35967801">next</a><span>|</span><label class="collapse" for="c-35969966">[-]</label><label class="expand" for="c-35969966">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Statically linking libC is problematic in various ways.<p>Are we just talking about standard rop gadget vulnerabilities, or is there something else that&#x27;s a problem with it?</div><br/><div id="35971109" class="c"><input type="checkbox" id="c-35971109" checked=""/><div class="controls bullet"><span class="by">thristian</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35969966">parent</a><span>|</span><a href="#35967801">next</a><span>|</span><label class="collapse" for="c-35971109">[-]</label><label class="expand" for="c-35971109">[1 more]</label></div><br/><div class="children"><div class="content">glibc, Linux&#x27;s traditional libc, can dynamically load hostname resolution policies, but that only works if the executable has access to dynamic loading, i.e. if it&#x27;s not a static executable.<p>Dynamically loading hostname resolution policies doesn&#x27;t happen <i>often</i>, but when it does happen it&#x27;s a right pain to diagnose why some tools see the right hostname and other tools don&#x27;t.</div><br/></div></div></div></div></div></div></div></div><div id="35967801" class="c"><input type="checkbox" id="c-35967801" checked=""/><div class="controls bullet"><span class="by">mirashii</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966523">parent</a><span>|</span><a href="#35967125">prev</a><span>|</span><a href="#35968055">next</a><span>|</span><label class="collapse" for="c-35967801">[-]</label><label class="expand" for="c-35967801">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Nah, rust still depends on libc at runtime which is a pain.<p>It does in general, though I don&#x27;t really think this is a big pain or blocker in the general case, there are very version requirements around libc.<p>&gt; Go doesn&#x27;t have this problem afaik as it has its own stdlib and runtime.<p>That&#x27;s also true, but it&#x27;s not really a pure win. Choosing not to use a battletested libc has led to a variety of subtle and difficult to diagnose bugs over the years, e.g. <a href="https:&#x2F;&#x2F;marcan.st&#x2F;2017&#x2F;12&#x2F;debugging-an-evil-go-runtime-bug&#x2F;" rel="nofollow">https:&#x2F;&#x2F;marcan.st&#x2F;2017&#x2F;12&#x2F;debugging-an-evil-go-runtime-bug&#x2F;</a></div><br/><div id="35971471" class="c"><input type="checkbox" id="c-35971471" checked=""/><div class="controls bullet"><span class="by">Patrickmi</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967801">parent</a><span>|</span><a href="#35970903">next</a><span>|</span><label class="collapse" for="c-35971471">[-]</label><label class="expand" for="c-35971471">[1 more]</label></div><br/><div class="children"><div class="content">This is obviously a trade off, it’s not a bug there’re certain things one must overcome “with time”, even if Go starts using libc am pretty sure the Go team will have their own libc which makes no difference unless it deals with the problem Cgo have</div><br/></div></div><div id="35970903" class="c"><input type="checkbox" id="c-35970903" checked=""/><div class="controls bullet"><span class="by">jrockway</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967801">parent</a><span>|</span><a href="#35971471">prev</a><span>|</span><a href="#35968055">next</a><span>|</span><label class="collapse" for="c-35970903">[-]</label><label class="expand" for="c-35970903">[1 more]</label></div><br/><div class="children"><div class="content">I think it&#x27;s a pure win.  Writing your program in 1 language instead of 2 is worth one simple misunderstanding of vDSO.</div><br/></div></div></div></div><div id="35968055" class="c"><input type="checkbox" id="c-35968055" checked=""/><div class="controls bullet"><span class="by">d0100</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966523">parent</a><span>|</span><a href="#35967801">prev</a><span>|</span><a href="#35971000">next</a><span>|</span><label class="collapse" for="c-35968055">[-]</label><label class="expand" for="c-35968055">[1 more]</label></div><br/><div class="children"><div class="content">Indeed, I built Supabase&#x27;s edge-runtime and sent the binary to another pc with a earlier Ubuntu version only to discover it wont work<p>I went on a wild goose chase to build static Rust but deno can&#x27;t target musl yet and the issue is a few years old</div><br/></div></div><div id="35971000" class="c"><input type="checkbox" id="c-35971000" checked=""/><div class="controls bullet"><span class="by">leeoniya</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966523">parent</a><span>|</span><a href="#35968055">prev</a><span>|</span><a href="#35972274">next</a><span>|</span><label class="collapse" for="c-35971000">[-]</label><label class="expand" for="c-35971000">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;redox-os&#x2F;relibc">https:&#x2F;&#x2F;github.com&#x2F;redox-os&#x2F;relibc</a> ?<p><a href="https:&#x2F;&#x2F;musl.libc.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;musl.libc.org&#x2F;</a></div><br/></div></div><div id="35972274" class="c"><input type="checkbox" id="c-35972274" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966523">parent</a><span>|</span><a href="#35971000">prev</a><span>|</span><a href="#35967380">next</a><span>|</span><label class="collapse" for="c-35972274">[-]</label><label class="expand" for="c-35972274">[1 more]</label></div><br/><div class="children"><div class="content">Not always, because some platforms require you to use their libc.</div><br/></div></div></div></div><div id="35967380" class="c"><input type="checkbox" id="c-35967380" checked=""/><div class="controls bullet"><span class="by">diego_sandoval</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35965901">parent</a><span>|</span><a href="#35966523">prev</a><span>|</span><a href="#35967683">next</a><span>|</span><label class="collapse" for="c-35967380">[-]</label><label class="expand" for="c-35967380">[3 more]</label></div><br/><div class="children"><div class="content">What bothers me is that even when that capability exists, most of the Rust open source programs that I&#x27;ve tried don&#x27;t distribute binaries, and still ask you to install cargo and compile the program from source.</div><br/><div id="35967481" class="c"><input type="checkbox" id="c-35967481" checked=""/><div class="controls bullet"><span class="by">VWWHFSfQ</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967380">parent</a><span>|</span><a href="#35967448">next</a><span>|</span><label class="collapse" for="c-35967481">[-]</label><label class="expand" for="c-35967481">[1 more]</label></div><br/><div class="children"><div class="content">My experience is the opposite.  Nearly every Rust tool I&#x27;ve used offers static binaries for various platforms.</div><br/></div></div></div></div></div></div><div id="35967683" class="c"><input type="checkbox" id="c-35967683" checked=""/><div class="controls bullet"><span class="by">inglor</span><span>|</span><a href="#35965782">parent</a><span>|</span><a href="#35965901">prev</a><span>|</span><a href="#35970636">next</a><span>|</span><label class="collapse" for="c-35967683">[-]</label><label class="expand" for="c-35967683">[1 more]</label></div><br/><div class="children"><div class="content">Node supports this too (experimentally) <a href="https:&#x2F;&#x2F;nodejs.org&#x2F;api&#x2F;single-executable-applications.html" rel="nofollow">https:&#x2F;&#x2F;nodejs.org&#x2F;api&#x2F;single-executable-applications.html</a></div><br/></div></div><div id="35970636" class="c"><input type="checkbox" id="c-35970636" checked=""/><div class="controls bullet"><span class="by">synergy20</span><span>|</span><a href="#35965782">parent</a><span>|</span><a href="#35967683">prev</a><span>|</span><a href="#35967086">next</a><span>|</span><label class="collapse" for="c-35970636">[-]</label><label class="expand" for="c-35970636">[1 more]</label></div><br/><div class="children"><div class="content">golang is the most famous all-in-one-binary language with reasonable size.<p>zig is by default static linked, it probably has the smallest binary size, smaller than static C.</div><br/></div></div><div id="35967086" class="c"><input type="checkbox" id="c-35967086" checked=""/><div class="controls bullet"><span class="by">bdg</span><span>|</span><a href="#35965782">parent</a><span>|</span><a href="#35970636">prev</a><span>|</span><a href="#35966038">next</a><span>|</span><label class="collapse" for="c-35967086">[-]</label><label class="expand" for="c-35967086">[2 more]</label></div><br/><div class="children"><div class="content">Is this like a phar file?</div><br/><div id="35967692" class="c"><input type="checkbox" id="c-35967692" checked=""/><div class="controls bullet"><span class="by">blowski</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35967086">parent</a><span>|</span><a href="#35966038">next</a><span>|</span><label class="collapse" for="c-35967692">[-]</label><label class="expand" for="c-35967692">[1 more]</label></div><br/><div class="children"><div class="content">Phar files still need the PHP runtime installed to run them. These files have the JS runtime embedded in them.</div><br/></div></div></div></div><div id="35966038" class="c"><input type="checkbox" id="c-35966038" checked=""/><div class="controls bullet"><span class="by">henry_viii</span><span>|</span><a href="#35965782">parent</a><span>|</span><a href="#35967086">prev</a><span>|</span><a href="#35965563">next</a><span>|</span><label class="collapse" for="c-35966038">[-]</label><label class="expand" for="c-35966038">[6 more]</label></div><br/><div class="children"><div class="content">Doesn&#x27;t Deno already let us do this?</div><br/><div id="35966080" class="c"><input type="checkbox" id="c-35966080" checked=""/><div class="controls bullet"><span class="by">chrisco255</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966038">parent</a><span>|</span><a href="#35966113">next</a><span>|</span><label class="collapse" for="c-35966080">[-]</label><label class="expand" for="c-35966080">[4 more]</label></div><br/><div class="children"><div class="content">Bun is intended to be a drop in replacement for Node.js, with Node.js compatible APIs. Deno chose to go a different route with the design of the runtime, encouraging more modern web-native paradigms.</div><br/><div id="35966957" class="c"><input type="checkbox" id="c-35966957" checked=""/><div class="controls bullet"><span class="by">hiccuphippo</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966080">parent</a><span>|</span><a href="#35966113">next</a><span>|</span><label class="collapse" for="c-35966957">[-]</label><label class="expand" for="c-35966957">[3 more]</label></div><br/><div class="children"><div class="content">Deno changed their opinion recently and will offer Node.js compatibility. Apparently it wasn&#x27;t such a good idea to not be compatible on purpose.</div><br/><div id="35967789" class="c"><input type="checkbox" id="c-35967789" checked=""/><div class="controls bullet"><span class="by">tracker1</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966957">parent</a><span>|</span><a href="#35967845">next</a><span>|</span><label class="collapse" for="c-35967789">[-]</label><label class="expand" for="c-35967789">[1 more]</label></div><br/><div class="children"><div class="content">I actually have mixed feelings on this one... since I think Deno&#x27;s approach has been generally cleaner, but also recognize the scale of what&#x27;s in NPM.</div><br/></div></div><div id="35967845" class="c"><input type="checkbox" id="c-35967845" checked=""/><div class="controls bullet"><span class="by">chrisco255</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966957">parent</a><span>|</span><a href="#35967789">prev</a><span>|</span><a href="#35966113">next</a><span>|</span><label class="collapse" for="c-35967845">[-]</label><label class="expand" for="c-35967845">[1 more]</label></div><br/><div class="children"><div class="content">Didn&#x27;t realize that, thank you. I can empathize with Deno&#x27;s desire to take backend JS in a more web-native direction.</div><br/></div></div></div></div></div></div><div id="35966113" class="c"><input type="checkbox" id="c-35966113" checked=""/><div class="controls bullet"><span class="by">ignoramous</span><span>|</span><a href="#35965782">root</a><span>|</span><a href="#35966038">parent</a><span>|</span><a href="#35966080">prev</a><span>|</span><a href="#35965563">next</a><span>|</span><label class="collapse" for="c-35966113">[-]</label><label class="expand" for="c-35966113">[1 more]</label></div><br/><div class="children"><div class="content">Yes, that it does. <i>Bun</i> is mostly towing Deno with Zig + JSCore (and per some microbenchmarks, faster than both Node and Deno).</div><br/></div></div></div></div></div></div><div id="35965563" class="c"><input type="checkbox" id="c-35965563" checked=""/><div class="controls bullet"><span class="by">Jarred</span><span>|</span><a href="#35965782">prev</a><span>|</span><a href="#35966357">next</a><span>|</span><label class="collapse" for="c-35965563">[-]</label><label class="expand" for="c-35965563">[31 more]</label></div><br/><div class="children"><div class="content">I work on Bun. Happy to answer any questions<p>also: there is a bug in `bun build --compile` I am currently working on fixing. Expect a v0.6.1 in a bit</div><br/><div id="35966373" class="c"><input type="checkbox" id="c-35966373" checked=""/><div class="controls bullet"><span class="by">alberth</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35965765">next</a><span>|</span><label class="collapse" for="c-35966373">[-]</label><label class="expand" for="c-35966373">[4 more]</label></div><br/><div class="children"><div class="content">Revenue&#x2F;monetization model?<p>Given that Oven has taken $7m in VC funding, how do you plan to monetize Bun, etc?</div><br/><div id="35968365" class="c"><input type="checkbox" id="c-35968365" checked=""/><div class="controls bullet"><span class="by">Jarred</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35966373">parent</a><span>|</span><a href="#35966471">next</a><span>|</span><label class="collapse" for="c-35968365">[-]</label><label class="expand" for="c-35968365">[2 more]</label></div><br/><div class="children"><div class="content">The plan is JavaScript edge hosting focused on fast cold starts and being extremely inexpensive, using lots of custom infrastructure</div><br/><div id="35970042" class="c"><input type="checkbox" id="c-35970042" checked=""/><div class="controls bullet"><span class="by">internetter</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35968365">parent</a><span>|</span><a href="#35966471">next</a><span>|</span><label class="collapse" for="c-35970042">[-]</label><label class="expand" for="c-35970042">[1 more]</label></div><br/><div class="children"><div class="content">Hi Jarred. Super excited to see bun coming along. I&#x27;ve been loving it ever since the invitation release. As I watch from the sidelines, I&#x27;ve been mesmerized by your productivity. I have a couple questions, if you don&#x27;t mind.<p>The first – I&#x27;m curious about Vite in bun. You have a bundler, you have a typescript transpiler, and you have a HTTP server. Does this mean eventually Vite (or at least some of it&#x27;s functionality) will be &quot;native&quot; inside of bun, or will Vite continue to be it&#x27;s own thing? (eg. Vite plugins for &lt;framework&gt;)<p>The second is more related to Oven. I&#x27;m curious what the value proposition of Oven&#x27;s edge is, compared to other serverless providers? It&#x27;s hard to imagine the runtime being the main selling point, with it&#x27;s node compatibility and packages like hono being able to run everywhere. What will set Oven&#x27;s edge hosting apart from the pack?</div><br/></div></div></div></div><div id="35966471" class="c"><input type="checkbox" id="c-35966471" checked=""/><div class="controls bullet"><span class="by">whimsicalism</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35966373">parent</a><span>|</span><a href="#35968365">prev</a><span>|</span><a href="#35965765">next</a><span>|</span><label class="collapse" for="c-35966471">[-]</label><label class="expand" for="c-35966471">[1 more]</label></div><br/><div class="children"><div class="content">my understanding was an edge environment similar to CF workers</div><br/></div></div></div></div><div id="35965765" class="c"><input type="checkbox" id="c-35965765" checked=""/><div class="controls bullet"><span class="by">Signez</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35966373">prev</a><span>|</span><a href="#35966192">next</a><span>|</span><label class="collapse" for="c-35965765">[-]</label><label class="expand" for="c-35965765">[6 more]</label></div><br/><div class="children"><div class="content">Really impressed to see that bun is now faster than esbuild, that was in my mind one of the fastest bundler&#x2F;minifier in town.<p>How did you achieve that? Are there some shortcuts you took, or some feature you deemed not in scope (yet)?</div><br/><div id="35966040" class="c"><input type="checkbox" id="c-35966040" checked=""/><div class="controls bullet"><span class="by">conradev</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35965765">parent</a><span>|</span><a href="#35965907">next</a><span>|</span><label class="collapse" for="c-35966040">[-]</label><label class="expand" for="c-35966040">[4 more]</label></div><br/><div class="children"><div class="content">This is a fantastic talk on some of the optimizations that Zig makes easy to implement: <a href="https:&#x2F;&#x2F;vimeo.com&#x2F;649009599" rel="nofollow">https:&#x2F;&#x2F;vimeo.com&#x2F;649009599</a><p>Bun is written in Zig, but it takes the same approach that esbuild took to make things fast: a linear, synchronous pipeline fitting as much as possible in the CPU cache with as little allocation and other overhead as possible. Zig has more knobs to turn than Go.<p>Bun goes one step further and does a great job of offloading work to the kernel when possible, too (i.e. the large file I&#x2F;O improvement with the Linux kernel)</div><br/><div id="35967436" class="c"><input type="checkbox" id="c-35967436" checked=""/><div class="controls bullet"><span class="by">f311a</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35966040">parent</a><span>|</span><a href="#35965907">next</a><span>|</span><label class="collapse" for="c-35967436">[-]</label><label class="expand" for="c-35967436">[3 more]</label></div><br/><div class="children"><div class="content">Zig is cool, but Bun heavily relies on JSC which is written in C++</div><br/><div id="35967791" class="c"><input type="checkbox" id="c-35967791" checked=""/><div class="controls bullet"><span class="by">conradev</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35967436">parent</a><span>|</span><a href="#35967627">next</a><span>|</span><label class="collapse" for="c-35967791">[-]</label><label class="expand" for="c-35967791">[1 more]</label></div><br/><div class="children"><div class="content">JSC is a multi-tier JIT with the last stage ultimately being LLVM, so if you want to be pedantic, Bun relies on LLVM’s optimizer which is written in C++.<p>The transpiling itself is written in Zig, which is the part that has the performance improvement. If Bun relied on JavaScript and JSC for the heavy lifting, it would be no faster than the other JS bundlers.<p>edit: no longer LLVM: <a href="https:&#x2F;&#x2F;webkit.org&#x2F;blog&#x2F;5852&#x2F;introducing-the-b3-jit-compiler&#x2F;" rel="nofollow">https:&#x2F;&#x2F;webkit.org&#x2F;blog&#x2F;5852&#x2F;introducing-the-b3-jit-compiler...</a></div><br/></div></div><div id="35967627" class="c"><input type="checkbox" id="c-35967627" checked=""/><div class="controls bullet"><span class="by">brundolf</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35967436">parent</a><span>|</span><a href="#35967791">prev</a><span>|</span><a href="#35965907">next</a><span>|</span><label class="collapse" for="c-35967627">[-]</label><label class="expand" for="c-35967627">[1 more]</label></div><br/><div class="children"><div class="content">But bundling doesn&#x27;t</div><br/></div></div></div></div></div></div><div id="35965907" class="c"><input type="checkbox" id="c-35965907" checked=""/><div class="controls bullet"><span class="by">eatonphil</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35965765">parent</a><span>|</span><a href="#35966040">prev</a><span>|</span><a href="#35966192">next</a><span>|</span><label class="collapse" for="c-35965907">[-]</label><label class="expand" for="c-35965907">[1 more]</label></div><br/><div class="children"><div class="content">I really hate to talk about software based on the language they&#x27;re written in and I don&#x27;t mean to imply one language is better or worse but the upper bound of performance on Zig is likely easier to reach and likely higher than the upper bound of performance in Go. Though it may depend on the workload. (esbuild being written in Go.)</div><br/></div></div></div></div><div id="35966192" class="c"><input type="checkbox" id="c-35966192" checked=""/><div class="controls bullet"><span class="by">meekaaku</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35965765">prev</a><span>|</span><a href="#35965709">next</a><span>|</span><label class="collapse" for="c-35966192">[-]</label><label class="expand" for="c-35966192">[1 more]</label></div><br/><div class="children"><div class="content">Just wanted to say thank you for starting and leading the one of the most exciting projects in js landscape.</div><br/></div></div><div id="35965709" class="c"><input type="checkbox" id="c-35965709" checked=""/><div class="controls bullet"><span class="by">samwillis</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35966192">prev</a><span>|</span><a href="#35966259">next</a><span>|</span><label class="collapse" for="c-35965709">[-]</label><label class="expand" for="c-35965709">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I work on Bun<p>Understatement.</div><br/><div id="35966152" class="c"><input type="checkbox" id="c-35966152" checked=""/><div class="controls bullet"><span class="by">intelVISA</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35965709">parent</a><span>|</span><a href="#35966259">next</a><span>|</span><label class="collapse" for="c-35966152">[-]</label><label class="expand" for="c-35966152">[1 more]</label></div><br/><div class="children"><div class="content">Local hacker seasons v8 Bun with io_urings; woulda been a cool proj if the Js runtime was organic like Bellard&#x27;s qjs<p>Still, in the native-starved web space this sorta meal will be considered haute cuisine.</div><br/></div></div></div></div><div id="35966259" class="c"><input type="checkbox" id="c-35966259" checked=""/><div class="controls bullet"><span class="by">drschwabe</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35965709">prev</a><span>|</span><a href="#35967110">next</a><span>|</span><label class="collapse" for="c-35966259">[-]</label><label class="expand" for="c-35966259">[1 more]</label></div><br/><div class="children"><div class="content">Not a question, cause you already mention this here, but just wanted to give you extra props for supporting CommonJS out of the box; keep up the great work.<p><a href="https:&#x2F;&#x2F;twitter.com&#x2F;jarredsumner&#x2F;status&#x2F;1475238259127058433?lang=en" rel="nofollow">https:&#x2F;&#x2F;twitter.com&#x2F;jarredsumner&#x2F;status&#x2F;1475238259127058433?...</a><p>have been doing this (using ES and CommonJS modules in the same file) in  clientside code via Browserify or Rollup ever since ESM got popular but it&#x27;s a bit more nuanced and annoying to do in NodeJS</div><br/></div></div><div id="35967110" class="c"><input type="checkbox" id="c-35967110" checked=""/><div class="controls bullet"><span class="by">raphaelrk</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35966259">prev</a><span>|</span><a href="#35968620">next</a><span>|</span><label class="collapse" for="c-35967110">[-]</label><label class="expand" for="c-35967110">[1 more]</label></div><br/><div class="children"><div class="content">Congrats on the launch!!<p>Any plans on adding &quot;in-memory&quot; &#x2F; &quot;virtual&quot; file support to Bun.build? I&#x27;d be interested in using it for notebook-style use cases<p>--<p>Also, ways to do &quot;on-the-fly&quot; &quot;mixed client&#x2F;server&quot; components (ala hyperfiddle&#x2F;electric) + sandboxing (ala Deno) would be extremely exciting<p>Some projects in this vein - <a href="https:&#x2F;&#x2F;github.com&#x2F;jhmaster2000&#x2F;bun-repl">https:&#x2F;&#x2F;github.com&#x2F;jhmaster2000&#x2F;bun-repl</a> and <a href="https:&#x2F;&#x2F;www.val.town&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.val.town&#x2F;</a><p>Also, bun macros are very cool -- they let you write code that writes over itself with GPT-4. Just mentioning as a thing to keep on your radar as you keep pushing the boundaries of what&#x27;s possible in javascript :) making it more lispy and preserving eval-ability is great</div><br/></div></div><div id="35968620" class="c"><input type="checkbox" id="c-35968620" checked=""/><div class="controls bullet"><span class="by">networked</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35967110">prev</a><span>|</span><a href="#35966042">next</a><span>|</span><label class="collapse" for="c-35968620">[-]</label><label class="expand" for="c-35968620">[2 more]</label></div><br/><div class="children"><div class="content">1. It seems the <i>Bun.file</i> API (<a href="https:&#x2F;&#x2F;bun.sh&#x2F;docs&#x2F;api&#x2F;file-io" rel="nofollow">https:&#x2F;&#x2F;bun.sh&#x2F;docs&#x2F;api&#x2F;file-io</a>) doesn&#x27;t provide a way to distinguish between a zero-size file and a file that doesn&#x27;t exist. Is this right? If it is, it would be nice to have one. It doesn&#x27;t have to interfere with the lazy loading.<p>2. Do you cross-compile Bun? If you do, how has your experience been cross-compiling with Zig when you have a C++ dependency?</div><br/><div id="35969864" class="c"><input type="checkbox" id="c-35969864" checked=""/><div class="controls bullet"><span class="by">Jarred</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35968620">parent</a><span>|</span><a href="#35966042">next</a><span>|</span><label class="collapse" for="c-35969864">[-]</label><label class="expand" for="c-35969864">[1 more]</label></div><br/><div class="children"><div class="content">&gt; 1. It seems the Bun.file API (<a href="https:&#x2F;&#x2F;bun.sh&#x2F;docs&#x2F;api&#x2F;file-io" rel="nofollow">https:&#x2F;&#x2F;bun.sh&#x2F;docs&#x2F;api&#x2F;file-io</a>) doesn&#x27;t provide a way to distinguish between a zero-size file and a file that doesn&#x27;t exist. Is this right? If it is, it would be nice to have one. It doesn&#x27;t have to interfere with the lazy loading.<p>Yes that is correct and not good. Pedantically, files which don&#x27;t exist can be created between the call to check if it exists and after. In practice though, it is pretty annoying<p>&gt; 2. Do you cross-compile Bun? If you do, how has your experience been cross-compiling with Zig when you have a C++ dependency?<p>We cross-compile the Zig part but not the C++ dependencies. zig c++ was too opinionated for us the last time we gave it a try. I&#x27;m optimistic this will improve in the future though.</div><br/></div></div></div></div><div id="35966042" class="c"><input type="checkbox" id="c-35966042" checked=""/><div class="controls bullet"><span class="by">tazeg95</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35968620">prev</a><span>|</span><a href="#35965829">next</a><span>|</span><label class="collapse" for="c-35966042">[-]</label><label class="expand" for="c-35966042">[1 more]</label></div><br/><div class="children"><div class="content">Hello, it seems very interesting. I am using esbuild to build my apps and it has a developper live server. How would you compare bun to esbuild ? what can one do that the other can&#x27;t ? do you have a compare page ?</div><br/></div></div><div id="35965829" class="c"><input type="checkbox" id="c-35965829" checked=""/><div class="controls bullet"><span class="by">kitd</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35966042">prev</a><span>|</span><a href="#35966722">next</a><span>|</span><label class="collapse" for="c-35965829">[-]</label><label class="expand" for="c-35965829">[5 more]</label></div><br/><div class="children"><div class="content">Congrats on the release!<p>How standalone are the standalone executables produced by `bun build`? Is a libc or equivalent expected to be present?</div><br/><div id="35966007" class="c"><input type="checkbox" id="c-35966007" checked=""/><div class="controls bullet"><span class="by">Jarred</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35965829">parent</a><span>|</span><a href="#35966722">next</a><span>|</span><label class="collapse" for="c-35966007">[-]</label><label class="expand" for="c-35966007">[4 more]</label></div><br/><div class="children"><div class="content">Bun does need glibc, but older glibc versions should work okay because of this: <a href="https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;blob&#x2F;78229da76048e72aa4d92516e296a57484450a30&#x2F;src&#x2F;bun.js&#x2F;bindings&#x2F;workaround-missing-symbols.cpp#L27">https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;blob&#x2F;78229da76048e72aa4d92516...</a><p>We haven&#x27;t implemented polyfills for everything yet though, like Bun uses posix_spawn and doesn&#x27;t have an exec + fork fallback<p>Bun&#x27;s dependencies otherwise are statically linked</div><br/><div id="35966107" class="c"><input type="checkbox" id="c-35966107" checked=""/><div class="controls bullet"><span class="by">codethief</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35966007">parent</a><span>|</span><a href="#35966249">next</a><span>|</span><label class="collapse" for="c-35966107">[-]</label><label class="expand" for="c-35966107">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Bun does need glibc<p>Wait, are we talking about what Bun needs to run or what standalone executables produced by bun build need in order to run?</div><br/><div id="35967690" class="c"><input type="checkbox" id="c-35967690" checked=""/><div class="controls bullet"><span class="by">hiccuphippo</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35966107">parent</a><span>|</span><a href="#35966249">next</a><span>|</span><label class="collapse" for="c-35967690">[-]</label><label class="expand" for="c-35967690">[1 more]</label></div><br/><div class="children"><div class="content">Both, the executables produced by bun are the bun binary concatenated to your script at the end. Try building a hello world and run `tail -c200 hello | xxd` to see your script at the end of the file.</div><br/></div></div></div></div><div id="35966249" class="c"><input type="checkbox" id="c-35966249" checked=""/><div class="controls bullet"><span class="by">10000truths</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35966007">parent</a><span>|</span><a href="#35966107">prev</a><span>|</span><a href="#35966722">next</a><span>|</span><label class="collapse" for="c-35966249">[-]</label><label class="expand" for="c-35966249">[1 more]</label></div><br/><div class="children"><div class="content">Is there any plan to allow for statically linking with musl to get completely shared-lib-dependency-free executables?</div><br/></div></div></div></div></div></div><div id="35966722" class="c"><input type="checkbox" id="c-35966722" checked=""/><div class="controls bullet"><span class="by">yobuko</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35965829">prev</a><span>|</span><a href="#35966929">next</a><span>|</span><label class="collapse" for="c-35966722">[-]</label><label class="expand" for="c-35966722">[2 more]</label></div><br/><div class="children"><div class="content">First, thank you for all of your hard efforts.<p>I have seen some desire and works expressed towards using Bun with Electron or Electron alternatives; this interests me greatly. Do you have any plans or aspirations to make any strong push in this direction?</div><br/><div id="35967781" class="c"><input type="checkbox" id="c-35967781" checked=""/><div class="controls bullet"><span class="by">sroussey</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35966722">parent</a><span>|</span><a href="#35966929">next</a><span>|</span><label class="collapse" for="c-35967781">[-]</label><label class="expand" for="c-35967781">[1 more]</label></div><br/><div class="children"><div class="content">This would be awesome. Use bun as the main process (replacing node) and have the front end use the system webview. The system webviews are good these days.</div><br/></div></div></div></div><div id="35966929" class="c"><input type="checkbox" id="c-35966929" checked=""/><div class="controls bullet"><span class="by">HorizonXP</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35966722">prev</a><span>|</span><a href="#35966602">next</a><span>|</span><label class="collapse" for="c-35966929">[-]</label><label class="expand" for="c-35966929">[2 more]</label></div><br/><div class="children"><div class="content">California Ave Lockitron crew represent!!<p>Glad to see you leading this, incredible work and nice to see the positive reception.</div><br/><div id="35968663" class="c"><input type="checkbox" id="c-35968663" checked=""/><div class="controls bullet"><span class="by">zamnos</span><span>|</span><a href="#35965563">root</a><span>|</span><a href="#35966929">parent</a><span>|</span><a href="#35966602">next</a><span>|</span><label class="collapse" for="c-35968663">[-]</label><label class="expand" for="c-35968663">[1 more]</label></div><br/><div class="children"><div class="content">In Palo Alto by the Nuthouse? small Internet</div><br/></div></div></div></div><div id="35966602" class="c"><input type="checkbox" id="c-35966602" checked=""/><div class="controls bullet"><span class="by">pastacacioepepe</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35966929">prev</a><span>|</span><a href="#35967818">next</a><span>|</span><label class="collapse" for="c-35966602">[-]</label><label class="expand" for="c-35966602">[1 more]</label></div><br/><div class="children"><div class="content">Is Windows support planned?</div><br/></div></div><div id="35967818" class="c"><input type="checkbox" id="c-35967818" checked=""/><div class="controls bullet"><span class="by">sroussey</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35966602">prev</a><span>|</span><a href="#35970869">next</a><span>|</span><label class="collapse" for="c-35967818">[-]</label><label class="expand" for="c-35967818">[1 more]</label></div><br/><div class="children"><div class="content">Bun is awesome! Need debug support and console fixes. Please!!!</div><br/></div></div><div id="35970869" class="c"><input type="checkbox" id="c-35970869" checked=""/><div class="controls bullet"><span class="by">toastal</span><span>|</span><a href="#35965563">parent</a><span>|</span><a href="#35967818">prev</a><span>|</span><a href="#35966357">next</a><span>|</span><label class="collapse" for="c-35970869">[-]</label><label class="expand" for="c-35970869">[1 more]</label></div><br/><div class="children"><div class="content">When will Bun open up communications to something open source&#x2F;decentralized instead of relying on users to give up their online security to Discord?</div><br/></div></div></div></div><div id="35966357" class="c"><input type="checkbox" id="c-35966357" checked=""/><div class="controls bullet"><span class="by">tankenmate</span><span>|</span><a href="#35965563">prev</a><span>|</span><a href="#35965772">next</a><span>|</span><label class="collapse" for="c-35966357">[-]</label><label class="expand" for="c-35966357">[17 more]</label></div><br/><div class="children"><div class="content">I am truly perplexed as someone outside of the Javascript ecosystem; why are there so many incompatible bundlers? If you look at most compiled languages they have a set ABI &#x2F; executable image format, and you just use a link editor (either compile time, run time, or both).<p>Is it just because most Javascript developers have never learnt from any of the lessons that came from decades of compiled languages? (compilers, compiler tools, operating system and kernel development, etc).<p>Is there some benefit that Javascript bundlers have that I&#x27;m unaware of?<p>Truly curious.</div><br/><div id="35966679" class="c"><input type="checkbox" id="c-35966679" checked=""/><div class="controls bullet"><span class="by">brundolf</span><span>|</span><a href="#35966357">parent</a><span>|</span><a href="#35966821">next</a><span>|</span><label class="collapse" for="c-35966679">[-]</label><label class="expand" for="c-35966679">[1 more]</label></div><br/><div class="children"><div class="content">1. Compiling&#x2F;building is an ~optional layer on top of the core language&#x2F;standard (which has become less optional over time)<p>2. Running JS outside of the browser is similarly a layer that was built before any kind of standard existed for it (which still doesn&#x27;t, really)<p>The browser standards are the only real standards. Everything else (which has turned into a lot) is &quot;standard by implementation&quot;. Implementations usually try to agree with each other, because that&#x27;s obviously beneficial for everybody, but sometimes they make choices to deviate either out of necessity or in an attempt to improve the ecosystem<p>So it&#x27;s all pretty ad-hoc, but in practice most things are mostly compatible most of the time. They orbit the same general things, and the orbit has narrowed in the last few years as most of the big problems have been solved and the community is zeroing in on the agreed solutions (with the caveat of often having to maintain legacy compatibility)<p>Deno takes a stricter philosophy than most, where it prescribes a ~good way that everything should be done (which is almost entirely based on browser standards which have evolved since all this started), even though it runs outside of a browser, and requiring the ecosystem to fall in line<p>Bun on the other hand takes a maximalist approach to compatibility; it does its best to make everything from every other sub-ecosystem Just Work without any modifications</div><br/></div></div><div id="35966821" class="c"><input type="checkbox" id="c-35966821" checked=""/><div class="controls bullet"><span class="by">qbasic_forever</span><span>|</span><a href="#35966357">parent</a><span>|</span><a href="#35966679">prev</a><span>|</span><a href="#35966425">next</a><span>|</span><label class="collapse" for="c-35966821">[-]</label><label class="expand" for="c-35966821">[5 more]</label></div><br/><div class="children"><div class="content">Bundling is totally different from linking and building for native platforms.  Bundling is all about optimizing code to be sent over a small pipe--you&#x27;re combining multiple compilation units into one file (so just one web request and lower latency) and doing optimizations like tree shaking to send only the code that&#x27;s actually used.<p>It&#x27;s a pretty unique use-case that not many other programming languages deal with or care about.  It&#x27;s almost as if you are a demo scene coder trying to optimize for the absolute smallest code possible.<p>Linking native code doesn&#x27;t really care about optimizing the size of the output and is just just trying to make sure all code paths can be called with some kind of code.</div><br/><div id="35967856" class="c"><input type="checkbox" id="c-35967856" checked=""/><div class="controls bullet"><span class="by">haberman</span><span>|</span><a href="#35966357">root</a><span>|</span><a href="#35966821">parent</a><span>|</span><a href="#35967882">next</a><span>|</span><label class="collapse" for="c-35967856">[-]</label><label class="expand" for="c-35967856">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Linking native code doesn&#x27;t really care about optimizing the size of the output and is just just trying to make sure all code paths can be called with some kind of code.<p>That is not true at all.  There are many use cases where native code size is very important.  Native code toolchains often target platforms with extremely limited ROM&#x2F;RAM.  Even on big machines, RAM is not free and cache even less so.<p>Native code linkers will GC unused code sections (`-Wl,--gc-sections `), fold identical data to remove duplication (see COMDAT).  Native code compilers have optimization modes that specifically optimize for small code size (`-Os` and the like).</div><br/></div></div><div id="35967788" class="c"><input type="checkbox" id="c-35967788" checked=""/><div class="controls bullet"><span class="by">colonwqbang</span><span>|</span><a href="#35966357">root</a><span>|</span><a href="#35966821">parent</a><span>|</span><a href="#35967882">prev</a><span>|</span><a href="#35966425">next</a><span>|</span><label class="collapse" for="c-35967788">[-]</label><label class="expand" for="c-35967788">[2 more]</label></div><br/><div class="children"><div class="content">A native compiler also optimises the code. A native static linker also tries to omit unused library data and code. It&#x27;s absolutely not the case that native devs don&#x27;t care about code size (we do!)<p>I guess Javascript uses a slightly unusual executable format, text instead of binary. Otherwise, it seems like very much the same thing?</div><br/><div id="35969963" class="c"><input type="checkbox" id="c-35969963" checked=""/><div class="controls bullet"><span class="by">crabmusket</span><span>|</span><a href="#35966357">root</a><span>|</span><a href="#35967788">parent</a><span>|</span><a href="#35966425">next</a><span>|</span><label class="collapse" for="c-35969963">[-]</label><label class="expand" for="c-35969963">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d say that bundler design is less influenced by the format and more by the requirements of delivery over the web. Native code is not downloaded each time the user opens the application. Tons of web infrastructure and complexity is aimed at solving the problem of &quot;user lands on page for the first time, it must be responsive as soon as possible.&quot;</div><br/></div></div></div></div></div></div><div id="35966425" class="c"><input type="checkbox" id="c-35966425" checked=""/><div class="controls bullet"><span class="by">ponyous</span><span>|</span><a href="#35966357">parent</a><span>|</span><a href="#35966821">prev</a><span>|</span><a href="#35966600">next</a><span>|</span><label class="collapse" for="c-35966425">[-]</label><label class="expand" for="c-35966425">[9 more]</label></div><br/><div class="children"><div class="content">Because there were browsers and no standards. How can you expect someone that starts coding on the web to know what pains kernel went through decades prior?</div><br/><div id="35966494" class="c"><input type="checkbox" id="c-35966494" checked=""/><div class="controls bullet"><span class="by">tankenmate</span><span>|</span><a href="#35966357">root</a><span>|</span><a href="#35966425">parent</a><span>|</span><a href="#35966600">next</a><span>|</span><label class="collapse" for="c-35966494">[-]</label><label class="expand" for="c-35966494">[8 more]</label></div><br/><div class="children"><div class="content">But surely the people writing the browser code thought about the ecosystem they were creating &#x2F; trying to create?</div><br/><div id="35966699" class="c"><input type="checkbox" id="c-35966699" checked=""/><div class="controls bullet"><span class="by">biorach</span><span>|</span><a href="#35966357">root</a><span>|</span><a href="#35966494">parent</a><span>|</span><a href="#35966677">next</a><span>|</span><label class="collapse" for="c-35966699">[-]</label><label class="expand" for="c-35966699">[1 more]</label></div><br/><div class="children"><div class="content">nope<p>well.... not for a surprisingly long time</div><br/></div></div><div id="35966677" class="c"><input type="checkbox" id="c-35966677" checked=""/><div class="controls bullet"><span class="by">moron4hire</span><span>|</span><a href="#35966357">root</a><span>|</span><a href="#35966494">parent</a><span>|</span><a href="#35966699">prev</a><span>|</span><a href="#35966600">next</a><span>|</span><label class="collapse" for="c-35966677">[-]</label><label class="expand" for="c-35966677">[6 more]</label></div><br/><div class="children"><div class="content">Browsers weren&#x27;t written in a day. Technically speaking, Mozilla Firefox is a ship of Theseus going back to the release of Netscape in 1994. Did browser and internet infrastructure developers in the early 90s understand that these things would become rich application platforms? Looking at the history of HTTP, it&#x27;s clear that they expected some concept of &quot;application&quot; to be delivered through the browser. While there&#x27;s certainly a chance at least a few of them foresaw the full scope of what that would mean (it&#x27;s not like X11 remoting wasn&#x27;t a thing), I don&#x27;t think most of the people involved were thinking much past 10 years (The Distant Future, the Year 2000).<p>JavaScript was apocryphally &quot;invented in 10 days&quot;, it came as an attempt to create competitive advantage, not to create a global standard. The first JavaScript came a year (1995) after the first Netscape, but the first major JS-heavy application didn&#x27;t come for another 13 years (Google Maps, 2008).</div><br/><div id="35967886" class="c"><input type="checkbox" id="c-35967886" checked=""/><div class="controls bullet"><span class="by">tracker1</span><span>|</span><a href="#35966357">root</a><span>|</span><a href="#35966677">parent</a><span>|</span><a href="#35969486">next</a><span>|</span><label class="collapse" for="c-35967886">[-]</label><label class="expand" for="c-35967886">[2 more]</label></div><br/><div class="children"><div class="content">There were a lot of JS heavy web applications prior to Google Maps.  From around the release of IE5 at the end of 2000 in particular through the long tenure of IE6.  Having worked on some JS heavy applications around that time.  It was also much harder as you had a relatively wide variety of browsers and versions.  Since people on dialup were far less likely to update their browsers regularly (or at all beyond what came on an ISP or AOL CD.<p>Of course, the efforts for larger dev teams, optimizations and bundling were far less popular before then.  Can&#x27;t tell you how many poorly written sites&#x2F;apps carried who knows how many versions&#x2F;copies of JQuery for example.  It was really bad for a while.<p>Now, at least there are more paying some attention to it.  There&#x27;s still some relatively large bundles that are easy to get overloaded.  I mean as soon as you load any charting or graphing library it blows out everything else.  Of course this is offset between bandwidth and compute advancements as well.<p>There was a popular developer site around 1998-2000 or so called 15seconds.com as that was the average point at which users would start dropping off from a load.  Now that&#x27;s measured at around a second or two.</div><br/><div id="35970707" class="c"><input type="checkbox" id="c-35970707" checked=""/><div class="controls bullet"><span class="by">moron4hire</span><span>|</span><a href="#35966357">root</a><span>|</span><a href="#35967886">parent</a><span>|</span><a href="#35969486">next</a><span>|</span><label class="collapse" for="c-35970707">[-]</label><label class="expand" for="c-35970707">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I worked on some of them, too. They were even in mapping. I had written one of the first, dynamic, 2D drawing libraries for JavaScript, long before Canvas2D, but it was hidden in proprietary consultoware.<p>The significance of Google Maps was that A) it had all the parts that we would recognize today as a JS single-page app, B) it had no alternative interface that people could opt to use instead (diluting the usage of that particular implementation versus the product as a whole), C) it had broad appeal and adoption, and D) it was significantly better than competitors specifically because of the &quot;SPA-ness&quot; of the app.<p>Google Maps had the features and penetration necessary to change the public perception at large of what could be done with browser-based apps.</div><br/></div></div></div></div><div id="35969486" class="c"><input type="checkbox" id="c-35969486" checked=""/><div class="controls bullet"><span class="by">june_twenty</span><span>|</span><a href="#35966357">root</a><span>|</span><a href="#35966677">parent</a><span>|</span><a href="#35967886">prev</a><span>|</span><a href="#35966600">next</a><span>|</span><label class="collapse" for="c-35969486">[-]</label><label class="expand" for="c-35969486">[3 more]</label></div><br/><div class="children"><div class="content">Was Google Maps the first JS-heavy app? That&#x27;s a TIL for me..</div><br/><div id="35969989" class="c"><input type="checkbox" id="c-35969989" checked=""/><div class="controls bullet"><span class="by">crabmusket</span><span>|</span><a href="#35966357">root</a><span>|</span><a href="#35969486">parent</a><span>|</span><a href="#35970596">next</a><span>|</span><label class="collapse" for="c-35969989">[-]</label><label class="expand" for="c-35969989">[1 more]</label></div><br/><div class="children"><div class="content">According to Crockford, they were working with very JS-heavy apps in 2000[1]. No idea how mainstream that specific app, or technique, was.<p>[1]: <a href="https:&#x2F;&#x2F;corecursive.com&#x2F;json-vs-xml-douglas-crockford&#x2F;#the-palace" rel="nofollow">https:&#x2F;&#x2F;corecursive.com&#x2F;json-vs-xml-douglas-crockford&#x2F;#the-p...</a></div><br/></div></div><div id="35970596" class="c"><input type="checkbox" id="c-35970596" checked=""/><div class="controls bullet"><span class="by">moron4hire</span><span>|</span><a href="#35966357">root</a><span>|</span><a href="#35969486">parent</a><span>|</span><a href="#35969989">prev</a><span>|</span><a href="#35966600">next</a><span>|</span><label class="collapse" for="c-35970596">[-]</label><label class="expand" for="c-35970596">[1 more]</label></div><br/><div class="children"><div class="content">No, certainly not the first <i>in aggregate</i> to use JS heavily. Actually, the browser-based Outlook  client was the first to have all the parts that we would now consider to be essential for JS Single Page Apps (because Microsoft has to invent AJAX first). But Google Maps was definitely the first to have a major impact and start changing the public perception of what could be done with browser-based apps.<p>I consider Google Maps to be the first well-adopted, no-traditional-alternative app to be what we recognize today as a JS SPA. Gmail had a pure HTTP mode, and otherwise was not interesting to people who were happy with their current email. Outlook wasn&#x27;t really used by that many people, not at the scale that Google Maps was Google Maps has broad appeal and was significantly better <i>because</i> of it&#x27;s SPA-ness to change how people thought about browser-based apps.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="35966600" class="c"><input type="checkbox" id="c-35966600" checked=""/><div class="controls bullet"><span class="by">moron4hire</span><span>|</span><a href="#35966357">parent</a><span>|</span><a href="#35966425">prev</a><span>|</span><a href="#35965772">next</a><span>|</span><label class="collapse" for="c-35966600">[-]</label><label class="expand" for="c-35966600">[1 more]</label></div><br/><div class="children"><div class="content">I think it&#x27;s largely a three-fold problem of the fact that most JS apps are still deployed through browsers and not installed, the fact that HTTP2 was not the panacea of multi-request happy good times it was made out to be, plus the fact that there <i>is</i> no Application <i>Binary</i> Interface, everything gets deployed as source code.<p>This creates a situation where you need bundlers, whereas other languages don&#x27;t have the concept at all, just to be able to minimize download time (and honestly, while we end up making rather large apps in comparison to web pages, they&#x27;re pretty small in comparison to other kinds of applications), and then bundles are too opaque to share common code between applications.<p>And because there&#x27;s no chance to benefit across projects from sharing, there&#x27;s no force driving standardization of bundling, or adoption of said standard.</div><br/></div></div></div></div><div id="35965772" class="c"><input type="checkbox" id="c-35965772" checked=""/><div class="controls bullet"><span class="by">doodlesdev</span><span>|</span><a href="#35966357">prev</a><span>|</span><a href="#35969525">next</a><span>|</span><label class="collapse" for="c-35965772">[-]</label><label class="expand" for="c-35965772">[6 more]</label></div><br/><div class="children"><div class="content">Tangential, but, this has to be one of the fastest websites I&#x27;ve used recently. How is it possible they get such fast loading of static content? It&#x27;s basically instantaneous, specially with JavaScript disabled.<p>edit: Oh well, after navigating to some pages on the blog I see that everything was already on browser cache, so that&#x27;s why it was so fast. Reminds me I need to overwrite Netlify&#x27;s cache-control on my website, even though it&#x27;s already very fast to load (Netlify sets max-age=0, must-revalidate by default).</div><br/><div id="35966225" class="c"><input type="checkbox" id="c-35966225" checked=""/><div class="controls bullet"><span class="by">ignoramous</span><span>|</span><a href="#35965772">parent</a><span>|</span><a href="#35965835">next</a><span>|</span><label class="collapse" for="c-35966225">[-]</label><label class="expand" for="c-35966225">[2 more]</label></div><br/><div class="children"><div class="content">From experience, static websites on <a href="https:&#x2F;&#x2F;pages.dev" rel="nofollow">https:&#x2F;&#x2F;pages.dev</a> are blazing fast (and free); ex: <i>pagespeed</i> result for a static webpage I host: <a href="https:&#x2F;&#x2F;archive.is&#x2F;PkZbO" rel="nofollow">https:&#x2F;&#x2F;archive.is&#x2F;PkZbO</a><p>Netifly was equally fast (not free).</div><br/><div id="35970322" class="c"><input type="checkbox" id="c-35970322" checked=""/><div class="controls bullet"><span class="by">doodlesdev</span><span>|</span><a href="#35965772">root</a><span>|</span><a href="#35966225">parent</a><span>|</span><a href="#35965835">next</a><span>|</span><label class="collapse" for="c-35970322">[-]</label><label class="expand" for="c-35970322">[1 more]</label></div><br/><div class="children"><div class="content">Cloudflare is indeed absurdly fast. I haven&#x27;t been impressed with Netlify&#x27;s speed, although I am using the free plan (don&#x27;t think it makes sense to upgrade if I&#x27;m already not super happy with performance).<p>When you say paid Netlify is as fast as Cloudflare do you mean the Pro plan or the Enterprise plan? AFAIK the enterprise plans run on a different network, with more distributed servers, although I could be wrong.<p>It seems at least part of the noticed difference in speed has to do with my region, as pagespeed insights gives me sub-second FCP and LCP on my Netlify website [0], which feels a bit better than what I get at home (with 500mbps fiber). It&#x27;s possible my ISP is at fault, but I&#x27;m not sure how I could diagnose this much better.<p>[0]: <a href="https:&#x2F;&#x2F;archive.ph&#x2F;IF0t5" rel="nofollow">https:&#x2F;&#x2F;archive.ph&#x2F;IF0t5</a></div><br/></div></div></div></div><div id="35965835" class="c"><input type="checkbox" id="c-35965835" checked=""/><div class="controls bullet"><span class="by">Minor49er</span><span>|</span><a href="#35965772">parent</a><span>|</span><a href="#35966225">prev</a><span>|</span><a href="#35967903">next</a><span>|</span><label class="collapse" for="c-35965835">[-]</label><label class="expand" for="c-35965835">[2 more]</label></div><br/><div class="children"><div class="content">Its use of the Cloudflare cache seems to be a part of it</div><br/><div id="35966058" class="c"><input type="checkbox" id="c-35966058" checked=""/><div class="controls bullet"><span class="by">doodlesdev</span><span>|</span><a href="#35965772">root</a><span>|</span><a href="#35965835">parent</a><span>|</span><a href="#35967903">next</a><span>|</span><label class="collapse" for="c-35966058">[-]</label><label class="expand" for="c-35966058">[1 more]</label></div><br/><div class="children"><div class="content">Indeed, http headers indicate that the asset policy for the HTML is:<p><pre><code>   cache-control: public, max-age=0, must-revalidate
</code></pre>
A few things I notice:<p><pre><code>   - It uses Cloudflare cache (as you pointed out).
   - All CSS is in the HTML file, so only one request is needed to display the page.
   - The compressed webpage is reasonably lean considering it has all CSS in the same file and uses Tailwind.</code></pre></div><br/></div></div></div></div><div id="35967903" class="c"><input type="checkbox" id="c-35967903" checked=""/><div class="controls bullet"><span class="by">tracker1</span><span>|</span><a href="#35965772">parent</a><span>|</span><a href="#35965835">prev</a><span>|</span><a href="#35969525">next</a><span>|</span><label class="collapse" for="c-35967903">[-]</label><label class="expand" for="c-35967903">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been playing with static content generation with Deno+Lume and deploying to Cloudflare pages... crazy good loads.</div><br/></div></div></div></div><div id="35969525" class="c"><input type="checkbox" id="c-35969525" checked=""/><div class="controls bullet"><span class="by">gavmor</span><span>|</span><a href="#35965772">prev</a><span>|</span><a href="#35966194">next</a><span>|</span><label class="collapse" for="c-35969525">[-]</label><label class="expand" for="c-35969525">[3 more]</label></div><br/><div class="children"><div class="content">`bun` is currently my favorite &quot;just works out of the box&quot; utility for running Typescript programs.<p>I&#x27;ve tried a couple and struggled with configuration and, on top of it all, bun is simply faster.<p>So, if you want to write a bunch of `.ts` files and point something at them, I really recommend `bun` (and, frankly, why would you write `.js` in 2023? Probably because you&#x27;ve not tried bun.<p>Edit: I don&#x27;t care about bundle sizes, because I&#x27;m just using bun to run my @benchristel&#x2F;taste sub-second test suite.</div><br/><div id="35971936" class="c"><input type="checkbox" id="c-35971936" checked=""/><div class="controls bullet"><span class="by">mark_and_sweep</span><span>|</span><a href="#35969525">parent</a><span>|</span><a href="#35970085">next</a><span>|</span><label class="collapse" for="c-35971936">[-]</label><label class="expand" for="c-35971936">[1 more]</label></div><br/><div class="children"><div class="content">Have you tried Deno yet? I&#x27;ve been using it for years now, without any config. It&#x27;s fast, too.</div><br/></div></div><div id="35970085" class="c"><input type="checkbox" id="c-35970085" checked=""/><div class="controls bullet"><span class="by">Kamq</span><span>|</span><a href="#35969525">parent</a><span>|</span><a href="#35971936">prev</a><span>|</span><a href="#35966194">next</a><span>|</span><label class="collapse" for="c-35970085">[-]</label><label class="expand" for="c-35970085">[1 more]</label></div><br/><div class="children"><div class="content">&gt; and, frankly, why would you write `.js` in 2023?<p>It&#x27;s surprisingly convenient for munging around random json files or calling random apis that return json (or for dealing with an interaction between the two), especially now that fetch ships with node.</div><br/></div></div></div></div><div id="35966194" class="c"><input type="checkbox" id="c-35966194" checked=""/><div class="controls bullet"><span class="by">brundolf</span><span>|</span><a href="#35969525">prev</a><span>|</span><a href="#35966227">next</a><span>|</span><label class="collapse" for="c-35966194">[-]</label><label class="expand" for="c-35966194">[4 more]</label></div><br/><div class="children"><div class="content">Anybody using Bun in production yet? What&#x27;s your experience been like?</div><br/><div id="35968982" class="c"><input type="checkbox" id="c-35968982" checked=""/><div class="controls bullet"><span class="by">postalrat</span><span>|</span><a href="#35966194">parent</a><span>|</span><a href="#35966227">next</a><span>|</span><label class="collapse" for="c-35968982">[-]</label><label class="expand" for="c-35968982">[3 more]</label></div><br/><div class="children"><div class="content">I deployed a small non critical service with bun. So far constant (but slow) memory leaks and an 80% chance of segfault when starting up. Will try a few more versions of bun then move it to node for a while until bun matures a bit.</div><br/><div id="35969263" class="c"><input type="checkbox" id="c-35969263" checked=""/><div class="controls bullet"><span class="by">Jarred</span><span>|</span><a href="#35966194">root</a><span>|</span><a href="#35968982">parent</a><span>|</span><a href="#35966227">next</a><span>|</span><label class="collapse" for="c-35969263">[-]</label><label class="expand" for="c-35969263">[2 more]</label></div><br/><div class="children"><div class="content">wow thats rough<p>i&#x27;m sorry<p>can you file an issue with some code that reproduces it? will take a look</div><br/><div id="35969564" class="c"><input type="checkbox" id="c-35969564" checked=""/><div class="controls bullet"><span class="by">postalrat</span><span>|</span><a href="#35966194">root</a><span>|</span><a href="#35969263">parent</a><span>|</span><a href="#35966227">next</a><span>|</span><label class="collapse" for="c-35969564">[-]</label><label class="expand" for="c-35969564">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s all easily reproducible. I&#x27;ll double check my code but its not too complex.<p>The service subscribes to redis messages, accepts websocket connections, authenticates the connections, then broadcasts messages through the websockets. Maybe around 1200 or so websocket connections per server.</div><br/></div></div></div></div></div></div></div></div><div id="35966227" class="c"><input type="checkbox" id="c-35966227" checked=""/><div class="controls bullet"><span class="by">schemescape</span><span>|</span><a href="#35966194">prev</a><span>|</span><a href="#35971213">next</a><span>|</span><label class="collapse" for="c-35966227">[-]</label><label class="expand" for="c-35966227">[5 more]</label></div><br/><div class="children"><div class="content">How big are the bundles (edit: I meant self-contained executables) and do they depend on glibc?<p>Edit: just saw a comment from the author indicating glibc is required.</div><br/><div id="35968235" class="c"><input type="checkbox" id="c-35968235" checked=""/><div class="controls bullet"><span class="by">lionkor</span><span>|</span><a href="#35966227">parent</a><span>|</span><a href="#35971213">next</a><span>|</span><label class="collapse" for="c-35968235">[-]</label><label class="expand" for="c-35968235">[4 more]</label></div><br/><div class="children"><div class="content">Doing it without glibc is not practical</div><br/><div id="35968860" class="c"><input type="checkbox" id="c-35968860" checked=""/><div class="controls bullet"><span class="by">silverwind</span><span>|</span><a href="#35966227">root</a><span>|</span><a href="#35968235">parent</a><span>|</span><a href="#35968415">next</a><span>|</span><label class="collapse" for="c-35968860">[-]</label><label class="expand" for="c-35968860">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s just DNS isn&#x27;t it? Many apps don&#x27;t even need DNS, so there should at least be an option to build fully static binaries.</div><br/></div></div><div id="35968415" class="c"><input type="checkbox" id="c-35968415" checked=""/><div class="controls bullet"><span class="by">AndyKelley</span><span>|</span><a href="#35966227">root</a><span>|</span><a href="#35968235">parent</a><span>|</span><a href="#35968860">prev</a><span>|</span><a href="#35971213">next</a><span>|</span><label class="collapse" for="c-35968415">[-]</label><label class="expand" for="c-35968415">[2 more]</label></div><br/><div class="children"><div class="content">why?</div><br/><div id="35971991" class="c"><input type="checkbox" id="c-35971991" checked=""/><div class="controls bullet"><span class="by">lionkor</span><span>|</span><a href="#35966227">root</a><span>|</span><a href="#35968415">parent</a><span>|</span><a href="#35971213">next</a><span>|</span><label class="collapse" for="c-35971991">[-]</label><label class="expand" for="c-35971991">[1 more]</label></div><br/><div class="children"><div class="content">Because otherwise you need to implement almost everything yourself - memory allocation, input, output, etc. and anything more complex (like asking for the width of the terminal) requires you to get into Kernel structs, copy them out, translate, and basically copy paste glibc code anyways. And thats just linux.</div><br/></div></div></div></div></div></div></div></div><div id="35971213" class="c"><input type="checkbox" id="c-35971213" checked=""/><div class="controls bullet"><span class="by">vaughan</span><span>|</span><a href="#35966227">prev</a><span>|</span><a href="#35966694">next</a><span>|</span><label class="collapse" for="c-35971213">[-]</label><label class="expand" for="c-35971213">[1 more]</label></div><br/><div class="children"><div class="content">We need an equivalent Python Mojo for TypeScript.<p>This seems like the most obvious thing yet to be built.<p>I wonder how hard it would be to take an existing systems language and add TS syntax to it. Seeing as they are all built on LLVM. Or maybe you could transpile TS to Zig.</div><br/></div></div><div id="35966694" class="c"><input type="checkbox" id="c-35966694" checked=""/><div class="controls bullet"><span class="by">dimgl</span><span>|</span><a href="#35971213">prev</a><span>|</span><a href="#35967112">next</a><span>|</span><label class="collapse" for="c-35966694">[-]</label><label class="expand" for="c-35966694">[9 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been pretty jaded by Node.js lately, especially with all of the ESM and TypeScript stuff. This led me to try using Deno but Deno was missing the mark in a lot of ways.<p>Is Bun in a state where I can start thinking about replacing my Node.js production toolchains with it?</div><br/><div id="35968773" class="c"><input type="checkbox" id="c-35968773" checked=""/><div class="controls bullet"><span class="by">ojosilva</span><span>|</span><a href="#35966694">parent</a><span>|</span><a href="#35967940">next</a><span>|</span><label class="collapse" for="c-35968773">[-]</label><label class="expand" for="c-35968773">[7 more]</label></div><br/><div class="children"><div class="content">Nope. I wouldn&#x27;t. Not for production.<p>• Bun is not stable yet (0.6.0)<p>• Zig, the language Bun is built upon is not stable either (0.11.0)<p>Nothing against these awesome projects, I&#x27;m all in for a streamlined toolchain (TypeScript, bundling, binary generation...) and other excellent goals driving the Deno and Bun teams.<p>But...<p>• Node.js is a powerful piece of software, it&#x27;s stable and full of battle-tested buttons and knobs<p>• NPM and Bun&#x2F;Deno are not real friends at the moment, just acquaintances<p>• Take benchmarks with a pinch of salt. Real-world app performance depends on a well-greased system, not a particular 60,000 req&#x2F;s react render benchmark. Remember the adage: your app will as fast as your slowest component.<p>On a side note, lately I&#x27;ve been extending Node.js with Rust + N-API (ie. napi-rs or neon) and it opens up excellent possibilities.<p><a href="https:&#x2F;&#x2F;napi.rs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;napi.rs&#x2F;</a>
<a href="https:&#x2F;&#x2F;neon-bindings.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;neon-bindings.com&#x2F;</a></div><br/><div id="35969563" class="c"><input type="checkbox" id="c-35969563" checked=""/><div class="controls bullet"><span class="by">Buttons840</span><span>|</span><a href="#35966694">root</a><span>|</span><a href="#35968773">parent</a><span>|</span><a href="#35967940">next</a><span>|</span><label class="collapse" for="c-35969563">[-]</label><label class="expand" for="c-35969563">[6 more]</label></div><br/><div class="children"><div class="content">Bun might be a cool project, but them building on an immature language like Zig makes me wonder where their priorities are.</div><br/><div id="35969822" class="c"><input type="checkbox" id="c-35969822" checked=""/><div class="controls bullet"><span class="by">ricardobeat</span><span>|</span><a href="#35966694">root</a><span>|</span><a href="#35969563">parent</a><span>|</span><a href="#35967940">next</a><span>|</span><label class="collapse" for="c-35969822">[-]</label><label class="expand" for="c-35969822">[5 more]</label></div><br/><div class="children"><div class="content">It wouldn&#x27;t exist any other way, the story is that it was built with <i>speed</i> as a priority, and Zig was chosen for the performance optimizations it enables.</div><br/><div id="35972670" class="c"><input type="checkbox" id="c-35972670" checked=""/><div class="controls bullet"><span class="by">spacechild1</span><span>|</span><a href="#35966694">root</a><span>|</span><a href="#35969822">parent</a><span>|</span><a href="#35970044">next</a><span>|</span><label class="collapse" for="c-35972670">[-]</label><label class="expand" for="c-35972670">[1 more]</label></div><br/><div class="children"><div class="content">&gt; with speed as a priultimat<p>They could have just used C++ or Rust. Not saying that they shouldn&#x27;t use Zig, just questioning speed as the (primary) motivation</div><br/></div></div><div id="35970044" class="c"><input type="checkbox" id="c-35970044" checked=""/><div class="controls bullet"><span class="by">Buttons840</span><span>|</span><a href="#35966694">root</a><span>|</span><a href="#35969822">parent</a><span>|</span><a href="#35972670">prev</a><span>|</span><a href="#35967940">next</a><span>|</span><label class="collapse" for="c-35970044">[-]</label><label class="expand" for="c-35970044">[3 more]</label></div><br/><div class="children"><div class="content">There are several other languages that could achieve the same <i>speed</i> and performance optimizations. To be clear, I hope to see Zig succeed and I&#x27;d like to learn it one day. It reminds me of the video game engine question, only in this case it would be: do you want to build a product, or do you want to build something with Zig? I imagine the creators of Bun answered &quot;we want to use Zig&quot; as their first priority, and that&#x27;s great, I hope they have fun.</div><br/><div id="35972417" class="c"><input type="checkbox" id="c-35972417" checked=""/><div class="controls bullet"><span class="by">ojosilva</span><span>|</span><a href="#35966694">root</a><span>|</span><a href="#35970044">parent</a><span>|</span><a href="#35967940">next</a><span>|</span><label class="collapse" for="c-35972417">[-]</label><label class="expand" for="c-35972417">[2 more]</label></div><br/><div class="children"><div class="content">At one point, the Rust team switched away from the performant Jemalloc allocator to something more widely compatible (the system default). They chose to sacrifice performance in the sake of compatibility&#x2F;stability. It&#x27;s still available, but optional.<p><a href="https:&#x2F;&#x2F;internals.rust-lang.org&#x2F;t&#x2F;jemalloc-was-just-removed-from-the-standard-library&#x2F;8759" rel="nofollow">https:&#x2F;&#x2F;internals.rust-lang.org&#x2F;t&#x2F;jemalloc-was-just-removed-...</a><p>Insane performance gains, like the ones we see early in Zig, is something that can be easily eaten away by the natural evolution and maturity of a programming language.<p>Btw, Zig is beating trees with a stick to see what may fall down in this area: <a href="https:&#x2F;&#x2F;github.com&#x2F;ziglang&#x2F;zig&#x2F;issues&#x2F;12484">https:&#x2F;&#x2F;github.com&#x2F;ziglang&#x2F;zig&#x2F;issues&#x2F;12484</a></div><br/><div id="35972681" class="c"><input type="checkbox" id="c-35972681" checked=""/><div class="controls bullet"><span class="by">iExploder</span><span>|</span><a href="#35966694">root</a><span>|</span><a href="#35972417">parent</a><span>|</span><a href="#35967940">next</a><span>|</span><label class="collapse" for="c-35972681">[-]</label><label class="expand" for="c-35972681">[1 more]</label></div><br/><div class="children"><div class="content">my impression is Zig wants to replace C and has the same philosophy of a very simple language that does not evolve once it stabilizes. that means to me they want to stabilize the language with small amount of features and make it as performant as possible at that point. from their webpage:<p>A Simple Language<p>Focus on debugging your application rather than debugging your programming language knowledge.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="35967940" class="c"><input type="checkbox" id="c-35967940" checked=""/><div class="controls bullet"><span class="by">tracker1</span><span>|</span><a href="#35966694">parent</a><span>|</span><a href="#35968773">prev</a><span>|</span><a href="#35967112">next</a><span>|</span><label class="collapse" for="c-35967940">[-]</label><label class="expand" for="c-35967940">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been pretty happy with Deno... mostly in personal use... still some rough bits in terms of Node compatibility but pretty good in general.</div><br/></div></div></div></div><div id="35967112" class="c"><input type="checkbox" id="c-35967112" checked=""/><div class="controls bullet"><span class="by">freddex</span><span>|</span><a href="#35966694">prev</a><span>|</span><a href="#35968887">next</a><span>|</span><label class="collapse" for="c-35967112">[-]</label><label class="expand" for="c-35967112">[1 more]</label></div><br/><div class="children"><div class="content">Looks great! Still eagerly waiting for Windows support: I have a specific use case where I need both a bundler and a package manager to run on the user&#x27;s desktop cross-platform, and right now that&#x27;s yarn + esbuild. I&#x27;d love to roll this into a single, performant solution. It&#x27;s already being worked on as far as I know [1], excited to upgrade to Bun when that&#x27;s available.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;issues&#x2F;43">https:&#x2F;&#x2F;github.com&#x2F;oven-sh&#x2F;bun&#x2F;issues&#x2F;43</a></div><br/></div></div><div id="35968887" class="c"><input type="checkbox" id="c-35968887" checked=""/><div class="controls bullet"><span class="by">captainmarble</span><span>|</span><a href="#35967112">prev</a><span>|</span><a href="#35968957">next</a><span>|</span><label class="collapse" for="c-35968887">[-]</label><label class="expand" for="c-35968887">[1 more]</label></div><br/><div class="children"><div class="content">Any plan on adding something likr Deno KV in Bun?</div><br/></div></div><div id="35969979" class="c"><input type="checkbox" id="c-35969979" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#35968957">prev</a><span>|</span><a href="#35967773">next</a><span>|</span><label class="collapse" for="c-35969979">[-]</label><label class="expand" for="c-35969979">[1 more]</label></div><br/><div class="children"><div class="content">Does it work with Prisma yet? I’m kinda waitjng for that to switch everything over.</div><br/></div></div><div id="35967773" class="c"><input type="checkbox" id="c-35967773" checked=""/><div class="controls bullet"><span class="by">fluente</span><span>|</span><a href="#35969979">prev</a><span>|</span><a href="#35966048">next</a><span>|</span><label class="collapse" for="c-35967773">[-]</label><label class="expand" for="c-35967773">[1 more]</label></div><br/><div class="children"><div class="content">It would be helpful to see how Bun&#x27;s minifier compares to the others with popular libraries:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;privatenumber&#x2F;minification-benchmarks">https:&#x2F;&#x2F;github.com&#x2F;privatenumber&#x2F;minification-benchmarks</a></div><br/></div></div><div id="35966048" class="c"><input type="checkbox" id="c-35966048" checked=""/><div class="controls bullet"><span class="by">unilynx</span><span>|</span><a href="#35967773">prev</a><span>|</span><a href="#35969508">next</a><span>|</span><label class="collapse" for="c-35966048">[-]</label><label class="expand" for="c-35966048">[2 more]</label></div><br/><div class="children"><div class="content">import.meta.main (whether the current file is the &#x27;main&#x27; or just being required) looks interesting and like something I have wanted in the past, but not sure if it would actually be a good idea.<p>was it ever offered for standardisation?</div><br/><div id="35966248" class="c"><input type="checkbox" id="c-35966248" checked=""/><div class="controls bullet"><span class="by">Jarred</span><span>|</span><a href="#35966048">parent</a><span>|</span><a href="#35969508">next</a><span>|</span><label class="collapse" for="c-35966248">[-]</label><label class="expand" for="c-35966248">[1 more]</label></div><br/><div class="children"><div class="content">There is no standard, import.meta is host-defined:<p><pre><code>    13.3.12.1.1 HostGetImportMetaProperties ( moduleRecord )

    The host-defined abstract operation HostGetImportMetaProperties takes argument moduleRecord (a Module Record) and returns a List of Records with fields [[Key]] (a property key) and [[Value]] (an ECMAScript language value). It allows hosts to provide property keys and values for the object returned from import.meta.
</code></pre>
<a href="https:&#x2F;&#x2F;tc39.es&#x2F;ecma262&#x2F;#sec-hostgetimportmetaproperties" rel="nofollow">https:&#x2F;&#x2F;tc39.es&#x2F;ecma262&#x2F;#sec-hostgetimportmetaproperties</a></div><br/></div></div></div></div><div id="35969508" class="c"><input type="checkbox" id="c-35969508" checked=""/><div class="controls bullet"><span class="by">0x445442</span><span>|</span><a href="#35966048">prev</a><span>|</span><a href="#35966594">next</a><span>|</span><label class="collapse" for="c-35969508">[-]</label><label class="expand" for="c-35969508">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Lots of bug fixes to Node.js<p>Does Node.js have lots of bugs still?</div><br/></div></div><div id="35966793" class="c"><input type="checkbox" id="c-35966793" checked=""/><div class="controls bullet"><span class="by">dheera</span><span>|</span><a href="#35966594">prev</a><span>|</span><a href="#35965841">next</a><span>|</span><label class="collapse" for="c-35966793">[-]</label><label class="expand" for="c-35966793">[9 more]</label></div><br/><div class="children"><div class="content">Why are we still minifying JavaScript? Is it only for obfuscation?<p>State-of-the-art HTTP servers already do a pretty damn good job gzipping stuff on the fly, do we need this garbage?<p>If it is for obfuscation, fine, can we just call it that?</div><br/><div id="35967540" class="c"><input type="checkbox" id="c-35967540" checked=""/><div class="controls bullet"><span class="by">10000truths</span><span>|</span><a href="#35966793">parent</a><span>|</span><a href="#35966882">next</a><span>|</span><label class="collapse" for="c-35967540">[-]</label><label class="expand" for="c-35967540">[4 more]</label></div><br/><div class="children"><div class="content">You can shrink transmitted sizes even further by using minification on top of transport compression. That nets me ~25% reduction in size compared to compression without minification, in practice, and those kinds of gains add up, especially at the tail end of page load times.</div><br/><div id="35967974" class="c"><input type="checkbox" id="c-35967974" checked=""/><div class="controls bullet"><span class="by">tracker1</span><span>|</span><a href="#35966793">root</a><span>|</span><a href="#35967540">parent</a><span>|</span><a href="#35966882">next</a><span>|</span><label class="collapse" for="c-35967974">[-]</label><label class="expand" for="c-35967974">[3 more]</label></div><br/><div class="children"><div class="content">Not to mention, you can get better compression with some pre-compression levels that are hard to match with the best on the fly, often getting another 10% or more on size.  It all adds up.<p>There are some Steve Souders books on optimization that are pretty good and still pretty relevant.</div><br/><div id="35969441" class="c"><input type="checkbox" id="c-35969441" checked=""/><div class="controls bullet"><span class="by">ijustlovemath</span><span>|</span><a href="#35966793">root</a><span>|</span><a href="#35967974">parent</a><span>|</span><a href="#35966882">next</a><span>|</span><label class="collapse" for="c-35969441">[-]</label><label class="expand" for="c-35969441">[2 more]</label></div><br/><div class="children"><div class="content">If you minify, aren&#x27;t you increasing the overall information entropy, and thereby decreasing the amount that can be gained from compression? I&#x27;m sure overall there&#x27;s still a net gain but I wonder where the point of inflection is.</div><br/><div id="35969868" class="c"><input type="checkbox" id="c-35969868" checked=""/><div class="controls bullet"><span class="by">ricardobeat</span><span>|</span><a href="#35966793">root</a><span>|</span><a href="#35969441">parent</a><span>|</span><a href="#35966882">next</a><span>|</span><label class="collapse" for="c-35969868">[-]</label><label class="expand" for="c-35969868">[1 more]</label></div><br/><div class="children"><div class="content">In my experience things kind of balance out, and you end up with negligible compression gains after compression. On the other hand, it also affects the time it takes for the browser &#x2F; js engine to parse and execute the code, which can be significant in this world of massive bundles.</div><br/></div></div></div></div></div></div></div></div><div id="35966882" class="c"><input type="checkbox" id="c-35966882" checked=""/><div class="controls bullet"><span class="by">djbusby</span><span>|</span><a href="#35966793">parent</a><span>|</span><a href="#35967540">prev</a><span>|</span><a href="#35968101">next</a><span>|</span><label class="collapse" for="c-35966882">[-]</label><label class="expand" for="c-35966882">[3 more]</label></div><br/><div class="children"><div class="content">And pack a bunch of assets into one larger asset, reduce the HTTP request count and maybe pre-gzip to save a few clock cycles</div><br/><div id="35967605" class="c"><input type="checkbox" id="c-35967605" checked=""/><div class="controls bullet"><span class="by">LispSporks22</span><span>|</span><a href="#35966793">root</a><span>|</span><a href="#35966882">parent</a><span>|</span><a href="#35966916">next</a><span>|</span><label class="collapse" for="c-35967605">[-]</label><label class="expand" for="c-35967605">[1 more]</label></div><br/><div class="children"><div class="content">I thought I read in the Rails docs somewhere that HTTP2 and import maps rescued us from bundling JS</div><br/></div></div><div id="35966916" class="c"><input type="checkbox" id="c-35966916" checked=""/><div class="controls bullet"><span class="by">dheera</span><span>|</span><a href="#35966793">root</a><span>|</span><a href="#35966882">parent</a><span>|</span><a href="#35967605">prev</a><span>|</span><a href="#35968101">next</a><span>|</span><label class="collapse" for="c-35966916">[-]</label><label class="expand" for="c-35966916">[1 more]</label></div><br/><div class="children"><div class="content">Maybe all of this should be an optional feature of HTTP servers and browsers with graceful fallback? NGINX could have a module that understands JavaScript and CSS and bundles and caches things on the fly, enabled optionally.<p>It would greatly simplify deployment to have the source and deployed code be identical. Obfuscation aside, given JS is an interpreted language, there is no reason to not use it for what it is. We&#x27;ve turned deploying JS into the same level of complexity as deploying C++ by adding building and packaging steps. Interpreted languages should never need build steps, and deployment should be no more than a simple rsync.</div><br/></div></div></div></div><div id="35968101" class="c"><input type="checkbox" id="c-35968101" checked=""/><div class="controls bullet"><span class="by">nicetrybob</span><span>|</span><a href="#35966793">parent</a><span>|</span><a href="#35966882">prev</a><span>|</span><a href="#35965841">next</a><span>|</span><label class="collapse" for="c-35968101">[-]</label><label class="expand" for="c-35968101">[1 more]</label></div><br/><div class="children"><div class="content">We touch on this in the docs [0]. TLDR, bundlers are still necessary (for now) to reduce the number of roundtrip requests required before page load (ideally to 1), and in more complex apps to avoid overwhelming the browser with parallel requests. Even HTTP2 can&#x27;t handle 100k parallel requests for a big app with a bloated node_modules.<p>[0] <a href="https:&#x2F;&#x2F;bun.sh&#x2F;docs&#x2F;cli&#x2F;build#why-bundle" rel="nofollow">https:&#x2F;&#x2F;bun.sh&#x2F;docs&#x2F;cli&#x2F;build#why-bundle</a></div><br/></div></div></div></div><div id="35965841" class="c"><input type="checkbox" id="c-35965841" checked=""/><div class="controls bullet"><span class="by">timetraveller26</span><span>|</span><a href="#35966793">prev</a><span>|</span><a href="#35968448">next</a><span>|</span><label class="collapse" for="c-35965841">[-]</label><label class="expand" for="c-35965841">[1 more]</label></div><br/><div class="children"><div class="content">How does this compare to bite?</div><br/></div></div><div id="35968448" class="c"><input type="checkbox" id="c-35968448" checked=""/><div class="controls bullet"><span class="by">ShadowBanThis01</span><span>|</span><a href="#35965841">prev</a><span>|</span><label class="collapse" for="c-35968448">[-]</label><label class="expand" for="c-35968448">[2 more]</label></div><br/><div class="children"><div class="content">Is WHAT? The title should tell us what the post is about. Why do we have to keep bringing this up? A title like this is a great way to miss out on a lot of views and reduce the usefulness of your post.<p>Let the downvoting of this simple observation begin.</div><br/></div></div></div></div></div></div></div></body></html>