<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1711443656754" as="style"/><link rel="stylesheet" href="styles.css?v=1711443656754"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://kaveland.no/friends-dont-let-friends-export-to-csv.html">Friends don&#x27;t let friends export to CSV</a> <span class="domain">(<a href="https://kaveland.no">kaveland.no</a>)</span></div><div class="subtext"><span>lervag</span> | <span>238 comments</span></div><br/><div><div id="39822753" class="c"><input type="checkbox" id="c-39822753" checked=""/><div class="controls bullet"><span class="by">prepend</span><span>|</span><a href="#39823946">next</a><span>|</span><label class="collapse" for="c-39822753">[-]</label><label class="expand" for="c-39822753">[86 more]</label></div><br/><div class="children"><div class="content">This article seems written by someone who never had to work with diverse data pipelines.<p>I work with large volumes of data from many different sources. I’m lucky to get them to send csv. Of course there are better formats, but all these sources aren’t able to agree on some successful format.<p>Csv that’s zipped is producible and readable by everyone. And that makes is more efficient.<p>I’ve been reading these “everyone is stupid, why don’t they just do the simple, right thing and I don’t understand the real reason for success” articles for so long it just makes me think the author doesn’t have a mentor or an editor with deep experience.<p>It’s like arguing how much mp3 sucks and how we should all just use flac.<p>The author means well, I’m sure. Maybe his next article will be about how airlines should speak Esperanto because English is such a flawed language. That’s a clever and unique observation.</div><br/><div id="39823087" class="c"><input type="checkbox" id="c-39823087" checked=""/><div class="controls bullet"><span class="by">hn_throwaway_99</span><span>|</span><a href="#39822753">parent</a><span>|</span><a href="#39823361">next</a><span>|</span><label class="collapse" for="c-39823087">[-]</label><label class="expand" for="c-39823087">[56 more]</label></div><br/><div class="children"><div class="content">Totally agree. His arguments are basically &quot;performance!&quot; (which is honestly not important to 99% of CSV export users) and &quot;It&#x27;s underderspecified!&quot; And while I can agree with the second, at least partly, in the real world the spec is essentially &quot;Can you import it to Excel?&quot;. I&#x27;m amazed at how much programmers can discount &quot;It already works pretty much everywhere&quot; for the sake of more esoteric improvements.<p>All that said (and perhaps counter to what I said), I do hope &quot;Unicode Separated Values&quot; takes off. It&#x27;s essentially just a slight tweak to CSV where the delimiters are special unicode characters, so you don&#x27;t have to have complicated quoting&#x2F;escaping logic, and it also supports multiple sheets (i.e. a workbook) in a single file.</div><br/><div id="39823323" class="c"><input type="checkbox" id="c-39823323" checked=""/><div class="controls bullet"><span class="by">diogocp</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823087">parent</a><span>|</span><a href="#39824539">next</a><span>|</span><label class="collapse" for="c-39823323">[-]</label><label class="expand" for="c-39823323">[10 more]</label></div><br/><div class="children"><div class="content">&gt; in the real world the spec is essentially &quot;Can you import it to Excel?&quot;<p>And the answer to that is always no. You will it think it&#x27;s yes because it works for you, but when you send it to someone who has a different Excel version or simply different regional settings, it won&#x27;t work. The recipient will first have to figure out what dialect you used to export.</div><br/><div id="39825143" class="c"><input type="checkbox" id="c-39825143" checked=""/><div class="controls bullet"><span class="by">Pikamander2</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823323">parent</a><span>|</span><a href="#39823482">next</a><span>|</span><label class="collapse" for="c-39825143">[-]</label><label class="expand" for="c-39825143">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been amazed by how much better LibreOffice is at importing CSVs in a sane manner than Excel. Its CSV import prompt is nothing short of the gold standard and puts Excel to shame.<p>Also, even if the CSV format is completely valid, Excel will still find a way to misinterpret some of your cells in baffling ways, destroying the original data in the process if you don&#x27;t notice it in time.</div><br/><div id="39825522" class="c"><input type="checkbox" id="c-39825522" checked=""/><div class="controls bullet"><span class="by">prox</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39825143">parent</a><span>|</span><a href="#39823482">next</a><span>|</span><label class="collapse" for="c-39825522">[-]</label><label class="expand" for="c-39825522">[1 more]</label></div><br/><div class="children"><div class="content">Heck yes, LibreOffice shines when it comes to that. Excel always threw me curveballs a lot.</div><br/></div></div></div></div><div id="39823482" class="c"><input type="checkbox" id="c-39823482" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823323">parent</a><span>|</span><a href="#39825143">prev</a><span>|</span><a href="#39825146">next</a><span>|</span><label class="collapse" for="c-39823482">[-]</label><label class="expand" for="c-39823482">[3 more]</label></div><br/><div class="children"><div class="content">&quot;Always no&quot;? What. Really not sure what you mean here when you agree that the possibility of it working exists.<p>I get the sentiment -- when I request data through FOIA, I will almost always request it as &quot;an excel format&quot; because I know that I&#x27;ll at least be able to import it. CSV is much less of a guarantee and will have issues -- missing quotes, wrong delimiters, inconsistent column counts, things like that. So requesting &quot;an excel format&quot; implies &quot;make the best effort to give me something that will load in my excel, but without asking what version of excel I have&quot;. Removes a fair amount of hassle, especially when it took months to get the data. It also means that if they fuck up the columns by doing a conversion, you have some means of telling them that the data is simply wrong, rather than the data is hard to work with. It does mean dealing with [0-9]+GB sized excel files sometimes, though.<p>That all said, I prefer to share CSV files. Haven&#x27;t had much of a problem with it and I can guarantee <i>some</i> consistency from my side. Like, the people I share files with aren&#x27;t going to know what the hell a parquet file is. A CSV though? Just double click it if you&#x27;re less technical, or open it up in less if you can use a terminal. It usually compresses well, despite what the author wrote.</div><br/><div id="39824364" class="c"><input type="checkbox" id="c-39824364" checked=""/><div class="controls bullet"><span class="by">throwaway2037</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823482">parent</a><span>|</span><a href="#39825146">next</a><span>|</span><label class="collapse" for="c-39824364">[-]</label><label class="expand" for="c-39824364">[2 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>   &gt; when I request data through FOIA
</code></pre>
Fascinating.  Can you share any details?  Did you ever think to share some of your interesting finds here on HN as a submission?</div><br/><div id="39824838" class="c"><input type="checkbox" id="c-39824838" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824364">parent</a><span>|</span><a href="#39825146">next</a><span>|</span><label class="collapse" for="c-39824838">[-]</label><label class="expand" for="c-39824838">[1 more]</label></div><br/><div class="children"><div class="content">Every now and then, yep :)<p><a href="https:&#x2F;&#x2F;mchap.io&#x2F;that-time-the-city-of-seattle-accidentally-gave-me-32m-emails-for-40-dollars4997.html" rel="nofollow">https:&#x2F;&#x2F;mchap.io&#x2F;that-time-the-city-of-seattle-accidentally-...</a></div><br/></div></div></div></div></div></div><div id="39825146" class="c"><input type="checkbox" id="c-39825146" checked=""/><div class="controls bullet"><span class="by">Freak_NL</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823323">parent</a><span>|</span><a href="#39823482">prev</a><span>|</span><a href="#39824874">next</a><span>|</span><label class="collapse" for="c-39825146">[-]</label><label class="expand" for="c-39825146">[1 more]</label></div><br/><div class="children"><div class="content">Oh absolutely. Don&#x27;t forget about the giant mess Microsoft made in countries like the Netherlands, where Excel will refuse to automatically open comma-separated values files (you know, CSV), unless the separator is a <i>semicolon</i> — because someone in the past thought that was how the Dutch did it.<p>You want people to be able to open your nice and sensible CSV files in Excel? First figure out which arcane locale specific settings you need, then generate those monstrosities and annoy anyone who genuinely expected Unicode comma-separated values.<p>My solution was to just write a generic spreadsheet writer component in our API and have it generate CSV (normal, comma-separated, UTF-8), XLSX, or ODS. Anyone using Excel just grabs the XLSX output. Generating XLSX and ODS was just a matter of saving a minimal example file for each and figuring out where to write cells and rows. No extra library needed (both file formats are just zipped up XML files), and everybody is happy.</div><br/></div></div><div id="39824607" class="c"><input type="checkbox" id="c-39824607" checked=""/><div class="controls bullet"><span class="by">Stranger43</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823323">parent</a><span>|</span><a href="#39824874">prev</a><span>|</span><a href="#39824685">next</a><span>|</span><label class="collapse" for="c-39824607">[-]</label><label class="expand" for="c-39824607">[1 more]</label></div><br/><div class="children"><div class="content">At this point i suspect excel is as dangerous as powerpoint to the quest for sharing and improving human knowledge, in that it gives the illusion of allowing people to analyze data but not the tools to make sure they get their data and model lined up correctly.</div><br/></div></div><div id="39824685" class="c"><input type="checkbox" id="c-39824685" checked=""/><div class="controls bullet"><span class="by">goatlover</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823323">parent</a><span>|</span><a href="#39824607">prev</a><span>|</span><a href="#39824539">next</a><span>|</span><label class="collapse" for="c-39824685">[-]</label><label class="expand" for="c-39824685">[1 more]</label></div><br/><div class="children"><div class="content">If the answer was always no, importing CSVs to Excel wouldn&#x27;t be an expectation or widely used.</div><br/></div></div></div></div><div id="39824539" class="c"><input type="checkbox" id="c-39824539" checked=""/><div class="controls bullet"><span class="by">djbusby</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823087">parent</a><span>|</span><a href="#39823323">prev</a><span>|</span><a href="#39825107">next</a><span>|</span><label class="collapse" for="c-39824539">[-]</label><label class="expand" for="c-39824539">[14 more]</label></div><br/><div class="children"><div class="content">ASCII has had field and record separators since like, forever. Wish we had kept using those.</div><br/><div id="39824789" class="c"><input type="checkbox" id="c-39824789" checked=""/><div class="controls bullet"><span class="by">wombatpm</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824539">parent</a><span>|</span><a href="#39824749">next</a><span>|</span><label class="collapse" for="c-39824789">[-]</label><label class="expand" for="c-39824789">[2 more]</label></div><br/><div class="children"><div class="content">No you don’t. It’s a holdover from when files were on tapes. The logic is all inverted too. Record separators were at the beginning of a record. Group and unit separators could then be nested. You really needed a spec for whatever document you were trying to makt</div><br/><div id="39825121" class="c"><input type="checkbox" id="c-39825121" checked=""/><div class="controls bullet"><span class="by">rightbyte</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824789">parent</a><span>|</span><a href="#39824749">next</a><span>|</span><label class="collapse" for="c-39825121">[-]</label><label class="expand" for="c-39825121">[1 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t matter if the sentinel byte is after or before each record.<p>Having it before is nice for syncing byte streams.</div><br/></div></div></div></div><div id="39824749" class="c"><input type="checkbox" id="c-39824749" checked=""/><div class="controls bullet"><span class="by">lolive</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824539">parent</a><span>|</span><a href="#39824789">prev</a><span>|</span><a href="#39824688">next</a><span>|</span><label class="collapse" for="c-39824749">[-]</label><label class="expand" for="c-39824749">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;SixArm&#x2F;usv&#x2F;tree&#x2F;main&#x2F;doc&#x2F;faq#why-use-control-picture-characters-rather-than-the-control-characters-themselves">https:&#x2F;&#x2F;github.com&#x2F;SixArm&#x2F;usv&#x2F;tree&#x2F;main&#x2F;doc&#x2F;faq#why-use-cont...</a></div><br/></div></div><div id="39824688" class="c"><input type="checkbox" id="c-39824688" checked=""/><div class="controls bullet"><span class="by">josefx</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824539">parent</a><span>|</span><a href="#39824749">prev</a><span>|</span><a href="#39825107">next</a><span>|</span><label class="collapse" for="c-39824688">[-]</label><label class="expand" for="c-39824688">[10 more]</label></div><br/><div class="children"><div class="content">Does it have nesting operators? I want to embedd ASCII within my ASCII fields. So I can have a table within my table.</div><br/><div id="39824768" class="c"><input type="checkbox" id="c-39824768" checked=""/><div class="controls bullet"><span class="by">vaylian</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824688">parent</a><span>|</span><a href="#39824734">next</a><span>|</span><label class="collapse" for="c-39824768">[-]</label><label class="expand" for="c-39824768">[3 more]</label></div><br/><div class="children"><div class="content">It kind of does. See `man ascii`<p>* FS (0x1C) file separator<p>* GS (0x1D) group separator<p>* RS (0x1E) record separator<p>* US (0x1F) unit separator<p>I&#x27;ve never seen these in the wild though.</div><br/><div id="39824809" class="c"><input type="checkbox" id="c-39824809" checked=""/><div class="controls bullet"><span class="by">alex_suzuki</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824768">parent</a><span>|</span><a href="#39824734">next</a><span>|</span><label class="collapse" for="c-39824809">[-]</label><label class="expand" for="c-39824809">[2 more]</label></div><br/><div class="children"><div class="content">They‘re used a lot in barcodes, e.g. for delimiting the different fields of a driving license.</div><br/><div id="39825297" class="c"><input type="checkbox" id="c-39825297" checked=""/><div class="controls bullet"><span class="by">euroderf</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824809">parent</a><span>|</span><a href="#39824734">next</a><span>|</span><label class="collapse" for="c-39825297">[-]</label><label class="expand" for="c-39825297">[1 more]</label></div><br/><div class="children"><div class="content">That sounds like the premise for an utterly fascinating deep dive.</div><br/></div></div></div></div></div></div><div id="39824734" class="c"><input type="checkbox" id="c-39824734" checked=""/><div class="controls bullet"><span class="by">lolive</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824688">parent</a><span>|</span><a href="#39824768">prev</a><span>|</span><a href="#39825107">next</a><span>|</span><label class="collapse" for="c-39824734">[-]</label><label class="expand" for="c-39824734">[6 more]</label></div><br/><div class="children"><div class="content">A manager: I wish I could have a CSV inside my CSV.<p>Any sane person: NO!</div><br/><div id="39825241" class="c"><input type="checkbox" id="c-39825241" checked=""/><div class="controls bullet"><span class="by">bruce511</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824734">parent</a><span>|</span><a href="#39825473">next</a><span>|</span><label class="collapse" for="c-39825241">[-]</label><label class="expand" for="c-39825241">[2 more]</label></div><br/><div class="children"><div class="content">Well you might be wrong, but EDI in general and HL7 specifically allow 3 levels of &quot;fields in fields in field&quot;.<p>As long as your parser copes, and as long as you have appropriate structures to import into, its no big deal.</div><br/><div id="39825547" class="c"><input type="checkbox" id="c-39825547" checked=""/><div class="controls bullet"><span class="by">iainmerrick</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39825241">parent</a><span>|</span><a href="#39825473">next</a><span>|</span><label class="collapse" for="c-39825547">[-]</label><label class="expand" for="c-39825547">[1 more]</label></div><br/><div class="children"><div class="content">So now when I&#x27;m exporting data I need to know what nesting level it&#x27;s going to live at so I can generate the correct separators?<p>I really think that might be the worst idea I&#x27;ve heard for a while!</div><br/></div></div></div></div><div id="39825473" class="c"><input type="checkbox" id="c-39825473" checked=""/><div class="controls bullet"><span class="by">wiredfool</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824734">parent</a><span>|</span><a href="#39825241">prev</a><span>|</span><a href="#39824771">next</a><span>|</span><label class="collapse" for="c-39825473">[-]</label><label class="expand" for="c-39825473">[1 more]</label></div><br/><div class="children"><div class="content">Been there, done the Interop.</div><br/></div></div><div id="39824771" class="c"><input type="checkbox" id="c-39824771" checked=""/><div class="controls bullet"><span class="by">josefx</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824734">parent</a><span>|</span><a href="#39825473">prev</a><span>|</span><a href="#39825107">next</a><span>|</span><label class="collapse" for="c-39824771">[-]</label><label class="expand" for="c-39824771">[2 more]</label></div><br/><div class="children"><div class="content">base64 encoded fields it is.</div><br/><div id="39824806" class="c"><input type="checkbox" id="c-39824806" checked=""/><div class="controls bullet"><span class="by">lolive</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824771">parent</a><span>|</span><a href="#39825107">next</a><span>|</span><label class="collapse" for="c-39824806">[-]</label><label class="expand" for="c-39824806">[1 more]</label></div><br/><div class="children"><div class="content">That was the right answer. You are hired!</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39825107" class="c"><input type="checkbox" id="c-39825107" checked=""/><div class="controls bullet"><span class="by">chrisandchris</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823087">parent</a><span>|</span><a href="#39824539">prev</a><span>|</span><a href="#39823135">next</a><span>|</span><label class="collapse" for="c-39825107">[-]</label><label class="expand" for="c-39825107">[1 more]</label></div><br/><div class="children"><div class="content">So true. Working with imports&#x2F;exports in CSV from ERP software. One can&#x27;t imagine how often &quot;Oh, this import doesn&#x27;t work. I&#x27;ll just fix the CSV file&quot; occurs. Try that with some compressed, &quot;esoteric&quot; file, or even CML and users will break it.<p>Besides all the downsides CSV has, as soon as it&#x27;s not only machine-machine communication and a human is involved, CSV is just simole enough.</div><br/></div></div><div id="39823135" class="c"><input type="checkbox" id="c-39823135" checked=""/><div class="controls bullet"><span class="by">ryncewynd</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823087">parent</a><span>|</span><a href="#39825107">prev</a><span>|</span><a href="#39824571">next</a><span>|</span><label class="collapse" for="c-39823135">[-]</label><label class="expand" for="c-39823135">[15 more]</label></div><br/><div class="children"><div class="content">Are there unicode characters specifically for delimiters?<p>If Excel had a standardised &quot;Save as USV&quot; option it would solve so many issues for me.<p>I get so many broken CSVs from third-parties</div><br/><div id="39823238" class="c"><input type="checkbox" id="c-39823238" checked=""/><div class="controls bullet"><span class="by">hiccuphippo</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823135">parent</a><span>|</span><a href="#39823257">next</a><span>|</span><label class="collapse" for="c-39823238">[-]</label><label class="expand" for="c-39823238">[1 more]</label></div><br/><div class="children"><div class="content">ASCII has characters for unit, record, group and file separator. And a some days ago there was a story here about using the unicode printable representation of these for an editor friendly format.<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39679378">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39679378</a></div><br/></div></div><div id="39823257" class="c"><input type="checkbox" id="c-39823257" checked=""/><div class="controls bullet"><span class="by">crq-yml</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823135">parent</a><span>|</span><a href="#39823238">prev</a><span>|</span><a href="#39823229">next</a><span>|</span><label class="collapse" for="c-39823257">[-]</label><label class="expand" for="c-39823257">[3 more]</label></div><br/><div class="children"><div class="content">There are characters from ASCII for delimiting records, which are underused because they cause confusion about whether they should be represented as a state change like a backspace character, or as a glyph. See also: &quot;nobody can agree on the line ending character sequence&quot;.<p>The USV proposal uses additional codepoints introduced in Unicode for the <i>representation</i> of the record delimiters, so they will always look and edit like character glyphs, and nobody is using them for some other purpose. The standardized look of these glyphs is unappealing, and they aren&#x27;t easy to type, but it&#x27;s fixable with a font and some editing functions.<p>Most of the issue hinges on Excel support.</div><br/><div id="39823654" class="c"><input type="checkbox" id="c-39823654" checked=""/><div class="controls bullet"><span class="by">samatman</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823257">parent</a><span>|</span><a href="#39823229">next</a><span>|</span><label class="collapse" for="c-39823654">[-]</label><label class="expand" for="c-39823654">[2 more]</label></div><br/><div class="children"><div class="content">&gt; <i>nobody is using them for some other purpose.</i><p>There&#x27;s a lot of tooling which uses them for their <i>intended purpose</i>, which is to represent the C0 control characters in a font, so they can be printed when they appear in a document. Your editor is probably one of those.<p>Which is why I consider USV a terrible idea. If I see ␇ in a file, I don&#x27;t want to be constantly wondering if it&#x27;s &quot;mention ␇&quot; or &quot;use ␇ to represent \x07&quot;. That&#x27;s why the control pictures block exists: to provide pictographs of invisible control characters. Not to make a cutesy hack &quot;look! it&#x27;s a picture of a control character <i>pretending to be what it isn&#x27;t</i>!!&quot; format.</div><br/><div id="39825145" class="c"><input type="checkbox" id="c-39825145" checked=""/><div class="controls bullet"><span class="by">rightbyte</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823654">parent</a><span>|</span><a href="#39823229">next</a><span>|</span><label class="collapse" for="c-39825145">[-]</label><label class="expand" for="c-39825145">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t underatand why this is a question up for debate. You need eye tracking, so that there is a beep when you read the relevant part.</div><br/></div></div></div></div></div></div><div id="39823229" class="c"><input type="checkbox" id="c-39823229" checked=""/><div class="controls bullet"><span class="by">bhaney</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823135">parent</a><span>|</span><a href="#39823257">prev</a><span>|</span><a href="#39823849">next</a><span>|</span><label class="collapse" for="c-39823229">[-]</label><label class="expand" for="c-39823229">[1 more]</label></div><br/><div class="children"><div class="content">Hell, there&#x27;s ASCII characters specifically for delimiters. 0x1C to 0x1F are respectively defined as file, group, record, and unit separators. Unicode naturally inherits them all.</div><br/></div></div><div id="39823849" class="c"><input type="checkbox" id="c-39823849" checked=""/><div class="controls bullet"><span class="by">fbdab103</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823135">parent</a><span>|</span><a href="#39823229">prev</a><span>|</span><a href="#39823290">next</a><span>|</span><label class="collapse" for="c-39823849">[-]</label><label class="expand" for="c-39823849">[3 more]</label></div><br/><div class="children"><div class="content">My significantly bigger beef would be all of the auto-formatting Excel does to mangle data. Excel loves to turn entries into dates.<p>Human genes had to be renamed so as to avoid this Excel features.</div><br/><div id="39824269" class="c"><input type="checkbox" id="c-39824269" checked=""/><div class="controls bullet"><span class="by">potatoicecoffee</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823849">parent</a><span>|</span><a href="#39823290">next</a><span>|</span><label class="collapse" for="c-39824269">[-]</label><label class="expand" for="c-39824269">[2 more]</label></div><br/><div class="children"><div class="content">excel now has a prompt so you can tell it to not convert stuff automatically</div><br/><div id="39824288" class="c"><input type="checkbox" id="c-39824288" checked=""/><div class="controls bullet"><span class="by">fbdab103</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824269">parent</a><span>|</span><a href="#39823290">next</a><span>|</span><label class="collapse" for="c-39824288">[-]</label><label class="expand" for="c-39824288">[1 more]</label></div><br/><div class="children"><div class="content">Gasp. Big news. I do not recall ever seeing this, so I wonder if $JOB is running some hilariously outdated version for compatibility with a load bearing VBA script.</div><br/></div></div></div></div></div></div><div id="39823290" class="c"><input type="checkbox" id="c-39823290" checked=""/><div class="controls bullet"><span class="by">hn_throwaway_99</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823135">parent</a><span>|</span><a href="#39823849">prev</a><span>|</span><a href="#39823585">next</a><span>|</span><label class="collapse" for="c-39823290">[-]</label><label class="expand" for="c-39823290">[1 more]</label></div><br/><div class="children"><div class="content">Yes, this recent discussion has lots of good info and links in the comments: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39679378">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39679378</a></div><br/></div></div><div id="39823585" class="c"><input type="checkbox" id="c-39823585" checked=""/><div class="controls bullet"><span class="by">lostlogin</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823135">parent</a><span>|</span><a href="#39823290">prev</a><span>|</span><a href="#39824571">next</a><span>|</span><label class="collapse" for="c-39823585">[-]</label><label class="expand" for="c-39823585">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Are there unicode characters specifically for delimiters?<p>We could use the HL7 pipe ‘|’ and all enjoy that hell.</div><br/><div id="39824010" class="c"><input type="checkbox" id="c-39824010" checked=""/><div class="controls bullet"><span class="by">deathanatos</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823585">parent</a><span>|</span><a href="#39823785">next</a><span>|</span><label class="collapse" for="c-39824010">[-]</label><label class="expand" for="c-39824010">[1 more]</label></div><br/><div class="children"><div class="content">God, please no.<p>For those unfamiliar with the atrocity that is HL7v2, the format is <i>essentially</i> CSV, but with the record separator set to a lone CR, and the field separator <i>usually</i> set to |. Usually, because the format lets the consumer of the format <i>redefine</i> it, for whatever reasons. (The first use of the field separator it determines whatever character it will be. Thankfully, the first use is in a fixed spot, so it&#x27;s determinable, but <i>still.</i> Oh, but we don&#x27;t know the character encoding until like the 18th field in … and it doesn&#x27;t necessarily have to be an ASCII superset. So I have <i>no idea</i> what an HL7v2 message in a non-ASCII superset even looks like, or how a parser is even supposed to reasonably parse such a thing. I presume attempt a decoding in all possible decodings, and then see which one matches the embedded character set, and pray nobody can create a polyglot?)<p>There&#x27;s also further separators, delimiting within a field.<p>It also has its own escape sequences, to deal with the above.<p>… and it is what carries an unfortunate amount of medical data, and is generally how providers interoperate, despite the existence of more civilized standards like FHIR</div><br/></div></div><div id="39823785" class="c"><input type="checkbox" id="c-39823785" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823585">parent</a><span>|</span><a href="#39824010">prev</a><span>|</span><a href="#39823811">next</a><span>|</span><label class="collapse" for="c-39823785">[-]</label><label class="expand" for="c-39823785">[1 more]</label></div><br/><div class="children"><div class="content">My worst nightmare was a semicolon-delimited file. Where one of the columns had hand-typed street names - without quotes.. so &quot;WELLS&quot; was often &quot;WE;;S&quot;.<p>Since it was the only column like that, the # of columns to the left of the annoying column and the # on the right would always stay the same. So it was pretty easy to clean.</div><br/></div></div><div id="39823811" class="c"><input type="checkbox" id="c-39823811" checked=""/><div class="controls bullet"><span class="by">doctor_eval</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823585">parent</a><span>|</span><a href="#39823785">prev</a><span>|</span><a href="#39824571">next</a><span>|</span><label class="collapse" for="c-39823811">[-]</label><label class="expand" for="c-39823811">[2 more]</label></div><br/><div class="children"><div class="content">It’s been years since I last worked with HL7. Isn’t there also ^ and ~ to deal with?<p>Hell indeed.</div><br/><div id="39824109" class="c"><input type="checkbox" id="c-39824109" checked=""/><div class="controls bullet"><span class="by">lostlogin</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823811">parent</a><span>|</span><a href="#39824571">next</a><span>|</span><label class="collapse" for="c-39824109">[-]</label><label class="expand" for="c-39824109">[1 more]</label></div><br/><div class="children"><div class="content">There is the white space bs too. Sometimes it matters, sometimes it doesn’t. What type of white space is it?<p>Seriously rough.</div><br/></div></div></div></div></div></div></div></div><div id="39824571" class="c"><input type="checkbox" id="c-39824571" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823087">parent</a><span>|</span><a href="#39823135">prev</a><span>|</span><a href="#39824396">next</a><span>|</span><label class="collapse" for="c-39824571">[-]</label><label class="expand" for="c-39824571">[1 more]</label></div><br/><div class="children"><div class="content">USV has a mountain of problems.<p>And really is in search of a problem to solve.</div><br/></div></div><div id="39824396" class="c"><input type="checkbox" id="c-39824396" checked=""/><div class="controls bullet"><span class="by">palmfacehn</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823087">parent</a><span>|</span><a href="#39824571">prev</a><span>|</span><a href="#39823665">next</a><span>|</span><label class="collapse" for="c-39824396">[-]</label><label class="expand" for="c-39824396">[1 more]</label></div><br/><div class="children"><div class="content">JSON objects as a CSV field has been mostly agreeable for my usage. It would be nice if some of the spreadsheet apps displayed the object tree.</div><br/></div></div><div id="39823665" class="c"><input type="checkbox" id="c-39823665" checked=""/><div class="controls bullet"><span class="by">Dalewyn</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823087">parent</a><span>|</span><a href="#39824396">prev</a><span>|</span><a href="#39825151">next</a><span>|</span><label class="collapse" for="c-39823665">[-]</label><label class="expand" for="c-39823665">[12 more]</label></div><br/><div class="children"><div class="content">&gt;I do hope &quot;Unicode Separated Values&quot; takes off. It&#x27;s essentially just a slight tweak to CSV where the delimiters are special unicode characters<p>Commas can be typed by anyone on any keyboard and readable by anyone.<p>Special Unicode Characters(tm) can&#x27;t be typed by anyone on any keyboard and readable by noone.<p>Convenience is a virtue.</div><br/><div id="39823753" class="c"><input type="checkbox" id="c-39823753" checked=""/><div class="controls bullet"><span class="by">hn_throwaway_99</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823665">parent</a><span>|</span><a href="#39824025">next</a><span>|</span><label class="collapse" for="c-39823753">[-]</label><label class="expand" for="c-39823753">[7 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t remember the last time I, or anyone I&#x27;ve ever worked with for that matter, ever <i>typed</i> up a CSV from scratch. The whole point of USV is that the delimiters <i>can&#x27;t</i> normally be typed so you don&#x27;t have to worry about escaping.<p>USV supports displayable delimiters (see <a href="https:&#x2F;&#x2F;github.com&#x2F;SixArm&#x2F;usv">https:&#x2F;&#x2F;github.com&#x2F;SixArm&#x2F;usv</a>), so for the much more common case of editing an existing CSV in a text editor, you can just copy and paste.</div><br/><div id="39824005" class="c"><input type="checkbox" id="c-39824005" checked=""/><div class="controls bullet"><span class="by">albert_e</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823753">parent</a><span>|</span><a href="#39823774">next</a><span>|</span><label class="collapse" for="c-39824005">[-]</label><label class="expand" for="c-39824005">[5 more]</label></div><br/><div class="children"><div class="content">Everyone of us was a beginner at some point. The first time we came across CSV format we likely typed it in notepad by hand. A lot of issues with CSVs are also sometimes troubleshooted by hand-- by manually fixing a quote or a comma.<p>There is value is the ability to do this level of editing and troubleshooting.</div><br/><div id="39824083" class="c"><input type="checkbox" id="c-39824083" checked=""/><div class="controls bullet"><span class="by">hn_throwaway_99</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824005">parent</a><span>|</span><a href="#39824779">next</a><span>|</span><label class="collapse" for="c-39824083">[-]</label><label class="expand" for="c-39824083">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The first time we came across CSV format we likely typed it in notepad by hand.<p>Again, I&#x27;m not saying CSVs aren&#x27;t <i>edited</i> by hand in a text editor, I&#x27;m saying they aren&#x27;t <i>created</i> from scratch in a text editor, even by beginners. USVs are easy to edit in a text editor, too, and I tried viewing and editing USVs with a couple different fonts and had no problems.</div><br/><div id="39825564" class="c"><input type="checkbox" id="c-39825564" checked=""/><div class="controls bullet"><span class="by">iainmerrick</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824083">parent</a><span>|</span><a href="#39824779">next</a><span>|</span><label class="collapse" for="c-39825564">[-]</label><label class="expand" for="c-39825564">[1 more]</label></div><br/><div class="children"><div class="content">If the separators can&#x27;t easily be typed, how do you add a new cell?</div><br/></div></div></div></div><div id="39824779" class="c"><input type="checkbox" id="c-39824779" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824005">parent</a><span>|</span><a href="#39824083">prev</a><span>|</span><a href="#39823774">next</a><span>|</span><label class="collapse" for="c-39824779">[-]</label><label class="expand" for="c-39824779">[2 more]</label></div><br/><div class="children"><div class="content">No we didn&#x27;t, we likely typed in Excel by double clicking on our first csv</div><br/><div id="39825089" class="c"><input type="checkbox" id="c-39825089" checked=""/><div class="controls bullet"><span class="by">hnlmorg</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824779">parent</a><span>|</span><a href="#39823774">next</a><span>|</span><label class="collapse" for="c-39825089">[-]</label><label class="expand" for="c-39825089">[1 more]</label></div><br/><div class="children"><div class="content">I can’t speak for everyone, but I definitely didn’t use Excel.</div><br/></div></div></div></div></div></div><div id="39823774" class="c"><input type="checkbox" id="c-39823774" checked=""/><div class="controls bullet"><span class="by">Dalewyn</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823753">parent</a><span>|</span><a href="#39824005">prev</a><span>|</span><a href="#39824025">next</a><span>|</span><label class="collapse" for="c-39823774">[-]</label><label class="expand" for="c-39823774">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve valued the virtue of CSVs being readable by any text editor known to man, and I&#x27;ve occasionally edited them by hand. The pure simplicity of reading and typing commas trumps <i>any</i> value provided by more esoteric configurations.<p>As for escaping, that&#x27;s for the subsequent programmers (which could also be me) to figure out. If it is me, I&#x27;ll deal with it because it keeps things simple.</div><br/></div></div></div></div><div id="39824025" class="c"><input type="checkbox" id="c-39824025" checked=""/><div class="controls bullet"><span class="by">deathanatos</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823665">parent</a><span>|</span><a href="#39823753">prev</a><span>|</span><a href="#39825151">next</a><span>|</span><label class="collapse" for="c-39824025">[-]</label><label class="expand" for="c-39824025">[4 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Special Unicode Characters(tm) can&#x27;t be typed by anyone on any keyboard and readable by noone.</i><p>While I&#x27;m not a fan of USV, I do believe it <i>is</i> type-able on both macOS and Linux¹. The IME&#x27;s character picker in both OSes contains all of the necessary characters, I think. (I use &quot;␤&quot; in commit messages, occasionally. That was a typed ␤, not copy&#x2F;pasted from a Google query or such.)<p>It would be quite <i>tedious</i>, I do admit; <i>reasonably</i> typed by someone, probably not.<p>I don&#x27;t normally type out CSVs by hand either, though.<p>(¹I don&#x27;t know about Windows as I simply haven&#x27;t cared about it in years. For all I know, they&#x27;ve grown an IME in the intervening decade.)</div><br/><div id="39824302" class="c"><input type="checkbox" id="c-39824302" checked=""/><div class="controls bullet"><span class="by">al_borland</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824025">parent</a><span>|</span><a href="#39824197">next</a><span>|</span><label class="collapse" for="c-39824302">[-]</label><label class="expand" for="c-39824302">[1 more]</label></div><br/><div class="children"><div class="content">Even if the csv isn’t being typed out by hand, when importing into Excel and the delimiter needs to be manually entered, because it isn’t one of the common ones Excel has a radio button for… it is nice to be able to easily type it.</div><br/></div></div><div id="39824197" class="c"><input type="checkbox" id="c-39824197" checked=""/><div class="controls bullet"><span class="by">bee_rider</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824025">parent</a><span>|</span><a href="#39824302">prev</a><span>|</span><a href="#39824421">next</a><span>|</span><label class="collapse" for="c-39824197">[-]</label><label class="expand" for="c-39824197">[1 more]</label></div><br/><div class="children"><div class="content">Would it be possible to just type the file using commas, semicolons, or pipes or something (whatever you happen to know you don’t have in your file) and then convert them using sed?</div><br/></div></div><div id="39824421" class="c"><input type="checkbox" id="c-39824421" checked=""/><div class="controls bullet"><span class="by">Dalewyn</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824025">parent</a><span>|</span><a href="#39824197">prev</a><span>|</span><a href="#39825151">next</a><span>|</span><label class="collapse" for="c-39824421">[-]</label><label class="expand" for="c-39824421">[1 more]</label></div><br/><div class="children"><div class="content">Any character within reason can certainly be <i>entered</i> by way of Character Map in Windows or its equivalent in Linux or MacOS, but if you&#x27;re arguing that then you don&#x27;t understand the crux of my argument: Convenience is a virtue.<p>There is value in the delimiter simply being a key on practically any keyboard in existence. <i>Anything</i> that involves something more complicated than just pushing a single button on a keyboard (this includes IMEs) is a non-starter, because convenience is a virtue.</div><br/></div></div></div></div></div></div><div id="39825151" class="c"><input type="checkbox" id="c-39825151" checked=""/><div class="controls bullet"><span class="by">likis</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823087">parent</a><span>|</span><a href="#39823665">prev</a><span>|</span><a href="#39823361">next</a><span>|</span><label class="collapse" for="c-39825151">[-]</label><label class="expand" for="c-39825151">[1 more]</label></div><br/><div class="children"><div class="content">It seems like you missed the conclusion in the article. If users want CSV exports, let them have it.<p>If you have important data being shuffled around systems, pick something with a specification instead.</div><br/></div></div></div></div><div id="39823361" class="c"><input type="checkbox" id="c-39823361" checked=""/><div class="controls bullet"><span class="by">whakim</span><span>|</span><a href="#39822753">parent</a><span>|</span><a href="#39823087">prev</a><span>|</span><a href="#39824588">next</a><span>|</span><label class="collapse" for="c-39823361">[-]</label><label class="expand" for="c-39823361">[14 more]</label></div><br/><div class="children"><div class="content">To me this criticism feels excessive. It feels like the author is describing their frustrations with <i>internal</i> usage of CSVs - there&#x27;s no mention of customers and non-technical stakeholders at all. I think it goes without saying that Parquet files and other non-human-readable formats are a nonstarter when working with external stakeholders and the last paragraph makes that clear - if the end-user wants CSV, give them CSV.<p>I also think we shouldn&#x27;t blindly dismiss the performance drawbacks of CSV when working with data pipelines. At even modest scales it becomes hard to work with very large CSVs because the data often doesn&#x27;t fit into memory, a problem easily solved by Parquet and other formats assuming you only need a subset.</div><br/><div id="39824929" class="c"><input type="checkbox" id="c-39824929" checked=""/><div class="controls bullet"><span class="by">strken</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823361">parent</a><span>|</span><a href="#39823801">next</a><span>|</span><label class="collapse" for="c-39824929">[-]</label><label class="expand" for="c-39824929">[1 more]</label></div><br/><div class="children"><div class="content">I very much agree with this. For an integration where you have control over both ends of the pipeline, CSV is not optimal unless there&#x27;s existing work to build on, and even then it&#x27;s a legacy choice.<p>Parquet and Avro are widely supported in backend languages and also in data analysis. I don&#x27;t think the article is talking about exported-like-a-jpeg, but instead exported-like-a-daily-report-run: the data scientist doing the exporting is probably using R or Pandas instead of Excel, and can reasonably be expected to read <a href="https:&#x2F;&#x2F;arrow.apache.org&#x2F;docs&#x2F;r&#x2F;reference&#x2F;read_parquet.html" rel="nofollow">https:&#x2F;&#x2F;arrow.apache.org&#x2F;docs&#x2F;r&#x2F;reference&#x2F;read_parquet.html</a>.</div><br/></div></div><div id="39823801" class="c"><input type="checkbox" id="c-39823801" checked=""/><div class="controls bullet"><span class="by">prepend</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823361">parent</a><span>|</span><a href="#39824929">prev</a><span>|</span><a href="#39823795">next</a><span>|</span><label class="collapse" for="c-39823801">[-]</label><label class="expand" for="c-39823801">[2 more]</label></div><br/><div class="children"><div class="content">I deal with gig size csvs all the time and don’t have any performance issues. These aren’t huge files, but decent sized. And most are just a few megs and only thousands to millions of records.<p>Csv is not very performant, but it doesn’t matter for these use cases.<p>I’ll also add that I’m not working with the csvs, they are just I&#x2F;o. So any memory issues are handled by the load process. I certainly don’t use csvs for my internal processes. Just for when someone sends me data or I have to send it back to them.<p>That being said my workstation is pretty big and can handle 10s of gigs of csv before I care. But that’s usually just for dev or debugging and anything that sticks around will be working with data in some proper store (usually parquet distributed across nodes).</div><br/><div id="39825287" class="c"><input type="checkbox" id="c-39825287" checked=""/><div class="controls bullet"><span class="by">Certhas</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823801">parent</a><span>|</span><a href="#39823795">next</a><span>|</span><label class="collapse" for="c-39825287">[-]</label><label class="expand" for="c-39825287">[1 more]</label></div><br/><div class="children"><div class="content">If I run a simulation workload it&#x27;s pretty easy to generate gigabytes of data per second. CSV encoding adds a huge overhead space and time wise, so saving trajectories to disc for later analysis can easily become the bottleneck.<p>I have had many other situations where CSV was the bottleneck.<p>I still would default to CSV first in many situations because it&#x27;s robust and easily inspected by hand.</div><br/></div></div></div></div><div id="39823795" class="c"><input type="checkbox" id="c-39823795" checked=""/><div class="controls bullet"><span class="by">jgord</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823361">parent</a><span>|</span><a href="#39823801">prev</a><span>|</span><a href="#39823492">next</a><span>|</span><label class="collapse" for="c-39823795">[-]</label><label class="expand" for="c-39823795">[3 more]</label></div><br/><div class="children"><div class="content">btw, xsv has solved most of my problems dealing with &#x27;large&#x27; 40GB csv files</div><br/><div id="39824376" class="c"><input type="checkbox" id="c-39824376" checked=""/><div class="controls bullet"><span class="by">throwaway2037</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823795">parent</a><span>|</span><a href="#39823492">next</a><span>|</span><label class="collapse" for="c-39824376">[-]</label><label class="expand" for="c-39824376">[2 more]</label></div><br/><div class="children"><div class="content">xsv?  I never heard of it.  This one?  <a href="https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;xsv">https:&#x2F;&#x2F;github.com&#x2F;BurntSushi&#x2F;xsv</a><p>If yes, looks very cool.  Plus, bonus HN&#x2F;Internet points for being written in Rust!</div><br/><div id="39824977" class="c"><input type="checkbox" id="c-39824977" checked=""/><div class="controls bullet"><span class="by">jgord</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824376">parent</a><span>|</span><a href="#39823492">next</a><span>|</span><label class="collapse" for="c-39824977">[-]</label><label class="expand" for="c-39824977">[1 more]</label></div><br/><div class="children"><div class="content">yep .. his utils are most excellent.</div><br/></div></div></div></div></div></div><div id="39823492" class="c"><input type="checkbox" id="c-39823492" checked=""/><div class="controls bullet"><span class="by">chaps</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823361">parent</a><span>|</span><a href="#39823795">prev</a><span>|</span><a href="#39824588">next</a><span>|</span><label class="collapse" for="c-39823492">[-]</label><label class="expand" for="c-39823492">[7 more]</label></div><br/><div class="children"><div class="content">Why is this getting downvoted? They&#x27;re right that the criticism is pretty excessive:<p><pre><code>  &quot;Maybe his next article will be about how airlines should speak Esperanto because English is such a flawed language. That’s a clever and unique observation.&quot;
</code></pre>
Hm.</div><br/><div id="39823810" class="c"><input type="checkbox" id="c-39823810" checked=""/><div class="controls bullet"><span class="by">prepend</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823492">parent</a><span>|</span><a href="#39824588">next</a><span>|</span><label class="collapse" for="c-39823810">[-]</label><label class="expand" for="c-39823810">[6 more]</label></div><br/><div class="children"><div class="content">I got a little snarky but I think the analogy holds.<p>Esperanto is a superior language to English. And English has many flaws.<p>Theoretically it would be better to have all pilots and airports learn an efficient language.<p>But it would be stupid and immature to seriously write a blog post about that, especially without talking about all the flaws in that plan.</div><br/><div id="39824115" class="c"><input type="checkbox" id="c-39824115" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823810">parent</a><span>|</span><a href="#39824588">next</a><span>|</span><label class="collapse" for="c-39824115">[-]</label><label class="expand" for="c-39824115">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Esperanto is a superior language to English.<p>Not really. You can say it&#x27;s more regular but that&#x27;s because it sees barely any actual use; if it ever gained popularity it wouldn&#x27;t stay regular. (And given that pilots speak in set phrases anyway, irregularity isn&#x27;t really an issue). It&#x27;s not a great language by any stretch, it&#x27;s an awkward mismash of four european languages; sure it sounds kind of nice in an Italianate way, but if that&#x27;s what you want then why not just speak Italian?</div><br/><div id="39824632" class="c"><input type="checkbox" id="c-39824632" checked=""/><div class="controls bullet"><span class="by">shermantanktop</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824115">parent</a><span>|</span><a href="#39824207">next</a><span>|</span><label class="collapse" for="c-39824632">[-]</label><label class="expand" for="c-39824632">[1 more]</label></div><br/><div class="children"><div class="content">&gt; if it ever gained popularity it wouldn&#x27;t stay regular<p>This. Utility and purity always pull in opposite directions.<p>I see those boutique little (programming) languages written by amateur language designers with exotic type systems or “everything is an X” philosophies, and my reaction is to assume that they are useless for anything past toys and experiments.<p>I know useful language features have been born in that world and then eventually bolted onto mutt languages like Java and Python, but that suits me just fine.</div><br/></div></div><div id="39824207" class="c"><input type="checkbox" id="c-39824207" checked=""/><div class="controls bullet"><span class="by">nrdvana</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824115">parent</a><span>|</span><a href="#39824632">prev</a><span>|</span><a href="#39824588">next</a><span>|</span><label class="collapse" for="c-39824207">[-]</label><label class="expand" for="c-39824207">[3 more]</label></div><br/><div class="children"><div class="content">It would stay regular if there was a strict governing body for it that wasn&#x27;t a Webster-style &quot;whatever people are speaking is the new definition of correct&quot;.<p>English really is a disaster of a language.  There was a(nother) great XKCD about it just a few days ago. <a href="https:&#x2F;&#x2F;xkcd.com&#x2F;2907&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xkcd.com&#x2F;2907&#x2F;</a></div><br/><div id="39825320" class="c"><input type="checkbox" id="c-39825320" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824207">parent</a><span>|</span><a href="#39824733">next</a><span>|</span><label class="collapse" for="c-39825320">[-]</label><label class="expand" for="c-39825320">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  if there was a strict governing body for it that wasn&#x27;t a Webster-style &quot;whatever people are speaking is the new definition of correct&quot;.<p>There is no way it can work.<p>People don&#x27;t care about governing bodies when they speak a language.</div><br/></div></div><div id="39824733" class="c"><input type="checkbox" id="c-39824733" checked=""/><div class="controls bullet"><span class="by">Stranger43</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824207">parent</a><span>|</span><a href="#39825320">prev</a><span>|</span><a href="#39824588">next</a><span>|</span><label class="collapse" for="c-39824733">[-]</label><label class="expand" for="c-39824733">[1 more]</label></div><br/><div class="children"><div class="content">Correction it&#x27;s a disaster of at least 4 languages and this is probably why English is so hard to dethrone as it have no strict ownership so everyone is kind of equal in speaking it incorrectly.<p>Sometimes lack of rigidity is actually an feature that allows for things to sort of work that would be politically impossible if thinks had to be specified formally before being used.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="39824588" class="c"><input type="checkbox" id="c-39824588" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#39822753">parent</a><span>|</span><a href="#39823361">prev</a><span>|</span><a href="#39825519">next</a><span>|</span><label class="collapse" for="c-39824588">[-]</label><label class="expand" for="c-39824588">[1 more]</label></div><br/><div class="children"><div class="content">&gt; all these sources aren’t able to agree on some successful format.<p>But the same is true for csv, and they are not readable by everyone since you don&#x27;t always know how to read them, there is not enough info for that<p>Also it&#x27;s not a good reflection on &quot;deep experience&quot; if it leads to reflexive defense of common stupid things people do with wrong analogies (e.g, flac is less efficient, so more like csv)</div><br/></div></div><div id="39825519" class="c"><input type="checkbox" id="c-39825519" checked=""/><div class="controls bullet"><span class="by">iainmerrick</span><span>|</span><a href="#39822753">parent</a><span>|</span><a href="#39824588">prev</a><span>|</span><a href="#39825135">next</a><span>|</span><label class="collapse" for="c-39825519">[-]</label><label class="expand" for="c-39825519">[1 more]</label></div><br/><div class="children"><div class="content"><i>This article seems written by someone who never had to work with diverse data pipelines</i><p>I think that&#x27;s a little unfair, it sounds like the author does have a decent amount of experience working with real-world CSV files:<p><i>I remember spending hours trying to identify an issue that caused columns to &quot;shift&quot; around 80% into a 40GB CSV file, and let me tell you, that just isn&#x27;t fun.</i></div><br/></div></div><div id="39825135" class="c"><input type="checkbox" id="c-39825135" checked=""/><div class="controls bullet"><span class="by">likis</span><span>|</span><a href="#39822753">parent</a><span>|</span><a href="#39825519">prev</a><span>|</span><a href="#39824637">next</a><span>|</span><label class="collapse" for="c-39825135">[-]</label><label class="expand" for="c-39825135">[1 more]</label></div><br/><div class="children"><div class="content">Did you actually read the conclusion at the end of the article?<p>&quot;Of course, we can&#x27;t conclude that you should never export to CSV. If your users are just going to try to find the quickest way to turn your data into CSV anyway, there&#x27;s no reason why you shouldn&#x27;t deliver that. But it&#x27;s a super fragile file format to use for anything serious like data integration between systems, so stick with something that at the very least has a schema and is more efficient to work with.&quot;</div><br/></div></div><div id="39824637" class="c"><input type="checkbox" id="c-39824637" checked=""/><div class="controls bullet"><span class="by">lobochrome</span><span>|</span><a href="#39822753">parent</a><span>|</span><a href="#39825135">prev</a><span>|</span><a href="#39825057">next</a><span>|</span><label class="collapse" for="c-39824637">[-]</label><label class="expand" for="c-39824637">[1 more]</label></div><br/><div class="children"><div class="content">For me, the giveaway was:<p>&quot;You give up human readable files,...&quot;<p>I was genuinely interested in some alternative suggestions - but the human readableness of csv is what makes it so sticky imo.</div><br/></div></div><div id="39825057" class="c"><input type="checkbox" id="c-39825057" checked=""/><div class="controls bullet"><span class="by">tdudhhu</span><span>|</span><a href="#39822753">parent</a><span>|</span><a href="#39824637">prev</a><span>|</span><a href="#39823772">next</a><span>|</span><label class="collapse" for="c-39825057">[-]</label><label class="expand" for="c-39825057">[1 more]</label></div><br/><div class="children"><div class="content"><i>&quot;Of course there are better formats, but all these sources aren’t able to agree on some successful format.&quot;</i><p>It&#x27;s the same with csv. They come in all kinds of formats because nobody agreed on the standard. Comma separated, semicolon separated, pipe separated, escaped, not escaped.<p>Everytime I have to deal with csv I first have to figure out how to parse it in code.<p>So I think the author is right, we must agree on a better format because that is what friends do.<p>You are also right because it&#x27;s an illusion to think that this is going to change anythime soon. But who knows..</div><br/></div></div><div id="39823772" class="c"><input type="checkbox" id="c-39823772" checked=""/><div class="controls bullet"><span class="by">gxs</span><span>|</span><a href="#39822753">parent</a><span>|</span><a href="#39825057">prev</a><span>|</span><a href="#39823205">next</a><span>|</span><label class="collapse" for="c-39823772">[-]</label><label class="expand" for="c-39823772">[4 more]</label></div><br/><div class="children"><div class="content">Agree.<p>Not saying csv doesn’t have its issues, but I don’t think the author made a convincing argument.<p>A lot of the issues the author brought up didn’t sound that bad and&#x2F;or it sounds like he never looked at the source data first.<p>If you’re doing work with large datasets, I think it’s a good practice to at least go and look at the source data briefly to see what to expect.<p>This will give you a good idea of the format it outputs, data types, some domain context, etc. or some combination thereof  and I don’t think it even takes that long.<p>Also, it reminds me of the arguments against excel in a way. Most people know what a csv is, more or less how to open it, and don’t need too much context when discussing the file. Someone will quickly understand if you tell them the file isn’t delimited properly right away. These are pros that shouldn’t be taken for granted.<p>Again, I’m not saying csv doesnt have issues or that there aren’t better alternatives, simply that I didn’t find this particular argument convincing.</div><br/><div id="39824512" class="c"><input type="checkbox" id="c-39824512" checked=""/><div class="controls bullet"><span class="by">mrgoldenbrown</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823772">parent</a><span>|</span><a href="#39825169">next</a><span>|</span><label class="collapse" for="c-39824512">[-]</label><label class="expand" for="c-39824512">[2 more]</label></div><br/><div class="children"><div class="content">IME most people don&#x27;t know that using Excel to open and save a csv will silently mangle data.  In our application leading zeros are significant, so we constantly get screwed by people trying to do quick manual edits and breaking the data.  If we&#x27;re lucky it breaks so badly the import fails.  It&#x27;s worse when the mangling results in structurally valid but wrong data.</div><br/><div id="39824644" class="c"><input type="checkbox" id="c-39824644" checked=""/><div class="controls bullet"><span class="by">gxs</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824512">parent</a><span>|</span><a href="#39825169">next</a><span>|</span><label class="collapse" for="c-39824644">[-]</label><label class="expand" for="c-39824644">[1 more]</label></div><br/><div class="children"><div class="content">I think what you’re saying is accurate, but it’s also important to be practical about stuff.<p>These are pretty well know excel limitations by now.<p>And really, anyone using excel who is somehow not aware of that limitation is probably not someone yet experienced enough to be working on a larger and&#x2F;or mission critical dataset to begin with.<p>Are there exceptions? Sure. You might be tempted to cite the example of the incident where this happened to some biologists not too long ago, but mistakes happen. I’ve seen people make mistakes building android or iPhone using the right (TM) tools.<p>What is the exact number of mistakes where you make the decision to jump to a new format?<p>I’m not sure. This does happen eventually, but the author didn’t make a strong case here imo.</div><br/></div></div></div></div><div id="39825169" class="c"><input type="checkbox" id="c-39825169" checked=""/><div class="controls bullet"><span class="by">likis</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823772">parent</a><span>|</span><a href="#39824512">prev</a><span>|</span><a href="#39823205">next</a><span>|</span><label class="collapse" for="c-39825169">[-]</label><label class="expand" for="c-39825169">[1 more]</label></div><br/><div class="children"><div class="content">But the point is that you don&#x27;t have to look at the source data if you have an actual specification and defined format, right?</div><br/></div></div></div></div><div id="39823205" class="c"><input type="checkbox" id="c-39823205" checked=""/><div class="controls bullet"><span class="by">msla</span><span>|</span><a href="#39822753">parent</a><span>|</span><a href="#39823772">prev</a><span>|</span><a href="#39824261">next</a><span>|</span><label class="collapse" for="c-39823205">[-]</label><label class="expand" for="c-39823205">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Csv that’s zipped is producible and readable by everyone. And that makes is more efficient.<p>If only CSV were CSV, as opposed to some form that&#x27;s 80-90% CSV by line count with enough oddities to really make the parser ugly and hard to read.<p>See, the sweet spot isn&#x27;t something completely unstructured, because then you feel justified in throwing up (your hands) and declaring defeat. The sweet spot is a file that&#x27;s sufficiently close to being structured you can <i>almost</i> parse it nicely, but has enough bad lines you can&#x27;t go in and fix them all by hand in a reasonable timeframe, and you can&#x27;t tell upstream to get their shit in order because it&#x27;s only a few lines.</div><br/><div id="39823824" class="c"><input type="checkbox" id="c-39823824" checked=""/><div class="controls bullet"><span class="by">prepend</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823205">parent</a><span>|</span><a href="#39824261">next</a><span>|</span><label class="collapse" for="c-39823824">[-]</label><label class="expand" for="c-39823824">[2 more]</label></div><br/><div class="children"><div class="content">There’s definitely hair to deal with and it’s a little messy, but it’s never a blocker.<p>But I’d say the error rate is actually very low, maybe .1-1% and nowhere near 10-20% of data being messed up.</div><br/><div id="39824223" class="c"><input type="checkbox" id="c-39824223" checked=""/><div class="controls bullet"><span class="by">nrdvana</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39823824">parent</a><span>|</span><a href="#39824261">next</a><span>|</span><label class="collapse" for="c-39824223">[-]</label><label class="expand" for="c-39824223">[1 more]</label></div><br/><div class="children"><div class="content">Depends on your tools, I suppose.  I&#x27;d just like to share this:<p><a href="https:&#x2F;&#x2F;metacpan.org&#x2F;pod&#x2F;Data::TableReader::Decoder::IdiotCSV" rel="nofollow">https:&#x2F;&#x2F;metacpan.org&#x2F;pod&#x2F;Data::TableReader::Decoder::IdiotCS...</a></div><br/></div></div></div></div></div></div><div id="39824261" class="c"><input type="checkbox" id="c-39824261" checked=""/><div class="controls bullet"><span class="by">hackerlight</span><span>|</span><a href="#39822753">parent</a><span>|</span><a href="#39823205">prev</a><span>|</span><a href="#39822939">next</a><span>|</span><label class="collapse" for="c-39824261">[-]</label><label class="expand" for="c-39824261">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a premature optimization issue. If you don&#x27;t have special requirements like IO throughput, or mission critical data accuracy guarantees, be biased towards picking the format that anyone can easily open in a spreadsheet.</div><br/><div id="39824853" class="c"><input type="checkbox" id="c-39824853" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#39822753">root</a><span>|</span><a href="#39824261">parent</a><span>|</span><a href="#39822939">next</a><span>|</span><label class="collapse" for="c-39824853">[-]</label><label class="expand" for="c-39824853">[1 more]</label></div><br/><div class="children"><div class="content">You can open out easily, but just as easily it can be wrong. So with this bias you&#x27;d still not export csv, you&#x27;d use xls</div><br/></div></div></div></div><div id="39822939" class="c"><input type="checkbox" id="c-39822939" checked=""/><div class="controls bullet"><span class="by">gerdesj</span><span>|</span><a href="#39822753">parent</a><span>|</span><a href="#39824261">prev</a><span>|</span><a href="#39823946">next</a><span>|</span><label class="collapse" for="c-39822939">[-]</label><label class="expand" for="c-39822939">[1 more]</label></div><br/><div class="children"><div class="content">... And what&#x27;s more, you&#x27;ll be an Engineer my son.</div><br/></div></div></div></div><div id="39823946" class="c"><input type="checkbox" id="c-39823946" checked=""/><div class="controls bullet"><span class="by">rossdavidh</span><span>|</span><a href="#39822753">prev</a><span>|</span><a href="#39822920">next</a><span>|</span><label class="collapse" for="c-39823946">[-]</label><label class="expand" for="c-39823946">[6 more]</label></div><br/><div class="children"><div class="content">&quot;You give up human readable files, but what you gain in return is...&quot;
Stop right there.  You lose more than you gain.<p>Plus, taking the data out of [proprietary software app my client&#x27;s data is in] in csv is usually easy.  Taking the data out in Apache Parquet is...usually impossible, but if it is possible at all you&#x27;ll need to write the code for it.<p>Loading the data into [proprietary software app my client wants data put into] using a csv is usually already a feature it has.  If it doesn&#x27;t, I can manipulate csv to put it into their import format with any language&#x27;s basic tools.<p>And if it doesn&#x27;t work, I can look at the csv myself, because it&#x27;s human readable, to see what the problem is.<p>90% of real world coding is taking data from a source you don&#x27;t control, and somehow getting it to a destination you don&#x27;t control, possibly doing things with it along the way.  Your choices are usually csv, xlsx, json, or [shudder] xml.  Looking at the pros and cons of those is a reasonable discussion to have.</div><br/><div id="39824338" class="c"><input type="checkbox" id="c-39824338" checked=""/><div class="controls bullet"><span class="by">TimTheTinker</span><span>|</span><a href="#39823946">parent</a><span>|</span><a href="#39824573">next</a><span>|</span><label class="collapse" for="c-39824338">[-]</label><label class="expand" for="c-39824338">[2 more]</label></div><br/><div class="children"><div class="content">I think his arguments apply more closely to SQLite databases. They&#x27;re not directly human readable, but boy are there a lot of tools for working with them.</div><br/><div id="39825083" class="c"><input type="checkbox" id="c-39825083" checked=""/><div class="controls bullet"><span class="by">askvictor</span><span>|</span><a href="#39823946">root</a><span>|</span><a href="#39824338">parent</a><span>|</span><a href="#39824573">next</a><span>|</span><label class="collapse" for="c-39825083">[-]</label><label class="expand" for="c-39825083">[1 more]</label></div><br/><div class="children"><div class="content">We have a use case where we effectively need to have a relational database, but in git. The database doesn&#x27;t change much, but when it does, references between tables may need to be updated. But we need to easily be able to see diffs between different versions. We&#x27;re trying an SQLite DB, with exports to CSV as part of CI - the CSV files are human-readable and diff&#x27;able.<p>It&#x27;s also worth noting that SQLite can ingest CSV files into memory and perform queries on them directly - if the files are not too large, it&#x27;s possible to bypass the sqlite format entirely.</div><br/></div></div></div></div><div id="39824573" class="c"><input type="checkbox" id="c-39824573" checked=""/><div class="controls bullet"><span class="by">saulrh</span><span>|</span><a href="#39823946">parent</a><span>|</span><a href="#39824338">prev</a><span>|</span><a href="#39822920">next</a><span>|</span><label class="collapse" for="c-39824573">[-]</label><label class="expand" for="c-39824573">[3 more]</label></div><br/><div class="children"><div class="content">In my experience, human readable file formats are a mistake. As soon as people can read a single file they think that that&#x27;s the entire format and that it&#x27;s okay to write it by hand or write their own code for it. And when everyone writes code based on the just what they&#x27;ve personally seen about a format, everyone is sad. This is why not a single piece of software on earth uses the CSV RFC. This is why people hand you CSVs that don&#x27;t quote string fields with commas in them. This is why you find software that can&#x27;t handle non-comma delimiters. This is why you find software that assumes that any field made of digits is an integer and then crashes when it tries to do string operations on it. This is why you find software that can&#x27;t be used unless you change your computer&#x27;s locale because the front end understands locales and uses commas for numbers but the backend is running on a server and doesn&#x27;t know what locales are and now everything is broken. This has happened for every single &quot;human-readable&quot; format in existence: html, markdown, CSV, rtf, json, everything. I consider human readability to be a death knell for a format&#x27;s chances of broad, easy interoperability. There are certainly other things that can doom a format - parquet is almost too complex to implement and so only just barely works, for example - but I&#x27;ll take a sqlite database over a csv every single time.</div><br/><div id="39824851" class="c"><input type="checkbox" id="c-39824851" checked=""/><div class="controls bullet"><span class="by">asddubs</span><span>|</span><a href="#39823946">root</a><span>|</span><a href="#39824573">parent</a><span>|</span><a href="#39822920">next</a><span>|</span><label class="collapse" for="c-39824851">[-]</label><label class="expand" for="c-39824851">[2 more]</label></div><br/><div class="children"><div class="content">I think a takeaway could also be not to give people options when making a human-readable format. &quot;you always need quotes, they&#x27;re not optional&quot; solves the comma problem. &quot;the delimiter is always a comma&quot; solves the delimiter problem. json has also fared better than csv, I&#x27;d say.</div><br/><div id="39825003" class="c"><input type="checkbox" id="c-39825003" checked=""/><div class="controls bullet"><span class="by">emj</span><span>|</span><a href="#39823946">root</a><span>|</span><a href="#39824851">parent</a><span>|</span><a href="#39822920">next</a><span>|</span><label class="collapse" for="c-39825003">[-]</label><label class="expand" for="c-39825003">[1 more]</label></div><br/><div class="children"><div class="content">That makes the delimiter &quot;,&quot; which is ugly so someone is just going to use , instead and you are back to square one.</div><br/></div></div></div></div></div></div></div></div><div id="39822920" class="c"><input type="checkbox" id="c-39822920" checked=""/><div class="controls bullet"><span class="by">GuB-42</span><span>|</span><a href="#39823946">prev</a><span>|</span><a href="#39824928">next</a><span>|</span><label class="collapse" for="c-39822920">[-]</label><label class="expand" for="c-39822920">[18 more]</label></div><br/><div class="children"><div class="content">As a French, there is another problem with CSV.<p>In the French locale, the decimal point is the comma, so &quot;121.5&quot; is written &quot;121,5&quot;. It means, of course, that the comma can&#x27;t be used as a separator, so the semicolon is used instead.<p>It means that depending whether or not the tool that exports the CSV is localized or not, you get commas or you get semicolons. If you are lucky, the tool that imports it speaks the same language. If you are unlucky, it doesn&#x27;t, but you can still convert it. If you are really unlucky, then you get commas for both decimal numbers and separators, making the file completely unusable.<p>There is a CSV standard, RFC 4180, but no one seems to care.</div><br/><div id="39823017" class="c"><input type="checkbox" id="c-39823017" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#39822920">parent</a><span>|</span><a href="#39825451">next</a><span>|</span><label class="collapse" for="c-39823017">[-]</label><label class="expand" for="c-39823017">[3 more]</label></div><br/><div class="children"><div class="content">There are tools to convert between the formats. Either you have a defined data pipeline where you know what you get at each step and apply the necessary transformations. Or you get random files and, yes, have to inspect them and see how to convert them if necessary.<p>It’s unfortunate that there isn’t a single CSV format, but for historical reasons it is what it is. It’s effectively more like a family of formats that share the same file extension.<p>Excel actually has a convention where it understands when there is a line<p><pre><code>   sep=;
</code></pre>
at the start of the file.<p>By the way, in addition to differing separators, you can also get different character encodings.<p>Excel does understand a BOM to indicate UTF-8, but some versions of Excel unfortunately ignore it when the “sep=“ line is present…</div><br/><div id="39824329" class="c"><input type="checkbox" id="c-39824329" checked=""/><div class="controls bullet"><span class="by">al_borland</span><span>|</span><a href="#39822920">root</a><span>|</span><a href="#39823017">parent</a><span>|</span><a href="#39823441">next</a><span>|</span><label class="collapse" for="c-39824329">[-]</label><label class="expand" for="c-39824329">[1 more]</label></div><br/><div class="children"><div class="content">&gt;sep=;<p>Thank you! This is a game changer. As I was reading through these comments I was thinking how much better it would be if the separator could be specified in the file, but it would only be useful for my own stuff, if I was to do that on my own.<p>I’ll be trying this first thing tomorrow at work. I don’t do as much with CSVs as I used to, but am currently working with them a lot, and have a single entry that always throws the resulting Excel file off, and I can’t be bothered to figure out how to escape it (I spent too much time in the past messing with that and got nowhere). This sep= lines will hopefully solve my issues.</div><br/></div></div><div id="39823441" class="c"><input type="checkbox" id="c-39823441" checked=""/><div class="controls bullet"><span class="by">eyegor</span><span>|</span><a href="#39822920">root</a><span>|</span><a href="#39823017">parent</a><span>|</span><a href="#39824329">prev</a><span>|</span><a href="#39825451">next</a><span>|</span><label class="collapse" for="c-39823441">[-]</label><label class="expand" for="c-39823441">[1 more]</label></div><br/><div class="children"><div class="content">What kind of voodoo is this? I&#x27;ve always wanted something like this for non technical coworkers across countries but I didn&#x27;t know it existed. I always just exported TSV and provided steps for how to import it (although I think most excel versions have native tsv support).</div><br/></div></div></div></div><div id="39825451" class="c"><input type="checkbox" id="c-39825451" checked=""/><div class="controls bullet"><span class="by">stephenr</span><span>|</span><a href="#39822920">parent</a><span>|</span><a href="#39823017">prev</a><span>|</span><a href="#39822964">next</a><span>|</span><label class="collapse" for="c-39825451">[-]</label><label class="expand" for="c-39825451">[1 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t this <i>exactly</i> what quoting solves?<p>i.e.:
```
&quot;1,20&quot;,&quot;2,3&quot;,hello
&quot;2,40&quot;,&quot;4,6&quot;,goodbye
```<p>If your tool reads CSV by doing `string_split(&#x27;,&#x27;, line);`, your tool is doing it wrong. There&#x27;s a bunch of nuance and shit, which can make CSVs interesting to work with, but storing a comma in a field is a pretty solved issue if the tool in question has more than 5 minutes thought put into it.</div><br/></div></div><div id="39822964" class="c"><input type="checkbox" id="c-39822964" checked=""/><div class="controls bullet"><span class="by">Gabriel54</span><span>|</span><a href="#39822920">parent</a><span>|</span><a href="#39825451">prev</a><span>|</span><a href="#39824777">next</a><span>|</span><label class="collapse" for="c-39822964">[-]</label><label class="expand" for="c-39822964">[6 more]</label></div><br/><div class="children"><div class="content">If I&#x27;m not mistaken this is pretty universal outside of the US (and maybe the UK).</div><br/><div id="39823040" class="c"><input type="checkbox" id="c-39823040" checked=""/><div class="controls bullet"><span class="by">sfRattan</span><span>|</span><a href="#39822920">root</a><span>|</span><a href="#39822964">parent</a><span>|</span><a href="#39823006">next</a><span>|</span><label class="collapse" for="c-39823040">[-]</label><label class="expand" for="c-39823040">[4 more]</label></div><br/><div class="children"><div class="content">Going by the Wikipedia article and included map, use of comma versus period as decimal separators is roughly an even split:<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Decimal_separator" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Decimal_separator</a><p><a href="https:&#x2F;&#x2F;commons.wikimedia.org&#x2F;wiki&#x2F;File:DecimalSeparator.svg" rel="nofollow">https:&#x2F;&#x2F;commons.wikimedia.org&#x2F;wiki&#x2F;File:DecimalSeparator.svg</a></div><br/><div id="39823537" class="c"><input type="checkbox" id="c-39823537" checked=""/><div class="controls bullet"><span class="by">Larrikin</span><span>|</span><a href="#39822920">root</a><span>|</span><a href="#39823040">parent</a><span>|</span><a href="#39823518">next</a><span>|</span><label class="collapse" for="c-39823537">[-]</label><label class="expand" for="c-39823537">[1 more]</label></div><br/><div class="children"><div class="content">Seems geographically split, but I wonder what is the actual population split is. Most of the top 10 population countries use the decimal separator. Only Brazil, Russia and Indonesia don&#x27;t.<p>Maybe someone with a CSV of the world populations and a CSV of the countries broken down by their separator can do that comparison.</div><br/></div></div><div id="39823518" class="c"><input type="checkbox" id="c-39823518" checked=""/><div class="controls bullet"><span class="by">fshr</span><span>|</span><a href="#39822920">root</a><span>|</span><a href="#39823040">parent</a><span>|</span><a href="#39823537">prev</a><span>|</span><a href="#39823006">next</a><span>|</span><label class="collapse" for="c-39823518">[-]</label><label class="expand" for="c-39823518">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s definitely a big distribution disparity. 11 of the 15 most populous countries use the period for decimals.</div><br/><div id="39824384" class="c"><input type="checkbox" id="c-39824384" checked=""/><div class="controls bullet"><span class="by">micheljansen</span><span>|</span><a href="#39822920">root</a><span>|</span><a href="#39823518">parent</a><span>|</span><a href="#39823006">next</a><span>|</span><label class="collapse" for="c-39824384">[-]</label><label class="expand" for="c-39824384">[1 more]</label></div><br/><div class="children"><div class="content">Most of Europe is in the fat long tail though, as those countries are counted individually.</div><br/></div></div></div></div></div></div><div id="39823006" class="c"><input type="checkbox" id="c-39823006" checked=""/><div class="controls bullet"><span class="by">zztop44</span><span>|</span><a href="#39822920">root</a><span>|</span><a href="#39822964">parent</a><span>|</span><a href="#39823040">prev</a><span>|</span><a href="#39824777">next</a><span>|</span><label class="collapse" for="c-39823006">[-]</label><label class="expand" for="c-39823006">[1 more]</label></div><br/><div class="children"><div class="content">You are mistaken. Probably more countries overall use a decimal comma, but the decimal point is used as convention in many countries, including China, India, Nigeria and the Philippines.</div><br/></div></div></div></div><div id="39824777" class="c"><input type="checkbox" id="c-39824777" checked=""/><div class="controls bullet"><span class="by">echoangle</span><span>|</span><a href="#39822920">parent</a><span>|</span><a href="#39822964">prev</a><span>|</span><a href="#39823154">next</a><span>|</span><label class="collapse" for="c-39824777">[-]</label><label class="expand" for="c-39824777">[1 more]</label></div><br/><div class="children"><div class="content">Does any tool seriously localize CSVs?</div><br/></div></div><div id="39823154" class="c"><input type="checkbox" id="c-39823154" checked=""/><div class="controls bullet"><span class="by">gerdesj</span><span>|</span><a href="#39822920">parent</a><span>|</span><a href="#39824777">prev</a><span>|</span><a href="#39823219">next</a><span>|</span><label class="collapse" for="c-39823154">[-]</label><label class="expand" for="c-39823154">[2 more]</label></div><br/><div class="children"><div class="content">If only a totally separate data field separator character had been invented early on and been given its own key on the keyboard, coloured: &quot;only use for field delimiting&quot;.  You know as well as I do that it would have been co-opted into another rôle within weeks, probably as a currency indicator.<p>You should probably use PSV - Point Separated Variable!  Obviously we would need to adjust PSV to account for correct French word order (and actually use French correctly).  Britain and USA would use something called PVS2 instead as a data interchange format with France which involves variable @@@ symbols as delimiters, unless it is a Friday which is undefined.  The rest of the world would roll its eyes and use PSV with varying success.  A few years later France would announce VSP on the back page of Le Monde, enshrine its use in law (in Aquitaine, during the fifteenth century) but not actually release the standard for fifteen years.<p>The world is odd.  We have to work within an odd world.<p>Interestingly enough, you and I could look at a CSV encoded data set with commas as decimal separators and work out what is going on.  You&#x27;ll need a better parser!</div><br/><div id="39824708" class="c"><input type="checkbox" id="c-39824708" checked=""/><div class="controls bullet"><span class="by">lolive</span><span>|</span><a href="#39822920">root</a><span>|</span><a href="#39823154">parent</a><span>|</span><a href="#39823219">next</a><span>|</span><label class="collapse" for="c-39824708">[-]</label><label class="expand" for="c-39824708">[1 more]</label></div><br/><div class="children"><div class="content">Don’t look at the ASCII table, at entries 28 to 31.
You are not mentally ready for what you will find there.</div><br/></div></div></div></div><div id="39823219" class="c"><input type="checkbox" id="c-39823219" checked=""/><div class="controls bullet"><span class="by">msla</span><span>|</span><a href="#39822920">parent</a><span>|</span><a href="#39823154">prev</a><span>|</span><a href="#39824928">next</a><span>|</span><label class="collapse" for="c-39823219">[-]</label><label class="expand" for="c-39823219">[4 more]</label></div><br/><div class="children"><div class="content">&gt; In the French locale, the decimal point is the comma, so &quot;121.5&quot; is written &quot;121,5&quot;. It means, of course, that the comma can&#x27;t be used as a separator<p>Heh. Ah, HN. Always good for a laugh line.</div><br/><div id="39823679" class="c"><input type="checkbox" id="c-39823679" checked=""/><div class="controls bullet"><span class="by">samatman</span><span>|</span><a href="#39822920">root</a><span>|</span><a href="#39823219">parent</a><span>|</span><a href="#39824928">next</a><span>|</span><label class="collapse" for="c-39823679">[-]</label><label class="expand" for="c-39823679">[3 more]</label></div><br/><div class="children"><div class="content">Yeah, <i>hon hon hon</i> and all, but one of my (US) bank statements exports a CSV which uses commas in numbers in the US fashion, so $1,500 and the like.  Writing a custom CSV munger to intake that into ledger-csv was... fun, but then again, only had to do it once.</div><br/><div id="39825467" class="c"><input type="checkbox" id="c-39825467" checked=""/><div class="controls bullet"><span class="by">stephenr</span><span>|</span><a href="#39822920">root</a><span>|</span><a href="#39823679">parent</a><span>|</span><a href="#39824782">next</a><span>|</span><label class="collapse" for="c-39825467">[-]</label><label class="expand" for="c-39825467">[1 more]</label></div><br/><div class="children"><div class="content">Surely if they&#x27;re putting commas in values they were quoting the values though?</div><br/></div></div></div></div></div></div></div></div><div id="39824928" class="c"><input type="checkbox" id="c-39824928" checked=""/><div class="controls bullet"><span class="by">rkaveland</span><span>|</span><a href="#39822920">prev</a><span>|</span><a href="#39822927">next</a><span>|</span><label class="collapse" for="c-39824928">[-]</label><label class="expand" for="c-39824928">[1 more]</label></div><br/><div class="children"><div class="content">Author here. I see now that the title is too controversial, I should have toned that down. As I mention in the conclusion, if you&#x27;re giving parquet files to your user and all they want to know is how to turn it into Excel&#x2F;CSV, you should just give them Excel&#x2F;CSV. It is, after all, what end users often want. I&#x27;m going to edit the intro to make the same point there.<p>If you&#x27;re exporting files for machine consumption, please consider using something more robust than CSV.</div><br/></div></div><div id="39822927" class="c"><input type="checkbox" id="c-39822927" checked=""/><div class="controls bullet"><span class="by">breadwinner</span><span>|</span><a href="#39824928">prev</a><span>|</span><a href="#39814561">next</a><span>|</span><label class="collapse" for="c-39822927">[-]</label><label class="expand" for="c-39822927">[11 more]</label></div><br/><div class="children"><div class="content">The reason CSV is popular is because it is (1) super simple, and (2) the simplicity leads to ubiquity. It is extremely easy to add CSV export and import capability to a data tool, and that has come to mean that there are no data tools that don&#x27;t support CSV format.<p>Parquet is the opposite of simple. Even when good libraries are available (which it usually isn&#x27;t), it is painful to read a Parquet file. Try reading a Parquet file using Java and Apache Parquet lib, for example.<p>Avro is similar. Last I checked there are two Avro libs for C# and each has its own issues.<p>Until there is a simple format that has ubiquitous libs in every language, CSV will continue to be the best format despite the issues caused by under-specification. Google Protobuf is a lot closer than Parquet or Avro. But Protobuf is not a splitable format, which means it is not Big Data friendly, unlike Parquet, Avro and CSV.</div><br/><div id="39824803" class="c"><input type="checkbox" id="c-39824803" checked=""/><div class="controls bullet"><span class="by">Jensson</span><span>|</span><a href="#39822927">parent</a><span>|</span><a href="#39824226">next</a><span>|</span><label class="collapse" for="c-39824803">[-]</label><label class="expand" for="c-39824803">[2 more]</label></div><br/><div class="children"><div class="content">&gt; But Protobuf is not a splitable format, which means it is not Big Data friendly, unlike Parquet, Avro and CSV.<p>What, when I worked at Google concatenating protobuf strings was a common way to concatenate protobufs, they are absolutely splittable. People might not know it but there is a reason they are designed like they are, it is to handle big data as you say.<p>If you mean you can&#x27;t split a single protobuf, sure, but you don&#x27;t need to do that, it is like trying to split a single csv line, doesn&#x27;t mean csv isn&#x27;t splittable.<p>Edit: Maybe some of that tooling to work with protobufs are internal only or not a part of the external protobuf packages though.</div><br/><div id="39824903" class="c"><input type="checkbox" id="c-39824903" checked=""/><div class="controls bullet"><span class="by">mordae</span><span>|</span><a href="#39822927">root</a><span>|</span><a href="#39824803">parent</a><span>|</span><a href="#39824226">next</a><span>|</span><label class="collapse" for="c-39824903">[-]</label><label class="expand" for="c-39824903">[1 more]</label></div><br/><div class="children"><div class="content">&gt; designed like they are<p>I laughed. We don&#x27;t call somebody writing a poor varint serializer for in-house use, then discovering that it doesn&#x27;t handle negative numbers and floats that well so slapping a couple of hotfixes on top of it that make it necessary to have a protocol specification file, &quot;design&quot;.</div><br/></div></div></div></div><div id="39824226" class="c"><input type="checkbox" id="c-39824226" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#39822927">parent</a><span>|</span><a href="#39824803">prev</a><span>|</span><a href="#39823563">next</a><span>|</span><label class="collapse" for="c-39824226">[-]</label><label class="expand" for="c-39824226">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Parquet is the opposite of simple. Even when good libraries are available (which it usually isn&#x27;t), it is painful to read a Parquet file. Try reading a Parquet file using Java and Apache Parquet lib, for example.<p>I skimmed their docs a bit: <a href="https:&#x2F;&#x2F;parquet.apache.org&#x2F;docs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;parquet.apache.org&#x2F;docs&#x2F;</a><p>I would not look forward to implementing that.<p>It all seems rather complex, and even worse: not actually all that well described. I suppose all the information is <i>technically</i> there, but it&#x27;s really not a well-design well-written specification that&#x27;s easy to implement. The documentation seems like an afterthought.<p>This is probably why good libraries are rare.</div><br/><div id="39824393" class="c"><input type="checkbox" id="c-39824393" checked=""/><div class="controls bullet"><span class="by">munchler</span><span>|</span><a href="#39822927">root</a><span>|</span><a href="#39824226">parent</a><span>|</span><a href="#39823563">next</a><span>|</span><label class="collapse" for="c-39824393">[-]</label><label class="expand" for="c-39824393">[2 more]</label></div><br/><div class="children"><div class="content">Thanks for the link. I couldn&#x27;t even get past this part:<p>&gt; Apache Parquet is a columnar storage format available to any project in the Hadoop ecosystem<p>Nope and nope.</div><br/><div id="39824621" class="c"><input type="checkbox" id="c-39824621" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#39822927">root</a><span>|</span><a href="#39824393">parent</a><span>|</span><a href="#39823563">next</a><span>|</span><label class="collapse" for="c-39824621">[-]</label><label class="expand" for="c-39824621">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, it all seems very application specific. I mean, for starters columnar storage isn&#x27;t really appropriate for a lot of data. That&#x27;s perfectly fine! Nothing wrong with any of this. Just means it&#x27;s not a great candidate for a general application-agnostic data-exchange format.</div><br/></div></div></div></div></div></div><div id="39823563" class="c"><input type="checkbox" id="c-39823563" checked=""/><div class="controls bullet"><span class="by">kerkeslager</span><span>|</span><a href="#39822927">parent</a><span>|</span><a href="#39824226">prev</a><span>|</span><a href="#39823764">next</a><span>|</span><label class="collapse" for="c-39823563">[-]</label><label class="expand" for="c-39823563">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Google Protobuf is a lot closer than Parquet or Avro. But Protobuf is not a splitable format, which means it is not Big Data friendly, unlike Parquet, Avro and CSV.<p>Eh, I don&#x27;t think that&#x27;s the problem. If that was the problem, there are a zillion ways to chunk files; .tar is probably the most ubiquitous but there are others.<p>The bigger problem is that Protobuf is <i>way</i> harder to use. Part of the reason CSV is underspecified is it&#x27;s simple enough it feels, at first glance, like it doesn&#x27;t need specification. Protobuf has enough dark corners that I definitely don&#x27;t know all of it, despite having used it pretty extensively.<p>I think Unicode Separated Values (USV) is a much better alternative and as another poster mentioned, I hope it takes off.</div><br/></div></div><div id="39823764" class="c"><input type="checkbox" id="c-39823764" checked=""/><div class="controls bullet"><span class="by">neonsunset</span><span>|</span><a href="#39822927">parent</a><span>|</span><a href="#39823563">prev</a><span>|</span><a href="#39823239">next</a><span>|</span><label class="collapse" for="c-39823764">[-]</label><label class="expand" for="c-39823764">[1 more]</label></div><br/><div class="children"><div class="content">Avro is a terrible serialization format. Well, not necessarily the spec but all tooling around it is. It should never be picked over multitude of other, better options unless the company is, maybe, a Java shop.</div><br/></div></div><div id="39823239" class="c"><input type="checkbox" id="c-39823239" checked=""/><div class="controls bullet"><span class="by">msla</span><span>|</span><a href="#39822927">parent</a><span>|</span><a href="#39823764">prev</a><span>|</span><a href="#39823106">next</a><span>|</span><label class="collapse" for="c-39823239">[-]</label><label class="expand" for="c-39823239">[2 more]</label></div><br/><div class="children"><div class="content">&gt; there are no data tools that don&#x27;t support CSV format.<p>They support CSV but not your CSV.<p>For example, how does quoting work? <i>Does</i> quoting work?</div><br/><div id="39823445" class="c"><input type="checkbox" id="c-39823445" checked=""/><div class="controls bullet"><span class="by">rovr138</span><span>|</span><a href="#39822927">root</a><span>|</span><a href="#39823239">parent</a><span>|</span><a href="#39823106">next</a><span>|</span><label class="collapse" for="c-39823445">[-]</label><label class="expand" for="c-39823445">[1 more]</label></div><br/><div class="children"><div class="content">I was working with a vendor’s csv recently…<p>They had never had a customer do X on Y field, so they never quoted it nor added code to quote it if needed..<p>Of course, we did X in one entry. Took me too long to find that which obviously messed up everything after.</div><br/></div></div></div></div></div></div><div id="39814561" class="c"><input type="checkbox" id="c-39814561" checked=""/><div class="controls bullet"><span class="by">Closi</span><span>|</span><a href="#39822927">prev</a><span>|</span><a href="#39822623">next</a><span>|</span><label class="collapse" for="c-39814561">[-]</label><label class="expand" for="c-39814561">[10 more]</label></div><br/><div class="children"><div class="content">Of course if you only consider the disadvantages, something looks bad.<p>The advantages of CSV are pretty massive though - if you support CSV you support import and export into a massive variety of business tools, and there is probably some form of OOTB support.</div><br/><div id="39814740" class="c"><input type="checkbox" id="c-39814740" checked=""/><div class="controls bullet"><span class="by">anymouse123456</span><span>|</span><a href="#39814561">parent</a><span>|</span><a href="#39822805">next</a><span>|</span><label class="collapse" for="c-39814740">[-]</label><label class="expand" for="c-39814740">[6 more]</label></div><br/><div class="children"><div class="content">This is the biggest win IME.<p>You have a (usually) portable transport format that can get the information into and out of an enormous variety of tools that do not necessarily require a software engineer in the middle.<p>I&#x27;m also struggling with such a quick dismissal of human readable formats. It&#x27;s a huge feature.<p>What happens when there&#x27;s a problem with a single CSV file in some pipeline that&#x27;s been happily running fine for years? You can edit the thing and move on with your day. If the format isn&#x27;t human readable, now you may have to make and push a software update to handle it.<p>Of course, CSV is a terrible format that can be horribly painful. No argument there.<p>But despite the pain, it&#x27;s still far better than many alternatives. In many situations.</div><br/><div id="39822599" class="c"><input type="checkbox" id="c-39822599" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#39814561">root</a><span>|</span><a href="#39814740">parent</a><span>|</span><a href="#39822805">next</a><span>|</span><label class="collapse" for="c-39822599">[-]</label><label class="expand" for="c-39822599">[5 more]</label></div><br/><div class="children"><div class="content">In a POSIX shell, I actually prefer to use the bell character for IFS.<p><pre><code>  while IFS=&quot;$(printf \\a)&quot; read -r field1 field2...
  do ...
  done
</code></pre>
This works just as well as anything outside the range of printing characters.<p>Getting records that contain newlines would be a bit trickier.</div><br/><div id="39823375" class="c"><input type="checkbox" id="c-39823375" checked=""/><div class="controls bullet"><span class="by">quesera</span><span>|</span><a href="#39814561">root</a><span>|</span><a href="#39822599">parent</a><span>|</span><a href="#39822947">next</a><span>|</span><label class="collapse" for="c-39823375">[-]</label><label class="expand" for="c-39823375">[1 more]</label></div><br/><div class="children"><div class="content">Heaven help you if you cat the file in a shell, though!</div><br/></div></div><div id="39822947" class="c"><input type="checkbox" id="c-39822947" checked=""/><div class="controls bullet"><span class="by">BenjiWiebe</span><span>|</span><a href="#39814561">root</a><span>|</span><a href="#39822599">parent</a><span>|</span><a href="#39823375">prev</a><span>|</span><a href="#39822805">next</a><span>|</span><label class="collapse" for="c-39822947">[-]</label><label class="expand" for="c-39822947">[3 more]</label></div><br/><div class="children"><div class="content">I think IFS=$&#x27;\a&#x27; works too.</div><br/><div id="39823074" class="c"><input type="checkbox" id="c-39823074" checked=""/><div class="controls bullet"><span class="by">thristian</span><span>|</span><a href="#39814561">root</a><span>|</span><a href="#39822947">parent</a><span>|</span><a href="#39822805">next</a><span>|</span><label class="collapse" for="c-39823074">[-]</label><label class="expand" for="c-39823074">[2 more]</label></div><br/><div class="children"><div class="content">Only in bash and possibly other shells that extend the POSIX syntax, not in the basic POSIX standard.</div><br/><div id="39823986" class="c"><input type="checkbox" id="c-39823986" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#39814561">root</a><span>|</span><a href="#39823074">parent</a><span>|</span><a href="#39822805">next</a><span>|</span><label class="collapse" for="c-39823986">[-]</label><label class="expand" for="c-39823986">[1 more]</label></div><br/><div class="children"><div class="content">I seem to remember something about dash adding that functionality.<p>...I found it - the question is under review by the Austin group for inclusion in POSIX.<p><a href="https:&#x2F;&#x2F;austingroupbugs.net&#x2F;view.php?id=249" rel="nofollow">https:&#x2F;&#x2F;austingroupbugs.net&#x2F;view.php?id=249</a></div><br/></div></div></div></div></div></div></div></div></div></div><div id="39822805" class="c"><input type="checkbox" id="c-39822805" checked=""/><div class="controls bullet"><span class="by">PeterisP</span><span>|</span><a href="#39814561">parent</a><span>|</span><a href="#39814740">prev</a><span>|</span><a href="#39822638">next</a><span>|</span><label class="collapse" for="c-39822805">[-]</label><label class="expand" for="c-39822805">[2 more]</label></div><br/><div class="children"><div class="content">You can do tab-separated &quot;CSV&quot; and it&#x27;ll be much better, avoid the quoting and delimiter issues that somehow trip up something half the time, and pretty much all these tools have always supported that format as well.</div><br/><div id="39822991" class="c"><input type="checkbox" id="c-39822991" checked=""/><div class="controls bullet"><span class="by">wlesieutre</span><span>|</span><a href="#39814561">root</a><span>|</span><a href="#39822805">parent</a><span>|</span><a href="#39822638">next</a><span>|</span><label class="collapse" for="c-39822991">[-]</label><label class="expand" for="c-39822991">[1 more]</label></div><br/><div class="children"><div class="content">If only the ASCII 31 &quot;unit separator&quot; were well supported</div><br/></div></div></div></div><div id="39822638" class="c"><input type="checkbox" id="c-39822638" checked=""/><div class="controls bullet"><span class="by">nicbou</span><span>|</span><a href="#39814561">parent</a><span>|</span><a href="#39822805">prev</a><span>|</span><a href="#39822623">next</a><span>|</span><label class="collapse" for="c-39822638">[-]</label><label class="expand" for="c-39822638">[1 more]</label></div><br/><div class="children"><div class="content">I also like that Preview can display CSV</div><br/></div></div></div></div><div id="39822623" class="c"><input type="checkbox" id="c-39822623" checked=""/><div class="controls bullet"><span class="by">prepend</span><span>|</span><a href="#39814561">prev</a><span>|</span><a href="#39822720">next</a><span>|</span><label class="collapse" for="c-39822623">[-]</label><label class="expand" for="c-39822623">[7 more]</label></div><br/><div class="children"><div class="content">CSV is very durable. If I want it read in 20 years, csv is the way to go until it’s just too big to matter.<p>Of course there are better formats. But for many use cases friends encourage friends to export to CSV.</div><br/><div id="39822685" class="c"><input type="checkbox" id="c-39822685" checked=""/><div class="controls bullet"><span class="by">josephg</span><span>|</span><a href="#39822623">parent</a><span>|</span><a href="#39822720">next</a><span>|</span><label class="collapse" for="c-39822685">[-]</label><label class="expand" for="c-39822685">[6 more]</label></div><br/><div class="children"><div class="content">Eh. I much prefer to produce and consume line delimited JSON. (Or just raw JSON). Its easy to parse, self descriptive and doesn&#x27;t have any of CSV&#x27;s ambiguity around delimiters and escape characters.<p>Its a little harder to load into a spreadsheet, but in my experience, <i>way</i> easier to reliably parse in any programming language.</div><br/><div id="39823939" class="c"><input type="checkbox" id="c-39823939" checked=""/><div class="controls bullet"><span class="by">brian-bk</span><span>|</span><a href="#39822623">root</a><span>|</span><a href="#39822685">parent</a><span>|</span><a href="#39822698">next</a><span>|</span><label class="collapse" for="c-39823939">[-]</label><label class="expand" for="c-39823939">[2 more]</label></div><br/><div class="children"><div class="content">JSON(newline delimited or full file) is significantly larger than csv. With csv the field name is mentioned once in the header row. In JSON every single line repeats the field names. It adds up fast, and is more of a difference than between csv to parquet.</div><br/><div id="39824927" class="c"><input type="checkbox" id="c-39824927" checked=""/><div class="controls bullet"><span class="by">josephg</span><span>|</span><a href="#39822623">root</a><span>|</span><a href="#39823939">parent</a><span>|</span><a href="#39822698">next</a><span>|</span><label class="collapse" for="c-39824927">[-]</label><label class="expand" for="c-39824927">[1 more]</label></div><br/><div class="children"><div class="content">Compression will make the size overhead disappear instantly.<p>I do see your point - I know that its less efficient, and its not the best format if you&#x27;re handling it every day or using it for huge data sets. But for a quick and dirty handoff between programs its lovely. It takes ~5 lines to parse in just about any programming language. And you can do so without pulling in any extra dependencies.<p>Looking at the downvotes I can see that its a controversial choice. But I stand by it.</div><br/></div></div></div></div><div id="39822698" class="c"><input type="checkbox" id="c-39822698" checked=""/><div class="controls bullet"><span class="by">VHRanger</span><span>|</span><a href="#39822623">root</a><span>|</span><a href="#39822685">parent</a><span>|</span><a href="#39823939">prev</a><span>|</span><a href="#39822720">next</a><span>|</span><label class="collapse" for="c-39822698">[-]</label><label class="expand" for="c-39822698">[3 more]</label></div><br/><div class="children"><div class="content">If you send someone JSON there&#x27;s no guarantee the data is tabular, or even formatted, though</div><br/><div id="39822723" class="c"><input type="checkbox" id="c-39822723" checked=""/><div class="controls bullet"><span class="by">ravenstine</span><span>|</span><a href="#39822623">root</a><span>|</span><a href="#39822698">parent</a><span>|</span><a href="#39822720">next</a><span>|</span><label class="collapse" for="c-39822723">[-]</label><label class="expand" for="c-39822723">[2 more]</label></div><br/><div class="children"><div class="content">Better something that can be parsed than not parsable at all?</div><br/><div id="39823432" class="c"><input type="checkbox" id="c-39823432" checked=""/><div class="controls bullet"><span class="by">forgetfreeman</span><span>|</span><a href="#39822623">root</a><span>|</span><a href="#39822723">parent</a><span>|</span><a href="#39822720">next</a><span>|</span><label class="collapse" for="c-39823432">[-]</label><label class="expand" for="c-39823432">[1 more]</label></div><br/><div class="children"><div class="content">If you require parse logic to import even the most trivial data export you&#x27;ve failed at several tasks concurrently.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39822720" class="c"><input type="checkbox" id="c-39822720" checked=""/><div class="controls bullet"><span class="by">_trampeltier</span><span>|</span><a href="#39822623">prev</a><span>|</span><a href="#39814826">next</a><span>|</span><label class="collapse" for="c-39822720">[-]</label><label class="expand" for="c-39822720">[1 more]</label></div><br/><div class="children"><div class="content">CSV wins because its universal and very simple.
With an editor like Notepad++ and the CSV plugin, reformating, like change date format, is very easy and even with colored columns.</div><br/></div></div><div id="39814826" class="c"><input type="checkbox" id="c-39814826" checked=""/><div class="controls bullet"><span class="by">danirod</span><span>|</span><a href="#39822720">prev</a><span>|</span><a href="#39824747">next</a><span>|</span><label class="collapse" for="c-39814826">[-]</label><label class="expand" for="c-39814826">[3 more]</label></div><br/><div class="children"><div class="content">Friends don&#x27;t let friends export to CSV -- in the data science field.<p>But outside the data science field, my experience working on software programming these years is that it won&#x27;t matter how beautiful your backoffice dashboards and web apps are, many non-technical business users will demand at some point CSV import and&#x2F;or export capabilities, because it is easier for them to just dump all the data on a system into Excel&#x2F;Sheets to make reports, or to bulk edit the data via export-excel-import rather than dealing with the navigation model and maybe tens of browser tabs in your app.</div><br/><div id="39824546" class="c"><input type="checkbox" id="c-39824546" checked=""/><div class="controls bullet"><span class="by">mrgoldenbrown</span><span>|</span><a href="#39814826">parent</a><span>|</span><a href="#39822917">next</a><span>|</span><label class="collapse" for="c-39824546">[-]</label><label class="expand" for="c-39824546">[1 more]</label></div><br/><div class="children"><div class="content">But why the half measure of csv when it&#x27;s just as simple to use a library to export to an actual excel file (which is really just xml) , which will properly preserve your data and make the business users happy.</div><br/></div></div><div id="39822917" class="c"><input type="checkbox" id="c-39822917" checked=""/><div class="controls bullet"><span class="by">xupybd</span><span>|</span><a href="#39814826">parent</a><span>|</span><a href="#39824546">prev</a><span>|</span><a href="#39824747">next</a><span>|</span><label class="collapse" for="c-39822917">[-]</label><label class="expand" for="c-39822917">[1 more]</label></div><br/><div class="children"><div class="content">Exactly Excel is the UI they know. This trumps every technical argument you can come up with. People don&#x27;t want to throw out 20 years of experience with a tool to use your custom UI.</div><br/></div></div></div></div><div id="39824747" class="c"><input type="checkbox" id="c-39824747" checked=""/><div class="controls bullet"><span class="by">lolive</span><span>|</span><a href="#39814826">prev</a><span>|</span><a href="#39814517">next</a><span>|</span><label class="collapse" for="c-39824747">[-]</label><label class="expand" for="c-39824747">[1 more]</label></div><br/><div class="children"><div class="content">The reason why USV did not use the proper ASCII codes for field separator and record separator is a bit too pragmatic for me…<p><a href="https:&#x2F;&#x2F;github.com&#x2F;SixArm&#x2F;usv&#x2F;tree&#x2F;main&#x2F;doc&#x2F;faq#why-use-control-picture-characters-rather-than-the-control-characters-themselves">https:&#x2F;&#x2F;github.com&#x2F;SixArm&#x2F;usv&#x2F;tree&#x2F;main&#x2F;doc&#x2F;faq#why-use-cont...</a></div><br/></div></div><div id="39814517" class="c"><input type="checkbox" id="c-39814517" checked=""/><div class="controls bullet"><span class="by">rietta</span><span>|</span><a href="#39824747">prev</a><span>|</span><a href="#39823395">next</a><span>|</span><label class="collapse" for="c-39814517">[-]</label><label class="expand" for="c-39814517">[45 more]</label></div><br/><div class="children"><div class="content">Or export to CSV correctly and test with Excel and&#x2F;or LibreOffice. Honestly CSV is a very simple, well defined format, that is decades old and is “obvious”. I’ve had far more trouble with various export to excel functions over the years, that have much more complex third-party dependencies to function. Parsing CSV correctly is not hard, you just can’t use split and be done with it. This has been my coding kata in every programming language I’ve touched since I was a teenager learning to code.</div><br/><div id="39814627" class="c"><input type="checkbox" id="c-39814627" checked=""/><div class="controls bullet"><span class="by">barrkel</span><span>|</span><a href="#39814517">parent</a><span>|</span><a href="#39814581">next</a><span>|</span><label class="collapse" for="c-39814627">[-]</label><label class="expand" for="c-39814627">[17 more]</label></div><br/><div class="children"><div class="content">CSV is not well-defined. Data in the wild doesn&#x27;t even agree that it&#x27;s comma separated.<p>String encoding? Dates? Formatted numbers? Booleans (T&#x2F;F&#x2F;Y&#x2F;N&#x2F;etc)? Nested quotes? Nested CSV!?<p>How about intermediate systems that muck things up. String encoding going through a pipeline with a misconfiguration in the middle. Data with US dates pasted into UK Excel and converted back into CSV, so that the data is a mix of m&#x2F;d&#x2F;yy and d&#x2F;m&#x2F;yy depending on the magnitude of the numbers. Hand-munging of data in Excel generally, so that sometimes the data is misaligned WRT rows and columns.<p>I&#x27;ve seen things in CSV. I once wrote an expression language to help configure custom CSV import pipelines, because you&#x27;d need to iterate a predicate over the data to figure out which columns are which (the misalignment problem above).</div><br/><div id="39815101" class="c"><input type="checkbox" id="c-39815101" checked=""/><div class="controls bullet"><span class="by">Eddy_Viscosity2</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814627">parent</a><span>|</span><a href="#39824162">next</a><span>|</span><label class="collapse" for="c-39815101">[-]</label><label class="expand" for="c-39815101">[4 more]</label></div><br/><div class="children"><div class="content">If the use-case has these complexities, then other formats may be better. I&#x27;ll go out on a limb and say that MOST data export to csv are simple column data where it works just fine - at least that&#x27;s been my experience.</div><br/><div id="39815469" class="c"><input type="checkbox" id="c-39815469" checked=""/><div class="controls bullet"><span class="by">aragilar</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39815101">parent</a><span>|</span><a href="#39824162">next</a><span>|</span><label class="collapse" for="c-39815469">[-]</label><label class="expand" for="c-39815469">[3 more]</label></div><br/><div class="children"><div class="content">The problem is is that it is simple until it&#x27;s not, then you have problems. You need to validate immediately after export, and work out what happens when that fails.</div><br/><div id="39815630" class="c"><input type="checkbox" id="c-39815630" checked=""/><div class="controls bullet"><span class="by">Eddy_Viscosity2</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39815469">parent</a><span>|</span><a href="#39824162">next</a><span>|</span><label class="collapse" for="c-39815630">[-]</label><label class="expand" for="c-39815630">[2 more]</label></div><br/><div class="children"><div class="content">I agree about validating after export, which is a good practice. But if you know your use-case to be csv-friendly, then its a nice simple long-standing almost universal format. Lots of pros with that. Using a more complex format for simple data may (or may not) save you issues with a rare edge case but could cost you in other areas. Like a non-technical manager having no idea how to look at.</div><br/><div id="39824957" class="c"><input type="checkbox" id="c-39824957" checked=""/><div class="controls bullet"><span class="by">aragilar</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39815630">parent</a><span>|</span><a href="#39824162">next</a><span>|</span><label class="collapse" for="c-39824957">[-]</label><label class="expand" for="c-39824957">[1 more]</label></div><br/><div class="children"><div class="content">CSV is fine if you control both ends (in which case it&#x27;s worth asking why not use something else, but CSV is a totally valid choice). The problem is typically you don&#x27;t, and what you expected to be simple ends up with lots of hacks until you realise that you want a more defined format (what that is depends on your field), which would have been easier to do if CSV wasn&#x27;t there already.</div><br/></div></div></div></div></div></div></div></div><div id="39824162" class="c"><input type="checkbox" id="c-39824162" checked=""/><div class="controls bullet"><span class="by">croes</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814627">parent</a><span>|</span><a href="#39815101">prev</a><span>|</span><a href="#39814695">next</a><span>|</span><label class="collapse" for="c-39824162">[-]</label><label class="expand" for="c-39824162">[1 more]</label></div><br/><div class="children"><div class="content">Seems more like a problem of the exporting and importing software and not the format.<p>CSV gives you the freedom of choice how to write the data.<p>You need the french data format? You can write the french date format. You need # as separator? You can use # as separator.<p>Sure you can&#x27;t read any file without knowing it&#x27;s specification but that&#x27;s not the usecase of CSV.<p>CSV is for data transfer between systems which know each other.</div><br/></div></div><div id="39814695" class="c"><input type="checkbox" id="c-39814695" checked=""/><div class="controls bullet"><span class="by">barrkel</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814627">parent</a><span>|</span><a href="#39824162">prev</a><span>|</span><a href="#39814966">next</a><span>|</span><label class="collapse" for="c-39814695">[-]</label><label class="expand" for="c-39814695">[1 more]</label></div><br/><div class="children"><div class="content">On the topic of nested CSV, three approaches:<p>- treat it as a join, and unroll by duplicating non-nested CSV data in separate rows for every element in the nested CSV<p>- treat it as a projection, have an extraction operator to project the cells you want<p>- treat it as text substitution problem; I&#x27;ve seen CSV files where every line of CSV was quoted like it was a single cell in a larger CSV row<p>You get nested CSV because upstream systems are often master&#x2F;detail or XML but need to use CSV because everybody understands CSV because it&#x27;s such a simple file format. Good stuff.</div><br/></div></div><div id="39814966" class="c"><input type="checkbox" id="c-39814966" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814627">parent</a><span>|</span><a href="#39814695">prev</a><span>|</span><a href="#39814653">next</a><span>|</span><label class="collapse" for="c-39814966">[-]</label><label class="expand" for="c-39814966">[1 more]</label></div><br/><div class="children"><div class="content">Intermediate systems like Excel will break anything, they aren’t constrained to CSV. Excel screws up at the level of a cell value, not at the file format.</div><br/></div></div><div id="39814653" class="c"><input type="checkbox" id="c-39814653" checked=""/><div class="controls bullet"><span class="by">joncrocks</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814627">parent</a><span>|</span><a href="#39814966">prev</a><span>|</span><a href="#39822646">next</a><span>|</span><label class="collapse" for="c-39814653">[-]</label><label class="expand" for="c-39814653">[1 more]</label></div><br/><div class="children"><div class="content">Indeed. It&#x27;s like &#x27;text file&#x27; - there are many ways to encode and decode these.<p>Add another munging the to list, ids that &#x27;look like numbers&#x27; e.g. `0002345` will get converted to `2,345`. Better be sure to pre-pend &#x27; i.e. `&#x27;0002345`</div><br/></div></div><div id="39822646" class="c"><input type="checkbox" id="c-39822646" checked=""/><div class="controls bullet"><span class="by">gregw2</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814627">parent</a><span>|</span><a href="#39814653">prev</a><span>|</span><a href="#39814829">next</a><span>|</span><label class="collapse" for="c-39822646">[-]</label><label class="expand" for="c-39822646">[1 more]</label></div><br/><div class="children"><div class="content">And “do you have a header row”? And null&#x2F;nil&#x2F;nul&#x2F;blank specification&#x2F;expectation?</div><br/></div></div><div id="39814715" class="c"><input type="checkbox" id="c-39814715" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814627">parent</a><span>|</span><a href="#39814829">prev</a><span>|</span><a href="#39814581">next</a><span>|</span><label class="collapse" for="c-39814715">[-]</label><label class="expand" for="c-39814715">[6 more]</label></div><br/><div class="children"><div class="content">Yeah but we&#x27;re not in the dark ages of computers anymore. Export to Sqlite database instead.</div><br/><div id="39814729" class="c"><input type="checkbox" id="c-39814729" checked=""/><div class="controls bullet"><span class="by">barrkel</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814715">parent</a><span>|</span><a href="#39814581">next</a><span>|</span><label class="collapse" for="c-39814729">[-]</label><label class="expand" for="c-39814729">[5 more]</label></div><br/><div class="children"><div class="content">Sure, you tell the finance industry that. They have systems, the systems already produce CSV. They can sign a contract worth multiples of your salary if you can consume it. Do you want the money or not?</div><br/><div id="39816188" class="c"><input type="checkbox" id="c-39816188" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814729">parent</a><span>|</span><a href="#39814581">next</a><span>|</span><label class="collapse" for="c-39816188">[-]</label><label class="expand" for="c-39816188">[4 more]</label></div><br/><div class="children"><div class="content">In case it wasn&#x27;t clear, I want software engineers in the finance industry to implement sqlite import and export in their various pieces of software, not too give up on lucrative, existing contracts, obviously.</div><br/><div id="39822595" class="c"><input type="checkbox" id="c-39822595" checked=""/><div class="controls bullet"><span class="by">rgmerk</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39816188">parent</a><span>|</span><a href="#39823068">next</a><span>|</span><label class="collapse" for="c-39822595">[-]</label><label class="expand" for="c-39822595">[2 more]</label></div><br/><div class="children"><div class="content">The inertia around CSV in the finance industry is incredibly strong, and let’s just say some of the biggest industry players aren’t exactly reknowned for their cutting-edge practices when it comes to data interchange formats.</div><br/><div id="39824418" class="c"><input type="checkbox" id="c-39824418" checked=""/><div class="controls bullet"><span class="by">throwaway2037</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39822595">parent</a><span>|</span><a href="#39823068">next</a><span>|</span><label class="collapse" for="c-39824418">[-]</label><label class="expand" for="c-39824418">[1 more]</label></div><br/><div class="children"><div class="content">For interchange between banks, XML is also very common, because it is usually accompanied with a schema doc.</div><br/></div></div></div></div><div id="39823068" class="c"><input type="checkbox" id="c-39823068" checked=""/><div class="controls bullet"><span class="by">pixl97</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39816188">parent</a><span>|</span><a href="#39822595">prev</a><span>|</span><a href="#39814581">next</a><span>|</span><label class="collapse" for="c-39823068">[-]</label><label class="expand" for="c-39823068">[1 more]</label></div><br/><div class="children"><div class="content">The person in the fintec industry rarely decies &quot;oh, I&#x27;m going to add this format no one is asking for&quot;. They&#x27;ll get a specification requiring csv and start implementing it. Get fired halfway though, then someone on the other side of the planet will implement it incorrectly. The first 3 revisions won&#x27;t meet the customers needs, but the customer can&#x27;t move away anyway.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39814581" class="c"><input type="checkbox" id="c-39814581" checked=""/><div class="controls bullet"><span class="by">Macha</span><span>|</span><a href="#39814517">parent</a><span>|</span><a href="#39814627">prev</a><span>|</span><a href="#39816942">next</a><span>|</span><label class="collapse" for="c-39814581">[-]</label><label class="expand" for="c-39814581">[9 more]</label></div><br/><div class="children"><div class="content">&gt; Parsing CSV correctly is not hard, you just can’t use split and be done with it.<p>Parsing RFC-compliant CSVs and telling clients to go away with non-compliant CSVs is not hard.<p>Parsing real world CSVs reliably is simply impossible. The best you can do is heuristics.<p>How do you interpret this row of CSV data?<p>1,5,The quotation mark &quot;&quot; is used...,2021-1-1<p>What is the third column? The RFC says that it should just be literally<p>&gt; The quotation mark &quot;&quot; is used...<p>But the reality is that some producers of CSVs, which you will be expected to support, will just blindly apply double quote escaping, and expect you to read:<p>The quotation mark &quot; is used...<p>Or maybe you find a CSV producer in the wild (let&#x27;s say... Spark: <a href="https:&#x2F;&#x2F;spark.apache.org&#x2F;docs&#x2F;latest&#x2F;sql-data-sources-csv.html" rel="nofollow">https:&#x2F;&#x2F;spark.apache.org&#x2F;docs&#x2F;latest&#x2F;sql-data-sources-csv.ht...</a>) that uses backslash escaping instead.</div><br/><div id="39815018" class="c"><input type="checkbox" id="c-39815018" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814581">parent</a><span>|</span><a href="#39814642">next</a><span>|</span><label class="collapse" for="c-39815018">[-]</label><label class="expand" for="c-39815018">[3 more]</label></div><br/><div class="children"><div class="content">The RFC 4180 says:<p><i>5. Each field may or may not be enclosed in double quotes (however some programs, such as Microsoft Excel, do not use double quotes at all). If fields are not enclosed with double quotes, then double quotes may not appear inside the fields.</i></div><br/><div id="39815052" class="c"><input type="checkbox" id="c-39815052" checked=""/><div class="controls bullet"><span class="by">Macha</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39815018">parent</a><span>|</span><a href="#39824574">next</a><span>|</span><label class="collapse" for="c-39815052">[-]</label><label class="expand" for="c-39815052">[1 more]</label></div><br/><div class="children"><div class="content">The point is your clients and partner firms don&#x27;t actually care what RFC 4180 says, they just expect you to deal with whatever their CSV library spits out.</div><br/></div></div><div id="39824574" class="c"><input type="checkbox" id="c-39824574" checked=""/><div class="controls bullet"><span class="by">mrgoldenbrown</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39815018">parent</a><span>|</span><a href="#39815052">prev</a><span>|</span><a href="#39814642">next</a><span>|</span><label class="collapse" for="c-39824574">[-]</label><label class="expand" for="c-39824574">[1 more]</label></div><br/><div class="children"><div class="content">4180 is just one of many CSV variants.  You can&#x27;t simply examine a CSV and determine for sure which flavor of file you were given, you can only guess.</div><br/></div></div></div></div><div id="39814642" class="c"><input type="checkbox" id="c-39814642" checked=""/><div class="controls bullet"><span class="by">yetihehe</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814581">parent</a><span>|</span><a href="#39815018">prev</a><span>|</span><a href="#39814806">next</a><span>|</span><label class="collapse" for="c-39814642">[-]</label><label class="expand" for="c-39814642">[3 more]</label></div><br/><div class="children"><div class="content">For added fun, last column should be 1-2-2021.</div><br/><div id="39824997" class="c"><input type="checkbox" id="c-39824997" checked=""/><div class="controls bullet"><span class="by">pezezin</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814642">parent</a><span>|</span><a href="#39822864">next</a><span>|</span><label class="collapse" for="c-39824997">[-]</label><label class="expand" for="c-39824997">[1 more]</label></div><br/><div class="children"><div class="content">At least in that case you know that the last part is the year. It is much funnier when you encounter something like 3-4-17 and you don&#x27;t know if it is d&#x2F;m&#x2F;y, m&#x2F;d&#x2F;y, or y&#x2F;m&#x2F;d.</div><br/></div></div><div id="39822864" class="c"><input type="checkbox" id="c-39822864" checked=""/><div class="controls bullet"><span class="by">martinflack</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814642">parent</a><span>|</span><a href="#39824997">prev</a><span>|</span><a href="#39814806">next</a><span>|</span><label class="collapse" for="c-39822864">[-]</label><label class="expand" for="c-39822864">[1 more]</label></div><br/><div class="children"><div class="content">Oh that&#x27;s easy, it&#x27;s Janreburary Firscond 2021.</div><br/></div></div></div></div><div id="39814733" class="c"><input type="checkbox" id="c-39814733" checked=""/><div class="controls bullet"><span class="by">rietta</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814581">parent</a><span>|</span><a href="#39814806">prev</a><span>|</span><a href="#39816942">next</a><span>|</span><label class="collapse" for="c-39814733">[-]</label><label class="expand" for="c-39814733">[1 more]</label></div><br/><div class="children"><div class="content">The deliminator is a setting that can be changed. I never said hard code. This is an interesting exercise to give students, but I am struggling to look back in my mind through the last 25 years of line of business application development where any of this was intractable. My approach has been to leverage objects. I have a base class for a CsvWriter and CsvReader that does RFC compliant work. I get the business stake holders to provide samples of files they need to import or export. I look at those with my eyes and make sub-classes as needed.<p>And data type influencing is a fun side project. I worked for a while on a fully generic CSV to SQL converter. Basically you end up with regex matches for different formats and you keep a running tally of errors encountered and then do a best fit for the column. Using a single CSV file is consistent with itself for weird formatting induced by whatever process the other side used. It actually worked really well, even on multi gigabyte CSV files from medical companies that one of my clients had to analyze with a standard set of SQL reports.</div><br/></div></div></div></div><div id="39816942" class="c"><input type="checkbox" id="c-39816942" checked=""/><div class="controls bullet"><span class="by">rietta</span><span>|</span><a href="#39814517">parent</a><span>|</span><a href="#39814581">prev</a><span>|</span><a href="#39814565">next</a><span>|</span><label class="collapse" for="c-39816942">[-]</label><label class="expand" for="c-39816942">[1 more]</label></div><br/><div class="children"><div class="content">Y&#x27;all caught me being less than rigorous in my language while posting from my phone while in the middle of making breakfast for the kids and the wife to get out the door. To the &quot;not well defined&quot; aspect, I disagree in part. There is an RFC for CSV and that is defined. Now the conflated part is the use of CSV as an interchange format between various systems and locales. The complexity of data exchange, in my mind, is not the fault of the simple CSV format. Nor is it the fault of the format that third party systems have decided to not implement it as it is defined. That is a different challenge.<p>Data exchange via CSV becomes a multiple party negotiation between software (sometimes the other side is &quot;set in stone&quot; such as a third party commercial system or Excel that is entrenched), users, and users&#x27; local configuration. However, while not well defined none of these are intractable from a software engineering point of view. And if your system is valuable enough and needs to ingest data from enough places it is NOT intractable to build auto detection capabilities for all the edge cases. I have done it. Is it sometimes a challenge, yes. Do project managers love it when you give 8 point estimates for what seems like it should be a simple thing, no. That is why the coding kata RFC compliance solution as a base first makes the most sense and then you troubleshoot as bug reports come in about data problems with various files.<p>If you are writing a commercial, enterprise solution that needs to get it right on its own every time, then that becomes a much bigger project.<p>But do you know what is impossible, getting the entire universe of other systems that your customers are using to support some new interchange format. Sorry, that system is no longer under active development. No one is around to make code changes. That is not compatible with the internal tools. For better or worse, CSV is the lingua franca of columns of data. As developers, we deal with it.<p>And yes, do support Excel XLSX format if you can. There are multiple third party libraries to do this in various languages of various quality.<p>As a developer, I have made a lot of my living dealing with this stuff. It can be a fun challenge, frustrating at time, but in the end as professionals we solve what we need to to get the job done.</div><br/></div></div><div id="39814565" class="c"><input type="checkbox" id="c-39814565" checked=""/><div class="controls bullet"><span class="by">VMG</span><span>|</span><a href="#39814517">parent</a><span>|</span><a href="#39816942">prev</a><span>|</span><a href="#39814560">next</a><span>|</span><label class="collapse" for="c-39814565">[-]</label><label class="expand" for="c-39814565">[2 more]</label></div><br/><div class="children"><div class="content">FTA:<p>* What does missing data look like? The empty string, NaN, 0, 1&#x2F;1-1970, null, nil, NULL, \0?<p>* What date format will you need to parse? What does 5&#x2F;5&#x2F;12 mean?<p>* How multiline data has been written? Does it use quotation marks, properly escape those inside multiline strings, or maybe it just expects you to count the delimiter and by the way can delimiters occur inside bare strings?<p>And let me add my own question here:<p>what is the actual delimiter? Do you support `,`, `;` and `\t`?</div><br/><div id="39814670" class="c"><input type="checkbox" id="c-39814670" checked=""/><div class="controls bullet"><span class="by">fredguth</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814565">parent</a><span>|</span><a href="#39814560">next</a><span>|</span><label class="collapse" for="c-39814670">[-]</label><label class="expand" for="c-39814670">[1 more]</label></div><br/><div class="children"><div class="content">What is the encoding of the text file? UTF8, windows-1252?<p>What is the decimal delimiter “.”, “,”?<p>Most csv users don’t even know they have to be aware of all of these differences.</div><br/></div></div></div></div><div id="39814560" class="c"><input type="checkbox" id="c-39814560" checked=""/><div class="controls bullet"><span class="by">dtech</span><span>|</span><a href="#39814517">parent</a><span>|</span><a href="#39814565">prev</a><span>|</span><a href="#39814872">next</a><span>|</span><label class="collapse" for="c-39814560">[-]</label><label class="expand" for="c-39814560">[5 more]</label></div><br/><div class="children"><div class="content">Unfortunately that is only the case as long as you stay within the US. for non-US users Excel has pretty annoying defaults, such as defaulting to ; instead of , as a separator for &quot;CSV&quot;, or trouble because other languages and Excel instances use , instead of . for decimal separators.<p>A nice alternative I&#x27;ve used often is to constructor an excel table and then giving is an .xls extension, which Excel happily accepts and has requires much less user explanation than telling individual users how to get Excel to correctly parse a CSV.</div><br/><div id="39814965" class="c"><input type="checkbox" id="c-39814965" checked=""/><div class="controls bullet"><span class="by">rietta</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814560">parent</a><span>|</span><a href="#39814678">next</a><span>|</span><label class="collapse" for="c-39814965">[-]</label><label class="expand" for="c-39814965">[3 more]</label></div><br/><div class="children"><div class="content">Localization is a thing. None of this is a show stopper. Subclasses and configuration screen for import and export.</div><br/><div id="39815068" class="c"><input type="checkbox" id="c-39815068" checked=""/><div class="controls bullet"><span class="by">Macha</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814965">parent</a><span>|</span><a href="#39814678">next</a><span>|</span><label class="collapse" for="c-39815068">[-]</label><label class="expand" for="c-39815068">[2 more]</label></div><br/><div class="children"><div class="content">And then you get a business analyst at your client going &quot;I just hit export in our internal tool, what&#x27;s this delimiter that you&#x27;re asking me about in the upload form? Google Sheets doesn&#x27;t ask me to tell them that&quot;</div><br/><div id="39822670" class="c"><input type="checkbox" id="c-39822670" checked=""/><div class="controls bullet"><span class="by">prepend</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39815068">parent</a><span>|</span><a href="#39814678">next</a><span>|</span><label class="collapse" for="c-39822670">[-]</label><label class="expand" for="c-39822670">[1 more]</label></div><br/><div class="children"><div class="content">And how do you fix the “some analyst” problem? Is there a better format that reduces this problem?</div><br/></div></div></div></div></div></div><div id="39814678" class="c"><input type="checkbox" id="c-39814678" checked=""/><div class="controls bullet"><span class="by">rrr_oh_man</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814560">parent</a><span>|</span><a href="#39814965">prev</a><span>|</span><a href="#39814872">next</a><span>|</span><label class="collapse" for="c-39814678">[-]</label><label class="expand" for="c-39814678">[1 more]</label></div><br/><div class="children"><div class="content"><i>&gt; Unfortunately, that is only the case as long as you stay outside the US. For US users Excel has pretty annoying defaults, such as defaulting to , instead of ; as a separator for &quot;CSV&quot;, or trouble because US instances of Excel use . instead of , for decimal separators.</i></div><br/></div></div></div></div><div id="39814872" class="c"><input type="checkbox" id="c-39814872" checked=""/><div class="controls bullet"><span class="by">frizlab</span><span>|</span><a href="#39814517">parent</a><span>|</span><a href="#39814560">prev</a><span>|</span><a href="#39822800">next</a><span>|</span><label class="collapse" for="c-39814872">[-]</label><label class="expand" for="c-39814872">[1 more]</label></div><br/><div class="children"><div class="content">Excel will literally use a different value separator depending on the locale of the machine (if the decimal separator for numbers is a comma and not a dot, it’ll use a semicolon as a value separator instead of a comma).</div><br/></div></div><div id="39822800" class="c"><input type="checkbox" id="c-39822800" checked=""/><div class="controls bullet"><span class="by">mr_toad</span><span>|</span><a href="#39814517">parent</a><span>|</span><a href="#39814872">prev</a><span>|</span><a href="#39814694">next</a><span>|</span><label class="collapse" for="c-39822800">[-]</label><label class="expand" for="c-39822800">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Parsing CSV correctly is not hard<p>Parsing the CSV you have in front of you is not hard (usually).  Writing a parser that will work for all forms of CSV you might encounter is significantly harder.</div><br/></div></div><div id="39814694" class="c"><input type="checkbox" id="c-39814694" checked=""/><div class="controls bullet"><span class="by">cm2187</span><span>|</span><a href="#39814517">parent</a><span>|</span><a href="#39822800">prev</a><span>|</span><a href="#39816281">next</a><span>|</span><label class="collapse" for="c-39814694">[-]</label><label class="expand" for="c-39814694">[2 more]</label></div><br/><div class="children"><div class="content">One example that will kill loading a csv in excel beyond the usual dates problem. If you open in excel a csv file that has some large id stored as int64, they will be converted to an excel number (I suspect a double) and rounded. Also if you have a text column but where some of the codes are numeric with leading zeros, the leading zeros will be lost. And NULL is treated as the string &quot;NULL&quot;.<p>I am aware you can import a csv file in excel by manually defining the column types but few people use that.<p>I&#x27;d be fine with an extension of the csv format with one extra top row to define the type of each column.</div><br/><div id="39814850" class="c"><input type="checkbox" id="c-39814850" checked=""/><div class="controls bullet"><span class="by">JumpCrisscross</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39814694">parent</a><span>|</span><a href="#39816281">next</a><span>|</span><label class="collapse" for="c-39814850">[-]</label><label class="expand" for="c-39814850">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>aware you can import a csv file in excel by manually defining the column types but few people use that</i><p>And what fraction of those users would be able to anything with another format?<p>&gt; <i>an extension of the csv format with one extra top row to define the type of each column</i><p>If the goal is foolproof export to Excel, use XLSX.</div><br/></div></div></div></div><div id="39816281" class="c"><input type="checkbox" id="c-39816281" checked=""/><div class="controls bullet"><span class="by">alserio</span><span>|</span><a href="#39814517">parent</a><span>|</span><a href="#39814694">prev</a><span>|</span><a href="#39824880">next</a><span>|</span><label class="collapse" for="c-39816281">[-]</label><label class="expand" for="c-39816281">[1 more]</label></div><br/><div class="children"><div class="content">Excel and data precision are really at odds. But it might be interesting to see what would happen if excel shipped with parquet import and export capabilities</div><br/></div></div><div id="39824880" class="c"><input type="checkbox" id="c-39824880" checked=""/><div class="controls bullet"><span class="by">kalleboo</span><span>|</span><a href="#39814517">parent</a><span>|</span><a href="#39816281">prev</a><span>|</span><a href="#39815107">next</a><span>|</span><label class="collapse" for="c-39824880">[-]</label><label class="expand" for="c-39824880">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Honestly CSV is a very simple, well defined format, that is decades old and is “obvious”</i><p>This is the problem though. Everything thinks it is &quot;obvious&quot; and does their own broken implementation where they just concatenate values together with commas, and then outsources dealing with the garbage to whoever ends up with the file on their plate.<p>If a more complex, non-obvious format was required, instead of &quot;easy I&#x27;ll just concatenate values&quot; they might actually decide to put engineering into it (or use a library)</div><br/></div></div><div id="39815107" class="c"><input type="checkbox" id="c-39815107" checked=""/><div class="controls bullet"><span class="by">orwin</span><span>|</span><a href="#39814517">parent</a><span>|</span><a href="#39824880">prev</a><span>|</span><a href="#39822740">next</a><span>|</span><label class="collapse" for="c-39815107">[-]</label><label class="expand" for="c-39815107">[1 more]</label></div><br/><div class="children"><div class="content">I will hard disagree here. Always have has a clrf issue or another weirdness come up.<p>Especially if you work with teams from different countries, csv is hell. I always generate rfc compliant csv, not once it was accepted from day one. Once, it took us two weeks to make it pass the ingestion process (we didn&#x27;t have access to the ingest logs and had to request them each day, after the midnight processing) so in the end, it was only 10 different tries, but still.<p>I had once an issue with json (well, not one created by me) , and it was clearly a documentation mistake. And I hate json (I&#x27;m an XML proponent usually). Csv is terrible.</div><br/></div></div><div id="39822740" class="c"><input type="checkbox" id="c-39822740" checked=""/><div class="controls bullet"><span class="by">ravenstine</span><span>|</span><a href="#39814517">parent</a><span>|</span><a href="#39815107">prev</a><span>|</span><a href="#39814673">next</a><span>|</span><label class="collapse" for="c-39822740">[-]</label><label class="expand" for="c-39822740">[2 more]</label></div><br/><div class="children"><div class="content">&gt;  Parsing CSV correctly is not hard, you just can’t use split and be done with it.<p>And yet you can anyway if you are confident that your CSV won&#x27;t contain anything that would mess it up.</div><br/><div id="39823121" class="c"><input type="checkbox" id="c-39823121" checked=""/><div class="controls bullet"><span class="by">delfinom</span><span>|</span><a href="#39814517">root</a><span>|</span><a href="#39822740">parent</a><span>|</span><a href="#39814673">next</a><span>|</span><label class="collapse" for="c-39823121">[-]</label><label class="expand" for="c-39823121">[1 more]</label></div><br/><div class="children"><div class="content">CSV is so simple that if someone forgets to send you escaped CSV, you can and should simply smack them with a shoe.</div><br/></div></div></div></div><div id="39814673" class="c"><input type="checkbox" id="c-39814673" checked=""/><div class="controls bullet"><span class="by">himinlomax</span><span>|</span><a href="#39814517">parent</a><span>|</span><a href="#39822740">prev</a><span>|</span><a href="#39823395">next</a><span>|</span><label class="collapse" for="c-39814673">[-]</label><label class="expand" for="c-39814673">[1 more]</label></div><br/><div class="children"><div class="content">&gt; well defined format<p>No.</div><br/></div></div></div></div><div id="39823395" class="c"><input type="checkbox" id="c-39823395" checked=""/><div class="controls bullet"><span class="by">quesera</span><span>|</span><a href="#39814517">prev</a><span>|</span><a href="#39814513">next</a><span>|</span><label class="collapse" for="c-39823395">[-]</label><label class="expand" for="c-39823395">[8 more]</label></div><br/><div class="children"><div class="content">Every single use I&#x27;ve ever seen of CSV would be improved by the very simple change to TSV.<p>Even Excel can handle it.<p>It is far safer to munge data containing tabs (convert to spaces, etc), than commas (remove? convert to dots? escape?).<p>The better answer is to use ASCII separators as Lyndon Johnson intended, but that turns out to be asking a lot of data producers. Generating TSV is usually easier than generating CSV.</div><br/><div id="39825209" class="c"><input type="checkbox" id="c-39825209" checked=""/><div class="controls bullet"><span class="by">jillesvangurp</span><span>|</span><a href="#39823395">parent</a><span>|</span><a href="#39824107">next</a><span>|</span><label class="collapse" for="c-39825209">[-]</label><label class="expand" for="c-39825209">[1 more]</label></div><br/><div class="children"><div class="content">And as a practical matter, Google sheets can export tsv. It didn&#x27;t always have csv as an export (it does now). I&#x27;ve used Google sheets as a business friendly way to edit data for many years. With a little bit of instruction, this can work pretty well. Usually it just involves me telling people to not get creative with the column names and leave them alone.<p>This may shock some people but Excell and other MS Office products aren&#x27;t that common any more to have around for developers. Through the nineties, MS had a defacto monopoly on desktop back in the day. But these days, a lot of developers use macs and they are also popular with business people. Google docs seems popular with startups. All companies I&#x27;ve been in for the last 12 years default to that.<p>Anyway, I&#x27;ve done this on a few teams where it just short cuts the whole discussion about needing a bespoke UI to edit some table of stuff for managers. I&#x27;ve even replaced a failed project to build such a UI with simple stuff like this. All you need is a bit of validation when importing and you can keep the last know good export in git and do pull requests to update the file. There&#x27;s a weird dynamic where giving this level of control to some managers actually makes them feel more involved and engaged.<p>My preferred format to work with is actually ndjson (newline delimited json). Mainly because it&#x27;s easier to deal with nested objects and lists in that. Whenever people start putting lists in table cells or start adding dots or other separators to their column names to indicate some kind of hierarcy, ndjson is the better solution. I&#x27;ve seen all sorts of attempts by business people to stuff non tabular data into a table.</div><br/></div></div><div id="39824107" class="c"><input type="checkbox" id="c-39824107" checked=""/><div class="controls bullet"><span class="by">croes</span><span>|</span><a href="#39823395">parent</a><span>|</span><a href="#39825209">prev</a><span>|</span><a href="#39824052">next</a><span>|</span><label class="collapse" for="c-39824107">[-]</label><label class="expand" for="c-39824107">[2 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t change the data by replacing the separator. If the data contains a comma, tab etc. I want to receive a comma, tab etc.<p>With proper escaping the separator doesn&#x27;t matter.<p>After that csv generating is pretty easy.</div><br/><div id="39824481" class="c"><input type="checkbox" id="c-39824481" checked=""/><div class="controls bullet"><span class="by">quesera</span><span>|</span><a href="#39823395">root</a><span>|</span><a href="#39824107">parent</a><span>|</span><a href="#39824052">next</a><span>|</span><label class="collapse" for="c-39824481">[-]</label><label class="expand" for="c-39824481">[1 more]</label></div><br/><div class="children"><div class="content">Right, the problem with CSV is that it&#x27;s often generated incorrectly.<p>Commas do not need to be escaped inside quoted blocks. But now quoted blocks are not literal data, and you need to drop the enclosing quotes. And escape quotes inside them, or outside if the quote is literal. Also quotes must be balanced inside a delimited field. Etc.<p>Commas are just too common of a character to be a good delimiter.<p>Tabs are an improvement, because <i>usually</i> tabs are just whitespace, which is <i>usually</i> arbitrary, and <i>never</i> needs to be balanced.<p>But tabs are not perfect either. Just a vast improvement for most data, and a functional compromise for humans.</div><br/></div></div></div></div><div id="39824052" class="c"><input type="checkbox" id="c-39824052" checked=""/><div class="controls bullet"><span class="by">chirau</span><span>|</span><a href="#39823395">parent</a><span>|</span><a href="#39824107">prev</a><span>|</span><a href="#39824133">next</a><span>|</span><label class="collapse" for="c-39824052">[-]</label><label class="expand" for="c-39824052">[2 more]</label></div><br/><div class="children"><div class="content">you are assuming the regular end user knows the difference between 4 spaces and a tab and the nuances that come with them trying to replace one with the other or why space between two values is different at one point from the next.<p>Commas are, by far, better delimeters than tabs in the grand scheme of things and with both expert and regular users considered.</div><br/><div id="39824524" class="c"><input type="checkbox" id="c-39824524" checked=""/><div class="controls bullet"><span class="by">quesera</span><span>|</span><a href="#39823395">root</a><span>|</span><a href="#39824052">parent</a><span>|</span><a href="#39824133">next</a><span>|</span><label class="collapse" for="c-39824524">[-]</label><label class="expand" for="c-39824524">[1 more]</label></div><br/><div class="children"><div class="content">I disagree. The end user doesn&#x27;t need to know the difference between 4 spaces and a tab. Tabs are just whitespace.<p>Tabs are <i>uncommon</i> but convenient whitespace. Commas are extremely common content. Tabs are a vastly better delimiter.<p>If you are wrapping source code in a CSV, a) you&#x27;re doing it wrong, and b) you&#x27;ll get bitten by newlines just as quickly! If you&#x27;re including content that requires specific whitespace preservation, just escape the (usually rare) tabs.<p>TSV certainly is not perfect. But it solves the major problems for 95% of CSVs, and it&#x27;s just as convenient for humans.<p>I do agree that one should not arbitrarily munge content. But note that HTML does munge whitespace, and we&#x27;ve never suffered meaningfully for it.</div><br/></div></div></div></div><div id="39824133" class="c"><input type="checkbox" id="c-39824133" checked=""/><div class="controls bullet"><span class="by">croes</span><span>|</span><a href="#39823395">parent</a><span>|</span><a href="#39824052">prev</a><span>|</span><a href="#39814513">next</a><span>|</span><label class="collapse" for="c-39824133">[-]</label><label class="expand" for="c-39824133">[2 more]</label></div><br/><div class="children"><div class="content">BTW is Excel better in reading UTF8 files?<p>Last time I checked it can&#x27;t read it without errors if you just open the file with it without using the import function an explicitly select UTF8.</div><br/><div id="39824904" class="c"><input type="checkbox" id="c-39824904" checked=""/><div class="controls bullet"><span class="by">Kwpolska</span><span>|</span><a href="#39823395">root</a><span>|</span><a href="#39824133">parent</a><span>|</span><a href="#39814513">next</a><span>|</span><label class="collapse" for="c-39824904">[-]</label><label class="expand" for="c-39824904">[1 more]</label></div><br/><div class="children"><div class="content">The trick is using UTF-8 with BOM.</div><br/></div></div></div></div></div></div><div id="39814513" class="c"><input type="checkbox" id="c-39814513" checked=""/><div class="controls bullet"><span class="by">JumpCrisscross</span><span>|</span><a href="#39823395">prev</a><span>|</span><a href="#39825280">next</a><span>|</span><label class="collapse" for="c-39814513">[-]</label><label class="expand" for="c-39814513">[5 more]</label></div><br/><div class="children"><div class="content">&gt; <i>One of the infurating things about the format is that things often break in ways that tools can&#x27;t pick up and tell you about</i><p>This line is emblematic of the paradigm shift LLMs have brought. It’s now easier to build a better tool than change everyone’s behaviour.<p>&gt; <i>You give up human readable files, but</i><p>What are we even doing here.</div><br/><div id="39820137" class="c"><input type="checkbox" id="c-39820137" checked=""/><div class="controls bullet"><span class="by">MilStdJunkie</span><span>|</span><a href="#39814513">parent</a><span>|</span><a href="#39822970">next</a><span>|</span><label class="collapse" for="c-39820137">[-]</label><label class="expand" for="c-39820137">[1 more]</label></div><br/><div class="children"><div class="content">I think this article is causing a kerfuffle because it&#x27;s hitting two different audiences very differently. Honestly the article title should have been &quot;Friends don&#x27;t let friends use CSV for data pipelines&quot;.<p>Because when I&#x27;m wrangling data from a human - a human who is stubbornly defending their own little island of business information like their employment depended on it[1] - a CSV is about as good as I am gonna get.<p>I had a bear of a time just convincing people to put their data in a delimited format, instead of a table inside a powerpoint presentation, or buried in sixty levels of Access joins, or in an SVG. I need data from &quot;what is scroll wheel&quot; sort of users.<p>If I am working system to system? That&#x27;s a different requirement, a requirement that is apparently where the OP author is coming from.<p>[1] Because it kind of does. Having a unique platform is one of those priceless keys to being skipped in the thrice-yearly layoff rituals. Unfortunately, that means anyone approaching saying words like &quot;integration&quot; or &quot;API&quot; are shot on sight.</div><br/></div></div><div id="39822970" class="c"><input type="checkbox" id="c-39822970" checked=""/><div class="controls bullet"><span class="by">rzzzt</span><span>|</span><a href="#39814513">parent</a><span>|</span><a href="#39820137">prev</a><span>|</span><a href="#39815626">next</a><span>|</span><label class="collapse" for="c-39822970">[-]</label><label class="expand" for="c-39822970">[1 more]</label></div><br/><div class="children"><div class="content">So you grab your favorite CllaumistraCoderPT-3.14-Turbo and ask the box to deduce CSV settings from the given example. It comes back with a set of characteristics others have brought up elsewhere in comments (field separator, decimal handling, quotes, date format, etc.)<p>How do you verify it? What happens next?</div><br/></div></div><div id="39815626" class="c"><input type="checkbox" id="c-39815626" checked=""/><div class="controls bullet"><span class="by">jitl</span><span>|</span><a href="#39814513">parent</a><span>|</span><a href="#39822970">prev</a><span>|</span><a href="#39825280">next</a><span>|</span><label class="collapse" for="c-39815626">[-]</label><label class="expand" for="c-39815626">[2 more]</label></div><br/><div class="children"><div class="content">We’re doing data pipelines. I would rather my data pipeline go 10x faster with Parquet than be able to human read a 30gb CSV file.</div><br/><div id="39823269" class="c"><input type="checkbox" id="c-39823269" checked=""/><div class="controls bullet"><span class="by">th0ma5</span><span>|</span><a href="#39814513">root</a><span>|</span><a href="#39815626">parent</a><span>|</span><a href="#39825280">next</a><span>|</span><label class="collapse" for="c-39823269">[-]</label><label class="expand" for="c-39823269">[1 more]</label></div><br/><div class="children"><div class="content">The vast majority of the thread is missing this point. The CSV abuse is out of control! Lol</div><br/></div></div></div></div></div></div><div id="39825280" class="c"><input type="checkbox" id="c-39825280" checked=""/><div class="controls bullet"><span class="by">Evidlo</span><span>|</span><a href="#39814513">prev</a><span>|</span><a href="#39822838">next</a><span>|</span><label class="collapse" for="c-39825280">[-]</label><label class="expand" for="c-39825280">[1 more]</label></div><br/><div class="children"><div class="content">There is CSVY, which lets you set a delimiter, schema, column types, etc.  and has libraries in many languages and is natively supported in R.<p>Also is backwards-compatible with most CSV parsers.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;leeper&#x2F;csvy">https:&#x2F;&#x2F;github.com&#x2F;leeper&#x2F;csvy</a></div><br/></div></div><div id="39822838" class="c"><input type="checkbox" id="c-39822838" checked=""/><div class="controls bullet"><span class="by">onethumb</span><span>|</span><a href="#39825280">prev</a><span>|</span><a href="#39824654">next</a><span>|</span><label class="collapse" for="c-39822838">[-]</label><label class="expand" for="c-39822838">[1 more]</label></div><br/><div class="children"><div class="content">CSV has some limits and difficulties, but has massive benefits in terms of readability, portability, etc.<p>I feel like USV (Unicode Separated Values) neatly improves CSV while maintaining most of its benefits.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;sixarm&#x2F;usv">https:&#x2F;&#x2F;github.com&#x2F;sixarm&#x2F;usv</a></div><br/></div></div><div id="39824654" class="c"><input type="checkbox" id="c-39824654" checked=""/><div class="controls bullet"><span class="by">lolive</span><span>|</span><a href="#39822838">prev</a><span>|</span><a href="#39824988">next</a><span>|</span><label class="collapse" for="c-39824654">[-]</label><label class="expand" for="c-39824654">[2 more]</label></div><br/><div class="children"><div class="content">As a data architect in a big company, I cannot tell how harmful such a stupid data format CSV can be.
All the possible semantics of the data has to be offloaded to either the brain of people [don’t do that! Just don’t!] or out-of-sync specs [better hidden in the CMS of the company that the Ark of Alliance, and outdated anyway] or obscure code or SQL queries [an opportunity for hilarious reverse engineering sessions, where you hate a retired developper forever for all the tricks he added inside code to circumvent poorly defined data. Then got away to Florida beach after hiring you.]</div><br/><div id="39824683" class="c"><input type="checkbox" id="c-39824683" checked=""/><div class="controls bullet"><span class="by">lolive</span><span>|</span><a href="#39824654">parent</a><span>|</span><a href="#39824988">next</a><span>|</span><label class="collapse" for="c-39824683">[-]</label><label class="expand" for="c-39824683">[1 more]</label></div><br/><div class="children"><div class="content">The best thing I see really often is people sending the data model of a CSV file as, #guessWhat, ANOTHER CSV file!!!<p>[please kill me!]</div><br/></div></div></div></div><div id="39814519" class="c"><input type="checkbox" id="c-39814519" checked=""/><div class="controls bullet"><span class="by">aronhegedus</span><span>|</span><a href="#39824988">prev</a><span>|</span><a href="#39825051">next</a><span>|</span><label class="collapse" for="c-39814519">[-]</label><label class="expand" for="c-39814519">[7 more]</label></div><br/><div class="children"><div class="content">My takeaway is that csv has some undefined behaviours, and it takes up space.<p>I like that everyone knows about .csv files, and it&#x27;s also completely human readable.<p>So for &lt;100mb I would still use csv.</div><br/><div id="39822522" class="c"><input type="checkbox" id="c-39822522" checked=""/><div class="controls bullet"><span class="by">nradov</span><span>|</span><a href="#39814519">parent</a><span>|</span><a href="#39825051">next</a><span>|</span><label class="collapse" for="c-39822522">[-]</label><label class="expand" for="c-39822522">[6 more]</label></div><br/><div class="children"><div class="content">If both parties implement RFC 4180 and use a consistent character set encoding then I don&#x27;t think there are actually any undefined behaviors. But in practice a lot of implementations are simply broken, including those from major tech companies that ought to know better.</div><br/><div id="39823076" class="c"><input type="checkbox" id="c-39823076" checked=""/><div class="controls bullet"><span class="by">senknvd</span><span>|</span><a href="#39814519">root</a><span>|</span><a href="#39822522">parent</a><span>|</span><a href="#39823459">next</a><span>|</span><label class="collapse" for="c-39823076">[-]</label><label class="expand" for="c-39823076">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think RFC 4180 differentiates between an empty string and a null value. As long as you add a check that all string columns are free of empty values before writing you should be good.<p>I think in polars it&#x27;s<p><pre><code>    df.filter(pl.col(pl.Utf8).str.len_bytes() == 0).shape[0] == 0
</code></pre>
although there&#x27;s probably a better way to write this.</div><br/><div id="39823424" class="c"><input type="checkbox" id="c-39823424" checked=""/><div class="controls bullet"><span class="by">nradov</span><span>|</span><a href="#39814519">root</a><span>|</span><a href="#39823076">parent</a><span>|</span><a href="#39823459">next</a><span>|</span><label class="collapse" for="c-39823424">[-]</label><label class="expand" for="c-39823424">[1 more]</label></div><br/><div class="children"><div class="content">Well I would consider differentiation between empty string versus null as simply being out of scope for CSV rather than undefined behavior. It was never intended as a complete database dump format.</div><br/></div></div></div></div><div id="39823459" class="c"><input type="checkbox" id="c-39823459" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#39814519">root</a><span>|</span><a href="#39822522">parent</a><span>|</span><a href="#39823076">prev</a><span>|</span><a href="#39825051">next</a><span>|</span><label class="collapse" for="c-39823459">[-]</label><label class="expand" for="c-39823459">[3 more]</label></div><br/><div class="children"><div class="content">And the application doesn&#x27;t try to convert the cells into non-string data types like numbers, dates, etc.</div><br/><div id="39823520" class="c"><input type="checkbox" id="c-39823520" checked=""/><div class="controls bullet"><span class="by">nradov</span><span>|</span><a href="#39814519">root</a><span>|</span><a href="#39823459">parent</a><span>|</span><a href="#39825051">next</a><span>|</span><label class="collapse" for="c-39823520">[-]</label><label class="expand" for="c-39823520">[2 more]</label></div><br/><div class="children"><div class="content">Converting strings into other data types is out of scope for CSV, not really undefined behavior. The type conversions happen at a later stage of the import process.</div><br/><div id="39823979" class="c"><input type="checkbox" id="c-39823979" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#39814519">root</a><span>|</span><a href="#39823520">parent</a><span>|</span><a href="#39825051">next</a><span>|</span><label class="collapse" for="c-39823979">[-]</label><label class="expand" for="c-39823979">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s out of scope for the RFC, but it could still be undefined behavior for the import&#x2F;export process.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39825051" class="c"><input type="checkbox" id="c-39825051" checked=""/><div class="controls bullet"><span class="by">_shantaram</span><span>|</span><a href="#39814519">prev</a><span>|</span><a href="#39823447">next</a><span>|</span><label class="collapse" for="c-39825051">[-]</label><label class="expand" for="c-39825051">[2 more]</label></div><br/><div class="children"><div class="content">Surprised no one has mentioned sqlite even once in these comments.</div><br/><div id="39825158" class="c"><input type="checkbox" id="c-39825158" checked=""/><div class="controls bullet"><span class="by">rkaveland</span><span>|</span><a href="#39825051">parent</a><span>|</span><a href="#39823447">next</a><span>|</span><label class="collapse" for="c-39825158">[-]</label><label class="expand" for="c-39825158">[1 more]</label></div><br/><div class="children"><div class="content">I regret forgetting about it in the article. sqlite is a great solution.</div><br/></div></div></div></div><div id="39823447" class="c"><input type="checkbox" id="c-39823447" checked=""/><div class="controls bullet"><span class="by">SPBS</span><span>|</span><a href="#39825051">prev</a><span>|</span><a href="#39824550">next</a><span>|</span><label class="collapse" for="c-39823447">[-]</label><label class="expand" for="c-39823447">[1 more]</label></div><br/><div class="children"><div class="content">1. CSV is for ensuring compatibility with the widest range of consumers, not for ensuring best read or storage performance for consumers. (It <i>is</i> already more efficient than JSON because it can be streamed, and takes up less space than a JSON array of objects)<p>2. The only data type in CSV is a string. There is no null, there are no numbers. Anything else must be agreed upon between producer and consumer (or more commonly, a consumer looks at the CSV and decides how the producer formatted it). JSON also doesn’t include dates, you’re not going to see people start sending API responses as Apache Parquet. CSV is fiiine.</div><br/></div></div><div id="39824550" class="c"><input type="checkbox" id="c-39824550" checked=""/><div class="controls bullet"><span class="by">Twirrim</span><span>|</span><a href="#39823447">prev</a><span>|</span><a href="#39825173">next</a><span>|</span><label class="collapse" for="c-39824550">[-]</label><label class="expand" for="c-39824550">[1 more]</label></div><br/><div class="children"><div class="content">One particularly memorable on-call shift had a phenomenal amount of pain caused by the use of CSV somewhere along the line, and a developer who decided to put an entry &quot;I wonder, what happens if I put in a comma&quot;, or something similar.  That single comma caused hours of pain.  Quite why they thought production was the place to test that, when they knew the data would end up in CSV, is anybody&#x27;s guess.<p>I think Hanlon&#x27;s razor applies in that situation.</div><br/></div></div><div id="39825173" class="c"><input type="checkbox" id="c-39825173" checked=""/><div class="controls bullet"><span class="by">mukundesh</span><span>|</span><a href="#39824550">prev</a><span>|</span><a href="#39822570">next</a><span>|</span><label class="collapse" for="c-39825173">[-]</label><label class="expand" for="c-39825173">[1 more]</label></div><br/><div class="children"><div class="content">Using parquet in python requires installing pyarrow and numpy, whereas CSV comes with stdlib.<p>Also, the csv has a very pythonic interface vis-a-vis parquet, in most cases if I can fit the file in memory I would go with CSV.</div><br/></div></div><div id="39822570" class="c"><input type="checkbox" id="c-39822570" checked=""/><div class="controls bullet"><span class="by">kembrek</span><span>|</span><a href="#39825173">prev</a><span>|</span><a href="#39814430">next</a><span>|</span><label class="collapse" for="c-39822570">[-]</label><label class="expand" for="c-39822570">[3 more]</label></div><br/><div class="children"><div class="content">If one could export to Parquet from Microsoft Excel, I think this would be a goer. Until such time, it seems likely many will stick with CSVs.</div><br/><div id="39822893" class="c"><input type="checkbox" id="c-39822893" checked=""/><div class="controls bullet"><span class="by">efxhoy</span><span>|</span><a href="#39822570">parent</a><span>|</span><a href="#39822594">next</a><span>|</span><label class="collapse" for="c-39822893">[-]</label><label class="expand" for="c-39822893">[1 more]</label></div><br/><div class="children"><div class="content">v1 or v2?</div><br/></div></div><div id="39822594" class="c"><input type="checkbox" id="c-39822594" checked=""/><div class="controls bullet"><span class="by">nmz</span><span>|</span><a href="#39822570">parent</a><span>|</span><a href="#39822893">prev</a><span>|</span><a href="#39814430">next</a><span>|</span><label class="collapse" for="c-39822594">[-]</label><label class="expand" for="c-39822594">[1 more]</label></div><br/><div class="children"><div class="content">If you had the option to use whatever you want, and you&#x27;re already sacrificing not using a text editor, why would you use parquet instead of the myriad of choices.</div><br/></div></div></div></div><div id="39814430" class="c"><input type="checkbox" id="c-39814430" checked=""/><div class="controls bullet"><span class="by">nsjames</span><span>|</span><a href="#39822570">prev</a><span>|</span><a href="#39814554">next</a><span>|</span><label class="collapse" for="c-39814430">[-]</label><label class="expand" for="c-39814430">[4 more]</label></div><br/><div class="children"><div class="content">I think the sad reality there is that it&#x27;s become &quot;the&quot; format that users expect, and more importantly, it&#x27;s what&#x27;s integrated into the majority of peripheral services and tools.<p>Like JSON.</div><br/><div id="39814546" class="c"><input type="checkbox" id="c-39814546" checked=""/><div class="controls bullet"><span class="by">pyr0hu</span><span>|</span><a href="#39814430">parent</a><span>|</span><a href="#39814614">next</a><span>|</span><label class="collapse" for="c-39814546">[-]</label><label class="expand" for="c-39814546">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, clients always expect CSV (or sometimes XLSX), but if I tell them that I&#x27;ll send parquet data, they will ask if I&#x27;m having a stroke or something because they don&#x27;t know what is parquet and how could they use it.<p>CSV is just too simple and &quot;user-friendly&quot;.</div><br/></div></div><div id="39814614" class="c"><input type="checkbox" id="c-39814614" checked=""/><div class="controls bullet"><span class="by">bell-cot</span><span>|</span><a href="#39814430">parent</a><span>|</span><a href="#39814546">prev</a><span>|</span><a href="#39814554">next</a><span>|</span><label class="collapse" for="c-39814614">[-]</label><label class="expand" for="c-39814614">[2 more]</label></div><br/><div class="children"><div class="content"><i>Oh, yes.</i>  And even if you can convince the client that they&#x27;re wrong, and you&#x27;re right - with substantial client datasets, there&#x27;s always a load of &quot;data not as previously represented&quot; records.  Resolving what is going on with those tends to be vastly easier when you can say &quot;look at record 1,234,567&quot; and they can easily do that in <i>their</i> favorite &amp; familiar software.</div><br/><div id="39822784" class="c"><input type="checkbox" id="c-39822784" checked=""/><div class="controls bullet"><span class="by">2devnull</span><span>|</span><a href="#39814430">root</a><span>|</span><a href="#39814614">parent</a><span>|</span><a href="#39814554">next</a><span>|</span><label class="collapse" for="c-39822784">[-]</label><label class="expand" for="c-39822784">[1 more]</label></div><br/><div class="children"><div class="content">Moreover, I myself like being able to open broken csv files in a text editor, to find nulls and other problematic junk.</div><br/></div></div></div></div></div></div><div id="39814554" class="c"><input type="checkbox" id="c-39814554" checked=""/><div class="controls bullet"><span class="by">addminztrator</span><span>|</span><a href="#39814430">prev</a><span>|</span><a href="#39824951">next</a><span>|</span><label class="collapse" for="c-39814554">[-]</label><label class="expand" for="c-39814554">[1 more]</label></div><br/><div class="children"><div class="content">Good thing I don&#x27;t have friends then because I&#x27;m exporting to csv, it&#x27;s simple and it works</div><br/></div></div><div id="39824951" class="c"><input type="checkbox" id="c-39824951" checked=""/><div class="controls bullet"><span class="by">atoav</span><span>|</span><a href="#39814554">prev</a><span>|</span><a href="#39823554">next</a><span>|</span><label class="collapse" for="c-39824951">[-]</label><label class="expand" for="c-39824951">[1 more]</label></div><br/><div class="children"><div class="content">CSV is totally fine if you use it for the right kind of data and the right application. That means:<p>- data that has predictable value types (mostly numbers and short labels would be fine), e.g. health data about a school class wouldn&#x27;t involve random binary fields or unbounded user input<p>- data that has a predictable, managable length — e.g. the health data of the school class wouldn&#x27;t be dramatically longer than the number of students in that class<p>- data with a long sampling period. If you read that dataset once a week performance and latency become utterly irrelevant<p>- if the shape of your data is already tabular and not e.g. a graph with many references to other rows<p>- if the gain in human readability and compatibility for the layperson outweighs potential downsides about the format<p>- if you use a sane default for encoding (utf8, what else), quoting, escaping, delimiter etc.<p>Every file format is a choice, often CSV isn&#x27;t the wrong one (but: very often it is).</div><br/></div></div><div id="39823554" class="c"><input type="checkbox" id="c-39823554" checked=""/><div class="controls bullet"><span class="by">randomsolutions</span><span>|</span><a href="#39824951">prev</a><span>|</span><a href="#39824729">next</a><span>|</span><label class="collapse" for="c-39823554">[-]</label><label class="expand" for="c-39823554">[1 more]</label></div><br/><div class="children"><div class="content">I like the ping pong of one day an article being posted where everyone asks, &quot;when&#x2F;why did everything become so complicated&quot;, and then the next day something like this is posted.</div><br/></div></div><div id="39824729" class="c"><input type="checkbox" id="c-39824729" checked=""/><div class="controls bullet"><span class="by">lolive</span><span>|</span><a href="#39823554">prev</a><span>|</span><a href="#39823768">next</a><span>|</span><label class="collapse" for="c-39824729">[-]</label><label class="expand" for="c-39824729">[1 more]</label></div><br/><div class="children"><div class="content">I still don’t understand how you deal with cardinalities in a CSV.
You always recreate an object model on top of it to deal with them properly ?<p>Cf a tweet I wrote in one of my past lives: <a href="https:&#x2F;&#x2F;x.com&#x2F;datao&#x2F;status&#x2F;1572226408113389569?s=20" rel="nofollow">https:&#x2F;&#x2F;x.com&#x2F;datao&#x2F;status&#x2F;1572226408113389569?s=20</a></div><br/></div></div><div id="39823768" class="c"><input type="checkbox" id="c-39823768" checked=""/><div class="controls bullet"><span class="by">jgord</span><span>|</span><a href="#39824729">prev</a><span>|</span><a href="#39814603">next</a><span>|</span><label class="collapse" for="c-39823768">[-]</label><label class="expand" for="c-39823768">[2 more]</label></div><br/><div class="children"><div class="content">CSV is a superb, incredibly useful data format.. but not perfect or complete.<p>Instead of breaking CSV by adding to it .. I recommend augmenting it :<p>It would be useful to have a good standardized &#x2F; canonical json format for things like encoding, delimiter, schema and metadata, to accompany a zipped csv file, perhaps packaged in the same archive.<p>Gradually datasets would become more self-documenting and machine-usable without wrangling.</div><br/><div id="39823920" class="c"><input type="checkbox" id="c-39823920" checked=""/><div class="controls bullet"><span class="by">cxr</span><span>|</span><a href="#39823768">parent</a><span>|</span><a href="#39814603">next</a><span>|</span><label class="collapse" for="c-39823920">[-]</label><label class="expand" for="c-39823920">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It would be useful to have a good standardized &#x2F; canonical json format for things like encoding, delimiter, schema and metadata<p>We already have that.  Dan Brickley and others put a lot of thoughtful effort into it &lt;<a href="https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;tabular-data-primer&#x2F;#dialects" rel="nofollow">https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;tabular-data-primer&#x2F;#dialects</a>&gt;:<p>&gt; <i>A lot of what&#x27;s called &quot;CSV&quot; that&#x27;s published on the web isn&#x27;t actually CSV. It might use something other than commas (such as tabs or semi-colons) as separators between values, or might have multiple header lines.</i> [...] <i>You can provide guidance to processors that are trying to parse those files through the `dialect` property</i><p>As is usually the case with standards, it&#x27;s not that the standard doesn&#x27;t exist but that people just don&#x27;t even bother checking (much less caring about what it says or actually trying to follow it).</div><br/></div></div></div></div><div id="39814603" class="c"><input type="checkbox" id="c-39814603" checked=""/><div class="controls bullet"><span class="by">Black616Angel</span><span>|</span><a href="#39823768">prev</a><span>|</span><label class="collapse" for="c-39814603">[-]</label><label class="expand" for="c-39814603">[5 more]</label></div><br/><div class="children"><div class="content">I never liked articles about how you should replace CSV with some other format while pulling some absolutely idiotic reasons out of their rear...<p>1. CSV is underspecified
Okay, so specify it for your use case and you&#x27;re done?
E.g use rfc3339 instead of the straw-man 1-1-1970 and define how no value looks like, which is mostly an empty string.<p>2. CSV files have terrible compression and performance
Okay, who in their right mind uses a plain-text-file to export 50gb of data? Some file systems don&#x27;t even support that much. When you are at the stage of REGULARLY shipping around files this big, you should think about a database and not another filetype to send via mail.
Performance may be a point, but again, using it for gigantic files is wrong in the first place.<p>3. There&#x27;s a better way (insert presentation of a filtype I have never heard of)
There is lots of better ways to do this, but:
CSV is implemented extremely fast, it is universally known unlike Apache Parquet (or Pickle or ORC or Avro or Feather...) and it is humanly readable.<p>So in the end: Use it for small data exports where you can specify everything you want or like everywhere, where you can import data, because most software takes CSV as input anyway.<p>For lots of data use something else.<p>Friends don&#x27;t let friends write one-sided articles.</div><br/><div id="39816402" class="c"><input type="checkbox" id="c-39816402" checked=""/><div class="controls bullet"><span class="by">alserio</span><span>|</span><a href="#39814603">parent</a><span>|</span><a href="#39815189">next</a><span>|</span><label class="collapse" for="c-39816402">[-]</label><label class="expand" for="c-39816402">[2 more]</label></div><br/><div class="children"><div class="content">I agree with your other points but the first point misses the mark. Even you specify a format, you cannot use the file for exporting data between systems and organizations if they don&#x27;t all agree on that format.
CSV does not have a reasonable way to encode that is using a specific spec. I can open your data with my tools and silently misinterpret it. But if you are only exporting data between yourself, that&#x27;s another story.</div><br/><div id="39822827" class="c"><input type="checkbox" id="c-39822827" checked=""/><div class="controls bullet"><span class="by">2devnull</span><span>|</span><a href="#39814603">root</a><span>|</span><a href="#39816402">parent</a><span>|</span><a href="#39815189">next</a><span>|</span><label class="collapse" for="c-39822827">[-]</label><label class="expand" for="c-39822827">[1 more]</label></div><br/><div class="children"><div class="content">You can use excel as the lingua franca. Also give them a row&#x2F;col counts. Most problems solved in two easy steps.</div><br/></div></div></div></div><div id="39815189" class="c"><input type="checkbox" id="c-39815189" checked=""/><div class="controls bullet"><span class="by">HayBale</span><span>|</span><a href="#39814603">parent</a><span>|</span><a href="#39816402">prev</a><span>|</span><a href="#39814693">next</a><span>|</span><label class="collapse" for="c-39815189">[-]</label><label class="expand" for="c-39815189">[1 more]</label></div><br/><div class="children"><div class="content">2. You would be surprised, especially on the science&#x2F;university level in stat, health or bioinfo. Unfortunately a lot of people go with the path of least resistance and use excel propertiary format or csv for everything.<p>Like NHS with their post covid data due to excel limitations or gene name conversion problems in sci journals.<p>Same happens with stupid amount of laboratory management things or bioinformatics tools.<p>Honestly obviously the article is biased but we should at least think about moving away from csv in non customer facing fronts.<p>Small files? Json 
Big files? SQLlite or parquet.</div><br/></div></div><div id="39814693" class="c"><input type="checkbox" id="c-39814693" checked=""/><div class="controls bullet"><span class="by">javcasas</span><span>|</span><a href="#39814603">parent</a><span>|</span><a href="#39815189">prev</a><span>|</span><label class="collapse" for="c-39814693">[-]</label><label class="expand" for="c-39814693">[1 more]</label></div><br/><div class="children"><div class="content">For lots of data zip the csv. For REALLY lots of data, think something different.</div><br/></div></div></div></div></div></div></div></div></div></body></html>