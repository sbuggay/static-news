<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1684746064258" as="style"/><link rel="stylesheet" href="styles.css?v=1684746064258"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://dropbox.tech/frontend/investigating-the-impact-of-http3-on-network-latency-for-search">Investigating the impact of HTTP3 on network latency for search</a> <span class="domain">(<a href="https://dropbox.tech">dropbox.tech</a>)</span></div><div class="subtext"><span>kiyanwang</span> | <span>16 comments</span></div><br/><div><div id="36028843" class="c"><input type="checkbox" id="c-36028843" checked=""/><div class="controls bullet"><span class="by">Wagthesam</span><span>|</span><a href="#36028904">next</a><span>|</span><label class="collapse" for="c-36028843">[-]</label><label class="expand" for="c-36028843">[2 more]</label></div><br/><div class="children"><div class="content">One thing I&#x27;m wondering about is that http3 seems to be from end user to search, which is a general serving problem and not really about search. Do dropbox clients call the search service directly?</div><br/><div id="36028853" class="c"><input type="checkbox" id="c-36028853" checked=""/><div class="controls bullet"><span class="by">Wagthesam</span><span>|</span><a href="#36028843">parent</a><span>|</span><a href="#36028904">next</a><span>|</span><label class="collapse" for="c-36028853">[-]</label><label class="expand" for="c-36028853">[1 more]</label></div><br/><div class="children"><div class="content">I have wondered recently about head of line blocking&#x27;s impact to latency at AZ level within AWS. How reliable are TCP connections within the same datacenter and do these issues noticeably impact performance at the tail end?</div><br/></div></div></div></div><div id="36028904" class="c"><input type="checkbox" id="c-36028904" checked=""/><div class="controls bullet"><span class="by">rimtutituki</span><span>|</span><a href="#36028843">prev</a><span>|</span><a href="#36028417">next</a><span>|</span><label class="collapse" for="c-36028904">[-]</label><label class="expand" for="c-36028904">[1 more]</label></div><br/><div class="children"><div class="content">Just wandering, what http3 solutions are on Linux side. Can IPVS be http3 compatible at all?</div><br/></div></div><div id="36028417" class="c"><input type="checkbox" id="c-36028417" checked=""/><div class="controls bullet"><span class="by">clementmas</span><span>|</span><a href="#36028904">prev</a><span>|</span><a href="#36027934">next</a><span>|</span><label class="collapse" for="c-36028417">[-]</label><label class="expand" for="c-36028417">[7 more]</label></div><br/><div class="children"><div class="content">Can we use HTTP3 today? Is it widely supported?</div><br/><div id="36028480" class="c"><input type="checkbox" id="c-36028480" checked=""/><div class="controls bullet"><span class="by">unmole</span><span>|</span><a href="#36028417">parent</a><span>|</span><a href="#36028581">next</a><span>|</span><label class="collapse" for="c-36028480">[-]</label><label class="expand" for="c-36028480">[1 more]</label></div><br/><div class="children"><div class="content">Yes. Google and Facebook have deployed HTTP&#x2F;3 across their properties for quite some time now. Support in popular servers is not mature but if you&#x27;re using a CDN like Cloudflare, it&#x27;s trivial to enable HTTP&#x2F;3 for your users.</div><br/></div></div><div id="36028581" class="c"><input type="checkbox" id="c-36028581" checked=""/><div class="controls bullet"><span class="by">noway421</span><span>|</span><a href="#36028417">parent</a><span>|</span><a href="#36028480">prev</a><span>|</span><a href="#36027934">next</a><span>|</span><label class="collapse" for="c-36028581">[-]</label><label class="expand" for="c-36028581">[5 more]</label></div><br/><div class="children"><div class="content">Wondering the same- how’s the compatibility with very restrictive networks? Say a university&#x2F;corporate network that only allows port 443 and DPI’d 80 egress. QUIC won’t pass through that since it’s UDP. 
Can server and client reliably negotiate a fallback to http&#x2F;2 in such a case?</div><br/><div id="36028937" class="c"><input type="checkbox" id="c-36028937" checked=""/><div class="controls bullet"><span class="by">supriyo-biswas</span><span>|</span><a href="#36028417">root</a><span>|</span><a href="#36028581">parent</a><span>|</span><a href="#36028656">next</a><span>|</span><label class="collapse" for="c-36028937">[-]</label><label class="expand" for="c-36028937">[1 more]</label></div><br/><div class="children"><div class="content">Yes. Browsers typically initiate a TLS (TCP) connection to port 443 for HTTP1&#x2F;2, and then upgrade to HTTP&#x2F;3 based on the Alt-Svc header.</div><br/></div></div><div id="36028656" class="c"><input type="checkbox" id="c-36028656" checked=""/><div class="controls bullet"><span class="by">oefrha</span><span>|</span><a href="#36028417">root</a><span>|</span><a href="#36028581">parent</a><span>|</span><a href="#36028937">prev</a><span>|</span><a href="#36028782">next</a><span>|</span><label class="collapse" for="c-36028656">[-]</label><label class="expand" for="c-36028656">[1 more]</label></div><br/><div class="children"><div class="content">HTTP&#x2F;1.1 isn’t going anywhere in any popular server, so yeah, HTTP&#x2F;2 fallback isn’t a problem. (HTTP&#x2F;1.1 is basically required even if you just want to serve an https redirect on port 80, since h2 requires TLS. The clear text h2c protocol has no adoption AFAICT.)</div><br/></div></div><div id="36028782" class="c"><input type="checkbox" id="c-36028782" checked=""/><div class="controls bullet"><span class="by">ignoramous</span><span>|</span><a href="#36028417">root</a><span>|</span><a href="#36028581">parent</a><span>|</span><a href="#36028656">prev</a><span>|</span><a href="#36027934">next</a><span>|</span><label class="collapse" for="c-36028782">[-]</label><label class="expand" for="c-36028782">[2 more]</label></div><br/><div class="children"><div class="content">Yep, just like IPv4 didn&#x27;t, HTTP&#x2F;1 and H2 aren&#x27;t going anywhere anytime soon.</div><br/><div id="36028885" class="c"><input type="checkbox" id="c-36028885" checked=""/><div class="controls bullet"><span class="by">wraptile</span><span>|</span><a href="#36028417">root</a><span>|</span><a href="#36028782">parent</a><span>|</span><a href="#36027934">next</a><span>|</span><label class="collapse" for="c-36028885">[-]</label><label class="expand" for="c-36028885">[1 more]</label></div><br/><div class="children"><div class="content">IPv4 is not going away because it&#x27;s valuable (as in limited supply creates a market). HTTP 1.1 is already unusuable in modern web as you&#x27;ll be instantly blocked by cloudflare and gang. HTTP2 is likely to follow in near future as replacing it will be much easier than replacing http1.1.</div><br/></div></div></div></div></div></div></div></div><div id="36027934" class="c"><input type="checkbox" id="c-36027934" checked=""/><div class="controls bullet"><span class="by">giuliomagnifico</span><span>|</span><a href="#36028417">prev</a><span>|</span><a href="#36028218">next</a><span>|</span><label class="collapse" for="c-36027934">[-]</label><label class="expand" for="c-36027934">[3 more]</label></div><br/><div class="children"><div class="content">Very interesting reading, thanks. 
I just wonder why this geographic differences from one region to another.</div><br/><div id="36028052" class="c"><input type="checkbox" id="c-36028052" checked=""/><div class="controls bullet"><span class="by">DamonHD</span><span>|</span><a href="#36027934">parent</a><span>|</span><a href="#36028218">next</a><span>|</span><label class="collapse" for="c-36028052">[-]</label><label class="expand" for="c-36028052">[2 more]</label></div><br/><div class="children"><div class="content">RTT to the US servers will be most of it, IMHO.</div><br/></div></div></div></div><div id="36028218" class="c"><input type="checkbox" id="c-36028218" checked=""/><div class="controls bullet"><span class="by">abujazar</span><span>|</span><a href="#36027934">prev</a><span>|</span><label class="collapse" for="c-36028218">[-]</label><label class="expand" for="c-36028218">[2 more]</label></div><br/><div class="children"><div class="content">tl;dr; HTTP3 provides a little improvement, but optimizing search speed is much more important in this case.</div><br/><div id="36028279" class="c"><input type="checkbox" id="c-36028279" checked=""/><div class="controls bullet"><span class="by">Thiez</span><span>|</span><a href="#36028218">parent</a><span>|</span><label class="collapse" for="c-36028279">[-]</label><label class="expand" for="c-36028279">[1 more]</label></div><br/><div class="children"><div class="content">Although HTTP3 was a significant win for people with lossy connections and high latency.</div><br/></div></div></div></div></div></div></div></div></div></body></html>