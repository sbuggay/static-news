<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1722416514608" as="style"/><link rel="stylesheet" href="styles.css?v=1722416514608"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/sickcodes/Docker-OSX">macOS in Docker Container</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>lijunhao</span> | <span>32 comments</span></div><br/><div><div id="41116977" class="c"><input type="checkbox" id="c-41116977" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#41117252">next</a><span>|</span><label class="collapse" for="c-41116977">[-]</label><label class="expand" for="c-41116977">[10 more]</label></div><br/><div class="children"><div class="content">So, to clarify things: it&#x27;s QEMU running in a container, and macOS running under QEMU inside it.<p>This is really nice WRT the ease of installation: no manual setup steps and all.<p>This likely expressly violates the [macOS EULA], which says: <i>«you are granted a limited, non-exclusive license to install, use and run one (1) copy of the Apple Software on a single Apple-branded computer at any one time»</i> — because the point is to run it not on a  Mac. So, pull it and keep it around; expect a C&amp;D letter come any moment.<p>[macOS EULA]: <a href="https:&#x2F;&#x2F;www.apple.com&#x2F;legal&#x2F;sla&#x2F;docs&#x2F;macOSMonterey.pdf" rel="nofollow">https:&#x2F;&#x2F;www.apple.com&#x2F;legal&#x2F;sla&#x2F;docs&#x2F;macOSMonterey.pdf</a> (Other versions contain the same language.)</div><br/><div id="41117017" class="c"><input type="checkbox" id="c-41117017" checked=""/><div class="controls bullet"><span class="by">jbverschoor</span><span>|</span><a href="#41116977">parent</a><span>|</span><a href="#41117409">next</a><span>|</span><label class="collapse" for="c-41117017">[-]</label><label class="expand" for="c-41117017">[5 more]</label></div><br/><div class="children"><div class="content">(iii) to install, use and run up to two (2) additional copies or instances of the Apple Software, or
any prior macOS or OS X operating system software or subsequent release of the Apple
Software, within virtual operating system environments on each Apple-branded computer you
own or control that is already running the Apple Software, for purposes of: (a) software
development; (b) testing during software development; (c) using macOS Server; or (d) personal,
non-commercial use</div><br/><div id="41117173" class="c"><input type="checkbox" id="c-41117173" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#41116977">root</a><span>|</span><a href="#41117017">parent</a><span>|</span><a href="#41117409">next</a><span>|</span><label class="collapse" for="c-41117173">[-]</label><label class="expand" for="c-41117173">[4 more]</label></div><br/><div class="children"><div class="content">Indeed. That would cover a conventionally installed VM, like VirtualBox.<p>But this is packaged as a Docker image, and Docker is Linux-specific. Linux is not officially supported by Apple on their hardware, and is certainly not prevalent on it. I doubt that the intended target audience of this project is limited to Asahi Linux.</div><br/><div id="41117243" class="c"><input type="checkbox" id="c-41117243" checked=""/><div class="controls bullet"><span class="by">rbut</span><span>|</span><a href="#41116977">root</a><span>|</span><a href="#41117173">parent</a><span>|</span><a href="#41117204">next</a><span>|</span><label class="collapse" for="c-41117243">[-]</label><label class="expand" for="c-41117243">[1 more]</label></div><br/><div class="children"><div class="content">Docker can run on macOS (albeit in a VM), but its still running on a Mac &quot;that is already running the Apple Software&quot;. So its a perfectly valid option for Mac owners, even if its a VM + container + VM deep.</div><br/></div></div><div id="41117204" class="c"><input type="checkbox" id="c-41117204" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#41116977">root</a><span>|</span><a href="#41117173">parent</a><span>|</span><a href="#41117243">prev</a><span>|</span><a href="#41117361">next</a><span>|</span><label class="collapse" for="c-41117204">[-]</label><label class="expand" for="c-41117204">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  I doubt that the intended target audience of this project is limited to Asahi Linux.<p>I guess that part of the license is meant to automatically disqualify an apple branded computer running a linux distro as host OS from running MacOS in a VM:
&quot;on each Apple-branded computer you own or control that is already running the Apple Software&quot;<p>Some smart ass might argue that &quot;already running the Apple software&quot; doesn&#x27;t mean at the exact same time but more like &quot;I am still running it sometimes as dual boot&quot; but I am not sure this would pass the court test.<p>And since I believe docker on MacOS runs on linux VM, so this would be running qemu on top of a linux vm on top of MacOS.<p>I can&#x27;t see any legit use of this. Anyone who would need automatized and disposable environments for CI&#x2F;CD would simply use UTM on mac minis:
<a href="https:&#x2F;&#x2F;docs.getutm.app&#x2F;scripting&#x2F;scripting&#x2F;" rel="nofollow">https:&#x2F;&#x2F;docs.getutm.app&#x2F;scripting&#x2F;scripting&#x2F;</a></div><br/></div></div><div id="41117361" class="c"><input type="checkbox" id="c-41117361" checked=""/><div class="controls bullet"><span class="by">exe34</span><span>|</span><a href="#41116977">root</a><span>|</span><a href="#41117173">parent</a><span>|</span><a href="#41117204">prev</a><span>|</span><a href="#41117409">next</a><span>|</span><label class="collapse" for="c-41117361">[-]</label><label class="expand" for="c-41117361">[1 more]</label></div><br/><div class="children"><div class="content">I run Linux on a Mac book air, so this would allow me to run macos in a controlled environment if I could think of a good reason to do so.</div><br/></div></div></div></div></div></div><div id="41117409" class="c"><input type="checkbox" id="c-41117409" checked=""/><div class="controls bullet"><span class="by">m463</span><span>|</span><a href="#41116977">parent</a><span>|</span><a href="#41117017">prev</a><span>|</span><a href="#41117309">next</a><span>|</span><label class="collapse" for="c-41117409">[-]</label><label class="expand" for="c-41117409">[1 more]</label></div><br/><div class="children"><div class="content">You can run linux on a mac.  In fact older intel used macs are inexpensive and run pretty well with little noise.<p>ubuntu installs and runs easily.  Other versions of linux - it depends.</div><br/></div></div><div id="41117309" class="c"><input type="checkbox" id="c-41117309" checked=""/><div class="controls bullet"><span class="by">znpy</span><span>|</span><a href="#41116977">parent</a><span>|</span><a href="#41117409">prev</a><span>|</span><a href="#41117445">next</a><span>|</span><label class="collapse" for="c-41117309">[-]</label><label class="expand" for="c-41117309">[2 more]</label></div><br/><div class="children"><div class="content">&gt; you are granted a limited, non-exclusive license to install, use and run one (1) copy of the Apple Software on a single Apple-branded computer at any one time»<p>In that case... If I run Asahi Linux on my apple-silicon macbook pro as main operating system and then run macOS in a container I should be fine.</div><br/><div id="41117327" class="c"><input type="checkbox" id="c-41117327" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#41116977">root</a><span>|</span><a href="#41117309">parent</a><span>|</span><a href="#41117445">next</a><span>|</span><label class="collapse" for="c-41117327">[-]</label><label class="expand" for="c-41117327">[1 more]</label></div><br/><div class="children"><div class="content">See the rest of the license, the host must be &quot;already running the MacOS operating system&quot; which I understand as host OS, not as capable of still running it because the sshd hasn&#x27;t been wiped of a MacOS install.</div><br/></div></div></div></div><div id="41117445" class="c"><input type="checkbox" id="c-41117445" checked=""/><div class="controls bullet"><span class="by">elliotto</span><span>|</span><a href="#41116977">parent</a><span>|</span><a href="#41117309">prev</a><span>|</span><a href="#41117252">next</a><span>|</span><label class="collapse" for="c-41117445">[-]</label><label class="expand" for="c-41117445">[1 more]</label></div><br/><div class="children"><div class="content">Who cares lol</div><br/></div></div></div></div><div id="41117252" class="c"><input type="checkbox" id="c-41117252" checked=""/><div class="controls bullet"><span class="by">Izmaki</span><span>|</span><a href="#41116977">prev</a><span>|</span><a href="#41117267">next</a><span>|</span><label class="collapse" for="c-41117252">[-]</label><label class="expand" for="c-41117252">[2 more]</label></div><br/><div class="children"><div class="content">I really hate when &quot;USB Passthrough&quot; is used in situations when, at best, a &quot;USB over ethernet proxy&quot; is what is happening. That&#x27;s not passthrough... It introduces a whole range of disadvantages that regular passthrough does not (and advanced passthrough might not) have.</div><br/><div id="41117421" class="c"><input type="checkbox" id="c-41117421" checked=""/><div class="controls bullet"><span class="by">arghwhat</span><span>|</span><a href="#41117252">parent</a><span>|</span><a href="#41117267">next</a><span>|</span><label class="collapse" for="c-41117421">[-]</label><label class="expand" for="c-41117421">[1 more]</label></div><br/><div class="children"><div class="content">Eh? QEMU USB passthrough is true USB passthrough. The problems with USB passthrough stem from issues related to USB controllers themselves and how device enumeration works, with the only better solution being PCIe passthrough of entire USB controllers... Which then present a different set of problems. Speaking from experience in large VM test farms with a significant amount of forwarded hardware.<p>(However, &quot;USB over ethernet proxy&quot; is also a true passthrough, just one with higher latency than VirtIO.)</div><br/></div></div></div></div><div id="41117267" class="c"><input type="checkbox" id="c-41117267" checked=""/><div class="controls bullet"><span class="by">JayDustheadz</span><span>|</span><a href="#41117252">prev</a><span>|</span><a href="#41116734">next</a><span>|</span><label class="collapse" for="c-41117267">[-]</label><label class="expand" for="c-41117267">[3 more]</label></div><br/><div class="children"><div class="content">Can this be launched on an M1 Mac? I&#x27;m trying to find a way to run a Big Sur VM on my M1 Mac on Monterey&#x2F;Ventura.</div><br/><div id="41117289" class="c"><input type="checkbox" id="c-41117289" checked=""/><div class="controls bullet"><span class="by">dyllon</span><span>|</span><a href="#41117267">parent</a><span>|</span><a href="#41116734">next</a><span>|</span><label class="collapse" for="c-41117289">[-]</label><label class="expand" for="c-41117289">[2 more]</label></div><br/><div class="children"><div class="content">Couldn’t you use UTM to run a macOS VM?</div><br/><div id="41117303" class="c"><input type="checkbox" id="c-41117303" checked=""/><div class="controls bullet"><span class="by">JayDustheadz</span><span>|</span><a href="#41117267">root</a><span>|</span><a href="#41117289">parent</a><span>|</span><a href="#41116734">next</a><span>|</span><label class="collapse" for="c-41117303">[-]</label><label class="expand" for="c-41117303">[1 more]</label></div><br/><div class="children"><div class="content">Sadly it doesn&#x27;t look like it: <a href="https:&#x2F;&#x2F;mac.getutm.app&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mac.getutm.app&#x2F;</a>
&quot;Note that macOS VM support is limited to ARM based Macs running macOS Monterey or higher.&quot;</div><br/></div></div></div></div></div></div><div id="41116734" class="c"><input type="checkbox" id="c-41116734" checked=""/><div class="controls bullet"><span class="by">slivanes</span><span>|</span><a href="#41117267">prev</a><span>|</span><a href="#41116976">next</a><span>|</span><label class="collapse" for="c-41116734">[-]</label><label class="expand" for="c-41116734">[3 more]</label></div><br/><div class="children"><div class="content">I wonder if progress will halt once newer versions of MacOS without Intel support are released?<p>Can I run docker inside this container to get MacOS to run inside MacOS? ;)</div><br/><div id="41116879" class="c"><input type="checkbox" id="c-41116879" checked=""/><div class="controls bullet"><span class="by">vbezhenar</span><span>|</span><a href="#41116734">parent</a><span>|</span><a href="#41116894">next</a><span>|</span><label class="collapse" for="c-41116879">[-]</label><label class="expand" for="c-41116879">[1 more]</label></div><br/><div class="children"><div class="content">Theoretically you can always run qemu in full emulation mode.</div><br/></div></div><div id="41116894" class="c"><input type="checkbox" id="c-41116894" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#41116734">parent</a><span>|</span><a href="#41116879">prev</a><span>|</span><a href="#41116976">next</a><span>|</span><label class="collapse" for="c-41116894">[-]</label><label class="expand" for="c-41116894">[1 more]</label></div><br/><div class="children"><div class="content">I mean you can just do that in any supported vm program.</div><br/></div></div></div></div><div id="41116976" class="c"><input type="checkbox" id="c-41116976" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#41116734">prev</a><span>|</span><a href="#41116770">next</a><span>|</span><label class="collapse" for="c-41116976">[-]</label><label class="expand" for="c-41116976">[1 more]</label></div><br/><div class="children"><div class="content">Is the redistribution of MacOS images allowed by the license or is this project distributing illegal copies in plain sight on docker hub?</div><br/></div></div><div id="41116770" class="c"><input type="checkbox" id="c-41116770" checked=""/><div class="controls bullet"><span class="by">dariosalvi78</span><span>|</span><a href="#41116976">prev</a><span>|</span><a href="#41117090">next</a><span>|</span><label class="collapse" for="c-41116770">[-]</label><label class="expand" for="c-41116770">[7 more]</label></div><br/><div class="children"><div class="content">Can this run xcode?</div><br/><div id="41116897" class="c"><input type="checkbox" id="c-41116897" checked=""/><div class="controls bullet"><span class="by">XiS</span><span>|</span><a href="#41116770">parent</a><span>|</span><a href="#41116796">next</a><span>|</span><label class="collapse" for="c-41116897">[-]</label><label class="expand" for="c-41116897">[5 more]</label></div><br/><div class="children"><div class="content">I tried this last year. It works though it&#x27;s pretty slow.<p>I really hate having to also support the Apple ecosystem. Development, CI&#x2F;CD integration is really poor without having to buy the hardware.</div><br/><div id="41116969" class="c"><input type="checkbox" id="c-41116969" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#41116770">root</a><span>|</span><a href="#41116897">parent</a><span>|</span><a href="#41116796">next</a><span>|</span><label class="collapse" for="c-41116969">[-]</label><label class="expand" for="c-41116969">[4 more]</label></div><br/><div class="children"><div class="content">I run full apple hardware and &lt; 2 years old and the damn thing is still pretty slow.</div><br/><div id="41116982" class="c"><input type="checkbox" id="c-41116982" checked=""/><div class="controls bullet"><span class="by">KronisLV</span><span>|</span><a href="#41116770">root</a><span>|</span><a href="#41116969">parent</a><span>|</span><a href="#41116796">next</a><span>|</span><label class="collapse" for="c-41116982">[-]</label><label class="expand" for="c-41116982">[3 more]</label></div><br/><div class="children"><div class="content">I have an M1 MacBook Air and the iPhone 2022 SE, so far the performance of both is pretty good!<p>However, the prices are definitely outside my regular budget (needed it for an iOS app project cause of walled garden ecosystem) and I only got the 8 GB MacBook which in hindsight very much feels like a mistake, even with the exorbitant pricing for the 16 GB model.<p>For the price of the 8 GB model I could have gotten a nice laptop with 32 GB of RAM built in. That said, I don’t hate the OS, it’s all quite pleasant and performs well.</div><br/><div id="41117210" class="c"><input type="checkbox" id="c-41117210" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#41116770">root</a><span>|</span><a href="#41116982">parent</a><span>|</span><a href="#41117333">next</a><span>|</span><label class="collapse" for="c-41117210">[-]</label><label class="expand" for="c-41117210">[1 more]</label></div><br/><div class="children"><div class="content">He is meaning the performance of MacOS in docker is pretty slow on &quot;native&quot; MacOS hardware, not that his 2y old hardware has become slow.</div><br/></div></div><div id="41117333" class="c"><input type="checkbox" id="c-41117333" checked=""/><div class="controls bullet"><span class="by">evnix</span><span>|</span><a href="#41116770">root</a><span>|</span><a href="#41116982">parent</a><span>|</span><a href="#41117210">prev</a><span>|</span><a href="#41116796">next</a><span>|</span><label class="collapse" for="c-41117333">[-]</label><label class="expand" for="c-41117333">[1 more]</label></div><br/><div class="children"><div class="content">Next time, just get a mac mini and plug in an external ssd</div><br/></div></div></div></div></div></div></div></div><div id="41116796" class="c"><input type="checkbox" id="c-41116796" checked=""/><div class="controls bullet"><span class="by">slivanes</span><span>|</span><a href="#41116770">parent</a><span>|</span><a href="#41116897">prev</a><span>|</span><a href="#41117090">next</a><span>|</span><label class="collapse" for="c-41116796">[-]</label><label class="expand" for="c-41116796">[1 more]</label></div><br/><div class="children"><div class="content">According to the readme on github, yes, although it takes about an extra 30GB of drive space.</div><br/></div></div></div></div><div id="41117090" class="c"><input type="checkbox" id="c-41117090" checked=""/><div class="controls bullet"><span class="by">misiek08</span><span>|</span><a href="#41116770">prev</a><span>|</span><a href="#41116535">next</a><span>|</span><label class="collapse" for="c-41117090">[-]</label><label class="expand" for="c-41117090">[2 more]</label></div><br/><div class="children"><div class="content">How many levels possible? Did anyone already try?
I mean MacOS running on docker on MacOS running on docker on MacOS running on docker on MacOS...</div><br/><div id="41117288" class="c"><input type="checkbox" id="c-41117288" checked=""/><div class="controls bullet"><span class="by">hda111</span><span>|</span><a href="#41117090">parent</a><span>|</span><a href="#41116535">next</a><span>|</span><label class="collapse" for="c-41117288">[-]</label><label class="expand" for="c-41117288">[1 more]</label></div><br/><div class="children"><div class="content">Will not work with Docker on Mac: <a href="https:&#x2F;&#x2F;github.com&#x2F;moby&#x2F;hyperkit&#x2F;issues&#x2F;127">https:&#x2F;&#x2F;github.com&#x2F;moby&#x2F;hyperkit&#x2F;issues&#x2F;127</a></div><br/></div></div></div></div><div id="41116535" class="c"><input type="checkbox" id="c-41116535" checked=""/><div class="controls bullet"><span class="by">cranberryturkey</span><span>|</span><a href="#41117090">prev</a><span>|</span><label class="collapse" for="c-41116535">[-]</label><label class="expand" for="c-41116535">[3 more]</label></div><br/><div class="children"><div class="content">Does this work with kde&#x2F;wayland?</div><br/><div id="41116735" class="c"><input type="checkbox" id="c-41116735" checked=""/><div class="controls bullet"><span class="by">rzzzt</span><span>|</span><a href="#41116535">parent</a><span>|</span><a href="#41116837">next</a><span>|</span><label class="collapse" for="c-41116735">[-]</label><label class="expand" for="c-41116735">[1 more]</label></div><br/><div class="children"><div class="content">It looks like the &quot;vnc-version&quot; Dockerfiles will set up an Xvnc server and direct QEMU&#x27;s output to it, and you can connect to that using a VNC client. The standard version sets up X11 forwarding over SSH and&#x2F;or you can pass the host&#x27;s X11 socket and corresponding DISPLAY variable directly to the container.<p>QEMU also has its own built-in remote access capabilities (SPICE and VNC-based) but the former needs guest support.</div><br/></div></div><div id="41116837" class="c"><input type="checkbox" id="c-41116837" checked=""/><div class="controls bullet"><span class="by">duskwuff</span><span>|</span><a href="#41116535">parent</a><span>|</span><a href="#41116735">prev</a><span>|</span><label class="collapse" for="c-41116837">[-]</label><label class="expand" for="c-41116837">[1 more]</label></div><br/><div class="children"><div class="content">It looks like it&#x27;s running macOS under qemu (i.e. contained in a window), so I don&#x27;t see any reason why it wouldn&#x27;t.</div><br/></div></div></div></div></div></div></div></div></div></body></html>