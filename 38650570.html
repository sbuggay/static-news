<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1702630857248" as="style"/><link rel="stylesheet" href="styles.css?v=1702630857248"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/ncruces/go-sqlite-bench">Show HN: My Go SQLite driver did poorly on a benchmark, so I fixed it</a>Â <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>ncruces</span> | <span>11 comments</span></div><br/><div><div id="38651830" class="c"><input type="checkbox" id="c-38651830" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#38651212">next</a><span>|</span><label class="collapse" for="c-38651830">[-]</label><label class="expand" for="c-38651830">[1 more]</label></div><br/><div class="children"><div class="content">Hey, that&#x27;s awesome. I think if I wanted a CGo-less solution, I would&#x27;ve probably picked the modernc variation, but honestly this looks very polished + the modernc version is known to be slow in some cases (though, the benchmarks actually made it look alright, realistically.)<p>One question I have is, is there a strategy to stop the performance from accidentally regressing in the future? Seems like it might not be a bad idea to include some benchmarks in the repository if you don&#x27;t already.<p>Also, personally, I am interested in the nitty gritty of why it was slow and how you fixed it, so if you write it anywhere in this thread at least I will definitely read it through.</div><br/></div></div><div id="38651212" class="c"><input type="checkbox" id="c-38651212" checked=""/><div class="controls bullet"><span class="by">ridiculous_fish</span><span>|</span><a href="#38651830">prev</a><span>|</span><a href="#38651394">next</a><span>|</span><label class="collapse" for="c-38651212">[-]</label><label class="expand" for="c-38651212">[1 more]</label></div><br/><div class="children"><div class="content">You mentioned a compiler crash - I suppose that means the Go compiler? That&#x27;s pretty interesting! Any more information about the crash? Did you file a bug report?</div><br/></div></div><div id="38651394" class="c"><input type="checkbox" id="c-38651394" checked=""/><div class="controls bullet"><span class="by">nicetryguy</span><span>|</span><a href="#38651212">prev</a><span>|</span><a href="#38651395">next</a><span>|</span><label class="collapse" for="c-38651394">[-]</label><label class="expand" for="c-38651394">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m glad with community feedback and research you were able to bolster your driver!</div><br/></div></div><div id="38651395" class="c"><input type="checkbox" id="c-38651395" checked=""/><div class="controls bullet"><span class="by">carbocation</span><span>|</span><a href="#38651394">prev</a><span>|</span><a href="#38651177">next</a><span>|</span><label class="collapse" for="c-38651395">[-]</label><label class="expand" for="c-38651395">[5 more]</label></div><br/><div class="children"><div class="content">Basically a throwaway comment that is somewhat off topic, but your current Github README is very &quot;inside baseball.&quot; I think it would be worth a one-sentence introduction to what your library can do (allows an app to incorporate a database, and it also has compatibility with a very popular library called SQLite, etc), then to tout the benefits of not requiring CGO, etc.</div><br/><div id="38651500" class="c"><input type="checkbox" id="c-38651500" checked=""/><div class="controls bullet"><span class="by">KingOfCoders</span><span>|</span><a href="#38651395">parent</a><span>|</span><a href="#38651760">next</a><span>|</span><label class="collapse" for="c-38651500">[-]</label><label class="expand" for="c-38651500">[3 more]</label></div><br/><div class="children"><div class="content">I think when you create a website (write a document, write a README) it is important to imagine the top 3 reader&#x2F;visitor personas. What do they want from the README (website)?<p><pre><code>  1. Go+SQLite user: No CGO
  2. Go user
  3. Wanting to use the library
  4. Someone following a link from HN
  5. ...</code></pre></div><br/><div id="38651532" class="c"><input type="checkbox" id="c-38651532" checked=""/><div class="controls bullet"><span class="by">carbocation</span><span>|</span><a href="#38651395">root</a><span>|</span><a href="#38651500">parent</a><span>|</span><a href="#38651760">next</a><span>|</span><label class="collapse" for="c-38651532">[-]</label><label class="expand" for="c-38651532">[2 more]</label></div><br/><div class="children"><div class="content">Agreed, although I think a brief one-line intro to what this thing does wouldn&#x27;t really interrupt the flow for any of the above use-cases. Right now, the top of the README is a list of sub-libraries, listing the library first.<p>Personally, I would add ~2 sentences in the order I outlined, and then I would reorient the list (currently library-first) in a use-case first arrangement like you mentioned.<p>I mean, realistically my git repos are a mess, so who am I to talk? But this one looks promising enough such that it&#x27;s worth offering a bit of feedback.</div><br/><div id="38652030" class="c"><input type="checkbox" id="c-38652030" checked=""/><div class="controls bullet"><span class="by">KingOfCoders</span><span>|</span><a href="#38651395">root</a><span>|</span><a href="#38651532">parent</a><span>|</span><a href="#38651760">next</a><span>|</span><label class="collapse" for="c-38652030">[-]</label><label class="expand" for="c-38652030">[1 more]</label></div><br/><div class="children"><div class="content">Agree,<p>4. Someone following a link from HN<p>I&#x27;m often confused when clicking through from HN and can&#x27;t figure out from the website or README what the project is doing.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>