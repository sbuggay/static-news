<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1696323664195" as="style"/><link rel="stylesheet" href="styles.css?v=1696323664195"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://tonsky.me/blog/unicode/">What every software developer must know about Unicode in 2023</a> <span class="domain">(<a href="https://tonsky.me">tonsky.me</a>)</span></div><div class="subtext"><span>mrzool</span> | <span>324 comments</span></div><br/><div><div id="37737865" class="c"><input type="checkbox" id="c-37737865" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#37739494">next</a><span>|</span><label class="collapse" for="c-37737865">[-]</label><label class="expand" for="c-37737865">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;archive.ph&#x2F;LtKk0" rel="nofollow noreferrer">https:&#x2F;&#x2F;archive.ph&#x2F;LtKk0</a></div><br/><div id="37742100" class="c"><input type="checkbox" id="c-37742100" checked=""/><div class="controls bullet"><span class="by">neonate</span><span>|</span><a href="#37737865">parent</a><span>|</span><a href="#37739494">next</a><span>|</span><label class="collapse" for="c-37742100">[-]</label><label class="expand" for="c-37742100">[1 more]</label></div><br/><div class="children"><div class="content"><a href="http:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20231002163213&#x2F;https:&#x2F;&#x2F;tonsky.me&#x2F;blog&#x2F;unicode&#x2F;" rel="nofollow noreferrer">http:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20231002163213&#x2F;https:&#x2F;&#x2F;tonsky.me&#x2F;...</a></div><br/></div></div></div></div><div id="37739494" class="c"><input type="checkbox" id="c-37739494" checked=""/><div class="controls bullet"><span class="by">jcranmer</span><span>|</span><a href="#37737865">prev</a><span>|</span><a href="#37737920">next</a><span>|</span><label class="collapse" for="c-37739494">[-]</label><label class="expand" for="c-37739494">[63 more]</label></div><br/><div class="children"><div class="content">There&#x27;s one part of this document that I would push extremely hard against, and that&#x27;s the notion that &quot;extended grapheme clusters&quot; are the one true, right way to think of characters in Unicode, and therefore any language that views the length in any other way is doing it wrong.<p>The truth of the matter is that there are several different definitions of &quot;character&quot;, depending on what you want to use it for. An extended grapheme cluster is largely defined on &quot;this visually displays as a single unit&quot;, which isn&#x27;t necessarily correct for things like &quot;display size in a monospace font&quot; or &quot;thing that gets deleted when you hit backspace.&quot; Like so many other things in Unicode, the correct answer is use-case dependent.<p>(And for this reason, String iteration should be based on codepoints--it&#x27;s the fundamental level on which Unicode works, and whatever algorithm you want to use to derive the correct answer for your purpose will be based on codepoint iteration. hsivonen&#x27;s article (<a href="https:&#x2F;&#x2F;hsivonen.fi&#x2F;string-length&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;hsivonen.fi&#x2F;string-length&#x2F;</a>), linked in this one, does try to explain why extended grapheme clusters is the wrong primitive to use in a language.)</div><br/><div id="37741786" class="c"><input type="checkbox" id="c-37741786" checked=""/><div class="controls bullet"><span class="by">raphlinus</span><span>|</span><a href="#37739494">parent</a><span>|</span><a href="#37739596">next</a><span>|</span><label class="collapse" for="c-37741786">[-]</label><label class="expand" for="c-37741786">[2 more]</label></div><br/><div class="children"><div class="content">Agreed. And one more consideration is that (extended) grapheme cluster boundaries vary from one version of Unicode to another, and also allow for &quot;tailoring.&quot; For example, should &quot;อำ&quot; be one grapheme cluster or two? It&#x27;s two on Android but one by Unicode recommendation and is the behavior on mac. So in applications where a query such as length needs to have one definitive answer which cannot change by context, counting (extended) grapheme clusters is the wrong way to go.</div><br/><div id="37748049" class="c"><input type="checkbox" id="c-37748049" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741786">parent</a><span>|</span><a href="#37739596">next</a><span>|</span><label class="collapse" for="c-37748049">[-]</label><label class="expand" for="c-37748049">[1 more]</label></div><br/><div class="children"><div class="content">In fact, the name &quot;extended&quot; grapheme cluster should give it away. There was already a major revision to UAX #29 so that the original version is now referred as to &quot;legacy&quot;. Your example is exactly this case: the second character, U+0E33 THAI CHARACTER SARA AM, prohibits a cluster boundary now but previously didn&#x27;t [1].<p>[1] Relevant specifications: <a href="https:&#x2F;&#x2F;unicode.org&#x2F;reports&#x2F;tr29&#x2F;#SpacingMark" rel="nofollow noreferrer">https:&#x2F;&#x2F;unicode.org&#x2F;reports&#x2F;tr29&#x2F;#SpacingMark</a> and <a href="https:&#x2F;&#x2F;unicode.org&#x2F;reports&#x2F;tr29&#x2F;#GB9a" rel="nofollow noreferrer">https:&#x2F;&#x2F;unicode.org&#x2F;reports&#x2F;tr29&#x2F;#GB9a</a></div><br/></div></div></div></div><div id="37739596" class="c"><input type="checkbox" id="c-37739596" checked=""/><div class="controls bullet"><span class="by">pif</span><span>|</span><a href="#37739494">parent</a><span>|</span><a href="#37741786">prev</a><span>|</span><a href="#37742484">next</a><span>|</span><label class="collapse" for="c-37739596">[-]</label><label class="expand" for="c-37739596">[37 more]</label></div><br/><div class="children"><div class="content">&gt; An extended grapheme cluster is largely defined on &quot;this visually displays as a single unit&quot;, which isn&#x27;t necessarily correct for things like &quot;display size in a monospace font&quot; or &quot;thing that gets deleted when you hit backspace.&quot;<p>I&#x27;m sorry, but I fail to see how &quot;This visually displays as a single unit&quot; could ever differ from &quot;Display size in a monospace font&quot; or &quot;Thing that gets deleted when you hit backspace&quot;.</div><br/><div id="37739904" class="c"><input type="checkbox" id="c-37739904" checked=""/><div class="controls bullet"><span class="by">jfultz</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37739596">parent</a><span>|</span><a href="#37739648">next</a><span>|</span><label class="collapse" for="c-37739904">[-]</label><label class="expand" for="c-37739904">[1 more]</label></div><br/><div class="children"><div class="content">A couple of cases I&#x27;m aware of...<p>* Coding ligatures often display as a single glyph (maybe occupying a single-width character space, or maybe spread out over multiple spaces), but are composed of multiple glyphs.  The ligature may &quot;look&quot; like a single character for purposes of selection and cursoring, but it can act like multiple characters when subject to backspacing.<p>* Similarly, I&#x27;ve seen keyboard interfaces for various languages (e.g., Hindi) where standard grapheme cluster rules bind together a group of code points, but the grapheme cluster was composed from multiple key presses (which typically add one code point each to the cluster).  And in some such interfaces I&#x27;ve seen, the cluster can be decomposed by an equal number of backspace presses.  I don&#x27;t have a good sense of how much a monospaced Hindi font makes sense, but it&#x27;s definitely a case where a &quot;character&quot; doesn&#x27;t always act &quot;character-like&quot;.</div><br/></div></div><div id="37739648" class="c"><input type="checkbox" id="c-37739648" checked=""/><div class="controls bullet"><span class="by">mattnewton</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37739596">parent</a><span>|</span><a href="#37739904">prev</a><span>|</span><a href="#37739664">next</a><span>|</span><label class="collapse" for="c-37739648">[-]</label><label class="expand" for="c-37739648">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Display size in a monospace font<p>Some clusters are going to be multiple characters wide.<p>&gt; thing that gets deleted when you hit backspace<p>Some clusters are meant to be composted of multiple keystrokes and a natural editing experience would allow users to delete the last stroke.<p>Look into how Korean works.</div><br/></div></div><div id="37739664" class="c"><input type="checkbox" id="c-37739664" checked=""/><div class="controls bullet"><span class="by">jcranmer</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37739596">parent</a><span>|</span><a href="#37739648">prev</a><span>|</span><a href="#37739859">next</a><span>|</span><label class="collapse" for="c-37739664">[-]</label><label class="expand" for="c-37739664">[1 more]</label></div><br/><div class="children"><div class="content">See, e.g., <a href="https:&#x2F;&#x2F;github.com&#x2F;xi-editor&#x2F;xi-editor&#x2F;issues&#x2F;655">https:&#x2F;&#x2F;github.com&#x2F;xi-editor&#x2F;xi-editor&#x2F;issues&#x2F;655</a> for why backspace isn&#x27;t the same as extended grapheme cluster.<p>As for &quot;display size in monospace font&quot;, emojis and CJK characters are usually two units wide, not one (although, to be honest, there&#x27;s a fair amount of bugs in the Unicode properties that define this).</div><br/></div></div><div id="37739859" class="c"><input type="checkbox" id="c-37739859" checked=""/><div class="controls bullet"><span class="by">RichieAHB</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37739596">parent</a><span>|</span><a href="#37739664">prev</a><span>|</span><a href="#37744439">next</a><span>|</span><label class="collapse" for="c-37739859">[-]</label><label class="expand" for="c-37739859">[1 more]</label></div><br/><div class="children"><div class="content">Here’s a good example of the test cases used for backspaces in Android[1]. It’s definitely more involved than just deleting a grapheme cluster.<p>[1] <a href="https:&#x2F;&#x2F;android.googlesource.com&#x2F;platform&#x2F;frameworks&#x2F;base&#x2F;+&#x2F;refs&#x2F;heads&#x2F;main&#x2F;core&#x2F;tests&#x2F;coretests&#x2F;src&#x2F;android&#x2F;text&#x2F;method&#x2F;BackspaceTest.java" rel="nofollow noreferrer">https:&#x2F;&#x2F;android.googlesource.com&#x2F;platform&#x2F;frameworks&#x2F;base&#x2F;+&#x2F;...</a></div><br/></div></div><div id="37744439" class="c"><input type="checkbox" id="c-37744439" checked=""/><div class="controls bullet"><span class="by">yeputons</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37739596">parent</a><span>|</span><a href="#37739859">prev</a><span>|</span><a href="#37741052">next</a><span>|</span><label class="collapse" for="c-37744439">[-]</label><label class="expand" for="c-37744439">[1 more]</label></div><br/><div class="children"><div class="content">Here is a full article of such examples: <a href="https:&#x2F;&#x2F;manishearth.github.io&#x2F;blog&#x2F;2017&#x2F;01&#x2F;14&#x2F;stop-ascribing-meaning-to-unicode-code-points&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;manishearth.github.io&#x2F;blog&#x2F;2017&#x2F;01&#x2F;14&#x2F;stop-ascribing...</a><p>Discussion on HN: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=31858311">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=31858311</a></div><br/></div></div><div id="37741052" class="c"><input type="checkbox" id="c-37741052" checked=""/><div class="controls bullet"><span class="by">orphea</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37739596">parent</a><span>|</span><a href="#37744439">prev</a><span>|</span><a href="#37743310">next</a><span>|</span><label class="collapse" for="c-37741052">[-]</label><label class="expand" for="c-37741052">[27 more]</label></div><br/><div class="children"><div class="content">If you type &quot;a&quot;, combine it with &quot;´&quot;, then change your mind and hit backspace, you probably want to end up with &quot;a&quot; even through &quot;á&quot; was a thing &quot;visually displayed as a single unit&quot;.</div><br/><div id="37743258" class="c"><input type="checkbox" id="c-37743258" checked=""/><div class="controls bullet"><span class="by">mostlylurks</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741052">parent</a><span>|</span><a href="#37741619">next</a><span>|</span><label class="collapse" for="c-37743258">[-]</label><label class="expand" for="c-37743258">[1 more]</label></div><br/><div class="children"><div class="content">As a European, no I don&#x27;t. á isn&#x27;t used in my language, but my layout offers it via a dead-key-then-base-letter mechanism, and it is correctly treated as one unit when pressing backspace, anything else would feel incorrect. It would be even worse if such a thing happened for the letters that my layout offers individual buttons for (ÅÄÖ). Some languages do treat these as letters with attached modifiers, but many, including mine, treat them as indivisible letters that just happen to look similar to some others for historical reasons, and to treat them as combinations of base letters and diacritics would be completely incorrect, even if you typed them in using the dead-key-then-base-letter mechanism for some reason.</div><br/></div></div><div id="37741619" class="c"><input type="checkbox" id="c-37741619" checked=""/><div class="controls bullet"><span class="by">Findecanor</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741052">parent</a><span>|</span><a href="#37743258">prev</a><span>|</span><a href="#37741183">next</a><span>|</span><label class="collapse" for="c-37741619">[-]</label><label class="expand" for="c-37741619">[20 more]</label></div><br/><div class="children"><div class="content">Most European keyboard layouts have it the other way around: first press a &quot;dead key&quot; for the diacritic mark and then the letter to apply it to.<p>Where some layouts may require this method for some characters, another keyboard layout may have the same character on a dedicated key.<p>The program receives the combined character as one unit, and does not need to be aware of different keyboard layouts.</div><br/><div id="37745354" class="c"><input type="checkbox" id="c-37745354" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741619">parent</a><span>|</span><a href="#37741962">next</a><span>|</span><label class="collapse" for="c-37745354">[-]</label><label class="expand" for="c-37745354">[1 more]</label></div><br/><div class="children"><div class="content">&gt; first press a &quot;dead key&quot; for the diacritic mark and then the letter to apply it to.<p>That being exactly the way “floating diacritics” in ISO 2022 (or properly one of its Latin encodings, T.51 = ISO 6937) work, amusingly. I wonder which came first. (Yes, I know that a&lt;BS&gt;` came first, the ASCII spec even says that this should give you an accented character IIRC. Or perhaps it was one of the other “don’t call it ASCII” specs—ISO 646? IA5?..)</div><br/></div></div><div id="37741962" class="c"><input type="checkbox" id="c-37741962" checked=""/><div class="controls bullet"><span class="by">umanwizard</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741619">parent</a><span>|</span><a href="#37745354">prev</a><span>|</span><a href="#37741183">next</a><span>|</span><label class="collapse" for="c-37741962">[-]</label><label class="expand" for="c-37741962">[18 more]</label></div><br/><div class="children"><div class="content">&gt; Most European keyboard layouts have it the other way around: first press a &quot;dead key&quot; for the diacritic mark and then the letter to apply it to.<p>Which ones? At least the French and German ones don’t work like that: there is no composing, just separate keys for all the characters with diacritics that appear in the language.</div><br/><div id="37743086" class="c"><input type="checkbox" id="c-37743086" checked=""/><div class="controls bullet"><span class="by">TacticalCoder</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741962">parent</a><span>|</span><a href="#37742467">next</a><span>|</span><label class="collapse" for="c-37743086">[-]</label><label class="expand" for="c-37743086">[3 more]</label></div><br/><div class="children"><div class="content">Nitpicking but most french keyboards have both ready-made keys for &quot;é&quot; and the few other commonly use keys <i>and</i> composing: hitting either &#x27;¨&#x27; or &#x27;^&#x27;. For example hitting &#x27;¨&#x27; then &#x27;e&#x27; produces &quot;ë&quot;.</div><br/><div id="37743792" class="c"><input type="checkbox" id="c-37743792" checked=""/><div class="controls bullet"><span class="by">umanwizard</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37743086">parent</a><span>|</span><a href="#37742467">next</a><span>|</span><label class="collapse" for="c-37743792">[-]</label><label class="expand" for="c-37743792">[2 more]</label></div><br/><div class="children"><div class="content">You are right, thanks.</div><br/><div id="37748198" class="c"><input type="checkbox" id="c-37748198" checked=""/><div class="controls bullet"><span class="by">kergonath</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37743792">parent</a><span>|</span><a href="#37742467">next</a><span>|</span><label class="collapse" for="c-37748198">[-]</label><label class="expand" for="c-37748198">[1 more]</label></div><br/><div class="children"><div class="content">The AZERTY layout is nothing if not inconsistent.</div><br/></div></div></div></div></div></div><div id="37742467" class="c"><input type="checkbox" id="c-37742467" checked=""/><div class="controls bullet"><span class="by">greenshackle2</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741962">parent</a><span>|</span><a href="#37743086">prev</a><span>|</span><a href="#37743316">next</a><span>|</span><label class="collapse" for="c-37742467">[-]</label><label class="expand" for="c-37742467">[2 more]</label></div><br/><div class="children"><div class="content">Which French layout would that be? I&#x27;ve never seen a French keyboard where this is true. French is my native language. On layouts I&#x27;m familiar with, <i>some</i> accented letters have separate keys like é, but not all, the others are made by composing an accent key with a letter.</div><br/><div id="37743799" class="c"><input type="checkbox" id="c-37743799" checked=""/><div class="controls bullet"><span class="by">umanwizard</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37742467">parent</a><span>|</span><a href="#37743316">next</a><span>|</span><label class="collapse" for="c-37743799">[-]</label><label class="expand" for="c-37743799">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re right, sorry. I had forgotten about the ^ and ¨ keys.</div><br/></div></div></div></div><div id="37743316" class="c"><input type="checkbox" id="c-37743316" checked=""/><div class="controls bullet"><span class="by">mostlylurks</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741962">parent</a><span>|</span><a href="#37742467">prev</a><span>|</span><a href="#37742827">next</a><span>|</span><label class="collapse" for="c-37743316">[-]</label><label class="expand" for="c-37743316">[2 more]</label></div><br/><div class="children"><div class="content">The nordic layout(s) offer such a mechanism to allow people to type in letters that you&#x27;ll find in various other European languages, even though the extra letters used in the languages themselves (ÅÄÖÆØ) are present as their own keys. Interestingly, the Swedish layout has no dedicated é key, although é occurs in some Swedish words.</div><br/><div id="37744212" class="c"><input type="checkbox" id="c-37744212" checked=""/><div class="controls bullet"><span class="by">gumby</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37743316">parent</a><span>|</span><a href="#37742827">next</a><span>|</span><label class="collapse" for="c-37744212">[-]</label><label class="expand" for="c-37744212">[1 more]</label></div><br/><div class="children"><div class="content">In Swedish, Å, Ä, and Ö are actual letters of the alphabet, while é is used in foreign words.  Like the English dieresis (e.g. in coöperate) is essentially unknown in the US and only occasionally used in England, so doesn&#x27;t give rise to characters with dieresis on the keyboard.</div><br/></div></div></div></div><div id="37742827" class="c"><input type="checkbox" id="c-37742827" checked=""/><div class="controls bullet"><span class="by">gdprrrr</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741962">parent</a><span>|</span><a href="#37743316">prev</a><span>|</span><a href="#37742863">next</a><span>|</span><label class="collapse" for="c-37742827">[-]</label><label class="expand" for="c-37742827">[1 more]</label></div><br/><div class="children"><div class="content">On the German Layout the backtick (next to the 1 key) is a dead key.</div><br/></div></div><div id="37742863" class="c"><input type="checkbox" id="c-37742863" checked=""/><div class="controls bullet"><span class="by">riggsdk</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741962">parent</a><span>|</span><a href="#37742827">prev</a><span>|</span><a href="#37744390">next</a><span>|</span><label class="collapse" for="c-37742863">[-]</label><label class="expand" for="c-37742863">[7 more]</label></div><br/><div class="children"><div class="content">Danish keyboards also require you to press &#x27;¨&#x27; first and then &#x27;o&#x27; to produce &#x27;ö&#x27;.</div><br/><div id="37743358" class="c"><input type="checkbox" id="c-37743358" checked=""/><div class="controls bullet"><span class="by">mostlylurks</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37742863">parent</a><span>|</span><a href="#37743379">next</a><span>|</span><label class="collapse" for="c-37743358">[-]</label><label class="expand" for="c-37743358">[4 more]</label></div><br/><div class="children"><div class="content">Do the danes not have the mechanism that is found on Finnish keyboard layouts, where pressing AltGr+Ö yields Ø and AltGr+Ä yields Æ, except in reverse?</div><br/><div id="37744694" class="c"><input type="checkbox" id="c-37744694" checked=""/><div class="controls bullet"><span class="by">Findecanor</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37743358">parent</a><span>|</span><a href="#37745219">next</a><span>|</span><label class="collapse" for="c-37744694">[-]</label><label class="expand" for="c-37744694">[1 more]</label></div><br/><div class="children"><div class="content">Those mappings are not universal. They are present under Linux but not on MS-Windows.
I don&#x27;t know about Mac, but the layout has in the past been slightly different there from Windows also.</div><br/></div></div><div id="37745219" class="c"><input type="checkbox" id="c-37745219" checked=""/><div class="controls bullet"><span class="by">riggsdk</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37743358">parent</a><span>|</span><a href="#37744694">prev</a><span>|</span><a href="#37743379">next</a><span>|</span><label class="collapse" for="c-37745219">[-]</label><label class="expand" for="c-37745219">[2 more]</label></div><br/><div class="children"><div class="content">For me that doesn&#x27;t work on Windows. Those key combinations doesn&#x27;t seem to do anything.</div><br/><div id="37745959" class="c"><input type="checkbox" id="c-37745959" checked=""/><div class="controls bullet"><span class="by">cardiffspaceman</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37745219">parent</a><span>|</span><a href="#37743379">next</a><span>|</span><label class="collapse" for="c-37745959">[-]</label><label class="expand" for="c-37745959">[1 more]</label></div><br/><div class="children"><div class="content">I had to change settings on Windows to get access to a mode. I could then enable that mode to be able to readily type Spanish correctly. The mode uses the key combinations as described.</div><br/></div></div></div></div></div></div><div id="37743379" class="c"><input type="checkbox" id="c-37743379" checked=""/><div class="controls bullet"><span class="by">Sardtok</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37742863">parent</a><span>|</span><a href="#37743358">prev</a><span>|</span><a href="#37744390">next</a><span>|</span><label class="collapse" for="c-37743379">[-]</label><label class="expand" for="c-37743379">[2 more]</label></div><br/><div class="children"><div class="content">But do you really use ö much over ø?</div><br/><div id="37745210" class="c"><input type="checkbox" id="c-37745210" checked=""/><div class="controls bullet"><span class="by">riggsdk</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37743379">parent</a><span>|</span><a href="#37744390">next</a><span>|</span><label class="collapse" for="c-37745210">[-]</label><label class="expand" for="c-37745210">[1 more]</label></div><br/><div class="children"><div class="content">No, but I do once in a while (very rarely) write a little in german that might use that character.</div><br/></div></div></div></div></div></div><div id="37744390" class="c"><input type="checkbox" id="c-37744390" checked=""/><div class="controls bullet"><span class="by">Reefersleep</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741962">parent</a><span>|</span><a href="#37742863">prev</a><span>|</span><a href="#37742771">next</a><span>|</span><label class="collapse" for="c-37744390">[-]</label><label class="expand" for="c-37744390">[1 more]</label></div><br/><div class="children"><div class="content">Danish is one.</div><br/></div></div><div id="37742771" class="c"><input type="checkbox" id="c-37742771" checked=""/><div class="controls bullet"><span class="by">tpm</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741962">parent</a><span>|</span><a href="#37744390">prev</a><span>|</span><a href="#37741183">next</a><span>|</span><label class="collapse" for="c-37742771">[-]</label><label class="expand" for="c-37742771">[1 more]</label></div><br/><div class="children"><div class="content">Slovak or Czech for example.</div><br/></div></div></div></div></div></div><div id="37741183" class="c"><input type="checkbox" id="c-37741183" checked=""/><div class="controls bullet"><span class="by">kdmccormick</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741052">parent</a><span>|</span><a href="#37741619">prev</a><span>|</span><a href="#37741199">next</a><span>|</span><label class="collapse" for="c-37741183">[-]</label><label class="expand" for="c-37741183">[1 more]</label></div><br/><div class="children"><div class="content">But then if I type &quot;á&quot; directly (through, say, a mobile keyboard) and hit backspace, I&#x27;d get &quot;a&quot;, which doesn&#x27;t seem <i>terrible</i> but does feel a little off.<p>Seems like the right answer for codepoints vs graphemes, unfortunately, is dependent on the context.</div><br/></div></div><div id="37741199" class="c"><input type="checkbox" id="c-37741199" checked=""/><div class="controls bullet"><span class="by">bombela</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741052">parent</a><span>|</span><a href="#37741183">prev</a><span>|</span><a href="#37741663">next</a><span>|</span><label class="collapse" for="c-37741199">[-]</label><label class="expand" for="c-37741199">[3 more]</label></div><br/><div class="children"><div class="content">I expect to delete the character &quot;á&quot;. And I prefer consistency too so I expect &quot;œ&quot; and &quot;&lt;emoji&gt;&quot; and &quot;&lt;emoji&gt;&quot; to be deleted as one unit.<p>edit: emojis are filtered by HN</div><br/><div id="37742526" class="c"><input type="checkbox" id="c-37742526" checked=""/><div class="controls bullet"><span class="by">pests</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37741199">parent</a><span>|</span><a href="#37741663">next</a><span>|</span><label class="collapse" for="c-37742526">[-]</label><label class="expand" for="c-37742526">[2 more]</label></div><br/><div class="children"><div class="content">Even the emoji&#x27;s that you create by combining multiple emojis? Type one emoji, then a second, it merges into one. What happens when you backspace?</div><br/><div id="37747016" class="c"><input type="checkbox" id="c-37747016" checked=""/><div class="controls bullet"><span class="by">bombela</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37742526">parent</a><span>|</span><a href="#37741663">next</a><span>|</span><label class="collapse" for="c-37747016">[-]</label><label class="expand" for="c-37747016">[1 more]</label></div><br/><div class="children"><div class="content">I expect the full emoji to be deleted. Because it merged into one visual entity.<p>I guess it&#x27;s more ambiguous for some languages that can have long ligatures though.</div><br/></div></div></div></div></div></div></div></div><div id="37743310" class="c"><input type="checkbox" id="c-37743310" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37739596">parent</a><span>|</span><a href="#37741052">prev</a><span>|</span><a href="#37747367">next</a><span>|</span><label class="collapse" for="c-37743310">[-]</label><label class="expand" for="c-37743310">[2 more]</label></div><br/><div class="children"><div class="content">In terminals there is a distinction between single-width and double-width characters (east-asian characters, in particular). E.g. the three characters<p><pre><code>    A美C
</code></pre>
would take up the width of four ASCII monospace characters, the “美” being double-width.<p>Similarly, for composed characters like say the ligature “ﬀ”, you may want to backspace as if it was two “f”s (which logically it is, and decomposes to in NFKD normalization).</div><br/><div id="37746128" class="c"><input type="checkbox" id="c-37746128" checked=""/><div class="controls bullet"><span class="by">jameshart</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37743310">parent</a><span>|</span><a href="#37747367">next</a><span>|</span><label class="collapse" for="c-37746128">[-]</label><label class="expand" for="c-37746128">[1 more]</label></div><br/><div class="children"><div class="content">Unicode even has distinct full width and half width variants of Japanese katakana - where ‘full width’ is (in theory) as wide as two Latin characters.<p><pre><code>   Latin:      Katakana
   Full width: カタカナ
   Half width: ｶﾀｶﾅ
</code></pre>
(How that fixed width text looks in a web browser is anyone’s guess though. On iOS none of the Japanese kana stay on the fixed grid.)</div><br/></div></div></div></div><div id="37747367" class="c"><input type="checkbox" id="c-37747367" checked=""/><div class="controls bullet"><span class="by">MatmaRex</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37739596">parent</a><span>|</span><a href="#37743310">prev</a><span>|</span><a href="#37746281">next</a><span>|</span><label class="collapse" for="c-37747367">[-]</label><label class="expand" for="c-37747367">[1 more]</label></div><br/><div class="children"><div class="content">﷽<p>𒐫<p>𒈙<p>꧅</div><br/></div></div><div id="37746281" class="c"><input type="checkbox" id="c-37746281" checked=""/><div class="controls bullet"><span class="by">barkingcat</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37739596">parent</a><span>|</span><a href="#37747367">prev</a><span>|</span><a href="#37742484">next</a><span>|</span><label class="collapse" for="c-37746281">[-]</label><label class="expand" for="c-37746281">[1 more]</label></div><br/><div class="children"><div class="content">characters that alter their appearance to be one or more display units depending on the characters that are next to it (before and after). that would be a very crude example, but these types of characters appear all the time in human language</div><br/></div></div></div></div><div id="37742484" class="c"><input type="checkbox" id="c-37742484" checked=""/><div class="controls bullet"><span class="by">lucideer</span><span>|</span><a href="#37739494">parent</a><span>|</span><a href="#37739596">prev</a><span>|</span><a href="#37742841">next</a><span>|</span><label class="collapse" for="c-37742484">[-]</label><label class="expand" for="c-37742484">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not Korean but seeing that said of the Hangul example definitely made me pause - I doubt Koreans think of that example as a single grapheme (open to correction), though it is an excellent example all the same since it demonstrates the complexity of defining &quot;units&quot; consistently across language.<p>It reminds me a little of Open Street Map&#x27;s inconsistent administrative hierarchies (&quot;states&quot;, &quot;countries&quot;, &quot;counties&quot;, etc. being represented at different administrative &quot;levels&quot; in their hierarchy for each geographical area), and how that hinders consistency in styling- font size, zoom levels, etc. being generally applied by level.</div><br/><div id="37747555" class="c"><input type="checkbox" id="c-37747555" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37742484">parent</a><span>|</span><a href="#37742841">next</a><span>|</span><label class="collapse" for="c-37747555">[-]</label><label class="expand" for="c-37747555">[1 more]</label></div><br/><div class="children"><div class="content">As a native Korean, I can confirm that &quot;각&quot; is perceived as a single character. But the example itself is bad anyway because everyone use a precomposed form U+AC01 instead of U+1100 U+1161 U+11A8 instead (they are canonically equivalent). This is more clear when you also consider a compatibility representation &quot;ㄱㅏㄱ&quot; U+3131 U+314F U+3131, which is same to &quot;각&quot; after compatibility normalizations (NFKC or NFKD), but perceived as three atomic characters in general.</div><br/></div></div></div></div><div id="37742841" class="c"><input type="checkbox" id="c-37742841" checked=""/><div class="controls bullet"><span class="by">riggsdk</span><span>|</span><a href="#37739494">parent</a><span>|</span><a href="#37742484">prev</a><span>|</span><a href="#37743561">next</a><span>|</span><label class="collapse" for="c-37742841">[-]</label><label class="expand" for="c-37742841">[15 more]</label></div><br/><div class="children"><div class="content">There are libraries that help with iterating both code-points and grapheme clusters...
 - but are there any of them that can help decide what to do for example when pressing backspace given an input string and a cursor position? Or any other text editing behavior. This use-case-dependent behavior must have some &quot;correct&quot; behavior that is standardized somewhere?<p>Like a way to query what should be treated like a single &quot;symbol&quot; when selecting text?
Basically something that could help out users making simple text-editors.
There are so many bad implementations out there that does it incorrectly so there must be some tools&#x2F;libraries to help with this? 
Not only for actual applications but for people making games as well where you want users to enter names, chat or other text.
Not all platforms make it easy (or possible) to embed a fully fledged text editing engine for those use-cases.<p>I can imagine that typing a multi-code-point character manually by hand would allow the user to undo their typing mistake by a single backspace press when they are actively typing it, but after that if you return to the symbol and press backspace that it would delete the whole symbol (grapheme cluster).<p>For example if you manually entered the code points for the various family combination emojis (mother, son, daughter) you could still correct it for a while - but after the fact the editor would only see it as a single symbol to be deleted with a single backspace press?<p>Or typing &#x27;o&#x27; + &#x27;¨&#x27; to produce &#x27;ö&#x27; but realizing you wanted to type &#x27;ô&#x27;, there just one backspace press would revert it to &#x27;o&#x27; again and you could press &#x27;^&#x27; to get the &#x27;ô&#x27;. (Not sure that is the way in which you would normally type those characters but it seems possible to do it with unicode that way).</div><br/><div id="37743779" class="c"><input type="checkbox" id="c-37743779" checked=""/><div class="controls bullet"><span class="by">jcranmer</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37742841">parent</a><span>|</span><a href="#37745378">next</a><span>|</span><label class="collapse" for="c-37743779">[-]</label><label class="expand" for="c-37743779">[1 more]</label></div><br/><div class="children"><div class="content">Some platforms (e.g., Android) have methods specifically for asking how to edit a string following a backspace. However, there&#x27;s no standard Unicode algorithm to answer the question (and I strongly suspect that it&#x27;s something that&#x27;s actually locale-dependent to a degree).<p>On further reflection, probably the best starting point for string editing on backspace is to operate on codepoints, <i>not</i> grapheme clusters. For most written languages, the various elements that make up a character are likely to be separate codepoints. In Latin text, diacritics are generally precomposed (I mean, you can have a + diacritic as opposed to precomposed ä in theory, but the IME system is going to spit out ä anyways, even if dead keys are used). But if you have Indic characters or Hangul, the grapheme cluster algorithm is going to erroneously combine multiple characters into a single unit. The issue is that the biggest false positive for a codepoint-based algorithm is emoji, and if you&#x27;re a monolingual speaker whose only exposure to complex written scripts is Unicode emoji, you&#x27;re going to incorrectly generalize it for all written languages.</div><br/></div></div><div id="37745378" class="c"><input type="checkbox" id="c-37745378" checked=""/><div class="controls bullet"><span class="by">PeterisP</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37742841">parent</a><span>|</span><a href="#37743779">prev</a><span>|</span><a href="#37744155">next</a><span>|</span><label class="collapse" for="c-37745378">[-]</label><label class="expand" for="c-37745378">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;d argue that you must use grapheme clusters for text editing and cursor position, because here are popular characters (like ö you used as example) which can be either one or two codepoints depending on the normalization choice, but the difference is invisible to the user and should not matter to the user, so any editor should behave <i>exactly</i> the same for ö as U+00F6 (LATIN SMALL LETTER O WITH DIAERESIS) and ö as a sequence of U+006F (LATIN SMALL LETTER O) and U+0308 (COMBINING DIAERESIS).<p>Furthermore, you shouldn&#x27;t assume that there is any relationship between how unicode constructs a combined character from codepoints with how that character is typed, even at the level of typing you&#x27;re <i>not</i> typing unicode codepoints - they&#x27;re just a technical standard representation of &quot;text at rest&quot;, unicode codepoints do not define an input method.  Depending on your language and device, a sequence of three or more keystrokes may be used to get a single codepoint, or a dedicated key on keyboard or a virtual button may spawn a combined character of multiple codepoints as a single unit; you definitely can&#x27;t assume that the &quot;last codepoint&quot; corresponds to &quot;last user action&quot; even if you&#x27;re writing a text editor - much of that can happen before your editor receives that input from e.g. OS keyboard layout code; your editor won&#x27;t know whether I input  that ö from a dedicated key, a &#x27;chord&#x27; of &#x27;o&#x27; key with a modifier, or a sequence of two keystrokes (and if so, whether &#x27;o&#x27; was the first keystroke or the second, opposite of how the unicode codepoints are ordered).</div><br/><div id="37745587" class="c"><input type="checkbox" id="c-37745587" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37745378">parent</a><span>|</span><a href="#37744155">next</a><span>|</span><label class="collapse" for="c-37745587">[-]</label><label class="expand" for="c-37745587">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;d argue that you must use grapheme clusters for text editing and cursor position<p>Korean packs syllables into Han-script-like squares, but they are unmistakably composed of alphabetic letters, and are both typed and erased that way (the latter may depend on system configuration), yet the NFC form has only a single codepoint per syllable (<i>a fortiori</i> a single grapheme cluster). Hebrew vowel markings are (reasonably) considered to be part of the grapheme cluster including their carrier letter but are nevertheless erased and deleted separately. In both of those cases, pressing backspace will erase less than pressing shift-left, backspace; that is, cursor movement and backspace boundaries are different.<p>There are IIRC also scripts that will have a vowel both pronounced and encoded in the codepoint stream <i>after</i> the syllable-initial consonant but written <i>before</i> it; and ones where some parts of a syllable will <i>enclose</i> it. I don’t even want to think how cursor movement works there.<p>Overall, your suggestion will work for Latin, Cyrillic, Greek, and maybe other nonfancy scripts like Armenian, Ge’ez, or Georgian, but will absolutely crash and burn when used for others.</div><br/><div id="37745913" class="c"><input type="checkbox" id="c-37745913" checked=""/><div class="controls bullet"><span class="by">PeterisP</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37745587">parent</a><span>|</span><a href="#37744155">next</a><span>|</span><label class="collapse" for="c-37745913">[-]</label><label class="expand" for="c-37745913">[1 more]</label></div><br/><div class="children"><div class="content">OK, I understand that the initial sentence is too strict, however, using codepoints for text editing and cursor position is even worse - even in your example of Korean there&#x27;s a clear distinction depending on how the same character is encoded (combined NFC or not), but it should be the same to the user; and obviously if someone inputs a latin-diacritic character by pressing a modifier key <i>before</i> the base letter, then backspace removing the diacritic (since unicode modifiers are after the base letter) would be just ridiculous.<p>Backspace in general seems to be a very difficult problem because of subtly incompatible expectations depending on the context, as &#x27;undo last input&#x27; when you&#x27;re typing new text, and &#x27;delete previous symbol&#x27; if you&#x27;re editing existing text.</div><br/></div></div></div></div></div></div><div id="37744155" class="c"><input type="checkbox" id="c-37744155" checked=""/><div class="controls bullet"><span class="by">gumby</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37742841">parent</a><span>|</span><a href="#37745378">prev</a><span>|</span><a href="#37743019">next</a><span>|</span><label class="collapse" for="c-37744155">[-]</label><label class="expand" for="c-37744155">[9 more]</label></div><br/><div class="children"><div class="content">&gt; Or typing &#x27;o&#x27; + &#x27;¨&#x27; to produce &#x27;ö&#x27; but realizing you wanted to type &#x27;ô&#x27;, there just one backspace press would revert it to &#x27;o&#x27; again and you could press &#x27;^&#x27; to get the &#x27;ô&#x27;.<p>This is a good example because in German I would expect &#x27;o&#x27; + &#x27;¨&#x27; + &lt;delete&gt; to leave no character at all while in French I would expect &#x27;e&#x27; + &#x27;`&#x27; + &lt;delete&gt; to leave the e behind because in my mind it was a typo.<p>The rendering of brahmic- and arabic-derived scripts makes these choices even more interesting.</div><br/><div id="37744222" class="c"><input type="checkbox" id="c-37744222" checked=""/><div class="controls bullet"><span class="by">posix86</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37744155">parent</a><span>|</span><a href="#37745017">next</a><span>|</span><label class="collapse" for="c-37744222">[-]</label><label class="expand" for="c-37744222">[5 more]</label></div><br/><div class="children"><div class="content">But typing &quot;ö&quot; (e.g. swiss keyboard) and pressing delete &amp; getting an o would be annoying af</div><br/><div id="37745074" class="c"><input type="checkbox" id="c-37745074" checked=""/><div class="controls bullet"><span class="by">jraph</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37744222">parent</a><span>|</span><a href="#37745251">next</a><span>|</span><label class="collapse" for="c-37745074">[-]</label><label class="expand" for="c-37745074">[1 more]</label></div><br/><div class="children"><div class="content">Same for a French keyboard with éèàù which are all typed using one key. But even êôûæœäëïöü, all typed using at least two keys, if not 3 with a compose key (from memory, I&#x27;m using a phone). Everybody is used to the way it has been working on all OSes.</div><br/></div></div><div id="37745251" class="c"><input type="checkbox" id="c-37745251" checked=""/><div class="controls bullet"><span class="by">riggsdk</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37744222">parent</a><span>|</span><a href="#37745074">prev</a><span>|</span><a href="#37744749">next</a><span>|</span><label class="collapse" for="c-37745251">[-]</label><label class="expand" for="c-37745251">[2 more]</label></div><br/><div class="children"><div class="content">I realize that the editor would be the system to keep track of how the character was entered for this to work. If you made the character from a single keypress it would only make sense that backspace also undid the entire character. Only if you created the character from multiple keypresses it would make sense to &quot;undo&quot; only part of it with backspace (at least until you move away from the character).</div><br/><div id="37745755" class="c"><input type="checkbox" id="c-37745755" checked=""/><div class="controls bullet"><span class="by">hunter2_</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37745251">parent</a><span>|</span><a href="#37744749">next</a><span>|</span><label class="collapse" for="c-37745755">[-]</label><label class="expand" for="c-37745755">[1 more]</label></div><br/><div class="children"><div class="content">&gt; make sense to &quot;undo&quot; only part of it with backspace<p>I&#x27;m not sure that ever really makes sense: it would be a misnomer if &quot;backspace&quot; didn&#x27;t bring you &quot;back&quot; some amount of horizontal &quot;space,&quot; I reckon. This logic holds up not only for cases like ö and emoji (where I&#x27;d hope the whole grapheme disappears), but also for scenarios like if one types &lt;f&gt;&lt;i&gt; and an &lt;fi&gt; ligature appears, where I&#x27;d hope only the &lt;i&gt; disappears: that&#x27;s fine because you are still going back some space.<p>If the key ever gets repurposed from &quot;backspace&quot; to &quot;undo&quot; then I would agree that it should step back to the previous state with as much granularity as possible.</div><br/></div></div></div></div><div id="37744749" class="c"><input type="checkbox" id="c-37744749" checked=""/><div class="controls bullet"><span class="by">gumby</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37744222">parent</a><span>|</span><a href="#37745251">prev</a><span>|</span><a href="#37745017">next</a><span>|</span><label class="collapse" for="c-37744749">[-]</label><label class="expand" for="c-37744749">[1 more]</label></div><br/><div class="children"><div class="content">Definitely agree with that!  I use a US kbd (incl on phone) no matter what language I’m writing in.  A little annoying but switching kbd layouts is more disruptive for me.</div><br/></div></div></div></div><div id="37745017" class="c"><input type="checkbox" id="c-37745017" checked=""/><div class="controls bullet"><span class="by">makapuf</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37744155">parent</a><span>|</span><a href="#37744222">prev</a><span>|</span><a href="#37743019">next</a><span>|</span><label class="collapse" for="c-37745017">[-]</label><label class="expand" for="c-37745017">[3 more]</label></div><br/><div class="children"><div class="content">In French, è is a single character issued by a single keypress on a French keyboard, like e, or +. (Note that A is shift+a). Why should it need two backspaces? If you press e+` well you have e`, not è.</div><br/><div id="37745259" class="c"><input type="checkbox" id="c-37745259" checked=""/><div class="controls bullet"><span class="by">NikolaNovak</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37745017">parent</a><span>|</span><a href="#37743019">next</a><span>|</span><label class="collapse" for="c-37745259">[-]</label><label class="expand" for="c-37745259">[2 more]</label></div><br/><div class="children"><div class="content">I am assuming that means &quot;on French keyboard&quot;, not &quot;in French&quot;. I have a usa keyboard and live in Canada...Every now and then it thinks I&#x27;m typing French and keyboard indeed behaves in a way that some vowel plus some quotation mark indeed gives me some other character (that I don&#x27;t need :)</div><br/><div id="37748277" class="c"><input type="checkbox" id="c-37748277" checked=""/><div class="controls bullet"><span class="by">kergonath</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37745259">parent</a><span>|</span><a href="#37743019">next</a><span>|</span><label class="collapse" for="c-37748277">[-]</label><label class="expand" for="c-37748277">[1 more]</label></div><br/><div class="children"><div class="content">That would feel very strange to me. The Canadian layout probably behaves differently, but à is a modifier letter, not two letters. I’d expect backspace to remove the whole letter, including the accent.</div><br/></div></div></div></div></div></div></div></div><div id="37743019" class="c"><input type="checkbox" id="c-37743019" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37742841">parent</a><span>|</span><a href="#37744155">prev</a><span>|</span><a href="#37743561">next</a><span>|</span><label class="collapse" for="c-37743019">[-]</label><label class="expand" for="c-37743019">[1 more]</label></div><br/><div class="children"><div class="content">Behavior that depends on whether you edited something else in between, or that depends on timing, is just bad. Either always backspace grapheme clusters, or else backspace characters, possibly NFC-normalized. I could also imagine having something like Shift+Backspace to backspace NFKD-normalized characters when normal Backspace deletes grapheme clusters.<p>As for selection and cursor movement, grapheme clusters would seem to be the correct choice. Same for Delete. An editor may also support an “exploded” view of separate characters (like WordPerfect Reveal Codes) where you manipulate individual characters.</div><br/></div></div></div></div><div id="37743561" class="c"><input type="checkbox" id="c-37743561" checked=""/><div class="controls bullet"><span class="by">hgs3</span><span>|</span><a href="#37739494">parent</a><span>|</span><a href="#37742841">prev</a><span>|</span><a href="#37744984">next</a><span>|</span><label class="collapse" for="c-37743561">[-]</label><label class="expand" for="c-37743561">[1 more]</label></div><br/><div class="children"><div class="content">Everybody loves to debate what &quot;character&quot; means but nobody ever consults the standard. In the Unicode Standard a &quot;character&quot; is an abstract unit of textual data identified by a code point. The standard never refers to graphemes as &quot;characters&quot; but rather as <i>user-perceived characters</i> which the article omits.</div><br/></div></div><div id="37744984" class="c"><input type="checkbox" id="c-37744984" checked=""/><div class="controls bullet"><span class="by">haberman</span><span>|</span><a href="#37739494">parent</a><span>|</span><a href="#37743561">prev</a><span>|</span><a href="#37745427">next</a><span>|</span><label class="collapse" for="c-37744984">[-]</label><label class="expand" for="c-37744984">[1 more]</label></div><br/><div class="children"><div class="content">In that case, it sounds like `length` on Unicode strings simply shouldn&#x27;t exist, since there is no obvious right answer for it.  Instead there should be `codepointCount`, `graphemeCount`, etc.</div><br/></div></div><div id="37745427" class="c"><input type="checkbox" id="c-37745427" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#37739494">parent</a><span>|</span><a href="#37744984">prev</a><span>|</span><a href="#37744513">next</a><span>|</span><label class="collapse" for="c-37745427">[-]</label><label class="expand" for="c-37745427">[1 more]</label></div><br/><div class="children"><div class="content">&gt; thing that gets deleted when you hit backspace<p>Is there a canonical source for this part, by the way? Xi copied the logic from Android[1] (per the issue you linked downthread), which is reasonable given its heritage but seems suboptimal generally, and I vaguely remember that CLDR had something to say about this too, but I don’t know if there’s any sort of consensus on this problem that’s actually written down anywhere.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;xi-editor&#x2F;xi-editor&#x2F;pull&#x2F;837">https:&#x2F;&#x2F;github.com&#x2F;xi-editor&#x2F;xi-editor&#x2F;pull&#x2F;837</a></div><br/></div></div><div id="37744513" class="c"><input type="checkbox" id="c-37744513" checked=""/><div class="controls bullet"><span class="by">astrange</span><span>|</span><a href="#37739494">parent</a><span>|</span><a href="#37745427">prev</a><span>|</span><a href="#37737920">next</a><span>|</span><label class="collapse" for="c-37744513">[-]</label><label class="expand" for="c-37744513">[3 more]</label></div><br/><div class="children"><div class="content">String iteration should be based on whatever you want to iterate on - bytes, codepoints, grapheme clusters, words or paragraphs. There&#x27;s no reason to privilege any one of these, and Swift doesn&#x27;t do this.<p>&quot;Length&quot; is a meaningless query because of this, but you might want to default to whatever approximates width in a UI label, so that&#x27;s grapheme clusters. Using codepoints mostly means you wish you were doing bytes.</div><br/><div id="37744976" class="c"><input type="checkbox" id="c-37744976" checked=""/><div class="controls bullet"><span class="by">b3morales</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37744513">parent</a><span>|</span><a href="#37737920">next</a><span>|</span><label class="collapse" for="c-37744976">[-]</label><label class="expand" for="c-37744976">[2 more]</label></div><br/><div class="children"><div class="content">&gt; There&#x27;s no reason to privilege any one of these, and Swift doesn&#x27;t do this.<p>Strange thing to say: Swift String count property is the count of extended grapheme clusters. The documentation is explicit:<p>&gt; A string is a collection of <i>extended grapheme clusters</i>, which approximate human-readable characters. [emphasis in original]</div><br/><div id="37745391" class="c"><input type="checkbox" id="c-37745391" checked=""/><div class="controls bullet"><span class="by">astrange</span><span>|</span><a href="#37739494">root</a><span>|</span><a href="#37744976">parent</a><span>|</span><a href="#37737920">next</a><span>|</span><label class="collapse" for="c-37745391">[-]</label><label class="expand" for="c-37745391">[1 more]</label></div><br/><div class="children"><div class="content">The length&#x2F;count property was added after people asked for it, but it wasn&#x27;t originally in the String revamp, and it provides iterators for all of the above. .count also only claims to be O(n) to discourage using it.</div><br/></div></div></div></div></div></div></div></div><div id="37737920" class="c"><input type="checkbox" id="c-37737920" checked=""/><div class="controls bullet"><span class="by">gumby</span><span>|</span><a href="#37739494">prev</a><span>|</span><a href="#37737256">next</a><span>|</span><label class="collapse" for="c-37737920">[-]</label><label class="expand" for="c-37737920">[21 more]</label></div><br/><div class="children"><div class="content">This is quite a good write up.  An answer to one of the author&#x27;s questions:<p>&gt; Why does the ﬁ ligature even have its own code point? No idea.<p>On of the principles of Unicode is round trip compatibility.  That is you should be able to read in a file encoded with some obsolete coding system and write it out again properly.  Maybe frob it a bit with your unicode-based tools first.  This is a good principle, though less useful today.<p>So the ﬁ ligature was in a legacy encoding system and thus must be in Unicode.  That&#x27;s also why things like digits with a circle around them exist: they were in some old Japanese character set.  Nowadays we might compose them with some zwj or even just leave them to some higher level formatting (my preference).</div><br/><div id="37739580" class="c"><input type="checkbox" id="c-37739580" checked=""/><div class="controls bullet"><span class="by">sdrothrock</span><span>|</span><a href="#37737920">parent</a><span>|</span><a href="#37742490">next</a><span>|</span><label class="collapse" for="c-37739580">[-]</label><label class="expand" for="c-37739580">[2 more]</label></div><br/><div class="children"><div class="content">&gt; they were in some old Japanese character set<p>This implies that they&#x27;re obsolete, but they&#x27;re not -- they&#x27;re still in very common use today. You can type them in Japanese by typing まる (maru, circle) and the number, then pick it out of the IME menu. Some IMEs will bring them up if you just type the number and go to the menu, too. :)</div><br/><div id="37742742" class="c"><input type="checkbox" id="c-37742742" checked=""/><div class="controls bullet"><span class="by">gumby</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37739580">parent</a><span>|</span><a href="#37742490">next</a><span>|</span><label class="collapse" for="c-37742742">[-]</label><label class="expand" for="c-37742742">[1 more]</label></div><br/><div class="children"><div class="content">Fair enough.  I was thinking of them as obsolete, but shouldn&#x27;t since you do see them a surprising amount in Japan.</div><br/></div></div></div></div><div id="37742490" class="c"><input type="checkbox" id="c-37742490" checked=""/><div class="controls bullet"><span class="by">WorldMaker</span><span>|</span><a href="#37737920">parent</a><span>|</span><a href="#37739580">prev</a><span>|</span><a href="#37739171">next</a><span>|</span><label class="collapse" for="c-37742490">[-]</label><label class="expand" for="c-37742490">[5 more]</label></div><br/><div class="children"><div class="content">&gt; So the ﬁ ligature was in a legacy encoding system and thus must be in Unicode.<p>Most of the pre-composed latin ligatures are generally from EBCDIC codepages. People in the ancient Mainframe era wanted nice typesetting too, but computer fonts with ligature support were a much later invention.<p>You can see ﬁ and several others directly in EBCDIC code page 361:<p><a href="https:&#x2F;&#x2F;en.wikibooks.org&#x2F;wiki&#x2F;Character_Encodings&#x2F;Code_Tables&#x2F;EBCDIC&#x2F;EBCDIC_361" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikibooks.org&#x2F;wiki&#x2F;Character_Encodings&#x2F;Code_Table...</a></div><br/><div id="37742738" class="c"><input type="checkbox" id="c-37742738" checked=""/><div class="controls bullet"><span class="by">gumby</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37742490">parent</a><span>|</span><a href="#37739171">next</a><span>|</span><label class="collapse" for="c-37742738">[-]</label><label class="expand" for="c-37742738">[4 more]</label></div><br/><div class="children"><div class="content">Thanks.  Some alphabets have precomposed ligatures that aren&#x27;t really letters, like old German alphabets with tz, ch, ss (I only know how to type the last one, ß, because the others have died out over the last hundred years).<p>Actually in German (at least) ä, ö and ü really are actually ligatures for ae, oe, and ue -- the scribes started to write the E&#x27;s on their sides above the base letters, and over time the superscript &quot;E&quot;s became dots or dashes.  Often they are described the other way around: &quot;you can type oe if you can&#x27;t type ö.&quot;  That&#x27;s what my kid was told in school!<p>But Ö and ß aren&#x27;t really part of the alphabet in German, while, say, in Swedish, ä and ö became actual letters of the alphabet. English got W that way too.</div><br/><div id="37743551" class="c"><input type="checkbox" id="c-37743551" checked=""/><div class="controls bullet"><span class="by">cyxxon</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37742738">parent</a><span>|</span><a href="#37739171">next</a><span>|</span><label class="collapse" for="c-37743551">[-]</label><label class="expand" for="c-37743551">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s sounds a bit false to me. The Umlaute (ä,ö, ü) and the &quot;eszett&quot; ß are actually part of the German alphabet[1]. Also it is kinda weird to describe them as ligatures of the original letters and the diaeresis, because while this is what they started out as a long time ago, they are just their own letters now (as opposed to &quot;real&quot; stylistic ligatures like combining fi into one glyph). The advice your kid was told that they can be replaced with ae, oe and ue is correct - it is a replacement nowadays.<p>[1] <a href="https:&#x2F;&#x2F;de.wikipedia.org&#x2F;wiki&#x2F;Deutsches_Alphabet" rel="nofollow noreferrer">https:&#x2F;&#x2F;de.wikipedia.org&#x2F;wiki&#x2F;Deutsches_Alphabet</a></div><br/><div id="37746487" class="c"><input type="checkbox" id="c-37746487" checked=""/><div class="controls bullet"><span class="by">gumby</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37743551">parent</a><span>|</span><a href="#37745856">next</a><span>|</span><label class="collapse" for="c-37746487">[-]</label><label class="expand" for="c-37746487">[1 more]</label></div><br/><div class="children"><div class="content">C&#x27;mon that page is highly technical, really just listing the letters or glyphs used for forming printed text.  In reality, if you walk into any first grade classroom you see pictures of the letters A-Z with pictures (Apfel, Bär, uwv) and then after the end maybe around the corner, what, Öl?  I can&#x27;t even remember.  When the kids recite the letters they don&#x27;t recite äöüß.  TBH I really only remember this because when kiddo was that age the Neue Rechtscribung transition was mid-process and the parents were angrily divided so I was kinda paying attention.<p>Also, though it&#x27;s hardly authoritative, my kids&#x27; school taught English through immersion from grade 1 too, and both German and English teachers said &quot;same alphabet&quot;.<p>As bmicraft pointed out, even in that wikipedia chart those inflected letters are spaced apart from the others.  Yes, they are letterforms, but not part of the &quot;alphabet&quot; -- they don&#x27;t even have a sorting like the Swedish Ä or W do.<p>And you can switch in running text from using the marker for umlaut (dots or bar, not semantically dieresis) or a normal &quot;e&quot; without anyone blinking.  There&#x27;s no problem reading a Swiss book even though ß refuses to cross the border.  Though I personally prefer to read Äpfel and Bär rather than Aepfel and Baer, really, they are the same.</div><br/></div></div><div id="37745856" class="c"><input type="checkbox" id="c-37745856" checked=""/><div class="controls bullet"><span class="by">bmicraft</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37743551">parent</a><span>|</span><a href="#37746487">prev</a><span>|</span><a href="#37739171">next</a><span>|</span><label class="collapse" for="c-37745856">[-]</label><label class="expand" for="c-37745856">[1 more]</label></div><br/><div class="children"><div class="content">They sure are letters, but they aren&#x27;t generally thought of as being in the alphabet (which seems to be why they are just kinda tacked on after a space on wikipedia) and get ordered as if they where just the base letter (mostly)</div><br/></div></div></div></div></div></div></div></div><div id="37739171" class="c"><input type="checkbox" id="c-37739171" checked=""/><div class="controls bullet"><span class="by">gwervc</span><span>|</span><a href="#37737920">parent</a><span>|</span><a href="#37742490">prev</a><span>|</span><a href="#37737256">next</a><span>|</span><label class="collapse" for="c-37739171">[-]</label><label class="expand" for="c-37739171">[13 more]</label></div><br/><div class="children"><div class="content">The circled digits as code points are very nice to have precisely because they are available in applications that don&#x27;t support them otherwise... which is actually most of the software I can think of (Notepad, Apple Notes, chat applications, most websites, etc).</div><br/><div id="37741492" class="c"><input type="checkbox" id="c-37741492" checked=""/><div class="controls bullet"><span class="by">gumby</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37739171">parent</a><span>|</span><a href="#37739413">next</a><span>|</span><label class="collapse" for="c-37741492">[-]</label><label class="expand" for="c-37741492">[1 more]</label></div><br/><div class="children"><div class="content">My point was that, had they not been legacy characters (or had RT compatibility been disregarded) Unicode could still have supported them as composed characters.  Though I personally still feel they are a kind of ligature or graphic,  but luckily for everyone else I’m not the dictator of the world :-).<p>We should be careful: someone on HN could write a proposal that they <i>should</i> be considered pre composed forms that should also have an un-composed sequence… so there could in future be not just 1 in a circle but 1 ZWJ circle, circle ZWJ 1 all considered the same…I can imagine some HN readers being pranksters like that.</div><br/></div></div><div id="37739413" class="c"><input type="checkbox" id="c-37739413" checked=""/><div class="controls bullet"><span class="by">swores</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37739171">parent</a><span>|</span><a href="#37741492">prev</a><span>|</span><a href="#37737256">next</a><span>|</span><label class="collapse" for="c-37739413">[-]</label><label class="expand" for="c-37739413">[11 more]</label></div><br/><div class="children"><div class="content">Can you write them with iOS keyboard? Or when you say Apple Notes and chat apps you just mean from desktop?<p>Edit ①: seems the answer is not with the default iOS keyboard, but possible to paste it and perhaps possible with a third party keyboard that I&#x27;m not keen on trying (unless I hear of a keyboard that&#x27;s both genuinely useful &#x2F; better than default, and that doesn&#x27;t send keystrokes to the developer - though I can&#x27;t remember if the latter is even a risk on iOS, better go search about that next..)</div><br/><div id="37739671" class="c"><input type="checkbox" id="c-37739671" checked=""/><div class="controls bullet"><span class="by">d11z</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37739413">parent</a><span>|</span><a href="#37742302">next</a><span>|</span><label class="collapse" for="c-37739671">[-]</label><label class="expand" for="c-37739671">[4 more]</label></div><br/><div class="children"><div class="content">Speaking of third party keyboards, I’m still upset about what happened to Nintype[0]. I’ve never ever been able to type faster on mobile than with it’s intuitive hybrid input style of sliding and tapping, paired with AI that was actually good. It used to be quite performant, fully customizable, and it worked beautifully as a replacement for default on jailbroken iOS.<p>Today, it’s buggy $5 abandonware that only makes me sad when I am reminded of it.<p>EDIT: Here[1] is a blog post that claims it&#x27;s still the best keyboard in 2023. I actually might give it another shot... Not holding my breath though.<p>*EDIT: Looks like another dedicated fan has actually taken it upon themself to revive the project, under the new name Keyboard71[2].<p>[0] <a href="https:&#x2F;&#x2F;apps.apple.com&#x2F;us&#x2F;app&#x2F;nintype&#x2F;id796959534" rel="nofollow noreferrer">https:&#x2F;&#x2F;apps.apple.com&#x2F;us&#x2F;app&#x2F;nintype&#x2F;id796959534</a><p>[1] <a href="https:&#x2F;&#x2F;maxleiter.com&#x2F;blog&#x2F;nintype" rel="nofollow noreferrer">https:&#x2F;&#x2F;maxleiter.com&#x2F;blog&#x2F;nintype</a><p>[2] <a href="https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;keyboard71&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;keyboard71&#x2F;</a></div><br/><div id="37740446" class="c"><input type="checkbox" id="c-37740446" checked=""/><div class="controls bullet"><span class="by">swores</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37739671">parent</a><span>|</span><a href="#37741138">next</a><span>|</span><label class="collapse" for="c-37740446">[-]</label><label class="expand" for="c-37740446">[1 more]</label></div><br/><div class="children"><div class="content">I wonder why they haven&#x27;t open sourced their fork, over than vague worry it might get DMCA&#x27;d</div><br/></div></div><div id="37741138" class="c"><input type="checkbox" id="c-37741138" checked=""/><div class="controls bullet"><span class="by">tiltowait</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37739671">parent</a><span>|</span><a href="#37740446">prev</a><span>|</span><a href="#37742302">next</a><span>|</span><label class="collapse" for="c-37741138">[-]</label><label class="expand" for="c-37741138">[2 more]</label></div><br/><div class="children"><div class="content">Nintype was absolutely incredible. I still open it every now and then after an iOS update in the vain hope some system change made it less buggy.</div><br/><div id="37741556" class="c"><input type="checkbox" id="c-37741556" checked=""/><div class="controls bullet"><span class="by">d11z</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37741138">parent</a><span>|</span><a href="#37742302">next</a><span>|</span><label class="collapse" for="c-37741556">[-]</label><label class="expand" for="c-37741556">[1 more]</label></div><br/><div class="children"><div class="content">I’m really considering repurchasing (I definitely owned it previously, no idea what happened), can you describe specifically what the main bugs are for you? I’d be happy if I could use it solely for occasionally writing long notes, not as a replacement for all text inputs.<p>Really not looking to burn another $5, I’d greatly appreciate any thoughts&#x2F;concerns at all.</div><br/></div></div></div></div></div></div><div id="37742302" class="c"><input type="checkbox" id="c-37742302" checked=""/><div class="controls bullet"><span class="by">P-Nuts</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37739413">parent</a><span>|</span><a href="#37739671">prev</a><span>|</span><a href="#37748162">next</a><span>|</span><label class="collapse" for="c-37742302">[-]</label><label class="expand" for="c-37742302">[2 more]</label></div><br/><div class="children"><div class="content">You can type ① with the UniChar keyboard app on iOS. It at least claims it doesn’t transmit information. As it’s only useful for special characters I don’t worry because I can’t use it for normal typing anyway.<p><a href="https:&#x2F;&#x2F;unichar.app" rel="nofollow noreferrer">https:&#x2F;&#x2F;unichar.app</a></div><br/><div id="37744521" class="c"><input type="checkbox" id="c-37744521" checked=""/><div class="controls bullet"><span class="by">astrange</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37742302">parent</a><span>|</span><a href="#37748162">next</a><span>|</span><label class="collapse" for="c-37744521">[-]</label><label class="expand" for="c-37744521">[1 more]</label></div><br/><div class="children"><div class="content">No third party keyboard transmits information without you permitting it.</div><br/></div></div></div></div><div id="37748162" class="c"><input type="checkbox" id="c-37748162" checked=""/><div class="controls bullet"><span class="by">phantomathkg</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37739413">parent</a><span>|</span><a href="#37742302">prev</a><span>|</span><a href="#37745909">next</a><span>|</span><label class="collapse" for="c-37748162">[-]</label><label class="expand" for="c-37748162">[1 more]</label></div><br/><div class="children"><div class="content">If you use iOS Japanese romanji keyboard, typing &quot;maruichi&quot; will give you all the options.</div><br/></div></div><div id="37745909" class="c"><input type="checkbox" id="c-37745909" checked=""/><div class="controls bullet"><span class="by">amake</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37739413">parent</a><span>|</span><a href="#37748162">prev</a><span>|</span><a href="#37739451">next</a><span>|</span><label class="collapse" for="c-37745909">[-]</label><label class="expand" for="c-37745909">[2 more]</label></div><br/><div class="children"><div class="content">The default iOS Japanese keyboard allows easily entering circled numerals and many other “exotic” characters.</div><br/><div id="37746576" class="c"><input type="checkbox" id="c-37746576" checked=""/><div class="controls bullet"><span class="by">fomine3</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37745909">parent</a><span>|</span><a href="#37739451">next</a><span>|</span><label class="collapse" for="c-37746576">[-]</label><label class="expand" for="c-37746576">[1 more]</label></div><br/><div class="children"><div class="content">Yeah many &quot;exotic&quot; characters were introduced to Unicode from Japanese legacy computers 〠〄</div><br/></div></div></div></div><div id="37739451" class="c"><input type="checkbox" id="c-37739451" checked=""/><div class="controls bullet"><span class="by">masklinn</span><span>|</span><a href="#37737920">root</a><span>|</span><a href="#37739413">parent</a><span>|</span><a href="#37745909">prev</a><span>|</span><a href="#37737256">next</a><span>|</span><label class="collapse" for="c-37739451">[-]</label><label class="expand" for="c-37739451">[1 more]</label></div><br/><div class="children"><div class="content">You can copy&#x2F;paste them from a character board, a dedicated website, or even the wiki.</div><br/></div></div></div></div></div></div></div></div><div id="37737256" class="c"><input type="checkbox" id="c-37737256" checked=""/><div class="controls bullet"><span class="by">davidham</span><span>|</span><a href="#37737920">prev</a><span>|</span><a href="#37737622">next</a><span>|</span><label class="collapse" for="c-37737256">[-]</label><label class="expand" for="c-37737256">[45 more]</label></div><br/><div class="children"><div class="content">Is it just me, or is anyone else seeing what looks like the mouse pointer of everyone else reading the page, like 1,000 little ants on the screen</div><br/><div id="37739177" class="c"><input type="checkbox" id="c-37739177" checked=""/><div class="controls bullet"><span class="by">keb_</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37737803">next</a><span>|</span><label class="collapse" for="c-37739177">[-]</label><label class="expand" for="c-37739177">[21 more]</label></div><br/><div class="children"><div class="content">Anytime tonsky&#x27;s site gets posted here, I&#x27;m reminded by how awful it is, which is ironic given his UI&#x2F;UX background. The site&#x27;s lightmode is a blinding saturated yellow, and if you switch into darkmode, it&#x27;s an even less readable &quot;cute&quot; flashlight js trick. I don&#x27;t know why he thought this was a good idea. Thank god for Firefox reader mode.</div><br/><div id="37739400" class="c"><input type="checkbox" id="c-37739400" checked=""/><div class="controls bullet"><span class="by">ericmcer</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37739177">parent</a><span>|</span><a href="#37739846">next</a><span>|</span><label class="collapse" for="c-37739400">[-]</label><label class="expand" for="c-37739400">[8 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think he added moving cursors all over the page because he thought it was good UI&#x2F;UX, he knows what he is doing.</div><br/><div id="37747187" class="c"><input type="checkbox" id="c-37747187" checked=""/><div class="controls bullet"><span class="by">keb_</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37739400">parent</a><span>|</span><a href="#37741497">next</a><span>|</span><label class="collapse" for="c-37747187">[-]</label><label class="expand" for="c-37747187">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m having a hard time reconciling &quot;he knows what he is doing&quot; with him making his site practically unusable without a reader mode, which by the way, not every browser supports (especially on mobile).</div><br/></div></div><div id="37741497" class="c"><input type="checkbox" id="c-37741497" checked=""/><div class="controls bullet"><span class="by">876978095789789</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37739400">parent</a><span>|</span><a href="#37747187">prev</a><span>|</span><a href="#37740729">next</a><span>|</span><label class="collapse" for="c-37741497">[-]</label><label class="expand" for="c-37741497">[1 more]</label></div><br/><div class="children"><div class="content">He appears (if his logos are anything to go by) to be a flat UI guy. I doubt any of these people know what they&#x27;re doing.</div><br/></div></div><div id="37740729" class="c"><input type="checkbox" id="c-37740729" checked=""/><div class="controls bullet"><span class="by">superq</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37739400">parent</a><span>|</span><a href="#37741497">prev</a><span>|</span><a href="#37739846">next</a><span>|</span><label class="collapse" for="c-37740729">[-]</label><label class="expand" for="c-37740729">[5 more]</label></div><br/><div class="children"><div class="content">This is seemingly self-contradictory. Perhaps you could explain your reasoning further?</div><br/><div id="37744165" class="c"><input type="checkbox" id="c-37744165" checked=""/><div class="controls bullet"><span class="by">gpvos</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37740729">parent</a><span>|</span><a href="#37741364">next</a><span>|</span><label class="collapse" for="c-37744165">[-]</label><label class="expand" for="c-37744165">[1 more]</label></div><br/><div class="children"><div class="content">Doing bad things is their idea of fun.</div><br/></div></div><div id="37741364" class="c"><input type="checkbox" id="c-37741364" checked=""/><div class="controls bullet"><span class="by">ksoped</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37740729">parent</a><span>|</span><a href="#37744165">prev</a><span>|</span><a href="#37741520">next</a><span>|</span><label class="collapse" for="c-37741364">[-]</label><label class="expand" for="c-37741364">[1 more]</label></div><br/><div class="children"><div class="content">You gotta know the rules to bend the rules</div><br/></div></div><div id="37741520" class="c"><input type="checkbox" id="c-37741520" checked=""/><div class="controls bullet"><span class="by">chaorace</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37740729">parent</a><span>|</span><a href="#37741364">prev</a><span>|</span><a href="#37741403">next</a><span>|</span><label class="collapse" for="c-37741520">[-]</label><label class="expand" for="c-37741520">[1 more]</label></div><br/><div class="children"><div class="content">It lets you hold hands with strangers</div><br/></div></div><div id="37741403" class="c"><input type="checkbox" id="c-37741403" checked=""/><div class="controls bullet"><span class="by">Scarbutt</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37740729">parent</a><span>|</span><a href="#37741520">prev</a><span>|</span><a href="#37739846">next</a><span>|</span><label class="collapse" for="c-37741403">[-]</label><label class="expand" for="c-37741403">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s called satire.</div><br/></div></div></div></div></div></div><div id="37739846" class="c"><input type="checkbox" id="c-37739846" checked=""/><div class="controls bullet"><span class="by">coldpie</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37739177">parent</a><span>|</span><a href="#37739400">prev</a><span>|</span><a href="#37742812">next</a><span>|</span><label class="collapse" for="c-37739846">[-]</label><label class="expand" for="c-37739846">[4 more]</label></div><br/><div class="children"><div class="content">Works like a normal website with JavaScript disabled. I didn&#x27;t even know it did fancy junk until reading the comments here. NoScript saves the day again! I don&#x27;t know how people can browse the web without it.</div><br/><div id="37744202" class="c"><input type="checkbox" id="c-37744202" checked=""/><div class="controls bullet"><span class="by">gpvos</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37739846">parent</a><span>|</span><a href="#37746713">next</a><span>|</span><label class="collapse" for="c-37744202">[-]</label><label class="expand" for="c-37744202">[1 more]</label></div><br/><div class="children"><div class="content">It is some time ago since I last used it, but I found that too many websites that I want to read require Javascript to even show you the main body of text, or a reasonable layout. Is that different now?</div><br/></div></div><div id="37746713" class="c"><input type="checkbox" id="c-37746713" checked=""/><div class="controls bullet"><span class="by">redder23</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37739846">parent</a><span>|</span><a href="#37744202">prev</a><span>|</span><a href="#37741804">next</a><span>|</span><label class="collapse" for="c-37746713">[-]</label><label class="expand" for="c-37746713">[1 more]</label></div><br/><div class="children"><div class="content">I never understood how people can browser the we WITH IT. Even 10 years ago. today more then ever basically every website needs JS to work properly. I basically never come across a page where I have the urge to disable JS. I have a large list of adblock lists active that also help getting rid of cookie banners and other shit.<p>I can not imagine manually approving JS for every site. And again doing the inverse and have noscript installed to deny one website a year does not seem to be worth it for me. In this case I can also just use a adblock rule to block that specific script or all .js files from the domain I guess. So I really no not need NoScript.</div><br/></div></div><div id="37741804" class="c"><input type="checkbox" id="c-37741804" checked=""/><div class="controls bullet"><span class="by">aembleton</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37739846">parent</a><span>|</span><a href="#37746713">prev</a><span>|</span><a href="#37742812">next</a><span>|</span><label class="collapse" for="c-37741804">[-]</label><label class="expand" for="c-37741804">[1 more]</label></div><br/><div class="children"><div class="content">By using reader mode</div><br/></div></div></div></div><div id="37742812" class="c"><input type="checkbox" id="c-37742812" checked=""/><div class="controls bullet"><span class="by">spacechild1</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37739177">parent</a><span>|</span><a href="#37739846">prev</a><span>|</span><a href="#37748690">next</a><span>|</span><label class="collapse" for="c-37742812">[-]</label><label class="expand" for="c-37742812">[5 more]</label></div><br/><div class="children"><div class="content">It is obviously a joke (and a good one, I dare say). The fact that people seem to take it seriously says something about the contemporary state of webdesign :)</div><br/><div id="37743481" class="c"><input type="checkbox" id="c-37743481" checked=""/><div class="controls bullet"><span class="by">mplewis</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37742812">parent</a><span>|</span><a href="#37748690">next</a><span>|</span><label class="collapse" for="c-37743481">[-]</label><label class="expand" for="c-37743481">[4 more]</label></div><br/><div class="children"><div class="content">It would be a better joke if there were an option to turn the joke off. As it is, dark mode doesn&#x27;t exist and the pointers occlude text.</div><br/><div id="37743688" class="c"><input type="checkbox" id="c-37743688" checked=""/><div class="controls bullet"><span class="by">spacechild1</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37743481">parent</a><span>|</span><a href="#37748690">next</a><span>|</span><label class="collapse" for="c-37743688">[-]</label><label class="expand" for="c-37743688">[3 more]</label></div><br/><div class="children"><div class="content">&gt; It would be a better joke if there were an option to turn the joke off.<p>As others have pointed out, reader mode works as expected.</div><br/><div id="37747171" class="c"><input type="checkbox" id="c-37747171" checked=""/><div class="controls bullet"><span class="by">keb_</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37743688">parent</a><span>|</span><a href="#37748690">next</a><span>|</span><label class="collapse" for="c-37747171">[-]</label><label class="expand" for="c-37747171">[2 more]</label></div><br/><div class="children"><div class="content">1. Not every browser has reader mode<p>2. I don&#x27;t think it&#x27;s a very good joke to post long-form content on your blog with the expectation that it&#x27;s basically unreadable without a reader mode.<p>&gt; The fact that people seem to take it seriously says something about the contemporary state of webdesign :)<p>Mind expanding and what it says exactly about contemporary web design?<p>Whether I take it seriously or not doesn&#x27;t change the fact that it&#x27;s <i>still damn hard to read anything</i>.</div><br/><div id="37748739" class="c"><input type="checkbox" id="c-37748739" checked=""/><div class="controls bullet"><span class="by">spacechild1</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37747171">parent</a><span>|</span><a href="#37748690">next</a><span>|</span><label class="collapse" for="c-37748739">[-]</label><label class="expand" for="c-37748739">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Mind expanding and what it says exactly about contemporary web design?<p>The same as when political satire is indistinguishable from actual politics. It means that the real things has sort of become a joke itself.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37748690" class="c"><input type="checkbox" id="c-37748690" checked=""/><div class="controls bullet"><span class="by">torgard</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37739177">parent</a><span>|</span><a href="#37742812">prev</a><span>|</span><a href="#37744636">next</a><span>|</span><label class="collapse" for="c-37748690">[-]</label><label class="expand" for="c-37748690">[1 more]</label></div><br/><div class="children"><div class="content">Well, I thought it was fun.</div><br/></div></div><div id="37744636" class="c"><input type="checkbox" id="c-37744636" checked=""/><div class="controls bullet"><span class="by">LordDragonfang</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37739177">parent</a><span>|</span><a href="#37748690">prev</a><span>|</span><a href="#37741965">next</a><span>|</span><label class="collapse" for="c-37744636">[-]</label><label class="expand" for="c-37744636">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s deeply ironic that an article about dealing with text properly has images <i>which are part of the article text</i> and yet <i>have no alt-text</i>, rendering parts of the article unreadable in reader mode if the server is slow.</div><br/></div></div><div id="37741965" class="c"><input type="checkbox" id="c-37741965" checked=""/><div class="controls bullet"><span class="by">Arech</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37739177">parent</a><span>|</span><a href="#37744636">prev</a><span>|</span><a href="#37737803">next</a><span>|</span><label class="collapse" for="c-37741965">[-]</label><label class="expand" for="c-37741965">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d say this annoying trick is highly appropriate for the topic!</div><br/></div></div></div></div><div id="37737803" class="c"><input type="checkbox" id="c-37737803" checked=""/><div class="controls bullet"><span class="by">wirelesspotat</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37739177">prev</a><span>|</span><a href="#37737711">next</a><span>|</span><label class="collapse" for="c-37737803">[-]</label><label class="expand" for="c-37737803">[1 more]</label></div><br/><div class="children"><div class="content">Yep, the website opens a websocket connection[0] and sends the mouse position every 1 second<p>[0] WS connection is on `wss:&#x2F;&#x2F;tonsky.me&#x2F;pointers?id=XXXXXX&amp;page=&#x2F;blog&#x2F;unicode&#x2F;&amp;platform=XXX`</div><br/></div></div><div id="37737711" class="c"><input type="checkbox" id="c-37737711" checked=""/><div class="controls bullet"><span class="by">aragonite</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37737803">prev</a><span>|</span><a href="#37746213">next</a><span>|</span><label class="collapse" for="c-37737711">[-]</label><label class="expand" for="c-37737711">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been drawing circles for over a minute now and no one has joined me yet, so I conclude those movements are random rather than made by intelligent beings. :)</div><br/><div id="37739918" class="c"><input type="checkbox" id="c-37739918" checked=""/><div class="controls bullet"><span class="by">KyleBerezin</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37737711">parent</a><span>|</span><a href="#37746213">next</a><span>|</span><label class="collapse" for="c-37739918">[-]</label><label class="expand" for="c-37739918">[1 more]</label></div><br/><div class="children"><div class="content">That makes me think of this old gem <a href="https:&#x2F;&#x2F;imgur.com&#x2F;gallery&#x2F;BgKFcI9" rel="nofollow noreferrer">https:&#x2F;&#x2F;imgur.com&#x2F;gallery&#x2F;BgKFcI9</a></div><br/></div></div></div></div><div id="37746213" class="c"><input type="checkbox" id="c-37746213" checked=""/><div class="controls bullet"><span class="by">wizofaus</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37737711">prev</a><span>|</span><a href="#37739224">next</a><span>|</span><label class="collapse" for="c-37746213">[-]</label><label class="expand" for="c-37746213">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s quite possibly the worst web page presentation I&#x27;ve come across in a long time - aside from the fact it looks like some bug has caused my OS to leave a random trail of mouse pointers all over the screen, some of them even move around, making me doubt my sanity when I&#x27;m quite sure I&#x27;m holding the mouse still.
And the less said about the colours the better.  There&#x27;s no way I was going to put up with that long enough to read all the text on it.</div><br/></div></div><div id="37739224" class="c"><input type="checkbox" id="c-37739224" checked=""/><div class="controls bullet"><span class="by">pookha</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37746213">prev</a><span>|</span><a href="#37748437">next</a><span>|</span><label class="collapse" for="c-37739224">[-]</label><label class="expand" for="c-37739224">[4 more]</label></div><br/><div class="children"><div class="content">Good times. If you click on the sun switch the entire UI gets zeroed out and you get to use on:hover mouse shtick to read the UI through a fuzzy radius. Is Yoko Ono designing websites now?</div><br/><div id="37742213" class="c"><input type="checkbox" id="c-37742213" checked=""/><div class="controls bullet"><span class="by">WD-42</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37739224">parent</a><span>|</span><a href="#37748437">next</a><span>|</span><label class="collapse" for="c-37742213">[-]</label><label class="expand" for="c-37742213">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a joke. It made me laugh.</div><br/><div id="37747209" class="c"><input type="checkbox" id="c-37747209" checked=""/><div class="controls bullet"><span class="by">keb_</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37742213">parent</a><span>|</span><a href="#37748437">next</a><span>|</span><label class="collapse" for="c-37747209">[-]</label><label class="expand" for="c-37747209">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a bad joke. It made me close the browser tab.</div><br/><div id="37748806" class="c"><input type="checkbox" id="c-37748806" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37747209">parent</a><span>|</span><a href="#37748437">next</a><span>|</span><label class="collapse" for="c-37748806">[-]</label><label class="expand" for="c-37748806">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It&#x27;s a bad joke.<p>To each their own.<p>&gt; It made me close the browser tab.<p>If you can&#x27;t handle refreshing or merely clicking it again, that&#x27;s you having a problem, not the site having a problem.</div><br/></div></div></div></div></div></div></div></div><div id="37748437" class="c"><input type="checkbox" id="c-37748437" checked=""/><div class="controls bullet"><span class="by">arendtio</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37739224">prev</a><span>|</span><a href="#37737621">next</a><span>|</span><label class="collapse" for="c-37748437">[-]</label><label class="expand" for="c-37748437">[1 more]</label></div><br/><div class="children"><div class="content">Too bad the Linux and the Mac pointer look so similar. But when you give them different background colors, it becomes more obvious which platform dominates, like:<p><pre><code>  .pointer.l {
    background-color: green;
  }</code></pre></div><br/></div></div><div id="37737621" class="c"><input type="checkbox" id="c-37737621" checked=""/><div class="controls bullet"><span class="by">hwillis</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37748437">prev</a><span>|</span><a href="#37737542">next</a><span>|</span><label class="collapse" for="c-37737621">[-]</label><label class="expand" for="c-37737621">[2 more]</label></div><br/><div class="children"><div class="content">turned off javascript as soon as I saw it. Like trying to read with twenty mosquitos in your face.</div><br/><div id="37739561" class="c"><input type="checkbox" id="c-37739561" checked=""/><div class="controls bullet"><span class="by">sebstefan</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37737621">parent</a><span>|</span><a href="#37737542">next</a><span>|</span><label class="collapse" for="c-37739561">[-]</label><label class="expand" for="c-37739561">[1 more]</label></div><br/><div class="children"><div class="content">hey be nice to my mouse cursor</div><br/></div></div></div></div><div id="37737542" class="c"><input type="checkbox" id="c-37737542" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37737621">prev</a><span>|</span><a href="#37742561">next</a><span>|</span><label class="collapse" for="c-37737542">[-]</label><label class="expand" for="c-37737542">[2 more]</label></div><br/><div class="children"><div class="content">I see nice crisp black text on white background because apparently server melted down</div><br/><div id="37739373" class="c"><input type="checkbox" id="c-37739373" checked=""/><div class="controls bullet"><span class="by">hot_gril</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37737542">parent</a><span>|</span><a href="#37742561">next</a><span>|</span><label class="collapse" for="c-37739373">[-]</label><label class="expand" for="c-37739373">[1 more]</label></div><br/><div class="children"><div class="content">I saw that, except half the images weren&#x27;t loading, and there was just one mouse pointer.</div><br/></div></div></div></div><div id="37742561" class="c"><input type="checkbox" id="c-37742561" checked=""/><div class="controls bullet"><span class="by">pests</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37737542">prev</a><span>|</span><a href="#37737679">next</a><span>|</span><label class="collapse" for="c-37742561">[-]</label><label class="expand" for="c-37742561">[1 more]</label></div><br/><div class="children"><div class="content">I know which site you are talking about before even clicking the article :(</div><br/></div></div><div id="37737679" class="c"><input type="checkbox" id="c-37737679" checked=""/><div class="controls bullet"><span class="by">nigma1337</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37742561">prev</a><span>|</span><a href="#37742179">next</a><span>|</span><label class="collapse" for="c-37737679">[-]</label><label class="expand" for="c-37737679">[1 more]</label></div><br/><div class="children"><div class="content">Distracted me from reading the article, I just started chasing other people around.</div><br/></div></div><div id="37742179" class="c"><input type="checkbox" id="c-37742179" checked=""/><div class="controls bullet"><span class="by">lbltavares</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37737679">prev</a><span>|</span><a href="#37741086">next</a><span>|</span><label class="collapse" for="c-37742179">[-]</label><label class="expand" for="c-37742179">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s fun specially for folks like me who have ADHD. But there should be a button to disable it</div><br/></div></div><div id="37741086" class="c"><input type="checkbox" id="c-37741086" checked=""/><div class="controls bullet"><span class="by">neonsunset</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37742179">prev</a><span>|</span><a href="#37737684">next</a><span>|</span><label class="collapse" for="c-37741086">[-]</label><label class="expand" for="c-37741086">[1 more]</label></div><br/><div class="children"><div class="content">Yes, reading the article is impossible with erratic movement on the screen.</div><br/></div></div><div id="37737684" class="c"><input type="checkbox" id="c-37737684" checked=""/><div class="controls bullet"><span class="by">zzzeek</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37741086">prev</a><span>|</span><a href="#37738682">next</a><span>|</span><label class="collapse" for="c-37737684">[-]</label><label class="expand" for="c-37737684">[3 more]</label></div><br/><div class="children"><div class="content">yeah....why on <i>earth</i> would someone want their webpage to do this, especially if they have text they&#x27;d presumably want you to read?</div><br/><div id="37742256" class="c"><input type="checkbox" id="c-37742256" checked=""/><div class="controls bullet"><span class="by">WD-42</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37737684">parent</a><span>|</span><a href="#37741870">next</a><span>|</span><label class="collapse" for="c-37742256">[-]</label><label class="expand" for="c-37742256">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s cute, and provides a hint of human connection that is otherwise absent on the web &quot;hey, another human is reading this too!&quot; which you probably know but something about seeing the pointer move makes it feel real.<p>Probably not the greatest during a hacker news hug of death, but if I read that article some other time and saw one of the moving pointers, I would think it was really cool.</div><br/></div></div><div id="37741870" class="c"><input type="checkbox" id="c-37741870" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#37737256">root</a><span>|</span><a href="#37737684">parent</a><span>|</span><a href="#37742256">prev</a><span>|</span><a href="#37738682">next</a><span>|</span><label class="collapse" for="c-37741870">[-]</label><label class="expand" for="c-37741870">[1 more]</label></div><br/><div class="children"><div class="content">Have you ever read with other people, like in school or a book club, or been somewhere that there were other people around? It&#x27;s an interesting move by the author; the loneliness epidemic hasn&#x27;t gone unnoticed.<p>eg <a href="https:&#x2F;&#x2F;www.npr.org&#x2F;2023&#x2F;05&#x2F;02&#x2F;1173418268&#x2F;loneliness-connection-mental-health-dementia-surgeon-general" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.npr.org&#x2F;2023&#x2F;05&#x2F;02&#x2F;1173418268&#x2F;loneliness-connect...</a></div><br/></div></div></div></div><div id="37738682" class="c"><input type="checkbox" id="c-37738682" checked=""/><div class="controls bullet"><span class="by">lifeinthevoid</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37737684">prev</a><span>|</span><a href="#37741463">next</a><span>|</span><label class="collapse" for="c-37738682">[-]</label><label class="expand" for="c-37738682">[1 more]</label></div><br/><div class="children"><div class="content">yup, pretty annoying</div><br/></div></div><div id="37741463" class="c"><input type="checkbox" id="c-37741463" checked=""/><div class="controls bullet"><span class="by">876978095789789</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37738682">prev</a><span>|</span><a href="#37737277">next</a><span>|</span><label class="collapse" for="c-37741463">[-]</label><label class="expand" for="c-37741463">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, it&#x27;s extremely obnoxious.</div><br/></div></div><div id="37737277" class="c"><input type="checkbox" id="c-37737277" checked=""/><div class="controls bullet"><span class="by">dekken_</span><span>|</span><a href="#37737256">parent</a><span>|</span><a href="#37741463">prev</a><span>|</span><a href="#37737622">next</a><span>|</span><label class="collapse" for="c-37737277">[-]</label><label class="expand" for="c-37737277">[1 more]</label></div><br/><div class="children"><div class="content">not just you, this is what my other comment is about (indirectly)</div><br/></div></div></div></div><div id="37737622" class="c"><input type="checkbox" id="c-37737622" checked=""/><div class="controls bullet"><span class="by">qwerty456127</span><span>|</span><a href="#37737256">prev</a><span>|</span><a href="#37749436">next</a><span>|</span><label class="collapse" for="c-37737622">[-]</label><label class="expand" for="c-37737622">[29 more]</label></div><br/><div class="children"><div class="content">&gt; People are not limited to a single locale. For example, I can read and write English (USA), English (UK), German, and Russian. Which locale should I set my computer to?<p>Ideally - the &quot;English-World&quot; locale is supposedly meant for us, cosmopolitans. It&#x27;s included with Windows 10 and 11.<p>Practically, as &quot;English-World&quot; was not available in the past (and still wasn&#x27;t available on platforms other than Windows the last time I checked), I have always been setting the locale to En-US even though I have never been to America. This leads to a number of annoyances though. E.g. LibreOffice always creates new documents for the Letter paper format and I have to switch it to A4 manually every time. It&#x27;s even worse on Linux where locales appear to be less easy to customize than in Windows. Windows always offered a handy configuration dialog to granularly tweak your locale choosing what measures system you prefer, whether your weeks begin on sundays or mondays and even define your preferred date-time format templates fully manually.<p>A less-spoken about problem is Windows&#x27; system-wide setting for the default legacy codepage. I happen to use single-language legacy (non-Unicode) apps made by people from a number of very different countries. Some apps (e.g. I can remeber the Intel UHD Windows driver config app) even use this setting (ignoring the system locale and system UI language) to detect your language and render their whole UI in it.<p>&gt; English (USA), English (UK)<p>This deserves a separate discussion. I doubt many English speakers (let alone those who don&#x27;t live in a particular anglophone country) care to distinguish between English dialects. To us presence of a huge number of these (don&#x27;t forget en-AU, en-TT, en-ZW etc - there are more!) in the options lists brings only annoyance, especially when one chooses some non-US one and this opens another can of worms.<p>By the way I wonder how do string capitalization and comparision functions manage to work on computers of people who use both English and Turkish actively (Turkish locale distinguishes between dotted and undotted İ).</div><br/><div id="37739360" class="c"><input type="checkbox" id="c-37739360" checked=""/><div class="controls bullet"><span class="by">lucideer</span><span>|</span><a href="#37737622">parent</a><span>|</span><a href="#37738819">next</a><span>|</span><label class="collapse" for="c-37739360">[-]</label><label class="expand" for="c-37739360">[7 more]</label></div><br/><div class="children"><div class="content">As an Irish person, while we have en_IE which is great (and solves most of the problems you list re: Euro-centric defaults + English), I&#x27;d still quite like to have an even more broad &#x2F; trans-language &#x2F; &quot;cosmopolitan&quot; locale to use.<p>I mainly type in English but occasionally other languages - I use a combination of Mac &amp; Linux - macOS has an (off-by-default but enable-able) lang-changer icon in the tray that is handy enough, but still annoying to have to toggle. Linux is much worse.<p>Mac also has quite a nice long-press-to-select-special character that at least makes for accessible (if not efficient) typing in multiple languages while using an English locale. Mobile keyboards pioneered this (&amp; Android&#x27;s current one even does simultanous multi-lang autocomplete, though it severely hurts accuracy).<p>---<p>&gt; <i>I doubt many English speakers care to distinguish between English dialects.</i><p>I think you&#x27;ll find the opposite to be true. US English spellings &amp; conventions are quite a departure from other dialects, so typing fluidly &amp; naturally in any non-US dialect is going to net you a world of autocorrect pain in en_US. To the extent it renders many potentially essential spelling &amp; grammar checkers completely unusable.</div><br/><div id="37739590" class="c"><input type="checkbox" id="c-37739590" checked=""/><div class="controls bullet"><span class="by">jdblair</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37739360">parent</a><span>|</span><a href="#37739479">next</a><span>|</span><label class="collapse" for="c-37739590">[-]</label><label class="expand" for="c-37739590">[1 more]</label></div><br/><div class="children"><div class="content">I can 2nd this as an American who now resides in Europe. My first laptop I brought with me, and was defaulted to en_US, but my replacement is en_GB (Apple doesn&#x27;t have en_NL, for good reason).<p>I don&#x27;t find it &quot;unusable&quot;, though. I could change it back to en_US, but it has actually been interesting to see all of my American spellings flagged by autocorrect. Each time I write authorize instead of authorise it is an act of stubborn group affinity!</div><br/></div></div><div id="37739479" class="c"><input type="checkbox" id="c-37739479" checked=""/><div class="controls bullet"><span class="by">l72</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37739360">parent</a><span>|</span><a href="#37739590">prev</a><span>|</span><a href="#37742726">next</a><span>|</span><label class="collapse" for="c-37739479">[-]</label><label class="expand" for="c-37739479">[1 more]</label></div><br/><div class="children"><div class="content">I write in multiple languages daily on Linux, including English, Russian, and Chinese. Switching keyboards (at least with gnome) is a simple super-space.<p>While in my default (English) layout, it is easy enough to add in accents other characters using the compose key (right alt). So right-alt+&#x27;+a = á or right-alt+&quot;+u = ü. I much prefer this over the long press as I can do it quickly and seamlessly without having to wait on feedback. Granted, it is not as discoverable, but once you are comfortable, it in my opinion is a better system.</div><br/></div></div><div id="37742726" class="c"><input type="checkbox" id="c-37742726" checked=""/><div class="controls bullet"><span class="by">TRiG_Ireland</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37739360">parent</a><span>|</span><a href="#37739479">prev</a><span>|</span><a href="#37738819">next</a><span>|</span><label class="collapse" for="c-37742726">[-]</label><label class="expand" for="c-37742726">[4 more]</label></div><br/><div class="children"><div class="content">&gt; US English spellings &amp; conventions are quite a departure from other dialects.<p>As far as the written, formal language is concerned, English really has only three dialects: US American, Canadian, and everywhere else. There are some other subtle differences (such as &quot;robots&quot; for traffic lights in South Africa, or &quot;minerals&quot; for fizzy drinks in Ireland¹), but that&#x27;s pretty much it.<p>¹ Yes, this isn&#x27;t just slang in Ireland: the formal, pre-recorded announcements on trains use it: &quot;A trolley service will operate to your seat, serving tea, coffee, minerals and snacks.&quot; The corresponding Irish announcement renders it mianraí. Food service on trains stopped during covid and has not yet resumed, so I&#x27;m working from distant memory now.</div><br/><div id="37743332" class="c"><input type="checkbox" id="c-37743332" checked=""/><div class="controls bullet"><span class="by">lucideer</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37742726">parent</a><span>|</span><a href="#37738819">next</a><span>|</span><label class="collapse" for="c-37743332">[-]</label><label class="expand" for="c-37743332">[3 more]</label></div><br/><div class="children"><div class="content">&gt; <i>As far as the written, formal language is concerned, English really has only three dialects</i><p>This is true, but I don&#x27;t see why the &quot;formal&quot; qualifier is needed here :) There are much more than 3 dialects of English, both written &amp; spoken.<p>Especially there&#x27;s a fair few extremely common notable differences in (casual, written) Irish English: the word &quot;amn&#x27;t&quot; (among other less common contractions), the alternative present tense of the verb &quot;to be&quot; (i.e. &quot;do be&quot;), various regional plurals of &quot;you&quot;, and - perhaps the most common - prepositional pronouns, etc. etc.</div><br/><div id="37744399" class="c"><input type="checkbox" id="c-37744399" checked=""/><div class="controls bullet"><span class="by">TRiG_Ireland</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37743332">parent</a><span>|</span><a href="#37743894">next</a><span>|</span><label class="collapse" for="c-37744399">[-]</label><label class="expand" for="c-37744399">[1 more]</label></div><br/><div class="children"><div class="content">Well, quite. If we include any one or more of the following three categories — formal spoken language, informal spoken language, informal written language — then there&#x27;s definitely far more than three dialects of English. But formal spoken language really has only the three.</div><br/></div></div><div id="37743894" class="c"><input type="checkbox" id="c-37743894" checked=""/><div class="controls bullet"><span class="by">phantom784</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37743332">parent</a><span>|</span><a href="#37744399">prev</a><span>|</span><a href="#37738819">next</a><span>|</span><label class="collapse" for="c-37743894">[-]</label><label class="expand" for="c-37743894">[1 more]</label></div><br/><div class="children"><div class="content">I guess it&#x27;s a question as to how many varieties of spelling you want to make available as &quot;translations&quot; in software (e.g. color vs colour, tire vs tyre).<p>There&#x27;s plenty of regional variants just within the US, but &quot;en_us&quot; covers the whole country.</div><br/></div></div></div></div></div></div></div></div><div id="37738819" class="c"><input type="checkbox" id="c-37738819" checked=""/><div class="controls bullet"><span class="by">DoughnutHole</span><span>|</span><a href="#37737622">parent</a><span>|</span><a href="#37739360">prev</a><span>|</span><a href="#37741933">next</a><span>|</span><label class="collapse" for="c-37738819">[-]</label><label class="expand" for="c-37738819">[4 more]</label></div><br/><div class="children"><div class="content">&gt; I doubt many English speakers care to distinguish between English dialects<p>It&#x27;s worthwhile purely for the sake of autocorrect&#x2F;typo highlighting in text-editing software.  I don&#x27;t miss the days of spelling a word correctly in my version of English but still being stuck with the visual noise of red highlighting up and down the document because it doesn&#x27;t conform to US English.</div><br/><div id="37739472" class="c"><input type="checkbox" id="c-37739472" checked=""/><div class="controls bullet"><span class="by">BoxOfRain</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37738819">parent</a><span>|</span><a href="#37741933">next</a><span>|</span><label class="collapse" for="c-37739472">[-]</label><label class="expand" for="c-37739472">[3 more]</label></div><br/><div class="children"><div class="content">Yeah I&#x27;d rather not have my British English dialect seen as second-class in a world of American English ideally which is what having a red document full of &#x27;errors&#x27; implies in those sorts of situations.<p>It&#x27;s sometimes not a trivial distinction either, for example I&#x27;ve heard of cases where surprised British redditors have found themselves banned from American subreddits for being homophobic when they were actually talking innocently enough about cigarettes!</div><br/><div id="37741260" class="c"><input type="checkbox" id="c-37741260" checked=""/><div class="controls bullet"><span class="by">OfSanguineFire</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37739472">parent</a><span>|</span><a href="#37741933">next</a><span>|</span><label class="collapse" for="c-37741260">[-]</label><label class="expand" for="c-37741260">[2 more]</label></div><br/><div class="children"><div class="content">I would think a lot of mods, who are either Highly Online Americans or their weirdo equivalents in other countries, are well aware of the UK usage, but simply expect Brits to give it up in order to avoid offending Americans and the global Reddit community that largely takes American-style sensitivity as its orthodoxy. And considering that Reddit corporate feels that anything that could stir up such outrage is bad for business, mods of popular subreddits may well feel pressured to come down hard on these matters.</div><br/><div id="37744082" class="c"><input type="checkbox" id="c-37744082" checked=""/><div class="controls bullet"><span class="by">bluGill</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37741260">parent</a><span>|</span><a href="#37741933">next</a><span>|</span><label class="collapse" for="c-37744082">[-]</label><label class="expand" for="c-37744082">[1 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t matter if you use UK or US spelling you are wrong. I wish we would adopt the international phonetic alphabet I might have a chance of spelling things correctly.</div><br/></div></div></div></div></div></div></div></div><div id="37741933" class="c"><input type="checkbox" id="c-37741933" checked=""/><div class="controls bullet"><span class="by">notatoad</span><span>|</span><a href="#37737622">parent</a><span>|</span><a href="#37738819">prev</a><span>|</span><a href="#37738099">next</a><span>|</span><label class="collapse" for="c-37741933">[-]</label><label class="expand" for="c-37741933">[3 more]</label></div><br/><div class="children"><div class="content">&gt; I doubt many English speakers care to distinguish between English dialects<p>I think you&#x27;d be surprised how many english (UK) people will get pissed off when their spell-checker starts removing the &quot;u&quot; from colour or flavour, or how many English (US) people get pissed off when the spellchecker starts suggesting random &quot;u&quot;s to words.<p>additionally to that, locale isn&#x27;t just about language. English (US) and English (UK) decides whether your dates get formatted DD-MM-YY or MM-DD-YY, whether your numbers have the thousands broken by commas or spaces, and a host of other localization considerations with a lot more significance than just the dialect of english.</div><br/><div id="37742746" class="c"><input type="checkbox" id="c-37742746" checked=""/><div class="controls bullet"><span class="by">TRiG_Ireland</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37741933">parent</a><span>|</span><a href="#37742295">next</a><span>|</span><label class="collapse" for="c-37742746">[-]</label><label class="expand" for="c-37742746">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d really like an en-GB-oxendict (British English but favouring -ize over -ise) locale for formal writing.</div><br/></div></div><div id="37742295" class="c"><input type="checkbox" id="c-37742295" checked=""/><div class="controls bullet"><span class="by">aksss</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37741933">parent</a><span>|</span><a href="#37742746">prev</a><span>|</span><a href="#37738099">next</a><span>|</span><label class="collapse" for="c-37742295">[-]</label><label class="expand" for="c-37742295">[1 more]</label></div><br/><div class="children"><div class="content">I worked for BP for a while (well, as a contracted coder) and I got quite used to the UK spell check correcting everything to its idiom. Everything seemed wrong once I returned a world that dismissed the value of the letter &#x27;U&#x27; and preferred the letter &#x27;Z&#x27; over &#x27;S&#x27;. Also missed the normalizing of drinking beer at lunch.</div><br/></div></div></div></div><div id="37738099" class="c"><input type="checkbox" id="c-37738099" checked=""/><div class="controls bullet"><span class="by">grotorea</span><span>|</span><a href="#37737622">parent</a><span>|</span><a href="#37741933">prev</a><span>|</span><a href="#37741624">next</a><span>|</span><label class="collapse" for="c-37738099">[-]</label><label class="expand" for="c-37738099">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Practically, as &quot;English-World&quot; was not available in the past (and still wasn&#x27;t available on platforms other than Windows the last time I checked), I have always been setting the locale to En-US even though I have never been to America. This leads to a number of annoyances though. E.g. LibreOffice always creates new documents for the Letter paper format and I have to switch it to A4 manually every time. It&#x27;s even worse on Linux where locales appear to be less easy to customize than in Windows. Windows always offered a handy configuration dialog to granulatly tweak your locale choosing what measures system you prefer, whether your weeks begin on sundays or mondays and even define your preferred date-time format templates fully manually.<p>There&#x27;s  the English (Denmark) locale for that on some platfoms.</div><br/><div id="37738255" class="c"><input type="checkbox" id="c-37738255" checked=""/><div class="controls bullet"><span class="by">qwerty456127</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37738099">parent</a><span>|</span><a href="#37741624">next</a><span>|</span><label class="collapse" for="c-37738255">[-]</label><label class="expand" for="c-37738255">[4 more]</label></div><br/><div class="children"><div class="content">Thank you very much, I&#x27;ll give it a try.</div><br/><div id="37738758" class="c"><input type="checkbox" id="c-37738758" checked=""/><div class="controls bullet"><span class="by">grotorea</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37738255">parent</a><span>|</span><a href="#37739629">next</a><span>|</span><label class="collapse" for="c-37738758">[-]</label><label class="expand" for="c-37738758">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a bit of a joke that doesn&#x27;t have universal support. Works on my phone. Apparently you can also try en_IE (Ireland).<p><a href="https:&#x2F;&#x2F;unix.stackexchange.com&#x2F;questions&#x2F;62316&#x2F;why-is-there-no-euro-english-locale" rel="nofollow noreferrer">https:&#x2F;&#x2F;unix.stackexchange.com&#x2F;questions&#x2F;62316&#x2F;why-is-there-...</a></div><br/></div></div><div id="37739629" class="c"><input type="checkbox" id="c-37739629" checked=""/><div class="controls bullet"><span class="by">actualwitch</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37738255">parent</a><span>|</span><a href="#37738758">prev</a><span>|</span><a href="#37741624">next</a><span>|</span><label class="collapse" for="c-37739629">[-]</label><label class="expand" for="c-37739629">[2 more]</label></div><br/><div class="children"><div class="content">en-GB is also a good choice</div><br/><div id="37744091" class="c"><input type="checkbox" id="c-37744091" checked=""/><div class="controls bullet"><span class="by">carstenhag</span><span>|</span><a href="#37737622">root</a><span>|</span><a href="#37739629">parent</a><span>|</span><a href="#37741624">next</a><span>|</span><label class="collapse" for="c-37744091">[-]</label><label class="expand" for="c-37744091">[1 more]</label></div><br/><div class="children"><div class="content">Not really, no € and no metric units</div><br/></div></div></div></div></div></div></div></div><div id="37741624" class="c"><input type="checkbox" id="c-37741624" checked=""/><div class="controls bullet"><span class="by">uxp8u61q</span><span>|</span><a href="#37737622">parent</a><span>|</span><a href="#37738099">prev</a><span>|</span><a href="#37744897">next</a><span>|</span><label class="collapse" for="c-37741624">[-]</label><label class="expand" for="c-37741624">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I have always been setting the locale to En-US even though I have never been to America. This leads to a number of annoyances though. E.g. LibreOffice always creates new documents for the Letter paper format and I have to switch it to A4 manually every time<p>&gt; I doubt many English speakers (let alone those who don&#x27;t live in a particular anglophone country) care to distinguish between English dialects. To us presence of a huge number of these (don&#x27;t forget en-AU, en-TT, en-ZW etc - there are more!) in the options lists brings only annoyance, especially when one chooses some non-US one and this opens another can of worms.<p>Well, you just explained what this plethora of options is about. It&#x27;s not just about how you spell flavor&#x2F;flavour. It&#x27;s a lot of different defaults for how you expect your OS to present information to you. Default paper size, but also how to write date and time, does the week start on Monday, Sunday, or something else, etc.</div><br/></div></div><div id="37744897" class="c"><input type="checkbox" id="c-37744897" checked=""/><div class="controls bullet"><span class="by">__d</span><span>|</span><a href="#37737622">parent</a><span>|</span><a href="#37741624">prev</a><span>|</span><a href="#37745781">next</a><span>|</span><label class="collapse" for="c-37744897">[-]</label><label class="expand" for="c-37744897">[1 more]</label></div><br/><div class="children"><div class="content">I write daily in US English, Australian English, and Austrian German.  Most of the time, a specific document is in one dialect&#x2F;language or another: not mixed, although sometimes that&#x27;s not true.<p>I can understand that the conflation of spelling, word choices, time and date formatting, default paper sizes, measurement units, etc, etc, is convenient, and works a lot of the time, but it really doesn&#x27;t work for me at all.<p>That said, I appreciate that I occupy a very small niche.</div><br/></div></div><div id="37745781" class="c"><input type="checkbox" id="c-37745781" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#37737622">parent</a><span>|</span><a href="#37744897">prev</a><span>|</span><a href="#37739280">next</a><span>|</span><label class="collapse" for="c-37745781">[-]</label><label class="expand" for="c-37745781">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I doubt many English speakers (let alone those who don&#x27;t live in a particular anglophone country) care to distinguish between English dialects.<p>Most people in the UK care - a population nearly twice that of California, and larger than the native speakers of any non-top-20 language. If you care enough to support e.g. Italian you should support en_UK.</div><br/></div></div><div id="37739280" class="c"><input type="checkbox" id="c-37739280" checked=""/><div class="controls bullet"><span class="by">masklinn</span><span>|</span><a href="#37737622">parent</a><span>|</span><a href="#37745781">prev</a><span>|</span><a href="#37746656">next</a><span>|</span><label class="collapse" for="c-37739280">[-]</label><label class="expand" for="c-37739280">[2 more]</label></div><br/><div class="children"><div class="content">&gt; English (USA), English (UK)<p>&gt; This deserves a separate discussion. I doubt many English speakers (let alone those who don&#x27;t live in a particular anglophone country) care to distinguish between English dialects.<p>While that is generally (though not always) true, I would assume it&#x27;s really a stand in for the much more relevant zh locales.<p>It is also rather relevant to es locales (america spanish has diverged quite a bit from europe spanish hence the creation of es-419), definitely french (canadian french, to a lesser extend belgian and swiss), and german (because swiss german). And it might be relevant for ko if north korea ever stops being what it is.</div><br/></div></div><div id="37746656" class="c"><input type="checkbox" id="c-37746656" checked=""/><div class="controls bullet"><span class="by">fomine3</span><span>|</span><a href="#37737622">parent</a><span>|</span><a href="#37739280">prev</a><span>|</span><a href="#37746081">next</a><span>|</span><label class="collapse" for="c-37746656">[-]</label><label class="expand" for="c-37746656">[1 more]</label></div><br/><div class="children"><div class="content">Unix style locale (set by env vars) is flexible, that can set per app. Android and iOS now support locale per app recently IIRC. Windows locale settings is global and some requires reboot.</div><br/></div></div><div id="37746081" class="c"><input type="checkbox" id="c-37746081" checked=""/><div class="controls bullet"><span class="by">ipsi</span><span>|</span><a href="#37737622">parent</a><span>|</span><a href="#37746656">prev</a><span>|</span><a href="#37743661">next</a><span>|</span><label class="collapse" for="c-37746081">[-]</label><label class="expand" for="c-37746081">[1 more]</label></div><br/><div class="children"><div class="content">&gt; This deserves a separate discussion. I doubt many English speakers (let alone those who don&#x27;t live in a particular anglophone country) care to distinguish between English dialects. To us presence of a huge number of these (don&#x27;t forget en-AU, en-TT, en-ZW etc - there are more!) in the options lists brings only annoyance, especially when one chooses some non-US one and this opens another can of worms.<p>I definitely do. The biggest difference, as everyone else, has pointed out is the US vs UK spellings.<p>Realistically, though, beyond that country is a poor indicator for everything else. I want to use DD&#x2F;MM&#x2F;YYYY date format in English, but DD.MM.YYYY date format in German. I want to use $1,000 in English, but 1.000 $ in German. This isn&#x27;t dependent on the country I live in, this is dependant on a <i>combination</i> of a country <i>and</i> language - that could be the country I&#x27;m living in, or the country I grew up in (mostly US date format vs not), and it&#x27;s either the language I&#x27;m actively typing in, or the language of the document I&#x27;m reading, or the language I&#x27;m <i>thinking</i> in (but a computer can&#x27;t exactly handle that).<p>Trying to guess the correct combination is tricky, especially if a document is in two languages (e.g., a quotation), and users are lazy and won&#x27;t switch their IME unless they have to.<p>What this means in slightly more practical terms is that setting a single &quot;locale&quot; for my device doesn&#x27;t make sense, but rather I should be able to choose a locale per language (or possibly spelling preferences by language and formatting options by language as separate choices). I&#x27;d then pick a language to use the device in, and it would use that languages locale, and tell apps that this language is the preferred language. If an app doesn&#x27;t provide my preferred language, pull the preferred locale from settings for a language it <i>does</i> support, otherwise use the default set by developers. For some apps, it&#x27;s a bit more complex, particularly if I&#x27;m creating content. GMail or Office would be two good examples, where the UI language might be in English, but the emails or documents are in German, or a combination of German and English.<p>Even then, I&#x27;m sure there are people who need something even more flexible than that.<p>At the moment, if I set my language to English but my Country to Germany on my iPhone, for example, things occasionally get confused. My UK banking app, for example, pulled the decimal separator from my locale settings for a while and then refused to work because &quot;£9,79&quot; (or whatever it was) isn&#x27;t a valid amount of money, and I couldn&#x27;t see a way to fix that without switching my Country in the phone settings. I imagine they fixed it by ignoring my configured locale and always using en-GB, thus defeating the whole point of a locale in the first place.<p>So yeah, these days it&#x27;s fairly common to not have a single &quot;locale&quot; that you work in - it&#x27;s quite possible to want to use two or more but nothing is really set up to handle that well.</div><br/></div></div><div id="37743661" class="c"><input type="checkbox" id="c-37743661" checked=""/><div class="controls bullet"><span class="by">dizhn</span><span>|</span><a href="#37737622">parent</a><span>|</span><a href="#37746081">prev</a><span>|</span><a href="#37738558">next</a><span>|</span><label class="collapse" for="c-37743661">[-]</label><label class="expand" for="c-37743661">[1 more]</label></div><br/><div class="children"><div class="content">i İ<p>ı I<p>I symphatize with people who get this wrong. (I just saw some YouTube video have a title TÜRKIYE in a segment)<p>Even google keyboard can&#x27;t seem to distinguish between I and İ. When I type &quot;It&quot;, it suggests &quot;İt&#x27;s&quot; which is quite pathetic.</div><br/></div></div><div id="37738558" class="c"><input type="checkbox" id="c-37738558" checked=""/><div class="controls bullet"><span class="by">hahn-kev</span><span>|</span><a href="#37737622">parent</a><span>|</span><a href="#37743661">prev</a><span>|</span><a href="#37749436">next</a><span>|</span><label class="collapse" for="c-37738558">[-]</label><label class="expand" for="c-37738558">[1 more]</label></div><br/><div class="children"><div class="content">As much as I appreciate that I always wondered how many programs actually respect all those tweaks.</div><br/></div></div></div></div><div id="37749436" class="c"><input type="checkbox" id="c-37749436" checked=""/><div class="controls bullet"><span class="by">shellmachine</span><span>|</span><a href="#37737622">prev</a><span>|</span><a href="#37737921">next</a><span>|</span><label class="collapse" for="c-37749436">[-]</label><label class="expand" for="c-37749436">[1 more]</label></div><br/><div class="children"><div class="content">$ ping6 tonsky.me
ping6: no address associated with name
$<p>What every software developer must know about IPv6 in 2023 (still no excuses!).</div><br/></div></div><div id="37737921" class="c"><input type="checkbox" id="c-37737921" checked=""/><div class="controls bullet"><span class="by">oefrha</span><span>|</span><a href="#37749436">prev</a><span>|</span><a href="#37737761">next</a><span>|</span><label class="collapse" for="c-37737921">[-]</label><label class="expand" for="c-37737921">[1 more]</label></div><br/><div class="children"><div class="content">&gt; many Chinese, Japanese, and Korean logograms that are written very differently get assigned the same code point<p>This leads to absolutely horrendous rendering of Chinese filenames in Windows if the system locale isn’t Chinese. The characters seem to be rendered in some variant of MS Gothic and it’s very obviously a mix of Chinese and Japanese glyphs (of somewhat different sizes and&#x2F;or stroke widths IIRC). I think the Chinese locale avoids the issue by using Microsoft YaHei UI.</div><br/></div></div><div id="37737761" class="c"><input type="checkbox" id="c-37737761" checked=""/><div class="controls bullet"><span class="by">tr888</span><span>|</span><a href="#37737921">prev</a><span>|</span><a href="#37743317">next</a><span>|</span><label class="collapse" for="c-37737761">[-]</label><label class="expand" for="c-37737761">[18 more]</label></div><br/><div class="children"><div class="content">What on EARTH is that mouse cursor thing all about? Why would you even bother writing this, then making it impossible to read properly?</div><br/><div id="37737858" class="c"><input type="checkbox" id="c-37737858" checked=""/><div class="controls bullet"><span class="by">oliwarner</span><span>|</span><a href="#37737761">parent</a><span>|</span><a href="#37739015">next</a><span>|</span><label class="collapse" for="c-37737858">[-]</label><label class="expand" for="c-37737858">[7 more]</label></div><br/><div class="children"><div class="content">It&#x27;s tracking every visitors&#x27; cursor and sharing it with every other visitor.<p>Why would a frontend developer demonstrate their ability to do frontend programming on their personal, not altogether super-serious blog? I meant that rhetorically but it&#x27;s a flex.  I agree, not the best design in the world if you&#x27;re catering for particular needs, but simple and fun enough. You should check out dark mode.<p>In that vein, I think it&#x27;s okay if we let people have fun. That might not work for everyone, but why should we let perfect be the worst enemy of fun?</div><br/><div id="37737932" class="c"><input type="checkbox" id="c-37737932" checked=""/><div class="controls bullet"><span class="by">dathinab</span><span>|</span><a href="#37737761">root</a><span>|</span><a href="#37737858">parent</a><span>|</span><a href="#37739015">next</a><span>|</span><label class="collapse" for="c-37737932">[-]</label><label class="expand" for="c-37737932">[6 more]</label></div><br/><div class="children"><div class="content">&gt; Why would<p>because it shows that they don&#x27;t understand important design aspects<p>while it doesn&#x27;t really show off their technical skills because it could be some plugin or copy pasted code, only someone who looks at the code would know better. But if someone care enough about you to look at your code you don&#x27;t need to show of that skill on you normal web-site and can have some separate tech demo.<p>&gt; okay if we let people have fun<p>yes people having fun is always fine especially if you don&#x27;t care if anyone ever reads your blog or looks at it for whatever reason (e.g. hiring)<p>but the moment you want people to look at it for whatever reason then there is tension<p>i.e. people don&#x27;t get hired to have fun<p>and if you want others to read you blog you probably shouldn&#x27;t assault them with constant distractions</div><br/><div id="37741461" class="c"><input type="checkbox" id="c-37741461" checked=""/><div class="controls bullet"><span class="by">oliwarner</span><span>|</span><a href="#37737761">root</a><span>|</span><a href="#37737932">parent</a><span>|</span><a href="#37738823">next</a><span>|</span><label class="collapse" for="c-37741461">[-]</label><label class="expand" for="c-37741461">[1 more]</label></div><br/><div class="children"><div class="content">&gt; people don&#x27;t get hired to have fun<p>Living by that motto is hugely self-destructive.<p>Creative expression allows us to push ourselves, both in <i>what</i> we think we can do, and often the technical aspects about <i>how</i> we do it too. Even if the idea doesn&#x27;t stick, you&#x27;ve tried something new.<p>In a world of Tailwinds and Bootstraps and the same five templates copied again and again and again, let&#x27;s celebrate the people willing to push things and learn from their inevitable but ultimately valuable mistakes. And let&#x27;s have some fun along the way.</div><br/></div></div><div id="37738823" class="c"><input type="checkbox" id="c-37738823" checked=""/><div class="controls bullet"><span class="by">JohnFen</span><span>|</span><a href="#37737761">root</a><span>|</span><a href="#37737932">parent</a><span>|</span><a href="#37741461">prev</a><span>|</span><a href="#37738238">next</a><span>|</span><label class="collapse" for="c-37738823">[-]</label><label class="expand" for="c-37738823">[2 more]</label></div><br/><div class="children"><div class="content">Not every website, even technical ones, need to have an eye towards professional advancement. Sometimes they&#x27;re just for fun. I welcome it, as it&#x27;s a thing that gets more rare on the web as time goes by.</div><br/><div id="37739150" class="c"><input type="checkbox" id="c-37739150" checked=""/><div class="controls bullet"><span class="by">jamincan</span><span>|</span><a href="#37737761">root</a><span>|</span><a href="#37738823">parent</a><span>|</span><a href="#37738238">next</a><span>|</span><label class="collapse" for="c-37739150">[-]</label><label class="expand" for="c-37739150">[1 more]</label></div><br/><div class="children"><div class="content">Considering the dark mode is effectively flashlight mode, I think it&#x27;s reasonable to assume the blog&#x27;s owner just likes to have a bit of fun.</div><br/></div></div></div></div><div id="37738238" class="c"><input type="checkbox" id="c-37738238" checked=""/><div class="controls bullet"><span class="by">FinnKuhn</span><span>|</span><a href="#37737761">root</a><span>|</span><a href="#37737932">parent</a><span>|</span><a href="#37738823">prev</a><span>|</span><a href="#37739597">next</a><span>|</span><label class="collapse" for="c-37738238">[-]</label><label class="expand" for="c-37738238">[1 more]</label></div><br/><div class="children"><div class="content">I assume the creator didn&#x27;t anticipate this amount of readers at the same time and having one or two other cursors on the page does sound fun and not too distracting. They should probably limit the maximum amount of other cursors displayed to a sensible amount</div><br/></div></div><div id="37739597" class="c"><input type="checkbox" id="c-37739597" checked=""/><div class="controls bullet"><span class="by">booleandilemma</span><span>|</span><a href="#37737761">root</a><span>|</span><a href="#37737932">parent</a><span>|</span><a href="#37738238">prev</a><span>|</span><a href="#37739015">next</a><span>|</span><label class="collapse" for="c-37739597">[-]</label><label class="expand" for="c-37739597">[1 more]</label></div><br/><div class="children"><div class="content">Lighten up.</div><br/></div></div></div></div></div></div><div id="37739015" class="c"><input type="checkbox" id="c-37739015" checked=""/><div class="controls bullet"><span class="by">eerikkivistik</span><span>|</span><a href="#37737761">parent</a><span>|</span><a href="#37737858">prev</a><span>|</span><a href="#37737900">next</a><span>|</span><label class="collapse" for="c-37739015">[-]</label><label class="expand" for="c-37739015">[1 more]</label></div><br/><div class="children"><div class="content">I stopped in the middle of reading the post just for this. It was so distracting I was unable to focus on the text. It&#x27;s a fun gimmick, but the result is that someone who wanted to read the post, stopped in the middle.</div><br/></div></div><div id="37737900" class="c"><input type="checkbox" id="c-37737900" checked=""/><div class="controls bullet"><span class="by">dathinab</span><span>|</span><a href="#37737761">parent</a><span>|</span><a href="#37739015">prev</a><span>|</span><a href="#37748998">next</a><span>|</span><label class="collapse" for="c-37737900">[-]</label><label class="expand" for="c-37737900">[6 more]</label></div><br/><div class="children"><div class="content">(sarcasm)<p>It&#x27;s revenge against anyone with certain kinds of visual impairments and&#x2F;or concentration issues because the ex-spouse of the author which turned out to be a terrible person had such.<p>(sarcasm try 2)<p>It&#x27;s revenge against anyone using JS on the net with the author trying to subtle hint that JS is bad.<p>(realistic)<p>It&#x27;s probably on of:<p>- the website is a static view of some collaborative tool which has that functionality build in by default<p>- some form of well intended but not well working functionality add to the site as it was some form of school&#x2F;study project, in that case I&#x27;m worried about the author suffering unexpected very much higher cost due to it ending up on HN ...</div><br/><div id="37740291" class="c"><input type="checkbox" id="c-37740291" checked=""/><div class="controls bullet"><span class="by">tonsky</span><span>|</span><a href="#37737761">root</a><span>|</span><a href="#37737900">parent</a><span>|</span><a href="#37742654">next</a><span>|</span><label class="collapse" for="c-37740291">[-]</label><label class="expand" for="c-37740291">[4 more]</label></div><br/><div class="children"><div class="content">Hi, author here. In case you really want to know: no, it’s custom-made and works exactly as intended. There are two main reasons:<p>1. Fun. Modern internet is boring, most blog posts are just black text on white background. Hard to remember where you read what. And you can’t really have fun without breaking some expectations.<p>2. Sense of community. Internet is a lonely place, and I don’t necessarily like that. I like the feeling of “right now, someone else reading the same thing as I do”. It’s human presence transferred over the network.<p>I understand not everybody might like it. Some people just like when things are “normal” and everything is the same. Others might not like feeling of human presence. For those, I’m not hiding my content, reader mode is one click away, I make sure it works very well.<p>As for “unexpectedly ended up on HN”, it’s not at all unexpected. Practically every one of my general topic articles ends up here. It’s so predictable I rely on HN to be my comment section.</div><br/><div id="37744267" class="c"><input type="checkbox" id="c-37744267" checked=""/><div class="controls bullet"><span class="by">gpvos</span><span>|</span><a href="#37737761">root</a><span>|</span><a href="#37740291">parent</a><span>|</span><a href="#37742627">next</a><span>|</span><label class="collapse" for="c-37744267">[-]</label><label class="expand" for="c-37744267">[1 more]</label></div><br/><div class="children"><div class="content">2. I only understood that it was actual other people&#x27;s mouse cursors when I read that here. So it didn&#x27;t really engender a sense of community, although after some time I did think you are very good at modelling actual human mouse movements. Now that I know it, it&#x27;s pretty neat though.</div><br/></div></div><div id="37742627" class="c"><input type="checkbox" id="c-37742627" checked=""/><div class="controls bullet"><span class="by">pests</span><span>|</span><a href="#37737761">root</a><span>|</span><a href="#37740291">parent</a><span>|</span><a href="#37744267">prev</a><span>|</span><a href="#37742654">next</a><span>|</span><label class="collapse" for="c-37742627">[-]</label><label class="expand" for="c-37742627">[2 more]</label></div><br/><div class="children"><div class="content">I like your content but I do think you need to rethink #1. Fun is usless if no one wants to show up because they are annoyed.</div><br/><div id="37743239" class="c"><input type="checkbox" id="c-37743239" checked=""/><div class="controls bullet"><span class="by">acqq</span><span>|</span><a href="#37737761">root</a><span>|</span><a href="#37742627">parent</a><span>|</span><a href="#37742654">next</a><span>|</span><label class="collapse" for="c-37743239">[-]</label><label class="expand" for="c-37743239">[1 more]</label></div><br/><div class="children"><div class="content">Count me too to the group of &quot;I was so distracted that I stopped reading.&quot;<p>Then the second thought was: I should again start to block js by default as much as I can.</div><br/></div></div></div></div></div></div><div id="37742654" class="c"><input type="checkbox" id="c-37742654" checked=""/><div class="controls bullet"><span class="by">wonger_</span><span>|</span><a href="#37737761">root</a><span>|</span><a href="#37737900">parent</a><span>|</span><a href="#37740291">prev</a><span>|</span><a href="#37748998">next</a><span>|</span><label class="collapse" for="c-37742654">[-]</label><label class="expand" for="c-37742654">[1 more]</label></div><br/><div class="children"><div class="content">The author has several other writeups:<p><a href="https:&#x2F;&#x2F;hn.algolia.com&#x2F;?dateRange=all&amp;page=0&amp;prefix=false&amp;query=tonsky.me&amp;sort=byPopularity&amp;type=story" rel="nofollow noreferrer">https:&#x2F;&#x2F;hn.algolia.com&#x2F;?dateRange=all&amp;page=0&amp;prefix=false&amp;qu...</a><p>The cursors will only be a problem during front page HN traffic. And the opt-out for people who care is reader mode &#x2F; disable js &#x2F; static mirror. Not sure if there&#x27;s any better way to appease the fun-havers and the plain content preferrers at the same time. Maybe a &quot;hide cursors&quot; button on screen? I, for one, had a delightful moment poking other cursors.</div><br/></div></div></div></div><div id="37748998" class="c"><input type="checkbox" id="c-37748998" checked=""/><div class="controls bullet"><span class="by">yrro</span><span>|</span><a href="#37737761">parent</a><span>|</span><a href="#37737900">prev</a><span>|</span><a href="#37738463">next</a><span>|</span><label class="collapse" for="c-37748998">[-]</label><label class="expand" for="c-37748998">[1 more]</label></div><br/><div class="children"><div class="content">I got a good laugh out of it.</div><br/></div></div><div id="37738463" class="c"><input type="checkbox" id="c-37738463" checked=""/><div class="controls bullet"><span class="by">Luctct</span><span>|</span><a href="#37737761">parent</a><span>|</span><a href="#37748998">prev</a><span>|</span><a href="#37743317">next</a><span>|</span><label class="collapse" for="c-37738463">[-]</label><label class="expand" for="c-37738463">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know what you people are talking about. I&#x27;m just glad I always browse with Javascript turned off. If you didn&#x27;t see the writing on the wall and permanently turn Javascript off around 2006, you have no right to complain about anything.<p>Meanwhile, ironic irony is ironic: &quot;Hey, idiots! Learn to use Unicode already! Usability and stuff! Oh, btw, here is some extremely annoying Javascript pollution on your screen because we are all still children, right? Har har! Pranks are so kewl!!!1!&quot;</div><br/><div id="37738794" class="c"><input type="checkbox" id="c-37738794" checked=""/><div class="controls bullet"><span class="by">zbtaylor1</span><span>|</span><a href="#37737761">root</a><span>|</span><a href="#37738463">parent</a><span>|</span><a href="#37743317">next</a><span>|</span><label class="collapse" for="c-37738794">[-]</label><label class="expand" for="c-37738794">[1 more]</label></div><br/><div class="children"><div class="content">Are you alright?</div><br/></div></div></div></div></div></div><div id="37743317" class="c"><input type="checkbox" id="c-37743317" checked=""/><div class="controls bullet"><span class="by">TacticalCoder</span><span>|</span><a href="#37737761">prev</a><span>|</span><a href="#37740811">next</a><span>|</span><label class="collapse" for="c-37743317">[-]</label><label class="expand" for="c-37743317">[9 more]</label></div><br/><div class="children"><div class="content">&gt; For example, é (a single grapheme) is encoded in Unicode as e (U+0065 Latin Small Letter E) + ´ (U+0301 Combining Acute Accent). Two code points!<p>It&#x27;s a poor and misleading example for it is definitely not how &#x27;é&#x27; is encoded in 99.999% of all the text written in, say, french out there (french is the language where &#x27;é&#x27; is the most common).<p>&#x27;é&#x27; is U+00F9, one codepoint, definitely not two.<p>Now you could say: but it is <i>also</i> the two codepoints one. But that&#x27;s precisely what makes Unicode the complete, total and utter clusterfuck that it is.<p>And hence even an article explaining what every programmer should know about Unicode cannot even get the most basic example right. Which is honestly quite ironic.</div><br/><div id="37744784" class="c"><input type="checkbox" id="c-37744784" checked=""/><div class="controls bullet"><span class="by">ninkendo</span><span>|</span><a href="#37743317">parent</a><span>|</span><a href="#37743864">next</a><span>|</span><label class="collapse" for="c-37744784">[-]</label><label class="expand" for="c-37744784">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Unicode the complete, total and utter clusterfuck that it is.<p>Yikes, does it really deserve that much derision? They’re trying to standardize <i>all written human language</i> here. I think they’ve done a fantastic job. Pre-Unicode you had to worry about what code page a document had, and computers from different countries couldn’t interoperate. The work the consortium does is hugely important, and every decision has extremely complex tradeoffs. Composed characters makes a lot of sense, and there’s a lot of case to be made that it was the right call. The attitude of “this one thing I don’t like makes the whole thing a complete clusterfuck” is something I wish fewer engineers would have.</div><br/><div id="37745998" class="c"><input type="checkbox" id="c-37745998" checked=""/><div class="controls bullet"><span class="by">rstuart4133</span><span>|</span><a href="#37743317">root</a><span>|</span><a href="#37744784">parent</a><span>|</span><a href="#37743864">next</a><span>|</span><label class="collapse" for="c-37745998">[-]</label><label class="expand" for="c-37745998">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Yikes, does it really deserve that much derision?<p>To my simple mind it had one job: allocate every grapheme a number (code point).  Had it done that, the 1&#x2F;2 of the article warning you about the difficulty of iterating and modifying code points would have disappeared.<p>But I guess it had a 2nd job: create a way of representing those numbers.  The obvious way, u32, was difficult for ASCII users swallow as it quadrupled the space used for a string.  The solution we settled on, UTF-8 didn&#x27;t come form Unicode (or ISO).  It came from Ken Thompson (the Ken Thompson, who created B, the predecessor of C), when he tired to make something workable for C.<p>Unicode was the entity that ballsed up both of those tasks.  It was a fork of ISO 10646.  It&#x27;s main contribution over 10646 was UCS-2 - ie 16 bits per character.  That decision was so bad it had to be abandoned.  Later they introduced the grapheme clusters rather than allocating a separate code point for each variant. I have no idea why, as it makes the programmers task far harder.  Maybe they ran out of code points.  How could they possibly run out of code points, given U32 has 4 billion of them and UTF-8 could potentially have more?  Because they had to kludge their way around the USC-2 mistake to create UTF-16, and it&#x27;s limited 1 million.<p>Which leads us to the one thing in the article I disagree with:<p>&gt; The only downside of UTF-16 is that everything else is UTF-8, so it requires conversion every time a string is read from the network or from disk.<p>No, that&#x27;s not the only downside.  There is one more: USC-2 &#x2F; UTF-16 has the endianness problem.  A 16 bit value needs two bytes to represent it, and you can write two bytes to storage in two ways - little endian or big endian.  They didn&#x27;t specify, so the same string can have two different representations on disk.  They added the infamous BOM markers to distinguish between them.<p>I could go on, but colour me singularly unimpressed with this mob.</div><br/><div id="37747941" class="c"><input type="checkbox" id="c-37747941" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#37743317">root</a><span>|</span><a href="#37745998">parent</a><span>|</span><a href="#37743864">next</a><span>|</span><label class="collapse" for="c-37747941">[-]</label><label class="expand" for="c-37747941">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It was a fork of ISO 10646.<p>It never was. The earlier draft of ISO&#x2F;IEC 10646 bears absolutely no resemblance with the current 10646 and Unicode (for example, the first character in ISO&#x2F;IEC DIS 10646:1990 was 0x20202020, which I believe is mapped to a space U+0020). Unicode had a much better design compared to 10646 so the final 10646 was retrofitted to Unicode instead.<p>&gt; It&#x27;s main contribution over 10646 was UCS-2 - ie 16 bits per character. That decision was so bad it had to be abandoned.<p>UCS-2 was already in 10646 in the draft stage. It had an even <i>worse</i> mechanism than surrogate pairs: escape sequences from ISO&#x2F;IEC 2022 to switch groups and planes (upper 16 bits of code point). The standardized UCS-2 doesn&#x27;t have them because of the merger of then-16-bit Unicode.<p>&gt; Later they introduced the grapheme clusters rather than allocating a separate code point for each variant.<p>That sounds like that Unicode initially allocated separate code points for each variant. They didn&#x27;t, or rather couldn&#x27;t. An easy example is a Latin character with combining marks. There are a lot of combining marks in existence, some even defined before Unicode (yes, it&#x27;s not the Unicode invention!), and sometimes a single character can have multiple marks. So Unicode only gave separate code points for compatibility, and otherwise resorted to the normalization mechanism that understands how to handle such cases.<p>The concept of grapheme cluster naturally arises from the existence of normalization. Not in the strictest sense, but it can be thought as a closed set over normalization and concatenation, so that it roughly matches with user-perceived characters. So grapheme clusters were already there, only the precise algorithm was specified later.<p>&gt; To my simple mind it had one job: allocate every grapheme a number (code point).<p>You can easily have more than 10M code points in this way. The current set of Hangul syllables, precomposed or not, is 125 * 95 * 138 = 1,638,750 characters. Latin characters with at most 3 combining marks (known to exist in the wild) would be probably in the same order of magnitude. Maybe now you can try, thanks to the computing power and all the information, but in 1990? Fat chance.<p>&gt; Maybe they ran out of code points. How could they possibly run out of code points, given U32 has 4 billion of them and UTF-8 could potentially have more?<p>For last 20 years the rate was about 2,700 new code points per year. It would take more than 200 years to fill all other unassigned planes at this rate. And most &quot;new&quot; code points (in quantity) are for rare or ancient Han characters, which are technically unbounded but strongly bounded by existing ancient works and scholarly works to uncover them. I doubt there remain more than 100,000 potentially encodable Han characters.</div><br/><div id="37748614" class="c"><input type="checkbox" id="c-37748614" checked=""/><div class="controls bullet"><span class="by">rstuart4133</span><span>|</span><a href="#37743317">root</a><span>|</span><a href="#37747941">parent</a><span>|</span><a href="#37743864">next</a><span>|</span><label class="collapse" for="c-37748614">[-]</label><label class="expand" for="c-37748614">[1 more]</label></div><br/><div class="children"><div class="content">Excellent reply.<p>&gt; You can easily have more than 10M code points in this way. The current set of Hangul syllables, precomposed or not, is 125 * 95 * 138 = 1,638,750 characters. Latin characters with at most 3 combining marks (known to exist in the wild) would be probably in the same order of magnitude. Maybe now you can try, thanks to the computing power and all the information, but in 1990? Fat chance.<p>It can be made to work both ways.  The current situation pushes the handling of compose points onto the application programmer.  Every time he wants to index into a array of characters, maybe to handle backspace of the user pressing arrow keys, he&#x27;s forced to handle composition.  But your average programmer tasked with writing gathering some information from the web or creating an accounting package doesn&#x27;t care about this stuff, so he&#x27;s going to stuff it up 10 times out of 10.  That why the sorts of problems illustrated original article are legion today.<p>The alternative is 10M code points as you say.  But it doesn&#x27;t have to be 10M real code points.  Someone down the software stack, a piece of software could say &quot;oh, this code point represents a composed grapheme, I&#x27;ll break it down into it&#x27;s parts&quot;.  In fact &quot;break it down into it&#x27;s parts&quot; might mean turn it into exact representation we have now.<p>The difference between the two alternatives is who has to do the work.  With the composition approach, the font rendering library has it slightly easier but the application write has to do more work.  In the 10M code points approach, the application writers job has been made easier, at the expense of the font rendering library coder job has become harder.<p>It seems pretty obvious to me which of those two approaches wins.  There are literally orders of magnitude more end user applications than there are font rendering libraries out there, and what&#x27;s more the font rendering library programmers are far more likely to very concerned about doing grapheme clustering right.  So if you took the 10M code point approach, you would have saved the planet a lot of code, and got a better result to boot.<p>As for the rest - your correction that 10646 was the source of many of them problems is appreciated.  But that doesn&#x27;t alter the fact that from a programmers perspective the spec is far harder to implement at the business end than it should be.  The problems started with USC-2 and it compounded form there.  And as a consequence, we have a large number of font rendering bugs we could have escaped had the spec been done differently.</div><br/></div></div></div></div></div></div></div></div><div id="37743864" class="c"><input type="checkbox" id="c-37743864" checked=""/><div class="controls bullet"><span class="by">wgjordan</span><span>|</span><a href="#37743317">parent</a><span>|</span><a href="#37744784">prev</a><span>|</span><a href="#37745011">next</a><span>|</span><label class="collapse" for="c-37743864">[-]</label><label class="expand" for="c-37743864">[1 more]</label></div><br/><div class="children"><div class="content">The author explains normalization in its own entire section several paragraphs later (Why is &quot;Å&quot; !== &quot;Å&quot; !== &quot;Å&quot;?).</div><br/></div></div><div id="37745011" class="c"><input type="checkbox" id="c-37745011" checked=""/><div class="controls bullet"><span class="by">crazygringo</span><span>|</span><a href="#37743317">parent</a><span>|</span><a href="#37743864">prev</a><span>|</span><a href="#37746295">next</a><span>|</span><label class="collapse" for="c-37745011">[-]</label><label class="expand" for="c-37745011">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>definitely not how &#x27;é&#x27; is encoded in 99.999% of all the text written in, say, french out there</i><p>Maybe how it&#x27;s input by the keyboard (I haven&#x27;t checked) but not how it&#x27;s output on the web or other documents.<p>Plenty of text goes through Unicode normalization which may convert it to two codepoints.</div><br/></div></div><div id="37746295" class="c"><input type="checkbox" id="c-37746295" checked=""/><div class="controls bullet"><span class="by">drpixie</span><span>|</span><a href="#37743317">parent</a><span>|</span><a href="#37745011">prev</a><span>|</span><a href="#37744373">next</a><span>|</span><label class="collapse" for="c-37746295">[-]</label><label class="expand" for="c-37746295">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Unicode the complete, total and utter clusterfuck that it is.<p>I&#x27;m inclined to agree - they took a big problem and made it into a big &amp; complex problem.<p>I propose a fix - immediately depreciate all multi-codepoint graphemes and provide single codepoint alternatives. That we should need to normalise something a basic as our text leaves soooo much room for problems. And the idea that some graphemes encode magically colour (emojis) ... :rolling_eyes_emoji:</div><br/></div></div><div id="37744373" class="c"><input type="checkbox" id="c-37744373" checked=""/><div class="controls bullet"><span class="by">spacechild1</span><span>|</span><a href="#37743317">parent</a><span>|</span><a href="#37746295">prev</a><span>|</span><a href="#37740811">next</a><span>|</span><label class="collapse" for="c-37744373">[-]</label><label class="expand" for="c-37744373">[1 more]</label></div><br/><div class="children"><div class="content">Next time read the whole article before accusing the author of incompetence!<p>However, the author could have added a small note, e.g. &quot;(Unicode normalization will be convered in a later section.)&quot;, to prevent knowledgable readers from rage quitting :)</div><br/></div></div></div></div><div id="37740811" class="c"><input type="checkbox" id="c-37740811" checked=""/><div class="controls bullet"><span class="by">w10-1</span><span>|</span><a href="#37743317">prev</a><span>|</span><a href="#37743581">next</a><span>|</span><label class="collapse" for="c-37740811">[-]</label><label class="expand" for="c-37740811">[2 more]</label></div><br/><div class="children"><div class="content">A real question is why IBM, Apple, and Microsoft poured millions into developing the unicode standard instead of treating character encoding like file formats as a venue for competition.<p>IBM and Apple in the early 1990&#x27;s combined in Taligent to try to beat MS NT, but failed.  But a lot of internationalization came out of that and was made open, at the perfect time for Java to adopt it.<p>Interestingly it wasn&#x27;t just CJK but Thai language variants that drove much of the flexibility in early unicode, largely because some early developers took a fancy to it.<p>When you look at the actual variety in written languages, Unicode grapheme&#x2F;code-point&#x2F;byte seems rather elegant.<p>We&#x27;re in the early days of term vectors, small floats, and differentiable numerics (not to mention big integers).  Are lessons from the history of unicode relevant?</div><br/><div id="37741394" class="c"><input type="checkbox" id="c-37741394" checked=""/><div class="controls bullet"><span class="by">preciousoo</span><span>|</span><a href="#37740811">parent</a><span>|</span><a href="#37743581">next</a><span>|</span><label class="collapse" for="c-37741394">[-]</label><label class="expand" for="c-37741394">[1 more]</label></div><br/><div class="children"><div class="content">You can ask why they didn’t do the same for networking 
and serial protocols too.</div><br/></div></div></div></div><div id="37743581" class="c"><input type="checkbox" id="c-37743581" checked=""/><div class="controls bullet"><span class="by">titzer</span><span>|</span><a href="#37740811">prev</a><span>|</span><a href="#37737812">next</a><span>|</span><label class="collapse" for="c-37743581">[-]</label><label class="expand" for="c-37743581">[9 more]</label></div><br/><div class="children"><div class="content">&gt; The problem is, you don’t want to operate on code points. A code point is not a unit of writing; one code point is not always a single character. What you should be iterating on is called “extended grapheme clusters”, or graphemes for short.<p>It&#x27;s best to avoid making overly-general claims like this. There are plenty of situations that warrant operating on code points, and it&#x27;s likely that software trying and failing to make sense of grapheme clusters will result it in a worse screwup. Codepoints are probably the <i>best</i> default. For example, it probably makes the most sense for programming languages to define strings as arrays of code points, and not characters or 16-bit chunks or an encoding, or whatever.</div><br/><div id="37743769" class="c"><input type="checkbox" id="c-37743769" checked=""/><div class="controls bullet"><span class="by">hgs3</span><span>|</span><a href="#37743581">parent</a><span>|</span><a href="#37743650">next</a><span>|</span><label class="collapse" for="c-37743769">[-]</label><label class="expand" for="c-37743769">[7 more]</label></div><br/><div class="children"><div class="content">&gt; There are plenty of situations that warrant operating on code points<p>Absolutely correct. All algorithms defined by the Unicode Standard and its technical reports operate on the code point. All 90+ character properties defined by the standard are queried for with the code point. The article omits this information and ironically links to the grapheme cluster break rules which operate on code points.</div><br/><div id="37743898" class="c"><input type="checkbox" id="c-37743898" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#37743581">root</a><span>|</span><a href="#37743769">parent</a><span>|</span><a href="#37743650">next</a><span>|</span><label class="collapse" for="c-37743898">[-]</label><label class="expand" for="c-37743898">[6 more]</label></div><br/><div class="children"><div class="content">The article doesn&#x27;t say not to use code points, it says you should not be iterating on them.<p>Very rarely will you be implementing those algorithms.  And if you&#x27;re looking at character properties, the article says you should be looking at multiple together, which is correct.</div><br/><div id="37744216" class="c"><input type="checkbox" id="c-37744216" checked=""/><div class="controls bullet"><span class="by">hgs3</span><span>|</span><a href="#37743581">root</a><span>|</span><a href="#37743898">parent</a><span>|</span><a href="#37743650">next</a><span>|</span><label class="collapse" for="c-37744216">[-]</label><label class="expand" for="c-37744216">[5 more]</label></div><br/><div class="children"><div class="content">&gt; And if you&#x27;re looking at character properties, the article says you should be looking at multiple together, which is correct.<p>I don&#x27;t see where the article mentions Unicode character properties [1]. These properties are assigned to individual characters, not groups of characters or grapheme clusters.<p>&gt; Very rarely will you be implementing those algorithms.<p>True, but character properties <i>are</i> frequently used, i.e. every time you parse text and call a character classification function like &quot;isDigit&quot; or &quot;isControl&quot; provided by your standard library you are in fact querying a Unicode character property.<p>[1] <a href="https:&#x2F;&#x2F;unicode.org&#x2F;reports&#x2F;tr44&#x2F;#Properties" rel="nofollow noreferrer">https:&#x2F;&#x2F;unicode.org&#x2F;reports&#x2F;tr44&#x2F;#Properties</a></div><br/><div id="37744682" class="c"><input type="checkbox" id="c-37744682" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#37743581">root</a><span>|</span><a href="#37744216">parent</a><span>|</span><a href="#37743650">next</a><span>|</span><label class="collapse" for="c-37744682">[-]</label><label class="expand" for="c-37744682">[4 more]</label></div><br/><div class="children"><div class="content">&gt; These properties are assigned to individual characters, not groups of characters or grapheme clusters.<p>But you need to deal with the whole cluster.  You can&#x27;t just look at the properties on a single combining character and know what to do with it.<p>If the article&#x27;s saying to iterate one cluster at a time, then if you&#x27;re doing properties a direct consequence is that you should be looking at the properties of specific code points per cluster or all of them.</div><br/><div id="37745290" class="c"><input type="checkbox" id="c-37745290" checked=""/><div class="controls bullet"><span class="by">hgs3</span><span>|</span><a href="#37743581">root</a><span>|</span><a href="#37744682">parent</a><span>|</span><a href="#37743650">next</a><span>|</span><label class="collapse" for="c-37745290">[-]</label><label class="expand" for="c-37745290">[3 more]</label></div><br/><div class="children"><div class="content">The Unicode Standard does not specify how character properties should be extracted from a grapheme cluster. Programming languages that define &quot;character&quot; to mean grapheme cluster (like Swift) need to establish their own ad-hoc rules.<p>As others have pointed out in this thread, the article is full of the authors own personal opinions.
The author suggests iterating text as grapheme clusters, but fails to consider that this breaks tokenizers, e.g. a tokenizer for a comma-separated list [1] won&#x27;t see the comma as &quot;just a comma&quot; if the value after it begins with a combining character.<p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Comma-separated_values" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Comma-separated_values</a></div><br/><div id="37745592" class="c"><input type="checkbox" id="c-37745592" checked=""/><div class="controls bullet"><span class="by">PeterisP</span><span>|</span><a href="#37743581">root</a><span>|</span><a href="#37745290">parent</a><span>|</span><a href="#37745394">next</a><span>|</span><label class="collapse" for="c-37745592">[-]</label><label class="expand" for="c-37745592">[1 more]</label></div><br/><div class="children"><div class="content">If some tokenizer of a comma-separated list treats the comma (I&#x27;m assuming any 0x2C byte) as &quot;just a comma&quot; even if the value after it begins with a combining character, that&#x27;s a broken, buggy tokenizer, and one that can potentially be exploited by providing some specifically crafted unicode data in a single field that then causes the tokenizer to misinterpret field boundaries. If you combine a character with something, that&#x27;s not the same character anymore - it&#x27;s not equal to that, it&#x27;s not that separator anymore, and you can&#x27;t tell that unless&#x2F;until you look at the following codepoints. If the combined character isn&#x27;t valid, then either the message should be discarded as invalid or the character replaced with U+FFFD, the Replacement Character, but it should <i>definitely</i> not be interpreted as &quot;just a comma&quot; simply because one part of some broken character matches the ASCII code for a comma.<p>If anything, your example is an illustration why it&#x27;s dangerous to iterate over codepoints and not graphemes. Unless you&#x27;re explicitly tranforming encodings to&#x2F;from unicode, anything that processes text (not the encoding, but actual text content, like tokenizers do) - should work with graphemes as the basic atomic indivisible unit.</div><br/></div></div><div id="37745394" class="c"><input type="checkbox" id="c-37745394" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#37743581">root</a><span>|</span><a href="#37745290">parent</a><span>|</span><a href="#37745592">prev</a><span>|</span><a href="#37743650">next</a><span>|</span><label class="collapse" for="c-37745394">[-]</label><label class="expand" for="c-37745394">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  The Unicode Standard does not specify how character properties should be extracted from a grapheme cluster. Programming languages that define &quot;character&quot; to mean grapheme cluster (like Swift) need to establish their own ad-hoc rules.<p>Right.  Which means not just iterating by code point.<p>&gt; The author suggests iterating text as grapheme clusters, but fails to consider that this breaks tokenizers, e.g. a tokenizer for a comma-separated list [1] won&#x27;t see the comma as &quot;just a comma&quot; if the value after it begins with a combining character.<p>I don&#x27;t think they&#x27;re talking about tokenizers.  It&#x27;s a general purpose rule.<p>Also I would argue that a CSV file with non-attached combining characters doesn&#x27;t qualify as &quot;text&quot;.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="37743650" class="c"><input type="checkbox" id="c-37743650" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#37743581">parent</a><span>|</span><a href="#37743769">prev</a><span>|</span><a href="#37737812">next</a><span>|</span><label class="collapse" for="c-37743650">[-]</label><label class="expand" for="c-37743650">[1 more]</label></div><br/><div class="children"><div class="content">Situations such as?<p>Sometimes editing wants to go inside clusters but that&#x27;s not code-point based either.<p>I&#x27;d say that in a big majority of situations, code that is indexing an array with code points is either treating the indexes as opaque pointers or is doing something wrong.</div><br/></div></div></div></div><div id="37737812" class="c"><input type="checkbox" id="c-37737812" checked=""/><div class="controls bullet"><span class="by">dathinab</span><span>|</span><a href="#37743581">prev</a><span>|</span><a href="#37737685">next</a><span>|</span><label class="collapse" for="c-37737812">[-]</label><label class="expand" for="c-37737812">[13 more]</label></div><br/><div class="children"><div class="content">&gt; The only modern language that gets it right is Swift:<p>I disagree.<p>What is the &quot;right&quot; things is use-case dependent.<p>For UI it&#x27;s glyph bases, kinda, more precise some good enough abstraction over render width. For which glyphs are not always good enough but also the best you can get without adding a ton of complexity.<p>But for pretty much every other use-case you want storage byte size.<p>I mean in the UI you care about the length of a string because there is limited width to render a strings.<p>But everywhere else you care about it because of (memory) resource limitations and costs in various ways. Weather that is for bandwidth cost, storage cost, number of network packages, efficient index-ability, etc. etc. In rare cases being able to type it, but then it&#x27;s often us-ascii only, too.</div><br/><div id="37747625" class="c"><input type="checkbox" id="c-37747625" checked=""/><div class="controls bullet"><span class="by">ssokolow</span><span>|</span><a href="#37737812">parent</a><span>|</span><a href="#37737971">next</a><span>|</span><label class="collapse" for="c-37747625">[-]</label><label class="expand" for="c-37747625">[1 more]</label></div><br/><div class="children"><div class="content">*nod*<p>Rust was given as one of the examples and Rust&#x27;s .len() behaviour is chosen based on three very reasonable concerns:<p>1. They want the String type to be available to embedded use-cases, where it&#x27;s not reasonable to require the embedding of the quite large unicode tables needed to identify grapheme boundaries. (String is defined in the `alloc` module, which you can use in addition to `core` if your target has a heap allocator. It&#x27;s just re-exported via `std`.)<p>2. They have a policy of not baking stuff that is defined by politics&#x2F;fiat (eg. unicode codepoint assignments) into stuff that requires a compiler update to change. (Which is also why the standard library has no timezone handling.)<p>3. People need a convenient way to know how much memory&#x2F;disk space to allocate to store a string verbatim. (Rust&#x27;s `String` is just a newtype wrapper around `Vec&lt;u8&gt;` with restricted construction and added helper functions.)<p>That&#x27;s why .len() counts bytes in Rust.<p>Just like with timezone definitions, Rust has a de facto standard place to find a grapheme-wise iterator... the unicode-segmentation crate.</div><br/></div></div><div id="37737971" class="c"><input type="checkbox" id="c-37737971" checked=""/><div class="controls bullet"><span class="by">patrickas</span><span>|</span><a href="#37737812">parent</a><span>|</span><a href="#37747625">prev</a><span>|</span><a href="#37739546">next</a><span>|</span><label class="collapse" for="c-37737971">[-]</label><label class="expand" for="c-37737971">[1 more]</label></div><br/><div class="children"><div class="content">That is why I like the way Raku handles it.<p>It has distinct .chars .codes and .bytes that you can specify depending on the use case. And if you try to use .length is complains asking you to use one of the other options to clarify your intent.<p><pre><code>  my \emoji = &quot;\c[FACE PALM]\c[EMOJI MODIFIER FITZPATRICK TYPE-3]\c[ZERO WIDTH JOINER]\c[MALE SIGN]\c[VARIATION SELECTOR-16]&quot;;
  say emoji; #Will print the character
  say emoji.chars; # 1 because on character
  say emoji.codes; # 5 because five code points
  say emoji.encode(&#x27;UTF8&#x27;).bytes; # 17 because encoded utf8
  say emoji.encode(&#x27;UTF16&#x27;).bytes; # 14 because encoded utf16</code></pre></div><br/></div></div><div id="37739546" class="c"><input type="checkbox" id="c-37739546" checked=""/><div class="controls bullet"><span class="by">hot_gril</span><span>|</span><a href="#37737812">parent</a><span>|</span><a href="#37737971">prev</a><span>|</span><a href="#37737961">next</a><span>|</span><label class="collapse" for="c-37739546">[-]</label><label class="expand" for="c-37739546">[5 more]</label></div><br/><div class="children"><div class="content">Swift made an effort to handle grapheme clusters but severely over-complicated strings by exposing performance details to users. Look at the complex SO answers to what should be simple questions, like finding a substring: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=32325511">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=32325511</a> , many of which changed several times between Swift versions<p>I was working on an app in Swift that needed full emoji support once. Team ended up writing our own string lib that stores things as an array of single-character Swift strings.</div><br/><div id="37740189" class="c"><input type="checkbox" id="c-37740189" checked=""/><div class="controls bullet"><span class="by">marcellus23</span><span>|</span><a href="#37737812">root</a><span>|</span><a href="#37739546">parent</a><span>|</span><a href="#37743010">next</a><span>|</span><label class="collapse" for="c-37740189">[-]</label><label class="expand" for="c-37740189">[3 more]</label></div><br/><div class="children"><div class="content">&gt; many of which changed several times between Swift versions<p>This was true while Swift was developing but it&#x27;s been stable now for several years. At some point that complaint is no longer valid.</div><br/><div id="37740306" class="c"><input type="checkbox" id="c-37740306" checked=""/><div class="controls bullet"><span class="by">hot_gril</span><span>|</span><a href="#37737812">root</a><span>|</span><a href="#37740189">parent</a><span>|</span><a href="#37743010">next</a><span>|</span><label class="collapse" for="c-37740306">[-]</label><label class="expand" for="c-37740306">[2 more]</label></div><br/><div class="children"><div class="content">You still see all the answers from old versions sitting around, often at the top. Part of it is because of how often they changed such fundamental things. String length changed 3 times. Every other language figured these things out before the initial non-beta release.</div><br/><div id="37744491" class="c"><input type="checkbox" id="c-37744491" checked=""/><div class="controls bullet"><span class="by">marcellus23</span><span>|</span><a href="#37737812">root</a><span>|</span><a href="#37740306">parent</a><span>|</span><a href="#37743010">next</a><span>|</span><label class="collapse" for="c-37744491">[-]</label><label class="expand" for="c-37744491">[1 more]</label></div><br/><div class="children"><div class="content">The last time the string API changed was in 2017. That was 6 years ago.</div><br/></div></div></div></div></div></div><div id="37743010" class="c"><input type="checkbox" id="c-37743010" checked=""/><div class="controls bullet"><span class="by">hot_gril</span><span>|</span><a href="#37737812">root</a><span>|</span><a href="#37739546">parent</a><span>|</span><a href="#37740189">prev</a><span>|</span><a href="#37737961">next</a><span>|</span><label class="collapse" for="c-37743010">[-]</label><label class="expand" for="c-37743010">[1 more]</label></div><br/><div class="children"><div class="content">Also, realized &quot;needed full emoji support&quot; sounds silly. It needed to do a lot of string manipulation, with extended grapheme clusters in mind, mainly for the purpose of emojis.</div><br/></div></div></div></div><div id="37737961" class="c"><input type="checkbox" id="c-37737961" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#37737812">parent</a><span>|</span><a href="#37739546">prev</a><span>|</span><a href="#37737963">next</a><span>|</span><label class="collapse" for="c-37737961">[-]</label><label class="expand" for="c-37737961">[1 more]</label></div><br/><div class="children"><div class="content">Arguably, you don’t need any (default) length at all, just different views or iterators. When designing a string type today, I wouldn’t add any single distinguished length method.</div><br/></div></div><div id="37737963" class="c"><input type="checkbox" id="c-37737963" checked=""/><div class="controls bullet"><span class="by">galad87</span><span>|</span><a href="#37737812">parent</a><span>|</span><a href="#37737961">prev</a><span>|</span><a href="#37737685">next</a><span>|</span><label class="collapse" for="c-37737963">[-]</label><label class="expand" for="c-37737963">[4 more]</label></div><br/><div class="children"><div class="content">Swift string type has got many different views, like UTF-8, UTF-16, Unicode Scalar, etc… so if you want to count the bytes or cut over a specific byte you still can.</div><br/><div id="37738056" class="c"><input type="checkbox" id="c-37738056" checked=""/><div class="controls bullet"><span class="by">dathinab</span><span>|</span><a href="#37737812">root</a><span>|</span><a href="#37737963">parent</a><span>|</span><a href="#37737685">next</a><span>|</span><label class="collapse" for="c-37738056">[-]</label><label class="expand" for="c-37738056">[3 more]</label></div><br/><div class="children"><div class="content">that&#x27;s not the issue<p>defaults matter<p>as in they should things you can just use by-default without thinking about it<p>as swift is deeply rooted in UI design having a default of glyphs make sense<p>and as rust is deeply rooted in unix server and system programming utf-8 bytes make a lot of sense<p>through the moment your language becomes more general purpose you could argue having a default in any way is wrong and it should have multiple more explicit methods.</div><br/><div id="37739341" class="c"><input type="checkbox" id="c-37739341" checked=""/><div class="controls bullet"><span class="by">toast0</span><span>|</span><a href="#37737812">root</a><span>|</span><a href="#37738056">parent</a><span>|</span><a href="#37737685">next</a><span>|</span><label class="collapse" for="c-37739341">[-]</label><label class="expand" for="c-37739341">[2 more]</label></div><br/><div class="children"><div class="content">&gt; as in they should things you can just use by-default without thinking about it<p>That time has passed. If you want to know the length of a string, you really should indicate what length type you mean.</div><br/><div id="37739585" class="c"><input type="checkbox" id="c-37739585" checked=""/><div class="controls bullet"><span class="by">hot_gril</span><span>|</span><a href="#37737812">root</a><span>|</span><a href="#37739341">parent</a><span>|</span><a href="#37737685">next</a><span>|</span><label class="collapse" for="c-37739585">[-]</label><label class="expand" for="c-37739585">[1 more]</label></div><br/><div class="children"><div class="content">There was no string.length in Swift for a while. Then they added one that just does what the user expects, get the number of grapheme clusters. If a user figures out that this isn&#x27;t what they want, they can go use the other length method.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37737685" class="c"><input type="checkbox" id="c-37737685" checked=""/><div class="controls bullet"><span class="by">alexmolas</span><span>|</span><a href="#37737812">prev</a><span>|</span><a href="#37747957">next</a><span>|</span><label class="collapse" for="c-37737685">[-]</label><label class="expand" for="c-37737685">[4 more]</label></div><br/><div class="children"><div class="content">I tried to read the articles since it seemed interesting. After exactly 30 seconds trying it I had to leave the page. Impossible to read more than two sentences with all those pointer moving there - and for a folk with ADHD even more difficult. Sorry, but I couldn&#x27;t make it :(</div><br/><div id="37737713" class="c"><input type="checkbox" id="c-37737713" checked=""/><div class="controls bullet"><span class="by">Maken</span><span>|</span><a href="#37737685">parent</a><span>|</span><a href="#37745227">next</a><span>|</span><label class="collapse" for="c-37737713">[-]</label><label class="expand" for="c-37737713">[1 more]</label></div><br/><div class="children"><div class="content">Fortunately you didn&#x27;t try the dark theme.</div><br/></div></div><div id="37745227" class="c"><input type="checkbox" id="c-37745227" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#37737685">parent</a><span>|</span><a href="#37737713">prev</a><span>|</span><a href="#37747957">next</a><span>|</span><label class="collapse" for="c-37745227">[-]</label><label class="expand" for="c-37745227">[2 more]</label></div><br/><div class="children"><div class="content">Use the reader mode. Or if you are under GNU&#x2F;Linux, use Links&#x2F;Lynx.</div><br/><div id="37749171" class="c"><input type="checkbox" id="c-37749171" checked=""/><div class="controls bullet"><span class="by">AlphaCerium</span><span>|</span><a href="#37737685">root</a><span>|</span><a href="#37745227">parent</a><span>|</span><a href="#37747957">next</a><span>|</span><label class="collapse" for="c-37749171">[-]</label><label class="expand" for="c-37749171">[1 more]</label></div><br/><div class="children"><div class="content">Not everyone runs Linux, and not every browser has a reader mode. This should not be the solution. There should definitely be an option to disable all these features, especially the dark mode toggle, that one&#x27;s a fun premise, but horrific for usability.</div><br/></div></div></div></div></div></div><div id="37747957" class="c"><input type="checkbox" id="c-37747957" checked=""/><div class="controls bullet"><span class="by">ssokolow</span><span>|</span><a href="#37737685">prev</a><span>|</span><a href="#37744729">next</a><span>|</span><label class="collapse" for="c-37747957">[-]</label><label class="expand" for="c-37747957">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Before comparing strings or searching for a substring, normalize!<p>...and learn about the TR39 Skeleton Algorithm for Unicode Confusables. Far too few people writing spam-handling code know about that thing.<p>(Basically, it generates matching keys from arbitrary strings so that visually similar characters compare identical, so those Disqus&#x2F;Facebook&#x2F;etc. spam messages promoting things like BITCO1N pump-and-dumps or using esoteric Unicode characters to advertise work-from-home scams will be wasting their time trying to disguise their words.)<p>...and since it&#x27;s based on a tabular plaintext definition file, you can write a simple parser and algorithm to work it in reverse and generate sample spam exploiting that approach if you want.<p><a href="https:&#x2F;&#x2F;www.unicode.org&#x2F;Public&#x2F;security&#x2F;latest&#x2F;confusables.txt" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.unicode.org&#x2F;Public&#x2F;security&#x2F;latest&#x2F;confusables.t...</a><p>&gt; and CD-ROM!<p>I think you mean Microsoft Windows&#x27;s Joliet extensions to ISO9660 which, by the way, use UCS-2, not UTF-16. (Try generating an ISO on Linux (eg. using K3b) with the Joliet option enabled and watch as filenames with emoji outside the Basic Multilingual Plane cause the process to fail.)<p>The base ISO9660 filesystem uses bytewise-encoded filenames.</div><br/></div></div><div id="37744729" class="c"><input type="checkbox" id="c-37744729" checked=""/><div class="controls bullet"><span class="by">thefringthing</span><span>|</span><a href="#37747957">prev</a><span>|</span><a href="#37737687">next</a><span>|</span><label class="collapse" for="c-37744729">[-]</label><label class="expand" for="c-37744729">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Unicode is a standard that aims to unify all human languages, both past and present, and make them work with computers.<p>This is doubly wrong.<p>First, it conflates languages and writing systems. Malay and English use the same writing system but are different languages. American Sign Language is a language, but it has no standard or widely-adopted writing system. Hakka is a language, but Hakka speakers normally write in Modern Standard Mandarin, a different language.<p>Second, it&#x27;s not that case that Unicode aims to encode all writing systems. For example, there are many hobbyist neographies (constructed writing systems) which will not be included in Unicode.</div><br/><div id="37747411" class="c"><input type="checkbox" id="c-37747411" checked=""/><div class="controls bullet"><span class="by">rcaught</span><span>|</span><a href="#37744729">parent</a><span>|</span><a href="#37746273">next</a><span>|</span><label class="collapse" for="c-37747411">[-]</label><label class="expand" for="c-37747411">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Second, it&#x27;s not that case that Unicode aims to encode all writing systems. For example, there are many hobbyist neographies (constructed writing systems) which will not be included in Unicode.<p>Doesn&#x27;t the &quot;private use space&quot; technically satisfy this?</div><br/></div></div><div id="37746273" class="c"><input type="checkbox" id="c-37746273" checked=""/><div class="controls bullet"><span class="by">bmicraft</span><span>|</span><a href="#37744729">parent</a><span>|</span><a href="#37747411">prev</a><span>|</span><a href="#37737687">next</a><span>|</span><label class="collapse" for="c-37746273">[-]</label><label class="expand" for="c-37746273">[1 more]</label></div><br/><div class="children"><div class="content">If you consider that it just &quot;aims to&quot; and makes no claim of succeeding to unify all languages, it isn&#x27;t that wrong</div><br/></div></div></div></div><div id="37737687" class="c"><input type="checkbox" id="c-37737687" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#37744729">prev</a><span>|</span><a href="#37738405">next</a><span>|</span><label class="collapse" for="c-37737687">[-]</label><label class="expand" for="c-37737687">[1 more]</label></div><br/><div class="children"><div class="content">This is pretty good. One thing I would add is to mention that Unicode defines algorithms for bidirectional text, collation (sorting order), line breaking and other text segmentation (words and sentences, besides grapheme clusters). The main point here is to know that there are specifications one should take into account when topics like that come up, instead of just inventing your own algorithm.</div><br/></div></div><div id="37738405" class="c"><input type="checkbox" id="c-37738405" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#37737687">prev</a><span>|</span><a href="#37737667">next</a><span>|</span><label class="collapse" for="c-37738405">[-]</label><label class="expand" for="c-37738405">[6 more]</label></div><br/><div class="children"><div class="content">Prior to this article, I knew graphemes were a thing and that proper unicode software is supposed to count those instead of bytes or code points.<p>I didn&#x27;t know that unicode changes the definition of grapheme in backwards incompatible fashion annually, so software which works by grapheme count is probably inconsistent with other software using a different version of the standard anyway.<p>I&#x27;m therefore going to continue counting bytes. And comparing by memcmp. If the bytes look like unicode to some reader, fine. Opaque string as far as my software is concerned.</div><br/><div id="37747637" class="c"><input type="checkbox" id="c-37747637" checked=""/><div class="controls bullet"><span class="by">ssokolow</span><span>|</span><a href="#37738405">parent</a><span>|</span><a href="#37739972">next</a><span>|</span><label class="collapse" for="c-37747637">[-]</label><label class="expand" for="c-37747637">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I didn&#x27;t know that unicode changes the definition of grapheme in backwards incompatible fashion annually, so software which works by grapheme count is probably inconsistent with other software using a different version of the standard anyway.<p>This is EXACTLY why Rust&#x27;s standard library is blind to graphemes. Support for the case where your company requires a specially certified toolchain that lags five years behind Rust upstream is an explicit goal that they address by breaking the stuff that changes quickly out into minimal crates that can be audited, updated at a quicker pace without requiring toolchain updates, and which have the option to continue to support older compiler versions indefinitely.</div><br/></div></div><div id="37739972" class="c"><input type="checkbox" id="c-37739972" checked=""/><div class="controls bullet"><span class="by">dundarious</span><span>|</span><a href="#37738405">parent</a><span>|</span><a href="#37747637">prev</a><span>|</span><a href="#37745828">next</a><span>|</span><label class="collapse" for="c-37739972">[-]</label><label class="expand" for="c-37739972">[1 more]</label></div><br/><div class="children"><div class="content">The point is that a byte focus will often frustrate users.<p>e.g., a TUI with columns will have to truncate &quot;long&quot; strings in each column, and that truncation and column-separator arrangement really should be grapheme aware.<p>e.g., a string search (for a name, let&#x27;s say) should find Noël regardless of whether the user input ë via composing characters or the pre-composed version.</div><br/></div></div><div id="37745828" class="c"><input type="checkbox" id="c-37745828" checked=""/><div class="controls bullet"><span class="by">PeterisP</span><span>|</span><a href="#37738405">parent</a><span>|</span><a href="#37739972">prev</a><span>|</span><a href="#37739770">next</a><span>|</span><label class="collapse" for="c-37745828">[-]</label><label class="expand" for="c-37745828">[1 more]</label></div><br/><div class="children"><div class="content">Comparing by memcmp will result in false negatives unless you can ensure that all incoming text gets normalized to a particular canonical form.</div><br/></div></div><div id="37739770" class="c"><input type="checkbox" id="c-37739770" checked=""/><div class="controls bullet"><span class="by">slimsag</span><span>|</span><a href="#37738405">parent</a><span>|</span><a href="#37745828">prev</a><span>|</span><a href="#37740434">next</a><span>|</span><label class="collapse" for="c-37739770">[-]</label><label class="expand" for="c-37739770">[1 more]</label></div><br/><div class="children"><div class="content">Two Unicode strings can be visually and semantically identical, but not byte-equal.</div><br/></div></div><div id="37740434" class="c"><input type="checkbox" id="c-37740434" checked=""/><div class="controls bullet"><span class="by">tonsky</span><span>|</span><a href="#37738405">parent</a><span>|</span><a href="#37739770">prev</a><span>|</span><a href="#37737667">next</a><span>|</span><label class="collapse" for="c-37740434">[-]</label><label class="expand" for="c-37740434">[1 more]</label></div><br/><div class="children"><div class="content">Good luck <a href="https:&#x2F;&#x2F;mastodon.online&#x2F;@alexeyten@mas.to&#x2F;111166351426290784" rel="nofollow noreferrer">https:&#x2F;&#x2F;mastodon.online&#x2F;@alexeyten@mas.to&#x2F;111166351426290784</a></div><br/></div></div></div></div><div id="37737667" class="c"><input type="checkbox" id="c-37737667" checked=""/><div class="controls bullet"><span class="by">nwellnhof</span><span>|</span><a href="#37738405">prev</a><span>|</span><a href="#37749286">next</a><span>|</span><label class="collapse" for="c-37737667">[-]</label><label class="expand" for="c-37737667">[51 more]</label></div><br/><div class="children"><div class="content">Unicode is a total mess. In a sane system, &quot;extended grapheme clusters&quot; would equal &quot;codepoints&quot; and it wouldn&#x27;t make a difference for 99% of languages. Now we ended up with grapheme clusters, normalization, decomposition, composition, Zalgo text, etc. But instead of deprecating this nonsense, Unicode doubled down with composed Emojis.</div><br/><div id="37737776" class="c"><input type="checkbox" id="c-37737776" checked=""/><div class="controls bullet"><span class="by">tialaramex</span><span>|</span><a href="#37737667">parent</a><span>|</span><a href="#37738179">next</a><span>|</span><label class="collapse" for="c-37737776">[-]</label><label class="expand" for="c-37737776">[19 more]</label></div><br/><div class="children"><div class="content">The writing systems were already like this when we got them. Unicode&#x27;s &quot;total mess&quot; mostly just reflects that. Of course it would be convenient for you, the programmer, if the users wanted the software to do whatever was easiest for you, but obviously they want what&#x27;s easiest for them, not you.</div><br/><div id="37739325" class="c"><input type="checkbox" id="c-37739325" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737776">parent</a><span>|</span><a href="#37737836">next</a><span>|</span><label class="collapse" for="c-37739325">[-]</label><label class="expand" for="c-37739325">[3 more]</label></div><br/><div class="children"><div class="content">How is it easiest &quot;for them&quot; to have the mess instead of having the newer standard be less messy?</div><br/><div id="37744191" class="c"><input type="checkbox" id="c-37744191" checked=""/><div class="controls bullet"><span class="by">bluGill</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37739325">parent</a><span>|</span><a href="#37737836">next</a><span>|</span><label class="collapse" for="c-37744191">[-]</label><label class="expand" for="c-37744191">[2 more]</label></div><br/><div class="children"><div class="content">because the current mess means all their old stuff still works. ASCII is good so long as you only need English (or any other latin languages without the various accents), which was good enough for a long time - and ASCII was also carefully designed to make programming easier - flip one bit changes lower&#x2F;uppercase for example, but there are more things it makes easy.  By the time we realized we actually care about the rest or the world it was too late to make a nice system.</div><br/><div id="37748788" class="c"><input type="checkbox" id="c-37748788" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37744191">parent</a><span>|</span><a href="#37737836">next</a><span>|</span><label class="collapse" for="c-37748788">[-]</label><label class="expand" for="c-37748788">[1 more]</label></div><br/><div class="children"><div class="content">The real world never respected your artificial ASCII limitations, so that part never worked because people always needed more. But the original comment states that composition is a source of mess, not the ASCII having the same code point, and that&#x27;s the puzzling part</div><br/></div></div></div></div></div></div><div id="37737836" class="c"><input type="checkbox" id="c-37737836" checked=""/><div class="controls bullet"><span class="by">nwellnhof</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737776">parent</a><span>|</span><a href="#37739325">prev</a><span>|</span><a href="#37738179">next</a><span>|</span><label class="collapse" for="c-37737836">[-]</label><label class="expand" for="c-37737836">[15 more]</label></div><br/><div class="children"><div class="content">Name one writing system where you really need character composition. Even if there is one, these special cases should be handled outside of Unicode.</div><br/><div id="37738097" class="c"><input type="checkbox" id="c-37738097" checked=""/><div class="controls bullet"><span class="by">asherah</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737836">parent</a><span>|</span><a href="#37738214">next</a><span>|</span><label class="collapse" for="c-37738097">[-]</label><label class="expand" for="c-37738097">[10 more]</label></div><br/><div class="children"><div class="content">you can&#x27;t not handle devanagari, tamil (or like half the scripts across the Indian subcontinent and oceania) or hangul. even the IPA, used by linguists every day, would be particularly bad to deal with if we couldn&#x27;t write things like &#x2F;á̤&#x2F;, and some languages already don&#x27;t have the precomposed diacritics for all letters (like ǿ), so the idea of a world with only precomposed letter forms is more of a exponential explosion in the character set</div><br/><div id="37738379" class="c"><input type="checkbox" id="c-37738379" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37738097">parent</a><span>|</span><a href="#37742690">next</a><span>|</span><label class="collapse" for="c-37738379">[-]</label><label class="expand" for="c-37738379">[8 more]</label></div><br/><div class="children"><div class="content">&gt; so the idea of a world with only precomposed letter forms is more of a exponential explosion in the character set<p>&quot;Exponential explosion&quot; is really putting it too strong; it&#x27;s perfectly possible to just add ǿ and á̤ and a bunch of other things. The combinations aren&#x27;t infinite here.<p>The problem with e.g. Latin script isn&#x27;t <i>necessarily</i> that combining characters exist, but that there&#x27;s two ways to represent many things. That really is just a &quot;mess&quot;: use either one system or the other, but not both. Hangul has similar problems.<p>Devanagari doesn&#x27;t have any pre-compose characters AFAIK, so that&#x27;s fine.<p>That&#x27;s really the &quot;mess&quot;: it&#x27;s a hodgepodge of different systems, and you can&#x27;t even know which system to use a lot of the time because it&#x27;s not organised (&quot;look it up in a large database&quot;), and even taking in to account historical legacy I don&#x27;t think it really <i>needed</i> to be like this (or is even an unfixable problem today, strictly speaking).<p>At least they deprecated ligatures like ﬆ and ﬂ, although recently I did see ĳ being used in the wild.</div><br/><div id="37742784" class="c"><input type="checkbox" id="c-37742784" checked=""/><div class="controls bullet"><span class="by">WorldMaker</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37738379">parent</a><span>|</span><a href="#37742690">next</a><span>|</span><label class="collapse" for="c-37742784">[-]</label><label class="expand" for="c-37742784">[7 more]</label></div><br/><div class="children"><div class="content">&gt; The combinations aren&#x27;t infinite here.<p>They certainly are. Languages are a creative space driven by the human imagination. Give people enough time and they&#x27;ll build new combinations for fun or for profit or for research or for trying to capture a spoken word&#x2F;tone poem in just the right sort of exciting way. You may frown on &quot;Zalgo text&quot; [1] (and it is terrible for accessibility), but it speaks to a creative mood or three.<p>The growing combinatorial explosion in Unicode&#x27;s emoji space isn&#x27;t an accident or something unique to emoji, but a characteristic that emoji are just as much a creative language as everything else Unicode encodes. The biggest difference is that it is a living language with a lot of visible creative work happening in contemporary writing as opposed to a language some monks centuries ago decided was &quot;good enough&quot; and school teachers long ago locked some of the creative tools in the figurative closets to keep their curriculum simpler and their days with fewer headaches.<p>[1] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Zalgo_text" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Zalgo_text</a></div><br/><div id="37743022" class="c"><input type="checkbox" id="c-37743022" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37742784">parent</a><span>|</span><a href="#37742690">next</a><span>|</span><label class="collapse" for="c-37743022">[-]</label><label class="expand" for="c-37743022">[6 more]</label></div><br/><div class="children"><div class="content">Well, in theory it&#x27;s infinite, but in reality it&#x27;s not of course.<p>We&#x27;ve got 150K assigned codepoints assigned, leaving us with 950K unassigned codepoints. There&#x27;s truly massive amounts of headroom.<p>To be honest I think this argument is rather too abstract to be of any real use: if it&#x27;s a theoretical problem that will never occur in reality then all I can say is: &lt;shrug-emoji&gt;.<p>But like I said: I&#x27;m not &quot;against&quot; combining marks, purely in principle it&#x27;s probably better, I&#x27;m mostly against two systems co-existing. In reality it&#x27;s too late to change the world to decomposed (for Latin, Cyrillic, some others) because most text already is pre-composed, so we should go full-in on pre-composed for those. With our 950k unassigned codepoints we&#x27;ve got space for literally thousands of years to come.<p>Also this is a problem that&#x27;s inherent in computers: on paper you can write anything, but computers necessarily restrict that creativity. If I want to propose something like a &quot;%&quot; mark on top of the &quot;e&quot; to indicate, I don&#x27;t know, <i>something</i>, then I can&#x27;t do that regardless of whether combining characters are used, never mind entirely new characters or marks. Unicode won&#x27;t add it until it sees usage, so this gives us a bit of a catch-22 with the only option being mucking about with special fonts that use private-use (hoping it won&#x27;t conflict with something else).</div><br/><div id="37743437" class="c"><input type="checkbox" id="c-37743437" checked=""/><div class="controls bullet"><span class="by">WorldMaker</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37743022">parent</a><span>|</span><a href="#37742690">next</a><span>|</span><label class="collapse" for="c-37743437">[-]</label><label class="expand" for="c-37743437">[5 more]</label></div><br/><div class="children"><div class="content">The Unicode committees have addressed this for languages such as Latin, Cyrillic, and others and stated outright that decomposed forms should be preferred and decomposition canonical forms are generally the safest for interoperability and operations such as collation (sorting) and case folding (lowercase to uppercase transformations).<p>Unicode can&#x27;t get rid of the many precombined characters for a huge number of backward compatibility reasons (including compatibility with ancient Mainframe encodings such as EBCDIC which existed before computer fonts had ligature support), but they&#x27;ve certainly done what they can to suggest the &quot;normal&quot; forms in this decade should &quot;prefer&quot; the decomposed combinations.<p>&gt; If I want to propose something like a &quot;%&quot; mark on top of the &quot;e&quot; to indicate, I don&#x27;t know, something, then I can&#x27;t do that regardless of whether combining characters are used<p>This is where emoji as a living language actually shines a living example: It&#x27;s certainly possible to encode your mark today as a ZWJ sequence, say «e ZWJ %», though you might want to consider for further disambiguation&#x2F;intent-marking adding a non-emoji variation selector such as Variation Selector 1 (U+FE00) to mark it as &quot;Basic Latin&quot;-like or &quot;Mathematical Symbol&quot;-like. You can probably get away with prototyping that in a font stack of your choosing using simple ligature tools (no need for private-use encodings). A ZWJ sequence like that in theory doesn&#x27;t even &quot;need&quot; to ever be standardized in Unicode if you are okay with the visual fallback to something like &quot;e%&quot; in fonts following Unicode standard fallback (and maybe a lot of applications confused by the non-recommended grapheme cluster). That said, because of emoji the process for filing new proposals for &quot;Recommended ZWJ Sequences&quot; is among the simplest Unicode proposals you can make. It&#x27;s not entirely as Catch-22 on &quot;needs to have seen enough usage in written documents&quot; as some of the other encoding proposals.<p>Of course, all of that is theory and practice is always weirder and harder than theory. Unicode encoding truly living languages like emoji is a blessing and it does enable language &quot;creativity&quot; that was missing for a couple of decades in Unicode processes and thinking.</div><br/><div id="37744194" class="c"><input type="checkbox" id="c-37744194" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37743437">parent</a><span>|</span><a href="#37742690">next</a><span>|</span><label class="collapse" for="c-37744194">[-]</label><label class="expand" for="c-37744194">[4 more]</label></div><br/><div class="children"><div class="content">&gt;  The Unicode committees have addressed this for languages such as Latin, Cyrillic, and others and stated outright that decomposed forms should be preferred<p>Yes, and that only makes things worse since the overwhelming majority of documents (99.something% last time I checked) uses pre-composed. Also AFAIK just about everyone just ignores that recommendation.<p>This is a classic &quot;reality should adjust to the standard&quot; type of thinking. Previous comments about that: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36984331">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=36984331</a><p>I suppose &quot;e ZWJ %&quot; is a bit better than Private Use as it will appear as &quot;e%&quot; if you don&#x27;t have font support, but the fundamental problem of &quot;won&#x27;t work unless you spend effort&quot; remains. For a specific niche (math, language study, something else) that&#x27;s okay, but for &quot;casual&quot; usage: not so much. &quot;Ship font with the document&quot; like PDF and webfonts do is an option, but also has downsides and won&#x27;t work in a lot of contexts, and still requires extra effort from the author.<p>I&#x27;m not saying it&#x27;s completely impossible, but certainly harder than it used to be, arguably much harder. I could coin a new word right here and now (although my imagination is failing me to provide a humorous example at this moment) and if people like it, it will see usage. In 1960s HN when we would have exchanged these things over written letters, and it would have been trivial to propose a &quot;e with % on top&quot; too, but now we need to resort to clunky phrases like this (even for typewriters you can manually amend things, if you really wanted to).<p>Or let me put it this way: something like ‽ would see very little chance of being added to Unicode if it was coined today. Granted, it doesn&#x27;t see <i>that</i> much use, but I do encounter it in the wild on occasion and some people like it (I personally don&#x27;t actually, but I don&#x27;t want to prevent other people from using it).<p>None of this is Unicode&#x27;s fault by the way, or at least not directly – this is a generic limitation of computers.</div><br/><div id="37744547" class="c"><input type="checkbox" id="c-37744547" checked=""/><div class="controls bullet"><span class="by">WorldMaker</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37744194">parent</a><span>|</span><a href="#37742690">next</a><span>|</span><label class="collapse" for="c-37744547">[-]</label><label class="expand" for="c-37744547">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Yes, and that only makes things worse since the overwhelming majority of documents (99.something% last time I checked) uses pre-composed.<p>It shouldn&#x27;t matter what&#x27;s in the wild in documents. That&#x27;s why we have normalization algorithms and normalization forms. Unicode was built for the ugly reality of backwards compatibility and that you can&#x27;t control how people in the past wrote. These precomposed characters largely predate Unicode and were a problem before Unicode. Unicode <i>won</i> in part because it met other encodings where they <i>were</i> rather than where they wished they would be. It made sure that mappings from older encodings could be (mostly) one-to-one with respect to code points in the original. It didn&#x27;t quite achieve that in some cases, but it did for, say, all of EBCDIC.<p>Unicode was never in the position to fix the past, they had to live with that.<p>&gt; This is a classic &quot;reality should adjust to the standard&quot; type of thinking.<p>Not really. The Unicode standard suggests the normal&#x2F;canonical forms and very well documented algorithms (including directly in source code in the Unicode committee-maintained&#x2F;approved ICU libraries) to take everything seen in the wilds of reality and convert them to a normal form. It&#x27;s not asking reality to adjust to the standard, it is asking <i>developers</i> to adjust to the algorithms for cleanly dealing with the ugly reality.<p>&gt; Or let me put it this way: something like ‽ would see very little chance of being added to Unicode if it was coined today.<p>Posted to HN several times has been the well documented proposal process from start to finish (it succeeded) of getting common and somewhat less common power symbols encoded in Unicode. It&#x27;s a committee process. It certainly takes committee time. But it isn&#x27;t &quot;impossible&quot; to navigate and is certainly higher than &quot;little chance&quot; if you&#x27;ve got the gumption to document what you want to see encoded and push the proposal through the committee process.<p>Certainly the Unicode committee picked up a reputation for being hard to work with in the early oughts when the consortium was still fighting the internal battles over UCS-2 being &quot;good enough&quot; and had concerns about opening the &quot;Astral Plane&quot;. Now that the astral plane is open and UTF-16 exists, the committee&#x27;s attitude is considered to be much better, even if its reputation hasn&#x27;t yet shifted from those bad old days.<p>&gt; None of this is Unicode&#x27;s fault by the way, or at least not directly – this is a generic limitation of computers.<p>Computers do anything we program them to do and in general people find a way regardless of the restrictions and creative limitations that get programmed. I&#x27;ve seen MS Paint drawn symbols embedded in Word documents because the author couldn&#x27;t find the symbol they needed or it didn&#x27;t quite exist. It&#x27;s hard to use such creative problem solving in HN&#x27;s text boxes, but that from some viewpoints is just as much a creative deficiency in HN&#x27;s design. It&#x27;s not an &quot;inherent&quot; problem to computers. When it is a problem they pay us software developers to fix it. (If we need to fix it by writing a proposal to a standards committee such as the Unicode Consortium, that is in our power and one of our rights as developers. Standards don&#x27;t just bind in one-direction, they also form an agreement of cooperation in the other.)</div><br/><div id="37745703" class="c"><input type="checkbox" id="c-37745703" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37744547">parent</a><span>|</span><a href="#37742690">next</a><span>|</span><label class="collapse" for="c-37745703">[-]</label><label class="expand" for="c-37745703">[2 more]</label></div><br/><div class="children"><div class="content">The thing with normalization is that it&#x27;s not free, and especially for embedded use cases people seem quite opposed to this. IIRC it requires about ~100K of binary size, ~20K of memory, and some non-zero number of CPU cycles. This is negligible for your desktop computer, but for embedded use cases this matters (or so I&#x27;ve been told).<p>This comes up in specifications that have a broad range of use cases; when I was involved in this my idea was to just spec things so that there&#x27;s only one allowed form; you&#x27;ll still need a small-ish table for this, but that&#x27;s fine. But that&#x27;s currently hard because for a few newer Latin-adjacent alphabets some letters cannot be represented without a combining character.<p>So then you have either the &quot;accept that two things which seem visually similar are not identical&quot; (meh) or &quot;exclude embedded use cases&quot; (meh).<p>I never really found a good way to unify these use cases. I&#x27;ve seen this come up a few times in various contexts over the years.<p>&gt; Posted to HN several times has been the well documented proposal process from start to finish (it succeeded) of getting common and somewhat less common power symbols encoded in Unicode.<p>Would this work for an entirely new symbol I invent today? It&#x27;s not really the Unicode people that are &quot;difficult&quot; here as such, they just ask for demonstrated usage, which is entirely reasonable, and that&#x27;s hard to get (or: harder than it was before computers) especially for casual usage. I&#x27;m sure that if some country adopts&#x2F;invents a new script today, as seems to be happening in West-Africa at in recent years, the Unicode people are more than amendable to work with that, but &quot;I just like ‽&quot; is a rather different type of thing.</div><br/><div id="37746523" class="c"><input type="checkbox" id="c-37746523" checked=""/><div class="controls bullet"><span class="by">WorldMaker</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37745703">parent</a><span>|</span><a href="#37742690">next</a><span>|</span><label class="collapse" for="c-37746523">[-]</label><label class="expand" for="c-37746523">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Would this work for an entirely new symbol I invent today? It&#x27;s not really the Unicode people that are &quot;difficult&quot; here as such, they just ask for demonstrated usage, which is entirely reasonable, and that&#x27;s hard to get (or: harder than it was before computers) especially for casual usage.<p>Sure, they want demonstrated usage as inline in the flow of text <i>as textual elements</i> as opposed to purely iconography or design elements (because such things <i>are</i> outside of Unicode&#x27;s remit, modulo some old Wingdings encoded for compatibility reasons and the fine line between emoji are expressive text and also emoji are useful for iconography in many cases). But at this point (again in contrast to the UCS-2&#x2F;no-Astral-plane days) the committees don&#x27;t seem to care how it was mocked up (do it on a chalkboard, do it in paint, do it in LaTeX drawing commands, whatever gets the point across) or how &quot;casual&quot; or infrequent the usage is, so long as you can state the case for &quot;this is a text element&quot; (not an icon!) used in living creative language expression. There&#x27;s more &quot;provenance&quot; requirements for dead languages and they&#x27;ll want some number of academic citations, but for living languages they&#x27;ve come to be flexible (no hard requirements) on the number of examples they need from the wild and where those are sourced from. Showing it in old classic documents&#x2F;manuals&#x2F;books, for instance, <i>helps</i> the case greatly, but the committees today no longer seem as limited to just what can be used to demonstrate usage. &quot;I just like it&quot; is obviously not a rock solid proposal&#x2F;defense to bring to a committee (any committee, really), but that doesn&#x27;t mean that is impossible for the committee to be swayed by someone making a strong enough &quot;I just like it&quot; case if they demonstrate well enough <i>why</i> they like it and <i>how</i> they use it and <i>how</i> they think other people will use it (and how those uses aren&#x27;t just iconography&#x2F;decorative elements but useful in the inline context of textual language).</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="37742690" class="c"><input type="checkbox" id="c-37742690" checked=""/><div class="controls bullet"><span class="by">nwellnhof</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37738097">parent</a><span>|</span><a href="#37738379">prev</a><span>|</span><a href="#37738214">next</a><span>|</span><label class="collapse" for="c-37742690">[-]</label><label class="expand" for="c-37742690">[1 more]</label></div><br/><div class="children"><div class="content">Hangul already has precomposed syllables in Unicode. We still have several hundred thousand unassigned codepoints to deal with diacritics.</div><br/></div></div></div></div><div id="37738214" class="c"><input type="checkbox" id="c-37738214" checked=""/><div class="controls bullet"><span class="by">PetitPrince</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737836">parent</a><span>|</span><a href="#37738097">prev</a><span>|</span><a href="#37738263">next</a><span>|</span><label class="collapse" for="c-37738214">[-]</label><label class="expand" for="c-37738214">[1 more]</label></div><br/><div class="children"><div class="content">The intent of Unicode was to have a universal solution for humans. Excluding one case, even if it&#x27;s remote, would defeat this mission statement.</div><br/></div></div><div id="37738263" class="c"><input type="checkbox" id="c-37738263" checked=""/><div class="controls bullet"><span class="by">layer8</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737836">parent</a><span>|</span><a href="#37738214">prev</a><span>|</span><a href="#37742370">next</a><span>|</span><label class="collapse" for="c-37738263">[-]</label><label class="expand" for="c-37738263">[1 more]</label></div><br/><div class="children"><div class="content">Thai, Arabic, Hebrew, and Devanagari are important examples, I believe.</div><br/></div></div><div id="37742370" class="c"><input type="checkbox" id="c-37742370" checked=""/><div class="controls bullet"><span class="by">nottorp</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737836">parent</a><span>|</span><a href="#37738263">prev</a><span>|</span><a href="#37738179">next</a><span>|</span><label class="collapse" for="c-37742370">[-]</label><label class="expand" for="c-37742370">[2 more]</label></div><br/><div class="children"><div class="content">The problem is not that you need character composition for some writing systems. It&#x27;s that there are no rules that would help with everything having an unique representation internally.<p>Even &quot;put the code points forming the composed character in descending numerical order&quot; would be better than nothing. If it was there from the start.<p>However, the Unicode commitee is too busy adding new emojis to make their standard sane.</div><br/><div id="37745698" class="c"><input type="checkbox" id="c-37745698" checked=""/><div class="controls bullet"><span class="by">PeterisP</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37742370">parent</a><span>|</span><a href="#37738179">next</a><span>|</span><label class="collapse" for="c-37745698">[-]</label><label class="expand" for="c-37745698">[1 more]</label></div><br/><div class="children"><div class="content">There are rules for that, Unicode has standards (not only formal, but easily usable in most software libraries) for canonical forms that will collapse all the variations to a single representation.<p>But, of course, unicode can&#x27;t define that the standard will cover only the canonical forms, and couldn&#x27;t do that since the start, as it needed backwards compatibility with various pre-unicode encodings which had mutually incompatible principles, so it needed support for both composed and decomposed versions of the same characters.</div><br/></div></div></div></div></div></div></div></div><div id="37738179" class="c"><input type="checkbox" id="c-37738179" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#37737667">parent</a><span>|</span><a href="#37737776">prev</a><span>|</span><a href="#37737739">next</a><span>|</span><label class="collapse" for="c-37738179">[-]</label><label class="expand" for="c-37738179">[9 more]</label></div><br/><div class="children"><div class="content">&gt; Unicode doubled down with composed Emojis.<p>Not just emojis, in general I believe Unicode has just said they&#x27;re not going to add new pre-composed characters and that using combining characters is the <i>Right Way™</i> to do things (well, the <i>only</i> way for newer scripts).<p>One of the downsides of writing down specifications is that they tend to attract people with Very Strong Opinions on the One And Only Right Way and will argue it to no end, and essentially &quot;win&quot; the argument just by sheer verbosity and persistence.<p>That&#x27;s certainly what I&#x27;ve seen happen in a few cases, and is what happens on e.g. Wikipedia as well at times.<p>But yeah, emojis is even worse. Something things can look rather different depending on which invisible variation selector is present. We&#x27;ve got tons and tons of unassigned codepoints and we need to resort to these tricks to save a few of them?<p>Firefighter is &quot;(man|woman|person) + ZWJ + firetruck&quot;. Clever, I guess. Construction worker is &quot;Construction worker (+ ZWJ + (male sign|female sign))?&quot; (absence is gender-neutral). Why are there 2 systems to encode this? Sigh...<p>All of this is too clever by a mile.<p>[1]: HN will strip stuff, but try something like:<p><pre><code>  echo $&#x27;↔\ufe0f ↔\ufe0e&#x27;
</code></pre>
May not display correctly in terminal, but can xclip it to a browser – screenshot: <a href="https:&#x2F;&#x2F;imgur.com&#x2F;a&#x2F;iFmBDQk" rel="nofollow noreferrer">https:&#x2F;&#x2F;imgur.com&#x2F;a&#x2F;iFmBDQk</a></div><br/><div id="37741535" class="c"><input type="checkbox" id="c-37741535" checked=""/><div class="controls bullet"><span class="by">d3w4s9</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37738179">parent</a><span>|</span><a href="#37737739">next</a><span>|</span><label class="collapse" for="c-37741535">[-]</label><label class="expand" for="c-37741535">[8 more]</label></div><br/><div class="children"><div class="content">The first time I heard that Unicode would support emoji, I knew it would be a recipe for disaster. And I definitely was not disappointed.</div><br/><div id="37742359" class="c"><input type="checkbox" id="c-37742359" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37741535">parent</a><span>|</span><a href="#37737739">next</a><span>|</span><label class="collapse" for="c-37742359">[-]</label><label class="expand" for="c-37742359">[7 more]</label></div><br/><div class="children"><div class="content">I mean, I don&#x27;t dislike the concept personally. I actually really hate how HN strips them.<p>But the technical implementation? Yeah, that could have gone a lot better IMHO.<p>One must also wonder if some things really had to be added in the first place, e.g. for people kissing it&#x27;s:<p><pre><code>  (person|man|woman)(skin-tone)? ZWJ &lt;heart&gt; ZWJ &lt;kissing lips&gt; ZWJ (person|man|woman)(skin-tone)?
</code></pre>
This is NOT a complaint about that they added diversity as such, in principle I&#x27;m all for that, it&#x27;s just that few seem to actually use these emojis, and both in terms of code and UI it all gets pretty complex; there&#x27;s 98 combinations to choose from here.<p>I don&#x27;t really get why &lt;heart&gt; or &lt;killing lips&gt; or &lt;kissing face&gt; isn&#x27;t enough. That&#x27;s actually what most people seem to use anyway, because who finds it convenient to pick all the correct genders and skin tones from the UI for both people?</div><br/><div id="37743065" class="c"><input type="checkbox" id="c-37743065" checked=""/><div class="controls bullet"><span class="by">pests</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37742359">parent</a><span>|</span><a href="#37742420">next</a><span>|</span><label class="collapse" for="c-37743065">[-]</label><label class="expand" for="c-37743065">[5 more]</label></div><br/><div class="children"><div class="content">&gt; there&#x27;s 98 combinations to choose from here.<p>Less than that since a default skin color can be set in most apps. I&#x27;m sure setting a gender will come soon so the entire first part of that emoji can be auto-guessed. Then its just showing the other options in the UI. Really all of this is UI design as even with the 98 combinations you can still display it as 4&#x2F;5 options you drill down.<p>&gt; who finds it convenient to pick all the correct genders and skin tones from the UI for both people?<p>I just checked and searching &quot;kissing&quot; in my iOS emoji keyboard inside Messenger showed just 4 of the emoji&#x27;s your describing - defaulting both skin tones to my settings and then the four M&#x2F;F pair ups. Plus some non-related kissing emojis like the cat kissing.</div><br/><div id="37743597" class="c"><input type="checkbox" id="c-37743597" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37743065">parent</a><span>|</span><a href="#37742420">next</a><span>|</span><label class="collapse" for="c-37743597">[-]</label><label class="expand" for="c-37743597">[4 more]</label></div><br/><div class="children"><div class="content">&gt; defaulting both skin tones to my settings<p>But that&#x27;s kind of wrong, no? The entire point is that you can choose both sides individually. What if you set it to black and want to kiss some white bloke?<p>If anything that only underscores my point that it&#x27;s too complex and that no one is using them (certainly not as intended anyway).</div><br/><div id="37744084" class="c"><input type="checkbox" id="c-37744084" checked=""/><div class="controls bullet"><span class="by">pests</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37743597">parent</a><span>|</span><a href="#37742420">next</a><span>|</span><label class="collapse" for="c-37744084">[-]</label><label class="expand" for="c-37744084">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s on Apple not on emojis.<p>In the Windows 11 emoji picker it works like this:<p>1. Search &quot;kissing&quot;. See two generic yellow people kissing. Notice a blue dot in the bottom right corner.<p>2. Clicking the emoji brings up previously used versions of the kissing emoji, with a + button.<p>3. Clicking + brings up a dialog like I described previously. Two generic figures at the top, then a row of skin tones.<p>4. You can click on each generic person and choose a gender, then select a skin tone. You can do this for each person in the group.<p>5. Click done. This emoji is now in your default emoji list and you won&#x27;t need to recreate it again.</div><br/><div id="37744219" class="c"><input type="checkbox" id="c-37744219" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37744084">parent</a><span>|</span><a href="#37742420">next</a><span>|</span><label class="collapse" for="c-37744219">[-]</label><label class="expand" for="c-37744219">[2 more]</label></div><br/><div class="children"><div class="content">That seems like a lot of effort when you could have sent &lt;kissing-lips&gt;, &lt;kissing-cat&gt;, &lt;kissing-face&gt;, &lt;heart&gt;, or any number of other emojis, which is what my point was.</div><br/><div id="37744238" class="c"><input type="checkbox" id="c-37744238" checked=""/><div class="controls bullet"><span class="by">pests</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37744219">parent</a><span>|</span><a href="#37742420">next</a><span>|</span><label class="collapse" for="c-37744238">[-]</label><label class="expand" for="c-37744238">[1 more]</label></div><br/><div class="children"><div class="content">You still can! People who want more customizations can do so too. Plus it only takes the initial setup per emoji at least.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37742420" class="c"><input type="checkbox" id="c-37742420" checked=""/><div class="controls bullet"><span class="by">nottorp</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37742359">parent</a><span>|</span><a href="#37743065">prev</a><span>|</span><a href="#37737739">next</a><span>|</span><label class="collapse" for="c-37742420">[-]</label><label class="expand" for="c-37742420">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I actually really hate how HN strips them.<p>Oh. So that&#x27;s why HN discussion always looks sane. They strip the pollution.</div><br/></div></div></div></div></div></div></div></div><div id="37737739" class="c"><input type="checkbox" id="c-37737739" checked=""/><div class="controls bullet"><span class="by">jetbalsa</span><span>|</span><a href="#37737667">parent</a><span>|</span><a href="#37738179">prev</a><span>|</span><a href="#37737791">next</a><span>|</span><label class="collapse" for="c-37737739">[-]</label><label class="expand" for="c-37737739">[11 more]</label></div><br/><div class="children"><div class="content">I feel its the same as with any long standing computer system we have today. It was designed as more and more of the world came online and all the growing pains it came with. Could it be built from scratch today better? Yes. Will it? No. I suspect it will be around long after we are all dead. Same with IPv4 :V</div><br/><div id="37739371" class="c"><input type="checkbox" id="c-37739371" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737739">parent</a><span>|</span><a href="#37739833">next</a><span>|</span><label class="collapse" for="c-37739371">[-]</label><label class="expand" for="c-37739371">[1 more]</label></div><br/><div class="children"><div class="content">For most software it doesn&#x27;t really matter either.<p>I&#x27;ve written unicode-aware software for over a decade, doing a wide variety of programs, and I&#x27;ve never had to bother with all that mess.<p>If I&#x27;m parsing strings I&#x27;m looking for stuff in the 7-bit ASCII range which maps neatly onto the Unicode representations, and so I just need to take care to preserve the rest.<p>The only trouble I&#x27;ve had is that a lot of programmers haven&#x27;t learned, or don&#x27;t get, that text encoding is a thing and that it needs to be handled.<p>So they&#x27;ll hand me an XML they claim is UTF-8 encoded, except that XML header was just copypasta and the actual XML document is encoded in some other system encoding like Windows-1252. Or worse, a mix of both.</div><br/></div></div><div id="37739833" class="c"><input type="checkbox" id="c-37739833" checked=""/><div class="controls bullet"><span class="by">hot_gril</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737739">parent</a><span>|</span><a href="#37739371">prev</a><span>|</span><a href="#37737800">next</a><span>|</span><label class="collapse" for="c-37739833">[-]</label><label class="expand" for="c-37739833">[5 more]</label></div><br/><div class="children"><div class="content">Honestly I like ipv4 better than v6. I like having a NAT and easy addresses like 192.168.1.3 instead of fe80::210:5aff:feaa:20a2. They didn&#x27;t need to mess with those things just to expand the address space, like how utf8 didn&#x27;t require remapping ASCII.</div><br/><div id="37748921" class="c"><input type="checkbox" id="c-37748921" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37739833">parent</a><span>|</span><a href="#37744358">next</a><span>|</span><label class="collapse" for="c-37748921">[-]</label><label class="expand" for="c-37748921">[1 more]</label></div><br/><div class="children"><div class="content">Go ahead and use fe80::3 as a link-local address.<p>For site local, fec0::3.  Yeah site-local is discouraged but you can still do it.  Or you can slightly misuse fd00::3.<p>You only get those latter 16 hex characters if you explicitly <i>don&#x27;t</i> want to choose addresses.</div><br/></div></div><div id="37744358" class="c"><input type="checkbox" id="c-37744358" checked=""/><div class="controls bullet"><span class="by">jrockway</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37739833">parent</a><span>|</span><a href="#37748921">prev</a><span>|</span><a href="#37737800">next</a><span>|</span><label class="collapse" for="c-37744358">[-]</label><label class="expand" for="c-37744358">[3 more]</label></div><br/><div class="children"><div class="content">IPv4.1 should have just had 39 bits, to be written like 999.999.999.999.  (I know this wouldn&#x27;t have actually had much effect, nobody is going to add new routes in the middle of &quot;class A&quot; spaces that already existed, so it would just give those that already had IP addresses more IP addresses.  Additionally, people really abuse decimal addresses in horrifying ways; for example, Fios steals 192.168.1.100-192.168.1.150 for its TV service, and that range doesn&#x27;t really correspond to anything that you can mask off in binary.  It only makes sense in decimal, which is not what any underlying machinery uses.  They should have given themselves a &#x2F;26 or something.  You get 3 for yourself (modulo the broadcast and gateway address), and they get 1 for TV.)</div><br/><div id="37744974" class="c"><input type="checkbox" id="c-37744974" checked=""/><div class="controls bullet"><span class="by">hot_gril</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37744358">parent</a><span>|</span><a href="#37744747">next</a><span>|</span><label class="collapse" for="c-37744974">[-]</label><label class="expand" for="c-37744974">[1 more]</label></div><br/><div class="children"><div class="content">Having it actually be decimal might&#x27;ve been nice, but at this point people are used to the 1-254 range, and I think the least jarring addition of extra bits would be to simply extend it for the addresses that need them (and not for the ones that don&#x27;t). So you could have 123.444.3.254 or longer like 123.444.3.254.12.43.</div><br/></div></div></div></div></div></div><div id="37737800" class="c"><input type="checkbox" id="c-37737800" checked=""/><div class="controls bullet"><span class="by">vacuity</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737739">parent</a><span>|</span><a href="#37739833">prev</a><span>|</span><a href="#37737791">next</a><span>|</span><label class="collapse" for="c-37737800">[-]</label><label class="expand" for="c-37737800">[4 more]</label></div><br/><div class="children"><div class="content">Be the change you want to see in the world. If we&#x27;re going to make huge breaking changes, might as well do it sooner rather than later.</div><br/><div id="37737849" class="c"><input type="checkbox" id="c-37737849" checked=""/><div class="controls bullet"><span class="by">jetbalsa</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737800">parent</a><span>|</span><a href="#37737791">next</a><span>|</span><label class="collapse" for="c-37737849">[-]</label><label class="expand" for="c-37737849">[3 more]</label></div><br/><div class="children"><div class="content">With something as large as a end user language format for input, this is a change we ourselves cannot make, just as using another calendar for dates. Just because I want to use the year 2002023 calendar with 29.5 days per month, doesn&#x27;t make it useful to others or myself really.</div><br/><div id="37738976" class="c"><input type="checkbox" id="c-37738976" checked=""/><div class="controls bullet"><span class="by">nvm0n2</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737849">parent</a><span>|</span><a href="#37738523">next</a><span>|</span><label class="collapse" for="c-37738976">[-]</label><label class="expand" for="c-37738976">[1 more]</label></div><br/><div class="children"><div class="content">I think actually you could. A thought experiment:<p>The problems with Unicode are mostly to do with internal inconsistencies and churn, problems that usually only affect programmers.<p>1. Different ways to encode the same visually indistinguishable set of characters as code points leading to normal forms, text that compares unequal even when it appears to be identical, the disastrous &quot;grapheme clusters&quot; concept and so on.<p>2. Many different ways to encode the same sequence of code points as bytes. Not only UTF-32&#x2F;16&#x2F;8 but also curiousities like &quot;modified UTF-8&quot;.<p>3. Emoji. A fractal of disasters:<p>3.a. Updates frequently. Neither Unicode nor software in general was built on the assumption that something as basic as the alphabet changes every year. If you send someone an emoji, can their device draw it? Who knows! In practice this means messaging apps can&#x27;t rely on the OS system fonts or text handling libraries anymore which is a drastic regression in basic functionality.<p>3.b. (Ab)uses composition so much it&#x27;s practically a small programming language, e.g. flags are composed of the two letter country code spelled using special characters. People are represented as as generic person plus skin color patch, families are represented using composed individual people etc.<p>3.c. Meaning of a character is theoretically specified but can subtly depend on the font used, e.g. people use a fruit emoji in visual puns because of how it looks specifically on Apple devices, so a &quot;sentence&quot; can make no sense if it&#x27;s rendered with a different font.<p>3.d. Unbounded in scope. There&#x27;s no reason the Unicode committee won&#x27;t just keep adding new pictograms forever.<p>3.e. Encoded beyond the BMP which in theory every correct program should handle but in practice some don&#x27;t because nobody except a few academics used characters beyond it much until emoji came along.<p>3.f. Disagreement over single vs double width chars, can only know this via hard-coded tables, matters for terminals and code editors.<p>Some of these can potentially be cleaned up outside of the Unicode consortium in backwards compatible ways. You could have a programming language that automatically normalized strings to fully composed form when deserializing from bytes, and then automatically folded semantically identical code points together (this would be a small efficiency win for some languages too). You could campaign to build a consensus around a specific normal form, like how UTF-8 gained consensus as a transfer encoding. You could also define a fork of Unicode (using private use areas?) that allocates a single code point to the characters that are unnecessarily using composition today but don&#x27;t yet have one and then just subset out the concept of composition entirely.<p>Emoji are a big problem. It&#x27;s tempting to say that these should not be encoded as characters at all. Instead there could be a set of code points that define bounds that contain a tiny binary subset of SVG, enough to recreate the Apple pixel art somewhat closely. Emoji would always be transmitted as inlined vector art. Text rendering libraries would call out to a little renderer for each encoded glyph, using a fast fingerprinting algorithm to deduplicate the bytes to an internal notion of a character. To avoid wire bloat, text can simply be compressed with a pre-agreed zstd or Brotli dictionary that contains whatever images happen to be popular in the wild. At a stroke this would avoid backwards compat problems with new emoji, enabling programs working with text to be upgraded <i>once</i> and then never again, eliminate all the ridiculous political committee bike-shedding over what gets added, let apps go back to using system text support and get rid of the bajillion edge cases that emoji have spewed all over the infrastructure.</div><br/></div></div><div id="37738523" class="c"><input type="checkbox" id="c-37738523" checked=""/><div class="controls bullet"><span class="by">Joker_vD</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737849">parent</a><span>|</span><a href="#37738976">prev</a><span>|</span><a href="#37737791">next</a><span>|</span><label class="collapse" for="c-37738523">[-]</label><label class="expand" for="c-37738523">[1 more]</label></div><br/><div class="children"><div class="content">Do your dates alpha-convert?</div><br/></div></div></div></div></div></div></div></div><div id="37737791" class="c"><input type="checkbox" id="c-37737791" checked=""/><div class="controls bullet"><span class="by">dleeftink</span><span>|</span><a href="#37737667">parent</a><span>|</span><a href="#37737739">prev</a><span>|</span><a href="#37739435">next</a><span>|</span><label class="collapse" for="c-37737791">[-]</label><label class="expand" for="c-37737791">[9 more]</label></div><br/><div class="children"><div class="content">What sort of  practical issues are you running into due to Unicode&#x27;s codepoint compositionality?</div><br/><div id="37737863" class="c"><input type="checkbox" id="c-37737863" checked=""/><div class="controls bullet"><span class="by">nwellnhof</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737791">parent</a><span>|</span><a href="#37737901">next</a><span>|</span><label class="collapse" for="c-37737863">[-]</label><label class="expand" for="c-37737863">[7 more]</label></div><br/><div class="children"><div class="content">It&#x27;s unnecessary complexity and a security nightmare. Have you ever tried to implement Unicode normalization? A single bug in your code and malformed text can crash your application or worse.</div><br/><div id="37737955" class="c"><input type="checkbox" id="c-37737955" checked=""/><div class="controls bullet"><span class="by">torstenvl</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737863">parent</a><span>|</span><a href="#37738226">next</a><span>|</span><label class="collapse" for="c-37737955">[-]</label><label class="expand" for="c-37737955">[5 more]</label></div><br/><div class="children"><div class="content">It&#x27;s hard for me to imagine how Unicode normalization could crash your application unless you have very convoluted memory management code.<p>What on earth are you doing that it&#x27;s leading to crashes? Are you not validating the result?</div><br/><div id="37740023" class="c"><input type="checkbox" id="c-37740023" checked=""/><div class="controls bullet"><span class="by">hot_gril</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737955">parent</a><span>|</span><a href="#37738226">next</a><span>|</span><label class="collapse" for="c-37740023">[-]</label><label class="expand" for="c-37740023">[4 more]</label></div><br/><div class="children"><div class="content">iMessage has had several vulnerabilities related to this. Whatever the difficulties are, even Apple can&#x27;t handle them sometimes.</div><br/><div id="37741630" class="c"><input type="checkbox" id="c-37741630" checked=""/><div class="controls bullet"><span class="by">torstenvl</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37740023">parent</a><span>|</span><a href="#37738226">next</a><span>|</span><label class="collapse" for="c-37741630">[-]</label><label class="expand" for="c-37741630">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m very skeptical, but willing to be proven wrong. What&#x27;s the CVE?</div><br/><div id="37741788" class="c"><input type="checkbox" id="c-37741788" checked=""/><div class="controls bullet"><span class="by">hot_gril</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37741630">parent</a><span>|</span><a href="#37738226">next</a><span>|</span><label class="collapse" for="c-37741788">[-]</label><label class="expand" for="c-37741788">[2 more]</label></div><br/><div class="children"><div class="content">First that comes to mind is the &quot;effective power&quot; one, <a href="https:&#x2F;&#x2F;nvd.nist.gov&#x2F;vuln&#x2F;detail&#x2F;cve-2015-1157" rel="nofollow noreferrer">https:&#x2F;&#x2F;nvd.nist.gov&#x2F;vuln&#x2F;detail&#x2F;cve-2015-1157</a> There&#x27;s also the &quot;black dot&quot; one, can&#x27;t find the CVE though.</div><br/><div id="37742421" class="c"><input type="checkbox" id="c-37742421" checked=""/><div class="controls bullet"><span class="by">torstenvl</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37741788">parent</a><span>|</span><a href="#37738226">next</a><span>|</span><label class="collapse" for="c-37742421">[-]</label><label class="expand" for="c-37742421">[1 more]</label></div><br/><div class="children"><div class="content">That seems like a truncation + display issue though, not a normalization issue.<p><a href="https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;apple&#x2F;comments&#x2F;37e8c1&#x2F;malicious_text_message&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;apple&#x2F;comments&#x2F;37e8c1&#x2F;malicious_tex...</a><p>In fact, I don&#x27;t know that there&#x27;s any reason to believe normalization happens at all in the process of executing this.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="37738226" class="c"><input type="checkbox" id="c-37738226" checked=""/><div class="controls bullet"><span class="by">dleeftink</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737863">parent</a><span>|</span><a href="#37737955">prev</a><span>|</span><a href="#37737901">next</a><span>|</span><label class="collapse" for="c-37738226">[-]</label><label class="expand" for="c-37738226">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s tricky, for sure. My &#x27;workaround&#x27; has long been converting codepoints into byte sequences and creating a character dictionary from that. Based on the source corpus, this dictionary can be further expanded&#x2F;compressed and used for downstream processing.</div><br/></div></div></div></div><div id="37737901" class="c"><input type="checkbox" id="c-37737901" checked=""/><div class="controls bullet"><span class="by">zajio1am</span><span>|</span><a href="#37737667">root</a><span>|</span><a href="#37737791">parent</a><span>|</span><a href="#37737863">prev</a><span>|</span><a href="#37739435">next</a><span>|</span><label class="collapse" for="c-37737901">[-]</label><label class="expand" for="c-37737901">[1 more]</label></div><br/><div class="children"><div class="content">Normalization and the fact it is not forward-compatible.</div><br/></div></div></div></div><div id="37739435" class="c"><input type="checkbox" id="c-37739435" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#37737667">parent</a><span>|</span><a href="#37737791">prev</a><span>|</span><a href="#37737843">next</a><span>|</span><label class="collapse" for="c-37739435">[-]</label><label class="expand" for="c-37739435">[1 more]</label></div><br/><div class="children"><div class="content">But precomposing all the potential combinations is less sane than the current mess (and you can outlaw Zalgo in the standard if you think it&#x27;s a serious issue)<p>Also, the % should measure people, not languages, that would greatly decrease the imaginary 99%</div><br/></div></div><div id="37737843" class="c"><input type="checkbox" id="c-37737843" checked=""/><div class="controls bullet"><span class="by">dclowd9901</span><span>|</span><a href="#37737667">parent</a><span>|</span><a href="#37739435">prev</a><span>|</span><a href="#37749286">next</a><span>|</span><label class="collapse" for="c-37737843">[-]</label><label class="expand" for="c-37737843">[1 more]</label></div><br/><div class="children"><div class="content">They kind of have to don’t they? Otherwise we’ll become space-limited way too fast? Especially with how quickly new emojis are being made and all their variants.</div><br/></div></div></div></div><div id="37749286" class="c"><input type="checkbox" id="c-37749286" checked=""/><div class="controls bullet"><span class="by">Avlin67</span><span>|</span><a href="#37737667">prev</a><span>|</span><a href="#37737085">next</a><span>|</span><label class="collapse" for="c-37749286">[-]</label><label class="expand" for="c-37749286">[1 more]</label></div><br/><div class="children"><div class="content">Firefox 120.0a1 has difficult time displaying this page</div><br/></div></div><div id="37737085" class="c"><input type="checkbox" id="c-37737085" checked=""/><div class="controls bullet"><span class="by">dekken_</span><span>|</span><a href="#37749286">prev</a><span>|</span><a href="#37743190">next</a><span>|</span><label class="collapse" for="c-37737085">[-]</label><label class="expand" for="c-37737085">[15 more]</label></div><br/><div class="children"><div class="content">Am I supposed to hate this website, cause I kinda do</div><br/><div id="37744873" class="c"><input type="checkbox" id="c-37744873" checked=""/><div class="controls bullet"><span class="by">anymouse123456</span><span>|</span><a href="#37737085">parent</a><span>|</span><a href="#37737181">next</a><span>|</span><label class="collapse" for="c-37744873">[-]</label><label class="expand" for="c-37744873">[1 more]</label></div><br/><div class="children"><div class="content">FWIW - Right Click, Inspect. There&#x27;s a div with an attribute, &quot;pointers&quot; in the body root.<p>Deleting that makes the while thing a lot less stressful.</div><br/></div></div><div id="37737181" class="c"><input type="checkbox" id="c-37737181" checked=""/><div class="controls bullet"><span class="by">bqmjjx0kac</span><span>|</span><a href="#37737085">parent</a><span>|</span><a href="#37744873">prev</a><span>|</span><a href="#37737217">next</a><span>|</span><label class="collapse" for="c-37737181">[-]</label><label class="expand" for="c-37737181">[3 more]</label></div><br/><div class="children"><div class="content">The mustard background with black text is harsh on the eyes.</div><br/><div id="37737359" class="c"><input type="checkbox" id="c-37737359" checked=""/><div class="controls bullet"><span class="by">permo-w</span><span>|</span><a href="#37737085">root</a><span>|</span><a href="#37737181">parent</a><span>|</span><a href="#37737217">next</a><span>|</span><label class="collapse" for="c-37737359">[-]</label><label class="expand" for="c-37737359">[2 more]</label></div><br/><div class="children"><div class="content">strange. I quite like it</div><br/><div id="37739577" class="c"><input type="checkbox" id="c-37739577" checked=""/><div class="controls bullet"><span class="by">Nevermark</span><span>|</span><a href="#37737085">root</a><span>|</span><a href="#37737359">parent</a><span>|</span><a href="#37737217">next</a><span>|</span><label class="collapse" for="c-37739577">[-]</label><label class="expand" for="c-37739577">[1 more]</label></div><br/><div class="children"><div class="content">Me too. I get the impression of a very saturated off-white yellow.<p>But any more saturation and it would go all mustard-electric on me.<p>That&#x27;s an interesting observation on variation of saturation response. Feels like useful knowledge for ... web site designers. Or any color crafter.</div><br/></div></div></div></div></div></div><div id="37737217" class="c"><input type="checkbox" id="c-37737217" checked=""/><div class="controls bullet"><span class="by">melx</span><span>|</span><a href="#37737085">parent</a><span>|</span><a href="#37737181">prev</a><span>|</span><a href="#37738587">next</a><span>|</span><label class="collapse" for="c-37737217">[-]</label><label class="expand" for="c-37737217">[3 more]</label></div><br/><div class="children"><div class="content">Try the night mode (top right corner)...<p>It&#x27;s black text on black background (I&#x27;m on mobile Firefox on Android).</div><br/><div id="37737225" class="c"><input type="checkbox" id="c-37737225" checked=""/><div class="controls bullet"><span class="by">Lewton</span><span>|</span><a href="#37737085">root</a><span>|</span><a href="#37737217">parent</a><span>|</span><a href="#37739187">next</a><span>|</span><label class="collapse" for="c-37737225">[-]</label><label class="expand" for="c-37737225">[1 more]</label></div><br/><div class="children"><div class="content">Night mode is an absolute delight on desktop, you&#x27;re missing out</div><br/></div></div><div id="37739187" class="c"><input type="checkbox" id="c-37739187" checked=""/><div class="controls bullet"><span class="by">jamincan</span><span>|</span><a href="#37737085">root</a><span>|</span><a href="#37737217">parent</a><span>|</span><a href="#37737225">prev</a><span>|</span><a href="#37738587">next</a><span>|</span><label class="collapse" for="c-37739187">[-]</label><label class="expand" for="c-37739187">[1 more]</label></div><br/><div class="children"><div class="content">On desktop your mouse pointer is a flashlight. I wonder if it supports touch.</div><br/></div></div></div></div><div id="37738587" class="c"><input type="checkbox" id="c-37738587" checked=""/><div class="controls bullet"><span class="by">cormullion</span><span>|</span><a href="#37737085">parent</a><span>|</span><a href="#37737217">prev</a><span>|</span><a href="#37737098">next</a><span>|</span><label class="collapse" for="c-37738587">[-]</label><label class="expand" for="c-37738587">[1 more]</label></div><br/><div class="children"><div class="content">It’s not pleasant to read. Strange, since Tonsky is the curator of the Fira Code font, and would presumably be interested in presentation</div><br/></div></div><div id="37737098" class="c"><input type="checkbox" id="c-37737098" checked=""/><div class="controls bullet"><span class="by">MrResearcher</span><span>|</span><a href="#37737085">parent</a><span>|</span><a href="#37738587">prev</a><span>|</span><a href="#37738272">next</a><span>|</span><label class="collapse" for="c-37737098">[-]</label><label class="expand" for="c-37737098">[4 more]</label></div><br/><div class="children"><div class="content">uBlock Origin -&gt; Disable Javascript<p>Problem solved!</div><br/><div id="37737174" class="c"><input type="checkbox" id="c-37737174" checked=""/><div class="controls bullet"><span class="by">eptcyka</span><span>|</span><a href="#37737085">root</a><span>|</span><a href="#37737098">parent</a><span>|</span><a href="#37737695">next</a><span>|</span><label class="collapse" for="c-37737174">[-]</label><label class="expand" for="c-37737174">[1 more]</label></div><br/><div class="children"><div class="content">Firefox reader mode is better still.</div><br/></div></div><div id="37737695" class="c"><input type="checkbox" id="c-37737695" checked=""/><div class="controls bullet"><span class="by">hwillis</span><span>|</span><a href="#37737085">root</a><span>|</span><a href="#37737098">parent</a><span>|</span><a href="#37737174">prev</a><span>|</span><a href="#37738272">next</a><span>|</span><label class="collapse" for="c-37737695">[-]</label><label class="expand" for="c-37737695">[2 more]</label></div><br/><div class="children"><div class="content">That breaks the video.  inspect -&gt; network -&gt; refresh -&gt; blocking the request for pointers.js works.</div><br/><div id="37745110" class="c"><input type="checkbox" id="c-37745110" checked=""/><div class="controls bullet"><span class="by">joveian</span><span>|</span><a href="#37737085">root</a><span>|</span><a href="#37737695">parent</a><span>|</span><a href="#37738272">next</a><span>|</span><label class="collapse" for="c-37745110">[-]</label><label class="expand" for="c-37745110">[1 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t on Firefox, you get the built in media controls.</div><br/></div></div></div></div></div></div><div id="37738272" class="c"><input type="checkbox" id="c-37738272" checked=""/><div class="controls bullet"><span class="by">leokennis</span><span>|</span><a href="#37737085">parent</a><span>|</span><a href="#37737098">prev</a><span>|</span><a href="#37743190">next</a><span>|</span><label class="collapse" for="c-37738272">[-]</label><label class="expand" for="c-37738272">[2 more]</label></div><br/><div class="children"><div class="content">Toggle the dark mode for a real treat.</div><br/><div id="37739617" class="c"><input type="checkbox" id="c-37739617" checked=""/><div class="controls bullet"><span class="by">sebstefan</span><span>|</span><a href="#37737085">root</a><span>|</span><a href="#37738272">parent</a><span>|</span><a href="#37743190">next</a><span>|</span><label class="collapse" for="c-37739617">[-]</label><label class="expand" for="c-37739617">[1 more]</label></div><br/><div class="children"><div class="content">Now that is really funny.<p>Future _improvement_ idea: the mouse cursors are shared, so the light switch should be, too! Let me play with the light with everyone</div><br/></div></div></div></div></div></div><div id="37743190" class="c"><input type="checkbox" id="c-37743190" checked=""/><div class="controls bullet"><span class="by">phforms</span><span>|</span><a href="#37737085">prev</a><span>|</span><a href="#37745795">next</a><span>|</span><label class="collapse" for="c-37743190">[-]</label><label class="expand" for="c-37743190">[2 more]</label></div><br/><div class="children"><div class="content">Regarding UTF-8 encoding:<p>“And a couple of important consequences:<p>- You CAN’T determine the length of the string by counting bytes.<p>- You CAN’T randomly jump into the middle of the string and start reading.<p>- You CAN’T get a substring by cutting at arbitrary byte offsets. You might cut off part of the character.”<p>One of the things I had to get used to when learning the programming language Janet is that strings are just plain byte sequences, unaware of any encoding. So when I call `length` on a string of one character that is represented by 2 bytes in UTF-8 (e.g. `ä`), the function returns 2 instead of 1. Similar issues occur when trying to take a substring, as mentioned by the author.<p>As much as I love the approach Janet took here (it feels clean and simple and works well with their built-in PEGs), it is a bit annoying to work with outside of the ASCII range. Fortunately, there are libraries that can deal with this issue (e.g. <a href="https:&#x2F;&#x2F;github.com&#x2F;andrewchambers&#x2F;janet-utf8">https:&#x2F;&#x2F;github.com&#x2F;andrewchambers&#x2F;janet-utf8</a>), but I wish they would support conversion to&#x2F;from UTF-8 out of the box, since I generally like Janet very much.<p>One interesting thing I learned from the article is that the first byte can always be determined from its prefix. I always wondered how you would recognize&#x2F;separate a unicode character in a Janet string since it may have 1-4 bytes length, but I guess this is the answer.</div><br/><div id="37745627" class="c"><input type="checkbox" id="c-37745627" checked=""/><div class="controls bullet"><span class="by">pornel</span><span>|</span><a href="#37743190">parent</a><span>|</span><a href="#37745795">next</a><span>|</span><label class="collapse" for="c-37745627">[-]</label><label class="expand" for="c-37745627">[1 more]</label></div><br/><div class="children"><div class="content">You CAN&#x27;T do any of these things in Unicode in general, in all of its encodings.<p>There&#x27;s no random access in Unicode. It&#x27;s a stateful system that requires linear scan.</div><br/></div></div></div></div><div id="37745795" class="c"><input type="checkbox" id="c-37745795" checked=""/><div class="controls bullet"><span class="by">Terr_</span><span>|</span><a href="#37743190">prev</a><span>|</span><a href="#37739395">next</a><span>|</span><label class="collapse" for="c-37745795">[-]</label><label class="expand" for="c-37745795">[2 more]</label></div><br/><div class="children"><div class="content">&gt; normalization<p>A quick war-story on this: We had a system which was taking web-user input for human names, and then some of it had to be sanitized for a crappy third-party system. However some of the names were getting mangled in unexpected ways.<p>One of the (multiple) issues was that we were sometimes entirely dropping accented characters even when a good alternative existed. This occurred when we were getting &quot;é&quot; (U+00E9) instead of &quot;é&quot; (U+0065 U+0301), a regular letter E plus a special accent modifier. By forcing the second form (D normalization) we were able to strip &quot;just the accents&quot; and avoid excessively-wrong names.<p>Going further with K+D normalization, weird stuff like &quot;⑧&quot; (letter 8 in a circle) becomes a regular number 8.</div><br/><div id="37747661" class="c"><input type="checkbox" id="c-37747661" checked=""/><div class="controls bullet"><span class="by">ssokolow</span><span>|</span><a href="#37745795">parent</a><span>|</span><a href="#37739395">next</a><span>|</span><label class="collapse" for="c-37747661">[-]</label><label class="expand" for="c-37747661">[1 more]</label></div><br/><div class="children"><div class="content">Give <a href="https:&#x2F;&#x2F;manishearth.github.io&#x2F;blog&#x2F;2017&#x2F;01&#x2F;15&#x2F;breaking-our-latin-1-assumptions&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;manishearth.github.io&#x2F;blog&#x2F;2017&#x2F;01&#x2F;15&#x2F;breaking-our-l...</a> a read and, ideally, the other things it mentions like <a href="https:&#x2F;&#x2F;eev.ee&#x2F;blog&#x2F;2015&#x2F;09&#x2F;12&#x2F;dark-corners-of-unicode&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;eev.ee&#x2F;blog&#x2F;2015&#x2F;09&#x2F;12&#x2F;dark-corners-of-unicode&#x2F;</a> and <a href="https:&#x2F;&#x2F;manishearth.github.io&#x2F;blog&#x2F;2017&#x2F;01&#x2F;14&#x2F;stop-ascribing-meaning-to-unicode-code-points&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;manishearth.github.io&#x2F;blog&#x2F;2017&#x2F;01&#x2F;14&#x2F;stop-ascribing...</a>.<p>(Among other things, it points out that doing that to non-Latin text is liable to change pronunciations and meanings in other languages. For example, some languages use diacritics for voiced&#x2F;unvoiced indication where your &quot;normalization&quot; could do things like &quot;tick→dick&quot; or &quot;did→tit&quot;.)<p>(Did you ever notice that? B&#x2F;P, D&#x2F;T, V&#x2F;F, G&#x2F;K, J&#x2F;CH, and Z&#x2F;S form voiced&#x2F;unvoiced pairs that could have been indicated with a single letter and a diacritic. Same mouth behaviour. It&#x27;s just a question of whether you engage your vocal cords.)</div><br/></div></div></div></div><div id="37739395" class="c"><input type="checkbox" id="c-37739395" checked=""/><div class="controls bullet"><span class="by">WillAdams</span><span>|</span><a href="#37745795">prev</a><span>|</span><a href="#37737840">next</a><span>|</span><label class="collapse" for="c-37739395">[-]</label><label class="expand" for="c-37739395">[3 more]</label></div><br/><div class="children"><div class="content">Just had this come up at work --- needed a checkbox in Microsoft Word --- oddly the solution to entering it was to use the numeric keypad, hold down the alt key and then type out 128504 which yielded a check mark when the Arial font was selected _and_ unlike Insert Symbol and other techniques didn&#x27;t change the font to Segoe UI Symbol or some other font with that symbol.<p>Oddly, even though the Word UI indicated it was Arial, exporting to a PDF and inspecting that revealed that Segoe UI Symbol was being used.<p>As I&#x27;ve noted in the past, &quot;If typography was easy, Microsoft Word wouldn&#x27;t be the foetid mess which it is.&quot;</div><br/><div id="37740077" class="c"><input type="checkbox" id="c-37740077" checked=""/><div class="controls bullet"><span class="by">uxp8u61q</span><span>|</span><a href="#37739395">parent</a><span>|</span><a href="#37737840">next</a><span>|</span><label class="collapse" for="c-37740077">[-]</label><label class="expand" for="c-37740077">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s unrelated to unicode. The checkmark symbol just isn&#x27;t in the Arial font, so Word just falls back to a font that has it - Segoe UI. You&#x27;ve found a bug where Word still thinks it&#x27;s Arial. But this is something that would happened no matter what encoding you choose for your characters.</div><br/><div id="37748243" class="c"><input type="checkbox" id="c-37748243" checked=""/><div class="controls bullet"><span class="by">neerajsi</span><span>|</span><a href="#37739395">root</a><span>|</span><a href="#37740077">parent</a><span>|</span><a href="#37737840">next</a><span>|</span><label class="collapse" for="c-37748243">[-]</label><label class="expand" for="c-37748243">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know this for a fact, but it&#x27;s possible that the text run is logically considered to be Arial and the fallback could be handled as just a rendering step, rather than being encoded in the document.  Doing it that way could allow the text to render on different versions of Arial, some of which do have a checkbox char, at the risk of the appearance and layout changing depending on which fonts are installed.</div><br/></div></div></div></div></div></div><div id="37737840" class="c"><input type="checkbox" id="c-37737840" checked=""/><div class="controls bullet"><span class="by">badcppdev</span><span>|</span><a href="#37739395">prev</a><span>|</span><a href="#37746560">next</a><span>|</span><label class="collapse" for="c-37737840">[-]</label><label class="expand" for="c-37737840">[1 more]</label></div><br/><div class="children"><div class="content">Just a nitpick because the page says: &quot;Unicode is a standard that aims to unify all human languages, both past and present, and make them work with computers.&quot; but of course unicode is only relevant to written languages as opposed to spoken languages (and signed languages)<p>I wish that was the only thing wrong with that page</div><br/></div></div><div id="37746560" class="c"><input type="checkbox" id="c-37746560" checked=""/><div class="controls bullet"><span class="by">throwaway2037</span><span>|</span><a href="#37737840">prev</a><span>|</span><a href="#37743083">next</a><span>|</span><label class="collapse" for="c-37746560">[-]</label><label class="expand" for="c-37746560">[1 more]</label></div><br/><div class="children"><div class="content">It sounds like a generic length function in Unicode in 2023 is no longer a good idea.  These articles complaining about the variety of lengths in Unicode are annoying at this point.  Pretty much all of them can be summed up as, &quot;Well, it depends.&quot;  And, that isn&#x27;t wrong.  But nerds love to argue until they are blue in the face about the One Correct Answer.  Sheesh.<p>This is the most interesting comparison article I have seen in years about Unicode processing in C++: <a href="https:&#x2F;&#x2F;thephd.dev&#x2F;the-c-c++-rust-string-text-encoding-api-landscape" rel="nofollow noreferrer">https:&#x2F;&#x2F;thephd.dev&#x2F;the-c-c++-rust-string-text-encoding-api-l...</a><p>The author is also the lead on an open source C++ Unicode library called ztd.txt: <a href="https:&#x2F;&#x2F;github.com&#x2F;soasis&#x2F;text">https:&#x2F;&#x2F;github.com&#x2F;soasis&#x2F;text</a></div><br/></div></div><div id="37743083" class="c"><input type="checkbox" id="c-37743083" checked=""/><div class="controls bullet"><span class="by">WalterBright</span><span>|</span><a href="#37746560">prev</a><span>|</span><a href="#37741274">next</a><span>|</span><label class="collapse" for="c-37743083">[-]</label><label class="expand" for="c-37743083">[1 more]</label></div><br/><div class="children"><div class="content">Quotes from the article illustrating what a train wreck Unicode has become:<p>&quot;The problem is, in Unicode, some graphemes are encoded with multiple code points!&quot;<p>&quot;An Extended Grapheme Cluster is a sequence of one or more Unicode code points that must be treatead as a single, unbreakable character.&quot;<p>&quot;Starting roughly in 2014, Unicode has been releasing a major revision of their standard every year.&quot;<p>&quot;Å&quot; === &quot;Å&quot;
&quot;Å&quot; === &quot;Å&quot;
&quot;Å&quot; === &quot;Å&quot;
What do you get? False? You should get false, and it’s not a mistake.<p>&quot;That’s why we need normalization.&quot;<p>&quot;Unicode is locale-dependent&quot;<p>The article forgot one: characters that switch presentation to right-to-left.</div><br/></div></div><div id="37741274" class="c"><input type="checkbox" id="c-37741274" checked=""/><div class="controls bullet"><span class="by">thyselius</span><span>|</span><a href="#37743083">prev</a><span>|</span><a href="#37738257">next</a><span>|</span><label class="collapse" for="c-37741274">[-]</label><label class="expand" for="c-37741274">[7 more]</label></div><br/><div class="children"><div class="content">Wonderful to learn more about Unicode.<p>Does anyone know how to write a function (preferably in swift) to remove emoji? This is surprisingly hard (if the string can be any language, like English or Chinese).<p>There’s been multiple attempts on Stackoverflow but they’re all missing some of them, as Unicode is so complex.</div><br/><div id="37741718" class="c"><input type="checkbox" id="c-37741718" checked=""/><div class="controls bullet"><span class="by">fiedzia</span><span>|</span><a href="#37741274">parent</a><span>|</span><a href="#37743374">next</a><span>|</span><label class="collapse" for="c-37741718">[-]</label><label class="expand" for="c-37741718">[1 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t tried but use libicu (icu). Split text into graphemes and remove anything starting with codepoints that has Zsey script. There should be swift bindings.</div><br/></div></div><div id="37743374" class="c"><input type="checkbox" id="c-37743374" checked=""/><div class="controls bullet"><span class="by">favorited</span><span>|</span><a href="#37741274">parent</a><span>|</span><a href="#37741718">prev</a><span>|</span><a href="#37738257">next</a><span>|</span><label class="collapse" for="c-37743374">[-]</label><label class="expand" for="c-37743374">[5 more]</label></div><br/><div class="children"><div class="content">Here&#x27;s a 1-liner, producing the string &quot;text  0123 漢字&quot;:<p>`String(&quot;text EMOJI 0123 漢字&quot;.unicodeScalars.filter({ !$0.properties.isEmojiPresentation }))`<p>(I&#x27;ve had to substitute EMOJI for a smiley face, because HN is bad at text encoding.)</div><br/><div id="37744124" class="c"><input type="checkbox" id="c-37744124" checked=""/><div class="controls bullet"><span class="by">thyselius</span><span>|</span><a href="#37741274">root</a><span>|</span><a href="#37743374">parent</a><span>|</span><a href="#37743674">next</a><span>|</span><label class="collapse" for="c-37744124">[-]</label><label class="expand" for="c-37744124">[3 more]</label></div><br/><div class="children"><div class="content">Thanks. Unfortunately both .isEmojiPresentation &amp;&amp; .isEmoji leaves many emojis out, like red heart and many other.</div><br/><div id="37744691" class="c"><input type="checkbox" id="c-37744691" checked=""/><div class="controls bullet"><span class="by">astrange</span><span>|</span><a href="#37741274">root</a><span>|</span><a href="#37744124">parent</a><span>|</span><a href="#37743674">next</a><span>|</span><label class="collapse" for="c-37744691">[-]</label><label class="expand" for="c-37744691">[2 more]</label></div><br/><div class="children"><div class="content">Those aren&#x27;t inherently emojis, the font just shows them as emojis, so you&#x27;d have to render the text.</div><br/><div id="37745303" class="c"><input type="checkbox" id="c-37745303" checked=""/><div class="controls bullet"><span class="by">favorited</span><span>|</span><a href="#37741274">root</a><span>|</span><a href="#37744691">parent</a><span>|</span><a href="#37743674">next</a><span>|</span><label class="collapse" for="c-37745303">[-]</label><label class="expand" for="c-37745303">[1 more]</label></div><br/><div class="children"><div class="content">Correct.  `isEmojiPresentation` checks if, per the Unicode standard, this scalar should default to an emoji presentation.</div><br/></div></div></div></div></div></div><div id="37743674" class="c"><input type="checkbox" id="c-37743674" checked=""/><div class="controls bullet"><span class="by">Retr0id</span><span>|</span><a href="#37741274">root</a><span>|</span><a href="#37743374">parent</a><span>|</span><a href="#37744124">prev</a><span>|</span><a href="#37738257">next</a><span>|</span><label class="collapse" for="c-37743674">[-]</label><label class="expand" for="c-37743674">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not a bug, HN deliberately strips emojis.</div><br/></div></div></div></div></div></div><div id="37738257" class="c"><input type="checkbox" id="c-37738257" checked=""/><div class="controls bullet"><span class="by">samatman</span><span>|</span><a href="#37741274">prev</a><span>|</span><a href="#37744284">next</a><span>|</span><label class="collapse" for="c-37738257">[-]</label><label class="expand" for="c-37738257">[2 more]</label></div><br/><div class="children"><div class="content">Please don&#x27;t refer to codepoints as characters. Some are, some are not, it isn&#x27;t a useful or informative approximation, it&#x27;s just wrong. Unicode is a table which assigns unique numbers to different <i>codepoints</i>, most of which are characters. ZWJ is not a character at all, and extended grapheme clusters made of several codepoints are.</div><br/><div id="37744300" class="c"><input type="checkbox" id="c-37744300" checked=""/><div class="controls bullet"><span class="by">skitter</span><span>|</span><a href="#37738257">parent</a><span>|</span><a href="#37744284">next</a><span>|</span><label class="collapse" for="c-37744300">[-]</label><label class="expand" for="c-37744300">[1 more]</label></div><br/><div class="children"><div class="content">&#x27;Character&#x27; doesn&#x27;t have a single meaning. ZWJ is a character according to definitions (2) and (3) in <a href="https:&#x2F;&#x2F;unicode.org&#x2F;glossary&#x2F;#character" rel="nofollow noreferrer">https:&#x2F;&#x2F;unicode.org&#x2F;glossary&#x2F;#character</a></div><br/></div></div></div></div><div id="37744284" class="c"><input type="checkbox" id="c-37744284" checked=""/><div class="controls bullet"><span class="by">loeg</span><span>|</span><a href="#37738257">prev</a><span>|</span><a href="#37739346">next</a><span>|</span><label class="collapse" for="c-37744284">[-]</label><label class="expand" for="c-37744284">[5 more]</label></div><br/><div class="children"><div class="content">Pretty clearly, &quot;every software developer&quot; doesn&#x27;t need to understand Unicode with this level of familiarity, much like &quot;every programmer&quot; doesn&#x27;t need to know the full contents of the 114 page Drepper paper.  For example, I work on a GUID-addressed object store.  Everything is in term of bytes and 128-bit UUIDs.  Unicode is irrelevant to everyone on my team, and most adjacent teams.  There is lots of software like this.</div><br/><div id="37745777" class="c"><input type="checkbox" id="c-37745777" checked=""/><div class="controls bullet"><span class="by">PeterisP</span><span>|</span><a href="#37744284">parent</a><span>|</span><a href="#37745610">next</a><span>|</span><label class="collapse" for="c-37745777">[-]</label><label class="expand" for="c-37745777">[2 more]</label></div><br/><div class="children"><div class="content">There seems to be quite large segments of developers working on functionality which &quot;handles text&quot; as immutable whole blobs, in which case one really doesn&#x27;t have to know anything about unicode.<p>However, as soon as you want to look <i>into</i> the text contents of the objects of that object store and handle <i>parts</i> of it, even in the very simplest way (e.g. checking whether the stored object contains some character, or whether two text messages stored in that object store are the same) then you can&#x27;t treat them as bytes anymore, and all the concerns listed in this article suddenly become relevant for your team.</div><br/><div id="37746016" class="c"><input type="checkbox" id="c-37746016" checked=""/><div class="controls bullet"><span class="by">loeg</span><span>|</span><a href="#37744284">root</a><span>|</span><a href="#37745777">parent</a><span>|</span><a href="#37745610">next</a><span>|</span><label class="collapse" for="c-37746016">[-]</label><label class="expand" for="c-37746016">[1 more]</label></div><br/><div class="children"><div class="content">Yes, exactly.</div><br/></div></div></div></div><div id="37745610" class="c"><input type="checkbox" id="c-37745610" checked=""/><div class="controls bullet"><span class="by">koreth1</span><span>|</span><a href="#37744284">parent</a><span>|</span><a href="#37745777">prev</a><span>|</span><a href="#37746733">next</a><span>|</span><label class="collapse" for="c-37745610">[-]</label><label class="expand" for="c-37745610">[1 more]</label></div><br/><div class="children"><div class="content">Glad I&#x27;m not the only one who was irked by this, and I <i>do</i> need to know a lot about Unicode for my job!<p>I believe there actually are topics that every software developer ought to know something about, but this isn&#x27;t one of them. My list would be things more like, the difference between a constant-time algorithm and a quadratic-time one.</div><br/></div></div><div id="37746733" class="c"><input type="checkbox" id="c-37746733" checked=""/><div class="controls bullet"><span class="by">fomine3</span><span>|</span><a href="#37744284">parent</a><span>|</span><a href="#37745610">prev</a><span>|</span><a href="#37739346">next</a><span>|</span><label class="collapse" for="c-37746733">[-]</label><label class="expand" for="c-37746733">[1 more]</label></div><br/><div class="children"><div class="content">Every programmer don&#x27;t have to remember all things in this article, but they should remember that Unicode (or text system in the wild) is actually complex so they should research as needed.</div><br/></div></div></div></div><div id="37739346" class="c"><input type="checkbox" id="c-37739346" checked=""/><div class="controls bullet"><span class="by">moelf</span><span>|</span><a href="#37744284">prev</a><span>|</span><label class="collapse" for="c-37739346">[-]</label><label class="expand" for="c-37739346">[4 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  &gt; The only modern language that gets it right is Swift:
</code></pre>
arguably not true:<p><pre><code>  julia&gt; using Unicode

  # for some reason HN doesn&#x27;t allow emoji
  julia&gt; graphemes(&quot; &quot;)
  length-1 GraphemeIterator{String} for &quot; &quot;

  help?&gt; graphemes
  search: graphemes

  graphemes(s::AbstractString) -&gt; GraphemeIterator


  Return an iterator over substrings of s that correspond to the extended graphemes in the string, as defined by Unicode UAX #29. (Roughly, these are what users would perceive as single characters, even though they may contain more than one codepoint; for example a letter combined
  with an accent mark is a single grapheme.)</code></pre></div><br/><div id="37739946" class="c"><input type="checkbox" id="c-37739946" checked=""/><div class="controls bullet"><span class="by">SyrupThinker</span><span>|</span><a href="#37739346">parent</a><span>|</span><a href="#37739793">next</a><span>|</span><label class="collapse" for="c-37739946">[-]</label><label class="expand" for="c-37739946">[1 more]</label></div><br/><div class="children"><div class="content">I imagine the author would disagree with that because it does not have the “right” behavior by default.<p>For example indexing and length of the string are done by codeunit. [1]<p>On the other hand Rakus Str type does behave similarly to Swifts: indexing, length and iteration by grapheme; view methods for specific encodings. [2]<p>[1]: <a href="https:&#x2F;&#x2F;docs.julialang.org&#x2F;en&#x2F;v1&#x2F;base&#x2F;strings&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.julialang.org&#x2F;en&#x2F;v1&#x2F;base&#x2F;strings&#x2F;</a>
[2]: <a href="https:&#x2F;&#x2F;docs.raku.org&#x2F;type&#x2F;Str#routine_chars" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.raku.org&#x2F;type&#x2F;Str#routine_chars</a></div><br/></div></div><div id="37739793" class="c"><input type="checkbox" id="c-37739793" checked=""/><div class="controls bullet"><span class="by">JRaspass</span><span>|</span><a href="#37739346">parent</a><span>|</span><a href="#37739946">prev</a><span>|</span><a href="#37739548">next</a><span>|</span><label class="collapse" for="c-37739793">[-]</label><label class="expand" for="c-37739793">[1 more]</label></div><br/><div class="children"><div class="content">Raku also gets it right.</div><br/></div></div><div id="37739548" class="c"><input type="checkbox" id="c-37739548" checked=""/><div class="controls bullet"><span class="by">gwbas1c</span><span>|</span><a href="#37739346">parent</a><span>|</span><a href="#37739793">prev</a><span>|</span><label class="collapse" for="c-37739548">[-]</label><label class="expand" for="c-37739548">[1 more]</label></div><br/><div class="children"><div class="content">Julia is not a major language like Swift.</div><br/></div></div></div></div></div></div></div></div></div></body></html>