<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1724058071688" as="style"/><link rel="stylesheet" href="styles.css?v=1724058071688"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/TomWright/dasel">Dasel: Select, put and delete data from JSON, TOML, YAML, XML and CSV</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>edward</span> | <span>58 comments</span></div><br/><div><div id="41282643" class="c"><input type="checkbox" id="c-41282643" checked=""/><div class="controls bullet"><span class="by">0thgen</span><span>|</span><a href="#41283050">next</a><span>|</span><label class="collapse" for="c-41282643">[-]</label><label class="expand" for="c-41282643">[14 more]</label></div><br/><div class="children"><div class="content">I like the idea of using select&#x2F;put&#x2F;delete (sql-style syntax) to query non-rdb data storage. It sort of raises the question of, could there be 1 universal language to query relational databases, text file storage (json, csv, etc), and anything else.<p>Or put another way, is there any data storage format that couldn’t be queried by SQL?</div><br/><div id="41286114" class="c"><input type="checkbox" id="c-41286114" checked=""/><div class="controls bullet"><span class="by">acjohnson55</span><span>|</span><a href="#41282643">parent</a><span>|</span><a href="#41283093">next</a><span>|</span><label class="collapse" for="c-41286114">[-]</label><label class="expand" for="c-41286114">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s basically SQL. Many SQL systems have lots of built in connectivity to various data sources.<p>DuckDB is a good example of a (literally) serverless SQL-based tool for data processing. It is designed to be able to treat the common data serialization formats as though they are tables in a schema [1], and you can export to many of the same formats. With extensions, you can also connect to relational databases as foreign tables.<p>This connectivity is a big reason it has built a pretty avid following in the data science world.<p>[1] <a href="https:&#x2F;&#x2F;duckdb.org&#x2F;docs&#x2F;data&#x2F;overview" rel="nofollow">https:&#x2F;&#x2F;duckdb.org&#x2F;docs&#x2F;data&#x2F;overview</a><p>[2] <a href="https:&#x2F;&#x2F;duckdb.org&#x2F;docs&#x2F;extensions&#x2F;json#json-importexport" rel="nofollow">https:&#x2F;&#x2F;duckdb.org&#x2F;docs&#x2F;extensions&#x2F;json#json-importexport</a><p>[3] <a href="https:&#x2F;&#x2F;duckdb.org&#x2F;docs&#x2F;extensions&#x2F;postgres" rel="nofollow">https:&#x2F;&#x2F;duckdb.org&#x2F;docs&#x2F;extensions&#x2F;postgres</a></div><br/></div></div><div id="41283093" class="c"><input type="checkbox" id="c-41283093" checked=""/><div class="controls bullet"><span class="by">TeMPOraL</span><span>|</span><a href="#41282643">parent</a><span>|</span><a href="#41286114">prev</a><span>|</span><a href="#41283706">next</a><span>|</span><label class="collapse" for="c-41283093">[-]</label><label class="expand" for="c-41283093">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Or put another way, is there any data storage format that couldn’t be queried by SQL?</i><p>Is your SQL Turing-complete? If yes, then it could query anything. Whether or not you&#x27;d like the experience is another thing.<p>Queries are programs. Querying data from a fixed schema, is easy. Hell, you could make an &quot;universal query language&quot; by just concatenating together this dasel, with SQL and Cypher, so you&#x27;d use the relevant facet when querying a specific data source. The real problem starts when your query structure isn&#x27;t fixed - where what data you need depends on what the data says. When you&#x27;re dealing with indirection. Once you start doing joins or conditionals or `foo[bar[&#x27;baz&#x27;]] if bar.hasProperty(&#x27;baz&#x27;) else 42` kind of indirection, you quickly land in the Turing tarpit[0] - whatever your query language is, some shapes of data will be super painful for it to deal with. Painful, but still possible.<p>--<p>[0] - <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Turing_tarpit" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Turing_tarpit</a></div><br/></div></div><div id="41283706" class="c"><input type="checkbox" id="c-41283706" checked=""/><div class="controls bullet"><span class="by">gumby</span><span>|</span><a href="#41282643">parent</a><span>|</span><a href="#41283093">prev</a><span>|</span><a href="#41282819">next</a><span>|</span><label class="collapse" for="c-41283706">[-]</label><label class="expand" for="c-41283706">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It sort of raises the question of, could there be 1 universal language to query relational databases, text file storage (json, csv, etc), and anything else.<p>Sure there <i>could</i> be -- any turing-complete language (which SQL is) can query anything.<p>But the reason we have different programming languages* is because they have different affordances and make it easy to express certain things at the cost of being less convenient for other things.  Thus APL&#x2F;Prolog&#x2F;Lisp&#x2F;C&#x2F;Python can all coexist.<p>SQL is great for relational databases, but it&#x27;s like commuting to work in a tank when it comes to key-value stores.<p>* and of course because programmers love building tools, and a language is the ultimate tool.</div><br/><div id="41283942" class="c"><input type="checkbox" id="c-41283942" checked=""/><div class="controls bullet"><span class="by">sweeter</span><span>|</span><a href="#41282643">root</a><span>|</span><a href="#41283706">parent</a><span>|</span><a href="#41282819">next</a><span>|</span><label class="collapse" for="c-41283942">[-]</label><label class="expand" for="c-41283942">[1 more]</label></div><br/><div class="children"><div class="content">sounds like a nightmare to do logistically. it would be cool though.</div><br/></div></div></div></div><div id="41282819" class="c"><input type="checkbox" id="c-41282819" checked=""/><div class="controls bullet"><span class="by">Derelicte</span><span>|</span><a href="#41282643">parent</a><span>|</span><a href="#41283706">prev</a><span>|</span><a href="#41282779">next</a><span>|</span><label class="collapse" for="c-41282819">[-]</label><label class="expand" for="c-41282819">[2 more]</label></div><br/><div class="children"><div class="content">There are a lot of differences between storage formats. It would be incredibly difficult to create a universal query language. It would need to either a) change the storage formats so much that they&#x27;re not really following their original standard, or b) create so many different versions of the query language that it&#x27;s not really one standard.<p>Off the top of my head, SQL can&#x27;t do lists as values, and doesn&#x27;t have simple key-value storage. Json doesn&#x27;t have tables, or primary keys &#x2F; foreign keys, and can have nested data</div><br/><div id="41282955" class="c"><input type="checkbox" id="c-41282955" checked=""/><div class="controls bullet"><span class="by">esprehn</span><span>|</span><a href="#41282643">root</a><span>|</span><a href="#41282819">parent</a><span>|</span><a href="#41282779">next</a><span>|</span><label class="collapse" for="c-41282955">[-]</label><label class="expand" for="c-41282955">[1 more]</label></div><br/><div class="children"><div class="content">SQL has both standard JSON and Array functions. What&#x27;s the &quot;list as value&quot; feature you think is missing?</div><br/></div></div></div></div><div id="41282779" class="c"><input type="checkbox" id="c-41282779" checked=""/><div class="controls bullet"><span class="by">IgorPartola</span><span>|</span><a href="#41282643">parent</a><span>|</span><a href="#41282819">prev</a><span>|</span><a href="#41283091">next</a><span>|</span><label class="collapse" for="c-41282779">[-]</label><label class="expand" for="c-41282779">[1 more]</label></div><br/><div class="children"><div class="content">From what I understand SQL is or at least can be made Turing complete so in that sense you should be able to query any data store using it. However, that doesn’t mean it will be efficient to do so.<p>I suspect for most data structures you could construct an index to make querying faster. But think about querying something like a linked list: it is not going to be too efficient without an index but you should still be able to write an engine that will do so.<p>If you have something like a collection of arbitrary JSON objects without a set structure you should still be able to express what you are trying to do with SQL because Turing completeness means it can examine the object structure as well as contents before deciding what to do with it. But your SQL would look more like procedural code than you might be used to.</div><br/></div></div><div id="41283091" class="c"><input type="checkbox" id="c-41283091" checked=""/><div class="controls bullet"><span class="by">slightwinder</span><span>|</span><a href="#41282643">parent</a><span>|</span><a href="#41282779">prev</a><span>|</span><a href="#41287481">next</a><span>|</span><label class="collapse" for="c-41283091">[-]</label><label class="expand" for="c-41283091">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Or put another way, is there any data storage format that couldn’t be queried by SQL?<p>Depends on how keen you are on pure SQL. For example, postgres and sqlite have json-extensions, but they also enhance the syntax for it. Simliar can be done for all other formats too, but this means you need to learn special syntax and be aware of the storage-format for every query. This is far off from a real universal language.</div><br/></div></div><div id="41287481" class="c"><input type="checkbox" id="c-41287481" checked=""/><div class="controls bullet"><span class="by">username135</span><span>|</span><a href="#41282643">parent</a><span>|</span><a href="#41283091">prev</a><span>|</span><a href="#41282843">next</a><span>|</span><label class="collapse" for="c-41287481">[-]</label><label class="expand" for="c-41287481">[1 more]</label></div><br/><div class="children"><div class="content">SAS is good at reading pretty much anything.</div><br/></div></div><div id="41282843" class="c"><input type="checkbox" id="c-41282843" checked=""/><div class="controls bullet"><span class="by">Perz1val</span><span>|</span><a href="#41282643">parent</a><span>|</span><a href="#41287481">prev</a><span>|</span><a href="#41285366">next</a><span>|</span><label class="collapse" for="c-41282843">[-]</label><label class="expand" for="c-41282843">[2 more]</label></div><br/><div class="children"><div class="content">XML attributes come to mind</div><br/><div id="41282898" class="c"><input type="checkbox" id="c-41282898" checked=""/><div class="controls bullet"><span class="by">lagniappe</span><span>|</span><a href="#41282643">root</a><span>|</span><a href="#41282843">parent</a><span>|</span><a href="#41285366">next</a><span>|</span><label class="collapse" for="c-41282898">[-]</label><label class="expand" for="c-41282898">[1 more]</label></div><br/><div class="children"><div class="content">Perz1val, it&#x27;s me, your grandchild from the distant future. Don&#x27;t do this. XML goes rogue and destroys humanity.</div><br/></div></div></div></div><div id="41285366" class="c"><input type="checkbox" id="c-41285366" checked=""/><div class="controls bullet"><span class="by">wslh</span><span>|</span><a href="#41282643">parent</a><span>|</span><a href="#41282843">prev</a><span>|</span><a href="#41284414">next</a><span>|</span><label class="collapse" for="c-41285366">[-]</label><label class="expand" for="c-41285366">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It sort of raises the question of, could there be 1 universal language to query relational databases...<p>Even if SQL and&#x2F;or another query language could be Turing-complete, that doesn&#x27;t mean that you can have 1 universal language to perform all possible queries in an efficient way. In basic computer science terms that means that your data structure is linked with the queries, and efficiency you want to achieve, and ad-hoc changes should be created for specific problems.</div><br/></div></div><div id="41284414" class="c"><input type="checkbox" id="c-41284414" checked=""/><div class="controls bullet"><span class="by">ablob</span><span>|</span><a href="#41282643">parent</a><span>|</span><a href="#41285366">prev</a><span>|</span><a href="#41283050">next</a><span>|</span><label class="collapse" for="c-41284414">[-]</label><label class="expand" for="c-41284414">[1 more]</label></div><br/><div class="children"><div class="content">If entries can be relations themselves it is not possible afaik. For example<p><pre><code>  User | Telephone Numbers
  -----+------------------
  A    | 123, 456           &lt;- not atomic; more than 1 number (i.e. a set)
  B    | 789
</code></pre>
Now there are academic operators to convert to and from a purely relational system, but I don&#x27;t think they are implemented&#x2F;in the standard. I forgot what they are called, however.<p>In general you don&#x27;t want a universal query language. Depending on the shape of the data you want different things to be easily expressible. You can, for example express queries on tree-shaped data with SQL (see xPath-Accelerator), but it is quite cumbersome and its meaning is lost to the reader. I.e.: It&#x27;s fine when computer-generated, but there is too much noise for a human to read&#x2F;write themselves.
I&#x27;d be glad to be proven wrong here, but as time has shown, there is no one size fits all for programming languages. The requirements for different applications just vary too much.</div><br/></div></div></div></div><div id="41283050" class="c"><input type="checkbox" id="c-41283050" checked=""/><div class="controls bullet"><span class="by">FireInsight</span><span>|</span><a href="#41282643">prev</a><span>|</span><a href="#41284326">next</a><span>|</span><label class="collapse" for="c-41283050">[-]</label><label class="expand" for="c-41283050">[3 more]</label></div><br/><div class="children"><div class="content">I like using Nushell for this. It has a `from` builtin for all sorts of formats <a href="https:&#x2F;&#x2F;www.nushell.sh&#x2F;commands&#x2F;categories&#x2F;formats.html" rel="nofollow">https:&#x2F;&#x2F;www.nushell.sh&#x2F;commands&#x2F;categories&#x2F;formats.html</a> and after that the data is just tables, which you can query with other builtins and syntax <a href="https:&#x2F;&#x2F;www.nushell.sh&#x2F;book&#x2F;navigating_structured_data.html" rel="nofollow">https:&#x2F;&#x2F;www.nushell.sh&#x2F;book&#x2F;navigating_structured_data.html</a></div><br/><div id="41285714" class="c"><input type="checkbox" id="c-41285714" checked=""/><div class="controls bullet"><span class="by">RulerOf</span><span>|</span><a href="#41283050">parent</a><span>|</span><a href="#41284326">next</a><span>|</span><label class="collapse" for="c-41285714">[-]</label><label class="expand" for="c-41285714">[2 more]</label></div><br/><div class="children"><div class="content">I got really excited when I saw `from_ini` but disappointed when I saw no `to_ini`.<p>I would really like to find a good workflow for idempotent modifications to INI files, but haven&#x27;t stumbled across one yet.</div><br/><div id="41288974" class="c"><input type="checkbox" id="c-41288974" checked=""/><div class="controls bullet"><span class="by">saint_yossarian</span><span>|</span><a href="#41283050">root</a><span>|</span><a href="#41285714">parent</a><span>|</span><a href="#41284326">next</a><span>|</span><label class="collapse" for="c-41288974">[-]</label><label class="expand" for="c-41288974">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m abusing `git config -f $PATH` as a poor man&#x27;s portable INI parser&#x2F;modifier in shell scripts, works pretty well but imposes some Git-specific syntax limitations.</div><br/></div></div></div></div></div></div><div id="41284326" class="c"><input type="checkbox" id="c-41284326" checked=""/><div class="controls bullet"><span class="by">arandomhuman</span><span>|</span><a href="#41283050">prev</a><span>|</span><a href="#41282589">next</a><span>|</span><label class="collapse" for="c-41284326">[-]</label><label class="expand" for="c-41284326">[1 more]</label></div><br/><div class="children"><div class="content">Shameless plug but if you’re a fan of jq style querying rather than sql for some reason you can also use qq[0] for these and a few other formats.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;JFryy&#x2F;qq">https:&#x2F;&#x2F;github.com&#x2F;JFryy&#x2F;qq</a></div><br/></div></div><div id="41282589" class="c"><input type="checkbox" id="c-41282589" checked=""/><div class="controls bullet"><span class="by">michaelcampbell</span><span>|</span><a href="#41284326">prev</a><span>|</span><a href="#41288501">next</a><span>|</span><label class="collapse" for="c-41282589">[-]</label><label class="expand" for="c-41282589">[15 more]</label></div><br/><div class="children"><div class="content">Neat; seems about every quarter or so one of these types of tools is highlighted here.<p>Awaiting all the responses from people to show off or list what tool they&#x27;ve landed on to support their specific use cases; I always learn a lot from these.</div><br/><div id="41282644" class="c"><input type="checkbox" id="c-41282644" checked=""/><div class="controls bullet"><span class="by">digdugdirk</span><span>|</span><a href="#41282589">parent</a><span>|</span><a href="#41284737">next</a><span>|</span><label class="collapse" for="c-41282644">[-]</label><label class="expand" for="c-41282644">[13 more]</label></div><br/><div class="children"><div class="content">I&#x27;m a bit confused as to the use case. Is it just a way to interact with json&#x2F;yaml style documents as if they were a structured database, but from the command line? Kind of an in-between for those moments you don&#x27;t want to write a quick script to batch modify files?<p>It looks really well done, I think I&#x27;m just failing to see how this is more beneficial than just opening a single file in the editor and making changes, or writing a quick functional script so you have the history of the changes that were made to a batch of files.<p>If someone could explain how I could (and why I should) add a new tool to my digital toolbelt, I&#x27;d greatly appreciate it.</div><br/><div id="41283115" class="c"><input type="checkbox" id="c-41283115" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#41282589">root</a><span>|</span><a href="#41282644">parent</a><span>|</span><a href="#41286317">next</a><span>|</span><label class="collapse" for="c-41283115">[-]</label><label class="expand" for="c-41283115">[1 more]</label></div><br/><div class="children"><div class="content">I use jq for this kind of thing several times a week. It’s great for piped data - things like running curl to fetch JSON, then piping it though to reformat it in different ways.<p>Here’s a jq expression I used recently to turn a complete GitHub Issues thread into a single Markdown document:<p><pre><code>    curl -s &quot;https:&#x2F;&#x2F;api.github.com&#x2F;repos&#x2F;simonw&#x2F;shot-scraper&#x2F;issues&#x2F;1&#x2F;comments&quot; \
      | jq -r &#x27;.[] | &quot;## Comment by \(.user.login) on \(.created_at)\n\n\(.body)\n&quot;&#x27;
</code></pre>
I use this pattern a lot. Data often comes in slightly the wrong shape - being able to fix that with a one-liner terminal command is really useful.</div><br/></div></div><div id="41286317" class="c"><input type="checkbox" id="c-41286317" checked=""/><div class="controls bullet"><span class="by">Natfan</span><span>|</span><a href="#41282589">root</a><span>|</span><a href="#41282644">parent</a><span>|</span><a href="#41283115">prev</a><span>|</span><a href="#41284259">next</a><span>|</span><label class="collapse" for="c-41286317">[-]</label><label class="expand" for="c-41286317">[1 more]</label></div><br/><div class="children"><div class="content">PowerShell[0]&#x27;s built-in Microsoft.PowerShell.Utility[1] module has commands to `Convert-From...` or `Convert-To...` JSON, CSV, a version of XML (CliXML), or custom key&#x2F;value pairs (StringData) into objects, which can then be manipulated. Combined with IO cmdlets from the built-in module Microsoft.PowerShell.Management[2] such as `Get-Content` and `Set-Content`, a fair chunk of flat-file storage should be able to be made mutable with PowerShell.<p>---<p>[0]: <a href="https:&#x2F;&#x2F;microsoft.com&#x2F;powershell" rel="nofollow">https:&#x2F;&#x2F;microsoft.com&#x2F;powershell</a><p>[1]: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;powershell&#x2F;module&#x2F;microsoft.powershell.utility" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;powershell&#x2F;module&#x2F;microsoft.powe...</a><p>[2]: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;powershell&#x2F;module&#x2F;microsoft.powershell.management" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;powershell&#x2F;module&#x2F;microsoft.powe...</a></div><br/></div></div><div id="41284259" class="c"><input type="checkbox" id="c-41284259" checked=""/><div class="controls bullet"><span class="by">tofflos</span><span>|</span><a href="#41282589">root</a><span>|</span><a href="#41282644">parent</a><span>|</span><a href="#41286317">prev</a><span>|</span><a href="#41282728">next</a><span>|</span><label class="collapse" for="c-41284259">[-]</label><label class="expand" for="c-41284259">[3 more]</label></div><br/><div class="children"><div class="content">I used yq last week to scan through all the Java projects (i.e. Maven pom.xml-files) within our org to check which ones inherit from the corporate pom.<p><pre><code>  yq eval --input-format xml --output-format csv &#x27;[file_index, file_name, .project.parent.groupId, .project.parent.artifactId, .project.parent.version]&#x27; **&#x2F;pom.xml</code></pre></div><br/><div id="41284754" class="c"><input type="checkbox" id="c-41284754" checked=""/><div class="controls bullet"><span class="by">hnlmorg</span><span>|</span><a href="#41282589">root</a><span>|</span><a href="#41284259">parent</a><span>|</span><a href="#41282728">next</a><span>|</span><label class="collapse" for="c-41284754">[-]</label><label class="expand" for="c-41284754">[2 more]</label></div><br/><div class="children"><div class="content">Which yq? Last time I checked, there seemed to be a few tools with the same name.</div><br/><div id="41288547" class="c"><input type="checkbox" id="c-41288547" checked=""/><div class="controls bullet"><span class="by">srott</span><span>|</span><a href="#41282589">root</a><span>|</span><a href="#41284754">parent</a><span>|</span><a href="#41282728">next</a><span>|</span><label class="collapse" for="c-41288547">[-]</label><label class="expand" for="c-41288547">[1 more]</label></div><br/><div class="children"><div class="content">The “go” yq<p><a href="https:&#x2F;&#x2F;github.com&#x2F;mikefarah&#x2F;yq">https:&#x2F;&#x2F;github.com&#x2F;mikefarah&#x2F;yq</a><p>| yq is a portable command-line YAML, JSON, XML, CSV, TOML and properties processor</div><br/></div></div></div></div></div></div><div id="41282728" class="c"><input type="checkbox" id="c-41282728" checked=""/><div class="controls bullet"><span class="by">Lord_Zero</span><span>|</span><a href="#41282589">root</a><span>|</span><a href="#41282644">parent</a><span>|</span><a href="#41284259">prev</a><span>|</span><a href="#41282703">next</a><span>|</span><label class="collapse" for="c-41282728">[-]</label><label class="expand" for="c-41282728">[2 more]</label></div><br/><div class="children"><div class="content">This could be useful for CICD where you need to bump a version number in a file based on the build number.</div><br/><div id="41284064" class="c"><input type="checkbox" id="c-41284064" checked=""/><div class="controls bullet"><span class="by">kate_bits</span><span>|</span><a href="#41282589">root</a><span>|</span><a href="#41282728">parent</a><span>|</span><a href="#41282703">next</a><span>|</span><label class="collapse" for="c-41284064">[-]</label><label class="expand" for="c-41284064">[1 more]</label></div><br/><div class="children"><div class="content">For this specific use case? sed would work just as well and probably already exists in your environment.</div><br/></div></div></div></div><div id="41282703" class="c"><input type="checkbox" id="c-41282703" checked=""/><div class="controls bullet"><span class="by">supriyo-biswas</span><span>|</span><a href="#41282589">root</a><span>|</span><a href="#41282644">parent</a><span>|</span><a href="#41282728">prev</a><span>|</span><a href="#41283075">next</a><span>|</span><label class="collapse" for="c-41282703">[-]</label><label class="expand" for="c-41282703">[1 more]</label></div><br/><div class="children"><div class="content">For things that are mostly shell scripts and things in a similar family (Ansible playbooks, deployment pipelines etc.) and where you need to modify a structured file quickly, it&#x27;s usually much faster to use the DSL provided by the tool than calling out to various scripts to extract or modify a single JSON key.<p>People often say that they&#x27;d prefer to write their shell scripts in Python or even Go these days, but the problem there is that the elements of structured programming makes the overall steps difficult to follow. Typically, the paradigm with use cases adjacent with shell scripts is to be able to view what it is doing without any sort of abstractions.</div><br/></div></div><div id="41283075" class="c"><input type="checkbox" id="c-41283075" checked=""/><div class="controls bullet"><span class="by">fsckboy</span><span>|</span><a href="#41282589">root</a><span>|</span><a href="#41282644">parent</a><span>|</span><a href="#41282703">prev</a><span>|</span><a href="#41282740">next</a><span>|</span><label class="collapse" for="c-41283075">[-]</label><label class="expand" for="c-41283075">[1 more]</label></div><br/><div class="children"><div class="content">the in-between mode that you mention but seem to dismiss it is the way most traditional unixheads work with data most of the time: from the command line<p>editor? when i pull up emacs, 50% of the time it&#x27;s write emacs macros, and I do that because shell scripts don&#x27;t easily go backward in the stream. (something rarely mentioned about teco was that it was a stream editor that would chew its way forward through files; you didn&#x27;t need the memory to keep it all in core, and it could go backward within understandable limits)<p>writing an actual shellscript is only for when it&#x27;s really hairy, you are going to be repeating it and&#x2F;or you need the types of error handling that cloud up the clarity of the commandline<p>the commandline does provide rudimentary &quot;records&quot; in the saved history</div><br/></div></div><div id="41282740" class="c"><input type="checkbox" id="c-41282740" checked=""/><div class="controls bullet"><span class="by">macNchz</span><span>|</span><a href="#41282589">root</a><span>|</span><a href="#41282644">parent</a><span>|</span><a href="#41283075">prev</a><span>|</span><a href="#41282676">next</a><span>|</span><label class="collapse" for="c-41282740">[-]</label><label class="expand" for="c-41282740">[1 more]</label></div><br/><div class="children"><div class="content">I see the appeal of having a declarative syntax rather than  writing a bunch of code to make the change reliably and safely.</div><br/></div></div><div id="41282676" class="c"><input type="checkbox" id="c-41282676" checked=""/><div class="controls bullet"><span class="by">0thgen</span><span>|</span><a href="#41282589">root</a><span>|</span><a href="#41282644">parent</a><span>|</span><a href="#41282740">prev</a><span>|</span><a href="#41284229">next</a><span>|</span><label class="collapse" for="c-41282676">[-]</label><label class="expand" for="c-41282676">[1 more]</label></div><br/><div class="children"><div class="content">one benefit (idk if it applies here) is if the select&#x2F;put&#x2F;delete statements didn’t require loading the data in memory; so you could query massive data files with limited RAM and not have to solve that problem yourself for each data storage format you’re working with</div><br/></div></div><div id="41284229" class="c"><input type="checkbox" id="c-41284229" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#41282589">root</a><span>|</span><a href="#41282644">parent</a><span>|</span><a href="#41282676">prev</a><span>|</span><a href="#41284737">next</a><span>|</span><label class="collapse" for="c-41284229">[-]</label><label class="expand" for="c-41284229">[1 more]</label></div><br/><div class="children"><div class="content">&gt; or writing a quick functional script<p>It&#x27;s exactly a quick functional script.</div><br/></div></div></div></div><div id="41284737" class="c"><input type="checkbox" id="c-41284737" checked=""/><div class="controls bullet"><span class="by">hnlmorg</span><span>|</span><a href="#41282589">parent</a><span>|</span><a href="#41282644">prev</a><span>|</span><a href="#41288501">next</a><span>|</span><label class="collapse" for="c-41284737">[-]</label><label class="expand" for="c-41284737">[1 more]</label></div><br/><div class="children"><div class="content">Personally I think this is a problem better spent by fixing the shell. There’s a few alt shells out there now, Nushell, Elvish plus the one I help maintain, Murex (<a href="https:&#x2F;&#x2F;murex.rocks" rel="nofollow">https:&#x2F;&#x2F;murex.rocks</a>).<p>I’m obviously going to biased here, but it’s definitely worth your time checking out some alt shells.</div><br/></div></div></div></div><div id="41288501" class="c"><input type="checkbox" id="c-41288501" checked=""/><div class="controls bullet"><span class="by">ensocode</span><span>|</span><a href="#41282589">prev</a><span>|</span><a href="#41282729">next</a><span>|</span><label class="collapse" for="c-41288501">[-]</label><label class="expand" for="c-41288501">[1 more]</label></div><br/><div class="children"><div class="content">Thats very neat. Thanks. Would love to use that instead of dealing with XPath and JsonPath. But are there any client libraries for different languages, besides Go? I think having some Python, Java, C# client libs would be helpful to use it more commonly as if it were it&#x27;s own standard</div><br/></div></div><div id="41282729" class="c"><input type="checkbox" id="c-41282729" checked=""/><div class="controls bullet"><span class="by">montroser</span><span>|</span><a href="#41288501">prev</a><span>|</span><a href="#41284088">next</a><span>|</span><label class="collapse" for="c-41282729">[-]</label><label class="expand" for="c-41282729">[6 more]</label></div><br/><div class="children"><div class="content">Cool project -- but we need a standardized&#x2F;spec&#x27;d query language in order to realize the goals in the &quot;one tool to rule them all&quot; section of this readme.<p>I have a hard time internalizing the jq query syntax, and am not overly excited to invest in learning all the quirks when it&#x27;s not based on a widely-adopted open standard.  Maybe `JMESPath` could be the way forward.<p>Sometimes `gron` can be a pretty great alternative approach, depending on your use case.  At least it is very intuitive and plays nicely with other tools.</div><br/><div id="41282775" class="c"><input type="checkbox" id="c-41282775" checked=""/><div class="controls bullet"><span class="by">AtlasBarfed</span><span>|</span><a href="#41282729">parent</a><span>|</span><a href="#41284245">next</a><span>|</span><label class="collapse" for="c-41282775">[-]</label><label class="expand" for="c-41282775">[3 more]</label></div><br/><div class="children"><div class="content">Ultimately JSON, TOML, YAML, XML, properties files are tree structures, and XPath type syntax should roughly apply to them all, along with about a hundreds &quot;path expression&quot; languages (java had SpEL, velocity, JSP-EL, OGNL, and probably dozens of others).<p>XPath, although it had some clunky artifacts for XML (which was the reason we moved from XML like namespaces... ugh), had basically the apex of expression&#x2F;path&#x2F;navigation capabilites. It would be really nice to see XPath ported to a general nav language that is supported by all programming environments and handled all the relevant formats.</div><br/><div id="41283252" class="c"><input type="checkbox" id="c-41283252" checked=""/><div class="controls bullet"><span class="by">dleeftink</span><span>|</span><a href="#41282729">root</a><span>|</span><a href="#41282775">parent</a><span>|</span><a href="#41285683">next</a><span>|</span><label class="collapse" for="c-41283252">[-]</label><label class="expand" for="c-41283252">[1 more]</label></div><br/><div class="children"><div class="content">I still like Xidel[0] for this reason; it may be a little older, but for a CLI scraper a lot of data transformations needs can be satisfied with Xpath&#x2F;XQuery.<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;benibela&#x2F;xidel">https:&#x2F;&#x2F;github.com&#x2F;benibela&#x2F;xidel</a></div><br/></div></div><div id="41285683" class="c"><input type="checkbox" id="c-41285683" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#41282729">root</a><span>|</span><a href="#41282775">parent</a><span>|</span><a href="#41283252">prev</a><span>|</span><a href="#41284245">next</a><span>|</span><label class="collapse" for="c-41285683">[-]</label><label class="expand" for="c-41285683">[1 more]</label></div><br/><div class="children"><div class="content">Speaking of trees, gron&#x2F;ungron is an amazing transformer that allows one to use <i>any</i> query tool on the leaves of the tree and then turn the flattened structure back into a document (json).<p>I&#x27;d love to see gron&#x2F;ungron implemented for all tree structures.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;tomnomnom&#x2F;gron">https:&#x2F;&#x2F;github.com&#x2F;tomnomnom&#x2F;gron</a></div><br/></div></div></div></div><div id="41284245" class="c"><input type="checkbox" id="c-41284245" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#41282729">parent</a><span>|</span><a href="#41282775">prev</a><span>|</span><a href="#41283894">next</a><span>|</span><label class="collapse" for="c-41284245">[-]</label><label class="expand" for="c-41284245">[1 more]</label></div><br/><div class="children"><div class="content">Jq is far more useful&#x2F;capable than JMESPath.</div><br/></div></div></div></div><div id="41284088" class="c"><input type="checkbox" id="c-41284088" checked=""/><div class="controls bullet"><span class="by">mbrumlow</span><span>|</span><a href="#41282729">prev</a><span>|</span><a href="#41282696">next</a><span>|</span><label class="collapse" for="c-41284088">[-]</label><label class="expand" for="c-41284088">[2 more]</label></div><br/><div class="children"><div class="content">I can’t tell you how many times I’d have hobbled together a tool like this to use in go.  I will be converting to this.<p>Sometimes we don’t actually want to parse yaml, we just want to mutate it without needing to module the underlying objects.<p>Being able to select and replace, add data to an existing yaml document is a huge win for automation.</div><br/><div id="41285986" class="c"><input type="checkbox" id="c-41285986" checked=""/><div class="controls bullet"><span class="by">bbkane</span><span>|</span><a href="#41284088">parent</a><span>|</span><a href="#41282696">next</a><span>|</span><label class="collapse" for="c-41285986">[-]</label><label class="expand" for="c-41285986">[1 more]</label></div><br/><div class="children"><div class="content">Yes! This is especially powerful when combined with git-xargs to auto-open PRs with the results of the mutation.<p>I wrote about this a little in <a href="https:&#x2F;&#x2F;www.bbkane.com&#x2F;blog&#x2F;go-project-notes&#x2F;#scripting-changes-across-repos" rel="nofollow">https:&#x2F;&#x2F;www.bbkane.com&#x2F;blog&#x2F;go-project-notes&#x2F;#scripting-chan...</a> and it&#x27;s really helped me keepy GitHub workflows and various config files in sync across project repos</div><br/></div></div></div></div><div id="41282696" class="c"><input type="checkbox" id="c-41282696" checked=""/><div class="controls bullet"><span class="by">bloopernova</span><span>|</span><a href="#41284088">prev</a><span>|</span><a href="#41283594">next</a><span>|</span><label class="collapse" for="c-41282696">[-]</label><label class="expand" for="c-41282696">[3 more]</label></div><br/><div class="children"><div class="content">Having recently messed with JMESPath in AWS, I wonder which of these structured data tools:<p><pre><code>  - Is easier to learn
  - Has most&#x2F;best documentation 
  - Is faster to write in
</code></pre>
Does anyone know of a good comparison article?<p>(I still default to jq, I guess it has the momentum)</div><br/><div id="41282731" class="c"><input type="checkbox" id="c-41282731" checked=""/><div class="controls bullet"><span class="by">wodenokoto</span><span>|</span><a href="#41282696">parent</a><span>|</span><a href="#41283594">next</a><span>|</span><label class="collapse" for="c-41282731">[-]</label><label class="expand" for="c-41282731">[2 more]</label></div><br/><div class="children"><div class="content">Is there a JMESPath tool that works on json, yaml, toml, etc?</div><br/><div id="41282838" class="c"><input type="checkbox" id="c-41282838" checked=""/><div class="controls bullet"><span class="by">bloopernova</span><span>|</span><a href="#41282696">root</a><span>|</span><a href="#41282731">parent</a><span>|</span><a href="#41283594">next</a><span>|</span><label class="collapse" for="c-41282838">[-]</label><label class="expand" for="c-41282838">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think so, that&#x27;s a good point against it.<p>It&#x27;s heavily used by AWS and Azure though.</div><br/></div></div></div></div></div></div><div id="41283594" class="c"><input type="checkbox" id="c-41283594" checked=""/><div class="controls bullet"><span class="by">frou_dh</span><span>|</span><a href="#41282696">prev</a><span>|</span><a href="#41282784">next</a><span>|</span><label class="collapse" for="c-41283594">[-]</label><label class="expand" for="c-41283594">[1 more]</label></div><br/><div class="children"><div class="content">Another one for the big list:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;dbohdan&#x2F;structured-text-tools">https:&#x2F;&#x2F;github.com&#x2F;dbohdan&#x2F;structured-text-tools</a><p>In fact it&#x27;s already on it 6 times.</div><br/></div></div><div id="41282784" class="c"><input type="checkbox" id="c-41282784" checked=""/><div class="controls bullet"><span class="by">levzettelin</span><span>|</span><a href="#41283594">prev</a><span>|</span><a href="#41285446">next</a><span>|</span><label class="collapse" for="c-41282784">[-]</label><label class="expand" for="c-41282784">[2 more]</label></div><br/><div class="children"><div class="content">How often do you have to add singular entries to some data file your working with? For all other cases, Miller and xsv look more powerful.</div><br/><div id="41283109" class="c"><input type="checkbox" id="c-41283109" checked=""/><div class="controls bullet"><span class="by">notRobot</span><span>|</span><a href="#41282784">parent</a><span>|</span><a href="#41285446">next</a><span>|</span><label class="collapse" for="c-41283109">[-]</label><label class="expand" for="c-41283109">[1 more]</label></div><br/><div class="children"><div class="content">Often you&#x27;re adding multiple lines programmatically from a script or cron or whatever.</div><br/></div></div></div></div><div id="41285446" class="c"><input type="checkbox" id="c-41285446" checked=""/><div class="controls bullet"><span class="by">pixelbeat__</span><span>|</span><a href="#41282784">prev</a><span>|</span><a href="#41285854">next</a><span>|</span><label class="collapse" for="c-41285446">[-]</label><label class="expand" for="c-41285446">[1 more]</label></div><br/><div class="children"><div class="content">A similar tool for ini files
<a href="https:&#x2F;&#x2F;www.pixelbeat.org&#x2F;programs&#x2F;crudini&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.pixelbeat.org&#x2F;programs&#x2F;crudini&#x2F;</a></div><br/></div></div><div id="41285854" class="c"><input type="checkbox" id="c-41285854" checked=""/><div class="controls bullet"><span class="by">afh1</span><span>|</span><a href="#41285446">prev</a><span>|</span><a href="#41283328">next</a><span>|</span><label class="collapse" for="c-41285854">[-]</label><label class="expand" for="c-41285854">[1 more]</label></div><br/><div class="children"><div class="content">Interesting, but I guess yq already does that, albeit slower according to the README.</div><br/></div></div><div id="41283328" class="c"><input type="checkbox" id="c-41283328" checked=""/><div class="controls bullet"><span class="by">Gepsens</span><span>|</span><a href="#41285854">prev</a><span>|</span><a href="#41285877">next</a><span>|</span><label class="collapse" for="c-41283328">[-]</label><label class="expand" for="c-41283328">[1 more]</label></div><br/><div class="children"><div class="content">I think you need some kind of autocomplete here to make it worthwhile</div><br/></div></div><div id="41285877" class="c"><input type="checkbox" id="c-41285877" checked=""/><div class="controls bullet"><span class="by">gergely</span><span>|</span><a href="#41283328">prev</a><span>|</span><a href="#41284533">next</a><span>|</span><label class="collapse" for="c-41285877">[-]</label><label class="expand" for="c-41285877">[1 more]</label></div><br/><div class="children"><div class="content">I have 6 petabytes of parquet where I would need to replace 1 value in each line. Could it handle that?</div><br/></div></div><div id="41284533" class="c"><input type="checkbox" id="c-41284533" checked=""/><div class="controls bullet"><span class="by">ranger_danger</span><span>|</span><a href="#41285877">prev</a><span>|</span><a href="#41284722">next</a><span>|</span><label class="collapse" for="c-41284533">[-]</label><label class="expand" for="c-41284533">[2 more]</label></div><br/><div class="children"><div class="content">Why are terminal &quot;movies&quot; always a gif with no video controls that move at the speed of light?</div><br/><div id="41284797" class="c"><input type="checkbox" id="c-41284797" checked=""/><div class="controls bullet"><span class="by">hnlmorg</span><span>|</span><a href="#41284533">parent</a><span>|</span><a href="#41284722">next</a><span>|</span><label class="collapse" for="c-41284797">[-]</label><label class="expand" for="c-41284797">[1 more]</label></div><br/><div class="children"><div class="content">They aren’t always. There’s sites like asciinema (I hope I’ve spelt that right). But the problem is GitHub readme’s are pretty limited in what you can embed. So you either have to link out to another site, or embed an animated gif.</div><br/></div></div></div></div><div id="41284722" class="c"><input type="checkbox" id="c-41284722" checked=""/><div class="controls bullet"><span class="by">samstave</span><span>|</span><a href="#41284533">prev</a><span>|</span><a href="#41284742">next</a><span>|</span><label class="collapse" for="c-41284722">[-]</label><label class="expand" for="c-41284722">[2 more]</label></div><br/><div class="children"><div class="content">This was really cool to read:<p>Please open a discussion if:<p><pre><code>    You have a question.
    You&#x27;re not sure how to achieve something with dasel.
    You have an idea but don&#x27;t quite know how you would like it to work.
    You have achieved something cool with dasel and want to show it off.
    Anything else!

</code></pre>
---<p>I really like dasal.<p>Can I pipe a .csv to dasal and have it spit it out in JSON? And is that the best way to do that? (arent there like a ton of ways to achieve this, or would dasal make it super simple?)<p>Also, what would be interesting would be to be able to pull and scrape text, to put into a structured JSON.<p>For example - I was talking about using a Discrenment Lattice to construct a profile for a PERON PLACE THING that one was doing research on, such that you can pull multiple sources&#x2F;data-types for information on [SUBJECT] and have the knowledge dossier updated. Where, for example one could pull a lot of results that can be summarized by an GPT - then using Dasal to grab the relevant component-data-points and dasal-ize and feed them into the Discernment Lattice JSON File such as I described here:<p><a href="https:&#x2F;&#x2F;i.imgur.com&#x2F;vuuAtAL.png" rel="nofollow">https:&#x2F;&#x2F;i.imgur.com&#x2F;vuuAtAL.png</a><p>So building out a structured lattice file for a senator would look like:<p><a href="https:&#x2F;&#x2F;i.imgur.com&#x2F;68WFiGA.png" rel="nofollow">https:&#x2F;&#x2F;i.imgur.com&#x2F;68WFiGA.png</a><p>So, using a crawlee txtai workflow --&gt; dasal parse --&gt; into lattice file.<p>Then the lattice file can be used to compare similar slices across all the different [SUBJECTS] -- such that further ties can be made.<p>So, in this example - we have the data being organized for all the various entanglements a congress person has - and we can use that as a constraint for searching for relations between [subjects] which share elements across ordinarily opaque threads.<p>The cool thing, is that one could then easily use it to ensure you scrub and manipulate the data into a more trainable lens for effectively fine tuning the data that you want to fine tune the model with&#x2F;on - thus creating a hyper contextually focused lens - <a href="https:&#x2F;&#x2F;i.imgur.com&#x2F;yngUwpr.png" rel="nofollow">https:&#x2F;&#x2F;i.imgur.com&#x2F;yngUwpr.png</a></div><br/><div id="41286500" class="c"><input type="checkbox" id="c-41286500" checked=""/><div class="controls bullet"><span class="by">coreytrevor</span><span>|</span><a href="#41284722">parent</a><span>|</span><a href="#41284742">next</a><span>|</span><label class="collapse" for="c-41286500">[-]</label><label class="expand" for="c-41286500">[1 more]</label></div><br/><div class="children"><div class="content">Hope that preliminary benchmarks listed in the README.md could be implemented in a proof-of-concept scheme rewarding functions returning the correct variable within a blockchain.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;sharkdp&#x2F;hyperfine">https:&#x2F;&#x2F;github.com&#x2F;sharkdp&#x2F;hyperfine</a><p>Dasel MIT License Copyright (c) 2020 Tom Wright</div><br/></div></div></div></div><div id="41284742" class="c"><input type="checkbox" id="c-41284742" checked=""/><div class="controls bullet"><span class="by">ABCD0</span><span>|</span><a href="#41284722">prev</a><span>|</span><label class="collapse" for="c-41284742">[-]</label><label class="expand" for="c-41284742">[1 more]</label></div><br/><div class="children"><div class="content">Comment</div><br/></div></div></div></div></div></div></div></body></html>