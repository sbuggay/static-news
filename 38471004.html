<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1701334879169" as="style"/><link rel="stylesheet" href="styles.css?v=1701334879169"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://daniel.haxx.se/blog/2023/11/30/xcurl/">XCurl</a>Â <span class="domain">(<a href="https://daniel.haxx.se">daniel.haxx.se</a>)</span></div><div class="subtext"><span>TangerineDream</span> | <span>11 comments</span></div><br/><div><div id="38471196" class="c"><input type="checkbox" id="c-38471196" checked=""/><div class="controls bullet"><span class="by">genocidicbunny</span><span>|</span><a href="#38471296">next</a><span>|</span><label class="collapse" for="c-38471196">[-]</label><label class="expand" for="c-38471196">[3 more]</label></div><br/><div class="children"><div class="content">The mentioned security requirements likely have to do with certification requirements for games released for the Xbox. You couldn&#x27;t just make network connections willy-nilly, there was some amount of having to declare ahead of time what ports you would be using and for what. The normal socket API is also severely limited, and largely cannot even be used without obtaining a special exception from Microsoft for your games.<p>I was actually at one point (years ago) tasked with determining if we could use curl in a project I was working on. There was indeed much surgery needed to ensure that the code even compiled, much less worked correctly. We ended up just using WinHTTP directly instead.<p>As for getting access to the source code for xCurl, that will likely not be possible without actually signing up as a dev with Microsoft and going through the whole process. And even then, you&#x27;d be under a NDA.<p>(My information is several years old though, so it might be somewhat outdated)</div><br/><div id="38471230" class="c"><input type="checkbox" id="c-38471230" checked=""/><div class="controls bullet"><span class="by">pavlov</span><span>|</span><a href="#38471196">parent</a><span>|</span><a href="#38471296">next</a><span>|</span><label class="collapse" for="c-38471230">[-]</label><label class="expand" for="c-38471230">[2 more]</label></div><br/><div class="children"><div class="content">It sounds like xCurl is more like a libcurl-compatible wrapper API on top of WinHTTP rather than an actual fork of curl.</div><br/><div id="38471279" class="c"><input type="checkbox" id="c-38471279" checked=""/><div class="controls bullet"><span class="by">genocidicbunny</span><span>|</span><a href="#38471196">root</a><span>|</span><a href="#38471230">parent</a><span>|</span><a href="#38471296">next</a><span>|</span><label class="collapse" for="c-38471279">[-]</label><label class="expand" for="c-38471279">[1 more]</label></div><br/><div class="children"><div class="content">That is highly likely to be the case. I no longer have access to take a look, but from my experience, it would be silly to do otherwise. There were a handful of other xSomething libraries that they had that were effectively wrappers or simplified versions of libSomething.</div><br/></div></div></div></div></div></div><div id="38471296" class="c"><input type="checkbox" id="c-38471296" checked=""/><div class="controls bullet"><span class="by">hgo</span><span>|</span><a href="#38471196">prev</a><span>|</span><a href="#38471224">next</a><span>|</span><label class="collapse" for="c-38471296">[-]</label><label class="expand" for="c-38471296">[2 more]</label></div><br/><div class="children"><div class="content">If you excuse some speculation:
(clarifications appreciated of course.)<p>If i remember correctly, ages ago (Windows Server 2003?) Microsoft introduced in-kernel HTTP-handling for the IIS web-server. I think it was for performance improvements with less copying between kernel- and user-space memory.<p>I suspect the for me unknown WinHTTP apis mentioned here could use these optimizations? Maybe that&#x27;s why they mention security requirements? (Which would obviously be needed when doing parsing in the kernel.)</div><br/><div id="38471317" class="c"><input type="checkbox" id="c-38471317" checked=""/><div class="controls bullet"><span class="by">genocidicbunny</span><span>|</span><a href="#38471296">parent</a><span>|</span><a href="#38471224">next</a><span>|</span><label class="collapse" for="c-38471317">[-]</label><label class="expand" for="c-38471317">[1 more]</label></div><br/><div class="children"><div class="content">The security requirements are more due to trying to keep nasty things from being downloaded in the context of a game running on the Xbox. Games tend to run at fairly high privilege levels on Xbox, so Microsoft is probably worried mainly about jailbreaks.</div><br/></div></div></div></div><div id="38471222" class="c"><input type="checkbox" id="c-38471222" checked=""/><div class="controls bullet"><span class="by">yugarinn</span><span>|</span><a href="#38471224">prev</a><span>|</span><a href="#38471204">next</a><span>|</span><label class="collapse" for="c-38471222">[-]</label><label class="expand" for="c-38471222">[2 more]</label></div><br/><div class="children"><div class="content">As impressive as I find the curl project, I find it almost equally remarkable that Daniel had the courage to introduce its own license.</div><br/></div></div></div></div></div></div></div></body></html>