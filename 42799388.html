<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1737882065672" as="style"/><link rel="stylesheet" href="styles.css?v=1737882065672"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://iceberg.apache.org/">Apache Iceberg</a> <span class="domain">(<a href="https://iceberg.apache.org">iceberg.apache.org</a>)</span></div><div class="subtext"><span>jacobmarble</span> | <span>24 comments</span></div><br/><div><div id="42827885" class="c"><input type="checkbox" id="c-42827885" checked=""/><div class="controls bullet"><span class="by">teleforce</span><span>|</span><a href="#42828672">next</a><span>|</span><label class="collapse" for="c-42827885">[-]</label><label class="expand" for="c-42827885">[2 more]</label></div><br/><div class="children"><div class="content">Apache Iceberg is one of the emerging Open Table Formats in addition to Delta Lake and Apache Hudi [1].<p>[1] Open Table Formats:<p><a href="https:&#x2F;&#x2F;www.starburst.io&#x2F;data-glossary&#x2F;open-table-formats&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.starburst.io&#x2F;data-glossary&#x2F;open-table-formats&#x2F;</a></div><br/><div id="42828755" class="c"><input type="checkbox" id="c-42828755" checked=""/><div class="controls bullet"><span class="by">jl6</span><span>|</span><a href="#42827885">parent</a><span>|</span><a href="#42828672">next</a><span>|</span><label class="collapse" for="c-42828755">[-]</label><label class="expand" for="c-42828755">[1 more]</label></div><br/><div class="children"><div class="content">The table on that page makes it look like all three of these are very similar, with schema evolution and partition evolution being the key differences. Is that really it?<p>I’d also love to see a good comparison between “regular” Iceberg and AWS’s new S3 Tables.</div><br/></div></div></div></div><div id="42828672" class="c"><input type="checkbox" id="c-42828672" checked=""/><div class="controls bullet"><span class="by">nikolatt</span><span>|</span><a href="#42827885">prev</a><span>|</span><a href="#42828367">next</a><span>|</span><label class="collapse" for="c-42828672">[-]</label><label class="expand" for="c-42828672">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been looking at Iceberg for a while, but in the end went with Delta Lake because it doesn&#x27;t have a dependency on a catalog. It also has good support for reading and writing from it without needing Spark.<p>Does anyone know if Iceberg has plans to support similar use cases?</div><br/></div></div><div id="42828367" class="c"><input type="checkbox" id="c-42828367" checked=""/><div class="controls bullet"><span class="by">pradeepchhetri</span><span>|</span><a href="#42828672">prev</a><span>|</span><a href="#42827184">next</a><span>|</span><label class="collapse" for="c-42828367">[-]</label><label class="expand" for="c-42828367">[1 more]</label></div><br/><div class="children"><div class="content">ClickHouse has a solid Iceberg integration. It has an Iceberg table function[0] and Iceberg table engine[1] for interacting with Iceberg data stored in s3, gcs, azure, hadoop etc.<p>[0] <a href="https:&#x2F;&#x2F;clickhouse.com&#x2F;docs&#x2F;en&#x2F;sql-reference&#x2F;table-functions&#x2F;iceberg" rel="nofollow">https:&#x2F;&#x2F;clickhouse.com&#x2F;docs&#x2F;en&#x2F;sql-reference&#x2F;table-functions...</a><p>[1] <a href="https:&#x2F;&#x2F;clickhouse.com&#x2F;docs&#x2F;en&#x2F;engines&#x2F;table-engines&#x2F;integrations&#x2F;iceberg" rel="nofollow">https:&#x2F;&#x2F;clickhouse.com&#x2F;docs&#x2F;en&#x2F;engines&#x2F;table-engines&#x2F;integra...</a></div><br/></div></div><div id="42827184" class="c"><input type="checkbox" id="c-42827184" checked=""/><div class="controls bullet"><span class="by">gopalv</span><span>|</span><a href="#42828367">prev</a><span>|</span><a href="#42826954">next</a><span>|</span><label class="collapse" for="c-42827184">[-]</label><label class="expand" for="c-42827184">[5 more]</label></div><br/><div class="children"><div class="content">Hidden partitioning is the most interesting Iceberg feature, because most of the very large datasets are timeseries fact tables.<p>I don&#x27;t remember seeing that in Delta Lake [1], which is probably because the industry standard benchmarks use date as a column (tpc-h) or join date as a dimension table (tpc-ds) and do not use timestamp ranges instead of dates.<p>[1] - <a href="https:&#x2F;&#x2F;github.com&#x2F;delta-io&#x2F;delta&#x2F;issues&#x2F;490">https:&#x2F;&#x2F;github.com&#x2F;delta-io&#x2F;delta&#x2F;issues&#x2F;490</a></div><br/><div id="42827458" class="c"><input type="checkbox" id="c-42827458" checked=""/><div class="controls bullet"><span class="by">fiddlerwoaroof</span><span>|</span><a href="#42827184">parent</a><span>|</span><a href="#42826954">next</a><span>|</span><label class="collapse" for="c-42827458">[-]</label><label class="expand" for="c-42827458">[4 more]</label></div><br/><div class="children"><div class="content">Delta Lake now has Hilbert-curve based clustering which solves a lot of the downsides of hive partitioning</div><br/><div id="42827788" class="c"><input type="checkbox" id="c-42827788" checked=""/><div class="controls bullet"><span class="by">gopalv</span><span>|</span><a href="#42827184">root</a><span>|</span><a href="#42827458">parent</a><span>|</span><a href="#42826954">next</a><span>|</span><label class="collapse" for="c-42827788">[-]</label><label class="expand" for="c-42827788">[3 more]</label></div><br/><div class="children"><div class="content">&gt; Hilbert-curve based clustering which solves a lot of the downsides of hive partitioning<p>Yes, that solved the 2-column high NDV partitioning issue - if you had your ip traffic sorted on destination or source, you need Z-curves, which are a little easier with bit twiddling for fixed types to do the same thing.<p>Hive would write a large number of small files when partitioned like that or you lose efficiencies when scanning on the non-partitioned column.<p>This does fix the high NDV issue, but in general Netflix wrote hidden partitioning in specifically to avoid sorting on high NDV columns and to reduce the sort complexity on writes (most daily writes won&#x27;t need any partitioned inserts at all).<p>While clustering on timestamp will force a sort even if it is a single day.</div><br/><div id="42828065" class="c"><input type="checkbox" id="c-42828065" checked=""/><div class="controls bullet"><span class="by">autodidacticon</span><span>|</span><a href="#42827184">root</a><span>|</span><a href="#42827788">parent</a><span>|</span><a href="#42826954">next</a><span>|</span><label class="collapse" for="c-42828065">[-]</label><label class="expand" for="c-42828065">[2 more]</label></div><br/><div class="children"><div class="content">What is NDV partitioning?</div><br/><div id="42828243" class="c"><input type="checkbox" id="c-42828243" checked=""/><div class="controls bullet"><span class="by">artwr</span><span>|</span><a href="#42827184">root</a><span>|</span><a href="#42828065">parent</a><span>|</span><a href="#42826954">next</a><span>|</span><label class="collapse" for="c-42828243">[-]</label><label class="expand" for="c-42828243">[1 more]</label></div><br/><div class="children"><div class="content">NDV = Number of distinct values. Here partitioning on high cardinality columns, essentially.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42826954" class="c"><input type="checkbox" id="c-42826954" checked=""/><div class="controls bullet"><span class="by">varsketiz</span><span>|</span><a href="#42827184">prev</a><span>|</span><a href="#42828196">next</a><span>|</span><label class="collapse" for="c-42826954">[-]</label><label class="expand" for="c-42826954">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m somewhat surprised to see it here - Iceberg is around for some time already.</div><br/><div id="42828624" class="c"><input type="checkbox" id="c-42828624" checked=""/><div class="controls bullet"><span class="by">benjaminwootton</span><span>|</span><a href="#42826954">parent</a><span>|</span><a href="#42827396">next</a><span>|</span><label class="collapse" for="c-42828624">[-]</label><label class="expand" for="c-42828624">[1 more]</label></div><br/><div class="children"><div class="content">It’s been on the up in recent years though as it appears to have won the format wars.  Every vendor is rallying around it and there were new open source catalogues and support from AWS at the end of 2024.</div><br/></div></div><div id="42827396" class="c"><input type="checkbox" id="c-42827396" checked=""/><div class="controls bullet"><span class="by">mrbluecoat</span><span>|</span><a href="#42826954">parent</a><span>|</span><a href="#42828624">prev</a><span>|</span><a href="#42828196">next</a><span>|</span><label class="collapse" for="c-42827396">[-]</label><label class="expand" for="c-42827396">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I was confused as well. It was like seeing &quot;postage stamps&quot; on the HN front page.</div><br/></div></div></div></div><div id="42828196" class="c"><input type="checkbox" id="c-42828196" checked=""/><div class="controls bullet"><span class="by">volderette</span><span>|</span><a href="#42826954">prev</a><span>|</span><a href="#42827727">next</a><span>|</span><label class="collapse" for="c-42828196">[-]</label><label class="expand" for="c-42828196">[3 more]</label></div><br/><div class="children"><div class="content">How do you query your iceberg tables? We are looking into moving away from Bigquery and Starrocks [1] looks like a good option.<p>[1] <a href="https:&#x2F;&#x2F;www.starrocks.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.starrocks.io&#x2F;</a></div><br/><div id="42828362" class="c"><input type="checkbox" id="c-42828362" checked=""/><div class="controls bullet"><span class="by">macqm</span><span>|</span><a href="#42828196">parent</a><span>|</span><a href="#42828681">next</a><span>|</span><label class="collapse" for="c-42828362">[-]</label><label class="expand" for="c-42828362">[1 more]</label></div><br/><div class="children"><div class="content">Trino is pretty good (open source presto).<p><a href="https:&#x2F;&#x2F;trino.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;trino.io&#x2F;</a></div><br/></div></div><div id="42828681" class="c"><input type="checkbox" id="c-42828681" checked=""/><div class="controls bullet"><span class="by">jl6</span><span>|</span><a href="#42828196">parent</a><span>|</span><a href="#42828362">prev</a><span>|</span><a href="#42827727">next</a><span>|</span><label class="collapse" for="c-42828681">[-]</label><label class="expand" for="c-42828681">[1 more]</label></div><br/><div class="children"><div class="content">Why away from bigquery? Just wondering if it’s a cost thing.</div><br/></div></div></div></div><div id="42827727" class="c"><input type="checkbox" id="c-42827727" checked=""/><div class="controls bullet"><span class="by">honestSysAdmin</span><span>|</span><a href="#42828196">prev</a><span>|</span><a href="#42828663">next</a><span>|</span><label class="collapse" for="c-42827727">[-]</label><label class="expand" for="c-42827727">[1 more]</label></div><br/><div class="children"><div class="content">Iceberg is a pretty cool guy, he consolidates the Parquet and doesn&#x27;t afraid of anything.</div><br/></div></div><div id="42828663" class="c"><input type="checkbox" id="c-42828663" checked=""/><div class="controls bullet"><span class="by">mkl95</span><span>|</span><a href="#42827727">prev</a><span>|</span><a href="#42826835">next</a><span>|</span><label class="collapse" for="c-42828663">[-]</label><label class="expand" for="c-42828663">[1 more]</label></div><br/><div class="children"><div class="content">Iceberg on S3 tables is going to be a hot topic in the next few years.</div><br/></div></div><div id="42826835" class="c"><input type="checkbox" id="c-42826835" checked=""/><div class="controls bullet"><span class="by">vonnik</span><span>|</span><a href="#42828663">prev</a><span>|</span><a href="#42827808">next</a><span>|</span><label class="collapse" for="c-42826835">[-]</label><label class="expand" for="c-42826835">[3 more]</label></div><br/><div class="children"><div class="content">Curious to what extent Iceberg enables data composability and what the best complements and alternatives are.</div><br/><div id="42826968" class="c"><input type="checkbox" id="c-42826968" checked=""/><div class="controls bullet"><span class="by">lmm</span><span>|</span><a href="#42826835">parent</a><span>|</span><a href="#42827227">next</a><span>|</span><label class="collapse" for="c-42826968">[-]</label><label class="expand" for="c-42826968">[1 more]</label></div><br/><div class="children"><div class="content">Delta Lake is the main competitor. There&#x27;s a lot of convergence going on, because everyone wants a common format and it&#x27;s pretty clear what the desirable features are. Ultimately it becomes just boring infrastructure IMO.</div><br/></div></div><div id="42827227" class="c"><input type="checkbox" id="c-42827227" checked=""/><div class="controls bullet"><span class="by">nxm</span><span>|</span><a href="#42826835">parent</a><span>|</span><a href="#42826968">prev</a><span>|</span><a href="#42827808">next</a><span>|</span><label class="collapse" for="c-42827227">[-]</label><label class="expand" for="c-42827227">[1 more]</label></div><br/><div class="children"><div class="content">It allows you to be query engine agnostic - query the same data via Spark, Snowflake or Trino.
Granted, performance may suffer vs Snowflake internal tables somewhat due to certain performance optimizations not being there.</div><br/></div></div></div></div><div id="42827808" class="c"><input type="checkbox" id="c-42827808" checked=""/><div class="controls bullet"><span class="by">rubenvanwyk</span><span>|</span><a href="#42826835">prev</a><span>|</span><label class="collapse" for="c-42827808">[-]</label><label class="expand" for="c-42827808">[3 more]</label></div><br/><div class="children"><div class="content">And yet there&#x27;s still no straightforward way to write directly to Iceberg tables from Javascript as far as I know.</div><br/><div id="42828047" class="c"><input type="checkbox" id="c-42828047" checked=""/><div class="controls bullet"><span class="by">Rhubarrbb</span><span>|</span><a href="#42827808">parent</a><span>|</span><label class="collapse" for="c-42828047">[-]</label><label class="expand" for="c-42828047">[2 more]</label></div><br/><div class="children"><div class="content">Writing to catalogs is still pretty new. Databricks has recently been pushing delta-kernel-rs that DuckDb has a connector set up for, and there’s support for writing via Python with the Polars package through delta-rs. For small-time developers this has been pretty helpful for me and influential in picking delta lake over iceberg.</div><br/><div id="42828470" class="c"><input type="checkbox" id="c-42828470" checked=""/><div class="controls bullet"><span class="by">kermatt</span><span>|</span><a href="#42827808">root</a><span>|</span><a href="#42828047">parent</a><span>|</span><label class="collapse" for="c-42828470">[-]</label><label class="expand" for="c-42828470">[1 more]</label></div><br/><div class="children"><div class="content">&gt; influential in picking delta lake over iceberg<p>Can you expand on those reasons a bit?<p>The dependency on a catalog in Iceberg made it more complicated for simple cases than Delta, where a directory hierarchy was sufficient - if I was understanding the PyIceberg docs correctly.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>