<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1702458075824" as="style"/><link rel="stylesheet" href="styles.css?v=1702458075824"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://security.googleblog.com/2023/12/hardening-cellular-basebands-in-android.html">Hardening cellular basebands in Android</a>Â <span class="domain">(<a href="https://security.googleblog.com">security.googleblog.com</a>)</span></div><div class="subtext"><span>el_duderino</span> | <span>89 comments</span></div><br/><div><div id="38619978" class="c"><input type="checkbox" id="c-38619978" checked=""/><div class="controls bullet"><span class="by">phh</span><span>|</span><a href="#38618722">next</a><span>|</span><label class="collapse" for="c-38619978">[-]</label><label class="expand" for="c-38619978">[27 more]</label></div><br/><div class="children"><div class="content">I&#x27;d rather say the issue is NOT that basebands need hardening (ok they do need it), but that we should stop putting things there.<p>The article mentions parsing XML, doing DNS, IMS, TCP and IP stacks. As far as I know, all of those are down for one single purpose which is VoLTE (And VoWifi, and other related features which all go under the umbrella of &quot;IMS&quot;). On top of that, they also need to do IPSec (should be pretty safe) and SIP (gosh wait too much string handling). The remote Pixel security flaw few months ago was in that VoLTE stack.<p>This stack should NOT be in an embedded closed source un-auditable system. It should be in a &quot;dumb&quot; sandboxed opensource app in a sandboxed language.<p>This is exactly what I&#x27;m doing: <a href="https:&#x2F;&#x2F;github.com&#x2F;phhusson&#x2F;ims">https:&#x2F;&#x2F;github.com&#x2F;phhusson&#x2F;ims</a> This is a FLOSS VoLTE + VoWifi[1] implementation for Android written in kotlin with no native code [2].<p>I&#x27;m not recommending it for anyone (I managed to make my first outgoing call with it yesterday), it has real issues (you do want baseband cooperation on various parts, like QoS or roaming to 3G, which I&#x27;m choosing to ignore), but I think software IMS is the way of the future.<p>In addition to security, this allows for a lot of de-obsoleting:<p>- It helps *a lot* for custom Android ROMs, and compatibility with annoying carriers<p>- I can integrate top-notch audio codecs (EVS) without breaking a sweat, and deployed for everyone in a jiffy (heck I don&#x27;t even to reboot user&#x27;s smartphone&#x27;s to apply the change, I can just deploy it over Play Store)<p>- I can integrate modern voice improvements<p>- I can enable VoWifi on 3G smartphones (Granted, I&#x27;m not sure that&#x27;s extremely useful)<p>- I can enable features that didn&#x27;t exist when that smartphone model got released like Cross-Sim VoWifi (you have your french main SIM, you&#x27;re in the US with a local eSIM, you can do VoWifi of the french SIM over the local eSIM to have cheap 4G voice calls)<p>I see some movement in AOSP source code that make me think Google will release an opensource IMS within two years, so I&#x27;m hopeful my work will be able to go to the trash.<p>[1] I&#x27;m kinda cheating for the wifi part, because it&#x27;s provided by AOSP, I barely lifted the little finger to enable it.
[2] Okay, I added rnnoise for the sake of having a denoising, but it&#x27;s fixed-size-data-in fixed-size-data-out, so I feel safe there.<p>PS: I <i>know</i> that my knowledge of 3GPP is pretty thin, so if knowledgeable people want to tell me which parts will still need to remain in modem, I&#x27;m curious.<p>PS2: I&#x27;m putting this just in case: For GNU&#x2F;Linux smartphones (or desktops with SIM card reader), you should be able to use that C+py stack to have userspace vowifi: <a href="https:&#x2F;&#x2F;github.com&#x2F;phhusson&#x2F;doubango">https:&#x2F;&#x2F;github.com&#x2F;phhusson&#x2F;doubango</a></div><br/><div id="38621257" class="c"><input type="checkbox" id="c-38621257" checked=""/><div class="controls bullet"><span class="by">numpad0</span><span>|</span><a href="#38619978">parent</a><span>|</span><a href="#38621997">next</a><span>|</span><label class="collapse" for="c-38621257">[-]</label><label class="expand" for="c-38621257">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m just guessing here; but the reason why it&#x27;s not implemented in userspace, not written in Rust, not using IOMMU, BP is allowed full DMA, the system is split into AP and BP in the first place, etc etc, is probably because of <i>lags</i> those stuffs introduce - difficulty of meeting and maintaining required realtime constraints.<p>ALL of those desktop-derived event driven technologies, with deep call stacks and abusive use of interrupts, tend to run NOT like a marathon runner, but like an attention deficit man, and the latter is how you get choppy audio.<p>IIUC, Nokia in &#x27;00s already used an architecture that baseband OS and application OS(Symbian) would run on the same CPU, with RTOS below the application OS forcing regular switch to baseband or something, because baseband code is synchronized to physical IRL time, managing physical phenomena, and the user, can wait.<p>If anyone&#x27;s going to move phone signaling and audio processing to AP, they&#x27;ll have to first show the embedded guys that their fancy stuff is <i>better</i> than the existing realtime stuff, and is not an elaborate prank. Which, I think, isn&#x27;t easy. I mean, one of news for Raspberry Pi 5 was <i>addition</i> of a programmable I&#x2F;O processor for realtime&#x2F;low-level tasks, not <i>removal</i> of.</div><br/><div id="38623731" class="c"><input type="checkbox" id="c-38623731" checked=""/><div class="controls bullet"><span class="by">GoatOfAplomb</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38621257">parent</a><span>|</span><a href="#38623557">next</a><span>|</span><label class="collapse" for="c-38623731">[-]</label><label class="expand" for="c-38623731">[1 more]</label></div><br/><div class="children"><div class="content">&gt; is probably because of lags those stuffs introduce<p>There is likely some truth to this, but I think the bigger reason for these things is that Qualcomm can&#x27;t be arsed.</div><br/></div></div><div id="38623557" class="c"><input type="checkbox" id="c-38623557" checked=""/><div class="controls bullet"><span class="by">LoganDark</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38621257">parent</a><span>|</span><a href="#38623731">prev</a><span>|</span><a href="#38621997">next</a><span>|</span><label class="collapse" for="c-38623557">[-]</label><label class="expand" for="c-38623557">[2 more]</label></div><br/><div class="children"><div class="content">&gt; the latter is how you get choppy audio<p>Tell me, if Discord can stream high-quality audio in real-time, what makes a phone call that much harder to handle, especially given how awful the sample rate is? Shouldn&#x27;t an 8-bit micro from the 80s be able to handle that? Aren&#x27;t there even already pieces of homebrew software for those micros that can handle audio of that quality?</div><br/><div id="38624000" class="c"><input type="checkbox" id="c-38624000" checked=""/><div class="controls bullet"><span class="by">atoav</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38623557">parent</a><span>|</span><a href="#38621997">next</a><span>|</span><label class="collapse" for="c-38624000">[-]</label><label class="expand" for="c-38624000">[1 more]</label></div><br/><div class="children"><div class="content">For me it feels just wrong? Why would we high-level-sandbox a basic functionality when we obviously know how to write safe software in other spaces in the low level? Think anything space, aviation or automotive.<p>If your remedy to writing bad software is &quot;just put it into a sandbox&quot;, then who says that sandbox isn&#x27;t bad software as well? So now you got bad software in a sandbox that may or may not be safe and is less performant than the low level variant. Maybe the software is bad in a kind that allows abuse despite the sandbox, congrats now your baseband lies to you.<p>The solution I like is to use strictly typed languages, formaly verified compliers, a ton of tests and fuzzing and above all: avoiding unnecessary complexity. Embedded programming sucks, but we have Ada, we have Rust and we have a chance to do things that are both safe <i>and</i> performant.</div><br/></div></div></div></div></div></div><div id="38621997" class="c"><input type="checkbox" id="c-38621997" checked=""/><div class="controls bullet"><span class="by">jchw</span><span>|</span><a href="#38619978">parent</a><span>|</span><a href="#38621257">prev</a><span>|</span><a href="#38620479">next</a><span>|</span><label class="collapse" for="c-38621997">[-]</label><label class="expand" for="c-38621997">[3 more]</label></div><br/><div class="children"><div class="content">Hey, that looks really cool. I&#x27;ve been wanting to mess around with this stuff on PinePhone, which is in a unique position here since there are third-party images for the baseband which are mostly open source[1].<p>I&#x27;ve been especially interested in trying to reverse engineer what&#x27;s going on with Google Fi on Android, but it is definitely a bit over my head, given that until recently I didn&#x27;t even really know what an AT command was :) I&#x27;m guessing since it&#x27;s Google the carrier stuff is mostly for fallback and all of the actually interesting stuff is done using protobufs over a data connection. (Fi is also interesting because you can make phone calls on the web over WebRTC. I wonder if that&#x27;s some kind of gateway to SIP, or what.)<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;the-modem-distro&#x2F;pinephone_modem_sdk">https:&#x2F;&#x2F;github.com&#x2F;the-modem-distro&#x2F;pinephone_modem_sdk</a><p>(Note: I didn&#x27;t dig deep enough, so it wouldn&#x27;t surprise me if the blobs in this are actually where the interesting stuff happens, but it&#x27;s still probably a great base for experimentation nonetheless.)</div><br/><div id="38622774" class="c"><input type="checkbox" id="c-38622774" checked=""/><div class="controls bullet"><span class="by">posguy</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38621997">parent</a><span>|</span><a href="#38620479">next</a><span>|</span><label class="collapse" for="c-38622774">[-]</label><label class="expand" for="c-38622774">[2 more]</label></div><br/><div class="children"><div class="content">The PinePhone uses a really old, slow modem (the Quectel EG25). Why not get a modern Snapdragon x62 like the RM520, drop it in a carrier board, root the modem and do all the shenanigans you want?<p>Useful links:
<a href="https:&#x2F;&#x2F;github.com&#x2F;natecarlson&#x2F;quectel-rgmii-configuration-notes">https:&#x2F;&#x2F;github.com&#x2F;natecarlson&#x2F;quectel-rgmii-configuration-n...</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;carp4&#x2F;qadbkey-unlock">https:&#x2F;&#x2F;github.com&#x2F;carp4&#x2F;qadbkey-unlock</a></div><br/><div id="38623569" class="c"><input type="checkbox" id="c-38623569" checked=""/><div class="controls bullet"><span class="by">LoganDark</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38622774">parent</a><span>|</span><a href="#38620479">next</a><span>|</span><label class="collapse" for="c-38623569">[-]</label><label class="expand" for="c-38623569">[1 more]</label></div><br/><div class="children"><div class="content">Because you can&#x27;t use a Snapdragon in that way, that&#x27;s not how Qualcomm&#x27;s business works. There&#x27;s a reason that very few (or no) &quot;open&quot; phones actually use Snapdragons and it&#x27;s because it&#x27;s impossible to obtain the firmware for these without layers of very restrictive contracts and NDAs. They&#x27;re almost like NXP in that way.</div><br/></div></div></div></div></div></div><div id="38620479" class="c"><input type="checkbox" id="c-38620479" checked=""/><div class="controls bullet"><span class="by">dwbehappy</span><span>|</span><a href="#38619978">parent</a><span>|</span><a href="#38621997">prev</a><span>|</span><a href="#38622260">next</a><span>|</span><label class="collapse" for="c-38620479">[-]</label><label class="expand" for="c-38620479">[18 more]</label></div><br/><div class="children"><div class="content">Not to take away from your excellent work, but what the hell is the point of VoWifi ?<p>Why not just handle this with a well tuned user space app that runs on udp&#x2F;whatever over any network connectivity you have already, whether it&#x27;s wifi&#x2F;cellular&#x2F;pigeon carrier.<p>It seems like its an entirely US-centric thing, motivated by a] cost savings from not using data on the cell network (not a problem for most of the world who have unlimited data plans cheap enough for everyone to afford)  and b] some kind of vendor feature contest&#x2F;lock-in type incentives.<p>What is the selling point of it, I don&#x27;t get it. WhatsApp&#x2F;Facetime&#x2F;Signal or similar voice calls are not perfect, they obviously do introduce some extra latency and inefficiencies compared to using that lower level data pipe, but it just strikes me as a very strange avenue for people to be going down with very marginal benefit (efficiency) but a ton of extra work.<p>EDIT: Btw if its not clear, I fully agree with you that it, whatever it is, should be in userspace as much as possible, and as an open standard, I&#x27;m just trying to figure out why this stuff has been introduced in this way at all.</div><br/><div id="38620970" class="c"><input type="checkbox" id="c-38620970" checked=""/><div class="controls bullet"><span class="by">alufers</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38620479">parent</a><span>|</span><a href="#38620943">next</a><span>|</span><label class="collapse" for="c-38620970">[-]</label><label class="expand" for="c-38620970">[2 more]</label></div><br/><div class="children"><div class="content">I used to live in an old apartment block with thick concrete walls, and away from a cellular base station. VoWifi was really helpful if I wanted to make calls from my home. I guess I could use WhatsApp&#x2F;Facetime&#x2F;Signal, but the insurance agent won&#x27;t call me on WhatsApp from her landline phone :)<p>And it is not handled by an app on your phone, because of legacy reasons. I believe that, before LTE was introduced, 2G and 3G had a distinction between IP and voice traffic, so the baseband handled the voice transmission. Then they thought that LTE should be IP only and voice should be sent as VOIP over it, but  it still had to be handled by the baseband for backwards compatibility with 2G and 3G. And then they came up with the idea that the VOIP traffic could also be piped over Wi-Fi (through the main processor of the phone), and so VoWi-Fi was created.</div><br/><div id="38621587" class="c"><input type="checkbox" id="c-38621587" checked=""/><div class="controls bullet"><span class="by">numpad0</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38620970">parent</a><span>|</span><a href="#38620943">next</a><span>|</span><label class="collapse" for="c-38621587">[-]</label><label class="expand" for="c-38621587">[1 more]</label></div><br/><div class="children"><div class="content">I think it was lots of parallel development - some mid-to-late 3G phones had carrier hand-rolled Wi-Fi calling, some had femtocell support instead, LTE was to be just faster packet-only Internet mode for 3G, became its own thing too late which necessitated CSFB, and then Wi-Fi calling became reimplemented as part of standard, etc.</div><br/></div></div></div></div><div id="38620943" class="c"><input type="checkbox" id="c-38620943" checked=""/><div class="controls bullet"><span class="by">wtallis</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38620479">parent</a><span>|</span><a href="#38620970">prev</a><span>|</span><a href="#38621310">next</a><span>|</span><label class="collapse" for="c-38620943">[-]</label><label class="expand" for="c-38620943">[1 more]</label></div><br/><div class="children"><div class="content">WhatsApp, FaceTime, etc. all require both endpoints of a call to use that app. VoWiFi lets you receive calls to your regular phone number from any normal phone. The fact that the last mile of the call is being carried over WiFi becomes an invisible implementation detail.</div><br/></div></div><div id="38621310" class="c"><input type="checkbox" id="c-38621310" checked=""/><div class="controls bullet"><span class="by">BobbyTables2</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38620479">parent</a><span>|</span><a href="#38620943">prev</a><span>|</span><a href="#38620969">next</a><span>|</span><label class="collapse" for="c-38621310">[-]</label><label class="expand" for="c-38621310">[1 more]</label></div><br/><div class="children"><div class="content">I think your concerns are misplaced.<p>Things like TCP&#x2F;IP and DNS are childâs play compared to the complexity of cellular baseband firmware â even for just a single 2G&#x2F;3G&#x2F;4G standard.<p>The SIM card layer is also another nightmare in itself.</div><br/></div></div><div id="38620969" class="c"><input type="checkbox" id="c-38620969" checked=""/><div class="controls bullet"><span class="by">eightysixfour</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38620479">parent</a><span>|</span><a href="#38621310">prev</a><span>|</span><a href="#38622888">next</a><span>|</span><label class="collapse" for="c-38620969">[-]</label><label class="expand" for="c-38620969">[12 more]</label></div><br/><div class="children"><div class="content">VoWifi is neither US centric nor purely about efficiency - it allows you to make calls with your phone to another phone via a third party network when you donât have cellular connectivity.<p>For example if you have poor cell coverage at your home or office, you can still make and receive calls via a wifi connection using your phone number instead of forcing everyone to sign up for some third party service.</div><br/><div id="38621254" class="c"><input type="checkbox" id="c-38621254" checked=""/><div class="controls bullet"><span class="by">lstodd</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38620969">parent</a><span>|</span><a href="#38622888">next</a><span>|</span><label class="collapse" for="c-38621254">[-]</label><label class="expand" for="c-38621254">[11 more]</label></div><br/><div class="children"><div class="content">Well, this sort of reinforces the point - there are about zero places in Europe where you have Wifi but do not have cheap almost-unlimited 4G&#x2F;LTE. In fact it&#x27;s wifi that&#x27;s dying out here, the only thing that keeps it alive is that in a cafe setting it&#x27;s still somewhat faster, and it eats a bit less battery.</div><br/><div id="38621537" class="c"><input type="checkbox" id="c-38621537" checked=""/><div class="controls bullet"><span class="by">cyberax</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38621254">parent</a><span>|</span><a href="#38621449">next</a><span>|</span><label class="collapse" for="c-38621537">[-]</label><label class="expand" for="c-38621537">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s not quite true. There are older buildings with brick walls that have bad cellular reception.<p>Conversely, some high rises have a too _good_ reception and the radio spectrum can get congested.</div><br/><div id="38621589" class="c"><input type="checkbox" id="c-38621589" checked=""/><div class="controls bullet"><span class="by">lstodd</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38621537">parent</a><span>|</span><a href="#38621449">next</a><span>|</span><label class="collapse" for="c-38621589">[-]</label><label class="expand" for="c-38621589">[1 more]</label></div><br/><div class="children"><div class="content">Where it does matter they put a femtocell which is about as complicated as  a wifi AP.</div><br/></div></div></div></div><div id="38621449" class="c"><input type="checkbox" id="c-38621449" checked=""/><div class="controls bullet"><span class="by">eightysixfour</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38621254">parent</a><span>|</span><a href="#38621537">prev</a><span>|</span><a href="#38621513">next</a><span>|</span><label class="collapse" for="c-38621449">[-]</label><label class="expand" for="c-38621449">[5 more]</label></div><br/><div class="children"><div class="content">Iâm not sure we are talking about the same thing - just because you have cheap unlimited 4G doesnât mean you get that 4G signal in a basement. VoWifi lets you still call someone with your phone number when the signal is bad but you have wifi accessâ¦</div><br/><div id="38621682" class="c"><input type="checkbox" id="c-38621682" checked=""/><div class="controls bullet"><span class="by">lstodd</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38621449">parent</a><span>|</span><a href="#38621513">next</a><span>|</span><label class="collapse" for="c-38621682">[-]</label><label class="expand" for="c-38621682">[4 more]</label></div><br/><div class="children"><div class="content">I was never into insisting to only talk on the phone from the basement of my medieval castle. The view from the battlements is much better.<p>We&#x27;re not all jamesbondesque supervillains here.<p>Like I said above, for like $8&#x2F;mo you have in fact unlimited 4G at decent speeds here. Or for idk maybe $15 you can get a gpon, unlimited traffic, 30+Mbit  to the house, depending on local laziness of course. And that is for a rural place in Balkans, not something in more civilized places.</div><br/><div id="38621986" class="c"><input type="checkbox" id="c-38621986" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38621682">parent</a><span>|</span><a href="#38621948">next</a><span>|</span><label class="collapse" for="c-38621986">[-]</label><label class="expand" for="c-38621986">[1 more]</label></div><br/><div class="children"><div class="content">I do love how, seemingly to counteract the US-centric nature of many discussions, some Europeans act as though Europe is this one homogeneous block where everything works the same everywhere.<p>I guarantee you there are quite a few people in various countries in Europe where they don&#x27;t have great cellular coverage, whether because of their location, or because of the building materials used in whatever house or office building they spend a lot of time in.<p>Regardless, I don&#x27;t really get the hate toward VoWifi.  Like... it&#x27;s an added option.  In some cases it might be redundant (or worse than the normal VoLTE option), but... it&#x27;s an added option, that you don&#x27;t have to use, that can be a great fallback in some cases.</div><br/></div></div><div id="38621948" class="c"><input type="checkbox" id="c-38621948" checked=""/><div class="controls bullet"><span class="by">macNchz</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38621682">parent</a><span>|</span><a href="#38621986">prev</a><span>|</span><a href="#38621854">next</a><span>|</span><label class="collapse" for="c-38621948">[-]</label><label class="expand" for="c-38621948">[1 more]</label></div><br/><div class="children"><div class="content">I just got back from a week in Paris where I frequently had limited cell service indoors on a major provider. Even with antennas all over thereâs just a lot of masonry for signals to get through.<p>Iâve been really happy on many occasions to have Wifi calling, both where I live in NYC (where service sometimes behaves similarly to Paris) and the rural places I visit frequently (where having the cellular modem off while at home saves tons of battery vs constantly having no service).</div><br/></div></div><div id="38621854" class="c"><input type="checkbox" id="c-38621854" checked=""/><div class="controls bullet"><span class="by">eightysixfour</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38621682">parent</a><span>|</span><a href="#38621948">prev</a><span>|</span><a href="#38621513">next</a><span>|</span><label class="collapse" for="c-38621854">[-]</label><label class="expand" for="c-38621854">[1 more]</label></div><br/><div class="children"><div class="content">Yes, and VoWifi lets your cell phone make a call over that fiber when your wireless coverage isnât great. Not really sure where castles and battlements come to play here - there are plenty of completely normal places people visit with connectivity issues.<p>Maybe it is your experience in the rural balkans, where cellular congestion and significant building density arenât factors, and your assumption it must be better in âcivilizedâ places that is confusing the issueâ¦</div><br/></div></div></div></div></div></div><div id="38621513" class="c"><input type="checkbox" id="c-38621513" checked=""/><div class="controls bullet"><span class="by">sib</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38621254">parent</a><span>|</span><a href="#38621449">prev</a><span>|</span><a href="#38622888">next</a><span>|</span><label class="collapse" for="c-38621513">[-]</label><label class="expand" for="c-38621513">[3 more]</label></div><br/><div class="children"><div class="content">Europe is approximately 7% of the land surface area of the world. We don&#x27;t all live in small, densely populated places :)</div><br/><div id="38621611" class="c"><input type="checkbox" id="c-38621611" checked=""/><div class="controls bullet"><span class="by">lstodd</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38621513">parent</a><span>|</span><a href="#38622888">next</a><span>|</span><label class="collapse" for="c-38621611">[-]</label><label class="expand" for="c-38621611">[2 more]</label></div><br/><div class="children"><div class="content">And US is 6.1% Your point?</div><br/><div id="38623452" class="c"><input type="checkbox" id="c-38623452" checked=""/><div class="controls bullet"><span class="by">callalex</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38621611">parent</a><span>|</span><a href="#38622888">next</a><span>|</span><label class="collapse" for="c-38623452">[-]</label><label class="expand" for="c-38623452">[1 more]</label></div><br/><div class="children"><div class="content">Would you describe the entirety of the US as âdensely populatedâ?</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38622888" class="c"><input type="checkbox" id="c-38622888" checked=""/><div class="controls bullet"><span class="by">klausa</span><span>|</span><a href="#38619978">root</a><span>|</span><a href="#38620479">parent</a><span>|</span><a href="#38620969">prev</a><span>|</span><a href="#38622260">next</a><span>|</span><label class="collapse" for="c-38622888">[-]</label><label class="expand" for="c-38622888">[1 more]</label></div><br/><div class="children"><div class="content">I can make &quot;regular&quot; phone calls when on a different continent and on WiFi without paying any roaming fees.</div><br/></div></div></div></div><div id="38622260" class="c"><input type="checkbox" id="c-38622260" checked=""/><div class="controls bullet"><span class="by">pomian</span><span>|</span><a href="#38619978">parent</a><span>|</span><a href="#38620479">prev</a><span>|</span><a href="#38618722">next</a><span>|</span><label class="collapse" for="c-38622260">[-]</label><label class="expand" for="c-38622260">[1 more]</label></div><br/><div class="children"><div class="content">That looks great! 
I have a pixel 4xl that will not allow enabling VoWifi. (Maybe old sim card, maybe Graphene.) As you mentioned, great for other builds. PinePhone, etc.
Going to try...</div><br/></div></div></div></div><div id="38618722" class="c"><input type="checkbox" id="c-38618722" checked=""/><div class="controls bullet"><span class="by">acaloiar</span><span>|</span><a href="#38619978">prev</a><span>|</span><a href="#38617974">next</a><span>|</span><label class="collapse" for="c-38618722">[-]</label><label class="expand" for="c-38618722">[24 more]</label></div><br/><div class="children"><div class="content">For those who don&#x27;t eat and breathe this stuff, &quot;basebands&quot; are the processors that do all the cellular radio stuff on your smartphone. They&#x27;re separate from device CPUs (referred to as the Application Processor), and are loaded with firmware.<p>This post is about securing the firmware that runs on these little processors. When baseband firmware is compromised, it can lead to complete device compromise.</div><br/><div id="38620722" class="c"><input type="checkbox" id="c-38620722" checked=""/><div class="controls bullet"><span class="by">uncertainrhymes</span><span>|</span><a href="#38618722">parent</a><span>|</span><a href="#38620716">next</a><span>|</span><label class="collapse" for="c-38620722">[-]</label><label class="expand" for="c-38620722">[6 more]</label></div><br/><div class="children"><div class="content">This particular comment became the first Google search result (or &#x27;featured snippet&#x27;) for me for &quot;What is Android Baseband&quot; -- weirdly claiming to be posted four hours ago when this comment was two hours old.<p>That is mindblowing to me. Full credit to the poster for becoming the canonical answer, but I&#x27;m not sure how I feel about Google picking comments without even some kind of page-rank-weighted attempt at deciding what is &#x27;best&#x27;.</div><br/><div id="38621387" class="c"><input type="checkbox" id="c-38621387" checked=""/><div class="controls bullet"><span class="by">acaloiar</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38620722">parent</a><span>|</span><a href="#38621990">next</a><span>|</span><label class="collapse" for="c-38621387">[-]</label><label class="expand" for="c-38621387">[1 more]</label></div><br/><div class="children"><div class="content">Yikes. Google put my grug brain [1] synopsis on full display?<p>Google, please use less grug brained explanation of baseband processors [2]. ty<p>[1] <a href="https:&#x2F;&#x2F;grugbrain.dev&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;grugbrain.dev&#x2F;</a><p>[2] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Baseband_processor" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Baseband_processor</a></div><br/></div></div><div id="38621990" class="c"><input type="checkbox" id="c-38621990" checked=""/><div class="controls bullet"><span class="by">voxelghost</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38620722">parent</a><span>|</span><a href="#38621387">prev</a><span>|</span><a href="#38620771">next</a><span>|</span><label class="collapse" for="c-38621990">[-]</label><label class="expand" for="c-38621990">[1 more]</label></div><br/><div class="children"><div class="content">For me, googles &#x27;featured snippet&#x27; for &#x27;What is Android Baseband&#x27; is extracted from the almost unreadable <a href="https:&#x2F;&#x2F;www.mi.com&#x2F;global&#x2F;support&#x2F;faq&#x2F;details&#x2F;KA-11986&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.mi.com&#x2F;global&#x2F;support&#x2F;faq&#x2F;details&#x2F;KA-11986&#x2F;</a><p>I think the parent comment is almost more informative.</div><br/></div></div><div id="38620771" class="c"><input type="checkbox" id="c-38620771" checked=""/><div class="controls bullet"><span class="by">deepsun</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38620722">parent</a><span>|</span><a href="#38621990">prev</a><span>|</span><a href="#38622126">next</a><span>|</span><label class="collapse" for="c-38620771">[-]</label><label class="expand" for="c-38620771">[2 more]</label></div><br/><div class="children"><div class="content">Google still employs a lot of manual page rankings.</div><br/><div id="38621111" class="c"><input type="checkbox" id="c-38621111" checked=""/><div class="controls bullet"><span class="by">rollcat</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38620771">parent</a><span>|</span><a href="#38622126">next</a><span>|</span><label class="collapse" for="c-38621111">[-]</label><label class="expand" for="c-38621111">[1 more]</label></div><br/><div class="children"><div class="content">Also probably enough Googlers just hanging out on HN.</div><br/></div></div></div></div><div id="38622126" class="c"><input type="checkbox" id="c-38622126" checked=""/><div class="controls bullet"><span class="by">SushiHippie</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38620722">parent</a><span>|</span><a href="#38620771">prev</a><span>|</span><a href="#38620716">next</a><span>|</span><label class="collapse" for="c-38622126">[-]</label><label class="expand" for="c-38622126">[1 more]</label></div><br/><div class="children"><div class="content">FastGPT from Kagi answers to this question:<p>&quot;Baseband is the firmware that controls the cellular radio functions of an Android device. It is responsible for things like connecting to mobile networks, making phone calls, and sending&#x2F;receiving SMS messages. [1][2]<p>The baseband firmware resides on the same storage (eMMC) as the Android operating system but runs independently on a separate baseband processor. It communicates with the Android OS through shared memory and AT commands. [3][4]<p>Baseband versions are different from Android build numbers. The baseband version refers specifically to the firmware running the cellular radio hardware. [5]<p>Baseband firmware has been found to contain vulnerabilities that could allow remote command execution if exploited. However, Android devices from reputable manufacturers like Google&#x2F;Pixel generally receive frequent baseband updates to address such issues. [6][7][8]&quot;<p>[1] <a href="https:&#x2F;&#x2F;www.quora.com&#x2F;What-do-baseband-version-and-kernel-version-mean-in-Android" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.quora.com&#x2F;What-do-baseband-version-and-kernel-ve...</a><p>[2] <a href="https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;AndroidQuestions&#x2F;comments&#x2F;1wzmp7&#x2F;what_are_all_the_different_pieces_of_android&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;AndroidQuestions&#x2F;comments&#x2F;1wzmp7&#x2F;wh...</a><p>[3] <a href="https:&#x2F;&#x2F;android.stackexchange.com&#x2F;questions&#x2F;219230&#x2F;where-is-the-baseband-firmware-stored-and-how-does-android-interact-with-it" rel="nofollow noreferrer">https:&#x2F;&#x2F;android.stackexchange.com&#x2F;questions&#x2F;219230&#x2F;where-is-...</a><p>[4] <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;24569075&#x2F;how-mobile-os-talks-to-baseband-os" rel="nofollow noreferrer">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;24569075&#x2F;how-mobile-os-t...</a><p>[5] <a href="https:&#x2F;&#x2F;forums.androidcentral.com&#x2F;threads&#x2F;difference-between-baseband-version-and-build-number.95728&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;forums.androidcentral.com&#x2F;threads&#x2F;difference-between...</a><p>[6] <a href="https:&#x2F;&#x2F;techcrunch.com&#x2F;2019&#x2F;11&#x2F;08&#x2F;android-baseband-flaws&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;techcrunch.com&#x2F;2019&#x2F;11&#x2F;08&#x2F;android-baseband-flaws&#x2F;</a><p>[7] <a href="https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;GrapheneOS&#x2F;comments&#x2F;11op7yz&#x2F;remote_hijacking_via_baseband_processor&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;GrapheneOS&#x2F;comments&#x2F;11op7yz&#x2F;remote_...</a><p>[8] <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38616922">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38616922</a><p>And the last link is this hackernews post!</div><br/></div></div></div></div><div id="38620716" class="c"><input type="checkbox" id="c-38620716" checked=""/><div class="controls bullet"><span class="by">winter_blue</span><span>|</span><a href="#38618722">parent</a><span>|</span><a href="#38620722">prev</a><span>|</span><a href="#38619093">next</a><span>|</span><label class="collapse" for="c-38620716">[-]</label><label class="expand" for="c-38620716">[3 more]</label></div><br/><div class="children"><div class="content">The device drivers for these baseband processors really should be run inside virtual machines. Most modern processors support IOMMUs [1], and assuming that (hopefully) modern cellphone processors have IOMMU support, the operating system should be updated to running device drivers in an isolated container or VM.<p>With Linux <i>not being a microkernel</i> thereâs a high likelihood the device driver expects to run in kernel mode. We probably will need to have a little a Linux VM containing the driver, and create a system that propagates its I&#x2F;O back to the host. Itâs a lot of overhead, but Iâm not sure if there any other way of ensuring secure device drivers on Linux.<p>[1] Ancient device drivers expected full unrestricted DMA, i.e. full unlimited read&#x2F;write access to RAM. But IOMMUs (VT-d on Intel) let us pretend to give such device drivers full DMA while isolating them.</div><br/><div id="38620993" class="c"><input type="checkbox" id="c-38620993" checked=""/><div class="controls bullet"><span class="by">ignoramous</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38620716">parent</a><span>|</span><a href="#38621420">next</a><span>|</span><label class="collapse" for="c-38620993">[-]</label><label class="expand" for="c-38620993">[1 more]</label></div><br/><div class="children"><div class="content">Android has transitioned to <i>secure</i> DMA-BUF (after much controversy with ION), which more or less alleviates the need to use a mutually-untrusted VM (<i>pKVM</i> <a href="https:&#x2F;&#x2F;youtu.be&#x2F;edqJSzsDRxk" rel="nofollow noreferrer">https:&#x2F;&#x2F;youtu.be&#x2F;edqJSzsDRxk</a>) for Baseband isolation?<p>Note though, OEMs are known to run &#x27;device management&#x27; stuff with elevated privileges (not just the Baseband). Ex: see this write-up on Samsung RKP (realtime kernel protection): <a href="https:&#x2F;&#x2F;archive.is&#x2F;6ClWm" rel="nofollow noreferrer">https:&#x2F;&#x2F;archive.is&#x2F;6ClWm</a><p>As for &#x27;drivers&#x27;, the GPU drivers have also a viable attack vector: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=34490471">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=34490471</a></div><br/></div></div><div id="38621420" class="c"><input type="checkbox" id="c-38621420" checked=""/><div class="controls bullet"><span class="by">numpad0</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38620716">parent</a><span>|</span><a href="#38620993">prev</a><span>|</span><a href="#38619093">next</a><span>|</span><label class="collapse" for="c-38621420">[-]</label><label class="expand" for="c-38621420">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s usually Linux that gets isolated by classical(not like modern VMM) monitor and kept away from baseband, not the other way around.</div><br/></div></div></div></div><div id="38619093" class="c"><input type="checkbox" id="c-38619093" checked=""/><div class="controls bullet"><span class="by">ksjskskskkk</span><span>|</span><a href="#38618722">parent</a><span>|</span><a href="#38620716">prev</a><span>|</span><a href="#38619710">next</a><span>|</span><label class="collapse" for="c-38619093">[-]</label><label class="expand" for="c-38619093">[3 more]</label></div><br/><div class="children"><div class="content">&gt; , it can lead to complete device compromise.<p>lile they had on the flagship pixels just 8mo ago.<p>the csv google downgraded the severity because there was a work around of &quot;disabling 5&#x2F;4g&quot; in a market that offset 3g. heh.</div><br/><div id="38620477" class="c"><input type="checkbox" id="c-38620477" checked=""/><div class="controls bullet"><span class="by">gruez</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38619093">parent</a><span>|</span><a href="#38619710">next</a><span>|</span><label class="collapse" for="c-38620477">[-]</label><label class="expand" for="c-38620477">[2 more]</label></div><br/><div class="children"><div class="content">Source? If you&#x27;re talking about this[1] from a few days ago, all the vulnerabilities were DoS (ie. they can crash your phone). Hardly &quot;complete device compromise&quot;.<p>[1] <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38567149">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38567149</a></div><br/><div id="38621014" class="c"><input type="checkbox" id="c-38621014" checked=""/><div class="controls bullet"><span class="by">gavinsyancey</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38620477">parent</a><span>|</span><a href="#38619710">next</a><span>|</span><label class="collapse" for="c-38621014">[-]</label><label class="expand" for="c-38621014">[1 more]</label></div><br/><div class="children"><div class="content">Probably this one, from March:<p><a href="https:&#x2F;&#x2F;googleprojectzero.blogspot.com&#x2F;2023&#x2F;03&#x2F;multiple-internet-to-baseband-remote-rce.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;googleprojectzero.blogspot.com&#x2F;2023&#x2F;03&#x2F;multiple-inte...</a><p>&gt; The four most severe of these eighteen vulnerabilities ... allowed for Internet-to-baseband remote code execution<p>Affected the Pixel 6 and 7, among other devices.</div><br/></div></div></div></div></div></div><div id="38619710" class="c"><input type="checkbox" id="c-38619710" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#38618722">parent</a><span>|</span><a href="#38619093">prev</a><span>|</span><a href="#38623902">next</a><span>|</span><label class="collapse" for="c-38619710">[-]</label><label class="expand" for="c-38619710">[4 more]</label></div><br/><div class="children"><div class="content">&gt; When baseband firmware is compromised, it can lead to complete device compromise.<p>I believe thatâs generally only still true for Android and fixing that is what this is talking about. I donât actually know but I recall when I worked at Apple many years ago that the baseband was firewalled already for this exact reason.<p>Edit: canât find any reports of a baseband compromise for iPhones although I wouldnât rely on a 30 second DuckDuckGo search to state something definitively.</div><br/><div id="38620584" class="c"><input type="checkbox" id="c-38620584" checked=""/><div class="controls bullet"><span class="by">danielheath</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38619710">parent</a><span>|</span><a href="#38623902">next</a><span>|</span><label class="collapse" for="c-38620584">[-]</label><label class="expand" for="c-38620584">[3 more]</label></div><br/><div class="children"><div class="content">There have been, but iPhones all have the baseband connected via an MMU, so even if you get code execution it&#x27;s hard to exploit usefully (you can see&#x2F;modify packets, but nearly everything is encrypted these days).<p>Some android manufacturers also have an MMU but others connect the baseband directly to main memory, leading to total device takeover when the baseband is compromised.</div><br/><div id="38620851" class="c"><input type="checkbox" id="c-38620851" checked=""/><div class="controls bullet"><span class="by">iforgotpassword</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38620584">parent</a><span>|</span><a href="#38623902">next</a><span>|</span><label class="collapse" for="c-38620851">[-]</label><label class="expand" for="c-38620851">[2 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t find any trace of this with a quick Google search, but I&#x27;m super sure I read about the very first iPhones having the baseband module talk to the soc via USB as an isolation measure, since USB didn&#x27;t have DMA or anything &quot;dangerous&quot;. Anybody else heard that, or am I hallucinating?</div><br/><div id="38621363" class="c"><input type="checkbox" id="c-38621363" checked=""/><div class="controls bullet"><span class="by">numpad0</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38620851">parent</a><span>|</span><a href="#38623902">next</a><span>|</span><label class="collapse" for="c-38621363">[-]</label><label class="expand" for="c-38621363">[1 more]</label></div><br/><div class="children"><div class="content">USB? Not UART serial? It seemed a lot of early smartphones did have the modem over AT commands through serial port, like good old DOS computers.</div><br/></div></div></div></div></div></div></div></div><div id="38623902" class="c"><input type="checkbox" id="c-38623902" checked=""/><div class="controls bullet"><span class="by">yMEyUyNE1</span><span>|</span><a href="#38618722">parent</a><span>|</span><a href="#38619710">prev</a><span>|</span><a href="#38618772">next</a><span>|</span><label class="collapse" for="c-38623902">[-]</label><label class="expand" for="c-38623902">[1 more]</label></div><br/><div class="children"><div class="content">Is there any way to isolate or sandbox it, so that the rest of the phone&#x2F;device is not compromised?</div><br/></div></div><div id="38618772" class="c"><input type="checkbox" id="c-38618772" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#38618722">parent</a><span>|</span><a href="#38623902">prev</a><span>|</span><a href="#38621834">next</a><span>|</span><label class="collapse" for="c-38618772">[-]</label><label class="expand" for="c-38618772">[5 more]</label></div><br/><div class="children"><div class="content">It can but doesn&#x27;t necessarily, right? There&#x27;s a variety of interconnect and IOMMU architectures here, so it&#x27;s not a given that a baseband processor has or is one step away from unrestricted access to the whole platform.</div><br/><div id="38619162" class="c"><input type="checkbox" id="c-38619162" checked=""/><div class="controls bullet"><span class="by">csdvrx</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38618772">parent</a><span>|</span><a href="#38621834">next</a><span>|</span><label class="collapse" for="c-38619162">[-]</label><label class="expand" for="c-38619162">[4 more]</label></div><br/><div class="children"><div class="content">it can&#x27;t and it shouldn&#x27;t <i>IF</i> IOMMUs were properly used</div><br/><div id="38621905" class="c"><input type="checkbox" id="c-38621905" checked=""/><div class="controls bullet"><span class="by">MadnessASAP</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38619162">parent</a><span>|</span><a href="#38621834">next</a><span>|</span><label class="collapse" for="c-38621905">[-]</label><label class="expand" for="c-38621905">[3 more]</label></div><br/><div class="children"><div class="content">If I can put my paranoia cap on for a moment. The baseband processor having privileged access to the main processor may be a &quot;feature&quot; not a bug. It&#x27;s a powerful processor, that is running constantly, has unlimited and continuous inscrutable communication with the network, is the gatekeeper for the main processors communication with the network, and it&#x27;s firmware is practically required by regulations to be an opaque blob. Seems to be pretty much the ideal place for nefarious deeds.</div><br/><div id="38622514" class="c"><input type="checkbox" id="c-38622514" checked=""/><div class="controls bullet"><span class="by">csdvrx</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38621905">parent</a><span>|</span><a href="#38621834">next</a><span>|</span><label class="collapse" for="c-38622514">[-]</label><label class="expand" for="c-38622514">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The baseband processor having privileged access to the main processor may be a &quot;feature&quot; not a bug<p>yes but iff with the qualifier of &quot;in old systems, where permissions were a tree-like state where root&#x2F;uid0 could see what unpriviledged users would do - by design&quot;<p>It&#x27;s a dated design. More separation is needed, like what was achieved for virtualization or containers (namespaces)<p>&gt; it&#x27;s firmware is practically required by regulations to be an opaque blob<p>That&#x27;s another problem, but I think it also comes from thinking in a tree-like state system.<p>Ideally, a device shouldn&#x27;t be able to take down a well designed network: if you plug a bad appliance in your AC, it will not crash the power grub: it&#x27;ll just trip a fuse.</div><br/><div id="38623703" class="c"><input type="checkbox" id="c-38623703" checked=""/><div class="controls bullet"><span class="by">MadnessASAP</span><span>|</span><a href="#38618722">root</a><span>|</span><a href="#38622514">parent</a><span>|</span><a href="#38621834">next</a><span>|</span><label class="collapse" for="c-38623703">[-]</label><label class="expand" for="c-38623703">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t disagree with any of that. My point being that the people with the power to make the change have no desire too.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="38617974" class="c"><input type="checkbox" id="c-38617974" checked=""/><div class="controls bullet"><span class="by">therealmarv</span><span>|</span><a href="#38618722">prev</a><span>|</span><a href="#38617414">next</a><span>|</span><label class="collapse" for="c-38617974">[-]</label><label class="expand" for="c-38617974">[3 more]</label></div><br/><div class="children"><div class="content">Guessing the Tensor G1..3 based Android phones are not affected by 5Ghoul? <a href="https:&#x2F;&#x2F;asset-group.github.io&#x2F;disclosures&#x2F;5ghoul&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;asset-group.github.io&#x2F;disclosures&#x2F;5ghoul&#x2F;</a></div><br/><div id="38620133" class="c"><input type="checkbox" id="c-38620133" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#38617974">parent</a><span>|</span><a href="#38619127">next</a><span>|</span><label class="collapse" for="c-38620133">[-]</label><label class="expand" for="c-38620133">[1 more]</label></div><br/><div class="children"><div class="content">The Pixel lineup uses Samsung modems.</div><br/></div></div><div id="38619127" class="c"><input type="checkbox" id="c-38619127" checked=""/><div class="controls bullet"><span class="by">ksjskskskkk</span><span>|</span><a href="#38617974">parent</a><span>|</span><a href="#38620133">prev</a><span>|</span><a href="#38617414">next</a><span>|</span><label class="collapse" for="c-38619127">[-]</label><label class="expand" for="c-38619127">[1 more]</label></div><br/><div class="children"><div class="content">it probably is, but you won&#x27;t get the usual academic work for free as you get with more common platforms.</div><br/></div></div></div></div><div id="38617414" class="c"><input type="checkbox" id="c-38617414" checked=""/><div class="controls bullet"><span class="by">csdvrx</span><span>|</span><a href="#38617974">prev</a><span>|</span><a href="#38620067">next</a><span>|</span><label class="collapse" for="c-38617414">[-]</label><label class="expand" for="c-38617414">[7 more]</label></div><br/><div class="children"><div class="content">The ASAN etc. are nice suggestions for parsing the OTA messages delivered over a link. It really mattered with serial links<p>But if there&#x27;s a CPU, and the link has access to the IO space, I&#x27;d prefer to first have IOMMU to avoid giving too much trust to the baseband: a takeover or exploit of whatever&#x27;s parsing the messages would then be a lesser concern.<p>Most 4G&#x2F;5G modems are connected straight to the PCI bus and I believe that&#x27;s far more unsafe: with no IOMMU, in case of a baseband takeover, it&#x27;s game over.<p>Old serial ports on well-known IO (ex: COM1 0x03f8, COM2 0x02f8) seem to have provided a natural checkpoint and chokepoints.<p>Or am I missing something obvious?</div><br/><div id="38617862" class="c"><input type="checkbox" id="c-38617862" checked=""/><div class="controls bullet"><span class="by">jtriangle</span><span>|</span><a href="#38617414">parent</a><span>|</span><a href="#38619516">next</a><span>|</span><label class="collapse" for="c-38617862">[-]</label><label class="expand" for="c-38617862">[1 more]</label></div><br/><div class="children"><div class="content">Take a few steps back, the obvious problem is that all phones are chock full of mysterious black boxes that the owner of the device has zero say over.<p>Android has the problem of being too open to prevent backwards implementations and shitty, vulnerable, and bug prone code, but not open enough for anyone with the incentive to fix those issues to actually be allowed to fix them.<p>I see the eventualities to be either Google locks down android significantly, and the market shifts to something more akin to Nvidia&#x27;s board partner model, or, it opens way up, and device manufacturers open source their implementations of various system devices in order to crowd source fixes&#x2F;improvements&#x2F;etc. The former is much more likely than the latter, but, as a consumer, the latter would be preferable.</div><br/></div></div><div id="38619516" class="c"><input type="checkbox" id="c-38619516" checked=""/><div class="controls bullet"><span class="by">twothreeone</span><span>|</span><a href="#38617414">parent</a><span>|</span><a href="#38617862">prev</a><span>|</span><a href="#38618219">next</a><span>|</span><label class="collapse" for="c-38619516">[-]</label><label class="expand" for="c-38619516">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s actually strictly worse: even if they had an IOMMU and the drivers were implemented correctly, phone vendors provide remote access tools as part of their firmware stack (e.g., see <a href="https:&#x2F;&#x2F;www.fsf.org&#x2F;blogs&#x2F;community&#x2F;replicant-developers-find-and-close-samsung-galaxy-backdoor" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.fsf.org&#x2F;blogs&#x2F;community&#x2F;replicant-developers-fin...</a>). To reiterate one of the other commenters, as long as users don&#x27;t control what code runs on the baseband, they do not in fact have ownership of the device. The same holds for anything else that has a baseband (such as most modern cars). This sentiment is publicly communicated by telco&#x27;s and manufacturers and convenient for regulators.</div><br/><div id="38619877" class="c"><input type="checkbox" id="c-38619877" checked=""/><div class="controls bullet"><span class="by">JoshTriplett</span><span>|</span><a href="#38617414">root</a><span>|</span><a href="#38619516">parent</a><span>|</span><a href="#38618219">next</a><span>|</span><label class="collapse" for="c-38619877">[-]</label><label class="expand" for="c-38619877">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s true, but as long as the baseband doesn&#x27;t have access to the rest of the device, there is at least a <i>limit</i> to how much damage it can do, which is a good incremental step. If it can&#x27;t exploit the OS, then worst case, it has access to network traffic (just like the next router in the chain, which is why all the traffic should be encrypted), and it has the ability to help locate the device against the user&#x27;s wishes (but so do the cell towers).<p>Rewriting baseband firmware is also a great opportunity to make it Open Source, and I hope that happens as well.</div><br/><div id="38621899" class="c"><input type="checkbox" id="c-38621899" checked=""/><div class="controls bullet"><span class="by">twothreeone</span><span>|</span><a href="#38617414">root</a><span>|</span><a href="#38619877">parent</a><span>|</span><a href="#38618219">next</a><span>|</span><label class="collapse" for="c-38621899">[-]</label><label class="expand" for="c-38621899">[1 more]</label></div><br/><div class="children"><div class="content">It looks like <a href="https:&#x2F;&#x2F;osmocom.org&#x2F;projects&#x2F;baseband" rel="nofollow noreferrer">https:&#x2F;&#x2F;osmocom.org&#x2F;projects&#x2F;baseband</a> is still somewhat active.. they mainly develop for the TI Calypso (Motorola C123 and some others). My understanding is that all &quot;modern&quot; (meaning 3G and up) modems are basically sealed black boxes.</div><br/></div></div></div></div></div></div><div id="38618219" class="c"><input type="checkbox" id="c-38618219" checked=""/><div class="controls bullet"><span class="by">devit</span><span>|</span><a href="#38617414">parent</a><span>|</span><a href="#38619516">prev</a><span>|</span><a href="#38620067">next</a><span>|</span><label class="collapse" for="c-38618219">[-]</label><label class="expand" for="c-38618219">[2 more]</label></div><br/><div class="children"><div class="content">At least modern Google Pixel phones have an IOMMU (<a href="https:&#x2F;&#x2F;grapheneos.org&#x2F;faq#baseband-isolation" rel="nofollow noreferrer">https:&#x2F;&#x2F;grapheneos.org&#x2F;faq#baseband-isolation</a>)</div><br/><div id="38618362" class="c"><input type="checkbox" id="c-38618362" checked=""/><div class="controls bullet"><span class="by">csdvrx</span><span>|</span><a href="#38617414">root</a><span>|</span><a href="#38618219">parent</a><span>|</span><a href="#38620067">next</a><span>|</span><label class="collapse" for="c-38618362">[-]</label><label class="expand" for="c-38618362">[1 more]</label></div><br/><div class="children"><div class="content">&gt; A component being on a separate chip is orthogonal to whether it&#x27;s isolated. In order to be isolated, the drivers need to treat it as untrusted. If it has DMA access, that needs to be contained via IOMMU and the driver needs to treat the shared memory as untrusted, as it would do with data received another way<p>YES!</div><br/></div></div></div></div></div></div><div id="38620067" class="c"><input type="checkbox" id="c-38620067" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#38617414">prev</a><span>|</span><a href="#38617736">next</a><span>|</span><label class="collapse" for="c-38620067">[-]</label><label class="expand" for="c-38620067">[2 more]</label></div><br/><div class="children"><div class="content">Anyone surprised by basebands being vulnerable should know these things:<p>- there are only three big players in town: Qualcomm, Mediatek and Samsung, and the latter is pretty rare to find outside of Samsung&#x27;s own devices and the Google Pixel lineup (where they also have been implicated in security [4] and battery performance [5] issues)<p>- Qualcomm is infamous for suing anyone including Apple for patents crap, which is how this oligopoly formed in the first place, and why there&#x27;s barely any competition<p>- It&#x27;s not the first time serious vulnerabilities have appeared in baseband chips [1]<p>- and finally, to a possible cause, Qualcomm&#x27;s development practices [2] are even worse than what&#x27;s reported about Oracle [3], if these (anonymous) HN comments are to be believed.<p>[1] <a href="https:&#x2F;&#x2F;www.bleepingcomputer.com&#x2F;news&#x2F;security&#x2F;qualcomm-vulnerability-impacts-nearly-40-percent-of-all-mobile-phones&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.bleepingcomputer.com&#x2F;news&#x2F;security&#x2F;qualcomm-vuln...</a><p>[2] <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38607205">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38607205</a><p>[3] <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=18442941">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=18442941</a><p>[4] <a href="https:&#x2F;&#x2F;www.notebookcheck.com&#x2F;Google-warnt-vor-massiven-Sicherheitsluecken-im-Exynos-Modem-in-Pixel-7-Galaxy-S22-Galaxy-Watch5-und-Co.701749.0.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.notebookcheck.com&#x2F;Google-warnt-vor-massiven-Sich...</a><p>[5] <a href="https:&#x2F;&#x2F;www.nextpit.com&#x2F;google-pixel-8-pro-5g-modem-battery-life-drain" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.nextpit.com&#x2F;google-pixel-8-pro-5g-modem-battery-...</a></div><br/><div id="38620166" class="c"><input type="checkbox" id="c-38620166" checked=""/><div class="controls bullet"><span class="by">phh</span><span>|</span><a href="#38620067">parent</a><span>|</span><a href="#38617736">next</a><span>|</span><label class="collapse" for="c-38620166">[-]</label><label class="expand" for="c-38620166">[1 more]</label></div><br/><div class="children"><div class="content">&gt; - there are only three big players in town: Qualcomm, Mediatek and Samsung, and the latter is pretty rare to find outside of Samsung&#x27;s own devices<p>For basebands yes. I&#x27;ll complete this for a quick overview for IMS&#x2F;VoLTE, which is often in baseband, but not always. (And VoLTE is at least partly what the article is about, and the last public Pixel remote flaw was caused by VoLTE)<p>Just to give a quick approximate overlook:<p>- If you&#x27;re on a Verizon-branded device, Verizon probably made their own IMS implementation mandatory [1]<p>- If you&#x27;re on a Samsung or LGE-branded device (no matter the SoC), they use their own IMS implementation [1]<p>- If you&#x27;re using a non-Samsung-branded Samsung Silicon device (=SLSI: Pixels, Moto One Action and few others), they use a different IMS implementation than the IMS Samsung uses in their smartphones<p>- In other cases, you&#x27;re indeed likely using the IMS&#x2F;VoLTE implementation provided by the baseband&#x2F;SoC vendor<p>As far as I know, the implementations I&#x27;ve marked with [1] are at least partially [2] done in userland in application processor rather than in modem, but it&#x27;s hard understanding really. The ones that are not marked with [1] are in modem afaik.<p>[2] Partially meaning the annoying protocol stuff, but audio encoding&#x2F;decoding + RTP encapsulation might remain in hardware</div><br/></div></div></div></div><div id="38617736" class="c"><input type="checkbox" id="c-38617736" checked=""/><div class="controls bullet"><span class="by">xiipie</span><span>|</span><a href="#38620067">prev</a><span>|</span><a href="#38617391">next</a><span>|</span><label class="collapse" for="c-38617736">[-]</label><label class="expand" for="c-38617736">[13 more]</label></div><br/><div class="children"><div class="content">All good points, but why write this in an &#x27;open letter&#x27; style to unnamed baseband vendors?<p>Does Google not have sufficient contact with key decision makers at Qualcomm, MediaTek, Samsung, etc. to encourage them to improve the the security of their baseband firmware? Those are the people who really need to be convinced.</div><br/><div id="38617848" class="c"><input type="checkbox" id="c-38617848" checked=""/><div class="controls bullet"><span class="by">DiabloD3</span><span>|</span><a href="#38617736">parent</a><span>|</span><a href="#38617751">next</a><span>|</span><label class="collapse" for="c-38617848">[-]</label><label class="expand" for="c-38617848">[11 more]</label></div><br/><div class="children"><div class="content">It isn&#x27;t about &quot;sufficient contact&quot;. Google knows exactly who to call at any of these companies, and those people will pick up the phone when they see Google is the one calling.<p>Qualcomm actively botches the security of their products as per request of many governments.<p>The purpose of the letter is to openly shame these companies without directly accusing them of foul play, instead of gently painting them with the brush of mere incompetence, mere lack of knowledge how modern tooling works.</div><br/><div id="38620852" class="c"><input type="checkbox" id="c-38620852" checked=""/><div class="controls bullet"><span class="by">abdullahkhalids</span><span>|</span><a href="#38617736">root</a><span>|</span><a href="#38617848">parent</a><span>|</span><a href="#38617983">next</a><span>|</span><label class="collapse" for="c-38620852">[-]</label><label class="expand" for="c-38620852">[5 more]</label></div><br/><div class="children"><div class="content">What&#x27;s stopping two trillion dollar corporations who assemble&#x2F;build their own phones and phone OSes from designing&#x2F;manufacturing their own secure baseband chip and getting it certified?</div><br/><div id="38621151" class="c"><input type="checkbox" id="c-38621151" checked=""/><div class="controls bullet"><span class="by">DiabloD3</span><span>|</span><a href="#38617736">root</a><span>|</span><a href="#38620852">parent</a><span>|</span><a href="#38617983">next</a><span>|</span><label class="collapse" for="c-38621151">[-]</label><label class="expand" for="c-38621151">[4 more]</label></div><br/><div class="children"><div class="content">Qualcomm owns patents on an international standard.<p>They sued Apple and arguably won, although they settled out of court.<p>Apple had bought Intel&#x27;s LTE unit and the patents that came with it, and Qualcomm and Intel both licensed patents into a common pool (and as such, any member of that pool did not owe any other member royalties); Apple inherited Intel&#x27;s position in the pool and continued licensing patents to the pool with no change. Apple stopped paying Qualcomm the LTE blood money.<p>_Qualcomm still sued and made money_.<p>If Apple can&#x27;t secure a win against Qualcomm, how the hell can Google?<p>Also, Qualcomm will _never_ license patents (under FRAND or otherwise) to competing vendors; the only way to be allowed to make LTE modems for the west is to be part of that pool.<p>Oh, and btw? Apple was making their (Intel-based) modem in-house for like two generations while that whole thing happened. They&#x27;re back to buying Qualcomm modems again.</div><br/><div id="38622264" class="c"><input type="checkbox" id="c-38622264" checked=""/><div class="controls bullet"><span class="by">wyldfire</span><span>|</span><a href="#38617736">root</a><span>|</span><a href="#38621151">parent</a><span>|</span><a href="#38621361">next</a><span>|</span><label class="collapse" for="c-38622264">[-]</label><label class="expand" for="c-38622264">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Apple stopped paying Qualcomm the LTE blood money.<p>&quot;blood money&quot;?  Why so many tears for the most valuable business on Earth?  When they picked Qualcomm for their 4G modem, the terms were clear.  And then they decided to renegotiate the terms afterwards by telling their manufacturer to withhold the payments to Qualcomm.<p>&gt; _Qualcomm still sued and made money_.<p>They negotiated a settlement, Qualcomm got less than they were owed and Apple paid less than the royalties due.  Why did Apple settle?  Because they had to make design decisions about their new phone - like which modem vendor to use.  If you decide not to pay your supplier you could imagine they&#x27;d want to work that out before agreeing to give you samples of their new design.  If Apple felt that they&#x27;d win the case on the merits and that the Qualcomm modem design didn&#x27;t perform well, they would have just picked a competitor like Samsung.  But they didn&#x27;t do that.  They even dual-sourced modems for iphone 7 in order to preserve their negotiating position.  But that didn&#x27;t work because the iphones with Intel modem performed worse than iphones with Qualcomm modems.<p>&gt; If Apple can&#x27;t secure a win against Qualcomm, how the hell can Google?<p>Google &quot;did&quot; secure a win, didn&#x27;t they?  They took their ball and went home.  They decided to take the Samsung Exynos SoC and modem for their flagship phone.<p>&gt;  They&#x27;re back to buying Qualcomm modems again.<p>... because they&#x27;re better than the competition - including their acquisition?  Is it your contention that Qualcomm somehow forced Apple to pick them over their own?</div><br/><div id="38623341" class="c"><input type="checkbox" id="c-38623341" checked=""/><div class="controls bullet"><span class="by">DiabloD3</span><span>|</span><a href="#38617736">root</a><span>|</span><a href="#38622264">parent</a><span>|</span><a href="#38621361">next</a><span>|</span><label class="collapse" for="c-38623341">[-]</label><label class="expand" for="c-38623341">[1 more]</label></div><br/><div class="children"><div class="content">&gt; &quot;blood money&quot;?<p>Software patents are math patents, and math patents are not legal under US law, yet the USPTO continues to issue them. Many standards organizations require you to open the patents to anyone implementing the specifications managed by that organization if you wish to be part of the committee and introduce your technology to it, and the relevant policy here is a joint ITU-T&#x2F;ITU-R&#x2F;ISO&#x2F;IEC governing agreement to do so.<p>3GPP was developed as a way to sidestep such mandatory agreements, while still being an ITU-managed spec. The company that is gaining the most advantage from this loophole is Qualcomm.<p>&gt; Google &quot;did&quot; secure a win, didn&#x27;t they? They took their ball and went home. They decided to take the Samsung Exynos SoC and modem for their flagship phone.<p>Yes and no. Google and Samsung are jointly putting pressure on Qualcomm that Apple couldn&#x27;t. Both of them have patents that are part of the LTE patent pool as well, and key ones that would cripple Qualcomm if either of them pulled out.<p>Apple, through their Intel LTE acquisition, did not have as much leverage, even though Intel was the only other company was ready to compete in the 5G space and had patents relevant to 5G.<p>I believe Qualcomm, if they wished to push the issue, could also force both companies to settle. They may do so in the future.<p>&gt; ... because they&#x27;re better than the competition - including their acquisition? Is it your contention that Qualcomm somehow forced Apple to pick them over their own?<p>I do not believe so. Most of what was wrong with the first post-acquisition gen modems was Intel mismanagement of the product line (the same way they do to every other product of theirs). LTE benchmarks of the iPhone generation that contained both modems (and it was a random chance on which was in your phone) were mixed. Sometimes the Qualcomm modem was better, sometimes it was Intel.<p>It would be a shame if Apple abandoned the product entirely, and I don&#x27;t think they did. I think this is part of the settlement. So, yes, to answer your question, I believe the settlement requires purchase of Qualcomm modems for x generations. The details of the settlement are not entirely public, other than there is a 2 year supply agreement.<p>You don&#x27;t drop $1B on an acquisition just to get their patent portfolio and then settle and give up forever. You double down and continue working on polishing up that acquisition while the conditions of the settlement expire. I think in 2-3 generations we will see the return of the Intel modem; if we don&#x27;t, I think Apple should go find themselves a new CEO.</div><br/></div></div></div></div><div id="38621361" class="c"><input type="checkbox" id="c-38621361" checked=""/><div class="controls bullet"><span class="by">abdullahkhalids</span><span>|</span><a href="#38617736">root</a><span>|</span><a href="#38621151">parent</a><span>|</span><a href="#38622264">prev</a><span>|</span><a href="#38617983">next</a><span>|</span><label class="collapse" for="c-38621361">[-]</label><label class="expand" for="c-38621361">[1 more]</label></div><br/><div class="children"><div class="content">Thank you. I didn&#x27;t know that.<p>It seems two essential patents will expire in 2029 and 2030 [1]. So we are basically stuck in this mess till then.<p>[1] <a href="http:&#x2F;&#x2F;www.fosspatents.com&#x2F;2022&#x2F;06&#x2F;lessons-from-rejection-of-apples-cert.html" rel="nofollow noreferrer">http:&#x2F;&#x2F;www.fosspatents.com&#x2F;2022&#x2F;06&#x2F;lessons-from-rejection-of...</a></div><br/></div></div></div></div></div></div><div id="38617983" class="c"><input type="checkbox" id="c-38617983" checked=""/><div class="controls bullet"><span class="by">xiipie</span><span>|</span><a href="#38617736">root</a><span>|</span><a href="#38617848">parent</a><span>|</span><a href="#38620852">prev</a><span>|</span><a href="#38617751">next</a><span>|</span><label class="collapse" for="c-38617983">[-]</label><label class="expand" for="c-38617983">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Qualcomm actively botches the security of their products as per request of many governments.<p>Interesting, I was not aware that&#x27;s what they&#x27;re doing. Is there evidence of this?</div><br/><div id="38618727" class="c"><input type="checkbox" id="c-38618727" checked=""/><div class="controls bullet"><span class="by">avidiax</span><span>|</span><a href="#38617736">root</a><span>|</span><a href="#38617983">parent</a><span>|</span><a href="#38617751">next</a><span>|</span><label class="collapse" for="c-38618727">[-]</label><label class="expand" for="c-38618727">[4 more]</label></div><br/><div class="children"><div class="content">I doubt there&#x27;s publicly available evidence.<p>Assuming incompetence before malice, I&#x27;d say that Qualcomm and the other 5G baseband manufacturers have such a moat around cellular modems that it doesn&#x27;t need to be secure. It&#x27;s not a competitive advantage. A security critical application simply assumes that the network and the 5G baseband are compromised.</div><br/><div id="38620159" class="c"><input type="checkbox" id="c-38620159" checked=""/><div class="controls bullet"><span class="by">tuckerpo</span><span>|</span><a href="#38617736">root</a><span>|</span><a href="#38618727">parent</a><span>|</span><a href="#38620110">next</a><span>|</span><label class="collapse" for="c-38620159">[-]</label><label class="expand" for="c-38620159">[1 more]</label></div><br/><div class="children"><div class="content">Mobile standards themselves are largely driven by groups like 3GPP in order to hopefully skirt around oligopolies like Qualcomm who intentionally patent the entire superset of the Latin alphabet in order to sue anyone with a heartbeat.<p>So, security itself is driven by third party organization(s) that consists of engineers from mobile technology companies. If Qualcomm wants their cell modems to be 3GPP certified, they _must_ comply to the 5G standard in it&#x27;s fullest, including all security features (the same will be true for future revisions, 6G, etc)<p>There&#x27;s also groups attempting to make mobile protocols and provisioning entirely open source (O-RAN) which, ironically, will likely improve mobile protocol implementation security practices as they can be audited by anyone with an internet connection.</div><br/></div></div><div id="38620110" class="c"><input type="checkbox" id="c-38620110" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#38617736">root</a><span>|</span><a href="#38618727">parent</a><span>|</span><a href="#38620159">prev</a><span>|</span><a href="#38617751">next</a><span>|</span><label class="collapse" for="c-38620110">[-]</label><label class="expand" for="c-38620110">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Assuming incompetence before malice<p>You may be on the right track here. It&#x27;s just one anonymous HN comment [1], but it fits other pieces (e.g. BSP code dump quality).<p>The sad thing is, there is no competition where one could go to - it&#x27;s either Mediatek who have serious issues of their own, or Samsung who mostly stick to themselves.<p>[1] <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38607205">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38607205</a></div><br/><div id="38621694" class="c"><input type="checkbox" id="c-38621694" checked=""/><div class="controls bullet"><span class="by">tripdout</span><span>|</span><a href="#38617736">root</a><span>|</span><a href="#38620110">parent</a><span>|</span><a href="#38617751">next</a><span>|</span><label class="collapse" for="c-38621694">[-]</label><label class="expand" for="c-38621694">[1 more]</label></div><br/><div class="children"><div class="content">&gt; BSP code dump quality<p>I know they&#x27;re proprietary, but got any more info on this? Would be super interesting.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="38617391" class="c"><input type="checkbox" id="c-38617391" checked=""/><div class="controls bullet"><span class="by">pedrocr</span><span>|</span><a href="#38617736">prev</a><span>|</span><a href="#38621358">next</a><span>|</span><label class="collapse" for="c-38617391">[-]</label><label class="expand" for="c-38617391">[9 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t all of this obvious for a modern C or C++ codebase? Is the state of Android baseband so bad that these are useful suggestions? Are they at least properly ring-fenced from the host CPU&#x2F;RAM these days?</div><br/><div id="38617795" class="c"><input type="checkbox" id="c-38617795" checked=""/><div class="controls bullet"><span class="by">DiabloD3</span><span>|</span><a href="#38617391">parent</a><span>|</span><a href="#38617756">next</a><span>|</span><label class="collapse" for="c-38617795">[-]</label><label class="expand" for="c-38617795">[7 more]</label></div><br/><div class="children"><div class="content">The problem is it isn&#x27;t &quot;Android baseband&quot;, it doesn&#x27;t run on the CPU that Android does at al. Instead, an entire second whole computer (not even a &quot;microcontroller&quot;, in many cases they are just as powerful per-core as your real CPU) that runs a closed source realtime OS that Google (et al.) has zero visibility into.<p>Some phones straight up admit the baseband is actively hostile and only communicates with it via serial (which leads to poor performance, but a secure phone). Some phones, such as any using a vanilla Qualcomm Snapdragon setup of any generation simply don&#x27;t care: the baseband firmware has more holes than a slice of swiss, and the IOMMU refuses to allow the OS to restrict the baseband processor&#x27;s view into system RAM.<p>This is a known attack vector used by state sponsored actors, including the US breaking into the phones of so-called &quot;drug lords&quot; to ease drop on them live from their own phones , without a call being active.<p>Until basebands are mandated to be FOSS for security and safety reasons, Google is just moving the chairs around on the deck of a sinking ship.</div><br/><div id="38618312" class="c"><input type="checkbox" id="c-38618312" checked=""/><div class="controls bullet"><span class="by">csdvrx</span><span>|</span><a href="#38617391">root</a><span>|</span><a href="#38617795">parent</a><span>|</span><a href="#38618530">next</a><span>|</span><label class="collapse" for="c-38618312">[-]</label><label class="expand" for="c-38618312">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Until basebands are mandated to be FOSS for security and safety reasons, Google is just moving the chairs around on the deck of a sinking ship.<p>I agree. I couldn&#x27;t see much of a point in the techniques discussed when there&#x27;s a huge elephant in the room, and you can&#x27;t fix it, so I thought I was missing something obvious.<p>I wasn&#x27;t: it&#x27;s just security theater, doing something for the sake of doing something, while there&#x27;s a big pink elephant in the room you should not look at:<p>&gt; the IOMMU refuses to allow the OS to restrict the baseband processor&#x27;s view into system RAM.<p>And I can&#x27;t find any valid technical reason for that elephant to be in the room.<p>There shouldn&#x27;t be limitations for accepting IOMMUs: &quot;be liberal in what you accept and conservative in what you send&quot;<p>&gt; Some phones straight up admit the baseband is actively hostile and only communicates with it via serial<p>That looks like a fair assumption. You wouldn&#x27;t have daemons listening as UID 0 on all ports, accepting then running the random binaries they get, so why would you magically assume it&#x27;s ok to do the exact same but with baseband instead of a daemon?<p>&gt;  (which leads to poor performance, but a secure phone)<p>Can you recommend some phones?<p>I wanted to get a better understanding of the stack so I bought an original pinephone, with the grand plan of installing arch on it (for fun!)<p>Could it be made to work like that?<p>A simple search only found <a href="https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;pinephone&#x2F;comments&#x2F;har9aj&#x2F;pine_phone_and_graphen_os&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;pinephone&#x2F;comments&#x2F;har9aj&#x2F;pine_phon...</a> which concludes with &quot;I don&#x27;t think the Pinephone can provide any of the security requirements of Graphene OS ( iommu isolation etc )&quot;<p>What should I buy to explore the concept of IOMMUs on cellphones?</div><br/><div id="38618797" class="c"><input type="checkbox" id="c-38618797" checked=""/><div class="controls bullet"><span class="by">galangalalgol</span><span>|</span><a href="#38617391">root</a><span>|</span><a href="#38618312">parent</a><span>|</span><a href="#38620605">next</a><span>|</span><label class="collapse" for="c-38618797">[-]</label><label class="expand" for="c-38618797">[2 more]</label></div><br/><div class="children"><div class="content">Graphene recommends a modern pixel. If they can properly restrict memory access on those phones <i>and</i> the baseband doesn&#x27;t have any direct access to the mic via analog signal or similar, then it probably can&#x27;t listen in on either incoming or outgoing communication, that should all be encrypted before it hits the memory right?  You could still be located and identified, but they don&#x27;t need to compromise your baseband for that.</div><br/></div></div><div id="38620605" class="c"><input type="checkbox" id="c-38620605" checked=""/><div class="controls bullet"><span class="by">DiabloD3</span><span>|</span><a href="#38617391">root</a><span>|</span><a href="#38618312">parent</a><span>|</span><a href="#38618797">prev</a><span>|</span><a href="#38618530">next</a><span>|</span><label class="collapse" for="c-38620605">[-]</label><label class="expand" for="c-38620605">[2 more]</label></div><br/><div class="children"><div class="content">Arguably, any system that uses a Qualcomm SoC is not secure: either they do it on purpose, or they truly are incompetent, or it is a mix of both. No Qualcomm phone I&#x27;ve ever owned I&#x27;ve been truly happy with from the SoC SDK perspective (makes the job of community ROMs a thousand times harder).<p>I do consider the Pinephone and Pinephone Pro secure, however. It doesn&#x27;t use Qualcomm, and the broadband SoC is an isolated part. Allwinner and Rockchip do not have the security nightmare track record that Qualcomm does. They also ship with Postmarket instead of an Android that isn&#x27;t security focused, which is nice.<p>The only problem with Allwinner and Rockchip is they are both Chinese companies that may be tampered with by the Chinese government. Qualcomm and Mediatek just have a record, today, of security flaw after security flaw.<p>The new Samsung-made SoCs in the new Pixels are also an interesting choice. They do not use the Samsung TPM, instead opting for Google&#x27;s newest version of the Titan TPM. Shortly after the Pixel 6 came out, Google Project Zero issued a story about the Samsung TPM having security issues. Hmmmmmmmmmmmmmmmmmmmmmmmmm.</div><br/><div id="38621156" class="c"><input type="checkbox" id="c-38621156" checked=""/><div class="controls bullet"><span class="by">csdvrx</span><span>|</span><a href="#38617391">root</a><span>|</span><a href="#38620605">parent</a><span>|</span><a href="#38618530">next</a><span>|</span><label class="collapse" for="c-38621156">[-]</label><label class="expand" for="c-38621156">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I do consider the Pinephone and Pinephone Pro secure, however. It doesn&#x27;t use Qualcomm, and the broadband SoC is an isolated part.<p>Good, I&#x27;ll play with my pinephone then! I didn&#x27;t want my efforts to be wasted if I discovered some horrible security hole that I would find as distracting as this obvious huge elephant in the room<p>&gt; The only problem with Allwinner and Rockchip is they are both Chinese companies that may be tampered with by the Chinese government.<p>I do not believe this is a likely problem. And even if it was, &quot;not for me&quot;: I already have a few eink android Chinese devices so I&#x27;d be toast anyway, so it shouldn&#x27;t influence my decision.<p>&gt; Qualcomm and Mediatek just have a record, today, of security flaw after security flaw.<p>I see that and I find it concerning, so I&#x27;d rather take my chances with something I can explore, see the flaws and limit them, than something that doesn&#x27;t let me do that.<p>BTW I love how they are more flexible that US devices, letting me root and change their mtd content! Check the boox and bigme devices if you are interested in linux on baremetal color eink, yet with full control.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38621358" class="c"><input type="checkbox" id="c-38621358" checked=""/><div class="controls bullet"><span class="by">BobbyTables2</span><span>|</span><a href="#38617391">prev</a><span>|</span><a href="#38622029">next</a><span>|</span><label class="collapse" for="c-38621358">[-]</label><label class="expand" for="c-38621358">[2 more]</label></div><br/><div class="children"><div class="content">I feel like this article was surely written by someone who has never actually looked at cellular baseband firmware, listened to researcherâs talks, or even stayed at a Holiday Inn.<p>Cellular hardware companies have to care firstâ¦ As in NOT using crappy 32bit processors without virtual memory.<p>Things like non-executable stacks have meritâ¦ ASLR has meritâ¦<p>Then, we can start yapping about compiler flagsâ¦</div><br/></div></div><div id="38622029" class="c"><input type="checkbox" id="c-38622029" checked=""/><div class="controls bullet"><span class="by">rubatuga</span><span>|</span><a href="#38621358">prev</a><span>|</span><label class="collapse" for="c-38622029">[-]</label><label class="expand" for="c-38622029">[1 more]</label></div><br/><div class="children"><div class="content">Or you could just use a USB cellular modem.</div><br/></div></div></div></div></div></div></div></body></html>