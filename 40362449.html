<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1715763670889" as="style"/><link rel="stylesheet" href="styles.css?v=1715763670889"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://urlhaus.abuse.ch/">URLhaus: A database of malicious URLs used for malware distribution</a> <span class="domain">(<a href="https://urlhaus.abuse.ch">urlhaus.abuse.ch</a>)</span></div><div class="subtext"><span>fanf2</span> | <span>19 comments</span></div><br/><div><div id="40364510" class="c"><input type="checkbox" id="c-40364510" checked=""/><div class="controls bullet"><span class="by">whirlwin</span><span>|</span><a href="#40363315">next</a><span>|</span><label class="collapse" for="c-40364510">[-]</label><label class="expand" for="c-40364510">[2 more]</label></div><br/><div class="children"><div class="content">How does it keep the records up-to-date? An IP nowadays is highly elastic and can be relocated to different tenants on your cloud provider.</div><br/><div id="40364608" class="c"><input type="checkbox" id="c-40364608" checked=""/><div class="controls bullet"><span class="by">sambazi</span><span>|</span><a href="#40364510">parent</a><span>|</span><a href="#40363315">next</a><span>|</span><label class="collapse" for="c-40364608">[-]</label><label class="expand" for="c-40364608">[1 more]</label></div><br/><div class="children"><div class="content">it was never a good idea, but works somewhat</div><br/></div></div></div></div><div id="40363315" class="c"><input type="checkbox" id="c-40363315" checked=""/><div class="controls bullet"><span class="by">amne</span><span>|</span><a href="#40364510">prev</a><span>|</span><a href="#40362933">next</a><span>|</span><label class="collapse" for="c-40363315">[-]</label><label class="expand" for="c-40363315">[11 more]</label></div><br/><div class="children"><div class="content">To me this looks that for ~90% (eyballed) you just need to tell your browser somehow to stay away from any port other than 80 or 443. If some script&#x2F;link-rel&#x2F;src attrib points to a non-http(s) port just pop a warning to confirm you&#x27;re ok with it. Is there a browser today with this feature?<p>Or go wild to neuter your browser and configure your firewall to allow only dst ports 80 and 443 for mozilla&#x2F;chrome&#x2F;edge&#x2F;etc.<p>Also curious what are the performance implications for adding to your firewall 
 about 2 million IPs or maybe a couple 100k if you&#x27;re brave to do ranges.</div><br/><div id="40364387" class="c"><input type="checkbox" id="c-40364387" checked=""/><div class="controls bullet"><span class="by">yuliyp</span><span>|</span><a href="#40363315">parent</a><span>|</span><a href="#40364172">next</a><span>|</span><label class="collapse" for="c-40364387">[-]</label><label class="expand" for="c-40364387">[2 more]</label></div><br/><div class="children"><div class="content">This feels like the wrong conclusion in an adversarial game. Such a heuristic works only because it&#x27;s not done at any reasonable rate. As soon as it gets applied nontrivially you&#x27;ll see scammers adapt back to ports 80&#x2F;443. And you&#x27;ve got a broken browser to boot.</div><br/><div id="40364626" class="c"><input type="checkbox" id="c-40364626" checked=""/><div class="controls bullet"><span class="by">amne</span><span>|</span><a href="#40363315">root</a><span>|</span><a href="#40364387">parent</a><span>|</span><a href="#40364172">next</a><span>|</span><label class="collapse" for="c-40364626">[-]</label><label class="expand" for="c-40364626">[1 more]</label></div><br/><div class="children"><div class="content">I agree that is the likely outcome. It is interesting to me though that they&#x27;re not concentrated on ports 80&#x2F;443. There must be a reason why and one answer, from a comment below, could be that boxes hosting this already serve legit http content on those ports. Having this kind of traffic show up in http monitoring tools would make the hack obvious.</div><br/></div></div></div></div><div id="40364172" class="c"><input type="checkbox" id="c-40364172" checked=""/><div class="controls bullet"><span class="by">Glazui</span><span>|</span><a href="#40363315">parent</a><span>|</span><a href="#40364387">prev</a><span>|</span><a href="#40363999">next</a><span>|</span><label class="collapse" for="c-40364172">[-]</label><label class="expand" for="c-40364172">[2 more]</label></div><br/><div class="children"><div class="content">I recently got a pop up in Firefox doing exactly that. I was messing around with my homelab and entered a URL&#x2F;Port that Firefox deemed suspicious and warned me that “this port is usually not used for web browsing. Are you sure you want to visit that?”</div><br/><div id="40364596" class="c"><input type="checkbox" id="c-40364596" checked=""/><div class="controls bullet"><span class="by">amne</span><span>|</span><a href="#40363315">root</a><span>|</span><a href="#40364172">parent</a><span>|</span><a href="#40363999">next</a><span>|</span><label class="collapse" for="c-40364596">[-]</label><label class="expand" for="c-40364596">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m hearing more and more nice things about firefox lately. Been on chrome for the last 10 years or so but I might have to switch soon if they break extensions the way the plan to.</div><br/></div></div></div></div><div id="40363999" class="c"><input type="checkbox" id="c-40363999" checked=""/><div class="controls bullet"><span class="by">wannacboatmovie</span><span>|</span><a href="#40363315">parent</a><span>|</span><a href="#40364172">prev</a><span>|</span><a href="#40363437">next</a><span>|</span><label class="collapse" for="c-40363999">[-]</label><label class="expand" for="c-40363999">[1 more]</label></div><br/><div class="children"><div class="content">Google has been doing a pretty good job at breaking the web on their own via &quot;features&quot; in Chrome, let&#x27;s not give them any other ideas.</div><br/></div></div><div id="40363437" class="c"><input type="checkbox" id="c-40363437" checked=""/><div class="controls bullet"><span class="by">toast0</span><span>|</span><a href="#40363315">parent</a><span>|</span><a href="#40363999">prev</a><span>|</span><a href="#40363730">next</a><span>|</span><label class="collapse" for="c-40363437">[-]</label><label class="expand" for="c-40363437">[1 more]</label></div><br/><div class="children"><div class="content">On performance, it depends a bit.<p>If you&#x27;re running a stateful firewall, those generally don&#x27;t evaluate firewall rules for established states, and most of your traffic is to established states, so no big deal.<p>If you&#x27;re not running a stateful firewall, it&#x27;s not totally unreasonable to skip the firewall for tcp packets with ACK and not SYN, so again no big deal on those. But http&#x2F;3 is udp, so no shortcuts there.<p>Afaik, most firewalls have a lookup table available, you&#x27;d want to use that, rather than 2 million rules. On FreeBSD, ipfw and pf have lookup tables, ipf calls them pools, but it looks like the same thing. A lookup table for IP addresses is pretty fast, even with 2M entries.</div><br/></div></div><div id="40363730" class="c"><input type="checkbox" id="c-40363730" checked=""/><div class="controls bullet"><span class="by">schoen</span><span>|</span><a href="#40363315">parent</a><span>|</span><a href="#40363437">prev</a><span>|</span><a href="#40362933">next</a><span>|</span><label class="collapse" for="c-40363730">[-]</label><label class="expand" for="c-40363730">[4 more]</label></div><br/><div class="children"><div class="content">Can anyone explain why malware distributors would prefer (or be somehow forced into using) non-default TCP ports?</div><br/><div id="40363759" class="c"><input type="checkbox" id="c-40363759" checked=""/><div class="controls bullet"><span class="by">VoidWhisperer</span><span>|</span><a href="#40363315">root</a><span>|</span><a href="#40363730">parent</a><span>|</span><a href="#40364132">next</a><span>|</span><label class="collapse" for="c-40363759">[-]</label><label class="expand" for="c-40363759">[1 more]</label></div><br/><div class="children"><div class="content">My (naive) guess is that it makes them slightly less likely to be picked up by scanners like shodan. I&#x27;m probably wrong though</div><br/></div></div><div id="40364132" class="c"><input type="checkbox" id="c-40364132" checked=""/><div class="controls bullet"><span class="by">sambazi</span><span>|</span><a href="#40363315">root</a><span>|</span><a href="#40363730">parent</a><span>|</span><a href="#40363759">prev</a><span>|</span><a href="#40362933">next</a><span>|</span><label class="collapse" for="c-40364132">[-]</label><label class="expand" for="c-40364132">[2 more]</label></div><br/><div class="children"><div class="content">because the original owner of the box would mind if the application on default port stops working</div><br/><div id="40364636" class="c"><input type="checkbox" id="c-40364636" checked=""/><div class="controls bullet"><span class="by">amne</span><span>|</span><a href="#40363315">root</a><span>|</span><a href="#40364132">parent</a><span>|</span><a href="#40362933">next</a><span>|</span><label class="collapse" for="c-40364636">[-]</label><label class="expand" for="c-40364636">[1 more]</label></div><br/><div class="children"><div class="content">or wonder why weird routes like &quot;&#x2F;i&quot; or &quot;&#x2F;bin.sh&quot; are among the top accessed URLs in their monitoring dashboards</div><br/></div></div></div></div></div></div></div></div><div id="40362933" class="c"><input type="checkbox" id="c-40362933" checked=""/><div class="controls bullet"><span class="by">tkzed49</span><span>|</span><a href="#40363315">prev</a><span>|</span><label class="collapse" for="c-40362933">[-]</label><label class="expand" for="c-40362933">[5 more]</label></div><br/><div class="children"><div class="content">Who are abuse.ch? Are they well-known? I assume the hosts file could be useful to add to pihole?</div><br/><div id="40363084" class="c"><input type="checkbox" id="c-40363084" checked=""/><div class="controls bullet"><span class="by">bauruine</span><span>|</span><a href="#40362933">parent</a><span>|</span><a href="#40363322">next</a><span>|</span><label class="collapse" for="c-40363084">[-]</label><label class="expand" for="c-40363084">[1 more]</label></div><br/><div class="children"><div class="content">They seem to be partners of spamhaus. From the recent feed [0] it looks like it&#x27;s often just IP addresses so you would need to add it to your firewall.<p>[0]: <a href="https:&#x2F;&#x2F;urlhaus-api.abuse.ch&#x2F;v1&#x2F;urls&#x2F;recent&#x2F;" rel="nofollow">https:&#x2F;&#x2F;urlhaus-api.abuse.ch&#x2F;v1&#x2F;urls&#x2F;recent&#x2F;</a></div><br/></div></div><div id="40363322" class="c"><input type="checkbox" id="c-40363322" checked=""/><div class="controls bullet"><span class="by">supriyo-biswas</span><span>|</span><a href="#40362933">parent</a><span>|</span><a href="#40363084">prev</a><span>|</span><a href="#40363108">next</a><span>|</span><label class="collapse" for="c-40363322">[-]</label><label class="expand" for="c-40363322">[2 more]</label></div><br/><div class="children"><div class="content">Sometimes popular domains like drive.google.com get added, and at other times some domains are just that popular to reach a TRANCO rank of 20,000, so I generally advice against blocking using sources like URLhaus.</div><br/><div id="40364182" class="c"><input type="checkbox" id="c-40364182" checked=""/><div class="controls bullet"><span class="by">sambazi</span><span>|</span><a href="#40362933">root</a><span>|</span><a href="#40363322">parent</a><span>|</span><a href="#40363108">next</a><span>|</span><label class="collapse" for="c-40364182">[-]</label><label class="expand" for="c-40364182">[1 more]</label></div><br/><div class="children"><div class="content">i generally advise against embedding any blocklists into infrastructure; content policy should be done on clients within reach of the user</div><br/></div></div></div></div><div id="40363108" class="c"><input type="checkbox" id="c-40363108" checked=""/><div class="controls bullet"><span class="by">cess11</span><span>|</span><a href="#40362933">parent</a><span>|</span><a href="#40363322">prev</a><span>|</span><label class="collapse" for="c-40363108">[-]</label><label class="expand" for="c-40363108">[1 more]</label></div><br/><div class="children"><div class="content">Yes, they are fairly well-known. They have been partnering with Spamhaus: <a href="https:&#x2F;&#x2F;abuse.ch&#x2F;blog&#x2F;abuse-ch-appoints-spamhaus-as-a-licensee&#x2F;" rel="nofollow">https:&#x2F;&#x2F;abuse.ch&#x2F;blog&#x2F;abuse-ch-appoints-spamhaus-as-a-licens...</a></div><br/></div></div></div></div></div></div></div></div></div></body></html>