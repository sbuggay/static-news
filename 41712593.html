<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1727859676626" as="style"/><link rel="stylesheet" href="styles.css?v=1727859676626"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://jakelazaroff.com/words/a-local-first-case-study/">A Local-First Case Study</a> <span class="domain">(<a href="https://jakelazaroff.com">jakelazaroff.com</a>)</span></div><div class="subtext"><span>paulgb</span> | <span>47 comments</span></div><br/><div><div id="41714627" class="c"><input type="checkbox" id="c-41714627" checked=""/><div class="controls bullet"><span class="by">braden-lk</span><span>|</span><a href="#41712996">next</a><span>|</span><label class="collapse" for="c-41714627">[-]</label><label class="expand" for="c-41714627">[5 more]</label></div><br/><div class="children"><div class="content">We built LegendKeeper using Yjs! (It&#x27;s a mapping app as well, but fantasy). Ended up rolling our own sync server to handle large scale multiplexing, as we have D&amp;D game-masters with 25,000+ documents to manage. (I don&#x27;t know how they do it, tbh!)<p>We opt for the central server as a super-peer and use the Yjs differential update system to avoid loading docs in memory for too long. While there are many things about local-first that are a huge pain in the ass, the UX benefits are pretty huge. The DX can be nice too! Getting to focus on product and not on data transit (once you&#x27;ve got a robust sync system) is pretty sweet. The first 4 weeks of launching our Yjs-based system was rough though; lots of bugs that virally replicated between peers. It requires a really paranoid eye for defensive coding; after several years, we have multiple layers of self-healing and validation on the client.</div><br/><div id="41716637" class="c"><input type="checkbox" id="c-41716637" checked=""/><div class="controls bullet"><span class="by">necrodome</span><span>|</span><a href="#41714627">parent</a><span>|</span><a href="#41714931">next</a><span>|</span><label class="collapse" for="c-41716637">[-]</label><label class="expand" for="c-41716637">[2 more]</label></div><br/><div class="children"><div class="content">I feel like we’re on the verge of seeing the start of a whole new wave of local-first apps (and &quot;personal software&quot; as mentioned here <a href="https:&#x2F;&#x2F;x.com&#x2F;rauchg&#x2F;status&#x2F;1840293374059839726" rel="nofollow">https:&#x2F;&#x2F;x.com&#x2F;rauchg&#x2F;status&#x2F;1840293374059839726</a>), but we’re really missing Rails-like frameworks that offer a complete package for development. Something that gives you all the tools you need—from syncing, conflict resolution, state management, authorization, background jobs in the context of local-first to deployment—without having to reinvent the wheel.<p>I built a simple SaaS [1] to get a sense of what&#x27;s missing and while React Router + a syncing local first database [2]  + $5&#x2F;month Cloudflare gets you pretty far, I still found myself needing to think through a lot of pieces<p>[1] <a href="https:&#x2F;&#x2F;usequickcheck.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;usequickcheck.com&#x2F;</a>
[2] <a href="https:&#x2F;&#x2F;fireproof.storage&#x2F;" rel="nofollow">https:&#x2F;&#x2F;fireproof.storage&#x2F;</a></div><br/><div id="41717715" class="c"><input type="checkbox" id="c-41717715" checked=""/><div class="controls bullet"><span class="by">halfcat</span><span>|</span><a href="#41714627">root</a><span>|</span><a href="#41716637">parent</a><span>|</span><a href="#41714931">next</a><span>|</span><label class="collapse" for="c-41717715">[-]</label><label class="expand" for="c-41717715">[1 more]</label></div><br/><div class="children"><div class="content">Zero [0] is coming, from the people that made Replicache<p>[0] <a href="https:&#x2F;&#x2F;zerosync.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;zerosync.dev&#x2F;</a></div><br/></div></div></div></div><div id="41714931" class="c"><input type="checkbox" id="c-41714931" checked=""/><div class="controls bullet"><span class="by">jakelazaroff</span><span>|</span><a href="#41714627">parent</a><span>|</span><a href="#41716637">prev</a><span>|</span><a href="#41716746">next</a><span>|</span><label class="collapse" for="c-41714931">[-]</label><label class="expand" for="c-41714931">[1 more]</label></div><br/><div class="children"><div class="content">I think a lot of people — including myself — would be very interested in a longer write-up of that system if you&#x27;re ever interested in sharing more :)</div><br/></div></div><div id="41716746" class="c"><input type="checkbox" id="c-41716746" checked=""/><div class="controls bullet"><span class="by">josephg</span><span>|</span><a href="#41714627">parent</a><span>|</span><a href="#41714931">prev</a><span>|</span><a href="#41712996">next</a><span>|</span><label class="collapse" for="c-41716746">[-]</label><label class="expand" for="c-41716746">[1 more]</label></div><br/><div class="children"><div class="content">Oh fascinating! I&#x27;d love to read more about what worked well &amp; poorly when building LegendKeeper on top of Yjs.<p>What features do you wish Yjs had that would make your life easier?</div><br/></div></div></div></div><div id="41712996" class="c"><input type="checkbox" id="c-41712996" checked=""/><div class="controls bullet"><span class="by">er4hn</span><span>|</span><a href="#41714627">prev</a><span>|</span><a href="#41715591">next</a><span>|</span><label class="collapse" for="c-41712996">[-]</label><label class="expand" for="c-41712996">[9 more]</label></div><br/><div class="children"><div class="content">&gt; Architecturally, Y-Sweet acts as a bus: clients connect to the Y-Sweet server rather than directly to each other. Whenever a client connects or makes changes, it syncs its local document with the Y-Sweet server. Y-Sweet merges the client’s document into its own copy, saves it to S3 and broadcasts updates to other clients. Since CRDTs are guaranteed to eventually converge on the same state, at the end of this process all clients have the same document.<p>I had thought that the advantage of CRDTs was you do not need a centralized server and that if you do have a central server Operational Transforms are easier. Am I missing why CRDTs are used here?</div><br/><div id="41713393" class="c"><input type="checkbox" id="c-41713393" checked=""/><div class="controls bullet"><span class="by">jakelazaroff</span><span>|</span><a href="#41712996">parent</a><span>|</span><a href="#41713044">next</a><span>|</span><label class="collapse" for="c-41713393">[-]</label><label class="expand" for="c-41713393">[3 more]</label></div><br/><div class="children"><div class="content">Author here! A few thoughts on this:<p>- First and (maybe most importantly), WebRTC in browsers requires a central server for signaling. So unless web browsers loosen that constraint, a &quot;true&quot; P2P web app without a central server is unfortunately infeasible.<p>- My understanding is that with Operational Transforms, the server is &quot;special&quot; — it&#x27;s responsible for re-ordering the clients&#x27; operations to prevent conflicts. I mention a little later in the article that Y-Sweet is just running plain Yjs under the hood. So it is a central server, but it&#x27;s easily replaceable with any other instance of Y-Sweet; you could fork the code and run your own and it would work just as well.<p>- Peers will only sync their changes if they&#x27;re online at the same time. That means that the longer peers go without being online simultaneously, the more their local documents will diverge. From a user experience point of view, that means people will tend to do a lot of work in a silo and then receive a big batch of others&#x27; changes all at once — not ideal! Having a &quot;cloud peer&quot; that&#x27;s always online mitigates that (this is true for any algorithm).</div><br/><div id="41713784" class="c"><input type="checkbox" id="c-41713784" checked=""/><div class="controls bullet"><span class="by">saurik</span><span>|</span><a href="#41712996">root</a><span>|</span><a href="#41713393">parent</a><span>|</span><a href="#41713044">next</a><span>|</span><label class="collapse" for="c-41713784">[-]</label><label class="expand" for="c-41713784">[2 more]</label></div><br/><div class="children"><div class="content">The ability to run your own server--or even not requiring a bespoke set of operations--isn&#x27;t a special property of a CRDT; the same thing should be doable with something like ShareJS and it&#x27;s generic tree&#x2F;JSON structures.<p>FWIW, though, the author of ShareJS had said some pretty strong things pro-CRDT in the past and even kind of lamenting his work on OT, so...<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=24194091">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=24194091</a></div><br/><div id="41714703" class="c"><input type="checkbox" id="c-41714703" checked=""/><div class="controls bullet"><span class="by">josephg</span><span>|</span><a href="#41712996">root</a><span>|</span><a href="#41713784">parent</a><span>|</span><a href="#41713044">next</a><span>|</span><label class="collapse" for="c-41714703">[-]</label><label class="expand" for="c-41714703">[1 more]</label></div><br/><div class="children"><div class="content">Hi, that’s me!<p>OT would work fine to make this collaboratively editable. It’s just not local first. (If that matters to you.)<p>With an OT based system like sharejs or google docs, the server is the hub, and clients are spokes connecting to that hub. Or to put it another way, the server acts as the central source of truth. If the server goes down, you’ve not only lost the ability to collaboratively edit. You&#x27;ve also usually lost your data too. (You can store a local copy, but sharejs not designed to be able to restore the server’s data from whatever is cached on the clients).<p>With Yjs (and similar libraries), the entire data set is usually stored on each peer the server is just one node you happen to connect to &amp; use to relay messages. Because they’re using Yjs, the author of this travel app could easily set up a parallel webrtc channel with his wife’s computer (in the same house). Any edits made would be broadcast through all available pipes. Then even when they’re on the road and the internet goes down, their devices could still stay in sync. And if the server was somehow wiped, you could spin up another one. The first client that connects would automatically populate the server with all of the data.<p>But whether these local first characteristics matter to you is another question. They might be a hindrance - for commercial data, centralisation is often desirable. I can think of plenty of use cases where replicating your entire database to your customers’ computers (and replicating any changes they make back!) would be a disaster. It depends on your use case.</div><br/></div></div></div></div></div></div><div id="41713044" class="c"><input type="checkbox" id="c-41713044" checked=""/><div class="controls bullet"><span class="by">paulgb</span><span>|</span><a href="#41712996">parent</a><span>|</span><a href="#41713393">prev</a><span>|</span><a href="#41713065">next</a><span>|</span><label class="collapse" for="c-41713044">[-]</label><label class="expand" for="c-41713044">[4 more]</label></div><br/><div class="children"><div class="content">(One of the authors of Y-Sweet)<p>You’re right, that is one of the advantages of CRDTs, but it turns out to be hard to realize on the web — aside from RTC (which has its own dragons), you still need a server in the mix.<p>The other thing an authoritative server solves is persisting the data. Because one server is the authority for a document at a time, you can use S3 or R2 for persistence without worrying about different servers with different versions of the document colliding and erasing each other’s changes.</div><br/><div id="41713354" class="c"><input type="checkbox" id="c-41713354" checked=""/><div class="controls bullet"><span class="by">er4hn</span><span>|</span><a href="#41712996">root</a><span>|</span><a href="#41713044">parent</a><span>|</span><a href="#41713065">next</a><span>|</span><label class="collapse" for="c-41713354">[-]</label><label class="expand" for="c-41713354">[3 more]</label></div><br/><div class="children"><div class="content">Oh, this is interesting. Can you elaborate (or link to some post) about what sort of issues you run into? I find the concept of CRDTs to be very interesting, but if you still need a centralized server I question the value of them over OTs. I&#x27;d love to understand more about if this is a connectivity issue, a CRDT issue, or what.</div><br/><div id="41713658" class="c"><input type="checkbox" id="c-41713658" checked=""/><div class="controls bullet"><span class="by">paulgb</span><span>|</span><a href="#41712996">root</a><span>|</span><a href="#41713354">parent</a><span>|</span><a href="#41713065">next</a><span>|</span><label class="collapse" for="c-41713658">[-]</label><label class="expand" for="c-41713658">[2 more]</label></div><br/><div class="children"><div class="content">The main issue you run into is that the web is designed around client-server communication; you can do peer-to-peer communication in theory but because of NAT and firewalls, many of those end up not being peer to peer in the end.<p>Plus, if you want the data to persist so that two people can collaborate even if they are never online at the same time, you need a server anyway.<p>CRDTs as data structures support peer-to-peer, it’s just that in many use cases that aspect of CRDTs is not needed.</div><br/><div id="41714320" class="c"><input type="checkbox" id="c-41714320" checked=""/><div class="controls bullet"><span class="by">er4hn</span><span>|</span><a href="#41712996">root</a><span>|</span><a href="#41713658">parent</a><span>|</span><a href="#41713065">next</a><span>|</span><label class="collapse" for="c-41714320">[-]</label><label class="expand" for="c-41714320">[1 more]</label></div><br/><div class="children"><div class="content">Okay that all makes a lot of sense thank you.</div><br/></div></div></div></div></div></div></div></div><div id="41713065" class="c"><input type="checkbox" id="c-41713065" checked=""/><div class="controls bullet"><span class="by">com</span><span>|</span><a href="#41712996">parent</a><span>|</span><a href="#41713044">prev</a><span>|</span><a href="#41715591">next</a><span>|</span><label class="collapse" for="c-41713065">[-]</label><label class="expand" for="c-41713065">[1 more]</label></div><br/><div class="children"><div class="content">I think that using a bus decomplicates the connectivity story - having a “cloud peer” removes quite a bit of coding and testing from implementing true peer to peer discovery and communications functionality.<p>Bonus points: you could potentially rip out the bus and replace it with something that involves peer to peer connectivity without changing client data structures.</div><br/></div></div></div></div><div id="41715591" class="c"><input type="checkbox" id="c-41715591" checked=""/><div class="controls bullet"><span class="by">dtkav</span><span>|</span><a href="#41712996">prev</a><span>|</span><a href="#41712959">next</a><span>|</span><label class="collapse" for="c-41715591">[-]</label><label class="expand" for="c-41715591">[1 more]</label></div><br/><div class="children"><div class="content">For those interested in this stack,I have been working on an Obsidian.md plugin called Relay that makes it fully collaborative using yjs and y-sweet.<p>We also use a hub and spoke model, but we still rely on a central server (pocketbase) for management user flows like authorization and billing.<p>Obsidian is such a fantastic editor, and it fits so naturally with local-first collaboration.</div><br/></div></div><div id="41712959" class="c"><input type="checkbox" id="c-41712959" checked=""/><div class="controls bullet"><span class="by">xrd</span><span>|</span><a href="#41715591">prev</a><span>|</span><a href="#41713400">next</a><span>|</span><label class="collapse" for="c-41712959">[-]</label><label class="expand" for="c-41712959">[2 more]</label></div><br/><div class="children"><div class="content">Ink &amp; Switch is like the Medici family of the Internet era. Medici&#x27;s funded the piano, and I&amp;S is funding local-first. I love what they do.</div><br/><div id="41717966" class="c"><input type="checkbox" id="c-41717966" checked=""/><div class="controls bullet"><span class="by">ilrwbwrkhv</span><span>|</span><a href="#41712959">parent</a><span>|</span><a href="#41713400">next</a><span>|</span><label class="collapse" for="c-41717966">[-]</label><label class="expand" for="c-41717966">[1 more]</label></div><br/><div class="children"><div class="content">Who is funding them?</div><br/></div></div></div></div><div id="41713400" class="c"><input type="checkbox" id="c-41713400" checked=""/><div class="controls bullet"><span class="by">wonger_</span><span>|</span><a href="#41712959">prev</a><span>|</span><a href="#41716872">next</a><span>|</span><label class="collapse" for="c-41713400">[-]</label><label class="expand" for="c-41713400">[5 more]</label></div><br/><div class="children"><div class="content">I love how the map automatically updates based on the places typed in the editor. A great visual aid to a text-based workflow.<p>I got confused by this comment though:<p><pre><code>  &gt; To determine when to re-render, “reactive” frameworks like Svelte and Solid track property access using Proxies, whereas “immutable” frameworks like React rely on object identity.
</code></pre>
I thought React was just as reactive as all the other JS frameworks, and that the state&#x2F;setState code would look similar.</div><br/><div id="41713631" class="c"><input type="checkbox" id="c-41713631" checked=""/><div class="controls bullet"><span class="by">jakelazaroff</span><span>|</span><a href="#41713400">parent</a><span>|</span><a href="#41713633">next</a><span>|</span><label class="collapse" for="c-41713631">[-]</label><label class="expand" for="c-41713631">[2 more]</label></div><br/><div class="children"><div class="content">Author here! Maybe I could have worded that better — basically, when you call setState in React, it compares the identities of the new state and old state to determine whether to re-render. Svelte and Solid use “signals” to automatically determine when to re-render, with the drawback that you’re no longer interacting with the “raw” value but a Proxy. But neither way would be able to detect Yjs mutating its internal state; you’re correct that even in React you would need some sort of wrapper code “tricking” it into re-rendering when appropriate.</div><br/><div id="41717771" class="c"><input type="checkbox" id="c-41717771" checked=""/><div class="controls bullet"><span class="by">jayunit</span><span>|</span><a href="#41713400">root</a><span>|</span><a href="#41713631">parent</a><span>|</span><a href="#41713633">next</a><span>|</span><label class="collapse" for="c-41717771">[-]</label><label class="expand" for="c-41717771">[1 more]</label></div><br/><div class="children"><div class="content">I’ve enjoyed using <a href="https:&#x2F;&#x2F;syncedstore.org&#x2F;docs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;syncedstore.org&#x2F;docs&#x2F;</a> as such wrapper code for Yjs in React. They have a Svelte lib too, haven’t tried it.<p>Great article, congrats on releasing!</div><br/></div></div></div></div><div id="41713633" class="c"><input type="checkbox" id="c-41713633" checked=""/><div class="controls bullet"><span class="by">IggleSniggle</span><span>|</span><a href="#41713400">parent</a><span>|</span><a href="#41713631">prev</a><span>|</span><a href="#41714210">next</a><span>|</span><label class="collapse" for="c-41713633">[-]</label><label class="expand" for="c-41713633">[1 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t worked frontend in a long time but just from reading that snippet I would assume React does a `obj===obj` (identity) comparison for state update under the hood, while Svelte&#x2F;Solid are doing a Proxy trap on the accessors like `parent.obj =` would result in an intercept fn being called when you hit that &#x27;obj&#x27; access. Proxy being a little more complicated to reason about and setup in totality but a lot more powerful and flexible.</div><br/></div></div><div id="41714210" class="c"><input type="checkbox" id="c-41714210" checked=""/><div class="controls bullet"><span class="by">jazzypants</span><span>|</span><a href="#41713400">parent</a><span>|</span><a href="#41713633">prev</a><span>|</span><a href="#41716872">next</a><span>|</span><label class="collapse" for="c-41714210">[-]</label><label class="expand" for="c-41714210">[1 more]</label></div><br/><div class="children"><div class="content">React is not &quot;reactive&quot; according to the classic definition, but even the creator of Solid.js thinks that doesn&#x27;t really matter.<p><a href="https:&#x2F;&#x2F;dev.to&#x2F;this-is-learning&#x2F;how-react-isn-t-reactive-and-why-you-shouldn-t-care-152m" rel="nofollow">https:&#x2F;&#x2F;dev.to&#x2F;this-is-learning&#x2F;how-react-isn-t-reactive-and...</a></div><br/></div></div></div></div><div id="41716872" class="c"><input type="checkbox" id="c-41716872" checked=""/><div class="controls bullet"><span class="by">felipefar</span><span>|</span><a href="#41713400">prev</a><span>|</span><a href="#41713259">next</a><span>|</span><label class="collapse" for="c-41716872">[-]</label><label class="expand" for="c-41716872">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m excited by these explorations of dynamic components in rich text. Notion has popularized the idea of documents with rich blocks, where the blocks can provide dynamic behavior to traditional documents. And now we&#x27;re seeing types of inline elements that also provide more structure to rich text. Those location routes seem something that I&#x27;d use myself.</div><br/></div></div><div id="41713259" class="c"><input type="checkbox" id="c-41713259" checked=""/><div class="controls bullet"><span class="by">xnx</span><span>|</span><a href="#41716872">prev</a><span>|</span><a href="#41712898">next</a><span>|</span><label class="collapse" for="c-41713259">[-]</label><label class="expand" for="c-41713259">[5 more]</label></div><br/><div class="children"><div class="content">Is there some version of local-first that doesn&#x27;t require a webserver, but does seamlessly sync state to a consumer cloud service like Google Drive? I&#x27;d love to write apps that have all the speed and portability of local apps, but the data isn&#x27;t tied to a specific device. It seems like it would be feasible to have a large JSON blog background synced to a cloud file service after some threshold of accumulated change or time.</div><br/><div id="41716738" class="c"><input type="checkbox" id="c-41716738" checked=""/><div class="controls bullet"><span class="by">felipefar</span><span>|</span><a href="#41713259">parent</a><span>|</span><a href="#41713796">next</a><span>|</span><label class="collapse" for="c-41716738">[-]</label><label class="expand" for="c-41716738">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s already been some talk of using consumer cloud providers. One shortcoming however is that to work well you have to duplicate the users&#x27; data for each client app, so you&#x27;ll consume x times more storage space of the user. This is fine for apps with little data, but is impractical for other apps.</div><br/></div></div><div id="41713796" class="c"><input type="checkbox" id="c-41713796" checked=""/><div class="controls bullet"><span class="by">ochiba</span><span>|</span><a href="#41713259">parent</a><span>|</span><a href="#41716738">prev</a><span>|</span><a href="#41714900">next</a><span>|</span><label class="collapse" for="c-41713796">[-]</label><label class="expand" for="c-41713796">[1 more]</label></div><br/><div class="children"><div class="content">This made the rounds on HN recently: <a href="https:&#x2F;&#x2F;tonsky.me&#x2F;blog&#x2F;crdt-filesync&#x2F;" rel="nofollow">https:&#x2F;&#x2F;tonsky.me&#x2F;blog&#x2F;crdt-filesync&#x2F;</a><p>A PoC of using Dropbox for a local-first app</div><br/></div></div><div id="41714900" class="c"><input type="checkbox" id="c-41714900" checked=""/><div class="controls bullet"><span class="by">chris_pie</span><span>|</span><a href="#41713259">parent</a><span>|</span><a href="#41713796">prev</a><span>|</span><a href="#41713394">next</a><span>|</span><label class="collapse" for="c-41714900">[-]</label><label class="expand" for="c-41714900">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;remotestorage.io" rel="nofollow">https:&#x2F;&#x2F;remotestorage.io</a> while it&#x27;s a specific protocol for storing user data on a compatible server, their library also provides Google Drive integration</div><br/></div></div><div id="41713394" class="c"><input type="checkbox" id="c-41713394" checked=""/><div class="controls bullet"><span class="by">michaelmure</span><span>|</span><a href="#41713259">parent</a><span>|</span><a href="#41714900">prev</a><span>|</span><a href="#41712898">next</a><span>|</span><label class="collapse" for="c-41713394">[-]</label><label class="expand" for="c-41713394">[1 more]</label></div><br/><div class="children"><div class="content">Not a file storage but <a href="https:&#x2F;&#x2F;github.com&#x2F;git-bug&#x2F;git-bug">https:&#x2F;&#x2F;github.com&#x2F;git-bug&#x2F;git-bug</a> push and sync with any git remote.
There is a generic data structure you can use to build your conflict-free type.</div><br/></div></div></div></div><div id="41712898" class="c"><input type="checkbox" id="c-41712898" checked=""/><div class="controls bullet"><span class="by">com</span><span>|</span><a href="#41713259">prev</a><span>|</span><a href="#41713022">next</a><span>|</span><label class="collapse" for="c-41712898">[-]</label><label class="expand" for="c-41712898">[1 more]</label></div><br/><div class="children"><div class="content">This is great! I was quite excited to see Ink &amp; Switch’s Embark and now this…<p>Jake makes creating a local-first multiplayer app seem so simple.</div><br/></div></div><div id="41713022" class="c"><input type="checkbox" id="c-41713022" checked=""/><div class="controls bullet"><span class="by">er4hn</span><span>|</span><a href="#41712898">prev</a><span>|</span><a href="#41714314">next</a><span>|</span><label class="collapse" for="c-41713022">[-]</label><label class="expand" for="c-41713022">[1 more]</label></div><br/><div class="children"><div class="content">On an unrelated note, I&#x27;m getting local-first case studies everytime I leave a wifi space since my cell phone is still suffering from the Verizon outage (Los Angeles area). My conclusion has been I can read stuff like calendar invites (Google), I can save notes on stuff to do in Trello, but I cannot queue up IMs to send in GHC.</div><br/></div></div><div id="41714314" class="c"><input type="checkbox" id="c-41714314" checked=""/><div class="controls bullet"><span class="by">tkiolp4</span><span>|</span><a href="#41713022">prev</a><span>|</span><a href="#41713489">next</a><span>|</span><label class="collapse" for="c-41714314">[-]</label><label class="expand" for="c-41714314">[2 more]</label></div><br/><div class="children"><div class="content">Would be perfect is somehow it could work without S3. Would be awesome if the internet could just work in p2p mode out of the box, just some JS and HTML and you have 2 computers talking to each other collaborating on a doc without the need of a server (or S3)</div><br/><div id="41714766" class="c"><input type="checkbox" id="c-41714766" checked=""/><div class="controls bullet"><span class="by">josephg</span><span>|</span><a href="#41714314">parent</a><span>|</span><a href="#41713489">next</a><span>|</span><label class="collapse" for="c-41714766">[-]</label><label class="expand" for="c-41714766">[1 more]</label></div><br/><div class="children"><div class="content">You often still want a server somewhere to relay messages. Imagine I type something in my computer at home and turn the device off before leaving the house. Then on the road I pull up the document on my phone. I should see the latest version of the document on my phone. However, there were no moments where both devices were online at the same time.<p>For this to work, my home computer needs to upload the changes somewhere my phone can access them. For example, a home server or a dumb box in the cloud.<p>It’s very difficult to make this work without a server kicking around somewhere. So long as the server is fungible (it can easily be replaced for basically any other server), I don’t really see the problem with keeping a server around to relay messages.</div><br/></div></div></div></div><div id="41713489" class="c"><input type="checkbox" id="c-41713489" checked=""/><div class="controls bullet"><span class="by">k__</span><span>|</span><a href="#41714314">prev</a><span>|</span><a href="#41713074">next</a><span>|</span><label class="collapse" for="c-41713489">[-]</label><label class="expand" for="c-41713489">[1 more]</label></div><br/><div class="children"><div class="content">Awesome stuff. Reminds me of the offline-first movement from ~10 years ago.<p>I&#x27;m currently looking into TinyBase to make working with high latency decentralised services more bearable.<p>Would be cool if there were a better comparison of the different solutions for storage and sync, with features, good use-cases, etc.</div><br/></div></div><div id="41713074" class="c"><input type="checkbox" id="c-41713074" checked=""/><div class="controls bullet"><span class="by">NeutralForest</span><span>|</span><a href="#41713489">prev</a><span>|</span><a href="#41713746">next</a><span>|</span><label class="collapse" for="c-41713074">[-]</label><label class="expand" for="c-41713074">[8 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been hanging local-first circles but haven&#x27;t made to switch to write anything with it yet. Is there a typical stack people recommend to get started? I&#x27;m not really sure where to start, especially in terms of backend.</div><br/><div id="41713108" class="c"><input type="checkbox" id="c-41713108" checked=""/><div class="controls bullet"><span class="by">paulgb</span><span>|</span><a href="#41713074">parent</a><span>|</span><a href="#41713746">next</a><span>|</span><label class="collapse" for="c-41713108">[-]</label><label class="expand" for="c-41713108">[7 more]</label></div><br/><div class="children"><div class="content">I’m biased as one of the authors of Y-Sweet, but I think Jake’s choice of Yjs + Y-Sweet is as good as any to start with. We’ve worked a lot at making the localhost environment easy to get started with, and Yjs is the de facto CRDT with the most written about it.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;jamsocket&#x2F;y-sweet">https:&#x2F;&#x2F;github.com&#x2F;jamsocket&#x2F;y-sweet</a></div><br/><div id="41713438" class="c"><input type="checkbox" id="c-41713438" checked=""/><div class="controls bullet"><span class="by">NeutralForest</span><span>|</span><a href="#41713074">root</a><span>|</span><a href="#41713108">parent</a><span>|</span><a href="#41713746">next</a><span>|</span><label class="collapse" for="c-41713438">[-]</label><label class="expand" for="c-41713438">[6 more]</label></div><br/><div class="children"><div class="content">I&#x27;d like to start with something that&#x27;s more DB oriented like SQLite both locally and in the browser for example but I understand a documented-oriented approach might make more sense.</div><br/><div id="41713551" class="c"><input type="checkbox" id="c-41713551" checked=""/><div class="controls bullet"><span class="by">paulgb</span><span>|</span><a href="#41713074">root</a><span>|</span><a href="#41713438">parent</a><span>|</span><a href="#41713818">next</a><span>|</span><label class="collapse" for="c-41713551">[-]</label><label class="expand" for="c-41713551">[2 more]</label></div><br/><div class="children"><div class="content">In that case, there are a number of recent options. <a href="https:&#x2F;&#x2F;www.instantdb.com&#x2F;">https:&#x2F;&#x2F;www.instantdb.com&#x2F;</a> and <a href="https:&#x2F;&#x2F;electric-sql.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;electric-sql.com&#x2F;</a> come to mind. I wrote about a number of them here: <a href="https:&#x2F;&#x2F;digest.browsertech.com&#x2F;archive&#x2F;browsertech-digest-trip-report-local-first-conf&#x2F;" rel="nofollow">https:&#x2F;&#x2F;digest.browsertech.com&#x2F;archive&#x2F;browsertech-digest-tr...</a></div><br/><div id="41713681" class="c"><input type="checkbox" id="c-41713681" checked=""/><div class="controls bullet"><span class="by">NeutralForest</span><span>|</span><a href="#41713074">root</a><span>|</span><a href="#41713551">parent</a><span>|</span><a href="#41713818">next</a><span>|</span><label class="collapse" for="c-41713681">[-]</label><label class="expand" for="c-41713681">[1 more]</label></div><br/><div class="children"><div class="content">Thank you!</div><br/></div></div></div></div><div id="41713818" class="c"><input type="checkbox" id="c-41713818" checked=""/><div class="controls bullet"><span class="by">ochiba</span><span>|</span><a href="#41713074">root</a><span>|</span><a href="#41713438">parent</a><span>|</span><a href="#41713551">prev</a><span>|</span><a href="#41715486">next</a><span>|</span><label class="collapse" for="c-41713818">[-]</label><label class="expand" for="c-41713818">[1 more]</label></div><br/><div class="children"><div class="content">There is a fairly comprehensive list of frameworks&#x2F;tools here: <a href="https:&#x2F;&#x2F;localfirstweb.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;localfirstweb.dev&#x2F;</a><p>I work on PowerSync and we did a Show HN last year: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38473743">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38473743</a><p>Also see InstantDB Show HN: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41322281">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41322281</a></div><br/></div></div><div id="41715486" class="c"><input type="checkbox" id="c-41715486" checked=""/><div class="controls bullet"><span class="by">JamesSwift</span><span>|</span><a href="#41713074">root</a><span>|</span><a href="#41713438">parent</a><span>|</span><a href="#41713818">prev</a><span>|</span><a href="#41713961">next</a><span>|</span><label class="collapse" for="c-41715486">[-]</label><label class="expand" for="c-41715486">[1 more]</label></div><br/><div class="children"><div class="content">RealmDB is sort of the goto. They were acquired by mongo which could be a negative signal but the team is solid and I haven&#x27;t seen it result it much degredation.<p>EDIT: actually... it looks like mongo may have just announced the EOL for server-side component a couple weeks ago... bad timing!</div><br/></div></div><div id="41713961" class="c"><input type="checkbox" id="c-41713961" checked=""/><div class="controls bullet"><span class="by">matlin</span><span>|</span><a href="#41713074">root</a><span>|</span><a href="#41713438">parent</a><span>|</span><a href="#41715486">prev</a><span>|</span><a href="#41713746">next</a><span>|</span><label class="collapse" for="c-41713961">[-]</label><label class="expand" for="c-41713961">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;d probably enjoy Triplit then--especially if you&#x27;re using Typescript.<p><a href="https:&#x2F;&#x2F;triplit.dev">https:&#x2F;&#x2F;triplit.dev</a></div><br/></div></div></div></div></div></div></div></div><div id="41713746" class="c"><input type="checkbox" id="c-41713746" checked=""/><div class="controls bullet"><span class="by">RobCodeSlayer</span><span>|</span><a href="#41713074">prev</a><span>|</span><a href="#41713432">next</a><span>|</span><label class="collapse" for="c-41713746">[-]</label><label class="expand" for="c-41713746">[2 more]</label></div><br/><div class="children"><div class="content">This is awesome! Since you’re using CRDTs, do you have any plans to make it collaborative? I would find it useful to build an itinerary with multiple people</div><br/><div id="41713777" class="c"><input type="checkbox" id="c-41713777" checked=""/><div class="controls bullet"><span class="by">jakelazaroff</span><span>|</span><a href="#41713746">parent</a><span>|</span><a href="#41713432">next</a><span>|</span><label class="collapse" for="c-41713777">[-]</label><label class="expand" for="c-41713777">[1 more]</label></div><br/><div class="children"><div class="content">It is collaborative! Start a document and send someone else the link :)</div><br/></div></div></div></div><div id="41713432" class="c"><input type="checkbox" id="c-41713432" checked=""/><div class="controls bullet"><span class="by">mentalgear</span><span>|</span><a href="#41713746">prev</a><span>|</span><a href="#41713835">next</a><span>|</span><label class="collapse" for="c-41713432">[-]</label><label class="expand" for="c-41713432">[1 more]</label></div><br/><div class="children"><div class="content">The future is local-first. IF you haven&#x27;t yet learned about it and how to break-out of the expensive cloud&#x2F;serverless cage, this is a good start:
<a href="https:&#x2F;&#x2F;localfirstweb.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;localfirstweb.dev&#x2F;</a></div><br/></div></div><div id="41713835" class="c"><input type="checkbox" id="c-41713835" checked=""/><div class="controls bullet"><span class="by">catchmeifyoucan</span><span>|</span><a href="#41713432">prev</a><span>|</span><a href="#41713517">next</a><span>|</span><label class="collapse" for="c-41713835">[-]</label><label class="expand" for="c-41713835">[1 more]</label></div><br/><div class="children"><div class="content">Great write-up, I&#x27;ve been looking for a solution like this for adding syncing to my local-app!<p>I love that it&#x27;s document stored in S3, and it&#x27;s probably going to be way cheaper than if hosted elsewhere in a database. Can&#x27;t wait to try it out soon</div><br/></div></div><div id="41713517" class="c"><input type="checkbox" id="c-41713517" checked=""/><div class="controls bullet"><span class="by">tobyhinloopen</span><span>|</span><a href="#41713835">prev</a><span>|</span><label class="collapse" for="c-41713517">[-]</label><label class="expand" for="c-41713517">[1 more]</label></div><br/><div class="children"><div class="content">That’s a nice font</div><br/></div></div></div></div></div></div></div></body></html>