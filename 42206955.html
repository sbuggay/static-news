<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1732266086309" as="style"/><link rel="stylesheet" href="styles.css?v=1732266086309"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://portswigger.net/research/listen-to-the-whispers-web-timing-attacks-that-actually-work">Listen to the whispers: web timing attacks that work</a> <span class="domain">(<a href="https://portswigger.net">portswigger.net</a>)</span></div><div class="subtext"><span>saikatsg</span> | <span>18 comments</span></div><br/><div><div id="42208092" class="c"><input type="checkbox" id="c-42208092" checked=""/><div class="controls bullet"><span class="by">miki123211</span><span>|</span><a href="#42208482">next</a><span>|</span><label class="collapse" for="c-42208092">[-]</label><label class="expand" for="c-42208092">[11 more]</label></div><br/><div class="children"><div class="content">Timing attacks are such a pernicious idea.<p>You look at the code and see that there&#x27;s an auth check in place, you test the code to verify that the auth check has no bugs, you make sure that information is never shared with people who don&#x27;t have authorization to access it, and yet it turns out it can be accessed as if there was no auth check at all.<p>To make matters worse, everything can be fine for some time, and then some clever optimization in the CPU, the compiler, cache layer or the database engine introduces a completely unexpected side channel.</div><br/><div id="42208294" class="c"><input type="checkbox" id="c-42208294" checked=""/><div class="controls bullet"><span class="by">GoToRO</span><span>|</span><a href="#42208092">parent</a><span>|</span><a href="#42208482">next</a><span>|</span><label class="collapse" for="c-42208294">[-]</label><label class="expand" for="c-42208294">[10 more]</label></div><br/><div class="children"><div class="content">would adding random delays prevent this?</div><br/><div id="42209530" class="c"><input type="checkbox" id="c-42209530" checked=""/><div class="controls bullet"><span class="by">pwagland</span><span>|</span><a href="#42208092">root</a><span>|</span><a href="#42208294">parent</a><span>|</span><a href="#42208997">next</a><span>|</span><label class="collapse" for="c-42209530">[-]</label><label class="expand" for="c-42209530">[2 more]</label></div><br/><div class="children"><div class="content">No, it only makes it take longer to get the underlying secret.<p>Timing attacks are already dealing with &quot;noisy&quot; data, task scheduling et al, so they all boil down to some level of statistical analysis on the response times. Adding noise to that slows you down, but the underlying bias on the timings is still there.</div><br/><div id="42211601" class="c"><input type="checkbox" id="c-42211601" checked=""/><div class="controls bullet"><span class="by">ozim</span><span>|</span><a href="#42208092">root</a><span>|</span><a href="#42209530">parent</a><span>|</span><a href="#42208997">next</a><span>|</span><label class="collapse" for="c-42211601">[-]</label><label class="expand" for="c-42211601">[1 more]</label></div><br/><div class="children"><div class="content">So in practice it prevents the attack as real world attackers have limited resources and try to find easier targets.</div><br/></div></div></div></div><div id="42208997" class="c"><input type="checkbox" id="c-42208997" checked=""/><div class="controls bullet"><span class="by">Filligree</span><span>|</span><a href="#42208092">root</a><span>|</span><a href="#42208294">parent</a><span>|</span><a href="#42209530">prev</a><span>|</span><a href="#42208931">next</a><span>|</span><label class="collapse" for="c-42208997">[-]</label><label class="expand" for="c-42208997">[2 more]</label></div><br/><div class="children"><div class="content">Random delays specifically do not, as they average out. Delays until a specific point in time do work, so long as the delay is never negative.</div><br/><div id="42212098" class="c"><input type="checkbox" id="c-42212098" checked=""/><div class="controls bullet"><span class="by">bostik</span><span>|</span><a href="#42208092">root</a><span>|</span><a href="#42208997">parent</a><span>|</span><a href="#42208931">next</a><span>|</span><label class="collapse" for="c-42212098">[-]</label><label class="expand" for="c-42212098">[1 more]</label></div><br/><div class="children"><div class="content">This particular case would be a fantastic fit for timer wheel.[0] Instead of writing a brittle implementation of &quot;after a fixed time in the future&quot; logic yourself, you queue the outgoing event to occur after N ticks [of granularity X], and let the dedicated data structure engine do the work for you.<p>0: <a href="https:&#x2F;&#x2F;www.snellman.net&#x2F;blog&#x2F;archive&#x2F;2016-07-27-ratas-hierarchical-timer-wheel&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.snellman.net&#x2F;blog&#x2F;archive&#x2F;2016-07-27-ratas-hiera...</a></div><br/></div></div></div></div><div id="42208931" class="c"><input type="checkbox" id="c-42208931" checked=""/><div class="controls bullet"><span class="by">wiredfool</span><span>|</span><a href="#42208092">root</a><span>|</span><a href="#42208294">parent</a><span>|</span><a href="#42208997">prev</a><span>|</span><a href="#42208493">next</a><span>|</span><label class="collapse" for="c-42208931">[-]</label><label class="expand" for="c-42208931">[1 more]</label></div><br/><div class="children"><div class="content">One thing that I’ve done where I previously had a random delay is implement a delay till a constant time from the start of the request. So all of the timing you get out is effectively how well sleep can target a time.</div><br/></div></div><div id="42208493" class="c"><input type="checkbox" id="c-42208493" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42208092">root</a><span>|</span><a href="#42208294">parent</a><span>|</span><a href="#42208931">prev</a><span>|</span><a href="#42208951">next</a><span>|</span><label class="collapse" for="c-42208493">[-]</label><label class="expand" for="c-42208493">[1 more]</label></div><br/><div class="children"><div class="content">It depends on the kinds of attacks you&#x27;re thinking of. For the stuff Kettle is doing, probably yes. For cryptographic side channels, probably no.</div><br/></div></div><div id="42208951" class="c"><input type="checkbox" id="c-42208951" checked=""/><div class="controls bullet"><span class="by">jack_pp</span><span>|</span><a href="#42208092">root</a><span>|</span><a href="#42208294">parent</a><span>|</span><a href="#42208493">prev</a><span>|</span><a href="#42208482">next</a><span>|</span><label class="collapse" for="c-42208951">[-]</label><label class="expand" for="c-42208951">[3 more]</label></div><br/><div class="children"><div class="content">or you could benchmark the functions that compare secrets to user input and figure out how much time it&#x27;s supposed to take, add 0.5s to the average and always add time before responding to get to that target so essentially your response time is constant regardless of input</div><br/><div id="42209246" class="c"><input type="checkbox" id="c-42209246" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42208092">root</a><span>|</span><a href="#42208951">parent</a><span>|</span><a href="#42208482">next</a><span>|</span><label class="collapse" for="c-42209246">[-]</label><label class="expand" for="c-42209246">[2 more]</label></div><br/><div class="children"><div class="content">Important to keep in mind here that the timing attacks Kettle is talking about generally <i>do not</i> take the form of &quot;providing secret input to a function with variable timing&quot;.</div><br/><div id="42211707" class="c"><input type="checkbox" id="c-42211707" checked=""/><div class="controls bullet"><span class="by">jack_pp</span><span>|</span><a href="#42208092">root</a><span>|</span><a href="#42209246">parent</a><span>|</span><a href="#42208482">next</a><span>|</span><label class="collapse" for="c-42211707">[-]</label><label class="expand" for="c-42211707">[1 more]</label></div><br/><div class="children"><div class="content">He says this exact same thing in the Defense at the end:<p>&gt; Finally, yes I do recommend using constant-time functions when comparing user input with secret keys. Just ask anyone who says this is an actual threat to provide a proof of concept.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42208482" class="c"><input type="checkbox" id="c-42208482" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42208092">prev</a><span>|</span><a href="#42209725">next</a><span>|</span><label class="collapse" for="c-42208482">[-]</label><label class="expand" for="c-42208482">[1 more]</label></div><br/><div class="children"><div class="content">A fun thing about this work is that it&#x27;s following different threads than the remote timing attack research in cryptography follows; high-end remote timing in cryptography involves some signal processing work, which isn&#x27;t really present here. Which means Kettle&#x27;s attacks are likely to get more powerful.</div><br/></div></div><div id="42209725" class="c"><input type="checkbox" id="c-42209725" checked=""/><div class="controls bullet"><span class="by">biosboiii</span><span>|</span><a href="#42208482">prev</a><span>|</span><a href="#42207885">next</a><span>|</span><label class="collapse" for="c-42209725">[-]</label><label class="expand" for="c-42209725">[1 more]</label></div><br/><div class="children"><div class="content">I did some research few weeks ago on the topic of database lookup timing side-channels, conclusion is: They don&#x27;t really exist (for SELECT FROM WHERE commands atleast).
<a href="https:&#x2F;&#x2F;altayakkus.substack.com&#x2F;p&#x2F;timing-side-channel-on-sql-where" rel="nofollow">https:&#x2F;&#x2F;altayakkus.substack.com&#x2F;p&#x2F;timing-side-channel-on-sql...</a></div><br/></div></div><div id="42207885" class="c"><input type="checkbox" id="c-42207885" checked=""/><div class="controls bullet"><span class="by">ssklash</span><span>|</span><a href="#42209725">prev</a><span>|</span><a href="#42210400">next</a><span>|</span><label class="collapse" for="c-42207885">[-]</label><label class="expand" for="c-42207885">[2 more]</label></div><br/><div class="children"><div class="content">I look forward to James Kettle&#x27;s yearly research results, he&#x27;s the most incredible appsec researcher I know of.</div><br/><div id="42208220" class="c"><input type="checkbox" id="c-42208220" checked=""/><div class="controls bullet"><span class="by">markandrewj</span><span>|</span><a href="#42207885">parent</a><span>|</span><a href="#42210400">next</a><span>|</span><label class="collapse" for="c-42208220">[-]</label><label class="expand" for="c-42208220">[1 more]</label></div><br/><div class="children"><div class="content">I have never met James, but I agree his research is great. I always enjoy reading or watching his content.</div><br/></div></div></div></div><div id="42210400" class="c"><input type="checkbox" id="c-42210400" checked=""/><div class="controls bullet"><span class="by">marcus_holmes</span><span>|</span><a href="#42207885">prev</a><span>|</span><label class="collapse" for="c-42210400">[-]</label><label class="expand" for="c-42210400">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m curious that he appears to completely ignore the network latency&#x2F;jitter on the return path. How does this work?</div><br/><div id="42212208" class="c"><input type="checkbox" id="c-42212208" checked=""/><div class="controls bullet"><span class="by">albinowax_</span><span>|</span><a href="#42210400">parent</a><span>|</span><label class="collapse" for="c-42212208">[-]</label><label class="expand" for="c-42212208">[1 more]</label></div><br/><div class="children"><div class="content">With the single-packet attack, you look at the order that the responses arrive in, instead of the time they take to arrive. Since the responses are on a single TLS stream, they always arrive at the client in the order that the server issued them in. Hope that makes sense!</div><br/></div></div></div></div></div></div></div></div></div></body></html>