<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1695978061139" as="style"/><link rel="stylesheet" href="styles.css?v=1695978061139"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.tamikothiel.com/theory/cm_txts/di-frames.html">The Design of the Connection Machine</a> <span class="domain">(<a href="https://www.tamikothiel.com">www.tamikothiel.com</a>)</span></div><div class="subtext"><span>voxadam</span> | <span>18 comments</span></div><br/><div><div id="37698206" class="c"><input type="checkbox" id="c-37698206" checked=""/><div class="controls bullet"><span class="by">monocasa</span><span>|</span><a href="#37698351">next</a><span>|</span><label class="collapse" for="c-37698206">[-]</label><label class="expand" for="c-37698206">[8 more]</label></div><br/><div class="children"><div class="content">I&#x27;m working on a CM-2 emulator that I plan on releasing next year.  I have some Paris (CM-2 &#x27;asm&#x27;) executables and the &#x27;coldboot&#x27; program running.<p>The CM-2 is probably my favorite arch I&#x27;ve come across wrt to 1980s architectures that are truly different experiences to what can be achieved with hardware you can buy today.  It&#x27;s the closest thing I&#x27;ve found to a zachtronics game that someone had the cajones to actually build.  Really really really fun to code for.<p>Each of the four execution units has a 16,384 bit wide, single cycle access data path to RAM.  Put that in your HBM and smoke it.<p>If anyone has any questions I&#x27;d love to challenge my understanding and attempt to answer (just take some of my answers with a grain of salt, as I&#x27;m still reverse engineering).</div><br/><div id="37700646" class="c"><input type="checkbox" id="c-37700646" checked=""/><div class="controls bullet"><span class="by">watersb</span><span>|</span><a href="#37698206">parent</a><span>|</span><a href="#37699061">next</a><span>|</span><label class="collapse" for="c-37700646">[-]</label><label class="expand" for="c-37700646">[1 more]</label></div><br/><div class="children"><div class="content">I read Hillis&#x27; book on the Connection Machine, back when he first published it.<p>I was studying AI at university at the time, and had just discovered the back-propagation method for training neural nets. Thought CM might be good at that.<p>But any burly dot-product accelerator would be way more appropriate; that&#x27;s why GPUs are a good fit for training and inference.<p>Connection Machine might be ideal for a Gelertner tuple-space memory.<p>Later, I worked at a biotech company that actually had a real Connection Machine; they used it as a huge sliding-window pattern matcher, to search patent filings for prior art. !! Searching for gene sequences in published literature. Holy moly... These days, a CPU would be fast enough; memory sizes are much greater now.</div><br/></div></div><div id="37699061" class="c"><input type="checkbox" id="c-37699061" checked=""/><div class="controls bullet"><span class="by">timmg</span><span>|</span><a href="#37698206">parent</a><span>|</span><a href="#37700646">prev</a><span>|</span><a href="#37698390">next</a><span>|</span><label class="collapse" for="c-37699061">[-]</label><label class="expand" for="c-37699061">[2 more]</label></div><br/><div class="children"><div class="content">Obviously, please share when you do. Is the technical information needed readily available?  Just curious.<p>I took a parallel computing class decades ago in college and we programmed a Connection Machine. I think a CM-2. Maybe CM-1?  IIRC, we used Fortran with some extensions.<p>Was so cool and interesting. But never did touch one since…</div><br/><div id="37699292" class="c"><input type="checkbox" id="c-37699292" checked=""/><div class="controls bullet"><span class="by">monocasa</span><span>|</span><a href="#37698206">root</a><span>|</span><a href="#37699061">parent</a><span>|</span><a href="#37698390">next</a><span>|</span><label class="collapse" for="c-37699292">[-]</label><label class="expand" for="c-37699292">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Obviously, please share when you do.<p>Totes, I&#x27;ve time boxed my work to the end of next year for releasing.  I basically want to get a good conference talk out of it for ol&#x27; CV.<p>&gt; Is the technical information needed readily available?<p>It&#x27;s available if you&#x27;re willing to dig for it.  There are tape images on bitsavers for a sun4 frontend.  While being failed reads, I wrote some custom tooling to extract what I can.  It looks like the vast majority of the failures were in a couple starlisp images for which I have a newer copy.  Beyond that, man pages, header files, prelinked static libraries with a bunch of symbols, microcode images, administration utilities, config files, and source to the kernel driver which exposes the control signals and command fifos to user space are all available.<p>That&#x27;s in addition quite a bit of pdf documention.<p>So the problem is more than tractable, there&#x27;s just work involved at this point.<p>The biggest piece missing is probably pictures of the processor, microcontroller, and backplane boards to better answer questions about the microcode.  Everyone I&#x27;ve contacted with a CM-2 these days really only has the chassis and the blinkenlights. : &#x2F;</div><br/></div></div></div></div><div id="37698390" class="c"><input type="checkbox" id="c-37698390" checked=""/><div class="controls bullet"><span class="by">convolvatron</span><span>|</span><a href="#37698206">parent</a><span>|</span><a href="#37699061">prev</a><span>|</span><a href="#37698505">next</a><span>|</span><label class="collapse" for="c-37698390">[-]</label><label class="expand" for="c-37698390">[1 more]</label></div><br/><div class="children"><div class="content">mail me at gmail if you want to talk paris. I spent a few years mostly writing paris and a little cmis.<p>edit: oh, and I recently found the super secret cmis programming manual on line at <a href="https:&#x2F;&#x2F;www.rcsri.org&#x2F;library&#x2F;80s&#x2F;CMIS-Reference-Manual.pdf" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.rcsri.org&#x2F;library&#x2F;80s&#x2F;CMIS-Reference-Manual.pdf</a></div><br/></div></div><div id="37698505" class="c"><input type="checkbox" id="c-37698505" checked=""/><div class="controls bullet"><span class="by">jshaqaw</span><span>|</span><a href="#37698206">parent</a><span>|</span><a href="#37698390">prev</a><span>|</span><a href="#37698351">next</a><span>|</span><label class="collapse" for="c-37698505">[-]</label><label class="expand" for="c-37698505">[3 more]</label></div><br/><div class="children"><div class="content">Do you have starlisp running?</div><br/><div id="37698605" class="c"><input type="checkbox" id="c-37698605" checked=""/><div class="controls bullet"><span class="by">monocasa</span><span>|</span><a href="#37698206">root</a><span>|</span><a href="#37698505">parent</a><span>|</span><a href="#37698351">next</a><span>|</span><label class="collapse" for="c-37698605">[-]</label><label class="expand" for="c-37698605">[2 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t attempted to yet. Most of my efforts have focused on running from the Cstar environment running on a sun4 frontend since those binaries and headers are a bit more conducive to reverse engineering with modern tooling like ghidra.  Or at least that&#x27;s what fits my RE skill set better.<p>That being said I have a couple starlisp images for sun4 that should eventually run given the layer at which I&#x27;m targeting for the emulator.  It&#x27;s a.goal.to get them running, but hasn&#x27;t reached the top of the priority queue yet.<p>FWIW, tensorflow&#x2F;pytorch are remarkably close to the vague vibe of starlisp.</div><br/><div id="37698844" class="c"><input type="checkbox" id="c-37698844" checked=""/><div class="controls bullet"><span class="by">jshaqaw</span><span>|</span><a href="#37698206">root</a><span>|</span><a href="#37698605">parent</a><span>|</span><a href="#37698351">next</a><span>|</span><label class="collapse" for="c-37698844">[-]</label><label class="expand" for="c-37698844">[1 more]</label></div><br/><div class="children"><div class="content">I agree on the “vibe” there. In the mid-90s when I was in high school I got access to a cm-2 to figure out how to transform sparse matrices using genetic algorithms on that massively parallel architecture. Good times!</div><br/></div></div></div></div></div></div></div></div><div id="37698351" class="c"><input type="checkbox" id="c-37698351" checked=""/><div class="controls bullet"><span class="by">Animats</span><span>|</span><a href="#37698206">prev</a><span>|</span><a href="#37697767">next</a><span>|</span><label class="collapse" for="c-37698351">[-]</label><label class="expand" for="c-37698351">[2 more]</label></div><br/><div class="children"><div class="content">That was one of the strange highly-parallel machines of the 1980s-1990s. There were the NCube, the BBN Butterfly, the Transputer, and some other machines.<p>The NCube was another power of 2 machine, and could have up to 1024 CPUS, 64 per meter-square card. Each CPU was conventional, about 1 MIPS, with, I think, 128KB RAM.
Stanford had one with one card of 64 CPUs. Well, 63; one was broken. It was a donation from an oil company that found it wasn&#x27;t useful for seismic data processing. Nobody found a good use for it at Stanford, and it was donated to some other school.<p>Each CPU had a 0..1023 address. Message sending XORed the address of the source and destination, and the 0 bits told which paths would take the message closer to its destination. In theory there was supposed to be a path for each bit difference, like the Connection Machine, but actually there were some shared bus-type paths, I think. This allowed doing the whole thing with printed circuit cards and a printed circuit backplane, rather than a huge number of discrete wires. So the whole thing fit in a 1M cube.<p>With all these strange machines, the problem has to fit the machine, or you don&#x27;t get the parallelism.
Trying to fit existing problems into those forms was mostly a flop. Which is why general purpose shared memory multiprocessors with caches won out.<p>Massive parallelism seems to be problem-first. Graphics has a mostly-forward pipeline, so GPUs have a mostly-forward pipeline. Bitcoin miners have barely any intercommunication needs at all, so they&#x27;re standalone things with minimal intercommunication. Back-propagation has a very standard form, and now we&#x27;re seeing hardware that&#x27;s sort of like a GPU but with lots of short multiply&#x2F;add hardware.<p>What&#x27;s striking is how much compute people have been able to get out of GPUs. They are sometimes the wrong tool for the job, but they&#x27;re mass produced and affordable. The multi-million dollar one-off parallel machines, though, were mostly dead ends.</div><br/><div id="37698900" class="c"><input type="checkbox" id="c-37698900" checked=""/><div class="controls bullet"><span class="by">tvarghese7</span><span>|</span><a href="#37698351">parent</a><span>|</span><a href="#37697767">next</a><span>|</span><label class="collapse" for="c-37698900">[-]</label><label class="expand" for="c-37698900">[1 more]</label></div><br/><div class="children"><div class="content">Yup, getting the the problem to fit the machine was hard. I thought NCUBE was better than the CM1 for doing actual work.<p>Some people resorted to just running each node separately, after the initial conditions were set up there was no need for communications.  That was one way around having to be clever and adapt your algorithm.  They would run for days, sometimes because nobody else was on the machines :)<p>At one point I got my 2D code running on a CM2 (IIRC), one of the nodes was bad and the Fortran log function always returned 0.  So when I made the movie of my simulation there was one tile&#x2F;rectangle that was just blank.  Afterwards they asked me if they could use my program as a diagnostic tool to verify all the nodes were working correctly. :))<p>I moved one from parallel and supercomputers when I graduated.  Don&#x27;t miss them that much.</div><br/></div></div></div></div><div id="37697767" class="c"><input type="checkbox" id="c-37697767" checked=""/><div class="controls bullet"><span class="by">michelpp</span><span>|</span><a href="#37698351">prev</a><span>|</span><a href="#37698785">next</a><span>|</span><label class="collapse" for="c-37697767">[-]</label><label class="expand" for="c-37697767">[1 more]</label></div><br/><div class="children"><div class="content">There is a great video where Danny Hillis describes their thinking behind the design of the CM-2, and how it influenced the design of the then still in development CM-5.<p>What&#x27;s crazy is when he talked about &quot;bits in the machine&quot; that are not stored in RAM, but are stored in wires &quot;in flight&quot; across the room sized machine with one big synchronous clock.<p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Ua-swPZTeX4">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Ua-swPZTeX4</a></div><br/></div></div><div id="37698785" class="c"><input type="checkbox" id="c-37698785" checked=""/><div class="controls bullet"><span class="by">tvarghese7</span><span>|</span><a href="#37697767">prev</a><span>|</span><a href="#37698996">next</a><span>|</span><label class="collapse" for="c-37698785">[-]</label><label class="expand" for="c-37698785">[1 more]</label></div><br/><div class="children"><div class="content">I thought it (CM1) was a turd when I worked on it as a grad student.  Looked cool though.<p>I would go to conferences where people would proudly present their algorithm getting 1MFLOP. Parallel programming was hard then and it is hard now. SIMD made it even harder.<p>CM2 was a little better since it was easier to get better performance, but we had some of the first machines and stability was not good. I think multiple sites where told they would have the first and TM shipped to them all in pieces simultaneously, so technically they all had the &quot;first&quot; machine. Smart guys.<p>Still CM-2 was better than the ETA-10 we had. Cray-2 was great.</div><br/></div></div><div id="37698996" class="c"><input type="checkbox" id="c-37698996" checked=""/><div class="controls bullet"><span class="by">nickt</span><span>|</span><a href="#37698785">prev</a><span>|</span><a href="#37698492">next</a><span>|</span><label class="collapse" for="c-37698996">[-]</label><label class="expand" for="c-37698996">[1 more]</label></div><br/><div class="children"><div class="content">Tamiko Thiel worked with Feynman and Hillis at thinking machines and is responsible, amongst many other things, for how cool the CM-1 and CM-2 looked.<p>Also responsible for the very cool CM t-shirts that are an essential for any geeks wardrobe.<p><a href="https:&#x2F;&#x2F;www.tamikothiel.com&#x2F;cm&#x2F;cm-tshirt.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.tamikothiel.com&#x2F;cm&#x2F;cm-tshirt.html</a></div><br/></div></div><div id="37698492" class="c"><input type="checkbox" id="c-37698492" checked=""/><div class="controls bullet"><span class="by">pjs_</span><span>|</span><a href="#37698996">prev</a><span>|</span><a href="#37698499">next</a><span>|</span><label class="collapse" for="c-37698492">[-]</label><label class="expand" for="c-37698492">[1 more]</label></div><br/><div class="children"><div class="content">Labor of love, masterpiece, historic, iconic work</div><br/></div></div><div id="37698499" class="c"><input type="checkbox" id="c-37698499" checked=""/><div class="controls bullet"><span class="by">jshaqaw</span><span>|</span><a href="#37698492">prev</a><span>|</span><label class="collapse" for="c-37698499">[-]</label><label class="expand" for="c-37698499">[3 more]</label></div><br/><div class="children"><div class="content">Cm-2 was my favorite computer ever</div><br/><div id="37698837" class="c"><input type="checkbox" id="c-37698837" checked=""/><div class="controls bullet"><span class="by">tvarghese7</span><span>|</span><a href="#37698499">parent</a><span>|</span><label class="collapse" for="c-37698837">[-]</label><label class="expand" for="c-37698837">[2 more]</label></div><br/><div class="children"><div class="content">Would you care to elaborate on why?<p>I had to work on one and didn&#x27;t really see what the fuss was about. Performance still sucked compared to a Cray2.  I mean it was supposed to be a Supercomputer...<p>I&#x2F;O was painfully slow so unless you were not planning on looking at your results or your results were a few numbers it may have been ok.  We were doing 2d and 3d simulations and periodically outputting large amounts of data to make movies from the simulations.  It would run for a few minutes and then stop for several times that to get the data out.</div><br/><div id="37698857" class="c"><input type="checkbox" id="c-37698857" checked=""/><div class="controls bullet"><span class="by">jshaqaw</span><span>|</span><a href="#37698499">root</a><span>|</span><a href="#37698837">parent</a><span>|</span><label class="collapse" for="c-37698857">[-]</label><label class="expand" for="c-37698857">[1 more]</label></div><br/><div class="children"><div class="content">It couldn’t keep pace with a Cray for any tasks that weren’t optimized for its architecture.    If your problem fit the SIMD model like the genetic algorithms I was implementing at the time it was just amazing.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>