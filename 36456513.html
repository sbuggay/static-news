<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1687597258424" as="style"/><link rel="stylesheet" href="styles.css?v=1687597258424"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://simondalvai.com/blog/css-only-darkmode/">CSS Only dark mode without JS</a> <span class="domain">(<a href="https://simondalvai.com">simondalvai.com</a>)</span></div><div class="subtext"><span>dulvui</span> | <span>25 comments</span></div><br/><div><div id="36456809" class="c"><input type="checkbox" id="c-36456809" checked=""/><div class="controls bullet"><span class="by">austin-cheney</span><span>|</span><a href="#36456730">next</a><span>|</span><label class="collapse" for="c-36456809">[-]</label><label class="expand" for="c-36456809">[2 more]</label></div><br/><div class="children"><div class="content">I am not sure why this qualifies as a front page article. To achieve color schemes in CSS only follow these steps.<p>1) Remove ALL color information from your CSS files and relocate that into a new CSS file only for color information. That is your default color scheme.<p>2) In that color scheme file prefix each rule with the same class name, possibly <i>colorDefault</i>.<p>3) Create a second color only CSS file with dark colors. This is your dark color scheme. Change the <i>colorDefault</i> class name to something else, possibly: <i>colorDark</i>.<p>4) Include those color files in your site using either media queries from the primary CSS or link tags in the HTML.<p>5) Finally add class name <i>colorDefault</i> to your HTML body tag. Use JavaScript to change that one class name as the user selects a different color scheme on user interaction.<p>Here is an example:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;prettydiff&#x2F;share-file-systems&#x2F;tree&#x2F;master&#x2F;lib&#x2F;css">https:&#x2F;&#x2F;github.com&#x2F;prettydiff&#x2F;share-file-systems&#x2F;tree&#x2F;master...</a></div><br/><div id="36456871" class="c"><input type="checkbox" id="c-36456871" checked=""/><div class="controls bullet"><span class="by">muningis</span><span>|</span><a href="#36456809">parent</a><span>|</span><a href="#36456730">next</a><span>|</span><label class="collapse" for="c-36456871">[-]</label><label class="expand" for="c-36456871">[1 more]</label></div><br/><div class="children"><div class="content">Your solution is more complicated, and requires JS to run. One in link, is done purely with CSS as it should be.</div><br/></div></div></div></div><div id="36456730" class="c"><input type="checkbox" id="c-36456730" checked=""/><div class="controls bullet"><span class="by">lloydatkinson</span><span>|</span><a href="#36456809">prev</a><span>|</span><a href="#36456775">next</a><span>|</span><label class="collapse" for="c-36456730">[-]</label><label class="expand" for="c-36456730">[12 more]</label></div><br/><div class="children"><div class="content">It’s ironic it says that the user should set the theme themselves via their OS because the author doesn’t like to use buttons on sites to do it.<p>The vast majority of users don’t know how to do that. I’m sure the vast majority of that group couldn’t really explain themes as a concept.</div><br/><div id="36456870" class="c"><input type="checkbox" id="c-36456870" checked=""/><div class="controls bullet"><span class="by">youssefabdelm</span><span>|</span><a href="#36456730">parent</a><span>|</span><a href="#36456771">next</a><span>|</span><label class="collapse" for="c-36456870">[-]</label><label class="expand" for="c-36456870">[1 more]</label></div><br/><div class="children"><div class="content">For me what&#x27;s compelling here is &quot;auto-dark mode&quot;. As a user I don&#x27;t want to keep making CSS changes to every site I visit to that&#x27;s light mode. I wish the web in general had these 2 styles and automatically inferred from my device that &quot;This person is a vampire, give him dark mode&quot;</div><br/></div></div><div id="36456771" class="c"><input type="checkbox" id="c-36456771" checked=""/><div class="controls bullet"><span class="by">butz</span><span>|</span><a href="#36456730">parent</a><span>|</span><a href="#36456870">prev</a><span>|</span><a href="#36456810">next</a><span>|</span><label class="collapse" for="c-36456771">[-]</label><label class="expand" for="c-36456771">[1 more]</label></div><br/><div class="children"><div class="content">Not sure about Windows or macOS, there users probably stick with default setting anyway, but here on GNOME I have quick access to &quot;Dark Style&quot; toggle in quick settings, just one click away.<p>We could start a long discussion, should websites just follow system settings, or add their own custom controls, where you have different settings for each website. Along with dark mode switching, we should consider accessibility controls, and cookie settings too.<p>From a developer standpoint I&#x27;d prefer to reflect system settings.</div><br/></div></div><div id="36456810" class="c"><input type="checkbox" id="c-36456810" checked=""/><div class="controls bullet"><span class="by">CrimsonRain</span><span>|</span><a href="#36456730">parent</a><span>|</span><a href="#36456771">prev</a><span>|</span><a href="#36456769">next</a><span>|</span><label class="collapse" for="c-36456810">[-]</label><label class="expand" for="c-36456810">[1 more]</label></div><br/><div class="children"><div class="content">If one can&#x27;t set lightness mode in their OS, they almost certainly won&#x27;t benefit with a button on the site.<p>Sites should follow the browser scheme (which usually follows OS) and can optionally provide a button to switch. This is possible with CSS only but too convoluted; one liner JS is enough for such optional cases.</div><br/></div></div><div id="36456769" class="c"><input type="checkbox" id="c-36456769" checked=""/><div class="controls bullet"><span class="by">dulvui</span><span>|</span><a href="#36456730">parent</a><span>|</span><a href="#36456810">prev</a><span>|</span><a href="#36456775">next</a><span>|</span><label class="collapse" for="c-36456769">[-]</label><label class="expand" for="c-36456769">[8 more]</label></div><br/><div class="children"><div class="content">Original author here. I don&#x27;t like the idea of using JS on my website and I don&#x27;t think that it is possible to create a light&#x2F;dark mode switch with only CSS.
But you are right, most users don&#x27;t know how to do that.</div><br/><div id="36456838" class="c"><input type="checkbox" id="c-36456838" checked=""/><div class="controls bullet"><span class="by">CrimsonRain</span><span>|</span><a href="#36456730">root</a><span>|</span><a href="#36456769">parent</a><span>|</span><a href="#36456806">next</a><span>|</span><label class="collapse" for="c-36456838">[-]</label><label class="expand" for="c-36456838">[2 more]</label></div><br/><div class="children"><div class="content">It is possible; just too convoluted&#x2F;subpar imo. You can use a checkbox&#x27;s check&#x2F;uncheck status. One such codepen from quick google: <a href="https:&#x2F;&#x2F;codepen.io&#x2F;shadowfaxrodeo&#x2F;pen&#x2F;JjbzNMz" rel="nofollow noreferrer">https:&#x2F;&#x2F;codepen.io&#x2F;shadowfaxrodeo&#x2F;pen&#x2F;JjbzNMz</a></div><br/><div id="36456853" class="c"><input type="checkbox" id="c-36456853" checked=""/><div class="controls bullet"><span class="by">dulvui</span><span>|</span><a href="#36456730">root</a><span>|</span><a href="#36456838">parent</a><span>|</span><a href="#36456806">next</a><span>|</span><label class="collapse" for="c-36456853">[-]</label><label class="expand" for="c-36456853">[1 more]</label></div><br/><div class="children"><div class="content">Cool thank you for sharing this! I might implement this on my site.</div><br/></div></div></div></div><div id="36456806" class="c"><input type="checkbox" id="c-36456806" checked=""/><div class="controls bullet"><span class="by">FireInsight</span><span>|</span><a href="#36456730">root</a><span>|</span><a href="#36456769">parent</a><span>|</span><a href="#36456838">prev</a><span>|</span><a href="#36456825">next</a><span>|</span><label class="collapse" for="c-36456806">[-]</label><label class="expand" for="c-36456806">[1 more]</label></div><br/><div class="children"><div class="content">However, it would probably be possible with very minimal JS a la how Tailwind does it, toggling a .dark class in the body element and setting the dark mode variables and colors there.</div><br/></div></div><div id="36456825" class="c"><input type="checkbox" id="c-36456825" checked=""/><div class="controls bullet"><span class="by">danielheath</span><span>|</span><a href="#36456730">root</a><span>|</span><a href="#36456769">parent</a><span>|</span><a href="#36456806">prev</a><span>|</span><a href="#36456818">next</a><span>|</span><label class="collapse" for="c-36456825">[-]</label><label class="expand" for="c-36456825">[1 more]</label></div><br/><div class="children"><div class="content">You can! Trick is to use the checkbox:selected hack to apply styles, in addition to the colour-scheme media query.</div><br/></div></div><div id="36456818" class="c"><input type="checkbox" id="c-36456818" checked=""/><div class="controls bullet"><span class="by">butz</span><span>|</span><a href="#36456730">root</a><span>|</span><a href="#36456769">parent</a><span>|</span><a href="#36456825">prev</a><span>|</span><a href="#36456782">next</a><span>|</span><label class="collapse" for="c-36456818">[-]</label><label class="expand" for="c-36456818">[1 more]</label></div><br/><div class="children"><div class="content">But adding onclick and window.open() JS functions is somehow justifiable, over using simple &lt;a&gt; links? Of course, there might be some specific case you are solving here, so it would be very educational to hear this out.</div><br/></div></div><div id="36456782" class="c"><input type="checkbox" id="c-36456782" checked=""/><div class="controls bullet"><span class="by">jiggywiggy</span><span>|</span><a href="#36456730">root</a><span>|</span><a href="#36456769">parent</a><span>|</span><a href="#36456818">prev</a><span>|</span><a href="#36456775">next</a><span>|</span><label class="collapse" for="c-36456782">[-]</label><label class="expand" for="c-36456782">[2 more]</label></div><br/><div class="children"><div class="content">Would be perfectly reasonable to use js over this feature.</div><br/><div id="36456807" class="c"><input type="checkbox" id="c-36456807" checked=""/><div class="controls bullet"><span class="by">dulvui</span><span>|</span><a href="#36456730">root</a><span>|</span><a href="#36456782">parent</a><span>|</span><a href="#36456775">next</a><span>|</span><label class="collapse" for="c-36456807">[-]</label><label class="expand" for="c-36456807">[1 more]</label></div><br/><div class="children"><div class="content">Yes for sure, but my personal policy is not using JS. Anyway my site doesn&#x27;t have so many visitors ;-) People come, stay for a few seconds and then leave forever.</div><br/></div></div></div></div></div></div></div></div><div id="36456775" class="c"><input type="checkbox" id="c-36456775" checked=""/><div class="controls bullet"><span class="by">maxiwer</span><span>|</span><a href="#36456730">prev</a><span>|</span><a href="#36456746">next</a><span>|</span><label class="collapse" for="c-36456775">[-]</label><label class="expand" for="c-36456775">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for sharing. But the problem could be, when some users don&#x27;t want to the app to automatically switch to dark mode.</div><br/></div></div><div id="36456746" class="c"><input type="checkbox" id="c-36456746" checked=""/><div class="controls bullet"><span class="by">butz</span><span>|</span><a href="#36456775">prev</a><span>|</span><a href="#36456702">next</a><span>|</span><label class="collapse" for="c-36456746">[-]</label><label class="expand" for="c-36456746">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m pretty sure with all new CSS features theme toggle could be implemented without JS, but in that case it probably wouldn&#x27;t reflect your current setting.</div><br/></div></div><div id="36456702" class="c"><input type="checkbox" id="c-36456702" checked=""/><div class="controls bullet"><span class="by">sigg3</span><span>|</span><a href="#36456746">prev</a><span>|</span><a href="#36456708">next</a><span>|</span><label class="collapse" for="c-36456702">[-]</label><label class="expand" for="c-36456702">[7 more]</label></div><br/><div class="children"><div class="content">&gt; It was pretty sure, that dark mode can only be implemented using JS<p>I used this in the 90&#x27;s:<p>`&lt;body bgcolor=&quot;#000000&quot;&gt;`<p>You needed it to really appreciate the sparks from animated fire gifs.</div><br/><div id="36456733" class="c"><input type="checkbox" id="c-36456733" checked=""/><div class="controls bullet"><span class="by">dulvui</span><span>|</span><a href="#36456702">parent</a><span>|</span><a href="#36456740">next</a><span>|</span><label class="collapse" for="c-36456733">[-]</label><label class="expand" for="c-36456733">[2 more]</label></div><br/><div class="children"><div class="content">Yes you are right you can get dark mode by setting the background to black. But with this media query you get an automated switch between light and dark mode, depending on you browser settings.</div><br/><div id="36456820" class="c"><input type="checkbox" id="c-36456820" checked=""/><div class="controls bullet"><span class="by">EugeneOZ</span><span>|</span><a href="#36456702">root</a><span>|</span><a href="#36456733">parent</a><span>|</span><a href="#36456740">next</a><span>|</span><label class="collapse" for="c-36456820">[-]</label><label class="expand" for="c-36456820">[1 more]</label></div><br/><div class="children"><div class="content">Dark mode is much more than just bg color. Font, shadows, borders, selection, navbar, placeholders...</div><br/></div></div></div></div><div id="36456740" class="c"><input type="checkbox" id="c-36456740" checked=""/><div class="controls bullet"><span class="by">tempodox</span><span>|</span><a href="#36456702">parent</a><span>|</span><a href="#36456733">prev</a><span>|</span><a href="#36456708">next</a><span>|</span><label class="collapse" for="c-36456740">[-]</label><label class="expand" for="c-36456740">[4 more]</label></div><br/><div class="children"><div class="content">… which creates the kind of “dark mode” that ends up being unbearable.  Dark mode does <i>not</i> mean pitch-black background, nor does it mean squeaky-white text color.</div><br/><div id="36456781" class="c"><input type="checkbox" id="c-36456781" checked=""/><div class="controls bullet"><span class="by">butz</span><span>|</span><a href="#36456702">root</a><span>|</span><a href="#36456740">parent</a><span>|</span><a href="#36456786">next</a><span>|</span><label class="collapse" for="c-36456781">[-]</label><label class="expand" for="c-36456781">[1 more]</label></div><br/><div class="children"><div class="content">Most websites on geocities IIRC were &quot;dark mode&quot; :)</div><br/></div></div><div id="36456786" class="c"><input type="checkbox" id="c-36456786" checked=""/><div class="controls bullet"><span class="by">hypertele-Xii</span><span>|</span><a href="#36456702">root</a><span>|</span><a href="#36456740">parent</a><span>|</span><a href="#36456781">prev</a><span>|</span><a href="#36456708">next</a><span>|</span><label class="collapse" for="c-36456786">[-]</label><label class="expand" for="c-36456786">[2 more]</label></div><br/><div class="children"><div class="content">If white on black is unbearable, your screen contrast is miscalibrated. Lower it until comfortable.</div><br/><div id="36456821" class="c"><input type="checkbox" id="c-36456821" checked=""/><div class="controls bullet"><span class="by">FireInsight</span><span>|</span><a href="#36456702">root</a><span>|</span><a href="#36456786">parent</a><span>|</span><a href="#36456708">next</a><span>|</span><label class="collapse" for="c-36456821">[-]</label><label class="expand" for="c-36456821">[1 more]</label></div><br/><div class="children"><div class="content">If your screen shows pitch black and white both as a nice gray, your screen contrast is miscalibrated and you shouldn&#x27;t be doing any work involving colors on it.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>