<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1725094866376" as="style"/><link rel="stylesheet" href="styles.css?v=1725094866376"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://linux.die.net/man/1/expect">Expect – Linux tool for automating interactive programs</a> <span class="domain">(<a href="https://linux.die.net">linux.die.net</a>)</span></div><div class="subtext"><span>actinium226</span> | <span>50 comments</span></div><br/><div><div id="41406898" class="c"><input type="checkbox" id="c-41406898" checked=""/><div class="controls bullet"><span class="by">bolapara</span><span>|</span><a href="#41406882">next</a><span>|</span><label class="collapse" for="c-41406898">[-]</label><label class="expand" for="c-41406898">[2 more]</label></div><br/><div class="children"><div class="content">Expect is such a great tool for a specific class of problem.  Decades ago I worked as a test engineer for a big hardware vendor.  We had maybe a couple hundred raid controllers that we were testing and to address some issues we found, the supplier needed us to change a bunch of configuration variables that were only accessible via a text menu system over a serial connection to these devices.  After painful manual reconfiguration of a handful of these things, I instead wrote a fairly complex expect script to make the appropriate changes and also validate all the settings on the rest of the raid controllers in a fraction of the time it would have taken to do it manually.  It saved me so much hassle and got me some pretty good kudos and respect from my direct leads.  It&#x27;s one of those tools that I kind of wish I would need to use again!</div><br/><div id="41407307" class="c"><input type="checkbox" id="c-41407307" checked=""/><div class="controls bullet"><span class="by">i_am_a_peasant</span><span>|</span><a href="#41406898">parent</a><span>|</span><a href="#41406882">next</a><span>|</span><label class="collapse" for="c-41407307">[-]</label><label class="expand" for="c-41407307">[1 more]</label></div><br/><div class="children"><div class="content">this is the sort of context I&#x27;ve also seen expect use. hardware test automation in manufacturing xD</div><br/></div></div></div></div><div id="41406882" class="c"><input type="checkbox" id="c-41406882" checked=""/><div class="controls bullet"><span class="by">hiAndrewQuinn</span><span>|</span><a href="#41406898">prev</a><span>|</span><a href="#41406038">next</a><span>|</span><label class="collapse" for="c-41406882">[-]</label><label class="expand" for="c-41406882">[4 more]</label></div><br/><div class="children"><div class="content">My go-to example for `expect` is password-based SSH. Since we&#x27;re all enlightened beings these days who <i>surely</i> never use this anymore, there&#x27;s no risk to it:<p><pre><code>    #!&#x2F;bin&#x2F;bash

    expect -c &quot;
    spawn ssh user@10.0.0.1

    expect \&quot;password:\&quot;
    send \&quot;12345\r\&quot;

    interact
    &quot;
</code></pre>
`interact` hands you back control to do whatever you want, but you don&#x27;t actually need to do that. You can have `expect` run every command, fill out every field.<p>The tool you need when you&#x27;re in environments you don&#x27;t deserve.</div><br/><div id="41407462" class="c"><input type="checkbox" id="c-41407462" checked=""/><div class="controls bullet"><span class="by">Borborygymus</span><span>|</span><a href="#41406882">parent</a><span>|</span><a href="#41407096">next</a><span>|</span><label class="collapse" for="c-41407462">[-]</label><label class="expand" for="c-41407462">[1 more]</label></div><br/><div class="children"><div class="content">You forgot all the other prompts that ssh might produce before the password prompt (e.g. add new host to known hosts yes&#x2F;no). There are more possible prompts than most people realize.</div><br/></div></div><div id="41407096" class="c"><input type="checkbox" id="c-41407096" checked=""/><div class="controls bullet"><span class="by">quesera</span><span>|</span><a href="#41406882">parent</a><span>|</span><a href="#41407462">prev</a><span>|</span><a href="#41406038">next</a><span>|</span><label class="collapse" for="c-41407096">[-]</label><label class="expand" for="c-41407096">[2 more]</label></div><br/><div class="children"><div class="content">For this particular use case, I&#x27;d suggest sshpass instead.<p><pre><code>  https:&#x2F;&#x2F;linux.die.net&#x2F;man&#x2F;1&#x2F;sshpass
</code></pre>
...<p>Operations folks today might not understand -- everything just <i>works</i> nowadays, which is slightly boring. And boring is good!<p>But there&#x27;s something unique about the feeling of making things work even though they are not designed to work, and really have no right to work. Expect has been a lifesaver for some of the most critical systems at some of the biggest companies in the world.<p>No aspersions cast by me!</div><br/><div id="41407156" class="c"><input type="checkbox" id="c-41407156" checked=""/><div class="controls bullet"><span class="by">hiAndrewQuinn</span><span>|</span><a href="#41406882">root</a><span>|</span><a href="#41407096">parent</a><span>|</span><a href="#41406038">next</a><span>|</span><label class="collapse" for="c-41407156">[-]</label><label class="expand" for="c-41407156">[1 more]</label></div><br/><div class="children"><div class="content">Definitely, `sshpass` is the more better keyhole tool for this job. I picked it as the most common example I can imagine everyone going &quot;ugh, I have to do this by hand <i>again</i>?&quot; at.</div><br/></div></div></div></div></div></div><div id="41406038" class="c"><input type="checkbox" id="c-41406038" checked=""/><div class="controls bullet"><span class="by">shrubble</span><span>|</span><a href="#41406882">prev</a><span>|</span><a href="#41406072">next</a><span>|</span><label class="collapse" for="c-41406038">[-]</label><label class="expand" for="c-41406038">[1 more]</label></div><br/><div class="children"><div class="content">One of the early papers by Don Libes, author of Expect, explaining how to use it; published 1990 - thus predating Linux: <a href="https:&#x2F;&#x2F;www.nist.gov&#x2F;publications&#x2F;using-expect-automate-system-administration-tasks" rel="nofollow">https:&#x2F;&#x2F;www.nist.gov&#x2F;publications&#x2F;using-expect-automate-syst...</a></div><br/></div></div><div id="41406072" class="c"><input type="checkbox" id="c-41406072" checked=""/><div class="controls bullet"><span class="by">philxor</span><span>|</span><a href="#41406038">prev</a><span>|</span><a href="#41405821">next</a><span>|</span><label class="collapse" for="c-41406072">[-]</label><label class="expand" for="c-41406072">[5 more]</label></div><br/><div class="children"><div class="content">Linux tool? Hate when everything Unix automatically gets categorized as Linux.  Have used Expect for many years for many use cases from automating servers to networking use cases as well.</div><br/><div id="41407466" class="c"><input type="checkbox" id="c-41407466" checked=""/><div class="controls bullet"><span class="by">Borborygymus</span><span>|</span><a href="#41406072">parent</a><span>|</span><a href="#41406411">next</a><span>|</span><label class="collapse" for="c-41407466">[-]</label><label class="expand" for="c-41407466">[1 more]</label></div><br/><div class="children"><div class="content">I used to use it on HP-UX in the 90s.</div><br/></div></div><div id="41406411" class="c"><input type="checkbox" id="c-41406411" checked=""/><div class="controls bullet"><span class="by">lizknope</span><span>|</span><a href="#41406072">parent</a><span>|</span><a href="#41407466">prev</a><span>|</span><a href="#41406280">next</a><span>|</span><label class="collapse" for="c-41406411">[-]</label><label class="expand" for="c-41406411">[1 more]</label></div><br/><div class="children"><div class="content">I used Tcl and Expect on Solaris at a job in 1995</div><br/></div></div><div id="41406280" class="c"><input type="checkbox" id="c-41406280" checked=""/><div class="controls bullet"><span class="by">pokstad</span><span>|</span><a href="#41406072">parent</a><span>|</span><a href="#41406411">prev</a><span>|</span><a href="#41406272">next</a><span>|</span><label class="collapse" for="c-41406280">[-]</label><label class="expand" for="c-41406280">[1 more]</label></div><br/><div class="children"><div class="content">I’ve used Expect on Windows systems. Active State provided commercial distributions of TCL for Windows.</div><br/></div></div></div></div><div id="41405821" class="c"><input type="checkbox" id="c-41405821" checked=""/><div class="controls bullet"><span class="by">pram</span><span>|</span><a href="#41406072">prev</a><span>|</span><a href="#41406029">next</a><span>|</span><label class="collapse" for="c-41405821">[-]</label><label class="expand" for="c-41405821">[2 more]</label></div><br/><div class="children"><div class="content">I used expect a ton years ago, for AIX system janitoring. A lot of things required telnet’ing into proto-ncurses mainframe applications and going through menus, typing and selecting stuff etc.<p>The actual productive workflow is to do your task with autoexpect, and then refine the generated output:
<a href="https:&#x2F;&#x2F;linux.die.net&#x2F;man&#x2F;1&#x2F;autoexpect" rel="nofollow">https:&#x2F;&#x2F;linux.die.net&#x2F;man&#x2F;1&#x2F;autoexpect</a></div><br/><div id="41406831" class="c"><input type="checkbox" id="c-41406831" checked=""/><div class="controls bullet"><span class="by">AtlasBarfed</span><span>|</span><a href="#41405821">parent</a><span>|</span><a href="#41406029">next</a><span>|</span><label class="collapse" for="c-41406831">[-]</label><label class="expand" for="c-41406831">[1 more]</label></div><br/><div class="children"><div class="content">I really rail to understand why modern unix OS scripting has not made expect obsolete. But then again bash is state of the art, right?<p>Meta shells and meta meta shells should be an assumed feature by now, not a hit or miss of terminal program feature sets, and not tied to UI programs.</div><br/></div></div></div></div><div id="41406029" class="c"><input type="checkbox" id="c-41406029" checked=""/><div class="controls bullet"><span class="by">foresto</span><span>|</span><a href="#41405821">prev</a><span>|</span><a href="#41405604">next</a><span>|</span><label class="collapse" for="c-41406029">[-]</label><label class="expand" for="c-41406029">[1 more]</label></div><br/><div class="children"><div class="content">Linux – UNIX-like tool for running expect and other portable software<p>;)</div><br/></div></div><div id="41405604" class="c"><input type="checkbox" id="c-41405604" checked=""/><div class="controls bullet"><span class="by">thesuperbigfrog</span><span>|</span><a href="#41406029">prev</a><span>|</span><a href="#41406218">next</a><span>|</span><label class="collapse" for="c-41405604">[-]</label><label class="expand" for="c-41405604">[5 more]</label></div><br/><div class="children"><div class="content">Many years ago I used the Perl version of Expect (<a href="https:&#x2F;&#x2F;metacpan.org&#x2F;pod&#x2F;Expect" rel="nofollow">https:&#x2F;&#x2F;metacpan.org&#x2F;pod&#x2F;Expect</a>) to automate several workflows that wanted manual inputs.<p>I thought that it was far better than the TCL Expect because I could also use other CPAN modules and have Perl&#x27;s regular expressions to parse the system&#x27;s output.<p>Expect is a great tool to have in your toolkit.</div><br/><div id="41406984" class="c"><input type="checkbox" id="c-41406984" checked=""/><div class="controls bullet"><span class="by">bch</span><span>|</span><a href="#41405604">parent</a><span>|</span><a href="#41405909">next</a><span>|</span><label class="collapse" for="c-41406984">[-]</label><label class="expand" for="c-41406984">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Perl&#x27;s regular expressions to parse […]<p>To be fair, Tcl has Henry Spencer’s regexp[0][1], and is awesome; Postgres also base their regex on Henry’s work for Tcl[2]. Perl is certainly <i>famous</i> for its regex and popularizing thinking of problems in terms of regexes (for better or for worse[3]), but it’s not the only game in town.<p>[0] <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Henry_Spencer" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Henry_Spencer</a><p>[1] <a href="https:&#x2F;&#x2F;wiki.tcl-lang.org&#x2F;page&#x2F;Regular+Expressions" rel="nofollow">https:&#x2F;&#x2F;wiki.tcl-lang.org&#x2F;page&#x2F;Regular+Expressions</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;postgres&#x2F;postgres&#x2F;blob&#x2F;master&#x2F;src&#x2F;backend&#x2F;regex&#x2F;COPYRIGHT">https:&#x2F;&#x2F;github.com&#x2F;postgres&#x2F;postgres&#x2F;blob&#x2F;master&#x2F;src&#x2F;backend...</a><p>[3] <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;1732348&#x2F;regex-match-open-tags-except-xhtml-self-contained-tags#1732454" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;1732348&#x2F;regex-match-open...</a></div><br/></div></div><div id="41405909" class="c"><input type="checkbox" id="c-41405909" checked=""/><div class="controls bullet"><span class="by">overanalytcl</span><span>|</span><a href="#41405604">parent</a><span>|</span><a href="#41406984">prev</a><span>|</span><a href="#41405626">next</a><span>|</span><label class="collapse" for="c-41405909">[-]</label><label class="expand" for="c-41405909">[2 more]</label></div><br/><div class="children"><div class="content">Arguably, Tcl can do GUIs much easily and can integrate C less awkwardly than Perl. Both have their use cases, at any rate, and more people should use Tcl, Perl and any version of Expect. Nowadays it falls into the category of tools that were once somewhat used, but now are obscure, like fold&#x2F;fmt, nl, comm and pr.</div><br/><div id="41406341" class="c"><input type="checkbox" id="c-41406341" checked=""/><div class="controls bullet"><span class="by">thesuperbigfrog</span><span>|</span><a href="#41405604">root</a><span>|</span><a href="#41405909">parent</a><span>|</span><a href="#41405626">next</a><span>|</span><label class="collapse" for="c-41406341">[-]</label><label class="expand" for="c-41406341">[1 more]</label></div><br/><div class="children"><div class="content">&gt;&gt; Arguably, Tcl can do GUIs much easily and can integrate C less awkwardly than Perl.<p>We used Perl&#x2F;Tk for GUIs on that old system.  It brimgs the ease of Tk GUIs to Perl:<p><a href="https:&#x2F;&#x2F;metacpan.org&#x2F;dist&#x2F;Tk&#x2F;view&#x2F;pod&#x2F;UserGuide.pod" rel="nofollow">https:&#x2F;&#x2F;metacpan.org&#x2F;dist&#x2F;Tk&#x2F;view&#x2F;pod&#x2F;UserGuide.pod</a><p>&gt;&gt; Nowadays it falls into the category of tools that were once somewhat used, but now are obscure<p>To be sure, but a lot of it still works without changes!</div><br/></div></div></div></div><div id="41405626" class="c"><input type="checkbox" id="c-41405626" checked=""/><div class="controls bullet"><span class="by">creer</span><span>|</span><a href="#41405604">parent</a><span>|</span><a href="#41405909">prev</a><span>|</span><a href="#41406218">next</a><span>|</span><label class="collapse" for="c-41405626">[-]</label><label class="expand" for="c-41405626">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Perl version of Expect (<a href="https:&#x2F;&#x2F;metacpan.org&#x2F;pod&#x2F;Expect" rel="nofollow">https:&#x2F;&#x2F;metacpan.org&#x2F;pod&#x2F;Expect</a>)<p>Still a great answer and latest update in March this year.</div><br/></div></div></div></div><div id="41406218" class="c"><input type="checkbox" id="c-41406218" checked=""/><div class="controls bullet"><span class="by">nrclark</span><span>|</span><a href="#41405604">prev</a><span>|</span><a href="#41406440">next</a><span>|</span><label class="collapse" for="c-41406218">[-]</label><label class="expand" for="c-41406218">[2 more]</label></div><br/><div class="children"><div class="content">I use pexpect frequently for automating serial-port communications. It’s very useful for implementing test&#x2F;flashing automation that needs some kind of a serial-port step (such as asking u-boot to run a few commands).</div><br/><div id="41407103" class="c"><input type="checkbox" id="c-41407103" checked=""/><div class="controls bullet"><span class="by">PhilipRoman</span><span>|</span><a href="#41406218">parent</a><span>|</span><a href="#41406440">next</a><span>|</span><label class="collapse" for="c-41407103">[-]</label><label class="expand" for="c-41407103">[1 more]</label></div><br/><div class="children"><div class="content">I do something very similar, how do you deal with random serial port data loss (dropped bytes)? Maybe it is specific to my environment, but I get mangled commands about 1% of time, which really sucks for automated workflows. I mostly countered this by writing commands to a tmp file, verifying md5sum and then executing the file on the device side.</div><br/></div></div></div></div><div id="41406440" class="c"><input type="checkbox" id="c-41406440" checked=""/><div class="controls bullet"><span class="by">broodbucket</span><span>|</span><a href="#41406218">prev</a><span>|</span><a href="#41407316">next</a><span>|</span><label class="collapse" for="c-41406440">[-]</label><label class="expand" for="c-41406440">[2 more]</label></div><br/><div class="children"><div class="content">expect is one of those true love&#x2F;hate things. Probably because the situations in which you need to use it are likely cursed. My time spent dealing with expect scripts is always miserable, and yet I don&#x27;t know what I&#x27;d do without it</div><br/><div id="41407089" class="c"><input type="checkbox" id="c-41407089" checked=""/><div class="controls bullet"><span class="by">Marthinwurer</span><span>|</span><a href="#41406440">parent</a><span>|</span><a href="#41407316">next</a><span>|</span><label class="collapse" for="c-41407089">[-]</label><label class="expand" for="c-41407089">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve mostly used it for testing and scripting CLIs. Are there any better ways to do that?</div><br/></div></div></div></div><div id="41407316" class="c"><input type="checkbox" id="c-41407316" checked=""/><div class="controls bullet"><span class="by">i_am_a_peasant</span><span>|</span><a href="#41406440">prev</a><span>|</span><a href="#41406853">next</a><span>|</span><label class="collapse" for="c-41407316">[-]</label><label class="expand" for="c-41407316">[1 more]</label></div><br/><div class="children"><div class="content">the windows gui equivalent is AutoHotkey <a href="https:&#x2F;&#x2F;www.autohotkey.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.autohotkey.com&#x2F;</a></div><br/></div></div><div id="41406853" class="c"><input type="checkbox" id="c-41406853" checked=""/><div class="controls bullet"><span class="by">mongol</span><span>|</span><a href="#41407316">prev</a><span>|</span><a href="#41406875">next</a><span>|</span><label class="collapse" for="c-41406853">[-]</label><label class="expand" for="c-41406853">[1 more]</label></div><br/><div class="children"><div class="content">Expect used to be one of the &quot;big&quot; tools at one point. O&#x27;Reilly books written about it and so on. But then it went to obscurity. Kind of strange.</div><br/></div></div><div id="41406875" class="c"><input type="checkbox" id="c-41406875" checked=""/><div class="controls bullet"><span class="by">rwmj</span><span>|</span><a href="#41406853">prev</a><span>|</span><a href="#41406499">next</a><span>|</span><label class="collapse" for="c-41406875">[-]</label><label class="expand" for="c-41406875">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;rwmjones&#x2F;miniexpect">https:&#x2F;&#x2F;github.com&#x2F;rwmjones&#x2F;miniexpect</a>  Miniexpect, a tiny C library that does something similar (for programs, not scripts).</div><br/></div></div><div id="41406499" class="c"><input type="checkbox" id="c-41406499" checked=""/><div class="controls bullet"><span class="by">nunez</span><span>|</span><a href="#41406875">prev</a><span>|</span><a href="#41406450">next</a><span>|</span><label class="collapse" for="c-41406499">[-]</label><label class="expand" for="c-41406499">[1 more]</label></div><br/><div class="children"><div class="content">Legendary tool. I used it once to automate an integration between Sailpoint IIQ and VMware&#x27;s vRealize Automation.</div><br/></div></div><div id="41406450" class="c"><input type="checkbox" id="c-41406450" checked=""/><div class="controls bullet"><span class="by">declan_roberts</span><span>|</span><a href="#41406499">prev</a><span>|</span><a href="#41406887">next</a><span>|</span><label class="collapse" for="c-41406450">[-]</label><label class="expand" for="c-41406450">[1 more]</label></div><br/><div class="children"><div class="content">What until you learn about the command &quot;yes&quot; -- now you&#x27;re really automating with gas!</div><br/></div></div><div id="41406887" class="c"><input type="checkbox" id="c-41406887" checked=""/><div class="controls bullet"><span class="by">noisy_boy</span><span>|</span><a href="#41406450">prev</a><span>|</span><a href="#41405501">next</a><span>|</span><label class="collapse" for="c-41406887">[-]</label><label class="expand" for="c-41406887">[1 more]</label></div><br/><div class="children"><div class="content">Is there an alternative to expect that I can just compile locally without having to deal with dependencies?</div><br/></div></div><div id="41405501" class="c"><input type="checkbox" id="c-41405501" checked=""/><div class="controls bullet"><span class="by">gregjor</span><span>|</span><a href="#41406887">prev</a><span>|</span><a href="#41405975">next</a><span>|</span><label class="collapse" for="c-41405501">[-]</label><label class="expand" for="c-41405501">[2 more]</label></div><br/><div class="children"><div class="content">Good example of an LLM suggesting something useful, even if just RTFM for forgotten tools.<p>O’Reilly put out a book about expect back in the old days (1995).<p>I used expect a few times to automate remote admin, and even to scrape terminal-based applications.</div><br/><div id="41407138" class="c"><input type="checkbox" id="c-41407138" checked=""/><div class="controls bullet"><span class="by">anthk</span><span>|</span><a href="#41405501">parent</a><span>|</span><a href="#41405975">next</a><span>|</span><label class="collapse" for="c-41407138">[-]</label><label class="expand" for="c-41407138">[1 more]</label></div><br/><div class="children"><div class="content">What? It&#x27;s a manual page.</div><br/></div></div></div></div><div id="41405975" class="c"><input type="checkbox" id="c-41405975" checked=""/><div class="controls bullet"><span class="by">firesteelrain</span><span>|</span><a href="#41405501">prev</a><span>|</span><a href="#41406128">next</a><span>|</span><label class="collapse" for="c-41405975">[-]</label><label class="expand" for="c-41405975">[1 more]</label></div><br/><div class="children"><div class="content">We used pexpect to automate deployment from various servers and it would prompt users for passwords then they could login to perform deployment tasks for our software. It powered our entire deployment arch at that time. But it would frequently drop off text or prompts if you started doing nested logins.<p>We rewrote our deployment arch since then</div><br/></div></div><div id="41406128" class="c"><input type="checkbox" id="c-41406128" checked=""/><div class="controls bullet"><span class="by">anotherpaulg</span><span>|</span><a href="#41405975">prev</a><span>|</span><a href="#41405365">next</a><span>|</span><label class="collapse" for="c-41406128">[-]</label><label class="expand" for="c-41406128">[4 more]</label></div><br/><div class="children"><div class="content">I just used python pexpect [0] for a fun project. I believe pexpect was inspired by the original Unix expect command.<p>I used it to let aider suggest and run shell commands [1]. This is handy, so aider can offer to run the code it just wrote for you, run migrations, install dependencies, etc.<p>Using pexepect makes it easy for aider to run interactive shell commands and capture their output. This allows aider to fix bugs or suggest next steps based on the command’s output, error messages, etc.<p>[0] <a href="https:&#x2F;&#x2F;pexpect.readthedocs.io&#x2F;en&#x2F;stable&#x2F;" rel="nofollow">https:&#x2F;&#x2F;pexpect.readthedocs.io&#x2F;en&#x2F;stable&#x2F;</a><p>[1] <a href="https:&#x2F;&#x2F;x.com&#x2F;paulgauthier&#x2F;status&#x2F;1827012590406607040" rel="nofollow">https:&#x2F;&#x2F;x.com&#x2F;paulgauthier&#x2F;status&#x2F;1827012590406607040</a></div><br/><div id="41406186" class="c"><input type="checkbox" id="c-41406186" checked=""/><div class="controls bullet"><span class="by">firesteelrain</span><span>|</span><a href="#41406128">parent</a><span>|</span><a href="#41406163">next</a><span>|</span><label class="collapse" for="c-41406186">[-]</label><label class="expand" for="c-41406186">[1 more]</label></div><br/><div class="children"><div class="content">The only problem we had with pexpect (maybe expect) was that we started to have prompts disappear or text not appear&#x2F;be presented to our python script. Could have been an issue of buffers not flushing. It’s been several years but this one detail I remember because we had several workarounds for it.</div><br/></div></div><div id="41406163" class="c"><input type="checkbox" id="c-41406163" checked=""/><div class="controls bullet"><span class="by">geekodour</span><span>|</span><a href="#41406128">parent</a><span>|</span><a href="#41406186">prev</a><span>|</span><a href="#41405365">next</a><span>|</span><label class="collapse" for="c-41406163">[-]</label><label class="expand" for="c-41406163">[2 more]</label></div><br/><div class="children"><div class="content">wait so if i understand you correctly,<p>1. aider makes some change
2. aider then tells itself to use pexpect to check what changes it made
3. pexpect runs, opens browser somehow captures error messages if any and feeds that back?<p>i am pretty sure i misunderstood something</div><br/><div id="41406205" class="c"><input type="checkbox" id="c-41406205" checked=""/><div class="controls bullet"><span class="by">anotherpaulg</span><span>|</span><a href="#41406128">root</a><span>|</span><a href="#41406163">parent</a><span>|</span><a href="#41405365">next</a><span>|</span><label class="collapse" for="c-41406205">[-]</label><label class="expand" for="c-41406205">[1 more]</label></div><br/><div class="children"><div class="content">There’s a little demo video in the Twitter link that might be worth checking out.<p>But ya, aider can: code something for you, run it, capture the terminal output with pexpect and iterate further based on that.</div><br/></div></div></div></div></div></div><div id="41405365" class="c"><input type="checkbox" id="c-41405365" checked=""/><div class="controls bullet"><span class="by">actinium226</span><span>|</span><a href="#41406128">prev</a><span>|</span><a href="#41406020">next</a><span>|</span><label class="collapse" for="c-41405365">[-]</label><label class="expand" for="c-41405365">[1 more]</label></div><br/><div class="children"><div class="content">claude.ai just suggested this as a tool for automating a workflow that involves ssh&#x27;ing into another machine and running some commands as sudo. I&#x27;m surprised I&#x27;ve never heard of this tool before. It works great for this scenario and the script can be used a reference to go in manually.</div><br/></div></div><div id="41406020" class="c"><input type="checkbox" id="c-41406020" checked=""/><div class="controls bullet"><span class="by">jeffbee</span><span>|</span><a href="#41405365">prev</a><span>|</span><a href="#41405966">next</a><span>|</span><label class="collapse" for="c-41406020">[-]</label><label class="expand" for="c-41406020">[3 more]</label></div><br/><div class="children"><div class="content">Expect predates Linux by years. It is an old school portable program.</div><br/><div id="41406425" class="c"><input type="checkbox" id="c-41406425" checked=""/><div class="controls bullet"><span class="by">lizknope</span><span>|</span><a href="#41406020">parent</a><span>|</span><a href="#41405966">next</a><span>|</span><label class="collapse" for="c-41406425">[-]</label><label class="expand" for="c-41406425">[2 more]</label></div><br/><div class="children"><div class="content">It looks like Expect was first released in 1990 and Linux in 1991 although Linux wasn&#x27;t really that usable until around 1993.</div><br/><div id="41406469" class="c"><input type="checkbox" id="c-41406469" checked=""/><div class="controls bullet"><span class="by">jeffbee</span><span>|</span><a href="#41406020">root</a><span>|</span><a href="#41406425">parent</a><span>|</span><a href="#41405966">next</a><span>|</span><label class="collapse" for="c-41406469">[-]</label><label class="expand" for="c-41406469">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think it&#x27;s unfair to say that they iterated on Linux until it could run expect :-)</div><br/></div></div></div></div></div></div><div id="41405966" class="c"><input type="checkbox" id="c-41405966" checked=""/><div class="controls bullet"><span class="by">bjt12345</span><span>|</span><a href="#41406020">prev</a><span>|</span><a href="#41406183">next</a><span>|</span><label class="collapse" for="c-41405966">[-]</label><label class="expand" for="c-41405966">[1 more]</label></div><br/><div class="children"><div class="content">Tcl&#x2F;Tk and Expect were popular back in the day because TCL could perform asynchronous programming most easily.</div><br/></div></div><div id="41406183" class="c"><input type="checkbox" id="c-41406183" checked=""/><div class="controls bullet"><span class="by">neoyagami</span><span>|</span><a href="#41405966">prev</a><span>|</span><a href="#41407278">next</a><span>|</span><label class="collapse" for="c-41406183">[-]</label><label class="expand" for="c-41406183">[1 more]</label></div><br/><div class="children"><div class="content">One of the greatest tool for the shell, I womder how many jobs this tool help to keep</div><br/></div></div><div id="41407278" class="c"><input type="checkbox" id="c-41407278" checked=""/><div class="controls bullet"><span class="by">ponow</span><span>|</span><a href="#41406183">prev</a><span>|</span><a href="#41406090">next</a><span>|</span><label class="collapse" for="c-41407278">[-]</label><label class="expand" for="c-41407278">[1 more]</label></div><br/><div class="children"><div class="content">Now add cross-platform GUI interaction for apps and web apps.  [Ducks]</div><br/></div></div><div id="41406090" class="c"><input type="checkbox" id="c-41406090" checked=""/><div class="controls bullet"><span class="by">smitty1e</span><span>|</span><a href="#41407278">prev</a><span>|</span><label class="collapse" for="c-41406090">[-]</label><label class="expand" for="c-41406090">[5 more]</label></div><br/><div class="children"><div class="content">As a default, I&#x27;d keep everything in one language: <a href="https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;pyexpect&#x2F;" rel="nofollow">https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;pyexpect&#x2F;</a></div><br/><div id="41406204" class="c"><input type="checkbox" id="c-41406204" checked=""/><div class="controls bullet"><span class="by">firesteelrain</span><span>|</span><a href="#41406090">parent</a><span>|</span><a href="#41406172">next</a><span>|</span><label class="collapse" for="c-41406204">[-]</label><label class="expand" for="c-41406204">[3 more]</label></div><br/><div class="children"><div class="content">I don’t think you understand nor used the program expect before<p>Pyexpect is in another class of software. It is a Python testing utility that provides expressive assertions for unit testing.<p>On the other hand, the Unix expect program, and its Python equivalent pexpect, are used for automating interactive applications.</div><br/><div id="41406232" class="c"><input type="checkbox" id="c-41406232" checked=""/><div class="controls bullet"><span class="by">actinium226</span><span>|</span><a href="#41406090">root</a><span>|</span><a href="#41406204">parent</a><span>|</span><a href="#41406172">next</a><span>|</span><label class="collapse" for="c-41406232">[-]</label><label class="expand" for="c-41406232">[2 more]</label></div><br/><div class="children"><div class="content">I suppose he&#x2F;she meant pexpect <a href="https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;pexpect&#x2F;" rel="nofollow">https:&#x2F;&#x2F;pypi.org&#x2F;project&#x2F;pexpect&#x2F;</a></div><br/><div id="41407297" class="c"><input type="checkbox" id="c-41407297" checked=""/><div class="controls bullet"><span class="by">smitty1e</span><span>|</span><a href="#41406090">root</a><span>|</span><a href="#41406232">parent</a><span>|</span><a href="#41406172">next</a><span>|</span><label class="collapse" for="c-41407297">[-]</label><label class="expand" for="c-41407297">[1 more]</label></div><br/><div class="children"><div class="content">Thank you</div><br/></div></div></div></div></div></div><div id="41406172" class="c"><input type="checkbox" id="c-41406172" checked=""/><div class="controls bullet"><span class="by">synergy20</span><span>|</span><a href="#41406090">parent</a><span>|</span><a href="#41406204">prev</a><span>|</span><label class="collapse" for="c-41406172">[-]</label><label class="expand" for="c-41406172">[1 more]</label></div><br/><div class="children"><div class="content">pexpect seems to be much more popular though</div><br/></div></div></div></div></div></div></div></div></div></body></html>