<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1690794075142" as="style"/><link rel="stylesheet" href="styles.css?v=1690794075142"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.dornea.nu/2023/07/30/documentation-as-code-for-cloud-plantuml/">Documentation as Code for Cloud Using PlantUML</a>Â <span class="domain">(<a href="https://blog.dornea.nu">blog.dornea.nu</a>)</span></div><div class="subtext"><span>cyneox</span> | <span>28 comments</span></div><br/><div><div id="36940149" class="c"><input type="checkbox" id="c-36940149" checked=""/><div class="controls bullet"><span class="by">thangalin</span><span>|</span><a href="#36935695">next</a><span>|</span><label class="collapse" for="c-36940149">[-]</label><label class="expand" for="c-36940149">[1 more]</label></div><br/><div class="children"><div class="content">My cross-platform desktop text editor, KeenWrite, allows users to define variables in an external YAML file. The editor calls out to Kroki[1] to convert text-based diagrams to SVG. The diagrams can reference variables and are rendered using EchoSVG[2].<p>KeenWrite[3] can produce PDF documentation from Markdown documents that has PlantUML diagrams with elements stored in an external, machine-readable file. Here are screenshots showing variables on the left, diagram text in the middle, and a real-time render on the right:<p>* <a href="https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;DaveJarvis&#x2F;KeenWrite&#x2F;main&#x2F;docs&#x2F;images&#x2F;screenshots&#x2F;01.png" rel="nofollow noreferrer">https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;DaveJarvis&#x2F;KeenWrite&#x2F;main&#x2F;...</a><p>* <a href="https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;DaveJarvis&#x2F;KeenWrite&#x2F;main&#x2F;docs&#x2F;images&#x2F;screenshots&#x2F;05.png" rel="nofollow noreferrer">https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;DaveJarvis&#x2F;KeenWrite&#x2F;main&#x2F;...</a><p>KeenWrite supports all diagrams offered by Kroki, which includes &quot;diagram-plantuml&quot;.<p>[1]: <a href="https:&#x2F;&#x2F;kroki.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;kroki.io&#x2F;</a><p>[2]: <a href="https:&#x2F;&#x2F;github.com&#x2F;css4j&#x2F;echosvg&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;css4j&#x2F;echosvg&#x2F;</a><p>[3]: <a href="https:&#x2F;&#x2F;github.com&#x2F;DaveJarvis&#x2F;keenwrite">https:&#x2F;&#x2F;github.com&#x2F;DaveJarvis&#x2F;keenwrite</a></div><br/></div></div><div id="36935695" class="c"><input type="checkbox" id="c-36935695" checked=""/><div class="controls bullet"><span class="by">mikeholler</span><span>|</span><a href="#36940149">prev</a><span>|</span><a href="#36938329">next</a><span>|</span><label class="collapse" for="c-36935695">[-]</label><label class="expand" for="c-36935695">[5 more]</label></div><br/><div class="children"><div class="content">One of the coolest things about plantuml is the generated PNG actually contains the source code for the image as metadata. If someone gives you an image, they don&#x27;t also need to send you the source because you can extract it using the plantuml CLI.</div><br/><div id="36936385" class="c"><input type="checkbox" id="c-36936385" checked=""/><div class="controls bullet"><span class="by">Yasuraka</span><span>|</span><a href="#36935695">parent</a><span>|</span><a href="#36939889">next</a><span>|</span><label class="collapse" for="c-36936385">[-]</label><label class="expand" for="c-36936385">[1 more]</label></div><br/><div class="children"><div class="content">draw.io also supports this for .png and .html, so you can just import and continue editing it<p>Coworkers always accuse me of tomfoolery when I tell them it&#x27;s already in there</div><br/></div></div><div id="36939889" class="c"><input type="checkbox" id="c-36939889" checked=""/><div class="controls bullet"><span class="by">animesh</span><span>|</span><a href="#36935695">parent</a><span>|</span><a href="#36936385">prev</a><span>|</span><a href="#36937983">next</a><span>|</span><label class="collapse" for="c-36939889">[-]</label><label class="expand" for="c-36939889">[1 more]</label></div><br/><div class="children"><div class="content">I wonder if the Copy As Image also does this. I will check.</div><br/></div></div><div id="36937983" class="c"><input type="checkbox" id="c-36937983" checked=""/><div class="controls bullet"><span class="by">siddharthgoel88</span><span>|</span><a href="#36935695">parent</a><span>|</span><a href="#36939889">prev</a><span>|</span><a href="#36935795">next</a><span>|</span><label class="collapse" for="c-36937983">[-]</label><label class="expand" for="c-36937983">[1 more]</label></div><br/><div class="children"><div class="content">That is so cool. Did not know this. Thank you!</div><br/></div></div><div id="36935795" class="c"><input type="checkbox" id="c-36935795" checked=""/><div class="controls bullet"><span class="by">NicoJuicy</span><span>|</span><a href="#36935695">parent</a><span>|</span><a href="#36937983">prev</a><span>|</span><a href="#36938329">next</a><span>|</span><label class="collapse" for="c-36935795">[-]</label><label class="expand" for="c-36935795">[1 more]</label></div><br/><div class="children"><div class="content">Didn&#x27;t knew that! Thanks</div><br/></div></div></div></div><div id="36938329" class="c"><input type="checkbox" id="c-36938329" checked=""/><div class="controls bullet"><span class="by">jerieljan</span><span>|</span><a href="#36935695">prev</a><span>|</span><a href="#36939575">next</a><span>|</span><label class="collapse" for="c-36938329">[-]</label><label class="expand" for="c-36938329">[1 more]</label></div><br/><div class="children"><div class="content">I love PlantUML. I was always fond of it in my early days as a software engineer and still use it today, along with all the various ways to draw diagrams out there, whether it&#x27;s through a web tool like draw.io or Miro or through markup like PlantUML and Mermaid.<p>Some stuff I&#x27;d like to share with the rest:<p>- PlantUML&#x27;s default style has improved since the days of red&#x2F;brown borders, pale yellow boxes, drop shadows and such but I&#x27;ve attempted fixing it before through a preset style [I&#x27;ve made before here](<a href="https:&#x2F;&#x2F;gist.github.com&#x2F;jerieljan&#x2F;4c82515ff5f2b2e4dd5122d354a82b7e" rel="nofollow noreferrer">https:&#x2F;&#x2F;gist.github.com&#x2F;jerieljan&#x2F;4c82515ff5f2b2e4dd5122d354...</a>). It&#x27;s obsolete nowadays, since I&#x27;m sure someone has made a style generator somewhere, and last I checked, PlantUML allows a monochrome style out of the box.<p>- [Eraser](<a href="https:&#x2F;&#x2F;app.eraser.io" rel="nofollow noreferrer">https:&#x2F;&#x2F;app.eraser.io</a>) is promising, considering that it&#x27;s trying to blend both diagram-as-code markup along with the usual visual diagram editor. I&#x27;m still seeing if it&#x27;s worth picking up since Miro&#x27;s hard to beat.<p>- On an unrelated note, [WikiJS](<a href="https:&#x2F;&#x2F;js.wiki&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;js.wiki&#x2F;</a>) is a self-hosted wiki that happens to support draw.io, PlantUML and MermaidJS diagrams out of the box. Quite handy to have for your own docs.<p>- I use Miro nowadays since it&#x27;s significantly quicker to draw things freeform and to collaborate live with folks on a whiteboard at the cost of having your diagrams in markup, but it&#x27;s easy to miss the integration that [you can actually import PlantUML](<a href="https:&#x2F;&#x2F;help.miro.com&#x2F;hc&#x2F;en-us&#x2F;articles&#x2F;7004940386578" rel="nofollow noreferrer">https:&#x2F;&#x2F;help.miro.com&#x2F;hc&#x2F;en-us&#x2F;articles&#x2F;7004940386578</a>) and Mermaid diagrams in a Miro board too. You can also do edits too, but it&#x27;s on its own PlantUML section, of course.</div><br/></div></div><div id="36939575" class="c"><input type="checkbox" id="c-36939575" checked=""/><div class="controls bullet"><span class="by">nextaccountic</span><span>|</span><a href="#36938329">prev</a><span>|</span><a href="#36938714">next</a><span>|</span><label class="collapse" for="c-36939575">[-]</label><label class="expand" for="c-36939575">[1 more]</label></div><br/><div class="children"><div class="content">Here&#x27;s three interesting Rust projects that use plantuml<p>You can embed plantuml and drawio diagrams in Rust doc comments and have it rendered in the docs, using this crate<p><a href="https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;rsdoc" rel="nofollow noreferrer">https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;rsdoc</a><p>And you can generate plantuml from SQL tables using<p><a href="https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;sqlant" rel="nofollow noreferrer">https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;sqlant</a> (this one is a rust port of a go tool, <a href="https:&#x2F;&#x2F;github.com&#x2F;achiku&#x2F;planter">https:&#x2F;&#x2F;github.com&#x2F;achiku&#x2F;planter</a>)<p>And you can embed plantuml in mdbook<p><a href="https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;mdbook-plantuml" rel="nofollow noreferrer">https:&#x2F;&#x2F;crates.io&#x2F;crates&#x2F;mdbook-plantuml</a></div><br/></div></div><div id="36938714" class="c"><input type="checkbox" id="c-36938714" checked=""/><div class="controls bullet"><span class="by">lxe</span><span>|</span><a href="#36939575">prev</a><span>|</span><a href="#36936336">next</a><span>|</span><label class="collapse" for="c-36938714">[-]</label><label class="expand" for="c-36938714">[1 more]</label></div><br/><div class="children"><div class="content">Somewhat related thing I&#x27;ve discovered recently that I&#x27;m finding tremendously useful: ChatGPT knows plantUML so it can generate amazing diagrams just from your prompt.</div><br/></div></div><div id="36936336" class="c"><input type="checkbox" id="c-36936336" checked=""/><div class="controls bullet"><span class="by">jimmcslim</span><span>|</span><a href="#36938714">prev</a><span>|</span><a href="#36936130">next</a><span>|</span><label class="collapse" for="c-36936336">[-]</label><label class="expand" for="c-36936336">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m a big fan of PlantUML. The only issue I have is that the layout algorithm sometimes can be challenging to work with for certain types of diagrams, although this is often due to there being too many nodes in the diagram... so, simplify it?<p>Nevertheless one improvement I would like to see for PlantUML (and similar tools like Mermaid) is a way to separate content and style from layout... i.e perhaps have a viewer that can pop up and let the user reorganise the elements and save the absolute positioning to a separate sidecar file?</div><br/></div></div><div id="36936130" class="c"><input type="checkbox" id="c-36936130" checked=""/><div class="controls bullet"><span class="by">bluejekyll</span><span>|</span><a href="#36936336">prev</a><span>|</span><a href="#36939256">next</a><span>|</span><label class="collapse" for="c-36936130">[-]</label><label class="expand" for="c-36936130">[3 more]</label></div><br/><div class="children"><div class="content">I started using plantuml more rigorously at work. I&#x27;ve found that collaboration on the drawings&#x2F;diagrams, is simpler and easier as it can be tracked in Git. One additional thing that I&#x27;ve been using as well is the mdBook plugin to embed and render the images as part of a larger book. This has been helpful for large systems when there are many teams involved. We publish the content as github pages on the repos as well.<p>I&#x27;d like to start doing this with my open-source as well.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;sytsereitsma&#x2F;mdbook-plantuml">https:&#x2F;&#x2F;github.com&#x2F;sytsereitsma&#x2F;mdbook-plantuml</a></div><br/><div id="36936173" class="c"><input type="checkbox" id="c-36936173" checked=""/><div class="controls bullet"><span class="by">politelemon</span><span>|</span><a href="#36936130">parent</a><span>|</span><a href="#36939256">next</a><span>|</span><label class="collapse" for="c-36936173">[-]</label><label class="expand" for="c-36936173">[2 more]</label></div><br/><div class="children"><div class="content">We haven&#x27;t found the same to be true. The moment there&#x27;s an extra step involved in rendering the image, the advantages have been lost through numerous outdated copies. We found that people relied on the imagery more than the DSL behind it.<p>We now publish draw.io SVGs. GitHub renders them and people view them. The rendering engine is effectively the browser which makes it very accessible.<p>I suppose this means our companies have differing cultures or some other factor I&#x27;m not aware of</div><br/><div id="36939511" class="c"><input type="checkbox" id="c-36939511" checked=""/><div class="controls bullet"><span class="by">riffraff</span><span>|</span><a href="#36936130">root</a><span>|</span><a href="#36936173">parent</a><span>|</span><a href="#36939256">next</a><span>|</span><label class="collapse" for="c-36939511">[-]</label><label class="expand" for="c-36939511">[1 more]</label></div><br/><div class="children"><div class="content">GitHub supports mermaidjs natively.<p>I prefer plantuml but mermaid is nice enough.</div><br/></div></div></div></div></div></div><div id="36939256" class="c"><input type="checkbox" id="c-36939256" checked=""/><div class="controls bullet"><span class="by">pagnol</span><span>|</span><a href="#36936130">prev</a><span>|</span><a href="#36937428">next</a><span>|</span><label class="collapse" for="c-36939256">[-]</label><label class="expand" for="c-36939256">[1 more]</label></div><br/><div class="children"><div class="content">For anyone using Emacs Org mode, it may be interesting to know that plantUML diagrams can be embedded in Org documents using Babel.</div><br/></div></div><div id="36937428" class="c"><input type="checkbox" id="c-36937428" checked=""/><div class="controls bullet"><span class="by">smusamashah</span><span>|</span><a href="#36939256">prev</a><span>|</span><a href="#36937324">next</a><span>|</span><label class="collapse" for="c-36937428">[-]</label><label class="expand" for="c-36937428">[1 more]</label></div><br/><div class="children"><div class="content">The list of many PlantUML kind of tools <a href="https:&#x2F;&#x2F;xosh.org&#x2F;text-to-diagram&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;xosh.org&#x2F;text-to-diagram&#x2F;</a></div><br/></div></div><div id="36937324" class="c"><input type="checkbox" id="c-36937324" checked=""/><div class="controls bullet"><span class="by">s1291</span><span>|</span><a href="#36937428">prev</a><span>|</span><a href="#36937865">next</a><span>|</span><label class="collapse" for="c-36937324">[-]</label><label class="expand" for="c-36937324">[2 more]</label></div><br/><div class="children"><div class="content">Community list of comparisons between Text to Diagram tools: <a href="https:&#x2F;&#x2F;text-to-diagram.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;text-to-diagram.com&#x2F;</a></div><br/><div id="36938937" class="c"><input type="checkbox" id="c-36938937" checked=""/><div class="controls bullet"><span class="by">afruitpie</span><span>|</span><a href="#36937324">parent</a><span>|</span><a href="#36937865">next</a><span>|</span><label class="collapse" for="c-36938937">[-]</label><label class="expand" for="c-36938937">[1 more]</label></div><br/><div class="children"><div class="content">Itâs worth noting that this page is made by the makers of D2 (they mention it at the bottom, itâs no secret).<p>For me, D2âs syntax is the easiest to write, but it outputs sparse diagrams that are difficult to read without a lot of zooming.</div><br/></div></div></div></div><div id="36937865" class="c"><input type="checkbox" id="c-36937865" checked=""/><div class="controls bullet"><span class="by">bjt12345</span><span>|</span><a href="#36937324">prev</a><span>|</span><a href="#36936354">next</a><span>|</span><label class="collapse" for="c-36937865">[-]</label><label class="expand" for="c-36937865">[2 more]</label></div><br/><div class="children"><div class="content">I use PlantUML to create quick network diagrams.<p>It&#x27;s the only solution I found which allows tailoring a diagram if it renders poorly.<p>For example, if access switches are to be on the left, and trunk switches on the right, PlantUML is the only solution I found which adequately allows the user to add such constraints, via:<p>S1 --E-- S2</div><br/><div id="36939556" class="c"><input type="checkbox" id="c-36939556" checked=""/><div class="controls bullet"><span class="by">cgb_</span><span>|</span><a href="#36937865">parent</a><span>|</span><a href="#36936354">next</a><span>|</span><label class="collapse" for="c-36939556">[-]</label><label class="expand" for="c-36939556">[1 more]</label></div><br/><div class="children"><div class="content">Hey, what style of diagram are you using for this?  Deployment diagram?  Do you have link to an example?</div><br/></div></div></div></div><div id="36936354" class="c"><input type="checkbox" id="c-36936354" checked=""/><div class="controls bullet"><span class="by">candiddevmike</span><span>|</span><a href="#36937865">prev</a><span>|</span><a href="#36938933">next</a><span>|</span><label class="collapse" for="c-36936354">[-]</label><label class="expand" for="c-36936354">[7 more]</label></div><br/><div class="children"><div class="content">What does PlantUML do better than mermaid?</div><br/><div id="36937082" class="c"><input type="checkbox" id="c-36937082" checked=""/><div class="controls bullet"><span class="by">MilStdJunkie</span><span>|</span><a href="#36936354">parent</a><span>|</span><a href="#36937344">next</a><span>|</span><label class="collapse" for="c-36937082">[-]</label><label class="expand" for="c-36937082">[1 more]</label></div><br/><div class="children"><div class="content"><i>Lots</i> more chart types, or at least chart types that aren&#x27;t found anywhere else. JSON render, SALT UI markup, regex diagram, a YAML renderer. That said, Mermaid also has some unique diagrams, like the fantastic git renderer. And it runs on JS only. So Mermaid has probably got longer legs, while stuff like PlantUML and Vega&#x2F;Vega-Lite taking on more edge cases.</div><br/></div></div><div id="36937344" class="c"><input type="checkbox" id="c-36937344" checked=""/><div class="controls bullet"><span class="by">s1291</span><span>|</span><a href="#36936354">parent</a><span>|</span><a href="#36937082">prev</a><span>|</span><a href="#36936852">next</a><span>|</span><label class="collapse" for="c-36937344">[-]</label><label class="expand" for="c-36937344">[1 more]</label></div><br/><div class="children"><div class="content">For a comparison between different Text to Diagram tools, see: <a href="https:&#x2F;&#x2F;text-to-diagram.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;text-to-diagram.com&#x2F;</a></div><br/></div></div><div id="36936852" class="c"><input type="checkbox" id="c-36936852" checked=""/><div class="controls bullet"><span class="by">cratermoon</span><span>|</span><a href="#36936354">parent</a><span>|</span><a href="#36937344">prev</a><span>|</span><a href="#36937321">next</a><span>|</span><label class="collapse" for="c-36936852">[-]</label><label class="expand" for="c-36936852">[1 more]</label></div><br/><div class="children"><div class="content">PlantUML is a command-line tool to generate diagrams in multiple formats that can be saved and shared, it also has a GUI. Mermaid is a javascript library for rendering simple text definitions to useful diagrams in the browser, although there is a separate command line tool. It has chromium as a dependency.<p>Last I heard,  PlantUML has support for more types of diagrams, allows for themes and more customization.</div><br/></div></div><div id="36937321" class="c"><input type="checkbox" id="c-36937321" checked=""/><div class="controls bullet"><span class="by">rowanG077</span><span>|</span><a href="#36936354">parent</a><span>|</span><a href="#36936852">prev</a><span>|</span><a href="#36938933">next</a><span>|</span><label class="collapse" for="c-36937321">[-]</label><label class="expand" for="c-36937321">[3 more]</label></div><br/><div class="children"><div class="content">Well not having chromium as a dependency is a start. But even glossing over that fact I found that it&#x27;s much better for many diagrams. PlantUML is also a one stop shop. You can basically make anything kind of diagram in it.</div><br/><div id="36939118" class="c"><input type="checkbox" id="c-36939118" checked=""/><div class="controls bullet"><span class="by">anticodon</span><span>|</span><a href="#36936354">root</a><span>|</span><a href="#36937321">parent</a><span>|</span><a href="#36938933">next</a><span>|</span><label class="collapse" for="c-36939118">[-]</label><label class="expand" for="c-36939118">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Well not having chromium as a dependency is a start.<p>Java as a dependency is not much better. It&#x27;s also huge which is important if you build your diagrams in containers and&#x2F;or CI&#x2F;CD. It&#x27;s also very slow to start. I&#x27;m always surprised when benchmarks show that Java is &quot;fast&quot;, because it&#x27;s so huge and has atrocious cold start time, that makes it very unpleasant to use for CLI utilities.</div><br/><div id="36939737" class="c"><input type="checkbox" id="c-36939737" checked=""/><div class="controls bullet"><span class="by">zokier</span><span>|</span><a href="#36936354">root</a><span>|</span><a href="#36939118">parent</a><span>|</span><a href="#36938933">next</a><span>|</span><label class="collapse" for="c-36939737">[-]</label><label class="expand" for="c-36939737">[1 more]</label></div><br/><div class="children"><div class="content">If you are super concerned about startup times, you could run plantuml as web service instead, then your renders are just a single http call away<p><a href="https:&#x2F;&#x2F;github.com&#x2F;plantuml&#x2F;plantuml-server">https:&#x2F;&#x2F;github.com&#x2F;plantuml&#x2F;plantuml-server</a></div><br/></div></div></div></div></div></div></div></div><div id="36938933" class="c"><input type="checkbox" id="c-36938933" checked=""/><div class="controls bullet"><span class="by">rpz</span><span>|</span><a href="#36936354">prev</a><span>|</span><label class="collapse" for="c-36938933">[-]</label><label class="expand" for="c-36938933">[1 more]</label></div><br/><div class="children"><div class="content">similieHash(âdocumentation as codeâ) == similieHash(ânails as hammerâ)</div><br/></div></div></div></div></div></div></div></body></html>