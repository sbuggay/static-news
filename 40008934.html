<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1712912459811" as="style"/><link rel="stylesheet" href="styles.css?v=1712912459811"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://nithinbekal.com/posts/abstract-methods-notimplementederror-ruby/">Abstract Methods and NotImplementedError in Ruby</a>Â <span class="domain">(<a href="https://nithinbekal.com">nithinbekal.com</a>)</span></div><div class="subtext"><span>nithinbekal</span> | <span>10 comments</span></div><br/><div><div id="40009427" class="c"><input type="checkbox" id="c-40009427" checked=""/><div class="controls bullet"><span class="by">MarceColl</span><span>|</span><a href="#40010254">next</a><span>|</span><label class="collapse" for="c-40009427">[-]</label><label class="expand" for="c-40009427">[3 more]</label></div><br/><div class="children"><div class="content">I think that NotImplementedError doesn&#x27;t get rescued is a feature, not a bug. It means you are calling a class that has a missing part of the interface, and that&#x27;s usually programmer error. For some cases where you can partially implement the spec, it may make sense to go this way, but for most abstract classes I think the NotImplementedError is still a good idea.</div><br/><div id="40009810" class="c"><input type="checkbox" id="c-40009810" checked=""/><div class="controls bullet"><span class="by">looopTools</span><span>|</span><a href="#40009427">parent</a><span>|</span><a href="#40009733">next</a><span>|</span><label class="collapse" for="c-40009810">[-]</label><label class="expand" for="c-40009810">[1 more]</label></div><br/><div class="children"><div class="content">I totally agree with this point of view</div><br/></div></div><div id="40009733" class="c"><input type="checkbox" id="c-40009733" checked=""/><div class="controls bullet"><span class="by">lamontcg</span><span>|</span><a href="#40009427">parent</a><span>|</span><a href="#40009810">prev</a><span>|</span><a href="#40010254">next</a><span>|</span><label class="collapse" for="c-40009733">[-]</label><label class="expand" for="c-40009733">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, an unimplemented abstract method being called shouldn&#x27;t really ever happen at runtime and should be some form of &quot;Internal Error&quot; and should aggressively try to blow up the program.  I think this blog post just convinced me using it is correct.  The concrete class that leaves it unimplemented should raise something else if they intend to let consumers catch it with a generic rescue clause (which is probably a code smell itself).</div><br/></div></div></div></div><div id="40010254" class="c"><input type="checkbox" id="c-40010254" checked=""/><div class="controls bullet"><span class="by">irjustin</span><span>|</span><a href="#40009427">prev</a><span>|</span><a href="#40010188">next</a><span>|</span><label class="collapse" for="c-40010254">[-]</label><label class="expand" for="c-40010254">[1 more]</label></div><br/><div class="children"><div class="content">Wow I didn&#x27;t know this.<p>I and thusly our team uses `NotImplementedError` all over the place and I know I picked up that pattern from a rubygem somewhere along the line (predates copilot or generative code by years).<p>Even though I&#x27;m technically using it incorrectly, I don&#x27;t want it to inherit `StandardError` and thus blows up. Because, I want it to blow up in the worst way possible. The handling engineer knows this is serious, and it if made it all the way to production, then our specs are lacking so bad that we need to have a discussion.<p>That&#x27;s a feature to me.</div><br/></div></div><div id="40010188" class="c"><input type="checkbox" id="c-40010188" checked=""/><div class="controls bullet"><span class="by">thomascountz</span><span>|</span><a href="#40010254">prev</a><span>|</span><a href="#40009955">next</a><span>|</span><label class="collapse" for="c-40010188">[-]</label><label class="expand" for="c-40010188">[1 more]</label></div><br/><div class="children"><div class="content">Ongoing related discussion: <a href="https:&#x2F;&#x2F;bugs.ruby-lang.org&#x2F;issues&#x2F;18915" rel="nofollow">https:&#x2F;&#x2F;bugs.ruby-lang.org&#x2F;issues&#x2F;18915</a></div><br/></div></div><div id="40009955" class="c"><input type="checkbox" id="c-40009955" checked=""/><div class="controls bullet"><span class="by">Traubenfuchs</span><span>|</span><a href="#40010188">prev</a><span>|</span><label class="collapse" for="c-40009955">[-]</label><label class="expand" for="c-40009955">[4 more]</label></div><br/><div class="children"><div class="content">How about... and please sit down for this one... How about adding an &quot;abstract&quot; keyword for methods and refusing to compile with an abstract method from a parent class not being implemented in a non abstract child class?</div><br/><div id="40010149" class="c"><input type="checkbox" id="c-40010149" checked=""/><div class="controls bullet"><span class="by">rezonant</span><span>|</span><a href="#40009955">parent</a><span>|</span><a href="#40010033">next</a><span>|</span><label class="collapse" for="c-40010149">[-]</label><label class="expand" for="c-40010149">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s Ruby, there&#x27;s no compilation. It&#x27;s also common to not load all files of an application&#x27;s codebase at startup, in particular this is the default setting for Rails in development mode.</div><br/><div id="40010291" class="c"><input type="checkbox" id="c-40010291" checked=""/><div class="controls bullet"><span class="by">lloeki</span><span>|</span><a href="#40009955">root</a><span>|</span><a href="#40010149">parent</a><span>|</span><a href="#40010033">next</a><span>|</span><label class="collapse" for="c-40010291">[-]</label><label class="expand" for="c-40010291">[1 more]</label></div><br/><div class="children"><div class="content">There is. CRuby code gets compiled to ISeq (VM bytecode) upon `load` &#x2F; `require` &#x2F; `eval`. JRuby does similar things (IIRC using InvokeDynamic).<p>The difference (and that does not even need to involve Rails) is that these three - and thus compilation - happen at <i>runtime</i>, anytime, always.<p>The fact that a typical &quot;main&quot; file follows the &quot;require first, then define modules and classes, then execute&quot; creates a mental illusion of order; the fact that generally dependencies also follow this propagates that illusion across the board.<p>Therefore at the ruby source level you can only have runtime checks (and failure via exceptions), unless you bring in another static analysis tool such as Sorbet or RBS+Steep, which is an actual solution to enforce interface contracts without risking blowing up an app at runtime. That stays true even if there were a hypothetical &quot;abstract&quot; Ruby-level keyword. The only other solution without such tools is to have perfect (runtime) coverage via tests.<p>Note that mruby takes a fundamentally different approach here, and there&#x27;s no require nor load.</div><br/></div></div></div></div><div id="40010033" class="c"><input type="checkbox" id="c-40010033" checked=""/><div class="controls bullet"><span class="by">raincole</span><span>|</span><a href="#40009955">parent</a><span>|</span><a href="#40010149">prev</a><span>|</span><label class="collapse" for="c-40010033">[-]</label><label class="expand" for="c-40010033">[1 more]</label></div><br/><div class="children"><div class="content">Or, you know, people use different programming languages for reasons and there isn&#x27;t need to unify all the languages as one?</div><br/></div></div></div></div></div></div></div></div></div></body></html>