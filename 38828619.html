<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1704099666227" as="style"/><link rel="stylesheet" href="styles.css?v=1704099666227"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://lupyuen.codeberg.page/articles/nim.html">Nim on a Real-Time Operating System: Apache NuttX RTOS and Ox64 BL808 SBC</a>Â <span class="domain">(<a href="https://lupyuen.codeberg.page">lupyuen.codeberg.page</a>)</span></div><div class="subtext"><span>lupyuen</span> | <span>8 comments</span></div><br/><div><div id="38830178" class="c"><input type="checkbox" id="c-38830178" checked=""/><div class="controls bullet"><span class="by">warangal</span><span>|</span><a href="#38829714">next</a><span>|</span><label class="collapse" for="c-38830178">[-]</label><label class="expand" for="c-38830178">[2 more]</label></div><br/><div class="children"><div class="content">Just wanted to say thanks for this and all other such detailed posts!. Found your blog a few weeks ago and have been going through posts running NuttX RTOS on these SBCs, but admittedly feel overwhelmed with sheer amount of information packed together !</div><br/><div id="38830297" class="c"><input type="checkbox" id="c-38830297" checked=""/><div class="controls bullet"><span class="by">lupyuen</span><span>|</span><a href="#38830178">parent</a><span>|</span><a href="#38829714">next</a><span>|</span><label class="collapse" for="c-38830297">[-]</label><label class="expand" for="c-38830297">[1 more]</label></div><br/><div class="children"><div class="content">Thank you so much! 2024 will be an awesome year for 64-bit RISC-V Gadgets (like Ox64), I&#x27;ll write lots more :-)</div><br/></div></div></div></div><div id="38829714" class="c"><input type="checkbox" id="c-38829714" checked=""/><div class="controls bullet"><span class="by">elcritch</span><span>|</span><a href="#38830178">prev</a><span>|</span><a href="#38830308">next</a><span>|</span><label class="collapse" for="c-38829714">[-]</label><label class="expand" for="c-38829714">[4 more]</label></div><br/><div class="children"><div class="content">Nice write up! Note Nim can also run FreeRTOS and Zephyr with networking support. It can also run on Arduino or the Pi Pico.</div><br/><div id="38829912" class="c"><input type="checkbox" id="c-38829912" checked=""/><div class="controls bullet"><span class="by">lupyuen</span><span>|</span><a href="#38829714">parent</a><span>|</span><a href="#38830308">next</a><span>|</span><label class="collapse" for="c-38829912">[-]</label><label class="expand" for="c-38829912">[3 more]</label></div><br/><div class="children"><div class="content">Thanks! Yep we should do more Nim programming on microcontrollers, since they have lots more RAM nowadays.</div><br/><div id="38830467" class="c"><input type="checkbox" id="c-38830467" checked=""/><div class="controls bullet"><span class="by">brabel</span><span>|</span><a href="#38829714">root</a><span>|</span><a href="#38829912">parent</a><span>|</span><a href="#38830308">next</a><span>|</span><label class="collapse" for="c-38830467">[-]</label><label class="expand" for="c-38830467">[2 more]</label></div><br/><div class="children"><div class="content">Nim uses the ORC &quot;GC&quot; by default, which is Reference-Count with cycle detection.
I don&#x27;t get why calling the GC explicitly is needed in your examples given RC will drop memory as soon as it goes out of scope (and there are no other aliases to it). Perhaps the &quot;cycle detection&quot; happens at indeterminate times? But can&#x27;t you use the simple RC GC in such cases? That should also ensure you don&#x27;t use more memory than C at all?!</div><br/><div id="38830529" class="c"><input type="checkbox" id="c-38830529" checked=""/><div class="controls bullet"><span class="by">lupyuen</span><span>|</span><a href="#38829714">root</a><span>|</span><a href="#38830467">parent</a><span>|</span><a href="#38830308">next</a><span>|</span><label class="collapse" for="c-38830529">[-]</label><label class="expand" for="c-38830529">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for the tip! I&#x27;ll check with the folks who added Nim support to NuttX, and figure out whether we should call GC_runOrc()</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>