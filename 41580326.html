<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1726736465026" as="style"/><link rel="stylesheet" href="styles.css?v=1726736465026"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/exaloop/codon">A high-performance, zero-overhead, extensible Python compiler using LLVM</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>wspeirs</span> | <span>66 comments</span></div><br/><div><div id="41584104" class="c"><input type="checkbox" id="c-41584104" checked=""/><div class="controls bullet"><span class="by">haberman</span><span>|</span><a href="#41580916">next</a><span>|</span><label class="collapse" for="c-41584104">[-]</label><label class="expand" for="c-41584104">[35 more]</label></div><br/><div class="children"><div class="content">&gt; Non-goals: Drop-in replacement for CPython: Codon is not a drop-in replacement for CPython. There are some aspects of Python that are not suitable for static compilation — we don&#x27;t support these in Codon.<p>This is targeting a Python subset, not Python itself.<p>For example, something as simple as this will not compile, because lists cannot mix types in Codon (<a href="https:&#x2F;&#x2F;docs.exaloop.io&#x2F;codon&#x2F;language&#x2F;collections#strong-typing" rel="nofollow">https:&#x2F;&#x2F;docs.exaloop.io&#x2F;codon&#x2F;language&#x2F;collections#strong-ty...</a>):<p><pre><code>    l = [1, &#x27;s&#x27;]
</code></pre>
It&#x27;s confusing to call this a &quot;Python compiler&quot; when the constraints it imposes pretty fundamentally change the nature of the language.</div><br/><div id="41589752" class="c"><input type="checkbox" id="c-41589752" checked=""/><div class="controls bullet"><span class="by">BiteCode_dev</span><span>|</span><a href="#41584104">parent</a><span>|</span><a href="#41584969">next</a><span>|</span><label class="collapse" for="c-41589752">[-]</label><label class="expand" for="c-41589752">[1 more]</label></div><br/><div class="children"><div class="content">For a real compiler  try nuitka.</div><br/></div></div><div id="41584969" class="c"><input type="checkbox" id="c-41584969" checked=""/><div class="controls bullet"><span class="by">bpshaver</span><span>|</span><a href="#41584104">parent</a><span>|</span><a href="#41589752">prev</a><span>|</span><a href="#41584219">next</a><span>|</span><label class="collapse" for="c-41584969">[-]</label><label class="expand" for="c-41584969">[18 more]</label></div><br/><div class="children"><div class="content">Who is out here mixing types in a list anyway?</div><br/><div id="41586457" class="c"><input type="checkbox" id="c-41586457" checked=""/><div class="controls bullet"><span class="by">dathinab</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41584969">parent</a><span>|</span><a href="#41585057">next</a><span>|</span><label class="collapse" for="c-41586457">[-]</label><label class="expand" for="c-41586457">[3 more]</label></div><br/><div class="children"><div class="content">parsing json is roughly of the type:<p>type Json = None | bool | float | str | dict[str, Json] | list[Json]<p>you might have similar situations for configs e.g. float | str for time in seconds or a human readable time string like &quot;30s&quot; etc.<p>given how fundamental such things are I&#x27;m not sure if there will be any larger projects (especially wrt. web servers and similar) which are compatible with this<p>also many commonly used features for libraries&#x2F;classes etc. are not very likely to work (but idk. for sure, they just are very dynamic in nature)<p>so IMHO this seems to be more like a python-like language you can use for idk. some since computations and similar then a general purpose faster python</div><br/><div id="41586536" class="c"><input type="checkbox" id="c-41586536" checked=""/><div class="controls bullet"><span class="by">bpshaver</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41586457">parent</a><span>|</span><a href="#41585057">next</a><span>|</span><label class="collapse" for="c-41586536">[-]</label><label class="expand" for="c-41586536">[2 more]</label></div><br/><div class="children"><div class="content">Agreed, I was just joking. I understand heterogenous lists are possible with Python, but with the use of static type checking I feel like its pretty rare for me to have heterogenous lists unless its duck typing.</div><br/><div id="41588159" class="c"><input type="checkbox" id="c-41588159" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41586536">parent</a><span>|</span><a href="#41585057">next</a><span>|</span><label class="collapse" for="c-41588159">[-]</label><label class="expand" for="c-41588159">[1 more]</label></div><br/><div class="children"><div class="content">If your language obstructs heterogeneous lists your programs will tend to lack them. Look for classes containing multiple hashtables from the same strings to different object types as a hint that they&#x27;re missed.<p>Whether that&#x27;s a feature is hard to say. Your language stopped you thinking in those terms, and stopped your colleagues from doing so. Did it force clarity of thought or awkward contortions in the implementation? Tends to depend on the domain.</div><br/></div></div></div></div></div></div><div id="41585057" class="c"><input type="checkbox" id="c-41585057" checked=""/><div class="controls bullet"><span class="by">orf</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41584969">parent</a><span>|</span><a href="#41586457">prev</a><span>|</span><a href="#41585248">next</a><span>|</span><label class="collapse" for="c-41585057">[-]</label><label class="expand" for="c-41585057">[2 more]</label></div><br/><div class="children"><div class="content">It’s common to have a list of objects with different types, but which implement the same interface. Duck typing of this kind is core to Python.</div><br/><div id="41586521" class="c"><input type="checkbox" id="c-41586521" checked=""/><div class="controls bullet"><span class="by">bpshaver</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41585057">parent</a><span>|</span><a href="#41585248">next</a><span>|</span><label class="collapse" for="c-41586521">[-]</label><label class="expand" for="c-41586521">[1 more]</label></div><br/><div class="children"><div class="content">Good point.</div><br/></div></div></div></div><div id="41585248" class="c"><input type="checkbox" id="c-41585248" checked=""/><div class="controls bullet"><span class="by">itishappy</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41584969">parent</a><span>|</span><a href="#41585057">prev</a><span>|</span><a href="#41587532">next</a><span>|</span><label class="collapse" for="c-41585248">[-]</label><label class="expand" for="c-41585248">[2 more]</label></div><br/><div class="children"><div class="content">The json module returns heterogenous dicts.<p><a href="https:&#x2F;&#x2F;docs.python.org&#x2F;3&#x2F;library&#x2F;json.html" rel="nofollow">https:&#x2F;&#x2F;docs.python.org&#x2F;3&#x2F;library&#x2F;json.html</a></div><br/><div id="41586526" class="c"><input type="checkbox" id="c-41586526" checked=""/><div class="controls bullet"><span class="by">bpshaver</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41585248">parent</a><span>|</span><a href="#41587532">next</a><span>|</span><label class="collapse" for="c-41586526">[-]</label><label class="expand" for="c-41586526">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, just because it <i>can</i> do that doesn&#x27;t mean that it is good design.</div><br/></div></div></div></div><div id="41587532" class="c"><input type="checkbox" id="c-41587532" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41584969">parent</a><span>|</span><a href="#41585248">prev</a><span>|</span><a href="#41585071">next</a><span>|</span><label class="collapse" for="c-41587532">[-]</label><label class="expand" for="c-41587532">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been mixing types in Python lists for several decades now.  Why wouldn&#x27;t you?  it&#x27;s a list of PyObjects.</div><br/></div></div><div id="41585071" class="c"><input type="checkbox" id="c-41585071" checked=""/><div class="controls bullet"><span class="by">CaptainNegative</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41584969">parent</a><span>|</span><a href="#41587532">prev</a><span>|</span><a href="#41585110">next</a><span>|</span><label class="collapse" for="c-41585071">[-]</label><label class="expand" for="c-41585071">[2 more]</label></div><br/><div class="children"><div class="content">I often find myself mixing Nones into lists containing built-in types when the former would indicate some kind of error. I could wrap them all into a nullable-style type, but why shouldn&#x27;t the interpreter implicitly handle that for me?</div><br/><div id="41586519" class="c"><input type="checkbox" id="c-41586519" checked=""/><div class="controls bullet"><span class="by">bpshaver</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41585071">parent</a><span>|</span><a href="#41585110">next</a><span>|</span><label class="collapse" for="c-41586519">[-]</label><label class="expand" for="c-41586519">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, that seems fair.</div><br/></div></div></div></div><div id="41585110" class="c"><input type="checkbox" id="c-41585110" checked=""/><div class="controls bullet"><span class="by">nicce</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41584969">parent</a><span>|</span><a href="#41585071">prev</a><span>|</span><a href="#41587210">next</a><span>|</span><label class="collapse" for="c-41585110">[-]</label><label class="expand" for="c-41585110">[2 more]</label></div><br/><div class="children"><div class="content">Everyone who chooses the Python in the first hand.</div><br/><div id="41586511" class="c"><input type="checkbox" id="c-41586511" checked=""/><div class="controls bullet"><span class="by">bpshaver</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41585110">parent</a><span>|</span><a href="#41587210">next</a><span>|</span><label class="collapse" for="c-41586511">[-]</label><label class="expand" for="c-41586511">[1 more]</label></div><br/><div class="children"><div class="content">Well, I&#x27;m one of those people, and I feel that I rarely do this. Except if I have a list of different objects that implement the same interface, as another commenter mentioned.</div><br/></div></div></div></div><div id="41587210" class="c"><input type="checkbox" id="c-41587210" checked=""/><div class="controls bullet"><span class="by">__mharrison__</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41584969">parent</a><span>|</span><a href="#41585110">prev</a><span>|</span><a href="#41586577">next</a><span>|</span><label class="collapse" for="c-41587210">[-]</label><label class="expand" for="c-41587210">[1 more]</label></div><br/><div class="children"><div class="content">Someone who is using Python the wrong way.</div><br/></div></div><div id="41586577" class="c"><input type="checkbox" id="c-41586577" checked=""/><div class="controls bullet"><span class="by">RogerL</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41584969">parent</a><span>|</span><a href="#41587210">prev</a><span>|</span><a href="#41584219">next</a><span>|</span><label class="collapse" for="c-41586577">[-]</label><label class="expand" for="c-41586577">[4 more]</label></div><br/><div class="children"><div class="content">return [key, value]</div><br/><div id="41587613" class="c"><input type="checkbox" id="c-41587613" checked=""/><div class="controls bullet"><span class="by">ghxst</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41586577">parent</a><span>|</span><a href="#41584219">next</a><span>|</span><label class="collapse" for="c-41587613">[-]</label><label class="expand" for="c-41587613">[3 more]</label></div><br/><div class="children"><div class="content">Why would you do this over `return key, value` which produces a tuple? Just curious.</div><br/><div id="41589897" class="c"><input type="checkbox" id="c-41589897" checked=""/><div class="controls bullet"><span class="by">0xDEADFED5</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41587613">parent</a><span>|</span><a href="#41588829">next</a><span>|</span><label class="collapse" for="c-41589897">[-]</label><label class="expand" for="c-41589897">[1 more]</label></div><br/><div class="children"><div class="content">javascript refugee?</div><br/></div></div><div id="41588829" class="c"><input type="checkbox" id="c-41588829" checked=""/><div class="controls bullet"><span class="by">dgan</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41587613">parent</a><span>|</span><a href="#41589897">prev</a><span>|</span><a href="#41584219">next</a><span>|</span><label class="collapse" for="c-41588829">[-]</label><label class="expand" for="c-41588829">[1 more]</label></div><br/><div class="children"><div class="content">Not the parent, but i return heterogeneous lists of the same length to the excel to be used by xlwings. The first row being the headers, but every row below is obviously heterogeneous</div><br/></div></div></div></div></div></div></div></div><div id="41584219" class="c"><input type="checkbox" id="c-41584219" checked=""/><div class="controls bullet"><span class="by">quotemstr</span><span>|</span><a href="#41584104">parent</a><span>|</span><a href="#41584969">prev</a><span>|</span><a href="#41584140">next</a><span>|</span><label class="collapse" for="c-41584219">[-]</label><label class="expand" for="c-41584219">[11 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not even a subset. They break foundational contracts of the Python language without technical necessity. For example,<p>&gt; Dictionaries: Codon&#x27;s dictionary type does not preserve insertion order, unlike Python&#x27;s as of 3.6.<p>That&#x27;s a gratuitous break. Nothing about preserving insertion order interferes with compilation, AOT or otherwise. The authors of Codon broke dict ordering because they felt like it, not because they had to.<p>At least Mojo merely claims to be Python-like. Unlike Codon, it doesn&#x27;t claim to <i>be</i> Python then note in the fine print that it doesn&#x27;t uphold Python contractual language semantics.</div><br/><div id="41585092" class="c"><input type="checkbox" id="c-41585092" checked=""/><div class="controls bullet"><span class="by">orf</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41584219">parent</a><span>|</span><a href="#41585454">next</a><span>|</span><label class="collapse" for="c-41585092">[-]</label><label class="expand" for="c-41585092">[6 more]</label></div><br/><div class="children"><div class="content">Try not to throw around statements like “they broke duct ordering because they felt like it”.<p>Obviously they didn’t do that. There are trade-offs when preserving dictionary ordering.</div><br/><div id="41589401" class="c"><input type="checkbox" id="c-41589401" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41585092">parent</a><span>|</span><a href="#41586542">next</a><span>|</span><label class="collapse" for="c-41589401">[-]</label><label class="expand" for="c-41589401">[1 more]</label></div><br/><div class="children"><div class="content">dicts ordering keys in insertion order isn&#x27;t an implementation detail anymore and hasn&#x27;t been for years.</div><br/></div></div><div id="41586542" class="c"><input type="checkbox" id="c-41586542" checked=""/><div class="controls bullet"><span class="by">dathinab</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41585092">parent</a><span>|</span><a href="#41589401">prev</a><span>|</span><a href="#41585814">next</a><span>|</span><label class="collapse" for="c-41586542">[-]</label><label class="expand" for="c-41586542">[1 more]</label></div><br/><div class="children"><div class="content">if you claim<p>&gt; high-performance Python implementation<p>then no this aren&#x27;t trade-offs but breaking the standard without it truly being necessary<p>most important this will break code in a subtle and potentially very surprising way<p>they could just claim they are python like and then no one would hold them for not keeping to the standard<p>but if you are misleading about your product people will find offense even if it isn&#x27;t intentionally</div><br/></div></div><div id="41585814" class="c"><input type="checkbox" id="c-41585814" checked=""/><div class="controls bullet"><span class="by">actionfromafar</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41585092">parent</a><span>|</span><a href="#41586542">prev</a><span>|</span><a href="#41585454">next</a><span>|</span><label class="collapse" for="c-41585814">[-]</label><label class="expand" for="c-41585814">[3 more]</label></div><br/><div class="children"><div class="content">The trade-off is a bit of speed.</div><br/><div id="41586438" class="c"><input type="checkbox" id="c-41586438" checked=""/><div class="controls bullet"><span class="by">cjbillington</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41585814">parent</a><span>|</span><a href="#41585454">next</a><span>|</span><label class="collapse" for="c-41586438">[-]</label><label class="expand" for="c-41586438">[2 more]</label></div><br/><div class="children"><div class="content">This might be what you meant, but the ordered dicts are faster, no? I believe ordering was initially an implementation detail that arose as part of performance optimisations, and only later declared officially part of the spec.</div><br/><div id="41589143" class="c"><input type="checkbox" id="c-41589143" checked=""/><div class="controls bullet"><span class="by">Someone</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41586438">parent</a><span>|</span><a href="#41585454">next</a><span>|</span><label class="collapse" for="c-41589143">[-]</label><label class="expand" for="c-41589143">[1 more]</label></div><br/><div class="children"><div class="content">&gt; but the ordered dicts are faster, no?<p>They may be in the current implementations, but removing an implementation constraint can only increase the solution space, so it cannot make the best implementation slower.<p>As a trivial example, the current implementation that guarantees iteration happens in insertion order also is a valid implementation for a spec that does not require that guarantee.</div><br/></div></div></div></div></div></div></div></div><div id="41585454" class="c"><input type="checkbox" id="c-41585454" checked=""/><div class="controls bullet"><span class="by">adammarples</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41584219">parent</a><span>|</span><a href="#41585092">prev</a><span>|</span><a href="#41584140">next</a><span>|</span><label class="collapse" for="c-41585454">[-]</label><label class="expand" for="c-41585454">[4 more]</label></div><br/><div class="children"><div class="content">Well would you claim that Python 3.5 isn&#x27;t python?</div><br/><div id="41585974" class="c"><input type="checkbox" id="c-41585974" checked=""/><div class="controls bullet"><span class="by">stoperaticless</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41585454">parent</a><span>|</span><a href="#41584140">next</a><span>|</span><label class="collapse" for="c-41585974">[-]</label><label class="expand" for="c-41585974">[3 more]</label></div><br/><div class="children"><div class="content">All versions of python are python.<p>If lang is not compatible with any of python versions, then the lang isn’t python.<p>False advertising is not nice.
(even if the fineprint clarifies)</div><br/><div id="41588895" class="c"><input type="checkbox" id="c-41588895" checked=""/><div class="controls bullet"><span class="by">thesz</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41585974">parent</a><span>|</span><a href="#41584140">next</a><span>|</span><label class="collapse" for="c-41588895">[-]</label><label class="expand" for="c-41588895">[2 more]</label></div><br/><div class="children"><div class="content">&gt; If lang is not compatible with any of python versions, then the lang isn’t python.<p>Python versions are not compatible between themselves, as python does not preserve backward compatibility, ergo python is not python.</div><br/><div id="41589204" class="c"><input type="checkbox" id="c-41589204" checked=""/><div class="controls bullet"><span class="by">KeplerBoy</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41588895">parent</a><span>|</span><a href="#41584140">next</a><span>|</span><label class="collapse" for="c-41589204">[-]</label><label class="expand" for="c-41589204">[1 more]</label></div><br/><div class="children"><div class="content">The words &quot;any&quot; and &quot;all&quot; have a different meaning.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41584140" class="c"><input type="checkbox" id="c-41584140" checked=""/><div class="controls bullet"><span class="by">odo1242</span><span>|</span><a href="#41584104">parent</a><span>|</span><a href="#41584219">prev</a><span>|</span><a href="#41584227">next</a><span>|</span><label class="collapse" for="c-41584140">[-]</label><label class="expand" for="c-41584140">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, it feels closer to something like Cython without the python part.</div><br/></div></div><div id="41584227" class="c"><input type="checkbox" id="c-41584227" checked=""/><div class="controls bullet"><span class="by">jjk7</span><span>|</span><a href="#41584104">parent</a><span>|</span><a href="#41584140">prev</a><span>|</span><a href="#41580916">next</a><span>|</span><label class="collapse" for="c-41584227">[-]</label><label class="expand" for="c-41584227">[3 more]</label></div><br/><div class="children"><div class="content">The differences seem relatively minor. Your specific example can be worked around by using a tuple; which in most cases does what you want.</div><br/><div id="41584584" class="c"><input type="checkbox" id="c-41584584" checked=""/><div class="controls bullet"><span class="by">itishappy</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41584227">parent</a><span>|</span><a href="#41580916">next</a><span>|</span><label class="collapse" for="c-41584584">[-]</label><label class="expand" for="c-41584584">[2 more]</label></div><br/><div class="children"><div class="content">Altering python&#x27;s core datatypes is not what I&#x27;d call minor.<p>They don&#x27;t even mention the changes to `list`.<p>&gt; Integers: Codon&#x27;s int is a 64-bit signed integer, whereas Python&#x27;s (after version 3) can be arbitrarily large. However Codon does support larger integers via Int[N] where N is the bit width.<p>&gt; Strings: Codon currently uses ASCII strings unlike Python&#x27;s unicode strings.<p>&gt; Dictionaries: Codon&#x27;s dictionary type does not preserve insertion order, unlike Python&#x27;s as of 3.6.<p>&gt; Tuples: Since tuples compile down to structs, tuple lengths must be known at compile time, meaning you can&#x27;t convert an arbitrarily-sized list to a tuple, for instance.<p><a href="https:&#x2F;&#x2F;docs.exaloop.io&#x2F;codon&#x2F;general&#x2F;differences" rel="nofollow">https:&#x2F;&#x2F;docs.exaloop.io&#x2F;codon&#x2F;general&#x2F;differences</a><p>Pretty sure this means the following doesn&#x27;t work either:<p><pre><code>    config = { &quot;name&quot;: &quot;John Doe&quot;, &quot;age&quot;: 32 }
</code></pre>
Note: It looks like you can get around this via Python interop, but that further supports the point that this isn&#x27;t really Python.</div><br/><div id="41586584" class="c"><input type="checkbox" id="c-41586584" checked=""/><div class="controls bullet"><span class="by">dathinab</span><span>|</span><a href="#41584104">root</a><span>|</span><a href="#41584584">parent</a><span>|</span><a href="#41580916">next</a><span>|</span><label class="collapse" for="c-41586584">[-]</label><label class="expand" for="c-41586584">[1 more]</label></div><br/><div class="children"><div class="content">&gt;  Strings: Codon currently uses ASCII strings unlike Python&#x27;s unicode strings.<p>wtf this is a supper big issue making this basically unusable for anything handling text (and potentially even just fixed indents, if you aren&#x27;t limited to EU+US having non us-ascii idents in code or text is common, i.e. while EU companies most times code in english this is much less likely in Asia, especially China and Japan.<p>it isn&#x27;t even really a performance benefit compared to utf-8 as utf-8 only using us-ascii letters _is_ us-ascii and you don&#x27;t have to use unicode aware string operations</div><br/></div></div></div></div></div></div></div></div><div id="41580916" class="c"><input type="checkbox" id="c-41580916" checked=""/><div class="controls bullet"><span class="by">actionfromafar</span><span>|</span><a href="#41584104">prev</a><span>|</span><a href="#41581475">next</a><span>|</span><label class="collapse" for="c-41580916">[-]</label><label class="expand" for="c-41580916">[3 more]</label></div><br/><div class="children"><div class="content">I immediately wonder how it compares to Shedskin¹<p>I can say one thing - Shedskin compiles to C++, which was very compelling to me for integrating into existing C++ products. Actually another thing too, Shedskin is Open Source under GPLv3. (Like GCC.)<p>1: <a href="https:&#x2F;&#x2F;github.com&#x2F;shedskin&#x2F;shedskin&#x2F;">https:&#x2F;&#x2F;github.com&#x2F;shedskin&#x2F;shedskin&#x2F;</a></div><br/><div id="41581034" class="c"><input type="checkbox" id="c-41581034" checked=""/><div class="controls bullet"><span class="by">crorella</span><span>|</span><a href="#41580916">parent</a><span>|</span><a href="#41581475">next</a><span>|</span><label class="collapse" for="c-41581034">[-]</label><label class="expand" for="c-41581034">[2 more]</label></div><br/><div class="children"><div class="content">I looks like codon has less restrictions when compared to shed skin.</div><br/><div id="41581388" class="c"><input type="checkbox" id="c-41581388" checked=""/><div class="controls bullet"><span class="by">actionfromafar</span><span>|</span><a href="#41580916">root</a><span>|</span><a href="#41581034">parent</a><span>|</span><a href="#41581475">next</a><span>|</span><label class="collapse" for="c-41581388">[-]</label><label class="expand" for="c-41581388">[1 more]</label></div><br/><div class="children"><div class="content">I suppose that&#x27;s right, I don&#x27;t think shedskin can call numpy yet, for instance. On the other hand it seems easier to put shedskin on an embedded device, for instance.</div><br/></div></div></div></div></div></div><div id="41581475" class="c"><input type="checkbox" id="c-41581475" checked=""/><div class="controls bullet"><span class="by">Lucasoato</span><span>|</span><a href="#41580916">prev</a><span>|</span><a href="#41582812">next</a><span>|</span><label class="collapse" for="c-41581475">[-]</label><label class="expand" for="c-41581475">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Is Codon free? Codon is and always will be free for non-production use. That means you can use Codon freely for personal, academic, or other non-commercial applications.<p>I hope it is released under a truly open-source license in the future; this seems like a promising technology. I&#x27;m also wondering how it would match C++ performance if it is still garbage collected.</div><br/><div id="41581928" class="c"><input type="checkbox" id="c-41581928" checked=""/><div class="controls bullet"><span class="by">troymc</span><span>|</span><a href="#41581475">parent</a><span>|</span><a href="#41582812">next</a><span>|</span><label class="collapse" for="c-41581928">[-]</label><label class="expand" for="c-41581928">[4 more]</label></div><br/><div class="children"><div class="content">The license is the &quot;Business Source License 1.1&quot; [1].<p>The Business Source License (BSL) 1.1 is a software license created by MariaDB Corporation. It&#x27;s designed as a middle ground between fully open-source licenses and traditional proprietary software licenses. It&#x27;s kind of neat because it&#x27;s a parameteric license, in that you can change some parameters while leaving the text of the license unchanged.<p>For codon, the &quot;Change Date&quot; is 2028-03-01 and the &quot;Change License&quot; is &quot;Apache License, Version 2.0&quot;, meaning that the license will change to Apache2 in March of 2028. Until then, I guess you need to make a deal with Exaloop to use codon in production.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;exaloop&#x2F;codon?tab=License-1-ov-file#readme">https:&#x2F;&#x2F;github.com&#x2F;exaloop&#x2F;codon?tab=License-1-ov-file#readm...</a></div><br/><div id="41584467" class="c"><input type="checkbox" id="c-41584467" checked=""/><div class="controls bullet"><span class="by">axit</span><span>|</span><a href="#41581475">root</a><span>|</span><a href="#41581928">parent</a><span>|</span><a href="#41582812">next</a><span>|</span><label class="collapse" for="c-41584467">[-]</label><label class="expand" for="c-41584467">[3 more]</label></div><br/><div class="children"><div class="content">From what I&#x27;ve seen is the &quot;Change Date&quot; is usually updated so you always have a few years older software as Apache License and the latest software as BSL</div><br/><div id="41585837" class="c"><input type="checkbox" id="c-41585837" checked=""/><div class="controls bullet"><span class="by">actionfromafar</span><span>|</span><a href="#41581475">root</a><span>|</span><a href="#41584467">parent</a><span>|</span><a href="#41588117">next</a><span>|</span><label class="collapse" for="c-41585837">[-]</label><label class="expand" for="c-41585837">[1 more]</label></div><br/><div class="children"><div class="content">Just to make it clear - the cutoff date on previously released software remains the same. So if you download it now and wait a few years, your software will have matured into its final form, the Apache 2 license.</div><br/></div></div><div id="41588117" class="c"><input type="checkbox" id="c-41588117" checked=""/><div class="controls bullet"><span class="by">troymc</span><span>|</span><a href="#41581475">root</a><span>|</span><a href="#41584467">parent</a><span>|</span><a href="#41585837">prev</a><span>|</span><a href="#41582812">next</a><span>|</span><label class="collapse" for="c-41588117">[-]</label><label class="expand" for="c-41588117">[1 more]</label></div><br/><div class="children"><div class="content">That make sense. Thanks for clarifying.</div><br/></div></div></div></div></div></div></div></div><div id="41582812" class="c"><input type="checkbox" id="c-41582812" checked=""/><div class="controls bullet"><span class="by">w10-1</span><span>|</span><a href="#41581475">prev</a><span>|</span><a href="#41583857">next</a><span>|</span><label class="collapse" for="c-41582812">[-]</label><label class="expand" for="c-41582812">[3 more]</label></div><br/><div class="children"><div class="content">Unclear if this has been in the works longer as the graalvm LLVM build of python discussed yesterday[1].  The first HN discussion is from 2022 [3].<p>Any relation?  Any comparisons?<p>Funny I can&#x27;t find the license for graalvm python in their docs [2].  That could be a differentiator.<p>- [1] GraalVM Python on HN  <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41570708">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41570708</a><p>- [2] GraalVM Python site <a href="https:&#x2F;&#x2F;www.graalvm.org&#x2F;python&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.graalvm.org&#x2F;python&#x2F;</a><p>- [3] HN Dec 2022 <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33908576">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33908576</a></div><br/><div id="41582976" class="c"><input type="checkbox" id="c-41582976" checked=""/><div class="controls bullet"><span class="by">vamega</span><span>|</span><a href="#41582812">parent</a><span>|</span><a href="#41587609">next</a><span>|</span><label class="collapse" for="c-41582976">[-]</label><label class="expand" for="c-41582976">[1 more]</label></div><br/><div class="children"><div class="content">GraalPy license on GitHub - <a href="https:&#x2F;&#x2F;github.com&#x2F;oracle&#x2F;graalpython&#x2F;blob&#x2F;master&#x2F;LICENSE.txt">https:&#x2F;&#x2F;github.com&#x2F;oracle&#x2F;graalpython&#x2F;blob&#x2F;master&#x2F;LICENSE.tx...</a></div><br/></div></div><div id="41587609" class="c"><input type="checkbox" id="c-41587609" checked=""/><div class="controls bullet"><span class="by">mech422</span><span>|</span><a href="#41582812">parent</a><span>|</span><a href="#41582976">prev</a><span>|</span><a href="#41583857">next</a><span>|</span><label class="collapse" for="c-41587609">[-]</label><label class="expand" for="c-41587609">[1 more]</label></div><br/><div class="children"><div class="content">Might want to look at PyPy too:
  <a href="https:&#x2F;&#x2F;pypy.org&#x2F;features.html" rel="nofollow">https:&#x2F;&#x2F;pypy.org&#x2F;features.html</a></div><br/></div></div></div></div><div id="41583857" class="c"><input type="checkbox" id="c-41583857" checked=""/><div class="controls bullet"><span class="by">codethief</span><span>|</span><a href="#41582812">prev</a><span>|</span><a href="#41582012">next</a><span>|</span><label class="collapse" for="c-41583857">[-]</label><label class="expand" for="c-41583857">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of these two projects which were presented at EuroPython 2024 this summer:<p><a href="https:&#x2F;&#x2F;ep2024.europython.eu&#x2F;session&#x2F;spy-static-python-lang-fast-as-c-pythonic-as-python" rel="nofollow">https:&#x2F;&#x2F;ep2024.europython.eu&#x2F;session&#x2F;spy-static-python-lang-...</a><p><a href="https:&#x2F;&#x2F;ep2024.europython.eu&#x2F;session&#x2F;how-to-build-a-python-to-c-compiler-out-of-spare-parts-and-why" rel="nofollow">https:&#x2F;&#x2F;ep2024.europython.eu&#x2F;session&#x2F;how-to-build-a-python-t...</a><p>(The talks were fantastic but they have yet to upload the recordings to YouTube.)</div><br/></div></div><div id="41582012" class="c"><input type="checkbox" id="c-41582012" checked=""/><div class="controls bullet"><span class="by">veber-alex</span><span>|</span><a href="#41583857">prev</a><span>|</span><a href="#41586608">next</a><span>|</span><label class="collapse" for="c-41582012">[-]</label><label class="expand" for="c-41582012">[3 more]</label></div><br/><div class="children"><div class="content">What&#x27;s up with their benchmarks[1], it just shows benchmark names and I don&#x27;t see any numbers or graphs. Tried Safari and Chrome.<p>[1]: <a href="https:&#x2F;&#x2F;exaloop.io&#x2F;benchmarks&#x2F;" rel="nofollow">https:&#x2F;&#x2F;exaloop.io&#x2F;benchmarks&#x2F;</a></div><br/><div id="41583490" class="c"><input type="checkbox" id="c-41583490" checked=""/><div class="controls bullet"><span class="by">sdmike1</span><span>|</span><a href="#41582012">parent</a><span>|</span><a href="#41588149">next</a><span>|</span><label class="collapse" for="c-41583490">[-]</label><label class="expand" for="c-41583490">[1 more]</label></div><br/><div class="children"><div class="content">The benchmark page looks to be broken, the JS console is showing some 404&#x27;d JS libs and a bad function call.</div><br/></div></div><div id="41588149" class="c"><input type="checkbox" id="c-41588149" checked=""/><div class="controls bullet"><span class="by">pizlonator</span><span>|</span><a href="#41582012">parent</a><span>|</span><a href="#41583490">prev</a><span>|</span><a href="#41586608">next</a><span>|</span><label class="collapse" for="c-41588149">[-]</label><label class="expand" for="c-41588149">[1 more]</label></div><br/><div class="children"><div class="content">Also those are some bullshit benchmarks.<p>It’s not surprising that you can make a static compiler that makes tiny little programs written in a dynamic language into fast executables.<p>The hard part is making that scale to &gt;=10,000 LoC programs. I dunno which static reasoning approaches codon uses, but all the ones I’m familiar with fall apart when you try to scale to large code.<p>That’s why JS benchmarking focused on larger and larger programs over time. Even the small programs that JS JIT writers use tend to have a lot of subtle idioms that break static reasoning, to model what happens in larger programs.<p>If you want to get in the business of making dynamic languages fast then the best advice I can give you is don’t use any of the benchmarks that these folks cite for your perf tuning. If you really do have to start with small programs then something like Richards or deltablue are ok, but you’ll want to diversify to larger programs if you really want to keep it real.<p>(Source: I was a combatant in the JS perf wars for a decade as a webkitten.)</div><br/></div></div></div></div><div id="41586608" class="c"><input type="checkbox" id="c-41586608" checked=""/><div class="controls bullet"><span class="by">amelius</span><span>|</span><a href="#41582012">prev</a><span>|</span><a href="#41589147">next</a><span>|</span><label class="collapse" for="c-41586608">[-]</label><label class="expand" for="c-41586608">[1 more]</label></div><br/><div class="children"><div class="content">The challenge is not just to make Python faster, it&#x27;s to make Python faster __and__ port the ecosystem of Python modules to your new environment.</div><br/></div></div><div id="41589147" class="c"><input type="checkbox" id="c-41589147" checked=""/><div class="controls bullet"><span class="by">GTP</span><span>|</span><a href="#41586608">prev</a><span>|</span><a href="#41586789">next</a><span>|</span><label class="collapse" for="c-41589147">[-]</label><label class="expand" for="c-41589147">[1 more]</label></div><br/><div class="children"><div class="content">People that landed here may be interested in Mojo [0] as well.<p>[0] <a href="https:&#x2F;&#x2F;www.modular.com&#x2F;mojo" rel="nofollow">https:&#x2F;&#x2F;www.modular.com&#x2F;mojo</a></div><br/></div></div><div id="41586789" class="c"><input type="checkbox" id="c-41586789" checked=""/><div class="controls bullet"><span class="by">ipsum2</span><span>|</span><a href="#41589147">prev</a><span>|</span><a href="#41588016">next</a><span>|</span><label class="collapse" for="c-41586789">[-]</label><label class="expand" for="c-41586789">[1 more]</label></div><br/><div class="children"><div class="content">Previous discussion (2022): <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33908576">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33908576</a></div><br/></div></div><div id="41588016" class="c"><input type="checkbox" id="c-41588016" checked=""/><div class="controls bullet"><span class="by">tony-allan</span><span>|</span><a href="#41586789">prev</a><span>|</span><a href="#41582258">next</a><span>|</span><label class="collapse" for="c-41588016">[-]</label><label class="expand" for="c-41588016">[1 more]</label></div><br/><div class="children"><div class="content">I would love to see LLVM&#x2F;WebAssembly as a supported and documented backend!</div><br/></div></div><div id="41582258" class="c"><input type="checkbox" id="c-41582258" checked=""/><div class="controls bullet"><span class="by">big-chungus4</span><span>|</span><a href="#41588016">prev</a><span>|</span><a href="#41587668">next</a><span>|</span><label class="collapse" for="c-41582258">[-]</label><label class="expand" for="c-41582258">[1 more]</label></div><br/><div class="children"><div class="content">so, assuming I don&#x27;t get integers bigger than int64, and don&#x27;t use the order of build in dicts, can I just use arbitrary python code and use it with codon? Can I use external libraries? Numpy, PyTorch? Also noticed that it isn&#x27;t supported on windows</div><br/></div></div><div id="41587668" class="c"><input type="checkbox" id="c-41587668" checked=""/><div class="controls bullet"><span class="by">shikon7</span><span>|</span><a href="#41582258">prev</a><span>|</span><a href="#41583236">next</a><span>|</span><label class="collapse" for="c-41587668">[-]</label><label class="expand" for="c-41587668">[1 more]</label></div><br/><div class="children"><div class="content">From the documentation of the differences with Python:<p>&gt; Strings: Codon currently uses ASCII strings unlike Python&#x27;s unicode strings.<p>That seems really odd to me. Who would use a framework nowadays that doesn&#x27;t support unicode?</div><br/></div></div><div id="41583236" class="c"><input type="checkbox" id="c-41583236" checked=""/><div class="controls bullet"><span class="by">Sparkenstein</span><span>|</span><a href="#41587668">prev</a><span>|</span><a href="#41585096">next</a><span>|</span><label class="collapse" for="c-41583236">[-]</label><label class="expand" for="c-41583236">[1 more]</label></div><br/><div class="children"><div class="content">Biggest problem at the moment is async support, I guess<p><a href="https:&#x2F;&#x2F;github.com&#x2F;exaloop&#x2F;codon&#x2F;issues&#x2F;71">https:&#x2F;&#x2F;github.com&#x2F;exaloop&#x2F;codon&#x2F;issues&#x2F;71</a></div><br/></div></div><div id="41585096" class="c"><input type="checkbox" id="c-41585096" checked=""/><div class="controls bullet"><span class="by">timwaagh</span><span>|</span><a href="#41583236">prev</a><span>|</span><a href="#41585745">next</a><span>|</span><label class="collapse" for="c-41585096">[-]</label><label class="expand" for="c-41585096">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a really expensive piece of software. They do not publish their prices because of it. I don&#x27;t think it&#x27;s reasonable to market such products onto your average dev because of it. Anyhow Cython and a bunch of others provide a free and open source alternative.</div><br/></div></div><div id="41585745" class="c"><input type="checkbox" id="c-41585745" checked=""/><div class="controls bullet"><span class="by">zamazan4ik</span><span>|</span><a href="#41585096">prev</a><span>|</span><a href="#41581861">next</a><span>|</span><label class="collapse" for="c-41585745">[-]</label><label class="expand" for="c-41585745">[1 more]</label></div><br/><div class="children"><div class="content">I hope one day the compiler itself will be optimized even more: <a href="https:&#x2F;&#x2F;github.com&#x2F;exaloop&#x2F;codon&#x2F;issues&#x2F;137">https:&#x2F;&#x2F;github.com&#x2F;exaloop&#x2F;codon&#x2F;issues&#x2F;137</a></div><br/></div></div><div id="41581861" class="c"><input type="checkbox" id="c-41581861" checked=""/><div class="controls bullet"><span class="by">jitl</span><span>|</span><a href="#41585745">prev</a><span>|</span><a href="#41585995">next</a><span>|</span><label class="collapse" for="c-41581861">[-]</label><label class="expand" for="c-41581861">[4 more]</label></div><br/><div class="children"><div class="content">What’s the difference between this and Cython? I think another comment already asks about shedskin.</div><br/><div id="41582526" class="c"><input type="checkbox" id="c-41582526" checked=""/><div class="controls bullet"><span class="by">rich_sasha</span><span>|</span><a href="#41581861">parent</a><span>|</span><a href="#41581976">prev</a><span>|</span><a href="#41585995">next</a><span>|</span><label class="collapse" for="c-41582526">[-]</label><label class="expand" for="c-41582526">[2 more]</label></div><br/><div class="children"><div class="content">Cython relies heavily on the Python runtime. You cannot, for example, make a standalone binary with it. A lot of unoptimized Cython binary is just Python wrapped in C.<p>From a quick glance this seems to genuinely translate into native execution.</div><br/><div id="41584014" class="c"><input type="checkbox" id="c-41584014" checked=""/><div class="controls bullet"><span class="by">edscho</span><span>|</span><a href="#41581861">root</a><span>|</span><a href="#41582526">parent</a><span>|</span><a href="#41585995">next</a><span>|</span><label class="collapse" for="c-41584014">[-]</label><label class="expand" for="c-41584014">[1 more]</label></div><br/><div class="children"><div class="content">You absolutely can create a standalone binary with Cython: see the `--embed` option [1].<p>[1] <a href="https:&#x2F;&#x2F;cython.readthedocs.io&#x2F;en&#x2F;stable&#x2F;src&#x2F;tutorial&#x2F;embedding.html" rel="nofollow">https:&#x2F;&#x2F;cython.readthedocs.io&#x2F;en&#x2F;stable&#x2F;src&#x2F;tutorial&#x2F;embeddi...</a></div><br/></div></div></div></div></div></div><div id="41585995" class="c"><input type="checkbox" id="c-41585995" checked=""/><div class="controls bullet"><span class="by">jay-barronville</span><span>|</span><a href="#41581861">prev</a><span>|</span><label class="collapse" for="c-41585995">[-]</label><label class="expand" for="c-41585995">[2 more]</label></div><br/><div class="children"><div class="content">Instead of building their GPU support atop CUDA&#x2F;NVIDIA [0], I’m wondering why they didn’t instead go with WebGPU [1] via something like wgpu [2]. Using wgpu, they could offer cross-platform compatibility across several graphics API’s, covering a wide range of hardware including NVIDIA GeForce and Quadro, AMD Radeon, Intel Iris and Arc, ARM Mali, and Apple’s integrated GPU’s.<p>They note the following [0]:<p>&gt; The GPU module is under active development. APIs and semantics might change between Codon releases.<p>The thing is, based on the current syntax and semantics I see, it’ll almost certainly need to change to support non-NVIDIA devices, so I think it might be a better idea to just go with WebGPU compute pipelines sooner rather than later.<p>Just my two pennies…<p>[0]: <a href="https:&#x2F;&#x2F;docs.exaloop.io&#x2F;codon&#x2F;advanced&#x2F;gpu" rel="nofollow">https:&#x2F;&#x2F;docs.exaloop.io&#x2F;codon&#x2F;advanced&#x2F;gpu</a><p>[1]: <a href="https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;webgpu" rel="nofollow">https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;webgpu</a><p>[2]: <a href="https:&#x2F;&#x2F;wgpu.rs" rel="nofollow">https:&#x2F;&#x2F;wgpu.rs</a></div><br/><div id="41587735" class="c"><input type="checkbox" id="c-41587735" checked=""/><div class="controls bullet"><span class="by">MadnessASAP</span><span>|</span><a href="#41585995">parent</a><span>|</span><label class="collapse" for="c-41587735">[-]</label><label class="expand" for="c-41587735">[1 more]</label></div><br/><div class="children"><div class="content">Well for better or worse CUDA is <i>the</i> GPU programming API. If you&#x27;re doing high performance GPU workloads you&#x27;re almost certainly doing it in CUDA.<p>WebGPU while stating compute is within their design I would imagine is focused on presentation&#x2F;rendering and probably not on large demanding workloads.</div><br/></div></div></div></div></div></div></div></div></div></body></html>