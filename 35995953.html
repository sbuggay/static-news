<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1684486857597" as="style"/><link rel="stylesheet" href="styles.css?v=1684486857597"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.zxch3n.com/tidy/tidy/">High-performance tidy trees visualization (2022)</a> <span class="domain">(<a href="https://www.zxch3n.com">www.zxch3n.com</a>)</span></div><div class="subtext"><span>czx111331</span> | <span>13 comments</span></div><br/><div><div id="35996309" class="c"><input type="checkbox" id="c-35996309" checked=""/><div class="controls bullet"><span class="by">gitgud</span><span>|</span><a href="#35996465">next</a><span>|</span><label class="collapse" for="c-35996309">[-]</label><label class="expand" for="c-35996309">[7 more]</label></div><br/><div class="children"><div class="content">Beautiful and impressively fast! I wonder if this could be adapted to work with [1] “dot” graphs through the terminal?<p>[1] <a href="https:&#x2F;&#x2F;graphviz.org&#x2F;doc&#x2F;info&#x2F;command.html" rel="nofollow">https:&#x2F;&#x2F;graphviz.org&#x2F;doc&#x2F;info&#x2F;command.html</a></div><br/><div id="35996402" class="c"><input type="checkbox" id="c-35996402" checked=""/><div class="controls bullet"><span class="by">josephg</span><span>|</span><a href="#35996309">parent</a><span>|</span><a href="#35998452">next</a><span>|</span><label class="collapse" for="c-35996402">[-]</label><label class="expand" for="c-35996402">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;d love that! For my CRDT work, I stare at a lot of graphs to figure out bugs and optimize.<p>For example, here&#x27;s the causal graph of changes made to git&#x27;s Makefile:<p><a href="https:&#x2F;&#x2F;josephg.com&#x2F;git-makefile.dt.svg" rel="nofollow">https:&#x2F;&#x2F;josephg.com&#x2F;git-makefile.dt.svg</a><p>Having a nicer way to render these graphs (and especially show them in the browser) would be delightful!</div><br/><div id="35997980" class="c"><input type="checkbox" id="c-35997980" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#35996309">root</a><span>|</span><a href="#35996402">parent</a><span>|</span><a href="#35998489">next</a><span>|</span><label class="collapse" for="c-35997980">[-]</label><label class="expand" for="c-35997980">[1 more]</label></div><br/><div class="children"><div class="content">At work I also used to stare at a lot of graphs to figure out bugs. We reuse some of the graphs so we&#x27;ve gone through the effort of recording node positions in metadata and given the graphs a UI where people can drag nodes around and re-save. But it&#x27;s clunky.<p>I always wished I could invent some domain-specific heuristics to lay out the graph automatically but never took the time to.<p>Manually moving nodes actually worked fairly well for our use case, but it made a mess of text diffs when e.g. nodes were inserted and the position of all subsequent nodes shifted, so as a consequence we had to invent ways to visually diff graphs. Maybe the improved automatic layout would have been easier after all.</div><br/></div></div><div id="35998489" class="c"><input type="checkbox" id="c-35998489" checked=""/><div class="controls bullet"><span class="by">czx111331</span><span>|</span><a href="#35996309">root</a><span>|</span><a href="#35996402">parent</a><span>|</span><a href="#35997980">prev</a><span>|</span><a href="#35998452">next</a><span>|</span><label class="collapse" for="c-35998489">[-]</label><label class="expand" for="c-35998489">[2 more]</label></div><br/><div class="children"><div class="content">Yes, I use a similar approach when debugging some parts of my CRDTs as well. It&#x27;s very helpful.<p>However, this algorithm is designed specifically for trees. I&#x27;m not sure whether I could manage to make it work on DAGs (Directed Acyclic Graphs). It would require some rewrites of the aesthetic rules and designing a new algorithm.</div><br/><div id="35998806" class="c"><input type="checkbox" id="c-35998806" checked=""/><div class="controls bullet"><span class="by">ygra</span><span>|</span><a href="#35996309">root</a><span>|</span><a href="#35998489">parent</a><span>|</span><a href="#35998452">next</a><span>|</span><label class="collapse" for="c-35998806">[-]</label><label class="expand" for="c-35998806">[1 more]</label></div><br/><div class="children"><div class="content">The way we do it at work is to have a separate step before a tree layout that removes non-tree edges, lays out the tree, and then re-insert the edges and calculates separate routes for them. You can play with this here by adding new edges and re-layouting: <a href="https:&#x2F;&#x2F;live.yworks.com&#x2F;demos&#x2F;layout&#x2F;layoutstyles&#x2F;index.html?layout=tree&amp;sample=tree" rel="nofollow">https:&#x2F;&#x2F;live.yworks.com&#x2F;demos&#x2F;layout&#x2F;layoutstyles&#x2F;index.html...</a><p>That being said, those edges of course sometimes just won&#x27;t fit nicely into the general layout. And which edges are &quot;tree&quot; edges and which are &quot;non-tree&quot; edges can of course be debatable. If a graph is <i>very much not</i> a tree, this can be somewhat random, but it works very well for graphs that are <i>mostly</i> trees.</div><br/></div></div></div></div></div></div><div id="35998452" class="c"><input type="checkbox" id="c-35998452" checked=""/><div class="controls bullet"><span class="by">czx111331</span><span>|</span><a href="#35996309">parent</a><span>|</span><a href="#35996402">prev</a><span>|</span><a href="#35997305">next</a><span>|</span><label class="collapse" for="c-35998452">[-]</label><label class="expand" for="c-35998452">[1 more]</label></div><br/><div class="children"><div class="content">Probably not. This algorithm is specifically designed for trees, not graphs.</div><br/></div></div><div id="35997305" class="c"><input type="checkbox" id="c-35997305" checked=""/><div class="controls bullet"><span class="by">graphviz</span><span>|</span><a href="#35996309">parent</a><span>|</span><a href="#35998452">prev</a><span>|</span><a href="#35996465">next</a><span>|</span><label class="collapse" for="c-35997305">[-]</label><label class="expand" for="c-35997305">[1 more]</label></div><br/><div class="children"><div class="content">Nice work.</div><br/></div></div></div></div><div id="35996465" class="c"><input type="checkbox" id="c-35996465" checked=""/><div class="controls bullet"><span class="by">azza2110</span><span>|</span><a href="#35996309">prev</a><span>|</span><a href="#35998632">next</a><span>|</span><label class="collapse" for="c-35996465">[-]</label><label class="expand" for="c-35996465">[1 more]</label></div><br/><div class="children"><div class="content">This is great.<p>It&#x27;s beautiful, and you&#x27;ve explained the field of tidy tree generation really well.<p>I wish I had this to refer to last year when implementing something similar in VBA for Excel and PowerPoint [1]. Perhaps it&#x27;s time for me to revisit!<p>[1] <a href="https:&#x2F;&#x2F;aaronbrooker.com&#x2F;vdttool" rel="nofollow">https:&#x2F;&#x2F;aaronbrooker.com&#x2F;vdttool</a></div><br/></div></div><div id="35998632" class="c"><input type="checkbox" id="c-35998632" checked=""/><div class="controls bullet"><span class="by">von_lohengramm</span><span>|</span><a href="#35996465">prev</a><span>|</span><a href="#35997527">next</a><span>|</span><label class="collapse" for="c-35998632">[-]</label><label class="expand" for="c-35998632">[2 more]</label></div><br/><div class="children"><div class="content">Does everyone else feel like optimal&#x2F;efficient algorithms are _significantly_ easier to intuit once you know the achievable complexity? My initial guess was that this algorithm would be n log n, but once I read that the solution space was linear, I instantly came up with some linear approaches.</div><br/><div id="35998706" class="c"><input type="checkbox" id="c-35998706" checked=""/><div class="controls bullet"><span class="by">pizza</span><span>|</span><a href="#35998632">parent</a><span>|</span><a href="#35997527">next</a><span>|</span><label class="collapse" for="c-35998706">[-]</label><label class="expand" for="c-35998706">[1 more]</label></div><br/><div class="children"><div class="content">Yes, maybe, since you can start working from the little pieces up to the big pieces, rather than the other way round. When you first see it, there could be all kinds of potential loci of interest being thrown at your face: the individual nodes, the neighbors of the nodes, the branching, the directionality, the depth of the thing, etc. so it takes <i>you</i> striking down the details you pick to not think about . So you start off with the biggest description of the possible solution space, unless you are  trained seriously enough to just ‘see the answer’ without blinking to that first question of what to focus on. But if you get the complexity before hand, well that indexes quite swiftly into the potential domain spaces.</div><br/></div></div></div></div><div id="35997527" class="c"><input type="checkbox" id="c-35997527" checked=""/><div class="controls bullet"><span class="by">Six_6</span><span>|</span><a href="#35998632">prev</a><span>|</span><a href="#35997106">next</a><span>|</span><label class="collapse" for="c-35997527">[-]</label><label class="expand" for="c-35997527">[1 more]</label></div><br/><div class="children"><div class="content">very helpful</div><br/></div></div></div></div></div></div></div></body></html>