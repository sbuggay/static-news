<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1728723674136" as="style"/><link rel="stylesheet" href="styles.css?v=1728723674136"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://nullprogram.com/blog/2024/10/07/">Windows dynamic linking depends on the active code page</a> <span class="domain">(<a href="https://nullprogram.com">nullprogram.com</a>)</span></div><div class="subtext"><span>signa11</span> | <span>30 comments</span></div><br/><div><div id="41815601" class="c"><input type="checkbox" id="c-41815601" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#41813551">next</a><span>|</span><label class="collapse" for="c-41815601">[-]</label><label class="expand" for="c-41815601">[8 more]</label></div><br/><div class="children"><div class="content">As someone who has worked on Windows for a <i>long</i> time, the title was entirely unsurprising. Widening or narrowing always uses the current codepage.<p><i>If a name contains values beyond ASCII — technically out of spec</i><p>I&#x27;m not sure what spec it&#x27;s referring to, but this is normal and expected for files in non-English systems.<p><i>Such tools often incorrectly assume UTF-8, which is what motivated this article.</i><p>Those tools are likely to be from the *nix world, where UTF-8 is far more common for the multibyte encoding --- but even there, you can have different codepages; and I have worked on Linux systems using CP1252 and 932 before.</div><br/><div id="41816441" class="c"><input type="checkbox" id="c-41816441" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#41815601">parent</a><span>|</span><a href="#41816457">next</a><span>|</span><label class="collapse" for="c-41816441">[-]</label><label class="expand" for="c-41816441">[5 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;m not sure what spec [the prohibition on non-ASCII names is] referring to, but this is normal and expected for files in non-English systems.<p>The description of import directories[1,2] in the PE&#x2F;COFF spec explicitly (if somewhat glibly) restricts imported DLLs to being referenced using ASCII only:<p>&gt; Name RVA - The address of an ASCII string that contains the name of the DLL.<p>[1] <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;debug&#x2F;pe-format#import-directory-table" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;debug&#x2F;pe-for...</a> (current, unversioned)<p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;tpn&#x2F;pdfs&#x2F;blob&#x2F;master&#x2F;Microsoft%20Portable%20Executable%20and%20Common%20Object%20File%20Format%20Specification%20-%201999%20(pecoff).pdf">https:&#x2F;&#x2F;github.com&#x2F;tpn&#x2F;pdfs&#x2F;blob&#x2F;master&#x2F;Microsoft%20Portable...</a> §6.4.1 (version 6.0, 1999)</div><br/><div id="41816516" class="c"><input type="checkbox" id="c-41816516" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#41815601">root</a><span>|</span><a href="#41816441">parent</a><span>|</span><a href="#41816457">next</a><span>|</span><label class="collapse" for="c-41816516">[-]</label><label class="expand" for="c-41816516">[4 more]</label></div><br/><div class="children"><div class="content">That is, for lack of a better term, a &quot;Microsoft-ism&quot;; in MS documentation, &quot;ASCII&quot; consistently means &quot;single-byte or MBCS&quot; and is interpreted relative to the current codepage, as opposed to &quot;Unicode&quot; which means &quot;UCS-2 or UTF-16&quot;. You can also see examples of &quot;Unicode&quot; in the docs you link to.</div><br/><div id="41817311" class="c"><input type="checkbox" id="c-41817311" checked=""/><div class="controls bullet"><span class="by">dataflow</span><span>|</span><a href="#41815601">root</a><span>|</span><a href="#41816516">parent</a><span>|</span><a href="#41816562">next</a><span>|</span><label class="collapse" for="c-41817311">[-]</label><label class="expand" for="c-41817311">[1 more]</label></div><br/><div class="children"><div class="content">&gt; That is, for lack of a better term, a &quot;Microsoft-ism&quot;; in MS documentation, &quot;ASCII&quot; consistently means &quot;single-byte or MBCS&quot; and is interpreted relative to the current codepage<p>I&#x27;ve read my share of MS docs and I do not recall ever seeing this to be the case. Like the parent says, I&#x27;ve seen &quot;ANSI&quot; used to refer to that, not ASCII. Do you have any examples of where they say &quot;ASCII&quot; where the intention is obviously something broader than 0-127? It makes me wonder how I&#x27;ve missed this if that&#x27;s the case.</div><br/></div></div><div id="41816562" class="c"><input type="checkbox" id="c-41816562" checked=""/><div class="controls bullet"><span class="by">mananaysiempre</span><span>|</span><a href="#41815601">root</a><span>|</span><a href="#41816516">parent</a><span>|</span><a href="#41817311">prev</a><span>|</span><a href="#41816457">next</a><span>|</span><label class="collapse" for="c-41816562">[-]</label><label class="expand" for="c-41816562">[2 more]</label></div><br/><div class="children"><div class="content">“ASCII”, not “ANSI”?</div><br/><div id="41817079" class="c"><input type="checkbox" id="c-41817079" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#41815601">root</a><span>|</span><a href="#41816562">parent</a><span>|</span><a href="#41816457">next</a><span>|</span><label class="collapse" for="c-41817079">[-]</label><label class="expand" for="c-41817079">[1 more]</label></div><br/><div class="children"><div class="content">I suspect it could be to avoid making distinction between ANSI and OEM codepages.</div><br/></div></div></div></div></div></div></div></div><div id="41816457" class="c"><input type="checkbox" id="c-41816457" checked=""/><div class="controls bullet"><span class="by">Dwedit</span><span>|</span><a href="#41815601">parent</a><span>|</span><a href="#41816441">prev</a><span>|</span><a href="#41816656">next</a><span>|</span><label class="collapse" for="c-41816457">[-]</label><label class="expand" for="c-41816457">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s the import table of an EXE&#x2F;DLL where non-ascii is out of spec.  Meanwhile LoadLibraryW is happy to load any filename.  (But don&#x27;t you dare try to call LoadLibraryW from within DLLMain, that&#x27;s under loader lock)</div><br/></div></div><div id="41816656" class="c"><input type="checkbox" id="c-41816656" checked=""/><div class="controls bullet"><span class="by">numpad0</span><span>|</span><a href="#41815601">parent</a><span>|</span><a href="#41816457">prev</a><span>|</span><a href="#41813551">next</a><span>|</span><label class="collapse" for="c-41816656">[-]</label><label class="expand" for="c-41816656">[1 more]</label></div><br/><div class="children"><div class="content">Sadly, it&#x27;s not unusual at all to see a Windows app crash and burn when paths contain non-ASCII characters. It&#x27;s just what it is to non-English computer users.</div><br/></div></div></div></div><div id="41813551" class="c"><input type="checkbox" id="c-41813551" checked=""/><div class="controls bullet"><span class="by">enriquto</span><span>|</span><a href="#41815601">prev</a><span>|</span><a href="#41816672">next</a><span>|</span><label class="collapse" for="c-41813551">[-]</label><label class="expand" for="c-41813551">[6 more]</label></div><br/><div class="children"><div class="content">This is a neat hack, and very well written.  I felt a bit of nostalgia looking at the (classical) cpp flex to avoid repeating an identifier<p><pre><code>   #define X(s) #s
   #define S(s) X(s)</code></pre></div><br/><div id="41813687" class="c"><input type="checkbox" id="c-41813687" checked=""/><div class="controls bullet"><span class="by">shawnz</span><span>|</span><a href="#41813551">parent</a><span>|</span><a href="#41816672">next</a><span>|</span><label class="collapse" for="c-41813687">[-]</label><label class="expand" for="c-41813687">[5 more]</label></div><br/><div class="children"><div class="content">For the unfamiliar, what does this pattern do exactly?</div><br/><div id="41813784" class="c"><input type="checkbox" id="c-41813784" checked=""/><div class="controls bullet"><span class="by">enriquto</span><span>|</span><a href="#41813551">root</a><span>|</span><a href="#41813687">parent</a><span>|</span><a href="#41813727">next</a><span>|</span><label class="collapse" for="c-41813784">[-]</label><label class="expand" for="c-41813784">[2 more]</label></div><br/><div class="children"><div class="content">In that case it&#x27;s just to convert the value of a macro into a string constant<p><pre><code>   cat &gt; a.c
   #define X(s) #s
   #define S(s) X(s)
   char *f(void) return { S(A); }
   ^D

   cc -E a.c
   char *f(void) return { &quot;A&quot;; }
   
   cc -DA=B -E a.c
   char *f(void) return { &quot;B&quot;; }

</code></pre>
More interestingly, you can use this trick to create code where some user-specified word appears as a string and as the name of the function.  Exercice: write a macro M(x) such that compiling the code<p><pre><code>    M(foo)
    M(bar)
</code></pre>
results in<p><pre><code>    void print_foo(void) { puts(&quot;foo&quot;); }
    voir print_bar(void) { puts(&quot;bar&quot;); }</code></pre></div><br/><div id="41814719" class="c"><input type="checkbox" id="c-41814719" checked=""/><div class="controls bullet"><span class="by">delta_p_delta_x</span><span>|</span><a href="#41813551">root</a><span>|</span><a href="#41813784">parent</a><span>|</span><a href="#41813727">next</a><span>|</span><label class="collapse" for="c-41814719">[-]</label><label class="expand" for="c-41814719">[1 more]</label></div><br/><div class="children"><div class="content">&gt; you can use this trick to create code where some user-specified word appears as a string and as the name of the function<p>Ah, the poor man&#x27;s introspection and reflection with C macros.<p><i>shudder</i></div><br/></div></div></div></div><div id="41813727" class="c"><input type="checkbox" id="c-41813727" checked=""/><div class="controls bullet"><span class="by">ahartmetz</span><span>|</span><a href="#41813551">root</a><span>|</span><a href="#41813687">parent</a><span>|</span><a href="#41813784">prev</a><span>|</span><a href="#41813748">next</a><span>|</span><label class="collapse" for="c-41813727">[-]</label><label class="expand" for="c-41813727">[1 more]</label></div><br/><div class="children"><div class="content">It turns a macro argument into a string of that argument. Let&#x27;s say you have a mydebug(expression) macro that should print both &quot;expression&quot; and the value of expression.</div><br/></div></div><div id="41813748" class="c"><input type="checkbox" id="c-41813748" checked=""/><div class="controls bullet"><span class="by">jjnoakes</span><span>|</span><a href="#41813551">root</a><span>|</span><a href="#41813687">parent</a><span>|</span><a href="#41813727">prev</a><span>|</span><a href="#41816672">next</a><span>|</span><label class="collapse" for="c-41813748">[-]</label><label class="expand" for="c-41813748">[1 more]</label></div><br/><div class="children"><div class="content">The macro X turns its argument into a string, but using it on its own means you can&#x27;t turn other macro values into strings, only macro names.<p><pre><code>    #define F 42
    #define X(s) #s
    X(5)  &#x2F;&#x2F;  Expands to &quot;5&quot; (as a string literal)
    X(F)  &#x2F;&#x2F;  Expands to &quot;F&quot; not &quot;42&quot;
</code></pre>
If you add one level of recursive macro expansion, though, that expands the macro argument as well as the macro definition:<p><pre><code>    #define F 42
    #define X(s) #s
    #define S(s) X(s)
    S(5) &#x2F;&#x2F; &quot;5&quot; as expected
    S(F) &#x2F;&#x2F; &quot;42&quot; because S(F) expands to X(42) expands to &quot;42&quot;</code></pre></div><br/></div></div></div></div></div></div><div id="41816672" class="c"><input type="checkbox" id="c-41816672" checked=""/><div class="controls bullet"><span class="by">xhrpost</span><span>|</span><a href="#41813551">prev</a><span>|</span><a href="#41813580">next</a><span>|</span><label class="collapse" for="c-41816672">[-]</label><label class="expand" for="c-41816672">[4 more]</label></div><br/><div class="children"><div class="content">Is this what is meant when people say that Windows doesn&#x27;t have stable APIs? I&#x27;ve not programmed windows&#x2F;desktop software and have often been confused as to why if you&#x27;re writing an assembly program, you have to use at least a little C  if you want to make Windows system calls[1]. The compiler must be compiling the call into &quot;something&quot; so can&#x27;t you just write that &quot;something&quot; directly in assembly?<p>[1]: The classic example being Chris Sawyer writing nearly all of Rollercoaster Tycoon in x86 assembly but requiring just enough C for the system calls.</div><br/><div id="41816769" class="c"><input type="checkbox" id="c-41816769" checked=""/><div class="controls bullet"><span class="by">xeeeeeeeeeeenu</span><span>|</span><a href="#41816672">parent</a><span>|</span><a href="#41817052">next</a><span>|</span><label class="collapse" for="c-41816769">[-]</label><label class="expand" for="c-41816769">[1 more]</label></div><br/><div class="children"><div class="content">Unlike Linux, Windows syscalls aren&#x27;t documented and their IDs constantly change[1]. Instead, you&#x27;re supposed to call wrapper functions provided by ntdll.dll. That said, most programs use even higher level functions from kernel32.dll and friends.<p>You don&#x27;t need C&#x2F;C++ to call a function from a DLL, but it makes things easier, especially for more complex APIs like DirectX.<p>[1] - <a href="https:&#x2F;&#x2F;j00ru.vexillium.org&#x2F;syscalls&#x2F;nt&#x2F;64&#x2F;" rel="nofollow">https:&#x2F;&#x2F;j00ru.vexillium.org&#x2F;syscalls&#x2F;nt&#x2F;64&#x2F;</a></div><br/></div></div><div id="41817052" class="c"><input type="checkbox" id="c-41817052" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#41816672">parent</a><span>|</span><a href="#41816769">prev</a><span>|</span><a href="#41816750">next</a><span>|</span><label class="collapse" for="c-41817052">[-]</label><label class="expand" for="c-41817052">[1 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t need to use C if you want to call Win32 functions, although the calling convention is based on C. The stable API is not the user-kernel boundary but instead a set of DLLs (kernel32, user32, gdi32, etc.), which makes sense if you look at the history: Windows started out as a GUI on top of DOS. The actual system call mechanism is very different between the DOS-based lineage and the NT-based ones, but the Win32 API remains nearly the same.</div><br/></div></div><div id="41816750" class="c"><input type="checkbox" id="c-41816750" checked=""/><div class="controls bullet"><span class="by">carom</span><span>|</span><a href="#41816672">parent</a><span>|</span><a href="#41817052">prev</a><span>|</span><a href="#41813580">next</a><span>|</span><label class="collapse" for="c-41816750">[-]</label><label class="expand" for="c-41816750">[1 more]</label></div><br/><div class="children"><div class="content">Windows system call numbers aren&#x27;t stable. It is done through their system libraries. So rather than invoking a syscall number as you do on Linux, if you want your code to be portable you import the DLL with that functionality and call the function. You can do this all from ASM without needing C, though the system libraries were likely written in a higher level language like C. You can also invoke system calls by number directly, it is just liable to not work on another version of Windows.</div><br/></div></div></div></div><div id="41813580" class="c"><input type="checkbox" id="c-41813580" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#41816672">prev</a><span>|</span><label class="collapse" for="c-41813580">[-]</label><label class="expand" for="c-41813580">[11 more]</label></div><br/><div class="children"><div class="content">I got the chance to evaluate vendors for a huge enterprise because I was assisting their CTO. I vividly remember the sales guy who flew from Redmond to pitch the shiny new Hyper-V virtual machine platform Microsoft had just developed to compete head-to-head with VMware.<p>“I tried the beta and it couldn’t install successfully if I set my regional options to en-AU.”<p>“Umm… that’s just a cosmetic issue.”<p>“It’s a hypervisor kernel, it is going to host tens of thousands of our most critical applications and it crashes if I change one of only three things it asks during setup. My confidence is not super high right now.”<p>Etc…<p>I got the impression that Microsoft is used to selling to PHBs based on the look of shock on the guy’s face when I told him that I not only installed the product, but benchmarked it too for good measure.</div><br/><div id="41814247" class="c"><input type="checkbox" id="c-41814247" checked=""/><div class="controls bullet"><span class="by">n_plus_1_acc</span><span>|</span><a href="#41813580">parent</a><span>|</span><a href="#41814638">next</a><span>|</span><label class="collapse" for="c-41814247">[-]</label><label class="expand" for="c-41814247">[8 more]</label></div><br/><div class="children"><div class="content">MS still makes they same mistake. Date format in Teams is just broken. <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;answers&#x2F;questions&#x2F;1403096&#x2F;new-teams-date-time-format" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;answers&#x2F;questions&#x2F;1403096&#x2F;...</a></div><br/><div id="41814979" class="c"><input type="checkbox" id="c-41814979" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#41813580">root</a><span>|</span><a href="#41814247">parent</a><span>|</span><a href="#41814432">next</a><span>|</span><label class="collapse" for="c-41814979">[-]</label><label class="expand" for="c-41814979">[5 more]</label></div><br/><div class="children"><div class="content">I absolutely hate that they&#x27;ve reduced it to a single &quot;regional settings&quot;. Just  because I don&#x27;t want Norwegian text everywhere does <i>not</i> mean I want dates and time to be displayed in some weird way. However I also utterly despise the Norwegian official way of writing decimal numbers with , rather than . as the decimal separator.<p>We&#x27;ve had fine-grained control over this for ages, apps can handle it fine, just let us get it the way we want it.</div><br/><div id="41816737" class="c"><input type="checkbox" id="c-41816737" checked=""/><div class="controls bullet"><span class="by">rlkf</span><span>|</span><a href="#41813580">root</a><span>|</span><a href="#41814979">parent</a><span>|</span><a href="#41815251">next</a><span>|</span><label class="collapse" for="c-41816737">[-]</label><label class="expand" for="c-41816737">[1 more]</label></div><br/><div class="children"><div class="content">&quot;English (Ireland)&quot; seems to be the closest thing to a sane locale out of the box (could have wished for ISO-8601 dates, but I guess you can&#x27;t have everything).</div><br/></div></div><div id="41815251" class="c"><input type="checkbox" id="c-41815251" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#41813580">root</a><span>|</span><a href="#41814979">parent</a><span>|</span><a href="#41816737">prev</a><span>|</span><a href="#41814432">next</a><span>|</span><label class="collapse" for="c-41815251">[-]</label><label class="expand" for="c-41815251">[3 more]</label></div><br/><div class="children"><div class="content">This is configurable in Windows. Your location, keyboard(s), display language, and date&#x2F;numeric formats are all separate settings.<p>You can even use emoji as date separators if you please.</div><br/><div id="41817444" class="c"><input type="checkbox" id="c-41817444" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#41813580">root</a><span>|</span><a href="#41815251">parent</a><span>|</span><a href="#41815894">next</a><span>|</span><label class="collapse" for="c-41817444">[-]</label><label class="expand" for="c-41817444">[1 more]</label></div><br/><div class="children"><div class="content">Yes, for Win32 applications, which worked just perfect for ages like I said.<p>However, for the newfangled &quot;apps&quot;, they take the regional settings entirely based off your default <i>keyboard layout</i>!</div><br/></div></div><div id="41815894" class="c"><input type="checkbox" id="c-41815894" checked=""/><div class="controls bullet"><span class="by">shakna</span><span>|</span><a href="#41813580">root</a><span>|</span><a href="#41815251">parent</a><span>|</span><a href="#41817444">prev</a><span>|</span><a href="#41814432">next</a><span>|</span><label class="collapse" for="c-41815894">[-]</label><label class="expand" for="c-41815894">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d rather that be configurable per-app. Because not all programs are used for all workflows.</div><br/></div></div></div></div></div></div><div id="41814432" class="c"><input type="checkbox" id="c-41814432" checked=""/><div class="controls bullet"><span class="by">mnau</span><span>|</span><a href="#41813580">root</a><span>|</span><a href="#41814247">parent</a><span>|</span><a href="#41814979">prev</a><span>|</span><a href="#41815229">next</a><span>|</span><label class="collapse" for="c-41814432">[-]</label><label class="expand" for="c-41814432">[1 more]</label></div><br/><div class="children"><div class="content">Didn&#x27;t they fixed it? <a href="https:&#x2F;&#x2F;github.com&#x2F;MicrosoftDocs&#x2F;OfficeDocs-SkypeForBusiness&#x2F;commit&#x2F;2d4c712f3d45c73eb5b1a8d1e06ee9b8b00280b8">https:&#x2F;&#x2F;github.com&#x2F;MicrosoftDocs&#x2F;OfficeDocs-SkypeForBusiness...</a></div><br/></div></div><div id="41815229" class="c"><input type="checkbox" id="c-41815229" checked=""/><div class="controls bullet"><span class="by">83457</span><span>|</span><a href="#41813580">root</a><span>|</span><a href="#41814247">parent</a><span>|</span><a href="#41814432">prev</a><span>|</span><a href="#41814638">next</a><span>|</span><label class="collapse" for="c-41815229">[-]</label><label class="expand" for="c-41815229">[1 more]</label></div><br/><div class="children"><div class="content">They don’t have a time filed in Forms.</div><br/></div></div></div></div><div id="41814638" class="c"><input type="checkbox" id="c-41814638" checked=""/><div class="controls bullet"><span class="by">galkk</span><span>|</span><a href="#41813580">parent</a><span>|</span><a href="#41814247">prev</a><span>|</span><label class="collapse" for="c-41814638">[-]</label><label class="expand" for="c-41814638">[2 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>    “I tried the beta and it couldn’t complete the installer if I set my regional options to en-AU.”

    “Umm… that’s just a cosmetic issue.”

    “It’s a hypervisor kernel, it is going to host tens of thousands of our most critical applications and it crashes if I change one of only three things it asks during setup. My confidence is not super high right now.”
</code></pre>
No offense, but to me, the way it written, it shines bad light rather on you. Obviously rep wouldn&#x27;t answer you something like:<p>&quot;Well, it said it is beta, didn&#x27;t it? The quality of the 
installer of a BETA hasn&#x27;t anything to do with the quality of hypervisor itself. &quot;</div><br/><div id="41815126" class="c"><input type="checkbox" id="c-41815126" checked=""/><div class="controls bullet"><span class="by">jiggawatts</span><span>|</span><a href="#41813580">root</a><span>|</span><a href="#41814638">parent</a><span>|</span><label class="collapse" for="c-41815126">[-]</label><label class="expand" for="c-41815126">[1 more]</label></div><br/><div class="children"><div class="content">It was a month from release and it’s a product that’s “even more critical than the OS kernel” for reliability and availability. A failed hypervisor can take out dozens of servers at once.<p>I also managed to crash or lock it up several times, I just mentioned the keyboard thing as an insane bug. What possible dependency could a stripped down kernel with hardly any user space have on a keyboard layout that’s <i>identical!</i> It is different from en-US in name only.<p>It’s not about the specifics of the issue, but about the overall impression of sloppiness. They didn’t make a <i>hypervisor</i> that’s purpose-designed for the requirements, they just stripped down Windows and deleted stuff haphazardly so that they were missing the keyboard but still had the installer option.<p>For reference, I did run it at scale a few years later and my misgivings were confirmed… and then some. It was much less stable than ESXi and the cluster operations were a disaster. Read only operations could cause deadlocks that only a full cluster reboot could resolve. In-place upgrades weren’t available for several major versions! Meanwhile ESXi clusters could be live-upgraded including disk format changes!<p>After enough decades of experience you get a sixth sense for these things. A single sentence or just one word can trigger an alarm bell in your brain.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>