<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1693299664915" as="style"/><link rel="stylesheet" href="styles.css?v=1693299664915"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://paraxial.io/blog/elixir-savings">Elixir Saves Pinterest $2M a Year in Server Costs</a> <span class="domain">(<a href="https://paraxial.io">paraxial.io</a>)</span></div><div class="subtext"><span>lemper</span> | <span>18 comments</span></div><br/><div><div id="37304916" class="c"><input type="checkbox" id="c-37304916" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#37304997">next</a><span>|</span><label class="collapse" for="c-37304916">[-]</label><label class="expand" for="c-37304916">[3 more]</label></div><br/><div class="children"><div class="content">By the title alone, this means nothing. How much would it cost otherwise? What is the percentage savings?<p>In TFA, it gets better though: &quot;Steve: That’s pretty easy. When I started on the spam team, we had close to 1,400 servers running. When we converted several parts to Elixir, we reduced that by around 95%. One of the systems that ran on 200 Python servers now runs on four Elixir servers (it can actually run on two servers, but we felt that four provided more fault tolerance). The combined effect of better architecture and Elixir saved Pinterest over $2 million per year in server costs. In addition, the performance and reliability of the systems went up despite running on drastically less hardware. When our notifications system was running on Java, it was on 30 c32.xl instances. When we switched over to Elixir, we could run on 15. Despite running on less hardware, the response times dropped significantly, as did errors.&quot;</div><br/><div id="37305021" class="c"><input type="checkbox" id="c-37305021" checked=""/><div class="controls bullet"><span class="by">threeseed</span><span>|</span><a href="#37304916">parent</a><span>|</span><a href="#37304935">next</a><span>|</span><label class="collapse" for="c-37305021">[-]</label><label class="expand" for="c-37305021">[1 more]</label></div><br/><div class="children"><div class="content">&gt; When our notifications system was running on Java, it was on 30 c32.xl instances. When we switched over to Elixir, we could run on 15.<p>Would be curious to know how they tried to optimise the Java stack.<p>Because on every benchmark I&#x27;ve seen the JVM <i>is</i> faster in every which way than Elixir. Except for memory where often people will over-provision the JVM rather than look at where their code might be over-allocating or leaking.</div><br/></div></div><div id="37304935" class="c"><input type="checkbox" id="c-37304935" checked=""/><div class="controls bullet"><span class="by">naillo</span><span>|</span><a href="#37304916">parent</a><span>|</span><a href="#37305021">prev</a><span>|</span><a href="#37304997">next</a><span>|</span><label class="collapse" for="c-37304935">[-]</label><label class="expand" for="c-37304935">[1 more]</label></div><br/><div class="children"><div class="content">I think it&#x27;s a generally practiced strategy at this point to spew out blog dev posts on company blogs to build SEO or act as an ad, regardless of quality.</div><br/></div></div></div></div><div id="37304997" class="c"><input type="checkbox" id="c-37304997" checked=""/><div class="controls bullet"><span class="by">sanitycheck</span><span>|</span><a href="#37304916">prev</a><span>|</span><a href="#37304953">next</a><span>|</span><label class="collapse" for="c-37304997">[-]</label><label class="expand" for="c-37304997">[1 more]</label></div><br/><div class="children"><div class="content">I wonder how much of their traffic is angry people who ended up there by mistake. They could save a lot more than $2M if they just set robots.txt to disallow everything.</div><br/></div></div><div id="37304953" class="c"><input type="checkbox" id="c-37304953" checked=""/><div class="controls bullet"><span class="by">earnesti</span><span>|</span><a href="#37304997">prev</a><span>|</span><a href="#37304986">next</a><span>|</span><label class="collapse" for="c-37304953">[-]</label><label class="expand" for="c-37304953">[1 more]</label></div><br/><div class="children"><div class="content">If you are starting from AWS, it is likely there are many ways to save tons of money by just moving away from AWS.</div><br/></div></div><div id="37304986" class="c"><input type="checkbox" id="c-37304986" checked=""/><div class="controls bullet"><span class="by">m1keil</span><span>|</span><a href="#37304953">prev</a><span>|</span><a href="#37304944">next</a><span>|</span><label class="collapse" for="c-37304986">[-]</label><label class="expand" for="c-37304986">[1 more]</label></div><br/><div class="children"><div class="content">Does anyone has any followup information about the companies and people mentioned? Sadly last blog from Cory O&#x27;Daniel is from 2019 and Bleacher Report engineering blog post shows 2019 as the last post. Pinterest has 81 public repos on GitHub but only 3 with Elixir code base.</div><br/></div></div><div id="37304944" class="c"><input type="checkbox" id="c-37304944" checked=""/><div class="controls bullet"><span class="by">redocneknurd</span><span>|</span><a href="#37304986">prev</a><span>|</span><a href="#37304977">next</a><span>|</span><label class="collapse" for="c-37304944">[-]</label><label class="expand" for="c-37304944">[3 more]</label></div><br/><div class="children"><div class="content">Pinterest - ah that app that has hijacked all images in google search result. Created an account once but has not really used it.</div><br/><div id="37304987" class="c"><input type="checkbox" id="c-37304987" checked=""/><div class="controls bullet"><span class="by">interactivecode</span><span>|</span><a href="#37304944">parent</a><span>|</span><a href="#37304973">next</a><span>|</span><label class="collapse" for="c-37304987">[-]</label><label class="expand" for="c-37304987">[1 more]</label></div><br/><div class="children"><div class="content">While the google images thing is kinda shitty. Pinterest is really really good at image search and image recommendations.</div><br/></div></div><div id="37304973" class="c"><input type="checkbox" id="c-37304973" checked=""/><div class="controls bullet"><span class="by">octacat</span><span>|</span><a href="#37304944">parent</a><span>|</span><a href="#37304987">prev</a><span>|</span><a href="#37304977">next</a><span>|</span><label class="collapse" for="c-37304973">[-]</label><label class="expand" for="c-37304973">[1 more]</label></div><br/><div class="children"><div class="content">tbh, google images are amazingly useless nowadays.
Pinterest is not the worse thing happening there.
Stocks + limited number of returned images are worse</div><br/></div></div></div></div><div id="37304977" class="c"><input type="checkbox" id="c-37304977" checked=""/><div class="controls bullet"><span class="by">metaphor</span><span>|</span><a href="#37304944">prev</a><span>|</span><a href="#37304928">next</a><span>|</span><label class="collapse" for="c-37304977">[-]</label><label class="expand" for="c-37304977">[1 more]</label></div><br/><div class="children"><div class="content">For context, $2MM ~= 0.3% of FY22 cost of revenue[1].<p>[1] <a href="https:&#x2F;&#x2F;www.sec.gov&#x2F;Archives&#x2F;edgar&#x2F;data&#x2F;1506293&#x2F;000150629323000023&#x2F;pins-20221231.htm#i044669580c194f6c993501787404b002_79" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.sec.gov&#x2F;Archives&#x2F;edgar&#x2F;data&#x2F;1506293&#x2F;000150629323...</a></div><br/></div></div><div id="37304942" class="c"><input type="checkbox" id="c-37304942" checked=""/><div class="controls bullet"><span class="by">cynicalsecurity</span><span>|</span><a href="#37304928">prev</a><span>|</span><a href="#37304885">next</a><span>|</span><label class="collapse" for="c-37304942">[-]</label><label class="expand" for="c-37304942">[2 more]</label></div><br/><div class="children"><div class="content">Compared to Python. No wonder.</div><br/><div id="37304974" class="c"><input type="checkbox" id="c-37304974" checked=""/><div class="controls bullet"><span class="by">mkl</span><span>|</span><a href="#37304942">parent</a><span>|</span><a href="#37304885">next</a><span>|</span><label class="collapse" for="c-37304974">[-]</label><label class="expand" for="c-37304974">[1 more]</label></div><br/><div class="children"><div class="content">And to Java.  That&#x27;s more of a surprise.  Most of the gains may have come from architecture changes though: &quot;The combined effect of better architecture and Elixir saved Pinterest over $2 million per year in server costs&quot;.</div><br/></div></div></div></div><div id="37304885" class="c"><input type="checkbox" id="c-37304885" checked=""/><div class="controls bullet"><span class="by">signa11</span><span>|</span><a href="#37304942">prev</a><span>|</span><a href="#37304967">next</a><span>|</span><label class="collapse" for="c-37304885">[-]</label><label class="expand" for="c-37304885">[2 more]</label></div><br/><div class="children"><div class="content">money quote :<p>&#x27;&#x27;&#x27;
The combined effect of better architecture and Elixir saved Pinterest over $2 million per year in server costs.
&#x27;&#x27;&#x27;</div><br/></div></div><div id="37304967" class="c"><input type="checkbox" id="c-37304967" checked=""/><div class="controls bullet"><span class="by">lambda_dn</span><span>|</span><a href="#37304885">prev</a><span>|</span><label class="collapse" for="c-37304967">[-]</label><label class="expand" for="c-37304967">[2 more]</label></div><br/><div class="children"><div class="content">They could have just used different Java&#x2F;Python libraries and changed the architecture for the same result. The choice of a Programming Language alone has minimal impact on performance at that scale.</div><br/><div id="37305022" class="c"><input type="checkbox" id="c-37305022" checked=""/><div class="controls bullet"><span class="by">octacat</span><span>|</span><a href="#37304967">parent</a><span>|</span><label class="collapse" for="c-37305022">[-]</label><label class="expand" for="c-37305022">[1 more]</label></div><br/><div class="children"><div class="content">Rewrite would give you a more optimized code almost always, because you know what you are writing.
Though the article says that they rewrote the notification system, and erlang&#x2F;elixir is pretty amazing for that stuff. From the point &quot;memory footprint per long-running connection&quot;.</div><br/></div></div></div></div></div></div></div></div></div></body></html>