<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1705222856642" as="style"/><link rel="stylesheet" href="styles.css?v=1705222856642"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a>Ask HN: Does Cloudflare block HN comments if you have code blocks in a reply?</a> </div><div class="subtext"><span>zikduruqe</span> | <span>74 comments</span></div><br/><div><div id="38988602" class="c"><input type="checkbox" id="c-38988602" checked=""/><div class="controls bullet"><span class="by">jrockway</span><span>|</span><a href="#38988640">next</a><span>|</span><label class="collapse" for="c-38988602">[-]</label><label class="expand" for="c-38988602">[1 more]</label></div><br/><div class="children"><div class="content">This line works:<p><pre><code>   nc -l -p 1234 -q 1 &gt; testfile.txt &lt; &#x2F;dev&#x2F;null
</code></pre>
The other one doesn&#x27;t.<p><pre><code>   alias foobar=nc
   cat testfile.txt | foobar 192.168.2.100 1234
</code></pre>
I was hoping that it was a &quot;useless use of cat&quot; filter, but nope.  It just doesn&#x27;t like the bytes nc next to an IPv4 address.<p>This is also fine, but blocked if you change the slash to a dot:<p><pre><code>   nc 192&#x2F;168.2.100 1234
</code></pre>
This works too:<p><pre><code>   nc \
   192.168.2.100 1234
</code></pre>
OK, that&#x27;s all for now.  Can you believe people pay money for &quot;web application firewalls&quot;?</div><br/></div></div><div id="38988640" class="c"><input type="checkbox" id="c-38988640" checked=""/><div class="controls bullet"><span class="by">buro9</span><span>|</span><a href="#38988602">prev</a><span>|</span><a href="#38986254">next</a><span>|</span><label class="collapse" for="c-38988640">[-]</label><label class="expand" for="c-38988640">[1 more]</label></div><br/><div class="children"><div class="content">Probably, the WAF, specifically Cloudflare specials, matches a number of things. And as a lot of it is just regex matching the context of where the match occurs isn&#x27;t precise.<p>Additionally cloudflare doesn&#x27;t know what is safe for a given site, so it has to be a little conservative. The sites that can handle malicious input, or are tech sites that expect things that are SQL or commands that may contain directory traversal, these are in the minority.<p>Essentially these are false positives, which are typically viewed as more acceptable than false negatives as those would allow attacks through.<p>These things are configurable by the site owners, but the issue here is that the site owners are not shown the code of the rules, so have to guess from the names and descriptions whether something is safe to disable, meaning everyone just leaves everything enabled. Usually reporting this to a site owner with the cloudflare trace id is sufficient to enable the site owner to disable a rule that is causing false positives, as the site owner can use the cloudflare dashboard to search the trace id.<p>I do not work there any longer (left 3 years ago), but did write significant parts of the firewall and also manage the firewall, WAF, and DDoS protection teams.</div><br/></div></div><div id="38986254" class="c"><input type="checkbox" id="c-38986254" checked=""/><div class="controls bullet"><span class="by">bhaney</span><span>|</span><a href="#38988640">prev</a><span>|</span><a href="#38987701">next</a><span>|</span><label class="collapse" for="c-38986254">[-]</label><label class="expand" for="c-38986254">[22 more]</label></div><br/><div class="children"><div class="content">Any code including netcat (for it&#x27;s tendency to be used in reverse shells) or SQL (for it&#x27;s tendency to be used in SQL injections) tends to be blocked across the entire cloudflare-net these days.</div><br/><div id="38987238" class="c"><input type="checkbox" id="c-38987238" checked=""/><div class="controls bullet"><span class="by">tambourine_man</span><span>|</span><a href="#38986254">parent</a><span>|</span><a href="#38987247">next</a><span>|</span><label class="collapse" for="c-38987238">[-]</label><label class="expand" for="c-38987238">[3 more]</label></div><br/><div class="children"><div class="content">In a site like HN, that’s ridiculous.</div><br/><div id="38987452" class="c"><input type="checkbox" id="c-38987452" checked=""/><div class="controls bullet"><span class="by">goles</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38987238">parent</a><span>|</span><a href="#38987247">next</a><span>|</span><label class="collapse" for="c-38987452">[-]</label><label class="expand" for="c-38987452">[2 more]</label></div><br/><div class="children"><div class="content">See: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38939668">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38939668</a></div><br/><div id="38988190" class="c"><input type="checkbox" id="c-38988190" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38987452">parent</a><span>|</span><a href="#38987247">next</a><span>|</span><label class="collapse" for="c-38988190">[-]</label><label class="expand" for="c-38988190">[1 more]</label></div><br/><div class="children"><div class="content">I see it.  It explains why cloudflare is involved at all.  But I don&#x27;t see how this is related to the comment you replied to, which is saying that the text filter is ridiculous.</div><br/></div></div></div></div></div></div><div id="38987247" class="c"><input type="checkbox" id="c-38987247" checked=""/><div class="controls bullet"><span class="by">creatonez</span><span>|</span><a href="#38986254">parent</a><span>|</span><a href="#38987238">prev</a><span>|</span><a href="#38988543">next</a><span>|</span><label class="collapse" for="c-38987247">[-]</label><label class="expand" for="c-38987247">[4 more]</label></div><br/><div class="children"><div class="content">AFAIK most of these filters are disabled by default when setting up your website on Cloudflare, so most websites using the Cloudflare network likely have this turned off.</div><br/><div id="38987761" class="c"><input type="checkbox" id="c-38987761" checked=""/><div class="controls bullet"><span class="by">stingraycharles</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38987247">parent</a><span>|</span><a href="#38988543">next</a><span>|</span><label class="collapse" for="c-38987761">[-]</label><label class="expand" for="c-38987761">[3 more]</label></div><br/><div class="children"><div class="content">This is correct, it’s part of their WAF offering where there is rule-based blocking of content.</div><br/><div id="38988517" class="c"><input type="checkbox" id="c-38988517" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38987761">parent</a><span>|</span><a href="#38988100">next</a><span>|</span><label class="collapse" for="c-38988517">[-]</label><label class="expand" for="c-38988517">[1 more]</label></div><br/><div class="children"><div class="content">Also, it&#x27;s not one magic switch. You can switch each of those rules on&#x2F;off. Ideally HN would allow most of the injection ones, otherwise we won&#x27;t be able to post examples of specific SQL patterns and the like.</div><br/></div></div><div id="38988100" class="c"><input type="checkbox" id="c-38988100" checked=""/><div class="controls bullet"><span class="by">judge2020</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38987761">parent</a><span>|</span><a href="#38988517">prev</a><span>|</span><a href="#38988543">next</a><span>|</span><label class="collapse" for="c-38988100">[-]</label><label class="expand" for="c-38988100">[1 more]</label></div><br/><div class="children"><div class="content">And requires the $20&#x2F;month plan to enable.</div><br/></div></div></div></div></div></div><div id="38988543" class="c"><input type="checkbox" id="c-38988543" checked=""/><div class="controls bullet"><span class="by">dvh</span><span>|</span><a href="#38986254">parent</a><span>|</span><a href="#38987247">prev</a><span>|</span><a href="#38988454">next</a><span>|</span><label class="collapse" for="c-38988543">[-]</label><label class="expand" for="c-38988543">[1 more]</label></div><br/><div class="children"><div class="content">drop table users where id=id</div><br/></div></div><div id="38986781" class="c"><input type="checkbox" id="c-38986781" checked=""/><div class="controls bullet"><span class="by">zikduruqe</span><span>|</span><a href="#38986254">parent</a><span>|</span><a href="#38988454">prev</a><span>|</span><a href="#38987701">next</a><span>|</span><label class="collapse" for="c-38986781">[-]</label><label class="expand" for="c-38986781">[12 more]</label></div><br/><div class="children"><div class="content">Interesting.  That&#x27;s the first time I have run across this. Makes sense.</div><br/><div id="38987072" class="c"><input type="checkbox" id="c-38987072" checked=""/><div class="controls bullet"><span class="by">crotchfire</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38986781">parent</a><span>|</span><a href="#38987144">next</a><span>|</span><label class="collapse" for="c-38987072">[-]</label><label class="expand" for="c-38987072">[9 more]</label></div><br/><div class="children"><div class="content">That does not make sense at all; it is batshit-crazy broken.</div><br/><div id="38988364" class="c"><input type="checkbox" id="c-38988364" checked=""/><div class="controls bullet"><span class="by">josephcsible</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38987072">parent</a><span>|</span><a href="#38987183">next</a><span>|</span><label class="collapse" for="c-38988364">[-]</label><label class="expand" for="c-38988364">[2 more]</label></div><br/><div class="children"><div class="content">Indeed. WAFs need to die; they&#x27;re basically all just doing &lt;<a href="https:&#x2F;&#x2F;thedailywtf.com&#x2F;articles&#x2F;Injection_Rejection" rel="nofollow">https:&#x2F;&#x2F;thedailywtf.com&#x2F;articles&#x2F;Injection_Rejection</a>&gt;.</div><br/><div id="38988523" class="c"><input type="checkbox" id="c-38988523" checked=""/><div class="controls bullet"><span class="by">bandergirl</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38988364">parent</a><span>|</span><a href="#38987183">next</a><span>|</span><label class="collapse" for="c-38988523">[-]</label><label class="expand" for="c-38988523">[1 more]</label></div><br/><div class="children"><div class="content">That code makes me sick to my chest. Why are some people allergic to reading?<p><i>&lt;Receives solution&gt;</i><p><i>Nah I’m not opening that link, I got it</i></div><br/></div></div></div></div><div id="38987183" class="c"><input type="checkbox" id="c-38987183" checked=""/><div class="controls bullet"><span class="by">r1ch</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38987072">parent</a><span>|</span><a href="#38988364">prev</a><span>|</span><a href="#38987144">next</a><span>|</span><label class="collapse" for="c-38987183">[-]</label><label class="expand" for="c-38987183">[6 more]</label></div><br/><div class="children"><div class="content">Welcome to the world of WAFs. Pattern matching scary strings is big business.</div><br/><div id="38987244" class="c"><input type="checkbox" id="c-38987244" checked=""/><div class="controls bullet"><span class="by">cubefox</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38987183">parent</a><span>|</span><a href="#38987459">next</a><span>|</span><label class="collapse" for="c-38987244">[-]</label><label class="expand" for="c-38987244">[3 more]</label></div><br/><div class="children"><div class="content">For the uninitiated:<p><a href="https:&#x2F;&#x2F;www.cloudflare.com&#x2F;application-services&#x2F;products&#x2F;waf&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.cloudflare.com&#x2F;application-services&#x2F;products&#x2F;waf...</a></div><br/><div id="38987404" class="c"><input type="checkbox" id="c-38987404" checked=""/><div class="controls bullet"><span class="by">rrr_oh_man</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38987244">parent</a><span>|</span><a href="#38987312">next</a><span>|</span><label class="collapse" for="c-38987404">[-]</label><label class="expand" for="c-38987404">[1 more]</label></div><br/><div class="children"><div class="content">Thanks. For me WAF is <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Wife_acceptance_factor" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Wife_acceptance_factor</a> since the 2000&#x27;s era of German audio enthusiast forums</div><br/></div></div><div id="38987312" class="c"><input type="checkbox" id="c-38987312" checked=""/><div class="controls bullet"><span class="by">wslh</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38987244">parent</a><span>|</span><a href="#38987404">prev</a><span>|</span><a href="#38987459">next</a><span>|</span><label class="collapse" for="c-38987312">[-]</label><label class="expand" for="c-38987312">[1 more]</label></div><br/><div class="children"><div class="content">Believe me you can find them present in popular sites you use everyday ;-) I caught one of them and reported it.</div><br/></div></div></div></div><div id="38987459" class="c"><input type="checkbox" id="c-38987459" checked=""/><div class="controls bullet"><span class="by">refulgentis</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38987183">parent</a><span>|</span><a href="#38987244">prev</a><span>|</span><a href="#38987144">next</a><span>|</span><label class="collapse" for="c-38987459">[-]</label><label class="expand" for="c-38987459">[2 more]</label></div><br/><div class="children"><div class="content">what dark magic is this? do you put it in front of all POSTs or something?</div><br/><div id="38987736" class="c"><input type="checkbox" id="c-38987736" checked=""/><div class="controls bullet"><span class="by">Uvix</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38987459">parent</a><span>|</span><a href="#38987144">next</a><span>|</span><label class="collapse" for="c-38987736">[-]</label><label class="expand" for="c-38987736">[1 more]</label></div><br/><div class="children"><div class="content">Not just POSTs, but any HTTP request - headers &amp; query strings get inspected too.</div><br/></div></div></div></div></div></div></div></div><div id="38987144" class="c"><input type="checkbox" id="c-38987144" checked=""/><div class="controls bullet"><span class="by">Jabrov</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38986781">parent</a><span>|</span><a href="#38987072">prev</a><span>|</span><a href="#38987701">next</a><span>|</span><label class="collapse" for="c-38987144">[-]</label><label class="expand" for="c-38987144">[2 more]</label></div><br/><div class="children"><div class="content">How does that make sense?</div><br/><div id="38987176" class="c"><input type="checkbox" id="c-38987176" checked=""/><div class="controls bullet"><span class="by">kevindamm</span><span>|</span><a href="#38986254">root</a><span>|</span><a href="#38987144">parent</a><span>|</span><a href="#38987701">next</a><span>|</span><label class="collapse" for="c-38987176">[-]</label><label class="expand" for="c-38987176">[1 more]</label></div><br/><div class="children"><div class="content">I think they meant &quot;corresponds with behavior observed&quot; not &quot;sounds rational.&quot;</div><br/></div></div></div></div></div></div></div></div><div id="38987701" class="c"><input type="checkbox" id="c-38987701" checked=""/><div class="controls bullet"><span class="by">usr1106</span><span>|</span><a href="#38986254">prev</a><span>|</span><a href="#38988124">next</a><span>|</span><label class="collapse" for="c-38987701">[-]</label><label class="expand" for="c-38987701">[11 more]</label></div><br/><div class="children"><div class="content">So HN uses Cloudflare? That surprises me because typically I notice sites using Cloudflare because my mobile running GNU Linux cannot pass their dreaded Turnstyle. Luckily that does not happen for HN.</div><br/><div id="38987941" class="c"><input type="checkbox" id="c-38987941" checked=""/><div class="controls bullet"><span class="by">cj</span><span>|</span><a href="#38987701">parent</a><span>|</span><a href="#38987718">next</a><span>|</span><label class="collapse" for="c-38987941">[-]</label><label class="expand" for="c-38987941">[4 more]</label></div><br/><div class="children"><div class="content">The aggressiveness of the &quot;dreaded Turnstyle&quot; is 100% configurable.<p>It&#x27;s very easy to disable it completely via Cloudflare settings. Using cloudflare doesn&#x27;t require you to use all of its features, and almost every feature can be turned off.</div><br/><div id="38988651" class="c"><input type="checkbox" id="c-38988651" checked=""/><div class="controls bullet"><span class="by">helsinkiandrew</span><span>|</span><a href="#38987701">root</a><span>|</span><a href="#38987941">parent</a><span>|</span><a href="#38988532">next</a><span>|</span><label class="collapse" for="c-38988651">[-]</label><label class="expand" for="c-38988651">[1 more]</label></div><br/><div class="children"><div class="content">I always feel the turnstyle makes a website feel a bit condescending - you need to test MY connection before I get to your crappy site?<p>Is there a reason it needs to be visible whilst performing checks? or is it just security theatre?</div><br/></div></div><div id="38988532" class="c"><input type="checkbox" id="c-38988532" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#38987701">root</a><span>|</span><a href="#38987941">parent</a><span>|</span><a href="#38988651">prev</a><span>|</span><a href="#38987718">next</a><span>|</span><label class="collapse" for="c-38988532">[-]</label><label class="expand" for="c-38988532">[2 more]</label></div><br/><div class="children"><div class="content">While this is true and worth reminding the ops about, it still sucks because many people don&#x27;t understand the issues they cause by turning WAF on. CloudFlare should have a big &quot;I understand I&#x27;ll block many legit clients when I enable this&quot; checkbox. Or you know... fix it in general. Or at least have a &quot;report this block as invalid&quot; link on the page.</div><br/><div id="38988551" class="c"><input type="checkbox" id="c-38988551" checked=""/><div class="controls bullet"><span class="by">Jamie9912</span><span>|</span><a href="#38987701">root</a><span>|</span><a href="#38988532">parent</a><span>|</span><a href="#38987718">next</a><span>|</span><label class="collapse" for="c-38988551">[-]</label><label class="expand" for="c-38988551">[1 more]</label></div><br/><div class="children"><div class="content">Agreed, I believe the default Firewall security level is &quot;Medium&quot; and I think that&#x27;s far too strict. First thing I do when adding a new zone is to set it to &quot;Essentially off&quot;</div><br/></div></div></div></div></div></div><div id="38987718" class="c"><input type="checkbox" id="c-38987718" checked=""/><div class="controls bullet"><span class="by">judge2020</span><span>|</span><a href="#38987701">parent</a><span>|</span><a href="#38987941">prev</a><span>|</span><a href="#38988116">next</a><span>|</span><label class="collapse" for="c-38987718">[-]</label><label class="expand" for="c-38987718">[4 more]</label></div><br/><div class="children"><div class="content">They used to run it but stopped (I want to say) around 2016 or 2017. Another poster here linked[0] to how dang confirmed it is to protect against a DDOS attack.<p>0: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38939668">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38939668</a></div><br/><div id="38987890" class="c"><input type="checkbox" id="c-38987890" checked=""/><div class="controls bullet"><span class="by">usr1106</span><span>|</span><a href="#38987701">root</a><span>|</span><a href="#38987718">parent</a><span>|</span><a href="#38988116">next</a><span>|</span><label class="collapse" for="c-38987890">[-]</label><label class="expand" for="c-38987890">[3 more]</label></div><br/><div class="children"><div class="content">The cert is Cloudflare today.</div><br/><div id="38987904" class="c"><input type="checkbox" id="c-38987904" checked=""/><div class="controls bullet"><span class="by">judge2020</span><span>|</span><a href="#38987701">root</a><span>|</span><a href="#38987890">parent</a><span>|</span><a href="#38988116">next</a><span>|</span><label class="collapse" for="c-38987904">[-]</label><label class="expand" for="c-38987904">[2 more]</label></div><br/><div class="children"><div class="content">I meant to imply that Dang only re-added CF recently due to the attacks. They haven&#x27;t used CF in many years to my knowledge.</div><br/><div id="38988475" class="c"><input type="checkbox" id="c-38988475" checked=""/><div class="controls bullet"><span class="by">redcobra762</span><span>|</span><a href="#38987701">root</a><span>|</span><a href="#38987904">parent</a><span>|</span><a href="#38988116">next</a><span>|</span><label class="collapse" for="c-38988475">[-]</label><label class="expand" for="c-38988475">[1 more]</label></div><br/><div class="children"><div class="content">Cert was issued over 9 months ago.</div><br/></div></div></div></div></div></div></div></div><div id="38988116" class="c"><input type="checkbox" id="c-38988116" checked=""/><div class="controls bullet"><span class="by">a-dub</span><span>|</span><a href="#38987701">parent</a><span>|</span><a href="#38987718">prev</a><span>|</span><a href="#38988124">next</a><span>|</span><label class="collapse" for="c-38988116">[-]</label><label class="expand" for="c-38988116">[2 more]</label></div><br/><div class="children"><div class="content">bummer. i used to like the legend that it was all on one commodity linux pc implemented in some nice concise lisp running on sbcl.<p>edit: my memory is crap. it was a single machine, but the codebase was written in a custom experimental language that i think was a lisp derivative. (which would make sense!). the source was online at some time, can&#x27;t find it now.</div><br/><div id="38988456" class="c"><input type="checkbox" id="c-38988456" checked=""/><div class="controls bullet"><span class="by">usr1106</span><span>|</span><a href="#38987701">root</a><span>|</span><a href="#38988116">parent</a><span>|</span><a href="#38988124">next</a><span>|</span><label class="collapse" for="c-38988456">[-]</label><label class="expand" for="c-38988456">[1 more]</label></div><br/><div class="children"><div class="content">I understand the backend is still somewhat limited. After Altman was fired (IIRC) when HN got 1000s of comments within no time, dang asked everyone to logout and login again, to make life for the poor machine a bit easier. So besides limited HW resources, also some non-optimal implementation details ;)</div><br/></div></div></div></div></div></div><div id="38988124" class="c"><input type="checkbox" id="c-38988124" checked=""/><div class="controls bullet"><span class="by">nneonneo</span><span>|</span><a href="#38987701">prev</a><span>|</span><a href="#38986757">next</a><span>|</span><label class="collapse" for="c-38988124">[-]</label><label class="expand" for="c-38988124">[1 more]</label></div><br/><div class="children"><div class="content">I ran into this when trying to post a comment with<p><pre><code>  ..&#x2F; ..&#x2F; ..&#x2F; etc&#x2F; passwd

</code></pre>
(remove the spaces)</div><br/></div></div><div id="38986757" class="c"><input type="checkbox" id="c-38986757" checked=""/><div class="controls bullet"><span class="by">gus_massa</span><span>|</span><a href="#38988124">prev</a><span>|</span><a href="#38988614">next</a><span>|</span><label class="collapse" for="c-38986757">[-]</label><label class="expand" for="c-38986757">[2 more]</label></div><br/><div class="children"><div class="content">To get a fast answer, it&#x27;s beter to send an email to the mods hn@ycombinator.com</div><br/><div id="38988436" class="c"><input type="checkbox" id="c-38988436" checked=""/><div class="controls bullet"><span class="by">LeoPanthera</span><span>|</span><a href="#38986757">parent</a><span>|</span><a href="#38988614">next</a><span>|</span><label class="collapse" for="c-38988436">[-]</label><label class="expand" for="c-38988436">[1 more]</label></div><br/><div class="children"><div class="content">In this case, I appreciate that OP made a public post, in case others encounter the same problem.</div><br/></div></div></div></div><div id="38988614" class="c"><input type="checkbox" id="c-38988614" checked=""/><div class="controls bullet"><span class="by">sixhobbits</span><span>|</span><a href="#38986757">prev</a><span>|</span><a href="#38987126">next</a><span>|</span><label class="collapse" for="c-38988614">[-]</label><label class="expand" for="c-38988614">[1 more]</label></div><br/><div class="children"><div class="content">Test<p>`nc 192.168.2.100`</div><br/></div></div><div id="38987126" class="c"><input type="checkbox" id="c-38987126" checked=""/><div class="controls bullet"><span class="by">furyofantares</span><span>|</span><a href="#38988614">prev</a><span>|</span><a href="#38987641">next</a><span>|</span><label class="collapse" for="c-38987126">[-]</label><label class="expand" for="c-38987126">[2 more]</label></div><br/><div class="children"><div class="content">Huh. Just tried submitting the same comment with the same result.<p>Minimal test, if I try to edit this post removing the asterisk, I get the &quot;banned&quot; page<p><pre><code>  nc* 192.168.2.100</code></pre></div><br/></div></div><div id="38987641" class="c"><input type="checkbox" id="c-38987641" checked=""/><div class="controls bullet"><span class="by">hyperhello</span><span>|</span><a href="#38987126">prev</a><span>|</span><a href="#38987360">next</a><span>|</span><label class="collapse" for="c-38987641">[-]</label><label class="expand" for="c-38987641">[2 more]</label></div><br/><div class="children"><div class="content">What if you Base64 encode this? Pretty trivial to add to the form logic.</div><br/><div id="38987893" class="c"><input type="checkbox" id="c-38987893" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#38987641">parent</a><span>|</span><a href="#38987360">next</a><span>|</span><label class="collapse" for="c-38987893">[-]</label><label class="expand" for="c-38987893">[1 more]</label></div><br/><div class="children"><div class="content">yeah, i&#x27;d expect dang to just jump right on that. just because you feel it is trivial does not mean that it <i>should</i> be done.</div><br/></div></div></div></div><div id="38987360" class="c"><input type="checkbox" id="c-38987360" checked=""/><div class="controls bullet"><span class="by">neilv</span><span>|</span><a href="#38987641">prev</a><span>|</span><a href="#38988542">next</a><span>|</span><label class="collapse" for="c-38987360">[-]</label><label class="expand" for="c-38987360">[4 more]</label></div><br/><div class="children"><div class="content">Probably not related, but I&#x27;ve been getting lots of throttling-like huge page load delays on HN the last couple days, only when logged in.<p>Any idea whether that&#x27;s just an overloaded application server, or something Cloudflare is doing?</div><br/><div id="38987417" class="c"><input type="checkbox" id="c-38987417" checked=""/><div class="controls bullet"><span class="by">pixelesque</span><span>|</span><a href="#38987360">parent</a><span>|</span><a href="#38987433">next</a><span>|</span><label class="collapse" for="c-38987417">[-]</label><label class="expand" for="c-38987417">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s often the case with HN I think from past experience when there are large threads on HN, and dang has in the past said that&#x27;s due to the application server.</div><br/><div id="38987463" class="c"><input type="checkbox" id="c-38987463" checked=""/><div class="controls bullet"><span class="by">keepamovin</span><span>|</span><a href="#38987360">root</a><span>|</span><a href="#38987417">parent</a><span>|</span><a href="#38987433">next</a><span>|</span><label class="collapse" for="c-38987463">[-]</label><label class="expand" for="c-38987463">[1 more]</label></div><br/><div class="children"><div class="content">Single core application server no less</div><br/></div></div></div></div></div></div><div id="38988542" class="c"><input type="checkbox" id="c-38988542" checked=""/><div class="controls bullet"><span class="by">Jamie9912</span><span>|</span><a href="#38987360">prev</a><span>|</span><a href="#38987078">next</a><span>|</span><label class="collapse" for="c-38988542">[-]</label><label class="expand" for="c-38988542">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t remember HN being on Cloudflare. Have they recently added it?</div><br/></div></div><div id="38987078" class="c"><input type="checkbox" id="c-38987078" checked=""/><div class="controls bullet"><span class="by">crotchfire</span><span>|</span><a href="#38988542">prev</a><span>|</span><a href="#38987074">next</a><span>|</span><label class="collapse" for="c-38987078">[-]</label><label class="expand" for="c-38987078">[5 more]</label></div><br/><div class="children"><div class="content">Dear cloudflare, please banhammer me<p><pre><code>    cat testfile.txt | nc 192.168.2.100 1234</code></pre></div><br/><div id="38988499" class="c"><input type="checkbox" id="c-38988499" checked=""/><div class="controls bullet"><span class="by">porridgeraisin</span><span>|</span><a href="#38987078">parent</a><span>|</span><a href="#38987922">next</a><span>|</span><label class="collapse" for="c-38988499">[-]</label><label class="expand" for="c-38988499">[1 more]</label></div><br/><div class="children"><div class="content">How did this get past the check?</div><br/></div></div><div id="38987922" class="c"><input type="checkbox" id="c-38987922" checked=""/><div class="controls bullet"><span class="by">throwaway14356</span><span>|</span><a href="#38987078">parent</a><span>|</span><a href="#38988499">prev</a><span>|</span><a href="#38988135">next</a><span>|</span><label class="collapse" for="c-38987922">[-]</label><label class="expand" for="c-38987922">[1 more]</label></div><br/><div class="children"><div class="content">finally a way out</div><br/></div></div></div></div><div id="38987074" class="c"><input type="checkbox" id="c-38987074" checked=""/><div class="controls bullet"><span class="by">kaimac</span><span>|</span><a href="#38987078">prev</a><span>|</span><a href="#38988369">next</a><span>|</span><label class="collapse" for="c-38987074">[-]</label><label class="expand" for="c-38987074">[15 more]</label></div><br/><div class="children"><div class="content">Cloudflare has access to everyone&#x27;s cleartext? I was unaware of this. NSA must love that</div><br/><div id="38987698" class="c"><input type="checkbox" id="c-38987698" checked=""/><div class="controls bullet"><span class="by">judge2020</span><span>|</span><a href="#38987074">parent</a><span>|</span><a href="#38987776">next</a><span>|</span><label class="collapse" for="c-38987698">[-]</label><label class="expand" for="c-38987698">[7 more]</label></div><br/><div class="children"><div class="content">Same for Akamai, Cloudfront, Fastly, etc. Pretty much every business that wants to offload DDOS protection, caching,and some level of frontline security uses a proxying CDN.<p>An alternative is to keep all of your CDN assets on a CDN bucket on its own hostname, with your main secret-containing business apps on your own servers, but it costs a lot to manage this level of separation and the payoff is only protection against the theoretical attack of &quot;NSA can&#x27;t attack our users&#x2F;spy on them&quot;. If the NSA ever did do this on a large enough scale or to target a particularly notable person, it&#x27;s very unlikely it would be kept a secret for long, and the end-business that used Cloudflare et al. wouldn&#x27;t be implicated whatsoever since every business uses one of the big CDN providers.</div><br/><div id="38987987" class="c"><input type="checkbox" id="c-38987987" checked=""/><div class="controls bullet"><span class="by">bomewish</span><span>|</span><a href="#38987074">root</a><span>|</span><a href="#38987698">parent</a><span>|</span><a href="#38987865">next</a><span>|</span><label class="collapse" for="c-38987987">[-]</label><label class="expand" for="c-38987987">[1 more]</label></div><br/><div class="children"><div class="content">They kept the other spying secret for a long time and it was only due to pretty heroic actions by one person that it got exposed. So I duno.</div><br/></div></div><div id="38987865" class="c"><input type="checkbox" id="c-38987865" checked=""/><div class="controls bullet"><span class="by">bejk22</span><span>|</span><a href="#38987074">root</a><span>|</span><a href="#38987698">parent</a><span>|</span><a href="#38987987">prev</a><span>|</span><a href="#38987776">next</a><span>|</span><label class="collapse" for="c-38987865">[-]</label><label class="expand" for="c-38987865">[5 more]</label></div><br/><div class="children"><div class="content">That makes using https instead of http a lot less relevant.</div><br/><div id="38988064" class="c"><input type="checkbox" id="c-38988064" checked=""/><div class="controls bullet"><span class="by">judge2020</span><span>|</span><a href="#38987074">root</a><span>|</span><a href="#38987865">parent</a><span>|</span><a href="#38988078">next</a><span>|</span><label class="collapse" for="c-38988064">[-]</label><label class="expand" for="c-38988064">[3 more]</label></div><br/><div class="children"><div class="content">https is important for preventing spying by anyone else in between you and the server. ISPs, coffee shop owners, schools, etc used to spy on http traffic to see what people were doing&#x2F;searching for, and ISPs like xFinity injected code into non-https pages to show &quot;important messages&quot; to users, e.g. going over your bandwidth limit[0].<p>The only weak link now is Cloudflare, which is still &quot;less secure than a direct connection&quot; (with respect to government spying, bugs[0], hackers, etc) but the threat level is drastically reduced.<p>0: <a href="https:&#x2F;&#x2F;blog.ryankearney.com&#x2F;2013&#x2F;01&#x2F;comcast-caught-intercepting-and-altering-your-web-traffic&#x2F;" rel="nofollow">https:&#x2F;&#x2F;blog.ryankearney.com&#x2F;2013&#x2F;01&#x2F;comcast-caught-intercep...</a><p>1: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=13766339">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=13766339</a></div><br/><div id="38988176" class="c"><input type="checkbox" id="c-38988176" checked=""/><div class="controls bullet"><span class="by">xk_id</span><span>|</span><a href="#38987074">root</a><span>|</span><a href="#38988064">parent</a><span>|</span><a href="#38988078">next</a><span>|</span><label class="collapse" for="c-38988176">[-]</label><label class="expand" for="c-38988176">[2 more]</label></div><br/><div class="children"><div class="content">Is there a way to know when the encrypted content i send to a site is also being provided to Cloudflare?</div><br/><div id="38988575" class="c"><input type="checkbox" id="c-38988575" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#38987074">root</a><span>|</span><a href="#38988176">parent</a><span>|</span><a href="#38988078">next</a><span>|</span><label class="collapse" for="c-38988575">[-]</label><label class="expand" for="c-38988575">[1 more]</label></div><br/><div class="children"><div class="content">Check the whois entry for the IPs that domain resolves to. If they belong to CloudFlare, they can see the plaintext traffic. Same for Akamai, Cloudfront and others.</div><br/></div></div></div></div></div></div><div id="38988078" class="c"><input type="checkbox" id="c-38988078" checked=""/><div class="controls bullet"><span class="by">anonym29</span><span>|</span><a href="#38987074">root</a><span>|</span><a href="#38987865">parent</a><span>|</span><a href="#38988064">prev</a><span>|</span><a href="#38987776">next</a><span>|</span><label class="collapse" for="c-38988078">[-]</label><label class="expand" for="c-38988078">[1 more]</label></div><br/><div class="children"><div class="content">Hardly! Nobody is forcing you to consent to MITM, you freely choose it every time you voluntarily use a website that utilizes one.</div><br/></div></div></div></div></div></div><div id="38987776" class="c"><input type="checkbox" id="c-38987776" checked=""/><div class="controls bullet"><span class="by">stingraycharles</span><span>|</span><a href="#38987074">parent</a><span>|</span><a href="#38987698">prev</a><span>|</span><a href="#38987296">next</a><span>|</span><label class="collapse" for="c-38987776">[-]</label><label class="expand" for="c-38987776">[1 more]</label></div><br/><div class="children"><div class="content">It’s a CDN that caches content and it’s able to inject “are you human?” verification pages, it can rewrite content on demand (e.g. serve optimized images &#x2F; html &#x2F; JavaScript). It seems obvious to me that they have access and ability to modify all cleartext content in-flight.</div><br/></div></div><div id="38987296" class="c"><input type="checkbox" id="c-38987296" checked=""/><div class="controls bullet"><span class="by">ytch</span><span>|</span><a href="#38987074">parent</a><span>|</span><a href="#38987776">prev</a><span>|</span><a href="#38987367">next</a><span>|</span><label class="collapse" for="c-38987296">[-]</label><label class="expand" for="c-38987296">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a TLS termination proxy that decrypt and re-encrypt your TLS packet. Technically Cloudflare can read anything unless you add your own crypt layer on top of TLS.</div><br/></div></div><div id="38987090" class="c"><input type="checkbox" id="c-38987090" checked=""/><div class="controls bullet"><span class="by">strombofulous</span><span>|</span><a href="#38987074">parent</a><span>|</span><a href="#38987367">prev</a><span>|</span><a href="#38987991">next</a><span>|</span><label class="collapse" for="c-38987090">[-]</label><label class="expand" for="c-38987090">[3 more]</label></div><br/><div class="children"><div class="content">Yes, although it requires configuration <a href="https:&#x2F;&#x2F;developers.cloudflare.com&#x2F;ssl&#x2F;get-started&#x2F;" rel="nofollow">https:&#x2F;&#x2F;developers.cloudflare.com&#x2F;ssl&#x2F;get-started&#x2F;</a></div><br/><div id="38987227" class="c"><input type="checkbox" id="c-38987227" checked=""/><div class="controls bullet"><span class="by">creatonez</span><span>|</span><a href="#38987074">root</a><span>|</span><a href="#38987090">parent</a><span>|</span><a href="#38987177">next</a><span>|</span><label class="collapse" for="c-38987227">[-]</label><label class="expand" for="c-38987227">[1 more]</label></div><br/><div class="children"><div class="content">When you add a DNS rule, it&#x27;s configured as proxied by default. Here is what it looks like in the UI:<p><a href="https:&#x2F;&#x2F;i.imgur.com&#x2F;TO2Tfk3.png" rel="nofollow">https:&#x2F;&#x2F;i.imgur.com&#x2F;TO2Tfk3.png</a><p><a href="https:&#x2F;&#x2F;i.imgur.com&#x2F;jVW5db4.png" rel="nofollow">https:&#x2F;&#x2F;i.imgur.com&#x2F;jVW5db4.png</a></div><br/></div></div><div id="38987177" class="c"><input type="checkbox" id="c-38987177" checked=""/><div class="controls bullet"><span class="by">arch-choot</span><span>|</span><a href="#38987074">root</a><span>|</span><a href="#38987090">parent</a><span>|</span><a href="#38987227">prev</a><span>|</span><a href="#38987991">next</a><span>|</span><label class="collapse" for="c-38987177">[-]</label><label class="expand" for="c-38987177">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m pretty sure the default is they can see all the cleartext, since their product is based on TLS interception, for example to evaluate page rules.<p>This is also how they insert extra headers in both the request and response.</div><br/></div></div></div></div><div id="38987991" class="c"><input type="checkbox" id="c-38987991" checked=""/><div class="controls bullet"><span class="by">mlindner</span><span>|</span><a href="#38987074">parent</a><span>|</span><a href="#38987090">prev</a><span>|</span><a href="#38988369">next</a><span>|</span><label class="collapse" for="c-38987991">[-]</label><label class="expand" for="c-38987991">[1 more]</label></div><br/><div class="children"><div class="content">Yes that&#x27;s how Cloudfare works. The TLS certificate for basically any website using Cloudflare &quot;ends&quot; at Cloudflare&#x27;s servers. It&#x27;s then either forwarded on to the actual servers in cleartext or re-encrypted with an internal company certificate (maybe signed internally as well) to pass the connection on to the actual servers. It was the easy way many companies who didn&#x27;t have the expertise to do their own certificate management moved from the http world to the https world. They just handed it off to cloudflare and kept their servers running http.<p>F5 Networks, my former employer, sells something similar, but it&#x27;s a box (or virtual appliance) you put in your own data centers somewhere that dead-ends the connection instead.</div><br/></div></div></div></div><div id="38987511" class="c"><input type="checkbox" id="c-38987511" checked=""/><div class="controls bullet"><span class="by">djha-skin</span><span>|</span><a href="#38987997">prev</a><span>|</span><label class="collapse" for="c-38987511">[-]</label><label class="expand" for="c-38987511">[1 more]</label></div><br/><div class="children"><div class="content">Related: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38966035">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38966035</a></div><br/></div></div></div></div></div></div></div></body></html>