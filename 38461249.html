<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1701334879169" as="style"/><link rel="stylesheet" href="styles.css?v=1701334879169"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/01mf02/jaq">Jaq – A jq clone focused on correctness, speed, and simplicity</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>tmcneal</span> | <span>167 comments</span></div><br/><div><div id="38465712" class="c"><input type="checkbox" id="c-38465712" checked=""/><div class="controls bullet"><span class="by">j1elo</span><span>|</span><a href="#38470529">next</a><span>|</span><label class="collapse" for="c-38465712">[-]</label><label class="expand" for="c-38465712">[4 more]</label></div><br/><div class="children"><div class="content">&gt; <i>[[]] | implode crashes jq, and this was not fixed at the time of writing despite being known since five years.</i><p>Well, taking into account that jq development has been halted for 5 years and only recently revived again, it&#x27;s no wonder that bug reports have been sitting there for that time, both well known and new ones. I bet they&#x27;ll get up to speed and slowly but surely clear the backlog that has built up all this time.</div><br/><div id="38465783" class="c"><input type="checkbox" id="c-38465783" checked=""/><div class="controls bullet"><span class="by">wwader</span><span>|</span><a href="#38465712">parent</a><span>|</span><a href="#38467769">next</a><span>|</span><label class="collapse" for="c-38465783">[-]</label><label class="expand" for="c-38465783">[1 more]</label></div><br/><div class="children"><div class="content">Yeap was fixed in 1.7 <a href="https:&#x2F;&#x2F;github.com&#x2F;jqlang&#x2F;jq&#x2F;pull&#x2F;2646">https:&#x2F;&#x2F;github.com&#x2F;jqlang&#x2F;jq&#x2F;pull&#x2F;2646</a></div><br/></div></div><div id="38467769" class="c"><input type="checkbox" id="c-38467769" checked=""/><div class="controls bullet"><span class="by">thekoma</span><span>|</span><a href="#38465712">parent</a><span>|</span><a href="#38465783">prev</a><span>|</span><a href="#38470529">next</a><span>|</span><label class="collapse" for="c-38467769">[-]</label><label class="expand" for="c-38467769">[2 more]</label></div><br/><div class="children"><div class="content">Why was it halted?</div><br/><div id="38470296" class="c"><input type="checkbox" id="c-38470296" checked=""/><div class="controls bullet"><span class="by">slaymaker1907</span><span>|</span><a href="#38465712">root</a><span>|</span><a href="#38467769">parent</a><span>|</span><a href="#38470529">next</a><span>|</span><label class="collapse" for="c-38470296">[-]</label><label class="expand" for="c-38470296">[1 more]</label></div><br/><div class="children"><div class="content">I think the original devs just got burnt out for a while <a href="https:&#x2F;&#x2F;github.com&#x2F;jqlang&#x2F;jq&#x2F;issues&#x2F;2305#issuecomment-1572634869">https:&#x2F;&#x2F;github.com&#x2F;jqlang&#x2F;jq&#x2F;issues&#x2F;2305#issuecomment-157263...</a></div><br/></div></div></div></div></div></div><div id="38470529" class="c"><input type="checkbox" id="c-38470529" checked=""/><div class="controls bullet"><span class="by">Osiris</span><span>|</span><a href="#38465712">prev</a><span>|</span><a href="#38463612">next</a><span>|</span><label class="collapse" for="c-38470529">[-]</label><label class="expand" for="c-38470529">[4 more]</label></div><br/><div class="children"><div class="content">I love the idea of jq but i use it infrequently enough that I have to search the manual for how to use their syntax to get what I want.<p>Sadly 99% of what I do with jq is “| jq .”</div><br/><div id="38471265" class="c"><input type="checkbox" id="c-38471265" checked=""/><div class="controls bullet"><span class="by">mmorearty</span><span>|</span><a href="#38470529">parent</a><span>|</span><a href="#38470686">next</a><span>|</span><label class="collapse" for="c-38471265">[-]</label><label class="expand" for="c-38471265">[1 more]</label></div><br/><div class="children"><div class="content">Me too; but recently I used ChatGPT to just quickly me the jq syntax I needed: <a href="https:&#x2F;&#x2F;chat.openai.com&#x2F;share&#x2F;40b68d73-d2dd-412d-867f-9f375ecf91ff" rel="nofollow noreferrer">https:&#x2F;&#x2F;chat.openai.com&#x2F;share&#x2F;40b68d73-d2dd-412d-867f-9f375e...</a></div><br/></div></div><div id="38470686" class="c"><input type="checkbox" id="c-38470686" checked=""/><div class="controls bullet"><span class="by">dse1982</span><span>|</span><a href="#38470529">parent</a><span>|</span><a href="#38471265">prev</a><span>|</span><a href="#38470681">next</a><span>|</span><label class="collapse" for="c-38470686">[-]</label><label class="expand" for="c-38470686">[1 more]</label></div><br/><div class="children"><div class="content">I had the same problem, keeping me from really exploiting the power of jq. But for this and similar cases I am really glad about copilot being available to help. I just tell it what I need, together with a reduced sample of the source-json, and it generates a correct jq-script for me. For more complex requirements I usually iterate a bit with Copilot because it is easier and more reliable to guide it to the solution gradually than to word everything out correctly in the question in the first go. Also I myself often get new and better ideas during the iterations than I had in the beginning. Probably works the same with ChatGPT and others.</div><br/></div></div><div id="38470681" class="c"><input type="checkbox" id="c-38470681" checked=""/><div class="controls bullet"><span class="by">ruuda</span><span>|</span><a href="#38470529">parent</a><span>|</span><a href="#38470686">prev</a><span>|</span><a href="#38463612">next</a><span>|</span><label class="collapse" for="c-38470681">[-]</label><label class="expand" for="c-38470681">[1 more]</label></div><br/><div class="children"><div class="content">I have the same problem. Then, unrelated, I started building a configuration language, and it turned out it&#x27;s quite nice for querying json [1]. Here is an example use case that I couldn&#x27;t solve in jq but I could in RCL: <a href="https:&#x2F;&#x2F;fosstodon.org&#x2F;@ruuda&#x2F;111120049523534027" rel="nofollow noreferrer">https:&#x2F;&#x2F;fosstodon.org&#x2F;@ruuda&#x2F;111120049523534027</a><p>[1]: <a href="https:&#x2F;&#x2F;docs.ruuda.nl&#x2F;rcl&#x2F;rcl_query&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.ruuda.nl&#x2F;rcl&#x2F;rcl_query&#x2F;</a></div><br/></div></div></div></div><div id="38463612" class="c"><input type="checkbox" id="c-38463612" checked=""/><div class="controls bullet"><span class="by">gigatexal</span><span>|</span><a href="#38470529">prev</a><span>|</span><a href="#38465500">next</a><span>|</span><label class="collapse" for="c-38463612">[-]</label><label class="expand" for="c-38463612">[37 more]</label></div><br/><div class="children"><div class="content">It&#x27;s so awesome when projects shout out other projects that they&#x27;re similar to or inspired by or not replacements for. I learned about <a href="https:&#x2F;&#x2F;github.com&#x2F;yamafaktory&#x2F;jql">https:&#x2F;&#x2F;github.com&#x2F;yamafaktory&#x2F;jql</a> from the readme of this project and it&#x27;s what I&#x27;ve been looking for for a long time, thank you!<p>That&#x27;s not to take away from JAQ by any means I just find the JQ style syntax uber hard to grokk so jql makes more sense for me.</div><br/><div id="38465580" class="c"><input type="checkbox" id="c-38465580" checked=""/><div class="controls bullet"><span class="by">Valodim</span><span>|</span><a href="#38463612">parent</a><span>|</span><a href="#38464602">next</a><span>|</span><label class="collapse" for="c-38465580">[-]</label><label class="expand" for="c-38465580">[3 more]</label></div><br/><div class="children"><div class="content">Very nice in this regard is gron, too. It simply flattens any json into lines of key value format, making it compatible with grep and other simple stream operations.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;tomnomnom&#x2F;gron">https:&#x2F;&#x2F;github.com&#x2F;tomnomnom&#x2F;gron</a></div><br/><div id="38468431" class="c"><input type="checkbox" id="c-38468431" checked=""/><div class="controls bullet"><span class="by">lkuty</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465580">parent</a><span>|</span><a href="#38466523">next</a><span>|</span><label class="collapse" for="c-38468431">[-]</label><label class="expand" for="c-38468431">[1 more]</label></div><br/><div class="children"><div class="content">And also <a href="https:&#x2F;&#x2F;github.com&#x2F;adamritter&#x2F;fastgron">https:&#x2F;&#x2F;github.com&#x2F;adamritter&#x2F;fastgron</a> that I&#x27;ve just discovered.</div><br/></div></div><div id="38466523" class="c"><input type="checkbox" id="c-38466523" checked=""/><div class="controls bullet"><span class="by">mstade</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465580">parent</a><span>|</span><a href="#38468431">prev</a><span>|</span><a href="#38464602">next</a><span>|</span><label class="collapse" for="c-38466523">[-]</label><label class="expand" for="c-38466523">[1 more]</label></div><br/><div class="children"><div class="content">This is brilliant, thank you for sharing!</div><br/></div></div></div></div><div id="38464602" class="c"><input type="checkbox" id="c-38464602" checked=""/><div class="controls bullet"><span class="by">jjeaff</span><span>|</span><a href="#38463612">parent</a><span>|</span><a href="#38465580">prev</a><span>|</span><a href="#38464604">next</a><span>|</span><label class="collapse" for="c-38464602">[-]</label><label class="expand" for="c-38464602">[28 more]</label></div><br/><div class="children"><div class="content">Nice find. I think I&#x27;ll try it out. Although I was hoping for a real SQL type experience. I don&#x27;t understand why no one just copies SQL so I can write a query like &quot;SELECT * FROM $json WHERE x&gt;1&quot;.<p>Everyone seems to want to invent their own new esoteric symbolic query language as if everything they do is a game of code golf. I really wish everyone would move away from this old Unix mentality of extremely concise, yet not-self-evident syntax and do more like the power shell way.</div><br/><div id="38465928" class="c"><input type="checkbox" id="c-38465928" checked=""/><div class="controls bullet"><span class="by">pgeorgi</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38464602">parent</a><span>|</span><a href="#38464743">next</a><span>|</span><label class="collapse" for="c-38465928">[-]</label><label class="expand" for="c-38465928">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Although I was hoping for a real SQL type experience. I don&#x27;t understand why no one just copies SQL so I can write a query like &quot;SELECT * FROM $json WHERE x&gt;1&quot;.<p>With somewhat tabular data, you can use sqlite to read the data into tables and then work from there.<p>Example 10 from <a href="https:&#x2F;&#x2F;opensource.adobe.com&#x2F;Spry&#x2F;samples&#x2F;data_region&#x2F;JSONDataSetSample.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;opensource.adobe.com&#x2F;Spry&#x2F;samples&#x2F;data_region&#x2F;JSONDa...</a> (slightly fixed by removing the ellipsis) results in this interaction:<p><pre><code>    sqlite&gt; select json_extract(value, &#x27;$.id&#x27;), json_extract(value, &#x27;$.type&#x27;) from json_each(readfile(&#x27;test.json&#x27;), &#x27;$.items.item[0].batters.batter&#x27;);
    1001|Regular
    1002|Chocolate
    1003|Blueberry
    1004|Devil&#x27;s Food

    sqlite&gt; select json_extract(value, &#x27;$.id&#x27;), json_extract(value, &#x27;$.type&#x27;) from json_each(readfile(&#x27;test.json&#x27;), &#x27;$.items.item[0].topping&#x27;);
    5001|None
    5002|Glazed
    5005|Sugar
    5007|Powdered Sugar
    5006|Chocolate with Sprinkles
    5003|Chocolate
    5004|Maple
</code></pre>
Instead of &quot;select&quot; this could also flow into freshly created tables using &quot;insert into&quot; for more complex scenarios.</div><br/></div></div><div id="38464743" class="c"><input type="checkbox" id="c-38464743" checked=""/><div class="controls bullet"><span class="by">soulbadguy</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38464602">parent</a><span>|</span><a href="#38465928">prev</a><span>|</span><a href="#38470123">next</a><span>|</span><label class="collapse" for="c-38464743">[-]</label><label class="expand" for="c-38464743">[5 more]</label></div><br/><div class="children"><div class="content">While i agree about the general sentiment on preferring well defined and explicit standard as opposed to &quot;cute&quot; custom made languages. In this case i am not convince that SQL would be the best candidate for querying nested structures like JSON.Something like xpath maybe.</div><br/><div id="38464854" class="c"><input type="checkbox" id="c-38464854" checked=""/><div class="controls bullet"><span class="by">jjeaff</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38464743">parent</a><span>|</span><a href="#38469357">next</a><span>|</span><label class="collapse" for="c-38464854">[-]</label><label class="expand" for="c-38464854">[2 more]</label></div><br/><div class="children"><div class="content">I agree, it wouldn&#x27;t be the best to handle all json edge cases, but it would be a super easy way to quickly get data from a big chunk of simple json and you could just use subqueries or query chaining for nested results.<p>For anyone who hasn&#x27;t used powershell, this is the difference I&#x27;m talking about. I would not be able to write either of these without looking up the syntax. But knowing very little about powershell, I can tell exactly what that command means while the bash command, not so much.<p>```powershell
$json | ConvertFrom-Json | Select-Object -ExpandProperty x
```<p>```bash
echo $json | jq &#x27;.x&#x27;
```</div><br/><div id="38470518" class="c"><input type="checkbox" id="c-38470518" checked=""/><div class="controls bullet"><span class="by">deredede</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38464854">parent</a><span>|</span><a href="#38469357">next</a><span>|</span><label class="collapse" for="c-38470518">[-]</label><label class="expand" for="c-38470518">[1 more]</label></div><br/><div class="children"><div class="content">On the other hand, I find the bash one clear and concise. That PowerShell example is so verbose, it&#x27;d drive me crazy to do any sort of complex manipulation this way! To each their own, I guess.</div><br/></div></div></div></div><div id="38469357" class="c"><input type="checkbox" id="c-38469357" checked=""/><div class="controls bullet"><span class="by">tubthumper8</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38464743">parent</a><span>|</span><a href="#38464854">prev</a><span>|</span><a href="#38465655">next</a><span>|</span><label class="collapse" for="c-38469357">[-]</label><label class="expand" for="c-38469357">[1 more]</label></div><br/><div class="children"><div class="content">JSONPath?<p><a href="https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;id&#x2F;draft-goessner-dispatch-jsonpath-00.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;doc&#x2F;id&#x2F;draft-goessner-dispatch-...</a></div><br/></div></div></div></div><div id="38470123" class="c"><input type="checkbox" id="c-38470123" checked=""/><div class="controls bullet"><span class="by">chthonicdaemon</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38464602">parent</a><span>|</span><a href="#38464743">prev</a><span>|</span><a href="#38465014">next</a><span>|</span><label class="collapse" for="c-38470123">[-]</label><label class="expand" for="c-38470123">[1 more]</label></div><br/><div class="children"><div class="content">Have you looked at [duckdb&#x27;s JSON support](<a href="https:&#x2F;&#x2F;duckdb.org&#x2F;docs&#x2F;extensions&#x2F;json.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;duckdb.org&#x2F;docs&#x2F;extensions&#x2F;json.html</a>)? It&#x27;s pretty transparent and you can do exactly what you say: `select * from &#x27;file.json&#x27; where x &gt; 1` will work with &quot;simple&quot; json files like {&quot;x&quot;: 1, &quot;y&quot;: 2} and [{&quot;x&quot;: 1, &quot;y&quot;:2}, {&quot;x&quot;:2, &quot;y&quot;:3}]</div><br/></div></div><div id="38465014" class="c"><input type="checkbox" id="c-38465014" checked=""/><div class="controls bullet"><span class="by">filmor</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38464602">parent</a><span>|</span><a href="#38470123">prev</a><span>|</span><a href="#38465683">next</a><span>|</span><label class="collapse" for="c-38465014">[-]</label><label class="expand" for="c-38465014">[3 more]</label></div><br/><div class="children"><div class="content">SQL is built for relational&#x2F;tabular data, JSON is not relational and usually not tabular.</div><br/><div id="38465307" class="c"><input type="checkbox" id="c-38465307" checked=""/><div class="controls bullet"><span class="by">im3w1l</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465014">parent</a><span>|</span><a href="#38465683">next</a><span>|</span><label class="collapse" for="c-38465307">[-]</label><label class="expand" for="c-38465307">[2 more]</label></div><br/><div class="children"><div class="content">Well there is nothing saying you can&#x27;t put relational data in json format.</div><br/><div id="38465557" class="c"><input type="checkbox" id="c-38465557" checked=""/><div class="controls bullet"><span class="by">stevage</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465307">parent</a><span>|</span><a href="#38465683">next</a><span>|</span><label class="collapse" for="c-38465557">[-]</label><label class="expand" for="c-38465557">[1 more]</label></div><br/><div class="children"><div class="content">But that wouldn&#x27;t help query arbitrary JSON files which was the point.</div><br/></div></div></div></div></div></div><div id="38465683" class="c"><input type="checkbox" id="c-38465683" checked=""/><div class="controls bullet"><span class="by">bobobar339</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38464602">parent</a><span>|</span><a href="#38465014">prev</a><span>|</span><a href="#38465397">next</a><span>|</span><label class="collapse" for="c-38465683">[-]</label><label class="expand" for="c-38465683">[1 more]</label></div><br/><div class="children"><div class="content">DuckDB does just this, <a href="https:&#x2F;&#x2F;duckdb.org&#x2F;docs&#x2F;archive&#x2F;0.9.2&#x2F;guides&#x2F;import&#x2F;json_import" rel="nofollow noreferrer">https:&#x2F;&#x2F;duckdb.org&#x2F;docs&#x2F;archive&#x2F;0.9.2&#x2F;guides&#x2F;import&#x2F;json_imp...</a></div><br/></div></div><div id="38465397" class="c"><input type="checkbox" id="c-38465397" checked=""/><div class="controls bullet"><span class="by">pdntspa</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38464602">parent</a><span>|</span><a href="#38465683">prev</a><span>|</span><a href="#38468051">next</a><span>|</span><label class="collapse" for="c-38465397">[-]</label><label class="expand" for="c-38465397">[13 more]</label></div><br/><div class="children"><div class="content">Be the change you want to see.<p>I personally don&#x27;t understand why people aren&#x27;t willing to learn instead. It&#x27;s not hard to sit down and pick up a new skill and it&#x27;s good to step out of one&#x27;s comfort zone. I personally hate Powershell syntax, brevity is the soul of wit and PS could learn a thing or two from bash and &quot;the linux way&quot;.<p>We seem obsessed with molding the machine to our individual preferences. Perhaps we should obsess over the opposite: molding our mind to think more like the machine. This keeps a lot of things simple, uncomplicated, and flexible.<p>Does a painter wish for paints that were more like how he wanted them to be? Sure, but at the end of the day he buys the same paint everyone else does and learns to work with his medium.</div><br/><div id="38465888" class="c"><input type="checkbox" id="c-38465888" checked=""/><div class="controls bullet"><span class="by">pdimitar</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465397">parent</a><span>|</span><a href="#38466002">next</a><span>|</span><label class="collapse" for="c-38465888">[-]</label><label class="expand" for="c-38465888">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>I personally don&#x27;t understand why people aren&#x27;t willing to learn instead</i><p>You misunderstand. As programmers we learn every day, obviously that&#x27;s one of our strong points.<p>The real problem is that every single tool wants you to go deep and learn their particular dyslexic mini programming language syntax or advanced configuration options syntax. Why? We have TOML, we have SQL, we have a bunch of pretty proven syntaxes and languages that do the job very well.<p>A lot of these programmers authoring tools suffer from a severe protagonist syndrome which OK, it&#x27;s their own personal character development to grapple with, but in the meantime us the working programmers are burning out because everyone and their dog wants us to learn their own brain child.</div><br/></div></div><div id="38466002" class="c"><input type="checkbox" id="c-38466002" checked=""/><div class="controls bullet"><span class="by">imiric</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465397">parent</a><span>|</span><a href="#38465888">prev</a><span>|</span><a href="#38465543">next</a><span>|</span><label class="collapse" for="c-38466002">[-]</label><label class="expand" for="c-38466002">[1 more]</label></div><br/><div class="children"><div class="content">&gt; We seem obsessed with molding the machine to our individual preferences. Perhaps we should obsess over the opposite: molding our mind to think more like the machine.<p>How so? Everything in &quot;the machine&quot; was created by other humans; from the latest CLI tool, to the CPU instruction set. As computer users, given that it&#x27;s practically impossible for a single person to be familiar with all technologies, we must pick our battles and decide which technology to learn. Some of it is outdated, frustrating to use, poorly documented or maintained, and is just a waste of time and effort to learn.<p>Furthermore, as IT workers, it is part of our job to choose technologies worth our and our companies&#x27; time, and our literal livelihood depends on honing this skill.<p>So, yes, learning new tools is great, but there&#x27;s only so much time in a day, and I&#x27;d rather spend it on things that matter. Even better, if no tool does what I want it to, I have the power to create a new one that does, and increase my development skills in the process.</div><br/></div></div><div id="38465543" class="c"><input type="checkbox" id="c-38465543" checked=""/><div class="controls bullet"><span class="by">stevage</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465397">parent</a><span>|</span><a href="#38466002">prev</a><span>|</span><a href="#38469294">next</a><span>|</span><label class="collapse" for="c-38465543">[-]</label><label class="expand" for="c-38465543">[4 more]</label></div><br/><div class="children"><div class="content">In my case, my memory doesn&#x27;t work that way. I have learnt jq several times but I don&#x27;t use it frequently enough to retain the knowledge.<p>A better tool for me would be something that uses JS syntax but with some syntactic sugar and a great man page.</div><br/><div id="38470750" class="c"><input type="checkbox" id="c-38470750" checked=""/><div class="controls bullet"><span class="by">ruuda</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465543">parent</a><span>|</span><a href="#38468071">next</a><span>|</span><label class="collapse" for="c-38470750">[-]</label><label class="expand" for="c-38470750">[1 more]</label></div><br/><div class="children"><div class="content">I have that same problem, the advanced features I use too little to remember. Then I started working on a configuration language that should have a non-surprising syntax (json superset, mostly inspired by Python, Rust, Nix). And it turns out, this works well as a query language for querying json documents. <a href="https:&#x2F;&#x2F;github.com&#x2F;ruuda&#x2F;rcl">https:&#x2F;&#x2F;github.com&#x2F;ruuda&#x2F;rcl</a> Here is an example use case: <a href="https:&#x2F;&#x2F;fosstodon.org&#x2F;@ruuda&#x2F;111120049523534027" rel="nofollow noreferrer">https:&#x2F;&#x2F;fosstodon.org&#x2F;@ruuda&#x2F;111120049523534027</a></div><br/></div></div><div id="38468071" class="c"><input type="checkbox" id="c-38468071" checked=""/><div class="controls bullet"><span class="by">throwaway2037</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465543">parent</a><span>|</span><a href="#38470750">prev</a><span>|</span><a href="#38469294">next</a><span>|</span><label class="collapse" for="c-38468071">[-]</label><label class="expand" for="c-38468071">[2 more]</label></div><br/><div class="children"><div class="content">What is &quot;JS syntax&quot;?  And can you write a frontend for jq that converts &quot;JS syntax&quot; to jq syntax?<p>And is the jq man page poor?  I&#x27;m sure they will accept patches for it.</div><br/><div id="38469665" class="c"><input type="checkbox" id="c-38469665" checked=""/><div class="controls bullet"><span class="by">andelink</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38468071">parent</a><span>|</span><a href="#38469294">next</a><span>|</span><label class="collapse" for="c-38469665">[-]</label><label class="expand" for="c-38469665">[1 more]</label></div><br/><div class="children"><div class="content">The jq man page is pretty good IMO. It’s where&#x2F;how I learned to use jq</div><br/></div></div></div></div></div></div><div id="38469294" class="c"><input type="checkbox" id="c-38469294" checked=""/><div class="controls bullet"><span class="by">smabie</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465397">parent</a><span>|</span><a href="#38465543">prev</a><span>|</span><a href="#38465764">next</a><span>|</span><label class="collapse" for="c-38469294">[-]</label><label class="expand" for="c-38469294">[1 more]</label></div><br/><div class="children"><div class="content">The machine is uncomplicated and simple? That is the last way I would describe modern CPUs and their peripherals.<p>The whole point of programming is to bend the machine towards humans, not the other way around.</div><br/></div></div><div id="38465764" class="c"><input type="checkbox" id="c-38465764" checked=""/><div class="controls bullet"><span class="by">Grimburger</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465397">parent</a><span>|</span><a href="#38469294">prev</a><span>|</span><a href="#38465476">next</a><span>|</span><label class="collapse" for="c-38465764">[-]</label><label class="expand" for="c-38465764">[1 more]</label></div><br/><div class="children"><div class="content">&gt;I personally don&#x27;t understand why people aren&#x27;t willing to learn instead.<p>Mostly because if you don&#x27;t use it that often then it ends up forgotten again. I can smash out plenty of trivial regexes, but anything even slightly complicated means I&#x27;m learning backreferences again for the 6th time in a decade.</div><br/></div></div><div id="38465476" class="c"><input type="checkbox" id="c-38465476" checked=""/><div class="controls bullet"><span class="by">unsui</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465397">parent</a><span>|</span><a href="#38465764">prev</a><span>|</span><a href="#38466840">next</a><span>|</span><label class="collapse" for="c-38465476">[-]</label><label class="expand" for="c-38465476">[2 more]</label></div><br/><div class="children"><div class="content">While I appreciate the sentiment for bending your mind, rather than the spoon, the practical reality is that developer time is far costlier than compute time.<p>It is easier to map compute structures and syntax to existing mental models than to formulate new mental models.  The latter is effortful and time-consuming.<p>So, given the tradeoffs, I could learn a new language, or leverage an existing language to get things done.<p>And yes, given sufficient resources (particularly time), developing new mental models is ideal, but reality often prohibits the ideal.</div><br/><div id="38465829" class="c"><input type="checkbox" id="c-38465829" checked=""/><div class="controls bullet"><span class="by">3np</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465476">parent</a><span>|</span><a href="#38466840">next</a><span>|</span><label class="collapse" for="c-38465829">[-]</label><label class="expand" for="c-38465829">[1 more]</label></div><br/><div class="children"><div class="content">If the crux is that you want something that maps closer to your personal mental model than what&#x27;s available, I guess the other option is to build the missing tool yourself. That&#x27;s the other side of &quot;be the change you want to see&quot;.<p>&gt; So, given the tradeoffs, I could learn a new language, or leverage an existing language to get things done.<p>There is also the option to create a new language (jqsql or whatnot), optionally sharing it publically.<p>If you do this I think you&#x27;d find out why beyond very trivial stuff, sibling commenters have a point in that SQL isn&#x27;t a good fit for nested data like JSON. Would still be a useful exercise!</div><br/></div></div></div></div><div id="38466840" class="c"><input type="checkbox" id="c-38466840" checked=""/><div class="controls bullet"><span class="by">cjaybo</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465397">parent</a><span>|</span><a href="#38465476">prev</a><span>|</span><a href="#38466085">next</a><span>|</span><label class="collapse" for="c-38466840">[-]</label><label class="expand" for="c-38466840">[1 more]</label></div><br/><div class="children"><div class="content">“Brevity is the soul of wit”<p>Maybe we have different goals but I don’t get paid to write witty code and I don’t think anyone on my team would appreciate it if I did.<p>I don’t think the redeeming qualities of brevity in prose transfer to something like terse syntax.</div><br/></div></div><div id="38466085" class="c"><input type="checkbox" id="c-38466085" checked=""/><div class="controls bullet"><span class="by">vips7L</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38465397">parent</a><span>|</span><a href="#38466840">prev</a><span>|</span><a href="#38468051">next</a><span>|</span><label class="collapse" for="c-38466085">[-]</label><label class="expand" for="c-38466085">[1 more]</label></div><br/><div class="children"><div class="content">brevity is not clarity.</div><br/></div></div></div></div><div id="38468051" class="c"><input type="checkbox" id="c-38468051" checked=""/><div class="controls bullet"><span class="by">throwaway2037</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38464602">parent</a><span>|</span><a href="#38465397">prev</a><span>|</span><a href="#38465470">next</a><span>|</span><label class="collapse" for="c-38468051">[-]</label><label class="expand" for="c-38468051">[1 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>    do more like the power shell way
</code></pre>
I just checked the GitHub page [1] for Microsoft PowerShell.  It looks written in C# and available on Win32&#x2F;MacOS&#x2F;Linux, where DotNet is now supported.  Do you use PowerShell only on Win32 or other platforms also?<p><pre><code>    Everyone seems to want to invent their own new esoteric symbolic query language
</code></pre>
Can you give an example of something that PS can do that is built-in for text processing, instead of a proprietary symbolic query language?<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;PowerShell&#x2F;PowerShell">https:&#x2F;&#x2F;github.com&#x2F;PowerShell&#x2F;PowerShell</a></div><br/></div></div><div id="38465470" class="c"><input type="checkbox" id="c-38465470" checked=""/><div class="controls bullet"><span class="by">screature2</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38464602">parent</a><span>|</span><a href="#38468051">prev</a><span>|</span><a href="#38464961">next</a><span>|</span><label class="collapse" for="c-38465470">[-]</label><label class="expand" for="c-38465470">[1 more]</label></div><br/><div class="children"><div class="content">I think the closest I&#x27;ve seen to a SQL experience for JSON is how steampipe stores json columns as jsonb datatypes and allows you to query those columns w&#x2F;postgres JSON functions etc.<p>- <a href="https:&#x2F;&#x2F;steampipe.io&#x2F;docs&#x2F;sql&#x2F;querying-json#querying-json" rel="nofollow noreferrer">https:&#x2F;&#x2F;steampipe.io&#x2F;docs&#x2F;sql&#x2F;querying-json#querying-json</a> #example w&#x2F;the AWS steampipe plugin (I think this is a wrapper around the AWS go SDK)<p>- <a href="https:&#x2F;&#x2F;hub.steampipe.io&#x2F;plugins&#x2F;turbot&#x2F;config" rel="nofollow noreferrer">https:&#x2F;&#x2F;hub.steampipe.io&#x2F;plugins&#x2F;turbot&#x2F;config</a> #I think this lets you query random json files.<p>(edited to try to fix the bulleting)</div><br/></div></div><div id="38464961" class="c"><input type="checkbox" id="c-38464961" checked=""/><div class="controls bullet"><span class="by">justinsaccount</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38464602">parent</a><span>|</span><a href="#38465470">prev</a><span>|</span><a href="#38464604">next</a><span>|</span><label class="collapse" for="c-38464961">[-]</label><label class="expand" for="c-38464961">[1 more]</label></div><br/><div class="children"><div class="content">The datafusion cli <a href="https:&#x2F;&#x2F;arrow.apache.org&#x2F;datafusion&#x2F;user-guide&#x2F;cli.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;arrow.apache.org&#x2F;datafusion&#x2F;user-guide&#x2F;cli.html</a> can run SQL queries against existing json files.</div><br/></div></div></div></div><div id="38464604" class="c"><input type="checkbox" id="c-38464604" checked=""/><div class="controls bullet"><span class="by">PhilippGille</span><span>|</span><a href="#38463612">parent</a><span>|</span><a href="#38464602">prev</a><span>|</span><a href="#38465723">next</a><span>|</span><label class="collapse" for="c-38464604">[-]</label><label class="expand" for="c-38464604">[2 more]</label></div><br/><div class="children"><div class="content">I can also recommend checking <a href="https:&#x2F;&#x2F;github.com&#x2F;tidwall&#x2F;jj">https:&#x2F;&#x2F;github.com&#x2F;tidwall&#x2F;jj</a></div><br/><div id="38465612" class="c"><input type="checkbox" id="c-38465612" checked=""/><div class="controls bullet"><span class="by">stevage</span><span>|</span><a href="#38463612">root</a><span>|</span><a href="#38464604">parent</a><span>|</span><a href="#38465723">next</a><span>|</span><label class="collapse" for="c-38465612">[-]</label><label class="expand" for="c-38465612">[1 more]</label></div><br/><div class="children"><div class="content">That looks excellent, thank you!</div><br/></div></div></div></div><div id="38465723" class="c"><input type="checkbox" id="c-38465723" checked=""/><div class="controls bullet"><span class="by">OJFord</span><span>|</span><a href="#38463612">parent</a><span>|</span><a href="#38464604">prev</a><span>|</span><a href="#38470294">next</a><span>|</span><label class="collapse" for="c-38465723">[-]</label><label class="expand" for="c-38465723">[1 more]</label></div><br/><div class="children"><div class="content">I do sympathise with that a bit, but for me at least it does not look like jql is the solution:<p><pre><code>    &#x27;|={&quot;b&quot;&quot;d&quot;=2, &quot;c&quot;}&#x27;
</code></pre>
this appears to be something like jq&#x27;s:<p><pre><code>    &#x27;select(.&quot;b&quot;.&quot;d&quot; == 2 or .&quot;c&quot; != null)&#x27;
</code></pre>
which.. is obviously longer, but I think I prefer it, it&#x27;s clearer?<p>(actually it would be `.[] | select(...)`, but I&#x27;m not sure something like that isn&#x27;t true of jql too without trying it, I don&#x27;t know if the example&#x27;s intended to be complete - and I don&#x27;t think it affects my verdict)</div><br/></div></div><div id="38470294" class="c"><input type="checkbox" id="c-38470294" checked=""/><div class="controls bullet"><span class="by">antonvs</span><span>|</span><a href="#38463612">parent</a><span>|</span><a href="#38465723">prev</a><span>|</span><a href="#38466822">next</a><span>|</span><label class="collapse" for="c-38470294">[-]</label><label class="expand" for="c-38470294">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I just find the JQ style syntax uber hard to grokk<p>You&#x27;re not alone. ChatGPT (3.5) is terrible at it also, for anything non-trivial.<p>I&#x27;m not sure if that&#x27;s because of the nature of the jq syntax, but I do wonder.</div><br/></div></div><div id="38466822" class="c"><input type="checkbox" id="c-38466822" checked=""/><div class="controls bullet"><span class="by">klausnrooster</span><span>|</span><a href="#38463612">parent</a><span>|</span><a href="#38470294">prev</a><span>|</span><a href="#38465500">next</a><span>|</span><label class="collapse" for="c-38466822">[-]</label><label class="expand" for="c-38466822">[1 more]</label></div><br/><div class="children"><div class="content">jql homoiconicity looks rather ... Lispy. Like you could use it on itself, write &quot;Macros&quot;, etc.</div><br/></div></div></div></div><div id="38465500" class="c"><input type="checkbox" id="c-38465500" checked=""/><div class="controls bullet"><span class="by">WhereIsTheTruth</span><span>|</span><a href="#38463612">prev</a><span>|</span><a href="#38470957">next</a><span>|</span><label class="collapse" for="c-38465500">[-]</label><label class="expand" for="c-38465500">[3 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;01mf02&#x2F;jaq&#x2F;blob&#x2F;main&#x2F;Cargo.lock">https:&#x2F;&#x2F;github.com&#x2F;01mf02&#x2F;jaq&#x2F;blob&#x2F;main&#x2F;Cargo.lock</a><p>That&#x27;s a lot of dependencies..</div><br/><div id="38470592" class="c"><input type="checkbox" id="c-38470592" checked=""/><div class="controls bullet"><span class="by">sgt</span><span>|</span><a href="#38465500">parent</a><span>|</span><a href="#38470001">next</a><span>|</span><label class="collapse" for="c-38470592">[-]</label><label class="expand" for="c-38470592">[1 more]</label></div><br/><div class="children"><div class="content">How does that usually play out in the Rust ecosystem? Lots of dependencies tell me there&#x27;s a huge risk of the dependencies becoming inherently incompatible with each other over time, making maintenance a major task. How will this compile in say, 2 years?</div><br/></div></div><div id="38470001" class="c"><input type="checkbox" id="c-38470001" checked=""/><div class="controls bullet"><span class="by">mozey</span><span>|</span><a href="#38465500">parent</a><span>|</span><a href="#38470592">prev</a><span>|</span><a href="#38470957">next</a><span>|</span><label class="collapse" for="c-38470001">[-]</label><label class="expand" for="c-38470001">[1 more]</label></div><br/><div class="children"><div class="content">Yes it is, compared to gojq
<a href="https:&#x2F;&#x2F;github.com&#x2F;itchyny&#x2F;gojq&#x2F;blob&#x2F;main&#x2F;go.mod">https:&#x2F;&#x2F;github.com&#x2F;itchyny&#x2F;gojq&#x2F;blob&#x2F;main&#x2F;go.mod</a></div><br/></div></div></div></div><div id="38470957" class="c"><input type="checkbox" id="c-38470957" checked=""/><div class="controls bullet"><span class="by">bilekas</span><span>|</span><a href="#38465500">prev</a><span>|</span><a href="#38464411">next</a><span>|</span><label class="collapse" for="c-38470957">[-]</label><label class="expand" for="c-38470957">[2 more]</label></div><br/><div class="children"><div class="content">&gt; nan &gt; nan is false, while nan &lt; nan is true.<p>You learn something new everyday. Does anyone have any idea why this might be happening? Seems like more than just a bug..</div><br/></div></div><div id="38464411" class="c"><input type="checkbox" id="c-38464411" checked=""/><div class="controls bullet"><span class="by">lopatin</span><span>|</span><a href="#38470957">prev</a><span>|</span><a href="#38462434">next</a><span>|</span><label class="collapse" for="c-38464411">[-]</label><label class="expand" for="c-38464411">[10 more]</label></div><br/><div class="children"><div class="content">Regarding correctness, will it display uint64 numbers without truncating them? That&#x27;s my biggest pet peeve with jq currently.</div><br/><div id="38464480" class="c"><input type="checkbox" id="c-38464480" checked=""/><div class="controls bullet"><span class="by">necubi</span><span>|</span><a href="#38464411">parent</a><span>|</span><a href="#38465115">next</a><span>|</span><label class="collapse" for="c-38464480">[-]</label><label class="expand" for="c-38464480">[5 more]</label></div><br/><div class="children"><div class="content">Unfortunately JSON numbers are 64 bit floats, so if you&#x27;re standards compliant you have to treat them as such, which gives you 53 bits of precision for integers.<p>Also hey, been a while ;)<p>Edit: I stand corrected, the latest spec (rfc8259) only formally specifies the textual format, but not the semantics of numbers.<p>However, it does have this to say:<p>&gt; This specification allows implementations to set limits on the range&#x2F;and precision of numbers accepted.  Since software that implements IEEE 754 binary64 (double precision) numbers [IEEE754] is generally available and widely used, good interoperability can be achieved by implementations that expect no more precision or range than these provide, in the sense that implementations will approximate JSON numbers within the expected precision.<p>In practice, most implementations treat JSON as a subset of Javascript, which implies that numbers are 64-bit floats.</div><br/><div id="38464617" class="c"><input type="checkbox" id="c-38464617" checked=""/><div class="controls bullet"><span class="by">matt_kantor</span><span>|</span><a href="#38464411">root</a><span>|</span><a href="#38464480">parent</a><span>|</span><a href="#38464646">next</a><span>|</span><label class="collapse" for="c-38464617">[-]</label><label class="expand" for="c-38464617">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m being pedantic here, but JSON numbers are sequences of digits and .&#x2F;+&#x2F;-&#x2F;e&#x2F;E. Whether to parse those sequences into 64-bit floats or something else is left up to the implementation.<p>However what you say is good practice anyway. The spec (RFC 8259) has this note on interoperability:<p>&gt; This specification allows implementations to set limits on the range and precision of numbers accepted.  Since software that implements IEEE 754 binary64 (double precision) numbers [IEEE754] is generally available and widely used, good interoperability can be achieved by implementations that expect no more precision or range than these provide, in the sense that implementations will approximate JSON numbers within the expected precision.  A JSON number such as 1E400 or 3.141592653589793238462643383279 may indicate potential interoperability problems, since it suggests that the software that created it expects receiving software to have greater capabilities for numeric magnitude and precision than is widely available.</div><br/></div></div><div id="38464646" class="c"><input type="checkbox" id="c-38464646" checked=""/><div class="controls bullet"><span class="by">rdtsc</span><span>|</span><a href="#38464411">root</a><span>|</span><a href="#38464480">parent</a><span>|</span><a href="#38464617">prev</a><span>|</span><a href="#38464568">next</a><span>|</span><label class="collapse" for="c-38464646">[-]</label><label class="expand" for="c-38464646">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Unfortunately JSON numbers are 64 bit floats, so if you&#x27;re standards compliant you have to treat them as such,<p>Are you sure? Looking at <a href="https:&#x2F;&#x2F;www.json.org&#x2F;json-en.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.json.org&#x2F;json-en.html</a> I don&#x27;t see anything about 64 bit floats.</div><br/></div></div><div id="38464568" class="c"><input type="checkbox" id="c-38464568" checked=""/><div class="controls bullet"><span class="by">Groxx</span><span>|</span><a href="#38464411">root</a><span>|</span><a href="#38464480">parent</a><span>|</span><a href="#38464646">prev</a><span>|</span><a href="#38464670">next</a><span>|</span><label class="collapse" for="c-38464568">[-]</label><label class="expand" for="c-38464568">[1 more]</label></div><br/><div class="children"><div class="content">JSON does not define a precision for  numbers, so: it&#x27;s <i>often</i> float64 (but note -0 is allowed, but NaN and +&#x2F;-Inf are not), but it depends on your language, parser config, etc.<p>Many will produce higher precision but parse as float64 by default.  But maximally-compatible JSON systems should always handle arbitrary precision.</div><br/></div></div><div id="38464670" class="c"><input type="checkbox" id="c-38464670" checked=""/><div class="controls bullet"><span class="by">lopatin</span><span>|</span><a href="#38464411">root</a><span>|</span><a href="#38464480">parent</a><span>|</span><a href="#38464568">prev</a><span>|</span><a href="#38465115">next</a><span>|</span><label class="collapse" for="c-38464670">[-]</label><label class="expand" for="c-38464670">[1 more]</label></div><br/><div class="children"><div class="content">I thought the JSON spec says that numbers can have an arbitrary amount of digits.<p>Also, what!! Hey! Miss you man.</div><br/></div></div></div></div><div id="38465115" class="c"><input type="checkbox" id="c-38465115" checked=""/><div class="controls bullet"><span class="by">re</span><span>|</span><a href="#38464411">parent</a><span>|</span><a href="#38464480">prev</a><span>|</span><a href="#38465844">next</a><span>|</span><label class="collapse" for="c-38465115">[-]</label><label class="expand" for="c-38465115">[3 more]</label></div><br/><div class="children"><div class="content">I believe this has improved in jq 1.7: <a href="https:&#x2F;&#x2F;github.com&#x2F;jqlang&#x2F;jq&#x2F;releases&#x2F;tag&#x2F;jq-1.7">https:&#x2F;&#x2F;github.com&#x2F;jqlang&#x2F;jq&#x2F;releases&#x2F;tag&#x2F;jq-1.7</a><p>&gt; Use decimal number literals to preserve precision. Comparison operations respects precision but arithmetic operations might truncate.</div><br/><div id="38468082" class="c"><input type="checkbox" id="c-38468082" checked=""/><div class="controls bullet"><span class="by">anonymoushn</span><span>|</span><a href="#38464411">root</a><span>|</span><a href="#38465115">parent</a><span>|</span><a href="#38465844">next</a><span>|</span><label class="collapse" for="c-38468082">[-]</label><label class="expand" for="c-38468082">[2 more]</label></div><br/><div class="children"><div class="content">This is still broken in jq 1.7 for sufficiently long exponents</div><br/><div id="38468184" class="c"><input type="checkbox" id="c-38468184" checked=""/><div class="controls bullet"><span class="by">re</span><span>|</span><a href="#38464411">root</a><span>|</span><a href="#38468082">parent</a><span>|</span><a href="#38465844">next</a><span>|</span><label class="collapse" for="c-38468184">[-]</label><label class="expand" for="c-38468184">[1 more]</label></div><br/><div class="children"><div class="content">From a quick test it looks like it supports exponents up to 9 digits long (i.e. 1.0e999999999), which, frankly, seems pretty reasonable; it&#x27;s hard for me to imagine a use case where you&#x27;d want to represent numbers larger than that.</div><br/></div></div></div></div></div></div><div id="38465844" class="c"><input type="checkbox" id="c-38465844" checked=""/><div class="controls bullet"><span class="by">wwader</span><span>|</span><a href="#38464411">parent</a><span>|</span><a href="#38465115">prev</a><span>|</span><a href="#38462434">next</a><span>|</span><label class="collapse" for="c-38465844">[-]</label><label class="expand" for="c-38465844">[1 more]</label></div><br/><div class="children"><div class="content">jq 1.7 do preserve large integers but will truncate if any operation is done on them. Unfortunetly it currently truncates to a decimal64 which is a bit confusing, this will be fixed in next release where it follow the suggestion from the JSON spec and truncates to binary64 (double) <a href="https:&#x2F;&#x2F;github.com&#x2F;jqlang&#x2F;jq&#x2F;pull&#x2F;2949">https:&#x2F;&#x2F;github.com&#x2F;jqlang&#x2F;jq&#x2F;pull&#x2F;2949</a></div><br/></div></div></div></div><div id="38462434" class="c"><input type="checkbox" id="c-38462434" checked=""/><div class="controls bullet"><span class="by">mgaunard</span><span>|</span><a href="#38464411">prev</a><span>|</span><a href="#38470585">next</a><span>|</span><label class="collapse" for="c-38462434">[-]</label><label class="expand" for="c-38462434">[6 more]</label></div><br/><div class="children"><div class="content">While jq is a very powerful tool, I&#x27;ve also been using DuckDB a lot lately.<p>SQL is a much more natural language if the data is somewhat tabular.</div><br/><div id="38463479" class="c"><input type="checkbox" id="c-38463479" checked=""/><div class="controls bullet"><span class="by">suchar</span><span>|</span><a href="#38462434">parent</a><span>|</span><a href="#38464526">next</a><span>|</span><label class="collapse" for="c-38463479">[-]</label><label class="expand" for="c-38463479">[1 more]</label></div><br/><div class="children"><div class="content">Some time ago I tried Retool and it does have &quot;Query JSON with SQL&quot;: <a href="https:&#x2F;&#x2F;docs.retool.com&#x2F;queries&#x2F;guides&#x2F;sql&#x2F;query-json" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.retool.com&#x2F;queries&#x2F;guides&#x2F;sql&#x2F;query-json</a> (it is somewhat relevant because it was extremely convenient)<p>It is somewhat similar to Linq in C# although SQL there is more standardised so I like it more. Also, it would be fantastic to have in-language support for querying raw collections with SQL. Even better: to be able to transparently store collections in Sqlite.<p>It is always sad to see code which takes some data from db&#x2F;whatever and then does simple processing using loops&#x2F;stream api. SQL is much higher level and more concise language for these use cases than Java&#x2F;Kotlin&#x2F;Python&#x2F;JavaScript</div><br/></div></div><div id="38464526" class="c"><input type="checkbox" id="c-38464526" checked=""/><div class="controls bullet"><span class="by">CBLT</span><span>|</span><a href="#38462434">parent</a><span>|</span><a href="#38463479">prev</a><span>|</span><a href="#38463865">next</a><span>|</span><label class="collapse" for="c-38464526">[-]</label><label class="expand" for="c-38464526">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve found the same.  I store all raw json output into a sqlite table, create virtual columns from it, then do a shell loop off of a select.  Nested loops become unnested, and debugability is leagues better because I have the exact record in the db to examine and replay.<p>I&#x27;ve noticed what I&#x27;m creating are DAGs, and that I&#x27;m constantly restarting it from the last-successfully-proccessed record.  Is there a `Make`-like tool to represent this?  Make doesn&#x27;t have sql targets, but full-featured dag processors like Airflow are way too heavyweight to glue together shell snippets.</div><br/></div></div><div id="38463865" class="c"><input type="checkbox" id="c-38463865" checked=""/><div class="controls bullet"><span class="by">MrDrMcCoy</span><span>|</span><a href="#38462434">parent</a><span>|</span><a href="#38464526">prev</a><span>|</span><a href="#38470585">next</a><span>|</span><label class="collapse" for="c-38463865">[-]</label><label class="expand" for="c-38463865">[3 more]</label></div><br/><div class="children"><div class="content">I like textql [0] better for this use case, as it&#x27;s simpler in my mind.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;dinedal&#x2F;textql">https:&#x2F;&#x2F;github.com&#x2F;dinedal&#x2F;textql</a></div><br/><div id="38464225" class="c"><input type="checkbox" id="c-38464225" checked=""/><div class="controls bullet"><span class="by">bdcravens</span><span>|</span><a href="#38462434">root</a><span>|</span><a href="#38463865">parent</a><span>|</span><a href="#38470585">next</a><span>|</span><label class="collapse" for="c-38464225">[-]</label><label class="expand" for="c-38464225">[2 more]</label></div><br/><div class="children"><div class="content">textql doesn&#x27;t seem to work with JSON. I think the grandparent comment meant that the data was in a table of sorts, represented in JSON.</div><br/><div id="38465158" class="c"><input type="checkbox" id="c-38465158" checked=""/><div class="controls bullet"><span class="by">MrDrMcCoy</span><span>|</span><a href="#38462434">root</a><span>|</span><a href="#38464225">parent</a><span>|</span><a href="#38470585">next</a><span>|</span><label class="collapse" for="c-38465158">[-]</label><label class="expand" for="c-38465158">[1 more]</label></div><br/><div class="children"><div class="content">Ah, you&#x27;re right. TextQL combined with Miller would be closer, but DuckDB can do the same things all in one. Always good to have a variety of tools to choose from.</div><br/></div></div></div></div></div></div></div></div><div id="38470585" class="c"><input type="checkbox" id="c-38470585" checked=""/><div class="controls bullet"><span class="by">sgt</span><span>|</span><a href="#38462434">prev</a><span>|</span><a href="#38470854">next</a><span>|</span><label class="collapse" for="c-38470585">[-]</label><label class="expand" for="c-38470585">[3 more]</label></div><br/><div class="children"><div class="content">The fact that jq takes almost a second to run on a Pi is crazy[0]. And the tool is written in C.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;jqlang&#x2F;jq&#x2F;issues&#x2F;1411">https:&#x2F;&#x2F;github.com&#x2F;jqlang&#x2F;jq&#x2F;issues&#x2F;1411</a></div><br/><div id="38470655" class="c"><input type="checkbox" id="c-38470655" checked=""/><div class="controls bullet"><span class="by">eyegor</span><span>|</span><a href="#38470585">parent</a><span>|</span><a href="#38470854">next</a><span>|</span><label class="collapse" for="c-38470655">[-]</label><label class="expand" for="c-38470655">[2 more]</label></div><br/><div class="children"><div class="content">It was fixed in 2019 though? I don&#x27;t understand your point.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;jqlang&#x2F;jq&#x2F;issues&#x2F;1380">https:&#x2F;&#x2F;github.com&#x2F;jqlang&#x2F;jq&#x2F;issues&#x2F;1380</a></div><br/><div id="38471138" class="c"><input type="checkbox" id="c-38471138" checked=""/><div class="controls bullet"><span class="by">sgt</span><span>|</span><a href="#38470585">root</a><span>|</span><a href="#38470655">parent</a><span>|</span><a href="#38470854">next</a><span>|</span><label class="collapse" for="c-38471138">[-]</label><label class="expand" for="c-38471138">[1 more]</label></div><br/><div class="children"><div class="content">You are right. I stand corrected.</div><br/></div></div></div></div></div></div><div id="38470854" class="c"><input type="checkbox" id="c-38470854" checked=""/><div class="controls bullet"><span class="by">sesm</span><span>|</span><a href="#38470585">prev</a><span>|</span><a href="#38470036">next</a><span>|</span><label class="collapse" for="c-38470854">[-]</label><label class="expand" for="c-38470854">[1 more]</label></div><br/><div class="children"><div class="content">Is there a JS library that is similar to JQ but works on JS objects in memory?</div><br/></div></div><div id="38470036" class="c"><input type="checkbox" id="c-38470036" checked=""/><div class="controls bullet"><span class="by">jasonlhy</span><span>|</span><a href="#38470854">prev</a><span>|</span><a href="#38467855">next</a><span>|</span><label class="collapse" for="c-38470036">[-]</label><label class="expand" for="c-38470036">[2 more]</label></div><br/><div class="children"><div class="content">I think the best alternative for JQ is datawave, but it is not open source. <a href="https:&#x2F;&#x2F;dataweave.mulesoft.com&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;dataweave.mulesoft.com&#x2F;</a></div><br/><div id="38470067" class="c"><input type="checkbox" id="c-38470067" checked=""/><div class="controls bullet"><span class="by">anonymoushn</span><span>|</span><a href="#38470036">parent</a><span>|</span><a href="#38467855">next</a><span>|</span><label class="collapse" for="c-38470067">[-]</label><label class="expand" for="c-38470067">[1 more]</label></div><br/><div class="children"><div class="content">The latest blog post is about open sourcing it from last September. So the process of open sourcing dataweave takes at least 15 months.</div><br/></div></div></div></div><div id="38467855" class="c"><input type="checkbox" id="c-38467855" checked=""/><div class="controls bullet"><span class="by">coldtea</span><span>|</span><a href="#38470036">prev</a><span>|</span><a href="#38462960">next</a><span>|</span><label class="collapse" for="c-38467855">[-]</label><label class="expand" for="c-38467855">[5 more]</label></div><br/><div class="children"><div class="content">&gt;<i>nan &gt; nan is false, while nan &lt; nan is true.</i><p>If this wrong behavior from jq, or some artifact consistent with how the floating point spec is defined, surprising, but faithful to IEEE 754 nonetheless?</div><br/><div id="38467952" class="c"><input type="checkbox" id="c-38467952" checked=""/><div class="controls bullet"><span class="by">extraduder_ire</span><span>|</span><a href="#38467855">parent</a><span>|</span><a href="#38468217">next</a><span>|</span><label class="collapse" for="c-38467952">[-]</label><label class="expand" for="c-38467952">[2 more]</label></div><br/><div class="children"><div class="content">IIRC, any comparison using a nan must fail (return false) according to the IEEE spec.</div><br/><div id="38468702" class="c"><input type="checkbox" id="c-38468702" checked=""/><div class="controls bullet"><span class="by">kopecs</span><span>|</span><a href="#38467855">root</a><span>|</span><a href="#38467952">parent</a><span>|</span><a href="#38468217">next</a><span>|</span><label class="collapse" for="c-38468702">[-]</label><label class="expand" for="c-38468702">[1 more]</label></div><br/><div class="children"><div class="content">I think it is a bit more complex, since NaN is defined to be &quot;unordered&quot; with respect to all other values (including other NaNs), and so any relation for which unordered values result in true (e.g., compareQuietNotEqual) will return true. (See section 5.11)</div><br/></div></div></div></div><div id="38468217" class="c"><input type="checkbox" id="c-38468217" checked=""/><div class="controls bullet"><span class="by">throw555chip</span><span>|</span><a href="#38467855">parent</a><span>|</span><a href="#38467952">prev</a><span>|</span><a href="#38462960">next</a><span>|</span><label class="collapse" for="c-38468217">[-]</label><label class="expand" for="c-38468217">[2 more]</label></div><br/><div class="children"><div class="content">I used Bard after trying unsuccessfully to decipher the wikipedia page and Bard says, according to IEEE 754, nan &lt; nan should return false (0); while nan &gt; nan should return false (0)</div><br/><div id="38469433" class="c"><input type="checkbox" id="c-38469433" checked=""/><div class="controls bullet"><span class="by">ClassyJacket</span><span>|</span><a href="#38467855">root</a><span>|</span><a href="#38468217">parent</a><span>|</span><a href="#38462960">next</a><span>|</span><label class="collapse" for="c-38469433">[-]</label><label class="expand" for="c-38469433">[1 more]</label></div><br/><div class="children"><div class="content">I wish there was some version of Wikipedia for people who speak good English (not Simple English), but aren&#x27;t assumed to already be experts on the topic. Technical articles are pretty much impenetrable.</div><br/></div></div></div></div></div></div><div id="38462960" class="c"><input type="checkbox" id="c-38462960" checked=""/><div class="controls bullet"><span class="by">rad_gruchalski</span><span>|</span><a href="#38467855">prev</a><span>|</span><a href="#38469705">next</a><span>|</span><label class="collapse" for="c-38462960">[-]</label><label class="expand" for="c-38462960">[6 more]</label></div><br/><div class="children"><div class="content">I started using yq over jq. Any significant differences?</div><br/><div id="38463792" class="c"><input type="checkbox" id="c-38463792" checked=""/><div class="controls bullet"><span class="by">MrDrMcCoy</span><span>|</span><a href="#38462960">parent</a><span>|</span><a href="#38464937">next</a><span>|</span><label class="collapse" for="c-38463792">[-]</label><label class="expand" for="c-38463792">[4 more]</label></div><br/><div class="children"><div class="content">Which yq? I prefer <a href="https:&#x2F;&#x2F;github.com&#x2F;mikefarah&#x2F;yq">https:&#x2F;&#x2F;github.com&#x2F;mikefarah&#x2F;yq</a> to <a href="https:&#x2F;&#x2F;github.com&#x2F;kislyuk&#x2F;yq">https:&#x2F;&#x2F;github.com&#x2F;kislyuk&#x2F;yq</a>.</div><br/><div id="38464108" class="c"><input type="checkbox" id="c-38464108" checked=""/><div class="controls bullet"><span class="by">Yasuraka</span><span>|</span><a href="#38462960">root</a><span>|</span><a href="#38463792">parent</a><span>|</span><a href="#38464474">next</a><span>|</span><label class="collapse" for="c-38464108">[-]</label><label class="expand" for="c-38464108">[2 more]</label></div><br/><div class="children"><div class="content">I prefer the former, single static binary which works great on workstations and CI alike, the latter requires python as well as jq as it&#x27;s a wrapper</div><br/><div id="38464904" class="c"><input type="checkbox" id="c-38464904" checked=""/><div class="controls bullet"><span class="by">bbkane</span><span>|</span><a href="#38462960">root</a><span>|</span><a href="#38464108">parent</a><span>|</span><a href="#38464474">next</a><span>|</span><label class="collapse" for="c-38464904">[-]</label><label class="expand" for="c-38464904">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been using yq + git-xargs to automate config files in repos (CI&#x2F;CD, linters, etc). The combo has been spectacular for me.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;bbkane&#x2F;git-xargs-tasks">https:&#x2F;&#x2F;github.com&#x2F;bbkane&#x2F;git-xargs-tasks</a></div><br/></div></div></div></div><div id="38464474" class="c"><input type="checkbox" id="c-38464474" checked=""/><div class="controls bullet"><span class="by">rad_gruchalski</span><span>|</span><a href="#38462960">root</a><span>|</span><a href="#38463792">parent</a><span>|</span><a href="#38464108">prev</a><span>|</span><a href="#38464937">next</a><span>|</span><label class="collapse" for="c-38464474">[-]</label><label class="expand" for="c-38464474">[1 more]</label></div><br/><div class="children"><div class="content">The former: <a href="https:&#x2F;&#x2F;gruchalski.com&#x2F;posts&#x2F;2023-07-10-yq-the-yaml-power-tool&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;gruchalski.com&#x2F;posts&#x2F;2023-07-10-yq-the-yaml-power-to...</a>.</div><br/></div></div></div></div><div id="38464937" class="c"><input type="checkbox" id="c-38464937" checked=""/><div class="controls bullet"><span class="by">a-nikolaev</span><span>|</span><a href="#38462960">parent</a><span>|</span><a href="#38463792">prev</a><span>|</span><a href="#38469705">next</a><span>|</span><label class="collapse" for="c-38464937">[-]</label><label class="expand" for="c-38464937">[1 more]</label></div><br/><div class="children"><div class="content">jq feels like a much more robust tool than yq. I understand that the task of processing YAML is much harder than JSON, but:<p>- yq changed its syntax between version 3 and 4 to be more like jq (but not quite the same for some reason)<p>- yq has no if-then-else <a href="https:&#x2F;&#x2F;github.com&#x2F;mikefarah&#x2F;yq&#x2F;issues&#x2F;95">https:&#x2F;&#x2F;github.com&#x2F;mikefarah&#x2F;yq&#x2F;issues&#x2F;95</a> which is a poor design (or omission) in my opinion<p>So yq works when you need to process YAML, it can even handle comments quite well. Buy for pure JSON processing jq is a better tool.</div><br/></div></div></div></div><div id="38469705" class="c"><input type="checkbox" id="c-38469705" checked=""/><div class="controls bullet"><span class="by">phplovesong</span><span>|</span><a href="#38462960">prev</a><span>|</span><a href="#38466039">next</a><span>|</span><label class="collapse" for="c-38469705">[-]</label><label class="expand" for="c-38469705">[1 more]</label></div><br/><div class="children"><div class="content">Before a clicked on the link i had this gut feeling. It turned out my gut was right. It was written in rust. Go figure..</div><br/></div></div><div id="38466039" class="c"><input type="checkbox" id="c-38466039" checked=""/><div class="controls bullet"><span class="by">Yanael</span><span>|</span><a href="#38469705">prev</a><span>|</span><a href="#38466519">next</a><span>|</span><label class="collapse" for="c-38466039">[-]</label><label class="expand" for="c-38466039">[8 more]</label></div><br/><div class="children"><div class="content">How have you been using jq? It is more adhoc for exploring JSON files during development&#x2F;data analysis or in programs that run in production?</div><br/><div id="38466107" class="c"><input type="checkbox" id="c-38466107" checked=""/><div class="controls bullet"><span class="by">wwader</span><span>|</span><a href="#38466039">parent</a><span>|</span><a href="#38466841">next</a><span>|</span><label class="collapse" for="c-38466107">[-]</label><label class="expand" for="c-38466107">[3 more]</label></div><br/><div class="children"><div class="content">Quite a lot! i use it to explode both JSON and tex (parse using jq functions). I also use it for exploring ane debug binary formats (<a href="https:&#x2F;&#x2F;github.com&#x2F;wader&#x2F;fq">https:&#x2F;&#x2F;github.com&#x2F;wader&#x2F;fq</a>). Now a days i also use it for some adhoc programming and a calculator.</div><br/><div id="38466221" class="c"><input type="checkbox" id="c-38466221" checked=""/><div class="controls bullet"><span class="by">Yanael</span><span>|</span><a href="#38466039">root</a><span>|</span><a href="#38466107">parent</a><span>|</span><a href="#38466841">next</a><span>|</span><label class="collapse" for="c-38466221">[-]</label><label class="expand" for="c-38466221">[2 more]</label></div><br/><div class="children"><div class="content">Oh sounds a very neat way to explore binary!</div><br/><div id="38467024" class="c"><input type="checkbox" id="c-38467024" checked=""/><div class="controls bullet"><span class="by">wwader</span><span>|</span><a href="#38466039">root</a><span>|</span><a href="#38466221">parent</a><span>|</span><a href="#38466841">next</a><span>|</span><label class="collapse" for="c-38467024">[-]</label><label class="expand" for="c-38467024">[1 more]</label></div><br/><div class="children"><div class="content">If you spend lots of time with certain binary formats then i can recommend adding a decoder, happy to help with it also!</div><br/></div></div></div></div></div></div><div id="38466841" class="c"><input type="checkbox" id="c-38466841" checked=""/><div class="controls bullet"><span class="by">brundolf</span><span>|</span><a href="#38466039">parent</a><span>|</span><a href="#38466107">prev</a><span>|</span><a href="#38467095">next</a><span>|</span><label class="collapse" for="c-38466841">[-]</label><label class="expand" for="c-38466841">[3 more]</label></div><br/><div class="children"><div class="content">Yeah, I&#x27;ve always liked the idea of jq but personally I find it easier to open a REPL in the language I&#x27;m most familiar with (which happens to be JS, which does make a difference) and just paste in the JSON and work with it there<p>It may be more verbose, but I never have to google anything, which makes a bigger difference in my experience</div><br/><div id="38466908" class="c"><input type="checkbox" id="c-38466908" checked=""/><div class="controls bullet"><span class="by">wwader</span><span>|</span><a href="#38466039">root</a><span>|</span><a href="#38466841">parent</a><span>|</span><a href="#38467095">next</a><span>|</span><label class="collapse" for="c-38466908">[-]</label><label class="expand" for="c-38466908">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;github.com&#x2F;wader&#x2F;fq">https:&#x2F;&#x2F;github.com&#x2F;wader&#x2F;fq</a> has a REPL and can read JSON. Tip is to use &quot;paste | from_json | repl&quot; in a REPl to paste JSON into a sub-REPL, you can also use `&lt;text here&gt;` with fq which is a raw string literal</div><br/><div id="38467121" class="c"><input type="checkbox" id="c-38467121" checked=""/><div class="controls bullet"><span class="by">brundolf</span><span>|</span><a href="#38466039">root</a><span>|</span><a href="#38466908">parent</a><span>|</span><a href="#38467095">next</a><span>|</span><label class="collapse" for="c-38467121">[-]</label><label class="expand" for="c-38467121">[1 more]</label></div><br/><div class="children"><div class="content">The important part wasn&#x27;t having a REPL, it was using a language I already know off the top of my head</div><br/></div></div></div></div></div></div><div id="38467095" class="c"><input type="checkbox" id="c-38467095" checked=""/><div class="controls bullet"><span class="by">delecti</span><span>|</span><a href="#38466039">parent</a><span>|</span><a href="#38466841">prev</a><span>|</span><a href="#38466519">next</a><span>|</span><label class="collapse" for="c-38467095">[-]</label><label class="expand" for="c-38467095">[1 more]</label></div><br/><div class="children"><div class="content">My most common usage is pretty-printing the output of curl, or getting a list of things from endpoint service&#x2F;A and then calling service&#x2F;endpoint B&#x2F;&lt;entry&gt; to do things for each entry in the list.</div><br/></div></div></div></div><div id="38466519" class="c"><input type="checkbox" id="c-38466519" checked=""/><div class="controls bullet"><span class="by">1vuio0pswjnm7</span><span>|</span><a href="#38466039">prev</a><span>|</span><a href="#38465475">next</a><span>|</span><label class="collapse" for="c-38466519">[-]</label><label class="expand" for="c-38466519">[1 more]</label></div><br/><div class="children"><div class="content">All else being equal, does the speed of jaq change with the size of the input.</div><br/></div></div><div id="38465475" class="c"><input type="checkbox" id="c-38465475" checked=""/><div class="controls bullet"><span class="by">vjust</span><span>|</span><a href="#38466519">prev</a><span>|</span><a href="#38465081">next</a><span>|</span><label class="collapse" for="c-38465475">[-]</label><label class="expand" for="c-38465475">[4 more]</label></div><br/><div class="children"><div class="content">I find jq&#x27;s syntax (and docs) kind of opaque, but I guess we have no other options.  And I don&#x27;t think this latest incarnation breaks any new ground there. But it&#x27;d be better if I just wrote it myself - &quot;be the change ....&quot;</div><br/><div id="38465511" class="c"><input type="checkbox" id="c-38465511" checked=""/><div class="controls bullet"><span class="by">stevage</span><span>|</span><a href="#38465475">parent</a><span>|</span><a href="#38465779">next</a><span>|</span><label class="collapse" for="c-38465511">[-]</label><label class="expand" for="c-38465511">[2 more]</label></div><br/><div class="children"><div class="content">Well, as pointed out in the jaq docs there is jql.<p>But I just looked at jql and I liked it even less. The pedantry about requiring all keys in selectors to be double quoted is, um, painful for a CLI tool.</div><br/><div id="38465620" class="c"><input type="checkbox" id="c-38465620" checked=""/><div class="controls bullet"><span class="by">stevage</span><span>|</span><a href="#38465475">root</a><span>|</span><a href="#38465511">parent</a><span>|</span><a href="#38465779">next</a><span>|</span><label class="collapse" for="c-38465620">[-]</label><label class="expand" for="c-38465620">[1 more]</label></div><br/><div class="children"><div class="content">Someone else above pointed out JJ which looks much easier to use.</div><br/></div></div></div></div><div id="38465779" class="c"><input type="checkbox" id="c-38465779" checked=""/><div class="controls bullet"><span class="by">wrsh07</span><span>|</span><a href="#38465475">parent</a><span>|</span><a href="#38465511">prev</a><span>|</span><a href="#38465081">next</a><span>|</span><label class="collapse" for="c-38465779">[-]</label><label class="expand" for="c-38465779">[1 more]</label></div><br/><div class="children"><div class="content">ChatGPT or the warp chatbot is pretty good at jq syntax</div><br/></div></div></div></div><div id="38465081" class="c"><input type="checkbox" id="c-38465081" checked=""/><div class="controls bullet"><span class="by">jhatemyjob</span><span>|</span><a href="#38465475">prev</a><span>|</span><a href="#38466011">next</a><span>|</span><label class="collapse" for="c-38465081">[-]</label><label class="expand" for="c-38465081">[4 more]</label></div><br/><div class="children"><div class="content">I switched to jless and never looked back. The user interface is miles ahead of everything else</div><br/><div id="38468075" class="c"><input type="checkbox" id="c-38468075" checked=""/><div class="controls bullet"><span class="by">Snelius</span><span>|</span><a href="#38465081">parent</a><span>|</span><a href="#38466011">next</a><span>|</span><label class="collapse" for="c-38468075">[-]</label><label class="expand" for="c-38468075">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not the same. The jq is not just a viewer. It&#x27;s a JSON query lang processor.</div><br/><div id="38469099" class="c"><input type="checkbox" id="c-38469099" checked=""/><div class="controls bullet"><span class="by">jhatemyjob</span><span>|</span><a href="#38465081">root</a><span>|</span><a href="#38468075">parent</a><span>|</span><a href="#38469067">next</a><span>|</span><label class="collapse" for="c-38469099">[-]</label><label class="expand" for="c-38469099">[1 more]</label></div><br/><div class="children"><div class="content">You are correct, the user interface of jq is not the same as the user interface of jless.</div><br/></div></div></div></div></div></div><div id="38466011" class="c"><input type="checkbox" id="c-38466011" checked=""/><div class="controls bullet"><span class="by">icco</span><span>|</span><a href="#38465081">prev</a><span>|</span><a href="#38467593">next</a><span>|</span><label class="collapse" for="c-38466011">[-]</label><label class="expand" for="c-38466011">[1 more]</label></div><br/><div class="children"><div class="content">I use `yq` for this stuff and it handles most of this pretty well.</div><br/></div></div><div id="38467593" class="c"><input type="checkbox" id="c-38467593" checked=""/><div class="controls bullet"><span class="by">232kkk33kk</span><span>|</span><a href="#38466011">prev</a><span>|</span><a href="#38463451">next</a><span>|</span><label class="collapse" for="c-38467593">[-]</label><label class="expand" for="c-38467593">[1 more]</label></div><br/><div class="children"><div class="content">and in powershell you don&#x27;t need to learn all those syntaxes for different tools for different formats like jq, xmlstarlet, etc. Just convert everything to an object and query the data by using powershell syntax</div><br/></div></div><div id="38463451" class="c"><input type="checkbox" id="c-38463451" checked=""/><div class="controls bullet"><span class="by">jeffbee</span><span>|</span><a href="#38467593">prev</a><span>|</span><a href="#38466693">next</a><span>|</span><label class="collapse" for="c-38463451">[-]</label><label class="expand" for="c-38463451">[2 more]</label></div><br/><div class="children"><div class="content">I guess it&#x27;s cute that there&#x27;s some terminal line art library in Rust somewhere, but when I tried to invoke jaq it just pooped megabytes of escape codes into my iTerm and eventually iTerm tried to print to the printer. Too clever.<p>I tried to do `echo *json | rush -- jaq -rf .&#x2F;this-program.jq {} | datamash ...` and in that context I don&#x27;t think it&#x27;s appropriate to try to get artistic with the tty.<p>The cause of the errors, for whatever it&#x27;s worth, is that `jaq` lacks `strftime`.</div><br/></div></div><div id="38462538" class="c"><input type="checkbox" id="c-38462538" checked=""/><div class="controls bullet"><span class="by">loudmax</span><span>|</span><a href="#38466693">prev</a><span>|</span><a href="#38470314">next</a><span>|</span><label class="collapse" for="c-38462538">[-]</label><label class="expand" for="c-38462538">[20 more]</label></div><br/><div class="children"><div class="content">I applaud this project&#x27;s focus on correctness and efficiency, but I&#x27;d also really like a version of `jq` that&#x27;s easy to understand without having to learn a whole new syntax.<p>`jq` is a really powerful tool and `jaq` promises to be even more powerful.  But, as a system administrator, most lot of the time that I&#x27;m dealing with json files, something that behaved more like grep would be sufficient.</div><br/><div id="38462653" class="c"><input type="checkbox" id="c-38462653" checked=""/><div class="controls bullet"><span class="by">ishandotpage</span><span>|</span><a href="#38462538">parent</a><span>|</span><a href="#38463238">next</a><span>|</span><label class="collapse" for="c-38462653">[-]</label><label class="expand" for="c-38462653">[8 more]</label></div><br/><div class="children"><div class="content">Have you tried `gron`?<p>It converts your nested json into a line by line format which plays better with tools like `grep`<p>From the project&#x27;s README:<p>▶ gron &quot;<a href="https:&#x2F;&#x2F;api.github.com&#x2F;repos&#x2F;tomnomnom&#x2F;gron&#x2F;commits?per_page=1" rel="nofollow noreferrer">https:&#x2F;&#x2F;api.github.com&#x2F;repos&#x2F;tomnomnom&#x2F;gron&#x2F;commits?per_page...</a>&quot; | fgrep &quot;commit.author&quot;<p>json[0].commit.author = {};<p>json[0].commit.author.date = &quot;2016-07-02T10:51:21Z&quot;;<p>json[0].commit.author.email = &quot;mail@tomnomnom.com&quot;;<p>json[0].commit.author.name = &quot;Tom Hudson&quot;;<p><a href="https:&#x2F;&#x2F;github.com&#x2F;tomnomnom&#x2F;gron">https:&#x2F;&#x2F;github.com&#x2F;tomnomnom&#x2F;gron</a><p>It was suggested to me in HN comments on an article I wrote about `jq`, and I have found myself using it a lot in my day to day workflow</div><br/><div id="38463749" class="c"><input type="checkbox" id="c-38463749" checked=""/><div class="controls bullet"><span class="by">stronglikedan</span><span>|</span><a href="#38462538">root</a><span>|</span><a href="#38462653">parent</a><span>|</span><a href="#38462930">next</a><span>|</span><label class="collapse" for="c-38463749">[-]</label><label class="expand" for="c-38463749">[2 more]</label></div><br/><div class="children"><div class="content">This is awesome, thanks! Not OP, but this will help me to write specifications for modifying existing JSON structures immensely. It&#x27;s kind of a pain parsing JSON by (old man) eye to figure out which properties are arrays, and follow property names down a chain. This will definitely help eliminate mistakes!</div><br/><div id="38466205" class="c"><input type="checkbox" id="c-38466205" checked=""/><div class="controls bullet"><span class="by">pdimitar</span><span>|</span><a href="#38462538">root</a><span>|</span><a href="#38463749">parent</a><span>|</span><a href="#38462930">next</a><span>|</span><label class="collapse" for="c-38466205">[-]</label><label class="expand" for="c-38466205">[1 more]</label></div><br/><div class="children"><div class="content">Also try jless[0], it&#x27;s amazingly convenient and it shows you a JSON path at the bottom of the screen as you navigate.<p>[0] <a href="https:&#x2F;&#x2F;jless.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;jless.io&#x2F;</a></div><br/></div></div></div></div><div id="38462930" class="c"><input type="checkbox" id="c-38462930" checked=""/><div class="controls bullet"><span class="by">hu3</span><span>|</span><a href="#38462538">root</a><span>|</span><a href="#38462653">parent</a><span>|</span><a href="#38463749">prev</a><span>|</span><a href="#38463376">next</a><span>|</span><label class="collapse" for="c-38462930">[-]</label><label class="expand" for="c-38462930">[3 more]</label></div><br/><div class="children"><div class="content">Thank you so much. This seems like a saner approach for some simpler use cases.<p>It flattens the structure. And makes for easy diffing.</div><br/><div id="38463412" class="c"><input type="checkbox" id="c-38463412" checked=""/><div class="controls bullet"><span class="by">evntdrvn</span><span>|</span><a href="#38462538">root</a><span>|</span><a href="#38462930">parent</a><span>|</span><a href="#38463376">next</a><span>|</span><label class="collapse" for="c-38463412">[-]</label><label class="expand" for="c-38463412">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also this awesome tool to make JSON interactively navigable in the terminal:<p><a href="https:&#x2F;&#x2F;fx.wtf" rel="nofollow noreferrer">https:&#x2F;&#x2F;fx.wtf</a></div><br/><div id="38464357" class="c"><input type="checkbox" id="c-38464357" checked=""/><div class="controls bullet"><span class="by">llimllib</span><span>|</span><a href="#38462538">root</a><span>|</span><a href="#38463412">parent</a><span>|</span><a href="#38463376">next</a><span>|</span><label class="collapse" for="c-38464357">[-]</label><label class="expand" for="c-38464357">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;jless.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;jless.io&#x2F;</a> is similar, and will give you jq selectors so the two combine very well. (fx might have that feature too, I dunno)</div><br/></div></div></div></div></div></div><div id="38463376" class="c"><input type="checkbox" id="c-38463376" checked=""/><div class="controls bullet"><span class="by">sn0wf1re</span><span>|</span><a href="#38462538">root</a><span>|</span><a href="#38462653">parent</a><span>|</span><a href="#38462930">prev</a><span>|</span><a href="#38464105">next</a><span>|</span><label class="collapse" for="c-38463376">[-]</label><label class="expand" for="c-38463376">[1 more]</label></div><br/><div class="children"><div class="content">You can also mimic gron, including support for yaml with<p>yq -o=props my-file.yaml</div><br/></div></div><div id="38464105" class="c"><input type="checkbox" id="c-38464105" checked=""/><div class="controls bullet"><span class="by">jbverschoor</span><span>|</span><a href="#38462538">root</a><span>|</span><a href="#38462653">parent</a><span>|</span><a href="#38463376">prev</a><span>|</span><a href="#38463238">next</a><span>|</span><label class="collapse" for="c-38464105">[-]</label><label class="expand" for="c-38464105">[1 more]</label></div><br/><div class="children"><div class="content">This looks some much better as an ad-hoc tool. Would be cool if it supported more formats - plist, yaml, xml (hoow to do body, or conflicting attr&#x2F;elements)</div><br/></div></div></div></div><div id="38463238" class="c"><input type="checkbox" id="c-38463238" checked=""/><div class="controls bullet"><span class="by">jrockway</span><span>|</span><a href="#38462538">parent</a><span>|</span><a href="#38462653">prev</a><span>|</span><a href="#38463572">next</a><span>|</span><label class="collapse" for="c-38463238">[-]</label><label class="expand" for="c-38463238">[1 more]</label></div><br/><div class="children"><div class="content">One of my coworkers really likes Miller: <a href="https:&#x2F;&#x2F;github.com&#x2F;johnkerl&#x2F;miller">https:&#x2F;&#x2F;github.com&#x2F;johnkerl&#x2F;miller</a><p>The idea is that you get awk&#x2F;grep like commands for operating on structured data.</div><br/></div></div><div id="38463572" class="c"><input type="checkbox" id="c-38463572" checked=""/><div class="controls bullet"><span class="by">zellyn</span><span>|</span><a href="#38462538">parent</a><span>|</span><a href="#38463238">prev</a><span>|</span><a href="#38463727">next</a><span>|</span><label class="collapse" for="c-38463572">[-]</label><label class="expand" for="c-38463572">[1 more]</label></div><br/><div class="children"><div class="content">ChatGPT excels at producing `jq` incantations; I can actually use `jq` now…</div><br/></div></div><div id="38463727" class="c"><input type="checkbox" id="c-38463727" checked=""/><div class="controls bullet"><span class="by">frou_dh</span><span>|</span><a href="#38462538">parent</a><span>|</span><a href="#38463572">prev</a><span>|</span><a href="#38463909">next</a><span>|</span><label class="collapse" for="c-38463727">[-]</label><label class="expand" for="c-38463727">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;d also really like a version of `jq` that&#x27;s easy to understand without having to learn a whole new syntax.<p>Since JSON is JavaScript Object Notation, then an obvious non-special-snowflake language for such expressions on the CLI is JavaScript: <a href="https:&#x2F;&#x2F;fx.wtf&#x2F;getting-started#json-processing" rel="nofollow noreferrer">https:&#x2F;&#x2F;fx.wtf&#x2F;getting-started#json-processing</a></div><br/></div></div><div id="38463909" class="c"><input type="checkbox" id="c-38463909" checked=""/><div class="controls bullet"><span class="by">gchamonlive</span><span>|</span><a href="#38462538">parent</a><span>|</span><a href="#38463727">prev</a><span>|</span><a href="#38462614">next</a><span>|</span><label class="collapse" for="c-38463909">[-]</label><label class="expand" for="c-38463909">[2 more]</label></div><br/><div class="children"><div class="content">It is a little early to say, but I have been learning how nushell deals with structured data and it seems like it is very usable for simple cases to produce readable one-liners, and if you need to bring out the big guns the shell is also a full fledged scripting language. Don&#x27;t know about how efficient it is though.<p>It needs to justify moving to a completely different shell, but the way you deal with data in general does not restrict itself to manipulating json, but also the output of many commands, so you kinda have one unified piping interface for all these structured data manipulations, which I think is neat.</div><br/><div id="38464012" class="c"><input type="checkbox" id="c-38464012" checked=""/><div class="controls bullet"><span class="by">bobbylarrybobby</span><span>|</span><a href="#38462538">root</a><span>|</span><a href="#38463909">parent</a><span>|</span><a href="#38462614">next</a><span>|</span><label class="collapse" for="c-38464012">[-]</label><label class="expand" for="c-38464012">[1 more]</label></div><br/><div class="children"><div class="content">From the data side, nushell uses polars for querying tabular data so it should be pretty fast. Not sure about its scripting language.</div><br/></div></div></div></div><div id="38462614" class="c"><input type="checkbox" id="c-38462614" checked=""/><div class="controls bullet"><span class="by">msluyter</span><span>|</span><a href="#38462538">parent</a><span>|</span><a href="#38463909">prev</a><span>|</span><a href="#38463501">next</a><span>|</span><label class="collapse" for="c-38462614">[-]</label><label class="expand" for="c-38462614">[1 more]</label></div><br/><div class="children"><div class="content">Obligatory reference to &quot;gron&quot; (&quot;make JSON greppable&quot;), which I find to be quite useful for many common tasks:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;tomnomnom&#x2F;gron">https:&#x2F;&#x2F;github.com&#x2F;tomnomnom&#x2F;gron</a></div><br/></div></div><div id="38463501" class="c"><input type="checkbox" id="c-38463501" checked=""/><div class="controls bullet"><span class="by">INTPenis</span><span>|</span><a href="#38462538">parent</a><span>|</span><a href="#38462614">prev</a><span>|</span><a href="#38464179">next</a><span>|</span><label class="collapse" for="c-38463501">[-]</label><label class="expand" for="c-38463501">[1 more]</label></div><br/><div class="children"><div class="content">jq, and yq, are tools you spend an hour figuring out and then leave them in a CI pipeline for 3 years.</div><br/></div></div><div id="38464179" class="c"><input type="checkbox" id="c-38464179" checked=""/><div class="controls bullet"><span class="by">hyperthesis</span><span>|</span><a href="#38462538">parent</a><span>|</span><a href="#38463501">prev</a><span>|</span><a href="#38464623">next</a><span>|</span><label class="collapse" for="c-38464179">[-]</label><label class="expand" for="c-38464179">[1 more]</label></div><br/><div class="children"><div class="content">Maybe like SQL for relational algebra?  Codd made two query languages that were &quot;too difficult for mortals to use&quot;. (B-trees for performance was a separate issue)<p>But jq&#x27;s strength is its syntax - the difficulty is the semantics.</div><br/></div></div><div id="38464623" class="c"><input type="checkbox" id="c-38464623" checked=""/><div class="controls bullet"><span class="by">notatoad</span><span>|</span><a href="#38462538">parent</a><span>|</span><a href="#38464179">prev</a><span>|</span><a href="#38463210">next</a><span>|</span><label class="collapse" for="c-38464623">[-]</label><label class="expand" for="c-38464623">[1 more]</label></div><br/><div class="children"><div class="content">there&#x27;s got to be <i>some</i> syntax though.  jq does a unique function that isn&#x27;t defined in any other syntax.  i&#x27;m with you, the jq syntax is weird and sometimes difficult to understand.  but the replacement would just be some different syntax.<p>these little one-off unique syntaxes that i&#x27;m never going to properly learn are one of my favourite uses of chatGPT.</div><br/></div></div></div></div><div id="38464431" class="c"><input type="checkbox" id="c-38464431" checked=""/><div class="controls bullet"><span class="by">stickfigure</span><span>|</span><a href="#38470314">prev</a><span>|</span><a href="#38463229">next</a><span>|</span><label class="collapse" for="c-38464431">[-]</label><label class="expand" for="c-38464431">[6 more]</label></div><br/><div class="children"><div class="content">Congratulations! We&#x27;re almost back to the basic functionality we used to have with XSLT.</div><br/><div id="38468795" class="c"><input type="checkbox" id="c-38468795" checked=""/><div class="controls bullet"><span class="by">lkuty</span><span>|</span><a href="#38464431">parent</a><span>|</span><a href="#38464488">next</a><span>|</span><label class="collapse" for="c-38468795">[-]</label><label class="expand" for="c-38468795">[2 more]</label></div><br/><div class="children"><div class="content">You could use an elaborate filter with jq (see <a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;73040814&#x2F;452614" rel="nofollow noreferrer">https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;73040814&#x2F;452614</a>) to transform JSON to XML and then use an XQuery implementation to process the document. It would be quite powerful, especially if the implementation supports XML Schema. I have not tested it.<p>Or <a href="https:&#x2F;&#x2F;github.com&#x2F;AtomGraph&#x2F;JSON2XML">https:&#x2F;&#x2F;github.com&#x2F;AtomGraph&#x2F;JSON2XML</a> which is based on <a href="https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;xslt-30&#x2F;#json-to-xml-mapping" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;xslt-30&#x2F;#json-to-xml-mapping</a><p>It even looks like we could use an XSLT 3 processor with the   json-to-xml function (<a href="https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;xslt-30&#x2F;#func-json-to-xml" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;xslt-30&#x2F;#func-json-to-xml</a>) and then use XQuery or stay with XSLT 3.<p>Now I have to test it.</div><br/><div id="38470920" class="c"><input type="checkbox" id="c-38470920" checked=""/><div class="controls bullet"><span class="by">lkuty</span><span>|</span><a href="#38464431">root</a><span>|</span><a href="#38468795">parent</a><span>|</span><a href="#38464488">next</a><span>|</span><label class="collapse" for="c-38470920">[-]</label><label class="expand" for="c-38470920">[1 more]</label></div><br/><div class="children"><div class="content">In fact XQuery alone is enough, e.g. with Saxon HE 12.3.<p><pre><code>    (: file json2xml.xq :)
    declare default element namespace &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2005&#x2F;xpath-functions&quot;;
    declare option saxon:output &quot;method=text&quot;;
    declare variable $file as xs:string external;
    json-to-xml(unparsed-text($file))&#x2F;&lt;your xpath goes here&gt;

    java -cp ~&#x2F;Java&#x2F;SaxonHE12-3J&#x2F;saxon-he-12.3.jar net.sf.saxon.Query -q:json2xml.xq file=&#x27;&#x2F;path&#x2F;to&#x2F;file.json&#x27;</code></pre></div><br/></div></div></div></div><div id="38464488" class="c"><input type="checkbox" id="c-38464488" checked=""/><div class="controls bullet"><span class="by">nurettin</span><span>|</span><a href="#38464431">parent</a><span>|</span><a href="#38468795">prev</a><span>|</span><a href="#38464813">next</a><span>|</span><label class="collapse" for="c-38464488">[-]</label><label class="expand" for="c-38464488">[2 more]</label></div><br/><div class="children"><div class="content">To be fair, xslt is a lot more verbose than `map(.*2)`</div><br/><div id="38471113" class="c"><input type="checkbox" id="c-38471113" checked=""/><div class="controls bullet"><span class="by">lkuty</span><span>|</span><a href="#38464431">root</a><span>|</span><a href="#38464488">parent</a><span>|</span><a href="#38464813">next</a><span>|</span><label class="collapse" for="c-38471113">[-]</label><label class="expand" for="c-38471113">[1 more]</label></div><br/><div class="children"><div class="content">A bit more verbose but you have the full power of XQuery with you. XSLT however is more verbose than that like you mentioned.<p><pre><code>    for $price in json-to-xml(unparsed-text($file))&#x2F;map&#x2F;map&#x2F;number[@key=&quot;price&quot;]
    return $price+2
</code></pre>
For the following JSON document:<p><pre><code>    {
      &quot;fruit1&quot;: {
        &quot;name&quot;: &quot;apple&quot;,
        &quot;color&quot;: &quot;green&quot;,
        &quot;price&quot;: 1.2
      },
      &quot;fruit2&quot;: {
        &quot;name&quot;: &quot;pear&quot;,
        &quot;color&quot;: &quot;green&quot;,
        &quot;price&quot;: 1.6
      }
    }
</code></pre>
The call to json-to-xml() produces this XML document:<p><pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
    &lt;map xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2005&#x2F;xpath-functions&quot;&gt;
       &lt;map key=&quot;fruit1&quot;&gt;
          &lt;string key=&quot;name&quot;&gt;apple&lt;&#x2F;string&gt;
          &lt;string key=&quot;color&quot;&gt;green&lt;&#x2F;string&gt;
          &lt;number key=&quot;price&quot;&gt;1.2&lt;&#x2F;number&gt;
       &lt;&#x2F;map&gt;
       &lt;map key=&quot;fruit2&quot;&gt;
          &lt;string key=&quot;name&quot;&gt;pear&lt;&#x2F;string&gt;
          &lt;string key=&quot;color&quot;&gt;green&lt;&#x2F;string&gt;
          &lt;number key=&quot;price&quot;&gt;1.6&lt;&#x2F;number&gt;
       &lt;&#x2F;map&gt;
    &lt;&#x2F;map&gt;</code></pre></div><br/></div></div></div></div></div></div><div id="38463229" class="c"><input type="checkbox" id="c-38463229" checked=""/><div class="controls bullet"><span class="by">dilsmatchanov</span><span>|</span><a href="#38464431">prev</a><span>|</span><a href="#38462596">next</a><span>|</span><label class="collapse" for="c-38463229">[-]</label><label class="expand" for="c-38463229">[11 more]</label></div><br/><div class="children"><div class="content">Haven&#x27;t checked yet, but I am sure it&#x27;s written in Rust</div><br/><div id="38467710" class="c"><input type="checkbox" id="c-38467710" checked=""/><div class="controls bullet"><span class="by">anitil</span><span>|</span><a href="#38463229">parent</a><span>|</span><a href="#38464237">next</a><span>|</span><label class="collapse" for="c-38467710">[-]</label><label class="expand" for="c-38467710">[1 more]</label></div><br/><div class="children"><div class="content">How could you tell?</div><br/></div></div></div></div><div id="38462596" class="c"><input type="checkbox" id="c-38462596" checked=""/><div class="controls bullet"><span class="by">visarga</span><span>|</span><a href="#38463229">prev</a><span>|</span><a href="#38464930">next</a><span>|</span><label class="collapse" for="c-38462596">[-]</label><label class="expand" for="c-38462596">[6 more]</label></div><br/><div class="children"><div class="content">This language must be the spiritual successor of Perl</div><br/><div id="38463867" class="c"><input type="checkbox" id="c-38463867" checked=""/><div class="controls bullet"><span class="by">TurboHaskal</span><span>|</span><a href="#38462596">parent</a><span>|</span><a href="#38464245">next</a><span>|</span><label class="collapse" for="c-38463867">[-]</label><label class="expand" for="c-38463867">[4 more]</label></div><br/><div class="children"><div class="content">I inherited some piece of code that made use of an extremely long and complicated jq script.<p>I simply gave up understanding the whole thing, and restored the balance in the universe by rewriting it in Perl.</div><br/><div id="38463987" class="c"><input type="checkbox" id="c-38463987" checked=""/><div class="controls bullet"><span class="by">hnlmorg</span><span>|</span><a href="#38462596">root</a><span>|</span><a href="#38463867">parent</a><span>|</span><a href="#38465285">next</a><span>|</span><label class="collapse" for="c-38463987">[-]</label><label class="expand" for="c-38463987">[1 more]</label></div><br/><div class="children"><div class="content">Now you just need to rewrite Perl in Rust and compile that to WebAssembly. And the circle of HN is complete.</div><br/></div></div><div id="38465285" class="c"><input type="checkbox" id="c-38465285" checked=""/><div class="controls bullet"><span class="by">LargeTomato</span><span>|</span><a href="#38462596">root</a><span>|</span><a href="#38463867">parent</a><span>|</span><a href="#38463987">prev</a><span>|</span><a href="#38466784">next</a><span>|</span><label class="collapse" for="c-38465285">[-]</label><label class="expand" for="c-38465285">[1 more]</label></div><br/><div class="children"><div class="content">I know perl is useful. I know it&#x27;s going to help me. It seems like you can get away with a quick perl script whereas a python script would attract scrutiny.<p>But it&#x27;s such a painful language to look at.</div><br/></div></div></div></div></div></div><div id="38464930" class="c"><input type="checkbox" id="c-38464930" checked=""/><div class="controls bullet"><span class="by">Yanael</span><span>|</span><a href="#38462596">prev</a><span>|</span><a href="#38464628">next</a><span>|</span><label class="collapse" for="c-38464930">[-]</label><label class="expand" for="c-38464930">[4 more]</label></div><br/><div class="children"><div class="content">jq have been in my toolbox since a while it’s a very great tool. But yet another query language to learn, jaq seems identical on that. I think that’s where LLMs can help a lot to make it easier for adoption, I started a project on that note to manipulate the data just with natural language, <a href="https:&#x2F;&#x2F;partial.sh" rel="nofollow noreferrer">https:&#x2F;&#x2F;partial.sh</a><p>‘cat’ your json file and describe what you want I think should be the way to go</div><br/><div id="38465297" class="c"><input type="checkbox" id="c-38465297" checked=""/><div class="controls bullet"><span class="by">LargeTomato</span><span>|</span><a href="#38464930">parent</a><span>|</span><a href="#38464981">next</a><span>|</span><label class="collapse" for="c-38465297">[-]</label><label class="expand" for="c-38465297">[2 more]</label></div><br/><div class="children"><div class="content">I usually avoid those types of tools. It looks way too fragile and the examples look a bit magical. Do you think it&#x27;s stable and easy to use?</div><br/></div></div></div></div><div id="38464628" class="c"><input type="checkbox" id="c-38464628" checked=""/><div class="controls bullet"><span class="by">sigmonsays</span><span>|</span><a href="#38464930">prev</a><span>|</span><a href="#38462748">next</a><span>|</span><label class="collapse" for="c-38464628">[-]</label><label class="expand" for="c-38464628">[5 more]</label></div><br/><div class="children"><div class="content">why not contribute to the existing jq project instead of starting a new one?<p>We have so many json query tools now it&#x27;s insane.</div><br/><div id="38465001" class="c"><input type="checkbox" id="c-38465001" checked=""/><div class="controls bullet"><span class="by">lilyball</span><span>|</span><a href="#38464628">parent</a><span>|</span><a href="#38464656">next</a><span>|</span><label class="collapse" for="c-38465001">[-]</label><label class="expand" for="c-38465001">[1 more]</label></div><br/><div class="children"><div class="content">The obvious reason here is jaq makes some changes to semantics, changes which would be rejected by jq.<p>Another likely reason is that it seems a motivation for jaq is improving the performance of jq. Any low-hanging fruit there in the jq implementation was likely handled a long time ago, so improving this in jq is likely to be hard. Writing a brand new implementation allows for trying out different ways of implementing the same functionality, and using a different language known for its performance helps too.<p>Using a language like Rust also helps with the goal of ensuring correctness and safety.</div><br/></div></div><div id="38464656" class="c"><input type="checkbox" id="c-38464656" checked=""/><div class="controls bullet"><span class="by">sillysaurusx</span><span>|</span><a href="#38464628">parent</a><span>|</span><a href="#38465001">prev</a><span>|</span><a href="#38465153">next</a><span>|</span><label class="collapse" for="c-38464656">[-]</label><label class="expand" for="c-38464656">[1 more]</label></div><br/><div class="children"><div class="content">Fun, of course. Existing projects are boring almost by definition. And this is volunteer work.</div><br/></div></div><div id="38465153" class="c"><input type="checkbox" id="c-38465153" checked=""/><div class="controls bullet"><span class="by">anonymoushn</span><span>|</span><a href="#38464628">parent</a><span>|</span><a href="#38464656">prev</a><span>|</span><a href="#38464974">next</a><span>|</span><label class="collapse" for="c-38465153">[-]</label><label class="expand" for="c-38465153">[1 more]</label></div><br/><div class="children"><div class="content">One reason to do this is that often performance improvements involve architectural overhauls that maintainers are unlikely to approve of.</div><br/></div></div></div></div><div id="38462748" class="c"><input type="checkbox" id="c-38462748" checked=""/><div class="controls bullet"><span class="by">pizza_pleb</span><span>|</span><a href="#38464628">prev</a><span>|</span><a href="#38468244">next</a><span>|</span><label class="collapse" for="c-38462748">[-]</label><label class="expand" for="c-38462748">[6 more]</label></div><br/><div class="children"><div class="content">Somewhat off-topic, but is there a tool which integrates something like this&#x2F;jq&#x2F;fx and API requests? I’d like to be able to do some ETL-like operations and join JSON responses declaratively, without having to write a script.</div><br/><div id="38463401" class="c"><input type="checkbox" id="c-38463401" checked=""/><div class="controls bullet"><span class="by">awayto</span><span>|</span><a href="#38462748">parent</a><span>|</span><a href="#38464274">next</a><span>|</span><label class="collapse" for="c-38463401">[-]</label><label class="expand" for="c-38463401">[4 more]</label></div><br/><div class="children"><div class="content">Is there anything out there like &quot;SELECT * FROM &quot;<a href="http:&#x2F;&#x2F;" rel="nofollow noreferrer">http:&#x2F;&#x2F;</a>...&quot;?</div><br/><div id="38464110" class="c"><input type="checkbox" id="c-38464110" checked=""/><div class="controls bullet"><span class="by">pizza_pleb</span><span>|</span><a href="#38462748">root</a><span>|</span><a href="#38463401">parent</a><span>|</span><a href="#38464383">next</a><span>|</span><label class="collapse" for="c-38464110">[-]</label><label class="expand" for="c-38464110">[1 more]</label></div><br/><div class="children"><div class="content">I think a query language would be great, with a way to subquery&#x2F;chain data from previous requests (e.g. by jsonpath) to subsequent ones.<p>The closest I’ve gotten is to wrap the APIs with GraphQL. This achieves joining, but requires strict typing and coding the schema+relationships ahead of time which restricts query flexibility for unforeseen edge cases.<p>Another is a workflow automation tool like n8n which isn’t as strict and is more user-friendly, but still isn’t very dynamic either.<p>Postman supports chaining, but in a static way with getting&#x2F;setting env variables in pre&#x2F;post request JS scripts.<p>Bash piping is another option, and seems like a more natural fit, but isn’t super reusable for data sources (e.g. with complex client&#x2F;auth setup) and I’m not sure how well it would support batch requests.<p>It would be an interesting tool&#x2F;language to build, but I figure there has to be a solution out there already.</div><br/></div></div><div id="38464383" class="c"><input type="checkbox" id="c-38464383" checked=""/><div class="controls bullet"><span class="by">RyanHamilton</span><span>|</span><a href="#38462748">root</a><span>|</span><a href="#38463401">parent</a><span>|</span><a href="#38464110">prev</a><span>|</span><a href="#38464058">next</a><span>|</span><label class="collapse" for="c-38464383">[-]</label><label class="expand" for="c-38464383">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m working on a project I call babeldb. It allows &quot;select * from query_rest(&#x27;<a href="https:&#x2F;&#x2F;api1.binance.com&#x2F;api&#x2F;v3&#x2F;exchangeInfo#.symbols" rel="nofollow noreferrer">https:&#x2F;&#x2F;api1.binance.com&#x2F;api&#x2F;v3&#x2F;exchangeInfo#.symbols</a>&#x27;)&quot; The #.symbols at the end is actually jq path expression, it&#x27;s sometimes needed when the default json to table is suboptimal. You can see it in action by selecting babeldb in the dropdown, then clicking &quot;Run All&quot; here: 
<a href="https:&#x2F;&#x2F;pulseui.net&#x2F;sqleditor?qry=select%20*%20from%20query_rest(%27https%3A%2F%2Fapi1.binance.com%2Fapi%2Fv3%2FexchangeInfo%23.symbols%27)" rel="nofollow noreferrer">https:&#x2F;&#x2F;pulseui.net&#x2F;sqleditor?qry=select%20*%20from%20query_...</a></div><br/></div></div><div id="38464058" class="c"><input type="checkbox" id="c-38464058" checked=""/><div class="controls bullet"><span class="by">hnlmorg</span><span>|</span><a href="#38462748">root</a><span>|</span><a href="#38463401">parent</a><span>|</span><a href="#38464383">prev</a><span>|</span><a href="#38464274">next</a><span>|</span><label class="collapse" for="c-38464058">[-]</label><label class="expand" for="c-38464058">[1 more]</label></div><br/><div class="children"><div class="content">My shell will do that<p><pre><code>    open http:&#x2F;&#x2F;… | select * where …
    # FROM can be omitted because you’re loading a pipe

</code></pre>
<a href="https:&#x2F;&#x2F;murex.rocks&#x2F;optional&#x2F;select.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;murex.rocks&#x2F;optional&#x2F;select.html</a></div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>