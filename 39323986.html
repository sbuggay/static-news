<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1707555659427" as="style"/><link rel="stylesheet" href="styles.css?v=1707555659427"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/google/zx">ZX – A tool for writing better scripts</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>AbuAssar</span> | <span>67 comments</span></div><br/><div><div id="39324522" class="c"><input type="checkbox" id="c-39324522" checked=""/><div class="controls bullet"><span class="by">bandergirl</span><span>|</span><a href="#39324245">next</a><span>|</span><label class="collapse" for="c-39324522">[-]</label><label class="expand" for="c-39324522">[1 more]</label></div><br/><div class="children"><div class="content">It looks like people don’t get it.<p>This isn’t “better” than your tool of choice. This is a tool for JavaScript developers to write non-trivial scripts in a portable way without getting lost in POSIX hell. Who came up with this stuff?<p><a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;13373256" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;13373256</a><p>If you can write shell code, Perl, Python, COBOL, suit yourself. This is for JavaScript developers in JavaScript projects.</div><br/></div></div><div id="39324245" class="c"><input type="checkbox" id="c-39324245" checked=""/><div class="controls bullet"><span class="by">Fragoel2</span><span>|</span><a href="#39324522">prev</a><span>|</span><a href="#39324618">next</a><span>|</span><label class="collapse" for="c-39324245">[-]</label><label class="expand" for="c-39324245">[10 more]</label></div><br/><div class="children"><div class="content">&quot;[For writing complex scripts] JavaScript is a perfect choice&quot;.<p>Not sold on that. Why should I choose it over Python, PHP or others?</div><br/><div id="39324366" class="c"><input type="checkbox" id="c-39324366" checked=""/><div class="controls bullet"><span class="by">cultofmetatron</span><span>|</span><a href="#39324245">parent</a><span>|</span><a href="#39324528">next</a><span>|</span><label class="collapse" for="c-39324366">[-]</label><label class="expand" for="c-39324366">[3 more]</label></div><br/><div class="children"><div class="content">yea same here. I wrote nodejs programs for years. the focus on the eventloop and everything being asynchronous is great for servers and network IO but does NOT make it the perfect choice for scripts. Its a different use case entirely.<p>scripts are supposed to be small simple programs that run in sequence and terminate. I shouldn&#x27;t need to deal with concurrency primitives at all in that particular situation.</div><br/><div id="39324678" class="c"><input type="checkbox" id="c-39324678" checked=""/><div class="controls bullet"><span class="by">anonymous_sorry</span><span>|</span><a href="#39324245">root</a><span>|</span><a href="#39324366">parent</a><span>|</span><a href="#39324499">next</a><span>|</span><label class="collapse" for="c-39324678">[-]</label><label class="expand" for="c-39324678">[1 more]</label></div><br/><div class="children"><div class="content">&gt; scripts are supposed to be small simple programs that run in sequence and terminate. I shouldn&#x27;t need to deal with concurrency primitives at all in that particular situation.<p>I suppose bash pipes are a concurrency primitive, but I don&#x27;t object to them. I think it&#x27;s more about appropriate primitives.</div><br/></div></div><div id="39324499" class="c"><input type="checkbox" id="c-39324499" checked=""/><div class="controls bullet"><span class="by">colordrops</span><span>|</span><a href="#39324245">root</a><span>|</span><a href="#39324366">parent</a><span>|</span><a href="#39324678">prev</a><span>|</span><a href="#39324528">next</a><span>|</span><label class="collapse" for="c-39324499">[-]</label><label class="expand" for="c-39324499">[1 more]</label></div><br/><div class="children"><div class="content">With modern JavaScript (as in last 5-7 years) it&#x27;s pretty straightforward to write sequential scripts.</div><br/></div></div></div></div><div id="39324528" class="c"><input type="checkbox" id="c-39324528" checked=""/><div class="controls bullet"><span class="by">larusso</span><span>|</span><a href="#39324245">parent</a><span>|</span><a href="#39324366">prev</a><span>|</span><a href="#39324361">next</a><span>|</span><label class="collapse" for="c-39324528">[-]</label><label class="expand" for="c-39324528">[1 more]</label></div><br/><div class="children"><div class="content">Especially because these languages are only one package&#x2F;install away and not two. I don‘t really get for which audience is targeted here. Usage in JS projects maybe, but then why not write it as npm tasks. ..<p>I‘m playing around with dotnet-scripts [1] at the moment (C# shop mainly) and this has the same issue imho. The reason why I looked into it was because we have developers not accustomed to bash etc. I still find it silly and would rather use ruby so…<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;dotnet-script&#x2F;dotnet-script">https:&#x2F;&#x2F;github.com&#x2F;dotnet-script&#x2F;dotnet-script</a></div><br/></div></div><div id="39324361" class="c"><input type="checkbox" id="c-39324361" checked=""/><div class="controls bullet"><span class="by">cerved</span><span>|</span><a href="#39324245">parent</a><span>|</span><a href="#39324528">prev</a><span>|</span><a href="#39324257">next</a><span>|</span><label class="collapse" for="c-39324361">[-]</label><label class="expand" for="c-39324361">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s asynchronous, which is pretty neat</div><br/></div></div><div id="39324257" class="c"><input type="checkbox" id="c-39324257" checked=""/><div class="controls bullet"><span class="by">chupasaurus</span><span>|</span><a href="#39324245">parent</a><span>|</span><a href="#39324361">prev</a><span>|</span><a href="#39324618">next</a><span>|</span><label class="collapse" for="c-39324257">[-]</label><label class="expand" for="c-39324257">[4 more]</label></div><br/><div class="children"><div class="content">This [pun very much intended]</div><br/><div id="39324311" class="c"><input type="checkbox" id="c-39324311" checked=""/><div class="controls bullet"><span class="by">rrr_oh_man</span><span>|</span><a href="#39324245">root</a><span>|</span><a href="#39324257">parent</a><span>|</span><a href="#39324618">next</a><span>|</span><label class="collapse" for="c-39324311">[-]</label><label class="expand" for="c-39324311">[3 more]</label></div><br/><div class="children"><div class="content">Where&#x27;s the pun in that?</div><br/><div id="39324324" class="c"><input type="checkbox" id="c-39324324" checked=""/><div class="controls bullet"><span class="by">justech</span><span>|</span><a href="#39324245">root</a><span>|</span><a href="#39324311">parent</a><span>|</span><a href="#39324332">next</a><span>|</span><label class="collapse" for="c-39324324">[-]</label><label class="expand" for="c-39324324">[1 more]</label></div><br/><div class="children"><div class="content">I’m assuming it’s this <a href="https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;JavaScript&#x2F;Reference&#x2F;Operators&#x2F;this" rel="nofollow">https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;JavaScript&#x2F;Refe...</a> (no pun intended)</div><br/></div></div><div id="39324332" class="c"><input type="checkbox" id="c-39324332" checked=""/><div class="controls bullet"><span class="by">thewisenerd</span><span>|</span><a href="#39324245">root</a><span>|</span><a href="#39324311">parent</a><span>|</span><a href="#39324324">prev</a><span>|</span><a href="#39324618">next</a><span>|</span><label class="collapse" for="c-39324332">[-]</label><label class="expand" for="c-39324332">[1 more]</label></div><br/><div class="children"><div class="content">`this` in javascript</div><br/></div></div></div></div></div></div></div></div><div id="39324618" class="c"><input type="checkbox" id="c-39324618" checked=""/><div class="controls bullet"><span class="by">1vuio0pswjnm7</span><span>|</span><a href="#39324245">prev</a><span>|</span><a href="#39324392">next</a><span>|</span><label class="collapse" for="c-39324618">[-]</label><label class="expand" for="c-39324618">[2 more]</label></div><br/><div class="children"><div class="content">&quot;Bash is great, but when it comes to writing more complex scripts, many people prefer a more convenient programming language.&quot;<p><a href="https:&#x2F;&#x2F;google.github.io&#x2F;zx&#x2F;getting-started" rel="nofollow">https:&#x2F;&#x2F;google.github.io&#x2F;zx&#x2F;getting-started</a><p>I read this and think &quot;1. Bash is not great. 2. Why assume that I want to write complex scripts.&quot;<p>I like simple scripts.  I am embarassed by any complexity.  It is the mark of a cluttered mind.<p>As it happens, there have been and still are others that dislike complexity, though they may be greatly outnumbered.<p>Right now there is another submission in &#x2F;active on HN titled, &quot;A 2024 Plea for Lean Software. Why Bloat is Still Software&#x27;s Biggest Vulnerability&quot;<p>&quot;I want to end this post with some observations from Niklaus Wirth&#x27;s 1995 paper:<p>&quot;To some, complexity equals power. (...) Increasingly, people seem to misinterpret complexity as sophistication, which is baffling-the incomprehensible should cause suspicion rather than admiration.&quot;<p>I&#x27;ve similarly observed that some people prefer complicated systems. As Tony Hoare noted long ago, &quot;[T]here are two methods in software design. One is to make the program so simple, there are obviously no errors. The other is to make it so complicated, there are no obvious errors.&quot; If you can&#x27;t do the first variant, the second way starts looking awfully attractive perhaps.&quot;<p>And scripts are not even systems.   The idea of intentionally creating &quot;complex scripts&quot; is indeed baffling.</div><br/><div id="39324643" class="c"><input type="checkbox" id="c-39324643" checked=""/><div class="controls bullet"><span class="by">msla</span><span>|</span><a href="#39324618">parent</a><span>|</span><a href="#39324392">next</a><span>|</span><label class="collapse" for="c-39324643">[-]</label><label class="expand" for="c-39324643">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I am embarassed by any complexity. It is the mark of a cluttered mind.<p>It is the mark of a cluttered world.<p>Sometimes, there is no simple solution. You have to parse this file, you have to use software to do it, and you can&#x27;t fix up every little quirk in the file&#x27;s <i>actual</i> grammar versus the grammar you <i>wish</i> the file had. Tag soup HTML is one example, but there are thousands of others, around the world, doing important things for business and education.<p>Sometimes you get to parse JSON. Sometimes you have to parse SQL.</div><br/></div></div></div></div><div id="39324392" class="c"><input type="checkbox" id="c-39324392" checked=""/><div class="controls bullet"><span class="by">m1keil</span><span>|</span><a href="#39324618">prev</a><span>|</span><a href="#39324167">next</a><span>|</span><label class="collapse" for="c-39324392">[-]</label><label class="expand" for="c-39324392">[1 more]</label></div><br/><div class="children"><div class="content">Suspect there is one in any language. Here&#x27;s python&#x27;s option:<p><a href="https:&#x2F;&#x2F;sh.readthedocs.io&#x2F;en&#x2F;latest&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;sh.readthedocs.io&#x2F;en&#x2F;latest&#x2F;index.html</a></div><br/></div></div><div id="39324167" class="c"><input type="checkbox" id="c-39324167" checked=""/><div class="controls bullet"><span class="by">hiAndrewQuinn</span><span>|</span><a href="#39324392">prev</a><span>|</span><a href="#39324281">next</a><span>|</span><label class="collapse" for="c-39324167">[-]</label><label class="expand" for="c-39324167">[9 more]</label></div><br/><div class="children"><div class="content">This looks really cool, actually, and I&#x27;m surprised I haven&#x27;t heard of this before.<p>My incorrect gut intuition is that JavaScript devs usually don&#x27;t do very much in depth terminal level command work, but that&#x27;s of course false on a Bayesian level. There are far more JavaScript developers in the world than there are even Python developers, to say nothing of the long tail of even less popular languages. If 30% of JS devs are heavy terminal users, and 80% of (say) Perl devs, that 30% will still swamp the 80% in terms of absolute numbers.<p>Hell, that&#x27;s <i>half the point of Node</i>. Can&#x27;t believe my gut isn&#x27;t keeping up with my head here!</div><br/><div id="39324422" class="c"><input type="checkbox" id="c-39324422" checked=""/><div class="controls bullet"><span class="by">TJSomething</span><span>|</span><a href="#39324167">parent</a><span>|</span><a href="#39324226">next</a><span>|</span><label class="collapse" for="c-39324422">[-]</label><label class="expand" for="c-39324422">[1 more]</label></div><br/><div class="children"><div class="content">My big use case for this is that it&#x27;s quite good for glue scripting when you&#x27;re already in the context of a JS shop. My common use cases are tooling setup, CI scripts, and API response sanity checking.</div><br/></div></div><div id="39324226" class="c"><input type="checkbox" id="c-39324226" checked=""/><div class="controls bullet"><span class="by">from-nibly</span><span>|</span><a href="#39324167">parent</a><span>|</span><a href="#39324422">prev</a><span>|</span><a href="#39324256">next</a><span>|</span><label class="collapse" for="c-39324226">[-]</label><label class="expand" for="c-39324226">[3 more]</label></div><br/><div class="children"><div class="content">Here&#x27;s an anecdote to help your gut.  I&#x27;m a platform engineer who&#x27;s favorite language is Typescript. I LIVE in the terminal. The only reason I use vscode is cause it&#x27;s easier to put him into vscode than it is to put vscode into vim. Otherwise I&#x27;d be in the terminal for everything but browsing.</div><br/><div id="39324303" class="c"><input type="checkbox" id="c-39324303" checked=""/><div class="controls bullet"><span class="by">a_wild_dandan</span><span>|</span><a href="#39324167">root</a><span>|</span><a href="#39324226">parent</a><span>|</span><a href="#39324256">next</a><span>|</span><label class="collapse" for="c-39324303">[-]</label><label class="expand" for="c-39324303">[2 more]</label></div><br/><div class="children"><div class="content">Likewise! I use TypeScript everywhere possible, and zx is a godsend. Unfortunately, I&#x27;ve recently dealt with gobs of Python for ML software. After years of writing TypeScript, it&#x27;s been a...sobering reminder of many painful coding issues that I&#x27;d forgotten even existed. Made me deeply appreciate what TS gives us haha.</div><br/><div id="39324646" class="c"><input type="checkbox" id="c-39324646" checked=""/><div class="controls bullet"><span class="by">dash2</span><span>|</span><a href="#39324167">root</a><span>|</span><a href="#39324303">parent</a><span>|</span><a href="#39324256">next</a><span>|</span><label class="collapse" for="c-39324646">[-]</label><label class="expand" for="c-39324646">[1 more]</label></div><br/><div class="children"><div class="content">Would a python developer feel the same in reverse?</div><br/></div></div></div></div></div></div><div id="39324256" class="c"><input type="checkbox" id="c-39324256" checked=""/><div class="controls bullet"><span class="by">josephg</span><span>|</span><a href="#39324167">parent</a><span>|</span><a href="#39324226">prev</a><span>|</span><a href="#39324281">next</a><span>|</span><label class="collapse" for="c-39324256">[-]</label><label class="expand" for="c-39324256">[4 more]</label></div><br/><div class="children"><div class="content">&gt; There are far more JavaScript developers in the world than there are even Python developers<p>I don’t think that’s true. Anecdotally when I was interviewing at a recruiting company (and we let candidates pick any language to be assessed in), Python was by far the most popular choice, chosen by about 60% of candidates or something like that. Java and JavaScript came after, followed by a long tail of languages like C# and go.<p>I assumed JavaScript would be the most popular too - but that didn&#x27;t seem to be the case. I have no idea where the demand for all this Python programming is coming from, but it seems Python programmers are everywhere. Maybe it’s just popular in schools.</div><br/><div id="39324335" class="c"><input type="checkbox" id="c-39324335" checked=""/><div class="controls bullet"><span class="by">__MatrixMan__</span><span>|</span><a href="#39324167">root</a><span>|</span><a href="#39324256">parent</a><span>|</span><a href="#39324417">next</a><span>|</span><label class="collapse" for="c-39324335">[-]</label><label class="expand" for="c-39324335">[1 more]</label></div><br/><div class="children"><div class="content">If you need a programming language for you job, but you&#x27;re not primarily a developer, and two languages would probably be overkill, then your one language is probably python.<p>That&#x27;s a lot of people.</div><br/></div></div><div id="39324417" class="c"><input type="checkbox" id="c-39324417" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#39324167">root</a><span>|</span><a href="#39324256">parent</a><span>|</span><a href="#39324335">prev</a><span>|</span><a href="#39324549">next</a><span>|</span><label class="collapse" for="c-39324417">[-]</label><label class="expand" for="c-39324417">[1 more]</label></div><br/><div class="children"><div class="content">Python is just fastest to write. No semicolons, fewer parens, no braces, no const &#x2F; var &#x2F; let. List &#x2F; dict &#x2F; set comprehensions. Lambdas are clunkier, but `def` is shorter than `function`. Etc.<p>Perl and Ruby are comparably compact and expressive, but relatively few people know Ruby, end even fewer people know Perl, especially among those younger than 50.<p>BTW Haskell is also syntactically compact and expressive; I once solved a toy interview problem using it. But even fewer people know it at a practical level, among interviewees and interviewers alike.</div><br/></div></div><div id="39324549" class="c"><input type="checkbox" id="c-39324549" checked=""/><div class="controls bullet"><span class="by">callalex</span><span>|</span><a href="#39324167">root</a><span>|</span><a href="#39324256">parent</a><span>|</span><a href="#39324417">prev</a><span>|</span><a href="#39324281">next</a><span>|</span><label class="collapse" for="c-39324549">[-]</label><label class="expand" for="c-39324549">[1 more]</label></div><br/><div class="children"><div class="content">I’m proficient and confident in many languages because I like solving problems with computers. However in a high-stakes and low-tooling situation like a job interview I wouldn’t choose JavaScript any day of the week because of the uncertainty, inconsistency, and footguns it likes to sprinkle everywhere.<p>There is absolutely a role for JavaScript, it truly does run everywhere which is no small feat. But that’s about all it’s good at.<p>What I’m getting at is that when you give people a choice they are going to optimize for the scenario, so you have a heavy selection bias in your anecdote.</div><br/></div></div></div></div></div></div><div id="39324281" class="c"><input type="checkbox" id="c-39324281" checked=""/><div class="controls bullet"><span class="by">qalmakka</span><span>|</span><a href="#39324167">prev</a><span>|</span><a href="#39324408">next</a><span>|</span><label class="collapse" for="c-39324281">[-]</label><label class="expand" for="c-39324281">[3 more]</label></div><br/><div class="children"><div class="content">When my shell scripts get too large, I usually switch to Perl. Still best in class at handling text processing with a few shell commands here and there.</div><br/><div id="39324477" class="c"><input type="checkbox" id="c-39324477" checked=""/><div class="controls bullet"><span class="by">theanonymousone</span><span>|</span><a href="#39324281">parent</a><span>|</span><a href="#39324316">next</a><span>|</span><label class="collapse" for="c-39324477">[-]</label><label class="expand" for="c-39324477">[1 more]</label></div><br/><div class="children"><div class="content">I do the same, in Python. I do my best to keep it zero-dependency to maximise portability.</div><br/></div></div><div id="39324316" class="c"><input type="checkbox" id="c-39324316" checked=""/><div class="controls bullet"><span class="by">amitizle</span><span>|</span><a href="#39324281">parent</a><span>|</span><a href="#39324477">prev</a><span>|</span><a href="#39324408">next</a><span>|</span><label class="collapse" for="c-39324316">[-]</label><label class="expand" for="c-39324316">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m doing that with Ruby, and tgrought the years, it became also true for scripts that are fetching data, iterating over JSON objects, etc.</div><br/></div></div></div></div><div id="39324408" class="c"><input type="checkbox" id="c-39324408" checked=""/><div class="controls bullet"><span class="by">javaunsafe2019</span><span>|</span><a href="#39324281">prev</a><span>|</span><a href="#39324620">next</a><span>|</span><label class="collapse" for="c-39324408">[-]</label><label class="expand" for="c-39324408">[1 more]</label></div><br/><div class="children"><div class="content">I just feel relieved that the majority here also seems to think this doesn’t make sense</div><br/></div></div><div id="39324620" class="c"><input type="checkbox" id="c-39324620" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#39324408">prev</a><span>|</span><a href="#39324503">next</a><span>|</span><label class="collapse" for="c-39324620">[-]</label><label class="expand" for="c-39324620">[1 more]</label></div><br/><div class="children"><div class="content">Related:<p><i>Zx 3.0</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=28195580">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=28195580</a> - Aug 2021 (163 comments)<p><i>JavaScript for Shell Scripting</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27072515">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=27072515</a> - May 2021 (181 comments)</div><br/></div></div><div id="39324503" class="c"><input type="checkbox" id="c-39324503" checked=""/><div class="controls bullet"><span class="by">eviks</span><span>|</span><a href="#39324620">prev</a><span>|</span><a href="#39324660">next</a><span>|</span><label class="collapse" for="c-39324503">[-]</label><label class="expand" for="c-39324503">[1 more]</label></div><br/><div class="children"><div class="content">Neither is bash great, nor is JavaScript a prefect choice, and the examples are pretty underwhelming with all the inconvenient escapes and keywords</div><br/></div></div><div id="39324660" class="c"><input type="checkbox" id="c-39324660" checked=""/><div class="controls bullet"><span class="by">ggambetta</span><span>|</span><a href="#39324503">prev</a><span>|</span><a href="#39324517">next</a><span>|</span><label class="collapse" for="c-39324660">[-]</label><label class="expand" for="c-39324660">[1 more]</label></div><br/><div class="children"><div class="content">For a moment I thought this would have something to do with the ZX Spectrum. I&#x27;m disappointed :(</div><br/></div></div><div id="39324517" class="c"><input type="checkbox" id="c-39324517" checked=""/><div class="controls bullet"><span class="by">Mawr</span><span>|</span><a href="#39324660">prev</a><span>|</span><a href="#39324242">next</a><span>|</span><label class="collapse" for="c-39324517">[-]</label><label class="expand" for="c-39324517">[3 more]</label></div><br/><div class="children"><div class="content">Well this doesn&#x27;t make much sense.<p>If you rightfully find bash inadequate at some point, just switch to the next most natural tool - Python. Nobody&#x27;s going to be surprised when they see a Python script.<p>If you start feeling Python is inadequate too, then:<p>1) You&#x27;re wrong, just stick to Python<p>2) If you&#x27;re so bent on doing away with familiarity, at least get as much leverage as you can in return and use a &quot;proper&quot; language, like Go &#x2F; Rust. You get static typing and easy to deploy binaries, which are solid benefits.<p>Trying to use JS here is the worst of both worlds. Nobody expects to see JS in this context and it doesn&#x27;t bring much to the table.</div><br/><div id="39324577" class="c"><input type="checkbox" id="c-39324577" checked=""/><div class="controls bullet"><span class="by">vincnetas</span><span>|</span><a href="#39324517">parent</a><span>|</span><a href="#39324525">next</a><span>|</span><label class="collapse" for="c-39324577">[-]</label><label class="expand" for="c-39324577">[1 more]</label></div><br/><div class="children"><div class="content">in my case im usign groovy scripts with grape dependencies. script is always selfcontained single file. max portability in JVM world. no need to fiddle with dependencies.</div><br/></div></div><div id="39324525" class="c"><input type="checkbox" id="c-39324525" checked=""/><div class="controls bullet"><span class="by">mattlondon</span><span>|</span><a href="#39324517">parent</a><span>|</span><a href="#39324577">prev</a><span>|</span><a href="#39324242">next</a><span>|</span><label class="collapse" for="c-39324525">[-]</label><label class="expand" for="c-39324525">[1 more]</label></div><br/><div class="children"><div class="content">Python has been banned in many places for this sort of thing in my experience.  There is just too much shite and baggage associated with python environments for it to be reliably portable between systems.  Anaconda that, pip this, 2.x, 3.x, string support.  It&#x27;s a dumpster fire.<p>I am not saying JavaScript is any better, but python is actively considered harmful for this use case in many places I have been.</div><br/></div></div></div></div><div id="39324242" class="c"><input type="checkbox" id="c-39324242" checked=""/><div class="controls bullet"><span class="by">zeristor</span><span>|</span><a href="#39324517">prev</a><span>|</span><a href="#39324524">next</a><span>|</span><label class="collapse" for="c-39324242">[-]</label><label class="expand" for="c-39324242">[1 more]</label></div><br/><div class="children"><div class="content">ZX?<p>Is there a rainbow bar over the bottom right corner?<p>Do words appear when you press each key?</div><br/></div></div><div id="39324524" class="c"><input type="checkbox" id="c-39324524" checked=""/><div class="controls bullet"><span class="by">hulitu</span><span>|</span><a href="#39324242">prev</a><span>|</span><a href="#39324531">next</a><span>|</span><label class="collapse" for="c-39324524">[-]</label><label class="expand" for="c-39324524">[1 more]</label></div><br/><div class="children"><div class="content">Very nice. You need three clicks to get tho the documentation, yet they don&#x27;t explain anything. What does the const line do ?<p>The best thing however is that it is not supported by Google.</div><br/></div></div><div id="39324531" class="c"><input type="checkbox" id="c-39324531" checked=""/><div class="controls bullet"><span class="by">hlandau</span><span>|</span><a href="#39324524">prev</a><span>|</span><a href="#39324530">next</a><span>|</span><label class="collapse" for="c-39324531">[-]</label><label class="expand" for="c-39324531">[7 more]</label></div><br/><div class="children"><div class="content">&gt;Write your scripts in a file with an .mjs extension in order to use await at the top level. If you prefer the .js extension, wrap your scripts in something like void async function () {...}().<p>Shebang scripts shouldn&#x27;t have a file extension in the first place, so requiring one here is a dealbreaker. And having the file extension be used to switch between two different incompatible source formats is really a terrible design.</div><br/><div id="39324554" class="c"><input type="checkbox" id="c-39324554" checked=""/><div class="controls bullet"><span class="by">xboxnolifes</span><span>|</span><a href="#39324531">parent</a><span>|</span><a href="#39324612">next</a><span>|</span><label class="collapse" for="c-39324554">[-]</label><label class="expand" for="c-39324554">[4 more]</label></div><br/><div class="children"><div class="content">&gt; And having the file extension be used to switch between two different incompatible source formats is really a terrible design.<p>Isn&#x27;t that what all file extensions do? Distinguish between incompatible formats?</div><br/><div id="39324648" class="c"><input type="checkbox" id="c-39324648" checked=""/><div class="controls bullet"><span class="by">okamiueru</span><span>|</span><a href="#39324531">root</a><span>|</span><a href="#39324554">parent</a><span>|</span><a href="#39324588">next</a><span>|</span><label class="collapse" for="c-39324648">[-]</label><label class="expand" for="c-39324648">[1 more]</label></div><br/><div class="children"><div class="content">Extensions are predefined mapping to the executing program. There is no real concept of compatibility there. Useful for media files where you e.g. pick your image-viewer-of-choice, less useful when the script file already has a very strong opinion as to the expected executing binary. Compatibility can be hinted at, but really only determined on the application level.<p>If the script runtime binary then looks at the filename and does something differently based on it, it&#x27;s likely not correct, and if it is done, it&#x27;d better be because of some necessity. The &quot;we prefer it this way&quot; is not a necessity. Plus it breaks conventions and expectations.</div><br/></div></div><div id="39324588" class="c"><input type="checkbox" id="c-39324588" checked=""/><div class="controls bullet"><span class="by">hlandau</span><span>|</span><a href="#39324531">root</a><span>|</span><a href="#39324554">parent</a><span>|</span><a href="#39324648">prev</a><span>|</span><a href="#39324612">next</a><span>|</span><label class="collapse" for="c-39324588">[-]</label><label class="expand" for="c-39324588">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve very rarely seen, say, image viewers which can&#x27;t handle a JPEG with a .png extension or vice versa, but they&#x27;re badly designed. Most handle this from the file magic automatically. Keying on extension is definitely an antipattern IMO.<p>I don&#x27;t see people naming C++ files .c++03, .c++11, .c++17. I don&#x27;t see people naming Perl files .pl-strict-mode.<p>Yes, it&#x27;s normal for people to use file extensions, but having programs impose forced usage and semantics to them is a crutch and a sign of bad design.<p>How am I supposed to put a script written using this tool in $PATH?<p>This bad design seems to be a thing in the TS&#x2F;JS ecosystem now. At least some language ecosystems (Deno? Not sure.) seem to be encouraging people to do &#x27;import &quot;...&#x2F;Foo.ts&quot;&#x27;. Which is abysmal: Firstly these are URLs, yet file extensions are against web principles and good URL design. Secondly they couple a consumer of a module to what language the module was written in and expose this as part of an API, which is terrible design.</div><br/><div id="39324680" class="c"><input type="checkbox" id="c-39324680" checked=""/><div class="controls bullet"><span class="by">okamiueru</span><span>|</span><a href="#39324531">root</a><span>|</span><a href="#39324588">parent</a><span>|</span><a href="#39324612">next</a><span>|</span><label class="collapse" for="c-39324680">[-]</label><label class="expand" for="c-39324680">[1 more]</label></div><br/><div class="children"><div class="content">&gt; How am I supposed to put a script written using this tool in $PATH?<p>Separate file that invokes sh or bash and calls the script file with zx and the path to the mjs file.<p>Should do it.<p>Though I agree with your objection. The requirement for specific extension while also suggesting a shebang, breaks conventions and expectations. From what I can tell from comments made, it&#x27;s done that way because they prefer it. Which... is a bit silly. But to each their own.</div><br/></div></div></div></div></div></div><div id="39324612" class="c"><input type="checkbox" id="c-39324612" checked=""/><div class="controls bullet"><span class="by">iLoveOncall</span><span>|</span><a href="#39324531">parent</a><span>|</span><a href="#39324554">prev</a><span>|</span><a href="#39324530">next</a><span>|</span><label class="collapse" for="c-39324612">[-]</label><label class="expand" for="c-39324612">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Shebang scripts shouldn&#x27;t have<p>Should not have or should not need to have? You can perfectly write a script with a shebang and an extension, stick it in your path, and use it without extension.<p>Therefore, I fail to see how this is a &quot;dealbreaker&quot;. Or is it just because &quot;I don&#x27;t like it!&quot;?</div><br/><div id="39324638" class="c"><input type="checkbox" id="c-39324638" checked=""/><div class="controls bullet"><span class="by">hlandau</span><span>|</span><a href="#39324531">root</a><span>|</span><a href="#39324612">parent</a><span>|</span><a href="#39324530">next</a><span>|</span><label class="collapse" for="c-39324638">[-]</label><label class="expand" for="c-39324638">[1 more]</label></div><br/><div class="children"><div class="content">So how am I supposed to put such a script in $PATH? e.g. if I hypothetically want to make a replacement for say &#x27;ls&#x27;, what am I supposed to do, force people to type &#x27;ls.mjs&#x27; rather than &#x27;ls&#x27;?</div><br/></div></div></div></div></div></div><div id="39324530" class="c"><input type="checkbox" id="c-39324530" checked=""/><div class="controls bullet"><span class="by">acoward113472</span><span>|</span><a href="#39324531">prev</a><span>|</span><a href="#39324299">next</a><span>|</span><label class="collapse" for="c-39324530">[-]</label><label class="expand" for="c-39324530">[1 more]</label></div><br/><div class="children"><div class="content">heh.. this is the engineering culture at Google. You identify a problem that bothers you but perks your interest to solve, and then dedicate 1 day a week to solving it, and then releasing it as an internal library. then get approval to open source it and do so.</div><br/></div></div><div id="39324299" class="c"><input type="checkbox" id="c-39324299" checked=""/><div class="controls bullet"><span class="by">LispSporks22</span><span>|</span><a href="#39324530">prev</a><span>|</span><a href="#39324368">next</a><span>|</span><label class="collapse" for="c-39324299">[-]</label><label class="expand" for="c-39324299">[1 more]</label></div><br/><div class="children"><div class="content">Bit verbose for me with all that promise&#x2F;await stuff. Substitution rules probably simpler tho</div><br/></div></div><div id="39324368" class="c"><input type="checkbox" id="c-39324368" checked=""/><div class="controls bullet"><span class="by">oopsthrowpass</span><span>|</span><a href="#39324299">prev</a><span>|</span><a href="#39324455">next</a><span>|</span><label class="collapse" for="c-39324368">[-]</label><label class="expand" for="c-39324368">[1 more]</label></div><br/><div class="children"><div class="content">WTH is this, some training program how to write await for no reason? :)</div><br/></div></div><div id="39324455" class="c"><input type="checkbox" id="c-39324455" checked=""/><div class="controls bullet"><span class="by">teo_zero</span><span>|</span><a href="#39324368">prev</a><span>|</span><a href="#39324198">next</a><span>|</span><label class="collapse" for="c-39324455">[-]</label><label class="expand" for="c-39324455">[1 more]</label></div><br/><div class="children"><div class="content">The first command of the first example is a cat|grep... How can I assume the author is an experienced script writer?<p>In any case, ZX replaces some of the shell&#x27;s usual quirks with its own different quirks: you have to manually expand * with glob() and ~ with os.homedir(), you can&#x27;t build commands as strings without repeated calls to push(), etc.</div><br/></div></div><div id="39324198" class="c"><input type="checkbox" id="c-39324198" checked=""/><div class="controls bullet"><span class="by">Dibby053</span><span>|</span><a href="#39324455">prev</a><span>|</span><a href="#39324300">next</a><span>|</span><label class="collapse" for="c-39324198">[-]</label><label class="expand" for="c-39324198">[3 more]</label></div><br/><div class="children"><div class="content">Maybe the example doesn&#x27;t do justice but it looks more complicated than simply using &quot;&amp;&quot; and &quot;wait&quot;.</div><br/><div id="39324286" class="c"><input type="checkbox" id="c-39324286" checked=""/><div class="controls bullet"><span class="by">pmontra</span><span>|</span><a href="#39324198">parent</a><span>|</span><a href="#39324218">next</a><span>|</span><label class="collapse" for="c-39324286">[-]</label><label class="expand" for="c-39324286">[1 more]</label></div><br/><div class="children"><div class="content">Yup, it seems the perfect example to wonder if a language with async by default is appropriate for the use cases of bash scripts.<p>The example runs 7 commands and has to explicitly await for 4 of them. The other 3 can run in parallel and it awaits for the end of all of them, which is fair.<p>The typical bash script is sequential and I fear that its zx replacement will be an exercise of writing await, await, await.<p>I&#x27;d go with an await by default language and wrap parallel code in whatever that language offers to wait for the end of child processes.</div><br/></div></div></div></div><div id="39324300" class="c"><input type="checkbox" id="c-39324300" checked=""/><div class="controls bullet"><span class="by">mariansam</span><span>|</span><a href="#39324198">prev</a><span>|</span><a href="#39324265">next</a><span>|</span><label class="collapse" for="c-39324300">[-]</label><label class="expand" for="c-39324300">[4 more]</label></div><br/><div class="children"><div class="content">How does this compare to the recently released Bun Shell?</div><br/><div id="39324356" class="c"><input type="checkbox" id="c-39324356" checked=""/><div class="controls bullet"><span class="by">Jarred</span><span>|</span><a href="#39324300">parent</a><span>|</span><a href="#39324325">next</a><span>|</span><label class="collapse" for="c-39324356">[-]</label><label class="expand" for="c-39324356">[1 more]</label></div><br/><div class="children"><div class="content">Bun Shell implements a cross-platform bash-like shell, using builtins for popular commands like `rm`, `cd`, `which`, `ls` etc which support the same flags on Linux, macOS, and Windows. A lot of why we made it was for `bun install` to work on Windows without needing polyfill packages like `rimraf` or `cross-env` in package.json scripts.<p>zx uses the system-provided shell, which means it isn&#x27;t cross-platform<p>For the commands Bun Shell implements as builtins, they typically run something like 10x - 20x faster than in zx on mac&#x2F;linux because spawning processes is expensive (even more expensive on Windows)</div><br/></div></div><div id="39324325" class="c"><input type="checkbox" id="c-39324325" checked=""/><div class="controls bullet"><span class="by">skavi</span><span>|</span><a href="#39324300">parent</a><span>|</span><a href="#39324356">prev</a><span>|</span><a href="#39324265">next</a><span>|</span><label class="collapse" for="c-39324325">[-]</label><label class="expand" for="c-39324325">[2 more]</label></div><br/><div class="children"><div class="content">One (admittedly obvious) difference is that it runs on Node&#x2F;V8 instead of Bun&#x2F;JSC.</div><br/><div id="39324350" class="c"><input type="checkbox" id="c-39324350" checked=""/><div class="controls bullet"><span class="by">cerved</span><span>|</span><a href="#39324300">root</a><span>|</span><a href="#39324325">parent</a><span>|</span><a href="#39324265">next</a><span>|</span><label class="collapse" for="c-39324350">[-]</label><label class="expand" for="c-39324350">[1 more]</label></div><br/><div class="children"><div class="content">can you elaborate the difference, besides the different names of the runtime?</div><br/></div></div></div></div></div></div><div id="39324265" class="c"><input type="checkbox" id="c-39324265" checked=""/><div class="controls bullet"><span class="by">RandomBK</span><span>|</span><a href="#39324300">prev</a><span>|</span><a href="#39324174">next</a><span>|</span><label class="collapse" for="c-39324265">[-]</label><label class="expand" for="c-39324265">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, I hate it.<p>* I love the idea, and I&#x27;m interested to see more progress in this direction.<p>* I&#x27;m not a huge fan of the syntax - for me, the commands are the star of the show, while the async&#x2F;await is a glue. This syntax emphasizes the async&#x2F;await while the important stuff get shuffled into quotes.<p>* Don&#x27;t make me install node - and especially not system&#x2F;user-wide packages - to run a script.<p>Having said all that, this is a neat idea and a cool hack on top of javascript language features.</div><br/></div></div><div id="39324175" class="c"><input type="checkbox" id="c-39324175" checked=""/><div class="controls bullet"><span class="by">visarga</span><span>|</span><a href="#39324174">prev</a><span>|</span><a href="#39324210">next</a><span>|</span><label class="collapse" for="c-39324175">[-]</label><label class="expand" for="c-39324175">[1 more]</label></div><br/><div class="children"><div class="content">This feels like it could be learned in an hour and looks so nice. Wonder if it can be used with inline code to process line by line stdin.</div><br/></div></div><div id="39324210" class="c"><input type="checkbox" id="c-39324210" checked=""/><div class="controls bullet"><span class="by">Cyberdog</span><span>|</span><a href="#39324175">prev</a><span>|</span><a href="#39324178">next</a><span>|</span><label class="collapse" for="c-39324210">[-]</label><label class="expand" for="c-39324210">[3 more]</label></div><br/><div class="children"><div class="content">Please don’t make me install Node.js to run your shell script.</div><br/><div id="39324235" class="c"><input type="checkbox" id="c-39324235" checked=""/><div class="controls bullet"><span class="by">bemusedthrow75</span><span>|</span><a href="#39324210">parent</a><span>|</span><a href="#39324230">next</a><span>|</span><label class="collapse" for="c-39324235">[-]</label><label class="expand" for="c-39324235">[1 more]</label></div><br/><div class="children"><div class="content">Yeah that wouldn&#x27;t be great.<p>But:<p>This feels to me like it might be a really useful tool to do systems-integration work around an app that <i>is</i> built in Node.js. For example, to integrate with incrond or cron, or get a supervisor task into JS. The smallest sensible &quot;shell-ish&quot; wrapper that gets you access to your codebase in JS and stops the coding effort being divided so much between technologies.</div><br/></div></div><div id="39324230" class="c"><input type="checkbox" id="c-39324230" checked=""/><div class="controls bullet"><span class="by">from-nibly</span><span>|</span><a href="#39324210">parent</a><span>|</span><a href="#39324235">prev</a><span>|</span><a href="#39324178">next</a><span>|</span><label class="collapse" for="c-39324230">[-]</label><label class="expand" for="c-39324230">[1 more]</label></div><br/><div class="children"><div class="content">Just use nix-shell</div><br/></div></div></div></div><div id="39324178" class="c"><input type="checkbox" id="c-39324178" checked=""/><div class="controls bullet"><span class="by">metadat</span><span>|</span><a href="#39324210">prev</a><span>|</span><a href="#39324627">next</a><span>|</span><label class="collapse" for="c-39324178">[-]</label><label class="expand" for="c-39324178">[1 more]</label></div><br/><div class="children"><div class="content">Related story from today:<p><i>Dax – Cross-platform shell for Node.js</i><p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39315689">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39315689</a> (12 comments)</div><br/></div></div><div id="39324627" class="c"><input type="checkbox" id="c-39324627" checked=""/><div class="controls bullet"><span class="by">msla</span><span>|</span><a href="#39324178">prev</a><span>|</span><a href="#39324454">next</a><span>|</span><label class="collapse" for="c-39324627">[-]</label><label class="expand" for="c-39324627">[1 more]</label></div><br/><div class="children"><div class="content">Google is trolling us with the useless use of cat right there in the first actual line of the script.<p><a href="https:&#x2F;&#x2F;porkmail.org&#x2F;era&#x2F;unix&#x2F;award" rel="nofollow">https:&#x2F;&#x2F;porkmail.org&#x2F;era&#x2F;unix&#x2F;award</a></div><br/></div></div><div id="39324454" class="c"><input type="checkbox" id="c-39324454" checked=""/><div class="controls bullet"><span class="by">tehdely</span><span>|</span><a href="#39324627">prev</a><span>|</span><a href="#39324162">next</a><span>|</span><label class="collapse" for="c-39324454">[-]</label><label class="expand" for="c-39324454">[1 more]</label></div><br/><div class="children"><div class="content">Useless use of cat in their example script.<p>This is not a serious piece of software.</div><br/></div></div><div id="39324162" class="c"><input type="checkbox" id="c-39324162" checked=""/><div class="controls bullet"><span class="by">jauntywundrkind</span><span>|</span><a href="#39324454">prev</a><span>|</span><a href="#39324546">next</a><span>|</span><label class="collapse" for="c-39324162">[-]</label><label class="expand" for="c-39324162">[2 more]</label></div><br/><div class="children"><div class="content">I really really enjoy using zx.<p>As a dev it lets me get back to a good scripting language, where I process input, run other programs, emit output. Powerful &amp; succinct.<p>As a tool maker, it helps me show my work. Many of the common tasks like running an script or calling fetch will by default log what&#x27;s happening in clear format, pass through the activity. It&#x27;s fantastic to write these devtools that do a bunch of tasks, but are showing their work at every step. If something goes wrong, the person immediately sees the evidence of what was ran &amp; what the output was. It helps close the iteration loop very effectively.<p>Zx makes such a huge difference, while being little more than a couple small good ideas to help node.js be more shell-scipty. Good stuff.<p>I haven&#x27;t tried Dax, another scripting system atop js, but I see zx glowingly mentioned in it&#x27;s recent submission. <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39315689">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39315689</a></div><br/><div id="39324310" class="c"><input type="checkbox" id="c-39324310" checked=""/><div class="controls bullet"><span class="by">pmontra</span><span>|</span><a href="#39324162">parent</a><span>|</span><a href="#39324546">next</a><span>|</span><label class="collapse" for="c-39324310">[-]</label><label class="expand" for="c-39324310">[1 more]</label></div><br/><div class="children"><div class="content">An immediately visible problem with zx is that wrapping commands in $`` makes it harder to copy and paste them back and forth to the shell to test them. Did that slowed you down sometimes or added an occasional bug?</div><br/></div></div></div></div><div id="39324546" class="c"><input type="checkbox" id="c-39324546" checked=""/><div class="controls bullet"><span class="by">ulrischa</span><span>|</span><a href="#39324162">prev</a><span>|</span><a href="#39324292">next</a><span>|</span><label class="collapse" for="c-39324546">[-]</label><label class="expand" for="c-39324546">[1 more]</label></div><br/><div class="children"><div class="content">I would say this is the missing Part to use npm scripts effectively</div><br/></div></div><div id="39324292" class="c"><input type="checkbox" id="c-39324292" checked=""/><div class="controls bullet"><span class="by">pk-protect-ai</span><span>|</span><a href="#39324546">prev</a><span>|</span><label class="collapse" for="c-39324292">[-]</label><label class="expand" for="c-39324292">[1 more]</label></div><br/><div class="children"><div class="content">No way. If your script requires something more complex than what is difficult to implement or maintain in bash, then it is no longer just a script. Regardless of how small the resulting application may be, you should treat it as an application and not merely a script. Node.js is not typically used in the system layer where Bash scripts are commonly employed. No single administrator would replace Bash with Node.js. For parallel execution and asynchronous operations, tools like ansible exist, along with python, which administrators are already familiar with.</div><br/></div></div></div></div></div></div></div></body></html>