<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1734512460715" as="style"/><link rel="stylesheet" href="styles.css?v=1734512460715"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://rakhim.exotext.com/jupyter-notebooks-as-e2e-tests">Jupyter Notebooks as E2E Tests</a> <span class="domain">(<a href="https://rakhim.exotext.com">rakhim.exotext.com</a>)</span></div><div class="subtext"><span>freetonik</span> | <span>8 comments</span></div><br/><div><div id="42448960" class="c"><input type="checkbox" id="c-42448960" checked=""/><div class="controls bullet"><span class="by">abdullahkhalids</span><span>|</span><a href="#42448706">next</a><span>|</span><label class="collapse" for="c-42448960">[-]</label><label class="expand" for="c-42448960">[1 more]</label></div><br/><div class="children"><div class="content">You can just use nbclient&#x2F;nbconvert as a library instead of on cmd. Execute the notebook, and the cell outputs are directly available as python objects [1]. Error handling is also inbuilt.<p>This should make integration with pytest etc, much simpler.<p>[1] <a href="https:&#x2F;&#x2F;nbconvert.readthedocs.io&#x2F;en&#x2F;latest&#x2F;execute_api.html#executing-notebooks-using-the-python-api-interface" rel="nofollow">https:&#x2F;&#x2F;nbconvert.readthedocs.io&#x2F;en&#x2F;latest&#x2F;execute_api.html#...</a></div><br/></div></div><div id="42448706" class="c"><input type="checkbox" id="c-42448706" checked=""/><div class="controls bullet"><span class="by">wodenokoto</span><span>|</span><a href="#42448960">prev</a><span>|</span><a href="#42448815">next</a><span>|</span><label class="collapse" for="c-42448706">[-]</label><label class="expand" for="c-42448706">[2 more]</label></div><br/><div class="children"><div class="content">It looks like the final solution will have to run notebooks twice - once to check for errors and once more to render to documentation.<p>The concept of running code examples inside documentation as a part of tests is well known, and extending it to end-to-end tests &#x2F; user guides is a good idea.<p>Next step might be to add hidden code cells with asserts, to check that the code not only runs, but creates the expected output.</div><br/><div id="42448792" class="c"><input type="checkbox" id="c-42448792" checked=""/><div class="controls bullet"><span class="by">freetonik</span><span>|</span><a href="#42448706">parent</a><span>|</span><a href="#42448815">next</a><span>|</span><label class="collapse" for="c-42448792">[-]</label><label class="expand" for="c-42448792">[1 more]</label></div><br/><div class="children"><div class="content">The documentation is rendered without running the notebook in my case, because we store notebooks with all the outputs, so the doc builder (Sphinx) just converts them to HTML as is.</div><br/></div></div></div></div><div id="42448815" class="c"><input type="checkbox" id="c-42448815" checked=""/><div class="controls bullet"><span class="by">freetonik</span><span>|</span><a href="#42448706">prev</a><span>|</span><label class="collapse" for="c-42448815">[-]</label><label class="expand" for="c-42448815">[4 more]</label></div><br/><div class="children"><div class="content">I’m confused. I’ve submitted this link almost two days ago, but now it says “3 hours ago”, as if the timestamp was modified.</div><br/><div id="42448831" class="c"><input type="checkbox" id="c-42448831" checked=""/><div class="controls bullet"><span class="by">abdullahkhalids</span><span>|</span><a href="#42448815">parent</a><span>|</span><label class="collapse" for="c-42448831">[-]</label><label class="expand" for="c-42448831">[3 more]</label></div><br/><div class="children"><div class="content">This is intended HN behavior. Someone else submitted it again today and due to the closeness of times (within a few days), a new item is not created but the old item is boosted.</div><br/><div id="42448859" class="c"><input type="checkbox" id="c-42448859" checked=""/><div class="controls bullet"><span class="by">freetonik</span><span>|</span><a href="#42448815">root</a><span>|</span><a href="#42448831">parent</a><span>|</span><label class="collapse" for="c-42448859">[-]</label><label class="expand" for="c-42448859">[2 more]</label></div><br/><div class="children"><div class="content">Ah, thanks for clarifying, did not know this. I thought when someone submits an existing link it either has no effect (and the submitter is redirected to the old post), or a new post is created if enough time had passed since the original submission.</div><br/><div id="42449029" class="c"><input type="checkbox" id="c-42449029" checked=""/><div class="controls bullet"><span class="by">bobnamob</span><span>|</span><a href="#42448815">root</a><span>|</span><a href="#42448859">parent</a><span>|</span><label class="collapse" for="c-42449029">[-]</label><label class="expand" for="c-42449029">[1 more]</label></div><br/><div class="children"><div class="content">There’s also a chance it was placed on the second chance queue and reposted “automatically”</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>