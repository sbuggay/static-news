<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1725786069084" as="style"/><link rel="stylesheet" href="styles.css?v=1725786069084"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/weinberg/SQLToy/wiki">SQLToy</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>akkartik</span> | <span>12 comments</span></div><br/><div><div id="41479099" class="c"><input type="checkbox" id="c-41479099" checked=""/><div class="controls bullet"><span class="by">wood_spirit</span><span>|</span><a href="#41479083">next</a><span>|</span><label class="collapse" for="c-41479099">[-]</label><label class="expand" for="c-41479099">[1 more]</label></div><br/><div class="children"><div class="content">It’s like a ray tracer: every programmer should write a toy sql engine!<p>A very long time ago I started writing a game in a weekend a for Ludum dare competition and ended up writing a toy sql engine of my own <a href="https:&#x2F;&#x2F;williame.github.io&#x2F;post&#x2F;59997353762.html" rel="nofollow">https:&#x2F;&#x2F;williame.github.io&#x2F;post&#x2F;59997353762.html</a><p>I still get the urge to make a proper one one day.  With the sql features that I wish sql engines had.  Hmmm. Need-sniping myself now… :)</div><br/></div></div><div id="41479083" class="c"><input type="checkbox" id="c-41479083" checked=""/><div class="controls bullet"><span class="by">barbegal</span><span>|</span><a href="#41479099">prev</a><span>|</span><a href="#41467170">next</a><span>|</span><label class="collapse" for="c-41479083">[-]</label><label class="expand" for="c-41479083">[1 more]</label></div><br/><div class="children"><div class="content">Great toy but it&#x27;s a bit misleading not to touch on the query planner. All real SQL implementations will plan how to most efficiently run a query so the order of operations can be wildly different to expected based on the data and indexes available. This kind of tutorial makes it look like joins are very inefficient whereas a real database may make them highly efficient for a given query.</div><br/></div></div><div id="41467170" class="c"><input type="checkbox" id="c-41467170" checked=""/><div class="controls bullet"><span class="by">tekknolagi</span><span>|</span><a href="#41479083">prev</a><span>|</span><a href="#41478306">next</a><span>|</span><label class="collapse" for="c-41467170">[-]</label><label class="expand" for="c-41467170">[3 more]</label></div><br/><div class="children"><div class="content">Yesterday I found this and ported it to Python: <a href="https:&#x2F;&#x2F;github.com&#x2F;tekknolagi&#x2F;db.py">https:&#x2F;&#x2F;github.com&#x2F;tekknolagi&#x2F;db.py</a><p>It&#x27;s ~150LOC but doesn&#x27;t have aggregates (yet)</div><br/><div id="41478234" class="c"><input type="checkbox" id="c-41478234" checked=""/><div class="controls bullet"><span class="by">emmelaich</span><span>|</span><a href="#41467170">parent</a><span>|</span><a href="#41478306">next</a><span>|</span><label class="collapse" for="c-41478234">[-]</label><label class="expand" for="c-41478234">[2 more]</label></div><br/><div class="children"><div class="content">Did you use the same data?  I couldn&#x27;t find it in the original.</div><br/><div id="41478575" class="c"><input type="checkbox" id="c-41478575" checked=""/><div class="controls bullet"><span class="by">tekknolagi</span><span>|</span><a href="#41467170">root</a><span>|</span><a href="#41478234">parent</a><span>|</span><a href="#41478306">next</a><span>|</span><label class="collapse" for="c-41478575">[-]</label><label class="expand" for="c-41478575">[1 more]</label></div><br/><div class="children"><div class="content">What do you mean same data?</div><br/></div></div></div></div></div></div><div id="41478306" class="c"><input type="checkbox" id="c-41478306" checked=""/><div class="controls bullet"><span class="by">jrop</span><span>|</span><a href="#41467170">prev</a><span>|</span><a href="#41477613">next</a><span>|</span><label class="collapse" for="c-41478306">[-]</label><label class="expand" for="c-41478306">[2 more]</label></div><br/><div class="children"><div class="content">I love projects like this that shed light on and demystify and otherwise mysterious process.  Thanks for sharing!</div><br/><div id="41479008" class="c"><input type="checkbox" id="c-41479008" checked=""/><div class="controls bullet"><span class="by">tmountain</span><span>|</span><a href="#41478306">parent</a><span>|</span><a href="#41477613">next</a><span>|</span><label class="collapse" for="c-41479008">[-]</label><label class="expand" for="c-41479008">[1 more]</label></div><br/><div class="children"><div class="content">Great way to learn!</div><br/></div></div></div></div><div id="41477613" class="c"><input type="checkbox" id="c-41477613" checked=""/><div class="controls bullet"><span class="by">dcreater</span><span>|</span><a href="#41478306">prev</a><span>|</span><a href="#41478558">next</a><span>|</span><label class="collapse" for="c-41477613">[-]</label><label class="expand" for="c-41477613">[3 more]</label></div><br/><div class="children"><div class="content">Would be great if it was literally any other language other than js</div><br/><div id="41478150" class="c"><input type="checkbox" id="c-41478150" checked=""/><div class="controls bullet"><span class="by">mhio</span><span>|</span><a href="#41477613">parent</a><span>|</span><a href="#41478370">next</a><span>|</span><label class="collapse" for="c-41478150">[-]</label><label class="expand" for="c-41478150">[1 more]</label></div><br/><div class="children"><div class="content">Why is that? There doesn&#x27;t seem to be anything particularly esoteric in the implementation.</div><br/></div></div><div id="41478370" class="c"><input type="checkbox" id="c-41478370" checked=""/><div class="controls bullet"><span class="by">RodgerTheGreat</span><span>|</span><a href="#41477613">parent</a><span>|</span><a href="#41478150">prev</a><span>|</span><a href="#41478558">next</a><span>|</span><label class="collapse" for="c-41478370">[-]</label><label class="expand" for="c-41478370">[1 more]</label></div><br/><div class="children"><div class="content">It would be <i>very easy</i> to follow along with a transliteration into any dynamic language language with halfway decent support for functional programming.</div><br/></div></div></div></div><div id="41478558" class="c"><input type="checkbox" id="c-41478558" checked=""/><div class="controls bullet"><span class="by">curtisblaine</span><span>|</span><a href="#41477613">prev</a><span>|</span><label class="collapse" for="c-41478558">[-]</label><label class="expand" for="c-41478558">[1 more]</label></div><br/><div class="children"><div class="content">I hoped this had a toy implementation of sql indices, but it looks like that&#x27;s not the case: it just sorts the whole table on the fly on an ORDER BY.</div><br/></div></div></div></div></div></div></div></body></html>