<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1729933251992" as="style"/><link rel="stylesheet" href="styles.css?v=1729933251992"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://tokio.rs/blog/2024-10-23-announcing-toasty">Toasty, an async ORM for Rust</a> <span class="domain">(<a href="https://tokio.rs">tokio.rs</a>)</span></div><div class="subtext"><span>steveklabnik</span> | <span>60 comments</span></div><br/><div><div id="41953479" class="c"><input type="checkbox" id="c-41953479" checked=""/><div class="controls bullet"><span class="by">Ciantic</span><span>|</span><a href="#41929739">next</a><span>|</span><label class="collapse" for="c-41953479">[-]</label><label class="expand" for="c-41953479">[1 more]</label></div><br/><div class="children"><div class="content">It is nice to see more ORMs, but inventing a new file format and language `toasty` isn&#x27;t my cup of tea. I&#x27;d rather define the models in Rust and let the generator emit more Rust files.<p>Creating your own file format is always difficult. Now, you have to come up with syntax highlighting, refactoring support, go to definition, etc. When I prototype, I tend to rename a lot of my columns and move them around. That is when robust refactoring support, which the language&#x27;s own LSP already provides, is beneficial, and this approach throws them all away.</div><br/></div></div><div id="41929739" class="c"><input type="checkbox" id="c-41929739" checked=""/><div class="controls bullet"><span class="by">alilleybrinker</span><span>|</span><a href="#41953479">prev</a><span>|</span><a href="#41952692">next</a><span>|</span><label class="collapse" for="c-41929739">[-]</label><label class="expand" for="c-41929739">[6 more]</label></div><br/><div class="children"><div class="content">Very interested in exploring how this will compare to Diesel [1] and SeaORM [2], the other two options in this space today. Joshua Mo at Shuttle did a comparison between Diesel and SeaORM in January of this year that was really interesting [3].<p>[1]: <a href="https:&#x2F;&#x2F;diesel.rs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;diesel.rs&#x2F;</a><p>[2]: <a href="https:&#x2F;&#x2F;www.sea-ql.org&#x2F;SeaORM&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.sea-ql.org&#x2F;SeaORM&#x2F;</a><p>[3]: <a href="https:&#x2F;&#x2F;www.shuttle.dev&#x2F;blog&#x2F;2024&#x2F;01&#x2F;16&#x2F;best-orm-rust" rel="nofollow">https:&#x2F;&#x2F;www.shuttle.dev&#x2F;blog&#x2F;2024&#x2F;01&#x2F;16&#x2F;best-orm-rust</a></div><br/><div id="41934430" class="c"><input type="checkbox" id="c-41934430" checked=""/><div class="controls bullet"><span class="by">tuetuopay</span><span>|</span><a href="#41929739">parent</a><span>|</span><a href="#41930905">next</a><span>|</span><label class="collapse" for="c-41934430">[-]</label><label class="expand" for="c-41934430">[1 more]</label></div><br/><div class="children"><div class="content">My first reaction is this feels like a nice middleground between Diesel and SeaORM.<p>The codegen part makes all columns and tables and stuff checked at compile-time (name and type) like Diesel, with a query builder that&#x27;s more natural like SeaORM. I hope the query builder does not end up too magical like SQLAlchemy with its load of footguns, and stay close in spirit to Diesel that&#x27;s &quot;write sql in rust syntax&quot;.<p>I think time will tell, and for now I&#x27;m keeping my Diesel in production :D</div><br/></div></div><div id="41930905" class="c"><input type="checkbox" id="c-41930905" checked=""/><div class="controls bullet"><span class="by">karunamurti</span><span>|</span><a href="#41929739">parent</a><span>|</span><a href="#41934430">prev</a><span>|</span><a href="#41933853">next</a><span>|</span><label class="collapse" for="c-41930905">[-]</label><label class="expand" for="c-41930905">[3 more]</label></div><br/><div class="children"><div class="content">Sea ORM is too opinionated in my experience. Even making migration is not trivial with their own DSL.  
Diesel was ok, but I never use it anymore since rocket moved to async.<p>I&#x27;m mainly use sqlx, it&#x27;s simple to use, there&#x27;s query! and query_as! macro which is good enough for most of the case.</div><br/><div id="41943809" class="c"><input type="checkbox" id="c-41943809" checked=""/><div class="controls bullet"><span class="by">sverro2</span><span>|</span><a href="#41929739">root</a><span>|</span><a href="#41930905">parent</a><span>|</span><a href="#41933853">next</a><span>|</span><label class="collapse" for="c-41943809">[-]</label><label class="expand" for="c-41943809">[2 more]</label></div><br/><div class="children"><div class="content">I like sqlx, but have been eyeing diesel for some time. Any reasons you don&#x27;t use diesel_async?</div><br/><div id="41951846" class="c"><input type="checkbox" id="c-41951846" checked=""/><div class="controls bullet"><span class="by">malodyets</span><span>|</span><a href="#41929739">root</a><span>|</span><a href="#41943809">parent</a><span>|</span><a href="#41933853">next</a><span>|</span><label class="collapse" for="c-41951846">[-]</label><label class="expand" for="c-41951846">[1 more]</label></div><br/><div class="children"><div class="content">With Diesel async integrating everything with the pooling is a bit hairy. With sqlx everything just works.</div><br/></div></div></div></div></div></div><div id="41933853" class="c"><input type="checkbox" id="c-41933853" checked=""/><div class="controls bullet"><span class="by">Onavo</span><span>|</span><a href="#41929739">parent</a><span>|</span><a href="#41930905">prev</a><span>|</span><a href="#41952692">next</a><span>|</span><label class="collapse" for="c-41933853">[-]</label><label class="expand" for="c-41933853">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s nice seeing more Django&#x2F;Prisma style ORMs where the non-SQL source code is the source of truth for the schema and migrations are automatically generated.</div><br/></div></div></div></div><div id="41952692" class="c"><input type="checkbox" id="c-41952692" checked=""/><div class="controls bullet"><span class="by">aabhay</span><span>|</span><a href="#41929739">prev</a><span>|</span><a href="#41953289">next</a><span>|</span><label class="collapse" for="c-41952692">[-]</label><label class="expand" for="c-41952692">[2 more]</label></div><br/><div class="children"><div class="content">Interesting take!<p>In my experience, Dynamo and other NoSQL systems are really expressive and powerful when you take the plunge and make your own ORM. That’s because the model of nosql can often play much nicer with somewhat unique structures like<p>- single table patterns
- fully denormalized or graph style structures
- compound sort keys (e.g. category prefixed)<p>Because of that, I would personally recommend developing your own ORM layer, despite the initial cost</div><br/><div id="41952817" class="c"><input type="checkbox" id="c-41952817" checked=""/><div class="controls bullet"><span class="by">smt88</span><span>|</span><a href="#41952692">parent</a><span>|</span><a href="#41953289">next</a><span>|</span><label class="collapse" for="c-41952817">[-]</label><label class="expand" for="c-41952817">[1 more]</label></div><br/><div class="children"><div class="content">Why does a NoSQL or denormalized database need an ORM?<p>Developing your own ORM is almost always a waste of time and a bad idea.</div><br/></div></div></div></div><div id="41953289" class="c"><input type="checkbox" id="c-41953289" checked=""/><div class="controls bullet"><span class="by">fulafel</span><span>|</span><a href="#41952692">prev</a><span>|</span><a href="#41934551">next</a><span>|</span><label class="collapse" for="c-41953289">[-]</label><label class="expand" for="c-41953289">[2 more]</label></div><br/><div class="children"><div class="content">Why is asynchronity (sp?) a concern of the ORM in this case?</div><br/><div id="41953359" class="c"><input type="checkbox" id="c-41953359" checked=""/><div class="controls bullet"><span class="by">BiteCode_dev</span><span>|</span><a href="#41953289">parent</a><span>|</span><a href="#41934551">next</a><span>|</span><label class="collapse" for="c-41953359">[-]</label><label class="expand" for="c-41953359">[1 more]</label></div><br/><div class="children"><div class="content">Because ORM attribute access usually trigger requests, and you must design the API so that those requests, which trigger called to the network, don&#x27;t block.</div><br/></div></div></div></div><div id="41934551" class="c"><input type="checkbox" id="c-41934551" checked=""/><div class="controls bullet"><span class="by">tricked</span><span>|</span><a href="#41953289">prev</a><span>|</span><a href="#41932157">next</a><span>|</span><label class="collapse" for="c-41934551">[-]</label><label class="expand" for="c-41934551">[1 more]</label></div><br/><div class="children"><div class="content">Looks well thought out i like that for the most part this seems faster&#x2F;easier than rolling your own sql query mapping etc compared to the other solutions I&#x27;ve come across in rust</div><br/></div></div><div id="41932157" class="c"><input type="checkbox" id="c-41932157" checked=""/><div class="controls bullet"><span class="by">Sytten</span><span>|</span><a href="#41934551">prev</a><span>|</span><a href="#41932050">next</a><span>|</span><label class="collapse" for="c-41932157">[-]</label><label class="expand" for="c-41932157">[1 more]</label></div><br/><div class="children"><div class="content">For me diesel hits right balance since it is more a query builder and it is close to the SQL syntax. But sometimes it doesn&#x27;t work because it is very strongly typed, right now I use sea-query for those scenarios and I built the bridge between the two.<p>Ideally I would use something akin to Go Jet.</div><br/></div></div><div id="41932050" class="c"><input type="checkbox" id="c-41932050" checked=""/><div class="controls bullet"><span class="by">colesantiago</span><span>|</span><a href="#41932157">prev</a><span>|</span><a href="#41934618">next</a><span>|</span><label class="collapse" for="c-41932050">[-]</label><label class="expand" for="c-41932050">[8 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t get the pent up anger with ORMs, I used it for my SaaS on Flask that I run and own for 4 years bringing in over $2M+ ARR with no issues.<p>Great to see some development in this for Rust, perhaps after it becomes stable I may even switch my SaaS to it.</div><br/><div id="41952223" class="c"><input type="checkbox" id="c-41952223" checked=""/><div class="controls bullet"><span class="by">jeremyloy_wt</span><span>|</span><a href="#41932050">parent</a><span>|</span><a href="#41932178">next</a><span>|</span><label class="collapse" for="c-41952223">[-]</label><label class="expand" for="c-41952223">[5 more]</label></div><br/><div class="children"><div class="content">The second that you would benefit from using a DBMS specific feature, the ORM begins getting in the way. It is highly unlikely that an ORM provides support, much less a good abstraction, over features that only 1&#x2F;N supported DBMS have.<p>Your code ends up using the driver raw in these cases, so why not just use the driver for everything? Your codebase would be consistent at that point</div><br/><div id="41953112" class="c"><input type="checkbox" id="c-41953112" checked=""/><div class="controls bullet"><span class="by">rtpg</span><span>|</span><a href="#41932050">root</a><span>|</span><a href="#41952223">parent</a><span>|</span><a href="#41952711">next</a><span>|</span><label class="collapse" for="c-41953112">[-]</label><label class="expand" for="c-41953112">[2 more]</label></div><br/><div class="children"><div class="content">I have found that ORM arguments in context don’t stick very well to Django’s ORM, but see the argument applying well to most all the others.<p>Case in point Django is really good about DB-specific functionality and letting you easily add in extension-specific stuff. They treat “you can only do this with raw” more or less as an ORM design API issue.<p>My biggest critique of Django’s ORM is its grouping and select clause behavior can be pretty magical, but I’ve never been able to find a good API improvement to tackle that.</div><br/><div id="41953227" class="c"><input type="checkbox" id="c-41953227" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#41932050">root</a><span>|</span><a href="#41953112">parent</a><span>|</span><a href="#41952711">next</a><span>|</span><label class="collapse" for="c-41953227">[-]</label><label class="expand" for="c-41953227">[1 more]</label></div><br/><div class="children"><div class="content">Django&#x27;s ORM is the worst for object-relational impedance mismatch, though. Django is great if you&#x27;re happy with thinly-veiled database tables. But it absolutely sucks if what you want is real objects representing business entities.<p>The simplest example is you can&#x27;t build a Django object with a collection on it. Take the simplest toy example: a todo list. The natural model is simple: a todo list has a name and a list of items. You can&#x27;t do that in Django. Instead you have to do exactly what you would do in SQL: two tables with item having a foreign key. There&#x27;s no way to just construct a list with items in it. You can&#x27;t test any business rules on the list without creating persistent objects in a db. It&#x27;s crazy.<p>So yeah, Django lets you do loads with the relational side, but that&#x27;s because it&#x27;s doing a half-arsed job of mapping these to objects.</div><br/></div></div></div></div><div id="41952711" class="c"><input type="checkbox" id="c-41952711" checked=""/><div class="controls bullet"><span class="by">fiedzia</span><span>|</span><a href="#41932050">root</a><span>|</span><a href="#41952223">parent</a><span>|</span><a href="#41953112">prev</a><span>|</span><a href="#41952696">next</a><span>|</span><label class="collapse" for="c-41952711">[-]</label><label class="expand" for="c-41952711">[1 more]</label></div><br/><div class="children"><div class="content">&gt;The second that you would benefit from using a DBMS specific feature, the ORM begins getting in the way.<p>You can extend diesel (and probably many other orms, Diesel is just particularly easy here) to support any db feature you want.<p>&gt; It is highly unlikely that an ORM provides support, much less a good abstraction, over features that only 1&#x2F;N supported DBMS have.<p>That depends on orm flexibility and popularity. It may not provide support OOTB, but can make it easy to add it.<p>&gt; Your code ends up using the driver raw in these cases, so why not just use the driver for everything? Your codebase would be consistent at that point<p>Main point of using orm for me is that I have type verification, raw (as in text) breaks too easily.</div><br/></div></div><div id="41952696" class="c"><input type="checkbox" id="c-41952696" checked=""/><div class="controls bullet"><span class="by">viraptor</span><span>|</span><a href="#41932050">root</a><span>|</span><a href="#41952223">parent</a><span>|</span><a href="#41952711">prev</a><span>|</span><a href="#41932178">next</a><span>|</span><label class="collapse" for="c-41952696">[-]</label><label class="expand" for="c-41952696">[1 more]</label></div><br/><div class="children"><div class="content">Because you only need the specific features in a tiny amount of cases, while 99% is some flavour of SELECT * ... LEFT JOIN ... (If it&#x27;s not, then sure, ORM would be annoying)<p>Making that 99% smaller, simpler and automatically mapping to common types makes development a lot easier&#x2F;faster. This applies to pretty much any higher level language. It&#x27;s why you can write in C, but embed an ASM fragment for that one very specific thing instead of going 100% with either one.</div><br/></div></div></div></div><div id="41932178" class="c"><input type="checkbox" id="c-41932178" checked=""/><div class="controls bullet"><span class="by">kyleee</span><span>|</span><a href="#41932050">parent</a><span>|</span><a href="#41952223">prev</a><span>|</span><a href="#41934618">next</a><span>|</span><label class="collapse" for="c-41932178">[-]</label><label class="expand" for="c-41932178">[2 more]</label></div><br/><div class="children"><div class="content">Has it benefited you? Have you moved to a different underlying SQL software without having to make any changes to your codebase? Or some other benefit?</div><br/><div id="41952178" class="c"><input type="checkbox" id="c-41952178" checked=""/><div class="controls bullet"><span class="by">carlgreene</span><span>|</span><a href="#41932050">root</a><span>|</span><a href="#41932178">parent</a><span>|</span><a href="#41934618">next</a><span>|</span><label class="collapse" for="c-41952178">[-]</label><label class="expand" for="c-41952178">[1 more]</label></div><br/><div class="children"><div class="content">For me it’s speed of development. I’m frankly not very good at SQL, but an ORM in a familiar syntax to the language I use most (Typescript) increases my dev speed tremendously.<p>I also have a relatively successful saas that uses Prisma and it’s been phenomenal. Queries are more than fast enough for my use case and it allows me to just focus on writing more difficult business logic than dealing with complex joins</div><br/></div></div></div></div></div></div><div id="41934618" class="c"><input type="checkbox" id="c-41934618" checked=""/><div class="controls bullet"><span class="by">cyndunlop</span><span>|</span><a href="#41932050">prev</a><span>|</span><a href="#41929909">next</a><span>|</span><label class="collapse" for="c-41934618">[-]</label><label class="expand" for="c-41934618">[1 more]</label></div><br/><div class="children"><div class="content">Toasty was the focus of Carl Lerche&#x27;s P99 CONF keynote on Wednesday. It provoked some interesting discussion in the chat.</div><br/></div></div><div id="41929909" class="c"><input type="checkbox" id="c-41929909" checked=""/><div class="controls bullet"><span class="by">arandomusername</span><span>|</span><a href="#41934618">prev</a><span>|</span><a href="#41931992">next</a><span>|</span><label class="collapse" for="c-41929909">[-]</label><label class="expand" for="c-41929909">[1 more]</label></div><br/><div class="children"><div class="content">Looks awesome. Would love to see the table definitions that are generated from the schema as well.</div><br/></div></div><div id="41931992" class="c"><input type="checkbox" id="c-41931992" checked=""/><div class="controls bullet"><span class="by">revskill</span><span>|</span><a href="#41929909">prev</a><span>|</span><a href="#41951912">next</a><span>|</span><label class="collapse" for="c-41931992">[-]</label><label class="expand" for="c-41931992">[1 more]</label></div><br/><div class="children"><div class="content">O in orm is misleading term. To me orm is about table.</div><br/></div></div><div id="41951912" class="c"><input type="checkbox" id="c-41951912" checked=""/><div class="controls bullet"><span class="by">andrewstuart</span><span>|</span><a href="#41931992">prev</a><span>|</span><a href="#41931117">next</a><span>|</span><label class="collapse" for="c-41951912">[-]</label><label class="expand" for="c-41951912">[5 more]</label></div><br/><div class="children"><div class="content">The days of the ORM have passed.<p>AI writes amazing SQL, modern SQL databases are incredible and the best way to get the most out of your DB is write SQL.<p>Invest your learning budget in SQL, not in some random developers abstraction.</div><br/><div id="41952185" class="c"><input type="checkbox" id="c-41952185" checked=""/><div class="controls bullet"><span class="by">t-writescode</span><span>|</span><a href="#41951912">parent</a><span>|</span><a href="#41952205">next</a><span>|</span><label class="collapse" for="c-41952185">[-]</label><label class="expand" for="c-41952185">[1 more]</label></div><br/><div class="children"><div class="content">A good ORM is just a pre-built and externally tested validator of common DB work.<p>There&#x27;s plenty of value in knowing both.<p>&quot;AI writes amazing SQL&quot; and &quot;AI writes amazing DB to Application Translation Layer Code&quot; just means &quot;AI can write your company&#x27;s bespoke ORM&quot;.</div><br/></div></div><div id="41952205" class="c"><input type="checkbox" id="c-41952205" checked=""/><div class="controls bullet"><span class="by">benatkin</span><span>|</span><a href="#41951912">parent</a><span>|</span><a href="#41952185">prev</a><span>|</span><a href="#41931117">next</a><span>|</span><label class="collapse" for="c-41952205">[-]</label><label class="expand" for="c-41952205">[3 more]</label></div><br/><div class="children"><div class="content">AI can give better responses to a lot of requests when it has a well designed high level API available. And many ORMs don’t produce well designed APIs but it seems this one will.</div><br/><div id="41952360" class="c"><input type="checkbox" id="c-41952360" checked=""/><div class="controls bullet"><span class="by">andrewstuart</span><span>|</span><a href="#41951912">root</a><span>|</span><a href="#41952205">parent</a><span>|</span><a href="#41931117">next</a><span>|</span><label class="collapse" for="c-41952360">[-]</label><label class="expand" for="c-41952360">[2 more]</label></div><br/><div class="children"><div class="content">Ai is as good as its training data and there’s vast sql documentation and source code that has been ingested by the AI engines.</div><br/><div id="41952411" class="c"><input type="checkbox" id="c-41952411" checked=""/><div class="controls bullet"><span class="by">benatkin</span><span>|</span><a href="#41951912">root</a><span>|</span><a href="#41952360">parent</a><span>|</span><a href="#41931117">next</a><span>|</span><label class="collapse" for="c-41952411">[-]</label><label class="expand" for="c-41952411">[1 more]</label></div><br/><div class="children"><div class="content">I think that for some things user intent would be better expressed as customized ORM than SQL queries. If the ORM isn’t customized and is just generated from the tables then, yeah, not much of a help.</div><br/></div></div></div></div></div></div></div></div><div id="41931117" class="c"><input type="checkbox" id="c-41931117" checked=""/><div class="controls bullet"><span class="by">mbrumlow</span><span>|</span><a href="#41951912">prev</a><span>|</span><label class="collapse" for="c-41931117">[-]</label><label class="expand" for="c-41931117">[30 more]</label></div><br/><div class="children"><div class="content">[flagged]</div><br/><div id="41932377" class="c"><input type="checkbox" id="c-41932377" checked=""/><div class="controls bullet"><span class="by">alain_gilbert</span><span>|</span><a href="#41931117">parent</a><span>|</span><a href="#41931191">next</a><span>|</span><label class="collapse" for="c-41932377">[-]</label><label class="expand" for="c-41932377">[7 more]</label></div><br/><div class="children"><div class="content">I never understood why people are so stubborn about hating on orm.<p>For example I&#x27;m familiar with <a href="https:&#x2F;&#x2F;gorm.io" rel="nofollow">https:&#x2F;&#x2F;gorm.io</a> and it does save me a lot of time and useless boilerplate.<p>And guess what, if I ever need to make a complex query, I also happen to know SQL, and I&#x27;m just going to make a &quot;raw&quot; query <a href="https:&#x2F;&#x2F;gorm.io&#x2F;docs&#x2F;sql_builder.html#Raw-SQL" rel="nofollow">https:&#x2F;&#x2F;gorm.io&#x2F;docs&#x2F;sql_builder.html#Raw-SQL</a> and be done with it.<p>It&#x27;s not all that hard.<p>edit:<p>the other common complaint usually is: &quot;but I don&#x27;t know what query the orm is going to make...&quot;<p>Use &quot;Debug&quot; <a href="https:&#x2F;&#x2F;gorm.io&#x2F;docs&#x2F;session.html#Debug" rel="nofollow">https:&#x2F;&#x2F;gorm.io&#x2F;docs&#x2F;session.html#Debug</a> and it will print out exactly what query it&#x27;s making. Not happy with it? Make a raw query.</div><br/><div id="41933845" class="c"><input type="checkbox" id="c-41933845" checked=""/><div class="controls bullet"><span class="by">throwaway19972</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41932377">parent</a><span>|</span><a href="#41931191">next</a><span>|</span><label class="collapse" for="c-41933845">[-]</label><label class="expand" for="c-41933845">[6 more]</label></div><br/><div class="children"><div class="content">&gt; I never understood why people are so stubborn about hating on orm.<p>Objects are just bad abstractions for representing database interactions. They never map cleanly and any attempt to cover up the incoherence introduces further problems.<p>Avoiding boilerplate is understandable, but typed schemas and queries exist without hauling in a full ORM.<p>Of course you can pump out a lot of SQL very quickly with ORMs. There&#x27;s a lot positive to say about this approach! But you don&#x27;t tend to end up with code where you can easily tell what&#x27;s going on.</div><br/><div id="41938216" class="c"><input type="checkbox" id="c-41938216" checked=""/><div class="controls bullet"><span class="by">Daishiman</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41933845">parent</a><span>|</span><a href="#41931191">next</a><span>|</span><label class="collapse" for="c-41938216">[-]</label><label class="expand" for="c-41938216">[5 more]</label></div><br/><div class="children"><div class="content">&gt; Objects are just bad abstractions for representing database interactions.<p>But they&#x27;re excellent abstractions for business entities.<p>&gt; Of course you can pump out a lot of SQL very quickly with ORMs. There&#x27;s a lot positive to say about this approach! But you don&#x27;t tend to end up with code where you can easily tell what&#x27;s going on.<p>15 years building up massive apps with Django and SQLAlchemy and this has never been a problem.</div><br/><div id="41938785" class="c"><input type="checkbox" id="c-41938785" checked=""/><div class="controls bullet"><span class="by">throwaway19972</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41938216">parent</a><span>|</span><a href="#41931191">next</a><span>|</span><label class="collapse" for="c-41938785">[-]</label><label class="expand" for="c-41938785">[4 more]</label></div><br/><div class="children"><div class="content">&gt; 15 years building up massive apps with Django and SQLAlchemy and this has never been a problem.<p>I guarantee you it is if the reader isn&#x27;t already intimately familiar with SQLAlchemy.</div><br/><div id="41938948" class="c"><input type="checkbox" id="c-41938948" checked=""/><div class="controls bullet"><span class="by">Daishiman</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41938785">parent</a><span>|</span><a href="#41931191">next</a><span>|</span><label class="collapse" for="c-41938948">[-]</label><label class="expand" for="c-41938948">[3 more]</label></div><br/><div class="children"><div class="content">If your job literally entails using a database abstraction and you can&#x27;t arse yourself into learning said abstraction then it&#x27;s a skills issue, just as much as people who want to use ORMs without learning SQL.</div><br/><div id="41939284" class="c"><input type="checkbox" id="c-41939284" checked=""/><div class="controls bullet"><span class="by">throwaway19972</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41938948">parent</a><span>|</span><a href="#41931191">next</a><span>|</span><label class="collapse" for="c-41939284">[-]</label><label class="expand" for="c-41939284">[2 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t speak to SQLAlchemy itself, but ActiveRecord (which I&#x27;m sure has both shared and unshared issues) still imposes a high maintenance burden with a small team of highly-skilled developers, both on the performance front and the validating-changes front. I, personally, find it very annoying to read, having to hop around an object hierarchy just to figure out what kind of query is generated and what kind of logic is &quot;silently&quot; added to the query somewhere in said object hierarchy (or, god forbid, mixins&#x2F;monkey-patching).<p>You definitely make good points, and all my issues are over-comable with time and effort and knowing which tricks to use, so this truly is a matter of opinion and taste. I&#x27;m just pointing out that the idea that this produces more readable code seems far from obvious.</div><br/><div id="41939906" class="c"><input type="checkbox" id="c-41939906" checked=""/><div class="controls bullet"><span class="by">Daishiman</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41939284">parent</a><span>|</span><a href="#41931191">next</a><span>|</span><label class="collapse" for="c-41939906">[-]</label><label class="expand" for="c-41939906">[1 more]</label></div><br/><div class="children"><div class="content">IMHO your critiques have more to do with Ruby&#x27;s promotion of class hierarchies and the fact that ActiveRecord requires inspecting a DB to infer what&#x27;s going on and Rail&#x27;s abuse of monkeypatching.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="41931191" class="c"><input type="checkbox" id="c-41931191" checked=""/><div class="controls bullet"><span class="by">thimabi</span><span>|</span><a href="#41931117">parent</a><span>|</span><a href="#41932377">prev</a><span>|</span><a href="#41932991">next</a><span>|</span><label class="collapse" for="c-41931191">[-]</label><label class="expand" for="c-41931191">[2 more]</label></div><br/><div class="children"><div class="content">I concur. I’ve used ORMs in certain projects, but iterating and optimizing them later on became untenable. I’ve learned my lesson — all my new projects forgo ORMs by default.</div><br/><div id="41938225" class="c"><input type="checkbox" id="c-41938225" checked=""/><div class="controls bullet"><span class="by">Daishiman</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41931191">parent</a><span>|</span><a href="#41932991">next</a><span>|</span><label class="collapse" for="c-41938225">[-]</label><label class="expand" for="c-41938225">[1 more]</label></div><br/><div class="children"><div class="content">How? ORM logic is as simple or as complicated as the underlying queries and results. In 15 years of building web apps with Python ORMs this has never been a problem across many, many different teams.</div><br/></div></div></div></div><div id="41932991" class="c"><input type="checkbox" id="c-41932991" checked=""/><div class="controls bullet"><span class="by">whazor</span><span>|</span><a href="#41931117">parent</a><span>|</span><a href="#41931191">prev</a><span>|</span><a href="#41931973">next</a><span>|</span><label class="collapse" for="c-41932991">[-]</label><label class="expand" for="c-41932991">[1 more]</label></div><br/><div class="children"><div class="content">A lot of people think SQL is antiquated, and therefore not worth learning. However, SQL is based upon Relation Algebra, which is the foundation of database optimalisation. Any data querying language&#x2F;library that is not based on relational algebra will lack the performance. In particular ORMs fall under this category. Having said that, there are other languages&#x2F;libraries out there that do use the relational algebra constructs.</div><br/></div></div><div id="41931973" class="c"><input type="checkbox" id="c-41931973" checked=""/><div class="controls bullet"><span class="by">carllerche</span><span>|</span><a href="#41931117">parent</a><span>|</span><a href="#41932991">prev</a><span>|</span><a href="#41932678">next</a><span>|</span><label class="collapse" for="c-41931973">[-]</label><label class="expand" for="c-41931973">[1 more]</label></div><br/><div class="children"><div class="content">I respect that some prefer just to use SQL, but that isn&#x27;t where most stand.<p>Also, instead of a reactionary &quot;all ORMs are trash,&quot; where ORM probably means different things to different people, maybe you could provide some value to the conversation by providing specific points and&#x2F;or arguments supporting your feelings about ORMs. At the very least, you could provide some citation to an article that does the summarization.</div><br/></div></div><div id="41932678" class="c"><input type="checkbox" id="c-41932678" checked=""/><div class="controls bullet"><span class="by">jasfi</span><span>|</span><a href="#41931117">parent</a><span>|</span><a href="#41931973">prev</a><span>|</span><a href="#41931455">next</a><span>|</span><label class="collapse" for="c-41932678">[-]</label><label class="expand" for="c-41932678">[2 more]</label></div><br/><div class="children"><div class="content">Moving fast is often crucial, but you typically also get more readable code, which is also worth it.<p>A query&#x2F;DML that is badly optimized is usually very complex, which means that the ORM&#x27;s syntax isn&#x27;t a good fit. No problem, since they typically support raw SQL calls, so nothing is really lost.<p>You just have to know when to use the right tool for the job, as always.</div><br/><div id="41935728" class="c"><input type="checkbox" id="c-41935728" checked=""/><div class="controls bullet"><span class="by">throwaway19972</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41932678">parent</a><span>|</span><a href="#41931455">next</a><span>|</span><label class="collapse" for="c-41935728">[-]</label><label class="expand" for="c-41935728">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Moving fast is often crucial, but you typically also get more readable code, which is also worth it.<p>I think the exact opposite is true, actually—because of the introduction of stuff like lifecycle hooks it becomes very difficult to figure out how the domain semantics translate to query&#x2F;execution semantics. Of course some are lighter than that and just e.g. map a table to a domain type (which <i>is</i> much more readable), but that&#x27;s not typically what catches criticism.</div><br/></div></div></div></div><div id="41931455" class="c"><input type="checkbox" id="c-41931455" checked=""/><div class="controls bullet"><span class="by">stevenally</span><span>|</span><a href="#41931117">parent</a><span>|</span><a href="#41932678">prev</a><span>|</span><a href="#41933357">next</a><span>|</span><label class="collapse" for="c-41931455">[-]</label><label class="expand" for="c-41931455">[1 more]</label></div><br/><div class="children"><div class="content">Yep, plus learn SQL and you can use it everywhere.<p>Every language has it&#x27;s own (multiple) language specific ORMs.</div><br/></div></div><div id="41933357" class="c"><input type="checkbox" id="c-41933357" checked=""/><div class="controls bullet"><span class="by">jiripospisil</span><span>|</span><a href="#41931117">parent</a><span>|</span><a href="#41931455">prev</a><span>|</span><a href="#41936150">next</a><span>|</span><label class="collapse" for="c-41933357">[-]</label><label class="expand" for="c-41933357">[6 more]</label></div><br/><div class="children"><div class="content">Nonsense. People use ORMs because the vast majority of queries are trivial. If you need something the ORM doesn&#x27;t provide sufficient control over, only then you move to raw queries for these cases.</div><br/><div id="41935892" class="c"><input type="checkbox" id="c-41935892" checked=""/><div class="controls bullet"><span class="by">mbrumlow</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41933357">parent</a><span>|</span><a href="#41936150">next</a><span>|</span><label class="collapse" for="c-41935892">[-]</label><label class="expand" for="c-41935892">[5 more]</label></div><br/><div class="children"><div class="content">It’s has nothing to do with being simple and everything to do with wha the database looks like at the end of the day.<p>Some ORMs are better than others but if if you have ever looked at a database created by a ORM it always has weird lookup tables, funny names and even with simple objects completely unusable <i>without</i> the ORM.<p>We live in a multi language world. There is a high chance you are going to want to access this data with a different language. This langue is not going to have the same ORM as such you will have a horrid time access the data.<p>ORMs often lay their data out in a way that is highly language dependent.<p>The fact of the matter is SQL is not hard and bypassing the main interface to the database and hand wave it away will always bring you regret when writing any sooty of software other than a toy project.<p>Your best case is you become an expert in the ORM. Resulting in a skill set that does not transfer easy, language locked and the worst of all bottle necks any changes to the data layer to your ORM <i>expert</i> who at first will be proud and happy and end smug and bitchy as all the data layers request changes will simply be redirected to them.<p>When people like me say ORMs are trash it’s much more than any of the surface level rebuttals listed here.  It’s about the whole life cycle is your project.  Adding up all the places ORMs can fuck you just makes it a bad proposition.<p>God forbid you need to upgrade your database or the ORM version.</div><br/><div id="41941701" class="c"><input type="checkbox" id="c-41941701" checked=""/><div class="controls bullet"><span class="by">Nuzzerino</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41935892">parent</a><span>|</span><a href="#41938105">next</a><span>|</span><label class="collapse" for="c-41941701">[-]</label><label class="expand" for="c-41941701">[1 more]</label></div><br/><div class="children"><div class="content">&gt; ORMs often lay their data out in a way that is highly language dependent.<p>Which ORMs did you use? This doesn&#x27;t sound normal at all. Never saw this with Rails, Ecto, EF, Sybase, or even the legacy project I once worked on that had 4 different ORMs for different parts of the same backend process, using the same database (some were very old and behind slowly phased out over time). Maybe you have ORM confused with CMS (content management system). A CMS can do those things, but that is not an ORM.<p>&gt; There is a high chance you are going to want to access this data with a different language.<p>There are tools for that, such as ETL, read replicas, data warehouses, code generators, raw sql, stored procedures, views, just off the top of my head.</div><br/></div></div><div id="41938105" class="c"><input type="checkbox" id="c-41938105" checked=""/><div class="controls bullet"><span class="by">alain_gilbert</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41935892">parent</a><span>|</span><a href="#41941701">prev</a><span>|</span><a href="#41937941">next</a><span>|</span><label class="collapse" for="c-41938105">[-]</label><label class="expand" for="c-41938105">[1 more]</label></div><br/><div class="children"><div class="content">`if you have ever looked at a database created by a ORM`<p>You do realize that you can make your own migrations using raw SQL, and still use the ORM with your tables?</div><br/></div></div><div id="41937941" class="c"><input type="checkbox" id="c-41937941" checked=""/><div class="controls bullet"><span class="by">imtringued</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41935892">parent</a><span>|</span><a href="#41938105">prev</a><span>|</span><a href="#41936150">next</a><span>|</span><label class="collapse" for="c-41937941">[-]</label><label class="expand" for="c-41937941">[2 more]</label></div><br/><div class="children"><div class="content">Well, different people, different experiences.</div><br/><div id="41938000" class="c"><input type="checkbox" id="c-41938000" checked=""/><div class="controls bullet"><span class="by">mbrumlow</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41937941">parent</a><span>|</span><a href="#41936150">next</a><span>|</span><label class="collapse" for="c-41938000">[-]</label><label class="expand" for="c-41938000">[1 more]</label></div><br/><div class="children"><div class="content">Same experience just different time lines.</div><br/></div></div></div></div></div></div></div></div><div id="41936150" class="c"><input type="checkbox" id="c-41936150" checked=""/><div class="controls bullet"><span class="by">rwaksmunski</span><span>|</span><a href="#41931117">parent</a><span>|</span><a href="#41933357">prev</a><span>|</span><a href="#41931557">next</a><span>|</span><label class="collapse" for="c-41936150">[-]</label><label class="expand" for="c-41936150">[2 more]</label></div><br/><div class="children"><div class="content">Yeah, let&#x27;s trash the 50 year old industry standard and let&#x27;s obfuscate the interface to one of the most performance sensitive part of an application. Hell, lets build multiple obfuscators for each language, each with it&#x27;s own astonishing behavior that turns pathological once you actually get usage on the app.</div><br/><div id="41937483" class="c"><input type="checkbox" id="c-41937483" checked=""/><div class="controls bullet"><span class="by">7bit</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41936150">parent</a><span>|</span><a href="#41931557">next</a><span>|</span><label class="collapse" for="c-41937483">[-]</label><label class="expand" for="c-41937483">[1 more]</label></div><br/><div class="children"><div class="content">You know whats also a 50 year old industry Standard? Assembler. Yet, Nobody writes it any more.</div><br/></div></div></div></div><div id="41931557" class="c"><input type="checkbox" id="c-41931557" checked=""/><div class="controls bullet"><span class="by">bb88</span><span>|</span><a href="#41931117">parent</a><span>|</span><a href="#41936150">prev</a><span>|</span><a href="#41937776">next</a><span>|</span><label class="collapse" for="c-41931557">[-]</label><label class="expand" for="c-41931557">[6 more]</label></div><br/><div class="children"><div class="content">And yet, the Vietnam of Computer Science paper didn&#x27;t stop the creation of ORM&#x27;s.<p>There&#x27;s something fundamentally broken with SQL syntax, and yelling at people to &quot;Just Use SQL&quot; doesn&#x27;t really help.</div><br/><div id="41931659" class="c"><input type="checkbox" id="c-41931659" checked=""/><div class="controls bullet"><span class="by">mbrumlow</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41931557">parent</a><span>|</span><a href="#41935718">next</a><span>|</span><label class="collapse" for="c-41931659">[-]</label><label class="expand" for="c-41931659">[2 more]</label></div><br/><div class="children"><div class="content">Its better than sitting silent and doing nothing. What it does is validate other peoples feelings who feel the same way. And just maybe, that validation will lead to them saying &quot;fuck ORMs&quot; when some junior dev comes in and tries to use one.</div><br/><div id="41940978" class="c"><input type="checkbox" id="c-41940978" checked=""/><div class="controls bullet"><span class="by">bb88</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41931659">parent</a><span>|</span><a href="#41935718">next</a><span>|</span><label class="collapse" for="c-41940978">[-]</label><label class="expand" for="c-41940978">[1 more]</label></div><br/><div class="children"><div class="content">Fair, but it also reinforces the stereotype that the pro-SQL types are obstinate relics yelling at the youngsters to &quot;Get off my lawn!&quot;<p>There&#x27;s a pattern of &quot;We can&#x27;t change X, so we&#x27;ll write Y that transpiles down to X&quot;.  It happens often with closed source tools and others that can&#x27;t or won&#x27;t implement new languages.  Verilog, SQL, Javascript, all fit that bill.<p>E.g. Why is Javascript the only first class language for the browser?  For the longest time JS was the only game in town.</div><br/></div></div></div></div><div id="41935718" class="c"><input type="checkbox" id="c-41935718" checked=""/><div class="controls bullet"><span class="by">throwaway19972</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41931557">parent</a><span>|</span><a href="#41931659">prev</a><span>|</span><a href="#41932217">next</a><span>|</span><label class="collapse" for="c-41935718">[-]</label><label class="expand" for="c-41935718">[1 more]</label></div><br/><div class="children"><div class="content">&gt; There&#x27;s something fundamentally broken with SQL syntax<p>? Are you referring to something specific?</div><br/></div></div><div id="41932217" class="c"><input type="checkbox" id="c-41932217" checked=""/><div class="controls bullet"><span class="by">sivakon</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41931557">parent</a><span>|</span><a href="#41935718">prev</a><span>|</span><a href="#41937776">next</a><span>|</span><label class="collapse" for="c-41932217">[-]</label><label class="expand" for="c-41932217">[2 more]</label></div><br/><div class="children"><div class="content">excuse me, what is Vietnam of Computer Science paper? what’s vietnam has to do with it?</div><br/><div id="41937425" class="c"><input type="checkbox" id="c-41937425" checked=""/><div class="controls bullet"><span class="by">steveklabnik</span><span>|</span><a href="#41931117">root</a><span>|</span><a href="#41932217">parent</a><span>|</span><a href="#41937776">next</a><span>|</span><label class="collapse" for="c-41937425">[-]</label><label class="expand" for="c-41937425">[1 more]</label></div><br/><div class="children"><div class="content">I am not anti-ORM, but I do know that reference: <a href="https:&#x2F;&#x2F;www.odbms.org&#x2F;wp-content&#x2F;uploads&#x2F;2013&#x2F;11&#x2F;031.01-Neward-The-Vietnam-of-Computer-Science-June-2006.pdf" rel="nofollow">https:&#x2F;&#x2F;www.odbms.org&#x2F;wp-content&#x2F;uploads&#x2F;2013&#x2F;11&#x2F;031.01-Newa...</a></div><br/></div></div></div></div></div></div><div id="41937776" class="c"><input type="checkbox" id="c-41937776" checked=""/><div class="controls bullet"><span class="by">imtringued</span><span>|</span><a href="#41931117">parent</a><span>|</span><a href="#41931557">prev</a><span>|</span><label class="collapse" for="c-41937776">[-]</label><label class="expand" for="c-41937776">[1 more]</label></div><br/><div class="children"><div class="content">Sorry but anyone who needs to build queries dynamically e.g. for extended&#x2F;advanced search or ACL is going to significantly benefit from being able to seamlessly mix regular code and query logic. Compare that to the old way of concatenating SQL fragments. Shudder.</div><br/></div></div></div></div></div></div></div></div></div></body></html>