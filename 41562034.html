<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1726563668770" as="style"/><link rel="stylesheet" href="styles.css?v=1726563668770"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://corgea.com/blog/fine-tuning-for-precision-and-privacy-how-corgea-s-llm-enhances-enterprise-application-security">We fine-tuned an LLM to triage and fix insecure code</a> <span class="domain">(<a href="https://corgea.com">corgea.com</a>)</span></div><div class="subtext"><span>asadeddin</span> | <span>23 comments</span></div><br/><div><div id="41563856" class="c"><input type="checkbox" id="c-41563856" checked=""/><div class="controls bullet"><span class="by">WalterBright</span><span>|</span><a href="#41564373">next</a><span>|</span><label class="collapse" for="c-41563856">[-]</label><label class="expand" for="c-41563856">[7 more]</label></div><br/><div class="children"><div class="content">&gt; an SQL injection vulnerability<p>I simply do not understand why the SQL API even allows injection vulnerability. Adam Ruppe and Steven Schweighoffer have done excellent work in writing a shell API over it (in D) that makes such injections far more difficult to inadvertently write.<p>On airplanes, when a bad user interface leads to an accident, the user interface gets fixed. There&#x27;s no reason to put up with this in programming languages, either.</div><br/><div id="41564618" class="c"><input type="checkbox" id="c-41564618" checked=""/><div class="controls bullet"><span class="by">asadeddin</span><span>|</span><a href="#41563856">parent</a><span>|</span><a href="#41564990">next</a><span>|</span><label class="collapse" for="c-41564618">[-]</label><label class="expand" for="c-41564618">[1 more]</label></div><br/><div class="children"><div class="content">I agree. It would be nice if most SQL API&#x27;s were secure by default to prevent SQLI. It&#x27;s really something that the db connectors in the programming languages should handle with more grace like most ORMs today handle them pretty well.<p>I believe it largely is due to how SQL is designed to allow multiple queries to be concatenated with each other, and poor logic design when writing such queries.</div><br/></div></div><div id="41564990" class="c"><input type="checkbox" id="c-41564990" checked=""/><div class="controls bullet"><span class="by">WinDoctor</span><span>|</span><a href="#41563856">parent</a><span>|</span><a href="#41564618">prev</a><span>|</span><a href="#41563891">next</a><span>|</span><label class="collapse" for="c-41564990">[-]</label><label class="expand" for="c-41564990">[2 more]</label></div><br/><div class="children"><div class="content">&gt; why the SQL API even allows injection vulnerability<p>How would one implement this?<p>&quot;SQL APIs&quot; use prepared statements. Meaning you have a string for SQL and some dynamic variables that inject into that string via $1, $2 etc.<p>BUT now if developer makes that string dynamic via a variable, then you have SQL injection again.</div><br/><div id="41565226" class="c"><input type="checkbox" id="c-41565226" checked=""/><div class="controls bullet"><span class="by">EGreg</span><span>|</span><a href="#41563856">root</a><span>|</span><a href="#41564990">parent</a><span>|</span><a href="#41563891">next</a><span>|</span><label class="collapse" for="c-41565226">[-]</label><label class="expand" for="c-41565226">[1 more]</label></div><br/><div class="children"><div class="content">Easy. Don’t write queries in a language (SQL) which interpolates content without escaping it for the enclosing structure.<p>Go one level up.<p>For example statements that are prepared should not allow strings in the SQL, but rather variables, and then bind them to values like PDO does</div><br/></div></div></div></div><div id="41563891" class="c"><input type="checkbox" id="c-41563891" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#41563856">parent</a><span>|</span><a href="#41564990">prev</a><span>|</span><a href="#41564373">next</a><span>|</span><label class="collapse" for="c-41563891">[-]</label><label class="expand" for="c-41563891">[3 more]</label></div><br/><div class="children"><div class="content">In virtually every dev environment, the overwhelming majority of queries are most straightforwardly written in a way that doesn&#x27;t admit to SQLI. It&#x27;s not really a programming language thing.</div><br/><div id="41564629" class="c"><input type="checkbox" id="c-41564629" checked=""/><div class="controls bullet"><span class="by">hayley-patton</span><span>|</span><a href="#41563856">root</a><span>|</span><a href="#41563891">parent</a><span>|</span><a href="#41564373">next</a><span>|</span><label class="collapse" for="c-41564629">[-]</label><label class="expand" for="c-41564629">[2 more]</label></div><br/><div class="children"><div class="content">In my university one of the intro-to-CS courses spent some time on cybersecurity and SQL injections. It seemed like using prepared statements was less effort than concatenating queries together, so I asked why people would write vulnerable code anyway. The instructor wasn&#x27;t sure; I&#x27;m not sure if she knew the uni taught SQL by concatenation in the prior semester.</div><br/><div id="41564788" class="c"><input type="checkbox" id="c-41564788" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#41563856">root</a><span>|</span><a href="#41564629">parent</a><span>|</span><a href="#41564373">next</a><span>|</span><label class="collapse" for="c-41564788">[-]</label><label class="expand" for="c-41564788">[1 more]</label></div><br/><div class="children"><div class="content">Curricula lags the industry by lots of years; in the early aughts concatenated SQL queries were the norm for database APIs, but prepared statements have been the default (or at least easily afforded in the default) for most APIs for a pretty long time now.</div><br/></div></div></div></div></div></div></div></div><div id="41564373" class="c"><input type="checkbox" id="c-41564373" checked=""/><div class="controls bullet"><span class="by">vouaobrasil</span><span>|</span><a href="#41563856">prev</a><span>|</span><a href="#41563912">next</a><span>|</span><label class="collapse" for="c-41564373">[-]</label><label class="expand" for="c-41564373">[5 more]</label></div><br/><div class="children"><div class="content">These small incremental AI tools seem in isolation to be helpful things for human coders. But over a period of decades, these interations will eventually become mostly autonomous, writing code by themselves and without much human intervention compared to now. And that could be a very dangerous thing for humanity, but most people working on this stuff don&#x27;t care because by the time that happens, they will be retired with a nice piece of private property that will isolate them from the suffering of those who have not yet obtained their private property.</div><br/><div id="41564434" class="c"><input type="checkbox" id="c-41564434" checked=""/><div class="controls bullet"><span class="by">xyproto</span><span>|</span><a href="#41564373">parent</a><span>|</span><a href="#41565237">next</a><span>|</span><label class="collapse" for="c-41564434">[-]</label><label class="expand" for="c-41564434">[3 more]</label></div><br/><div class="children"><div class="content">If the danger is a high degree of inequality among humans on Earth, we are already there.</div><br/><div id="41564492" class="c"><input type="checkbox" id="c-41564492" checked=""/><div class="controls bullet"><span class="by">vouaobrasil</span><span>|</span><a href="#41564373">root</a><span>|</span><a href="#41564434">parent</a><span>|</span><a href="#41565237">next</a><span>|</span><label class="collapse" for="c-41564492">[-]</label><label class="expand" for="c-41564492">[2 more]</label></div><br/><div class="children"><div class="content">Inequality though isn&#x27;t on&#x2F;off, and there are degrees. The current existence of inequality isn&#x27;t a logical dismissal of attempts to prevent it worsening.<p>And of course, the danger of AI is much greater than just inequality: it is the further reduction of all human beings to cogs in a machine, and that is bad even if we all end up being relatively equal cogs.</div><br/><div id="41565241" class="c"><input type="checkbox" id="c-41565241" checked=""/><div class="controls bullet"><span class="by">EGreg</span><span>|</span><a href="#41564373">root</a><span>|</span><a href="#41564492">parent</a><span>|</span><a href="#41565237">next</a><span>|</span><label class="collapse" for="c-41565241">[-]</label><label class="expand" for="c-41565241">[1 more]</label></div><br/><div class="children"><div class="content">Every time it’s the same pattern:<p>“Autonomous AI is dangerous”<p>“pfft, are you worried about X outcome? We already had it”</div><br/></div></div></div></div></div></div><div id="41565237" class="c"><input type="checkbox" id="c-41565237" checked=""/><div class="controls bullet"><span class="by">EGreg</span><span>|</span><a href="#41564373">parent</a><span>|</span><a href="#41564434">prev</a><span>|</span><a href="#41563912">next</a><span>|</span><label class="collapse" for="c-41565237">[-]</label><label class="expand" for="c-41565237">[1 more]</label></div><br/><div class="children"><div class="content">Exactly. And it won’t isolate them btw. The AI will affect them too.</div><br/></div></div></div></div><div id="41563912" class="c"><input type="checkbox" id="c-41563912" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#41564373">prev</a><span>|</span><a href="#41562035">next</a><span>|</span><label class="collapse" for="c-41563912">[-]</label><label class="expand" for="c-41563912">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been playing with o1 on known kernel LPEs (a drum I&#x27;ve been beating is how good OpenAI&#x27;s models are with Linux kernel stuff, which I assume is because there is such a wealth of context to pull from places like LKML) and it&#x27;s been very hit-or-miss. In fact, it&#x27;s actually pretty SAST†-like in its results: some handwavy general concerns, but needs extra prompting for the real stuff.<p>The training datasets here also seem pretty small, by comparison? &quot;Hundreds of closed source projects we own&quot;?<p>It&#x27;d be interesting to see if it works well. This is an easy product to prove: just generate a bunch of CVEs from open source code.<p>† <i>SAST is enterprise security dork code for &quot;security linter&quot;</i></div><br/><div id="41564538" class="c"><input type="checkbox" id="c-41564538" checked=""/><div class="controls bullet"><span class="by">asadeddin</span><span>|</span><a href="#41563912">parent</a><span>|</span><a href="#41562035">next</a><span>|</span><label class="collapse" for="c-41564538">[-]</label><label class="expand" for="c-41564538">[1 more]</label></div><br/><div class="children"><div class="content">Unfortunately, I realized the sentence reads weirdly. It&#x27;s meant to say we use hundreds of repositories: close-source projects we own + open-source projects that are vulnerable by design + open source projects. I&#x27;ve updated the language in the post.<p>It&#x27;s very true. SAST is really enterprise security dork code for &quot;security linter&quot;! I might start using that with some of our developer facing content.<p>We launched a recent project that combines LLMs + Static code analysis to detect more sophisticated business and code logic findings to get more real stuff. We wanted to follow the industry a bit more to create familiarity but a differentiation too in this type and we called it BLAST (Business Logic Application Security Testing).</div><br/></div></div></div></div><div id="41562035" class="c"><input type="checkbox" id="c-41562035" checked=""/><div class="controls bullet"><span class="by">asadeddin</span><span>|</span><a href="#41563912">prev</a><span>|</span><a href="#41565379">next</a><span>|</span><label class="collapse" for="c-41562035">[-]</label><label class="expand" for="c-41562035">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m Ahmad, the founder of Corgea. We&#x27;re building an AI AppSec engineer to help developers automatically triage and fix insecure code. We help reduce 30% of SAST findings with our false positive detection and accelerate remediation by ~80%. To do this for large enterprises we had to fine-tune a model that we can deploy that is secure and private.<p>We&#x27;re very proud of the work we recently did, and wanted to share it with the greater HN community. We&#x27;d love to hear your feedback and thoughts. Let me know if I can clarify anything in particular.</div><br/><div id="41564760" class="c"><input type="checkbox" id="c-41564760" checked=""/><div class="controls bullet"><span class="by">zwaps</span><span>|</span><a href="#41562035">parent</a><span>|</span><a href="#41565379">next</a><span>|</span><label class="collapse" for="c-41564760">[-]</label><label class="expand" for="c-41564760">[2 more]</label></div><br/><div class="children"><div class="content">It sounds like you are training multiple low rank adapters?</div><br/><div id="41565454" class="c"><input type="checkbox" id="c-41565454" checked=""/><div class="controls bullet"><span class="by">asadeddin</span><span>|</span><a href="#41562035">root</a><span>|</span><a href="#41564760">parent</a><span>|</span><a href="#41565379">next</a><span>|</span><label class="collapse" for="c-41565454">[-]</label><label class="expand" for="c-41565454">[1 more]</label></div><br/><div class="children"><div class="content">Yes</div><br/></div></div></div></div></div></div><div id="41565379" class="c"><input type="checkbox" id="c-41565379" checked=""/><div class="controls bullet"><span class="by">bigiain</span><span>|</span><a href="#41562035">prev</a><span>|</span><a href="#41564377">next</a><span>|</span><label class="collapse" for="c-41565379">[-]</label><label class="expand" for="c-41565379">[2 more]</label></div><br/><div class="children"><div class="content">What an awesome way of finding companies who suspect their code is insecure, and then having them give you their source code. And _charging_ them for it, presumably to make it an easier sell to CXOs: &#x27;Nah, it&#x27;s not those free software hippy communists, they&#x27;re gonna make you pay through the nose for this, like a _proper_ compliance checkbox ticking outsourced vendor!&quot;<p>I wonder if this is an NSA front? Or Palintir maybe? Or NSO?</div><br/><div id="41565507" class="c"><input type="checkbox" id="c-41565507" checked=""/><div class="controls bullet"><span class="by">Mountain_Skies</span><span>|</span><a href="#41565379">parent</a><span>|</span><a href="#41564377">next</a><span>|</span><label class="collapse" for="c-41565507">[-]</label><label class="expand" for="c-41565507">[1 more]</label></div><br/><div class="children"><div class="content">The best companies to hit would be those foolish enough to not suspect their code is insecure because all software development produces vulns. Off prem scanning is a big issue in the AppSec space and vendors handle it in various ways, mostly through promises and documented processes, neither of which mean much if the vendor is a front for an intelligence agency or had otherwise been captured.<p>There are some free tools out there but most do lag behind the industry as a whole by quite a bit. There&#x27;s also lots of abandoned free tools out there cluttering up the space. Plenty started with good intentions that now give a false sense of security. There&#x27;s also lots of snake oil in the paid space. Doing one&#x27;s homework really helps here and you&#x27;d be surprised how many tools fail miserably during a simple proof of concept test, which is probably why more and more vendors try to avoid them.</div><br/></div></div></div></div><div id="41564377" class="c"><input type="checkbox" id="c-41564377" checked=""/><div class="controls bullet"><span class="by">nodeshiftcloud</span><span>|</span><a href="#41565379">prev</a><span>|</span><a href="#41565459">next</a><span>|</span><label class="collapse" for="c-41564377">[-]</label><label class="expand" for="c-41564377">[2 more]</label></div><br/><div class="children"><div class="content">we find the idea of fine-tuning an LLM to triage and fix insecure code intriguing. However, we have concerns about the limitations posed by the size of the training dataset. As @tptacek mentioned, relying on &quot;hundreds of closed source projects&quot; might not provide the diversity needed to effectively identify a wide range of vulnerabilities, especially in complex systems like the Linux kernel. Incorporating open-source projects could enrich the model&#x27;s understanding and improve its accuracy. Additionally, benchmarking the model by attempting to generate CVEs from open-source code seems like a practical way to assess its real-world effectiveness. Has anyone experimented with expanding the training data or testing the model against known vulnerabilities in open-source repositories?</div><br/><div id="41564493" class="c"><input type="checkbox" id="c-41564493" checked=""/><div class="controls bullet"><span class="by">asadeddin</span><span>|</span><a href="#41564377">parent</a><span>|</span><a href="#41565459">next</a><span>|</span><label class="collapse" for="c-41564493">[-]</label><label class="expand" for="c-41564493">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s what we&#x27;ve done. Unfortunately, I realized the sentence reads weirdly. It&#x27;s meant to say we use hundreds of repositories: close-source projects we own + open-source projects that are vulnerable by design + open source projects. I&#x27;ve updated the language in the post.<p>Doing so, we&#x27;ve been able to capture a very wide range of vulnerabilities namely in web application vulnerabilities. We&#x27;ve done this across small projects to very large ones too.</div><br/></div></div></div></div><div id="41565459" class="c"><input type="checkbox" id="c-41565459" checked=""/><div class="controls bullet"><span class="by">Mountain_Skies</span><span>|</span><a href="#41564377">prev</a><span>|</span><label class="collapse" for="c-41565459">[-]</label><label class="expand" for="c-41565459">[1 more]</label></div><br/><div class="children"><div class="content">Finding SQL Injection is pretty trivial for SAST tools. The difficulty is what happens next. After whatever tool finds several thousand SQLI vulns in a Cold Fusion application from 2001 that hasn&#x27;t been touched in over a decade, someone must be identified to take responsibility for changing the code, testing it, and deploying it. Even if the tool can change the code, no one will want to take responsibility for changes made to an application that has quietly running correctly since before most of their department has been at the company using an ancient technology that no one has experience with deploying into production. This is where so many vulns live.<p>Shift left and modern development patterns can catch a very large amount of known vulns so in newer applications things become mostly about fixing newly discovered vulns and doing it in an active development cycle. It&#x27;s the older code that&#x27;s the real scary monster and identifying the vulns is the least scary part of the process to get them remediated and put into production.<p>Anything that reduces false positives is good, especially if it does so without also making a significant reduction in identified true positives, but none of that changes the fact that it is the low hanging fruit of the system.</div><br/></div></div></div></div></div></div></div></body></html>