<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1731488470162" as="style"/><link rel="stylesheet" href="styles.css?v=1731488470162"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/rodneyknaap/atx-286at-v1-mainboard">80286 ATX mainboard based on the IBM 5170 AT PC</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>magicalhippo</span> | <span>25 comments</span></div><br/><div><div id="42123525" class="c"><input type="checkbox" id="c-42123525" checked=""/><div class="controls bullet"><span class="by">rkagerer</span><span>|</span><a href="#42122782">next</a><span>|</span><label class="collapse" for="c-42123525">[-]</label><label class="expand" for="c-42123525">[8 more]</label></div><br/><div class="children"><div class="content">This is awesome.<p>I miss the ISA bus and its simplicity.  People raved about PCI&#x27;s Plug and Play, but in practice I found it very straightforward to set IRQ jumpers and the experience was free of the quirky issues I encountered with PnP (especially in the early days).<p>I recall wiring an LED display and some very simple logic (like a buffer IC or something enabled by an address line in a non-existent memory segment) directly to an ISA wire wrap card and getting it to work on the first try.  One of the reasons I love working with microcontrollers (especially the relatively clean 8-bit architectures like AVR) is they lack so many layers of abstractions.<p>One major aspect of PCI which I do respect is it&#x27;s incredible backwards compatibility.  I still use a 20 year old Adaptec PCI SCSI card via an adapter carrier in in my latest PC (drivers were fun but it works).</div><br/><div id="42123818" class="c"><input type="checkbox" id="c-42123818" checked=""/><div class="controls bullet"><span class="by">toast0</span><span>|</span><a href="#42123525">parent</a><span>|</span><a href="#42123784">next</a><span>|</span><label class="collapse" for="c-42123818">[-]</label><label class="expand" for="c-42123818">[3 more]</label></div><br/><div class="children"><div class="content">IRQ jumpers weren&#x27;t <i>too</i> bad, but it was easy to run out of them, and not all devices could share interrupts well. PCI made IRQ sharing more accessible, but the real improvement was (in band) Message Signalled Interrupts, which allows for a much larger number of interrupts, ending sharing in most cases and also resulting in a knowable ordering between I&#x2F;O and interrupts, which can eliminate the race condition between interrupt arrival and status reads&#x2F;interrupt enable.<p>The other big pains of ISA were finding working I&#x2F;O assignments with lots of cards, and finding DMA channels (although ISA devices started doing their own bus mastering DMA because the motherboard DMA controllers were a fixed, slow, speed, by spec)</div><br/><div id="42123843" class="c"><input type="checkbox" id="c-42123843" checked=""/><div class="controls bullet"><span class="by">einr</span><span>|</span><a href="#42123525">root</a><span>|</span><a href="#42123818">parent</a><span>|</span><a href="#42123784">next</a><span>|</span><label class="collapse" for="c-42123843">[-]</label><label class="expand" for="c-42123843">[2 more]</label></div><br/><div class="children"><div class="content">IRQ sharing on PCI came with its own pains though which were sometimes harder to diagnose and fix. In the early 2000&#x27;s I was recording and mixing music with DAWs on Windows 2000 and you always had to be very careful that your PCI ASIO sound card did not share resources with <i>anything</i> else or you got to deal with dropouts and glitches. Plenty of futzing around in BIOS setup and Device Manager, very flaky stuff.</div><br/><div id="42123961" class="c"><input type="checkbox" id="c-42123961" checked=""/><div class="controls bullet"><span class="by">toast0</span><span>|</span><a href="#42123525">root</a><span>|</span><a href="#42123843">parent</a><span>|</span><a href="#42123784">next</a><span>|</span><label class="collapse" for="c-42123961">[-]</label><label class="expand" for="c-42123961">[1 more]</label></div><br/><div class="children"><div class="content">Definitely. Sharing was better than not being able to use your slots when you ran out of IRQs, but sharing wasn&#x27;t great. The idea of wiring 4 IRQs to the slot and let the card&#x2F;driver pick was good, but the reality wasn&#x27;t great if your motherboard just tied all 4 to the same pin on the interrupt controller.</div><br/></div></div></div></div></div></div><div id="42123784" class="c"><input type="checkbox" id="c-42123784" checked=""/><div class="controls bullet"><span class="by">contingencies</span><span>|</span><a href="#42123525">parent</a><span>|</span><a href="#42123818">prev</a><span>|</span><a href="#42122782">next</a><span>|</span><label class="collapse" for="c-42123784">[-]</label><label class="expand" for="c-42123784">[4 more]</label></div><br/><div class="children"><div class="content">My first machine was a 286, so they have a special place in my heart. It should be pointed out that the clock speed of an ATMega328P (original Arduino &#x2F; Arduino nano) is nearly exactly the same as an 80286. Two of the same could easily outcompute a 286! You can buy them for ~$3 at the moment...<p>I&#x27;ve put plenty of AVRs on ethernet - and once, a 386, using an ancient DOS TCP&#x2F;IP stack, but <i>never</i> a 286. Linux doesn&#x27;t support it due to requiring an FPU.<p>It&#x27;d be fun to design the electronics for an old-style computer, but IMHO it&#x27;d be far more amusing to do it from scratch with an original architecture than try recreating a third party motherboard using a similar layout scheme. Something with parallelism and auto-scaling would be quaint.</div><br/><div id="42123827" class="c"><input type="checkbox" id="c-42123827" checked=""/><div class="controls bullet"><span class="by">einr</span><span>|</span><a href="#42123525">root</a><span>|</span><a href="#42123784">parent</a><span>|</span><a href="#42123908">next</a><span>|</span><label class="collapse" for="c-42123827">[-]</label><label class="expand" for="c-42123827">[1 more]</label></div><br/><div class="children"><div class="content"><i>I&#x27;ve put plenty of AVRs on ethernet - and once, a 386, using an ancient DOS TCP&#x2F;IP stack, but never a 286. Linux doesn&#x27;t support it due to requiring an FPU.</i><p>mTCP (<a href="http:&#x2F;&#x2F;brutmanlabs.org&#x2F;mTCP&#x2F;" rel="nofollow">http:&#x2F;&#x2F;brutmanlabs.org&#x2F;mTCP&#x2F;</a>) is a currently-maintained TCP&#x2F;IP stack for MS-DOS that will run on any PC, 8088 and up. You also need a packet driver for your NIC. 286 machines are easy; nearly any 16-bit ISA NIC will work. XT-class machines are slightly trickier because not all NICs will work in 8-bit ISA slots and some packet drivers use 186&#x2F;286 instructions.</div><br/></div></div><div id="42123908" class="c"><input type="checkbox" id="c-42123908" checked=""/><div class="controls bullet"><span class="by">fredoralive</span><span>|</span><a href="#42123525">root</a><span>|</span><a href="#42123784">parent</a><span>|</span><a href="#42123827">prev</a><span>|</span><a href="#42123844">next</a><span>|</span><label class="collapse" for="c-42123908">[-]</label><label class="expand" for="c-42123908">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s the lack of a &quot;modern&quot; paged memory management unit that&#x27;s the main issue for mainline Linux on a 286 AFAIK. Nobody wants to deal with x86 segmented memory, having a nice flat addressing paged mode is one of the big wins of the 386. Although I believe Linux dropped support for 386 (and 486?) a while back so they could remove some special cases for such old chips.</div><br/></div></div><div id="42123844" class="c"><input type="checkbox" id="c-42123844" checked=""/><div class="controls bullet"><span class="by">pantalaimon</span><span>|</span><a href="#42123525">root</a><span>|</span><a href="#42123784">parent</a><span>|</span><a href="#42123908">prev</a><span>|</span><a href="#42122782">next</a><span>|</span><label class="collapse" for="c-42123844">[-]</label><label class="expand" for="c-42123844">[1 more]</label></div><br/><div class="children"><div class="content">Linux runs fine without an FPU, it even has a software emulation.<p>It’s the hardware task switching features that the 386 introduced that it requires (and the reason why Linus got one in the first place back in the day)</div><br/></div></div></div></div></div></div><div id="42122782" class="c"><input type="checkbox" id="c-42122782" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#42123525">prev</a><span>|</span><a href="#42123350">next</a><span>|</span><label class="collapse" for="c-42122782">[-]</label><label class="expand" for="c-42122782">[1 more]</label></div><br/><div class="children"><div class="content">Stumbled over this project, which features schematics and details for a 286 motherboard and an ISA memory add-on board. From the readme:<p><i>Current status(okt 2024): This project is built, fully functional, now able to operate at 20MHz CPU speed.</i><p>There&#x27;s still stock out there of original 286 CPUs, as Intel licensed several manufacturers[1].<p>[1]: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;List_of_x86_manufacturers#Manufactured_and_sold_under_its_own_name_of_x86-processors_designed_by_others" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;List_of_x86_manufacturers#Manu...</a></div><br/></div></div><div id="42123350" class="c"><input type="checkbox" id="c-42123350" checked=""/><div class="controls bullet"><span class="by">mikepurvis</span><span>|</span><a href="#42122782">prev</a><span>|</span><a href="#42123130">next</a><span>|</span><label class="collapse" for="c-42123350">[-]</label><label class="expand" for="c-42123350">[5 more]</label></div><br/><div class="children"><div class="content">I&#x27;d be fascinated to have a breakdown of what all the ICs are on the motherboard. Like are they mostly ASICs, or mostly discrete logic, like level shifters, gate drivers, shift registers and the like?<p>Either way, it&#x27;s amazing to think that basically every non-power related chip on that board is now inside a modern chipset IC.</div><br/><div id="42123614" class="c"><input type="checkbox" id="c-42123614" checked=""/><div class="controls bullet"><span class="by">gary_0</span><span>|</span><a href="#42123350">parent</a><span>|</span><a href="#42123643">next</a><span>|</span><label class="collapse" for="c-42123614">[-]</label><label class="expand" for="c-42123614">[1 more]</label></div><br/><div class="children"><div class="content">The schematic is right there in the repo so I randomly googled some of the part numbers:<p>LS125 - 3-state bus buffers - <a href="https:&#x2F;&#x2F;www.ti.com&#x2F;lit&#x2F;ds&#x2F;symlink&#x2F;sn54ls125a.pdf?ts=1731481090480" rel="nofollow">https:&#x2F;&#x2F;www.ti.com&#x2F;lit&#x2F;ds&#x2F;symlink&#x2F;sn54ls125a.pdf?ts=17314810...</a><p>LS612 - Memory mappers - <a href="https:&#x2F;&#x2F;media.digikey.com&#x2F;pdf&#x2F;Data%20Sheets&#x2F;Rochester%20PDFs&#x2F;SN54LSS61x_SN74LS61x.pdf" rel="nofollow">https:&#x2F;&#x2F;media.digikey.com&#x2F;pdf&#x2F;Data%20Sheets&#x2F;Rochester%20PDFs...</a><p>8259 - Interrupt controller - <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Intel_8259" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Intel_8259</a><p>27C256 - ROM - <a href="https:&#x2F;&#x2F;ww1.microchip.com&#x2F;downloads&#x2F;aemDocuments&#x2F;documents&#x2F;OTH&#x2F;ProductDocuments&#x2F;DataSheets&#x2F;11001N.pdf" rel="nofollow">https:&#x2F;&#x2F;ww1.microchip.com&#x2F;downloads&#x2F;aemDocuments&#x2F;documents&#x2F;O...</a><p>Most of it is somewhat more high-level than the 7400-series ICs and such you might find in something older like the early 6502-based microcomputer motherboards.</div><br/></div></div><div id="42123643" class="c"><input type="checkbox" id="c-42123643" checked=""/><div class="controls bullet"><span class="by">rob74</span><span>|</span><a href="#42123350">parent</a><span>|</span><a href="#42123614">prev</a><span>|</span><a href="#42123130">next</a><span>|</span><label class="collapse" for="c-42123643">[-]</label><label class="expand" for="c-42123643">[3 more]</label></div><br/><div class="children"><div class="content">Not sure about the rest, but I thought it was funny that the 80286 CPU is among the <i>smallest</i> chips on the board - that&#x27;s probably due to the PLCC (?) packaging, while most of the others are DIP, but still...<p>The only other PLCC-packaged chips are two ATF1508AS, which are indeed ASICs (CPLDs) - oh, and the 53C400, which is... a SCSI controller (probably added as a bonus?!).</div><br/><div id="42123821" class="c"><input type="checkbox" id="c-42123821" checked=""/><div class="controls bullet"><span class="by">shiroiushi</span><span>|</span><a href="#42123350">root</a><span>|</span><a href="#42123643">parent</a><span>|</span><a href="#42123130">next</a><span>|</span><label class="collapse" for="c-42123821">[-]</label><label class="expand" for="c-42123821">[2 more]</label></div><br/><div class="children"><div class="content">&gt;I thought it was funny that the 80286 CPU is among the smallest chips on the board - that&#x27;s probably due to the PLCC (?) packaging, while most of the others are DIP<p>That&#x27;s basically it.  The 286 has a much larger wafer inside than a typical DIP, and DIPs are extremely inefficient packages.<p>It would be interesting to see how much you could shrink this board down if all these chips were replaced with BGAs (using the same wafers inside).  Obviously, that&#x27;s not really feasible (no one is selling a BGA version of an 8259 interrupt controller, much less an 80286), but it would be interesting to see the dramatic size reduction, just from packaging waste.  Also interesting would be if you designed a board using BGA versions of all these chips, but fabbed on modern IC processes (thus yielding much smaller wafers. and therefore somewhat smaller BGA packages).  Of course, the whole thing could probably just be implemented with a single FPGA these days.</div><br/><div id="42123998" class="c"><input type="checkbox" id="c-42123998" checked=""/><div class="controls bullet"><span class="by">rob74</span><span>|</span><a href="#42123350">root</a><span>|</span><a href="#42123821">parent</a><span>|</span><a href="#42123130">next</a><span>|</span><label class="collapse" for="c-42123998">[-]</label><label class="expand" for="c-42123998">[1 more]</label></div><br/><div class="children"><div class="content">TBH that&#x27;s nothing new... for instance, it takes a while to find the 68020 CPU on the Amiga 1200 mainboard: <a href="https:&#x2F;&#x2F;bigbookofamigahardware.com&#x2F;bboah&#x2F;media&#x2F;download_photos&#x2F;a1200mb_rev1d4.jpg" rel="nofollow">https:&#x2F;&#x2F;bigbookofamigahardware.com&#x2F;bboah&#x2F;media&#x2F;download_phot...</a></div><br/></div></div></div></div></div></div></div></div><div id="42123130" class="c"><input type="checkbox" id="c-42123130" checked=""/><div class="controls bullet"><span class="by">ForOldHack</span><span>|</span><a href="#42123350">prev</a><span>|</span><a href="#42123225">next</a><span>|</span><label class="collapse" for="c-42123130">[-]</label><label class="expand" for="c-42123130">[1 more]</label></div><br/><div class="children"><div class="content">But can it boot SCO Xenix v2.3.2d?</div><br/></div></div><div id="42123225" class="c"><input type="checkbox" id="c-42123225" checked=""/><div class="controls bullet"><span class="by">Suppafly</span><span>|</span><a href="#42123130">prev</a><span>|</span><a href="#42123563">next</a><span>|</span><label class="collapse" for="c-42123225">[-]</label><label class="expand" for="c-42123225">[8 more]</label></div><br/><div class="children"><div class="content">Is the &quot;based on the IBM 5170 AT PC&quot; bit because he started with a 5170 design and updated to 286 piecemeal instead of cloning a 286 design directly?</div><br/><div id="42123328" class="c"><input type="checkbox" id="c-42123328" checked=""/><div class="controls bullet"><span class="by">m3galinux</span><span>|</span><a href="#42123225">parent</a><span>|</span><a href="#42123285">next</a><span>|</span><label class="collapse" for="c-42123328">[-]</label><label class="expand" for="c-42123328">[4 more]</label></div><br/><div class="children"><div class="content">5170 (IBM AT) <i>was</i> a 286 design. The 5150 (IBM PC) and 5160 (IBM PC XT) were the previous 8088-based systems. Sounds like it&#x27;s described as &quot;based on&quot; because it&#x27;s heavily reverse engineered, modified to use more readily available components where possible, and then improved to 20MHz capability over the original 5170&#x27;s 6&#x2F;8MHz.<p>Lots of info on the 51xx series of machines is here: <a href="https:&#x2F;&#x2F;www.minuszerodegrees.net&#x2F;index.htm" rel="nofollow">https:&#x2F;&#x2F;www.minuszerodegrees.net&#x2F;index.htm</a></div><br/><div id="42123832" class="c"><input type="checkbox" id="c-42123832" checked=""/><div class="controls bullet"><span class="by">shiroiushi</span><span>|</span><a href="#42123225">root</a><span>|</span><a href="#42123328">parent</a><span>|</span><a href="#42123833">next</a><span>|</span><label class="collapse" for="c-42123832">[-]</label><label class="expand" for="c-42123832">[1 more]</label></div><br/><div class="children"><div class="content">&gt;Sounds like it&#x27;s described as &quot;based on&quot; because it&#x27;s heavily reverse engineered, modified to use more readily available components where possible, and then improved to 20MHz capability over the original 5170&#x27;s 6&#x2F;8MHz.<p>I wonder if he looked at any clone motherboards from that time, or a few years later?  16MHz and 20MHz 286s were quite common before the 386 took over, and they probably had to make some changes too (and came a few years after the PC AT, and so probably had a lot of improvements; the AT came out in 1984, but the clone 286s were still pretty strong in the late 80s).</div><br/></div></div><div id="42123833" class="c"><input type="checkbox" id="c-42123833" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#42123225">root</a><span>|</span><a href="#42123328">parent</a><span>|</span><a href="#42123832">prev</a><span>|</span><a href="#42123566">next</a><span>|</span><label class="collapse" for="c-42123833">[-]</label><label class="expand" for="c-42123833">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also the somewhat odd &quot;XT&#x2F;286&quot; 5162, which was somewhere in between the two, and closer to the AT than the XT.<p><a href="https:&#x2F;&#x2F;dfarq.homeip.net&#x2F;ibm-5162-pc-xt-286-the-at-in-xt-clothing&#x2F;" rel="nofollow">https:&#x2F;&#x2F;dfarq.homeip.net&#x2F;ibm-5162-pc-xt-286-the-at-in-xt-clo...</a></div><br/></div></div><div id="42123566" class="c"><input type="checkbox" id="c-42123566" checked=""/><div class="controls bullet"><span class="by">Suppafly</span><span>|</span><a href="#42123225">root</a><span>|</span><a href="#42123328">parent</a><span>|</span><a href="#42123833">prev</a><span>|</span><a href="#42123285">next</a><span>|</span><label class="collapse" for="c-42123566">[-]</label><label class="expand" for="c-42123566">[1 more]</label></div><br/><div class="children"><div class="content">Ah, thanks I misunderstood.</div><br/></div></div></div></div><div id="42123285" class="c"><input type="checkbox" id="c-42123285" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#42123225">parent</a><span>|</span><a href="#42123328">prev</a><span>|</span><a href="#42123434">next</a><span>|</span><label class="collapse" for="c-42123285">[-]</label><label class="expand" for="c-42123285">[2 more]</label></div><br/><div class="children"><div class="content">From what I gathered the 5170 was[1] a 286 design?<p>In any case, from the description:<p><i>Luckily I found an Ebay auction which offered an IBM 5170 mainboard for a very reasonable price.</i><p><i>I proceeded to draft modern KiCad schematics for the 5170 and subsequently modified the IBM designs to suit this project as much as possible.</i><p>[1]: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;IBM_Personal_Computer_AT" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;IBM_Personal_Computer_AT</a></div><br/><div id="42123576" class="c"><input type="checkbox" id="c-42123576" checked=""/><div class="controls bullet"><span class="by">Suppafly</span><span>|</span><a href="#42123225">root</a><span>|</span><a href="#42123285">parent</a><span>|</span><a href="#42123434">next</a><span>|</span><label class="collapse" for="c-42123576">[-]</label><label class="expand" for="c-42123576">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I was confused, I assumed all the 51xx were the older 8088 models.</div><br/></div></div></div></div></div></div><div id="42123563" class="c"><input type="checkbox" id="c-42123563" checked=""/><div class="controls bullet"><span class="by">WarOnPrivacy</span><span>|</span><a href="#42123225">prev</a><span>|</span><label class="collapse" for="c-42123563">[-]</label><label class="expand" for="c-42123563">[1 more]</label></div><br/><div class="children"><div class="content">Full nostalgia for me: The keyboard bios bricks itself, if I unplug the keyboard while the system is up.<p>Old days were hard before USB showed up.</div><br/></div></div></div></div></div></div></div></body></html>