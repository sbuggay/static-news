<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1705482060084" as="style"/><link rel="stylesheet" href="styles.css?v=1705482060084"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://mastodon.me.uk/@bbcmicrobot/111762132859648345">BBC BASIC raytracer in 432 characters</a> <span class="domain">(<a href="https://mastodon.me.uk">mastodon.me.uk</a>)</span></div><div class="subtext"><span>neffo</span> | <span>24 comments</span></div><br/><div><div id="39023768" class="c"><input type="checkbox" id="c-39023768" checked=""/><div class="controls bullet"><span class="by">LeoPanthera</span><span>|</span><a href="#39023958">next</a><span>|</span><label class="collapse" for="c-39023768">[-]</label><label class="expand" for="c-39023768">[9 more]</label></div><br/><div class="children"><div class="content">In the replies underneath, someone ran it on a real Acorn Electron computer (6502 at 1 MHz), where it completed in 8 hours and 40 minutes. Not too bad really.</div><br/><div id="39024069" class="c"><input type="checkbox" id="c-39024069" checked=""/><div class="controls bullet"><span class="by">PlunderBunny</span><span>|</span><a href="#39023768">parent</a><span>|</span><a href="#39023789">next</a><span>|</span><label class="collapse" for="c-39024069">[-]</label><label class="expand" for="c-39024069">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m running this on a BBC micro emulator running at period-accurate speed, and it&#x27;s taking just under a minute to draw one line. So I think it&#x27;s going to finish in about 4 hours, which would make sense - approximately twice as fast as the Acorn Electron.</div><br/></div></div><div id="39023789" class="c"><input type="checkbox" id="c-39023789" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#39023768">parent</a><span>|</span><a href="#39024069">prev</a><span>|</span><a href="#39023958">next</a><span>|</span><label class="collapse" for="c-39023789">[-]</label><label class="expand" for="c-39023789">[7 more]</label></div><br/><div class="children"><div class="content">that&#x27;s astounding; i would have guessed months or years</div><br/><div id="39023826" class="c"><input type="checkbox" id="c-39023826" checked=""/><div class="controls bullet"><span class="by">LeoPanthera</span><span>|</span><a href="#39023768">root</a><span>|</span><a href="#39023789">parent</a><span>|</span><a href="#39023958">next</a><span>|</span><label class="collapse" for="c-39023826">[-]</label><label class="expand" for="c-39023826">[6 more]</label></div><br/><div class="children"><div class="content">BBC BASIC is surprisingly efficient for an interpreted language. It kind of had to be, running on processors that slow.</div><br/><div id="39024527" class="c"><input type="checkbox" id="c-39024527" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#39023768">root</a><span>|</span><a href="#39023826">parent</a><span>|</span><a href="#39023903">next</a><span>|</span><label class="collapse" for="c-39024527">[-]</label><label class="expand" for="c-39024527">[1 more]</label></div><br/><div class="children"><div class="content">all the basics i used on processors that slow were surprisingly inefficient, even for an interpreted languages<p>i thought they had to be, running on processors with that little memory.  though later on i learned about forth, which <i>is</i> surprisingly efficient for an interpreted language<p>a more likely explanation is that sophie wilson was just a better hacker than bill gates and paul allen</div><br/></div></div><div id="39023903" class="c"><input type="checkbox" id="c-39023903" checked=""/><div class="controls bullet"><span class="by">KerrAvon</span><span>|</span><a href="#39023768">root</a><span>|</span><a href="#39023826">parent</a><span>|</span><a href="#39024527">prev</a><span>|</span><a href="#39023958">next</a><span>|</span><label class="collapse" for="c-39023903">[-]</label><label class="expand" for="c-39023903">[4 more]</label></div><br/><div class="children"><div class="content">Some good discussion of that on The BBC BASIC wiki entry: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;BBC_BASIC" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;BBC_BASIC</a> (paragraph beginning &quot;Due to a number of optimizations[…]&quot;.</div><br/><div id="39024478" class="c"><input type="checkbox" id="c-39024478" checked=""/><div class="controls bullet"><span class="by">crimbles</span><span>|</span><a href="#39023768">root</a><span>|</span><a href="#39023903">parent</a><span>|</span><a href="#39023958">next</a><span>|</span><label class="collapse" for="c-39024478">[-]</label><label class="expand" for="c-39024478">[3 more]</label></div><br/><div class="children"><div class="content">Also you could swap out hot spots with assembly trivially as it had an inline assembler. And you had indirect pointers in it!</div><br/><div id="39024692" class="c"><input type="checkbox" id="c-39024692" checked=""/><div class="controls bullet"><span class="by">mavhc</span><span>|</span><a href="#39023768">root</a><span>|</span><a href="#39024478">parent</a><span>|</span><a href="#39023958">next</a><span>|</span><label class="collapse" for="c-39024692">[-]</label><label class="expand" for="c-39024692">[2 more]</label></div><br/><div class="children"><div class="content">The OP&#x27;s code has REM based assembly it in to save space</div><br/><div id="39024838" class="c"><input type="checkbox" id="c-39024838" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#39023768">root</a><span>|</span><a href="#39024692">parent</a><span>|</span><a href="#39023958">next</a><span>|</span><label class="collapse" for="c-39024838">[-]</label><label class="expand" for="c-39024838">[1 more]</label></div><br/><div class="children"><div class="content">is that assembly or is that the dithering table</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="39023958" class="c"><input type="checkbox" id="c-39023958" checked=""/><div class="controls bullet"><span class="by">po</span><span>|</span><a href="#39023768">prev</a><span>|</span><a href="#39023936">next</a><span>|</span><label class="collapse" for="c-39023958">[-]</label><label class="expand" for="c-39023958">[2 more]</label></div><br/><div class="children"><div class="content">Also, don&#x27;t miss the gallery site! <a href="https:&#x2F;&#x2F;www.bbcmicrobot.com" rel="nofollow">https:&#x2F;&#x2F;www.bbcmicrobot.com</a></div><br/><div id="39025013" class="c"><input type="checkbox" id="c-39025013" checked=""/><div class="controls bullet"><span class="by">neffo</span><span>|</span><a href="#39023958">parent</a><span>|</span><a href="#39023936">next</a><span>|</span><label class="collapse" for="c-39025013">[-]</label><label class="expand" for="c-39025013">[1 more]</label></div><br/><div class="children"><div class="content">the gallery site is amazing in and of itself. the gallery isn&#x27;t PNGs or GIFs - it&#x27;s generated in the browser from the emulator state. if you hover over an item it resumes the emulator.<p><a href="https:&#x2F;&#x2F;mastodon.me.uk&#x2F;@bbcmicrobot&#x2F;111760484438439751" rel="nofollow">https:&#x2F;&#x2F;mastodon.me.uk&#x2F;@bbcmicrobot&#x2F;111760484438439751</a></div><br/></div></div></div></div><div id="39023936" class="c"><input type="checkbox" id="c-39023936" checked=""/><div class="controls bullet"><span class="by">ChrisArchitect</span><span>|</span><a href="#39023958">prev</a><span>|</span><a href="#39023871">next</a><span>|</span><label class="collapse" for="c-39023936">[-]</label><label class="expand" for="c-39023936">[1 more]</label></div><br/><div class="children"><div class="content">This one was from 2021.<p>Do enjoy the insane things ppl managed to cram into tweets to the bbcmicrobot over the years. Anyone who&#x27;s followed any part of the demoscene especially the classic smaller payload demos.. 4k etc.....this kinda thing is mindblowing and totally in the same spirit.</div><br/></div></div><div id="39023871" class="c"><input type="checkbox" id="c-39023871" checked=""/><div class="controls bullet"><span class="by">ManuelKiessling</span><span>|</span><a href="#39023936">prev</a><span>|</span><a href="#39024645">next</a><span>|</span><label class="collapse" for="c-39023871">[-]</label><label class="expand" for="c-39023871">[3 more]</label></div><br/><div class="children"><div class="content">Ok, this is probably a dumb question: I get that the code traces the rays for this scene, obviously — but where is the scene, then? That is, where is the “data” (as opposed to the algorithm) that says “there’s a sphere at coordinates x,y,z with radius r, and here’s the other one, and here’s the checkerboard plane”?</div><br/><div id="39023976" class="c"><input type="checkbox" id="c-39023976" checked=""/><div class="controls bullet"><span class="by">sp332</span><span>|</span><a href="#39023871">parent</a><span>|</span><a href="#39024063">next</a><span>|</span><label class="collapse" for="c-39023976">[-]</label><label class="expand" for="c-39023976">[1 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  W=1&#x2F;SQR(U*U+V*V+1)
</code></pre>
This makes a sphere. It gets multiplied by two coordinates to make spheres at different places, U and V.</div><br/></div></div><div id="39024063" class="c"><input type="checkbox" id="c-39024063" checked=""/><div class="controls bullet"><span class="by">Sharlin</span><span>|</span><a href="#39023871">parent</a><span>|</span><a href="#39023976">prev</a><span>|</span><a href="#39024645">next</a><span>|</span><label class="collapse" for="c-39024063">[-]</label><label class="expand" for="c-39024063">[1 more]</label></div><br/><div class="children"><div class="content">It’s mostly implicit. See how the spheres are symmetric about the centerpoint? (Well, almost, the camera is at Y = -0.1.) The (X, Y) coordinates of their centers are simply (-1, -1) and (1, 1), given by the `I = SGN U` variable at the end of line 40. The Z is implicitly zero. Their radius is 1. The plane is basically defined by `P = Y - 2` at line 60.</div><br/></div></div></div></div><div id="39024645" class="c"><input type="checkbox" id="c-39024645" checked=""/><div class="controls bullet"><span class="by">jug</span><span>|</span><a href="#39023871">prev</a><span>|</span><a href="#39023809">next</a><span>|</span><label class="collapse" for="c-39024645">[-]</label><label class="expand" for="c-39024645">[1 more]</label></div><br/><div class="children"><div class="content">This effort is truly specular!</div><br/></div></div><div id="39023809" class="c"><input type="checkbox" id="c-39023809" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#39024645">prev</a><span>|</span><a href="#39023854">next</a><span>|</span><label class="collapse" for="c-39023809">[-]</label><label class="expand" for="c-39023809">[5 more]</label></div><br/><div class="children"><div class="content">this says `goto 50` but there are no line numbers</div><br/><div id="39023928" class="c"><input type="checkbox" id="c-39023928" checked=""/><div class="controls bullet"><span class="by">EspadaV9</span><span>|</span><a href="#39023809">parent</a><span>|</span><a href="#39023862">next</a><span>|</span><label class="collapse" for="c-39023928">[-]</label><label class="expand" for="c-39023928">[3 more]</label></div><br/><div class="children"><div class="content">If you go to the source link - <a href="https:&#x2F;&#x2F;bbcmic.ro&#x2F;?t=9ctpk" rel="nofollow">https:&#x2F;&#x2F;bbcmic.ro&#x2F;?t=9ctpk</a> - then you can see the numbers with the lines. They increment in steps of 10 (which IIRC you could override manually with numbers in-between).</div><br/><div id="39024053" class="c"><input type="checkbox" id="c-39024053" checked=""/><div class="controls bullet"><span class="by">PlunderBunny</span><span>|</span><a href="#39023809">root</a><span>|</span><a href="#39023928">parent</a><span>|</span><a href="#39024525">next</a><span>|</span><label class="collapse" for="c-39024053">[-]</label><label class="expand" for="c-39024053">[1 more]</label></div><br/><div class="children"><div class="content">If you&#x27;re playing with this on a BBC micro emulator, the best way to get this code into the emulator is to download the disk image from the above link. The actual basic program is named &quot;PROGRAM&quot; on the disc. List the code by typing LIST20, (the computer will lock up if you try to list line 10).<p>If you just want to see the result, type MODE 1 and then press return, then type *LOAD SCREEN and press return again.</div><br/></div></div><div id="39024525" class="c"><input type="checkbox" id="c-39024525" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#39023809">root</a><span>|</span><a href="#39023928">parent</a><span>|</span><a href="#39024053">prev</a><span>|</span><a href="#39023862">next</a><span>|</span><label class="collapse" for="c-39024525">[-]</label><label class="expand" for="c-39024525">[1 more]</label></div><br/><div class="children"><div class="content">thanks!  i didn&#x27;t see that link.  but i think the 432 bytes leaves the line numbers out, so it should actually be 448 bytes</div><br/></div></div></div></div><div id="39023862" class="c"><input type="checkbox" id="c-39023862" checked=""/><div class="controls bullet"><span class="by">LeoPanthera</span><span>|</span><a href="#39023809">parent</a><span>|</span><a href="#39023928">prev</a><span>|</span><a href="#39023854">next</a><span>|</span><label class="collapse" for="c-39023862">[-]</label><label class="expand" for="c-39023862">[1 more]</label></div><br/><div class="children"><div class="content">The robot automatically adds line numbers in increments of 10s.</div><br/></div></div></div></div></div></div></div></div></div></body></html>