<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1704272454178" as="style"/><link rel="stylesheet" href="styles.css?v=1704272454178"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://wozniak.ca/blog/2024/01/02/1/index.html">GCC Specs: An Introduction</a> <span class="domain">(<a href="https://wozniak.ca">wozniak.ca</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>11 comments</span></div><br/><div><div id="38850840" class="c"><input type="checkbox" id="c-38850840" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#38850842">next</a><span>|</span><label class="collapse" for="c-38850840">[-]</label><label class="expand" for="c-38850840">[5 more]</label></div><br/><div class="children"><div class="content">Everyone should take a lesson from this language about how <i>not</i> to design a DSL. It probably started out as a humble declarative language, but it got extremely complex after decades, with impurity (`%x` etc.) and functions (`%:foo()`) and a sort of metaprogramming. At some point the whole language should have been scrapped (with a minimal support for backward compatibility) and replaced with a small scripting language, preferably shared with other places that need scripting. Don&#x27;t grow your language past its limit.</div><br/><div id="38850971" class="c"><input type="checkbox" id="c-38850971" checked=""/><div class="controls bullet"><span class="by">larusso</span><span>|</span><a href="#38850840">parent</a><span>|</span><a href="#38850842">next</a><span>|</span><label class="collapse" for="c-38850971">[-]</label><label class="expand" for="c-38850971">[4 more]</label></div><br/><div class="children"><div class="content">I agree. But hindsight is a very cushy position to look back from. Making said decision at any given point in time during the development is harder. Should I add a simple support for functions because I need to express something the DSL doesn’t support or should I replace everything and replace it with a complete new solution and added complexity. I mean these decisions tend to become very clear a few month&#x2F;years down the line. 
The dangerous path of not doing a needed refactor early is that with added time, it can become more and more difficult to do the refactor at a later point. Could be because of sheer size, or because there are no test specs or because the feature is public facing.</div><br/><div id="38851054" class="c"><input type="checkbox" id="c-38851054" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#38850840">root</a><span>|</span><a href="#38850971">parent</a><span>|</span><a href="#38850842">next</a><span>|</span><label class="collapse" for="c-38851054">[-]</label><label class="expand" for="c-38851054">[3 more]</label></div><br/><div class="children"><div class="content">I totally agree that you can&#x27;t decide whether a refactoring is required or not for quite a long time. But this language has been around for more than 2 decades, and documented since 2001 [1]. Moreover all main issues were already present at that point and even more options and features were added since then (e.g. `%:sanitizer()` should have been added after sanitizers themselves, i.e. 2012). I think 21 years are long enough to do something about it.<p>[1] <a href="https:&#x2F;&#x2F;gcc.gnu.org&#x2F;onlinedocs&#x2F;gcc-3.0.4&#x2F;gcc_3.html#SEC18" rel="nofollow">https:&#x2F;&#x2F;gcc.gnu.org&#x2F;onlinedocs&#x2F;gcc-3.0.4&#x2F;gcc_3.html#SEC18</a></div><br/><div id="38851195" class="c"><input type="checkbox" id="c-38851195" checked=""/><div class="controls bullet"><span class="by">larusso</span><span>|</span><a href="#38850840">root</a><span>|</span><a href="#38851054">parent</a><span>|</span><a href="#38850842">next</a><span>|</span><label class="collapse" for="c-38851195">[-]</label><label class="expand" for="c-38851195">[2 more]</label></div><br/><div class="children"><div class="content">Again no argument there. Don’t want to imply the intend of the parent comment but I hear it quite often at work that new people come into projects etc and declare statements backed by virtue of looking at all the facts long after all decisions had been made. I think with projects like GCC any decision should be waited for the long game. In commercial software the pesky labor and maintenance cost also become a factor :(</div><br/><div id="38851243" class="c"><input type="checkbox" id="c-38851243" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#38850840">root</a><span>|</span><a href="#38851195">parent</a><span>|</span><a href="#38850842">next</a><span>|</span><label class="collapse" for="c-38851243">[-]</label><label class="expand" for="c-38851243">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s indeed a good point, as I too have been both culprit and victim of this issue. My general sentiment was that this is mostly about management, i.e. how to manage complexity, and this apparent failure can make a good counterexample, but I was not careful enough to put a disclaimer that GCC may have a totally good reason to leave it as is (if it&#x27;s the case, the reason is probably that only a small number of people will ever work with this language). Thank you for explicitly voicing that concern.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="38850842" class="c"><input type="checkbox" id="c-38850842" checked=""/><div class="controls bullet"><span class="by">jiveturkey</span><span>|</span><a href="#38850840">prev</a><span>|</span><a href="#38850648">next</a><span>|</span><label class="collapse" for="c-38850842">[-]</label><label class="expand" for="c-38850842">[1 more]</label></div><br/><div class="children"><div class="content">like writing sendmail.cf<p>claus assman anyone? i submitted a patch&#x2F; contribution to him once. he accepted it.<p>i also did have to write my own specs file, for what reason i forget</div><br/></div></div><div id="38850648" class="c"><input type="checkbox" id="c-38850648" checked=""/><div class="controls bullet"><span class="by">booleandilemma</span><span>|</span><a href="#38850842">prev</a><span>|</span><label class="collapse" for="c-38850648">[-]</label><label class="expand" for="c-38850648">[4 more]</label></div><br/><div class="children"><div class="content">Not that Wozniak.</div><br/><div id="38850758" class="c"><input type="checkbox" id="c-38850758" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#38850648">parent</a><span>|</span><a href="#38850901">next</a><span>|</span><label class="collapse" for="c-38850758">[-]</label><label class="expand" for="c-38850758">[2 more]</label></div><br/><div class="children"><div class="content">Geoff&#x27;s articles have had quite a few big HN threads over the years: <a href="https:&#x2F;&#x2F;hn.algolia.com&#x2F;?dateRange=all&amp;page=0&amp;prefix=true&amp;query=points%3E50%20wozniak.ca&amp;sort=byDate&amp;type=story" rel="nofollow">https:&#x2F;&#x2F;hn.algolia.com&#x2F;?dateRange=all&amp;page=0&amp;prefix=true&amp;que...</a><p>(but please don&#x27;t post unsubstantive comments to Hacker News)</div><br/><div id="38851889" class="c"><input type="checkbox" id="c-38851889" checked=""/><div class="controls bullet"><span class="by">jhatemyjob</span><span>|</span><a href="#38850648">root</a><span>|</span><a href="#38850758">parent</a><span>|</span><a href="#38850901">next</a><span>|</span><label class="collapse" for="c-38851889">[-]</label><label class="expand" for="c-38851889">[1 more]</label></div><br/><div class="children"><div class="content">The parent is a refined version of <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=8832967">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=8832967</a></div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>