<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1706259658538" as="style"/><link rel="stylesheet" href="styles.css?v=1706259658538"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/andrewnguonly/Lumos">Show HN: Lumos, a local LLM Chrome extension</a>Â <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>andrewnguonly</span> | <span>30 comments</span></div><br/><div><div id="39135061" class="c"><input type="checkbox" id="c-39135061" checked=""/><div class="controls bullet"><span class="by">hiatus</span><span>|</span><a href="#39135002">next</a><span>|</span><label class="collapse" for="c-39135061">[-]</label><label class="expand" for="c-39135061">[3 more]</label></div><br/><div class="children"><div class="content">I have been looking for something like this! I noticed you suggest setting the ollama host as a variable (I personally run ollama on a beefier desktop and query remotely), hopefully that will translate over to the options page as well (I noticed the options page seems to have the ollama host hardcoded, though <a href="https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;pull&#x2F;34&#x2F;files#diff-83823e43e1951243df37ebb39915e62af9ed56ce1763f560b492056f9abe8472R19">https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;pull&#x2F;34&#x2F;files#diff-83...</a>)</div><br/><div id="39135096" class="c"><input type="checkbox" id="c-39135096" checked=""/><div class="controls bullet"><span class="by">andrewnguonly</span><span>|</span><a href="#39135061">parent</a><span>|</span><a href="#39137077">next</a><span>|</span><label class="collapse" for="c-39135096">[-]</label><label class="expand" for="c-39135096">[1 more]</label></div><br/><div class="children"><div class="content">Yes! I&#x27;m planning to migrate the Ollama hostname configuration to the Options page as well.</div><br/></div></div><div id="39137077" class="c"><input type="checkbox" id="c-39137077" checked=""/><div class="controls bullet"><span class="by">regularfry</span><span>|</span><a href="#39135061">parent</a><span>|</span><a href="#39135096">prev</a><span>|</span><a href="#39135002">next</a><span>|</span><label class="collapse" for="c-39137077">[-]</label><label class="expand" for="c-39137077">[1 more]</label></div><br/><div class="children"><div class="content">Until then, there&#x27;s SSH port forwarding.</div><br/></div></div></div></div><div id="39135002" class="c"><input type="checkbox" id="c-39135002" checked=""/><div class="controls bullet"><span class="by">kin</span><span>|</span><a href="#39135061">prev</a><span>|</span><a href="#39135711">next</a><span>|</span><label class="collapse" for="c-39135002">[-]</label><label class="expand" for="c-39135002">[5 more]</label></div><br/><div class="children"><div class="content">Most useful would be to browse Discord in the web view and summarize all the noisy chats<p>Would also be cool to have the extension click into every link of search results and spit out an aggregate of the results</div><br/><div id="39136520" class="c"><input type="checkbox" id="c-39136520" checked=""/><div class="controls bullet"><span class="by">giovannibonetti</span><span>|</span><a href="#39135002">parent</a><span>|</span><a href="#39135124">next</a><span>|</span><label class="collapse" for="c-39136520">[-]</label><label class="expand" for="c-39136520">[2 more]</label></div><br/><div class="children"><div class="content">Good idea. I&#x27;ll try it with Whatsapp through web.whatsapp.com</div><br/><div id="39136741" class="c"><input type="checkbox" id="c-39136741" checked=""/><div class="controls bullet"><span class="by">andrewnguonly</span><span>|</span><a href="#39135002">root</a><span>|</span><a href="#39136520">parent</a><span>|</span><a href="#39135124">next</a><span>|</span><label class="collapse" for="c-39136741">[-]</label><label class="expand" for="c-39136741">[1 more]</label></div><br/><div class="children"><div class="content">Someone else mentioned Slack as well. I guess web apps for chat products are actually a big use case.</div><br/></div></div></div></div><div id="39135124" class="c"><input type="checkbox" id="c-39135124" checked=""/><div class="controls bullet"><span class="by">andrewnguonly</span><span>|</span><a href="#39135002">parent</a><span>|</span><a href="#39136520">prev</a><span>|</span><a href="#39135711">next</a><span>|</span><label class="collapse" for="c-39135124">[-]</label><label class="expand" for="c-39135124">[2 more]</label></div><br/><div class="children"><div class="content">I hadn&#x27;t considered Discord, but good idea! I personally use the Discord Mac app.<p>I&#x27;ll look into figuring out how to parse the chats.</div><br/><div id="39140145" class="c"><input type="checkbox" id="c-39140145" checked=""/><div class="controls bullet"><span class="by">smusamashah</span><span>|</span><a href="#39135002">root</a><span>|</span><a href="#39135124">parent</a><span>|</span><a href="#39135711">next</a><span>|</span><label class="collapse" for="c-39140145">[-]</label><label class="expand" for="c-39140145">[1 more]</label></div><br/><div class="children"><div class="content">Would it be a good idea to allow people putting in their own parsers for any app they need using css selectors or a combination with some JS in settings of the extension?</div><br/></div></div></div></div></div></div><div id="39135711" class="c"><input type="checkbox" id="c-39135711" checked=""/><div class="controls bullet"><span class="by">nkko</span><span>|</span><a href="#39135002">prev</a><span>|</span><a href="#39137195">next</a><span>|</span><label class="collapse" for="c-39135711">[-]</label><label class="expand" for="c-39135711">[2 more]</label></div><br/><div class="children"><div class="content">Would be great to be able to query the LLM about search history, for example I know that I have seen something but can&#x27;t remember exactly where or what.</div><br/><div id="39136148" class="c"><input type="checkbox" id="c-39136148" checked=""/><div class="controls bullet"><span class="by">andrewnguonly</span><span>|</span><a href="#39135711">parent</a><span>|</span><a href="#39137195">next</a><span>|</span><label class="collapse" for="c-39136148">[-]</label><label class="expand" for="c-39136148">[1 more]</label></div><br/><div class="children"><div class="content">Great idea. I created an issue to keep track of this.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;issues&#x2F;35">https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;issues&#x2F;35</a></div><br/></div></div></div></div><div id="39137195" class="c"><input type="checkbox" id="c-39137195" checked=""/><div class="controls bullet"><span class="by">gnicholas</span><span>|</span><a href="#39135711">prev</a><span>|</span><a href="#39136277">next</a><span>|</span><label class="collapse" for="c-39137195">[-]</label><label class="expand" for="c-39137195">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not very technical, but I use ollama on my Mac and know how to side-load browser extensions. Can you ELI5 what I need to do besides downloading and side-loading the extension, and ensuring I have the same model downloaded and running on my machine?</div><br/><div id="39137559" class="c"><input type="checkbox" id="c-39137559" checked=""/><div class="controls bullet"><span class="by">andrewnguonly</span><span>|</span><a href="#39137195">parent</a><span>|</span><a href="#39136277">next</a><span>|</span><label class="collapse" for="c-39137559">[-]</label><label class="expand" for="c-39137559">[3 more]</label></div><br/><div class="children"><div class="content">For installation, there&#x27;s nothing else you need to do. It&#x27;s ready to go.<p>If you want to configure a custom content parser for a specific website (i.e. websites you visit frequently), you&#x27;ll need to modify `contentConfig.ts` according to the instructions here: <a href="https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos?tab=readme-ov-file#custom-content-parser">https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos?tab=readme-ov-file#cu...</a><p>Sorry, I realize these instructions are probably unclear. My approach for parsing content is a bit hacky. I need to create a video tutorial&#x2F;documentation to show how to inspect the webpage and pick out content to parse. Created this issue to track: <a href="https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;issues&#x2F;37">https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;issues&#x2F;37</a></div><br/><div id="39138181" class="c"><input type="checkbox" id="c-39138181" checked=""/><div class="controls bullet"><span class="by">gnicholas</span><span>|</span><a href="#39137195">root</a><span>|</span><a href="#39137559">parent</a><span>|</span><a href="#39136277">next</a><span>|</span><label class="collapse" for="c-39138181">[-]</label><label class="expand" for="c-39138181">[2 more]</label></div><br/><div class="children"><div class="content">It looks like compilation is required, is that right? I don&#x27;t have NPM installed, and would love to have a zipped version that I can just unzip and sideload. Please let me know if I&#x27;m misunderstanding what I&#x27;m supposed to do here.</div><br/><div id="39138948" class="c"><input type="checkbox" id="c-39138948" checked=""/><div class="controls bullet"><span class="by">andrewnguonly</span><span>|</span><a href="#39137195">root</a><span>|</span><a href="#39138181">parent</a><span>|</span><a href="#39136277">next</a><span>|</span><label class="collapse" for="c-39138948">[-]</label><label class="expand" for="c-39138948">[1 more]</label></div><br/><div class="children"><div class="content">Got it, you&#x27;re right. I created a release that includes the packaged code (so you don&#x27;t need to run `npm`, etc): <a href="https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;releases&#x2F;tag&#x2F;1.0.0">https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;releases&#x2F;tag&#x2F;1.0.0</a><p>Unzip `lumos_1_0_0.zip` and you can load the unpacked extension.</div><br/></div></div></div></div></div></div></div></div><div id="39136277" class="c"><input type="checkbox" id="c-39136277" checked=""/><div class="controls bullet"><span class="by">gabev</span><span>|</span><a href="#39137195">prev</a><span>|</span><a href="#39137400">next</a><span>|</span><label class="collapse" for="c-39136277">[-]</label><label class="expand" for="c-39136277">[3 more]</label></div><br/><div class="children"><div class="content">This is sick! We&#x27;ve built a similar product for LLM-powered browsing at <a href="https:&#x2F;&#x2F;zenfetch.com">https:&#x2F;&#x2F;zenfetch.com</a><p>Admittedly, we use cloud hosted providers since we found the quality to be much higher, though awesome to see local versions as well.</div><br/><div id="39136791" class="c"><input type="checkbox" id="c-39136791" checked=""/><div class="controls bullet"><span class="by">andrewnguonly</span><span>|</span><a href="#39136277">parent</a><span>|</span><a href="#39137400">next</a><span>|</span><label class="collapse" for="c-39136791">[-]</label><label class="expand" for="c-39136791">[2 more]</label></div><br/><div class="children"><div class="content">Very cool! Have you considered local LLMs for a free&#x2F;lite tier?<p>I do agree that 3rd party LLM services (e.g. OpenAI) are much more powerful. For basic tasks (e.g. summarization, Q&amp;A), local LLMs seem to perform decently.</div><br/><div id="39136871" class="c"><input type="checkbox" id="c-39136871" checked=""/><div class="controls bullet"><span class="by">gabev</span><span>|</span><a href="#39136277">root</a><span>|</span><a href="#39136791">parent</a><span>|</span><a href="#39137400">next</a><span>|</span><label class="collapse" for="c-39136871">[-]</label><label class="expand" for="c-39136871">[1 more]</label></div><br/><div class="children"><div class="content">We have considered it, though most of our users use Zenfetch for things like<p>1. Research across an industry
2. Generating new content
3. Connecting ideas &#x2F; building networked thought<p>For that reason we were deterred from using local models. Hopefully the Mistral team and similar keep pushing out new developments to get comparable with GPT-4 levels</div><br/></div></div></div></div></div></div><div id="39137400" class="c"><input type="checkbox" id="c-39137400" checked=""/><div class="controls bullet"><span class="by">castles</span><span>|</span><a href="#39136277">prev</a><span>|</span><a href="#39136843">next</a><span>|</span><label class="collapse" for="c-39137400">[-]</label><label class="expand" for="c-39137400">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been working on something in the same vein, though just using manual selections, or selections auto expanding from the visible viewport.<p>I really like the per-site parsers, which make a lot of sense<p>Congrats :)</div><br/><div id="39137573" class="c"><input type="checkbox" id="c-39137573" checked=""/><div class="controls bullet"><span class="by">andrewnguonly</span><span>|</span><a href="#39137400">parent</a><span>|</span><a href="#39136843">next</a><span>|</span><label class="collapse" for="c-39137573">[-]</label><label class="expand" for="c-39137573">[3 more]</label></div><br/><div class="children"><div class="content">Thanks!<p>I elaborate a little bit more on my thinking and approach for parsing in this blog post (4 min read): <a href="https:&#x2F;&#x2F;medium.com&#x2F;@andrewnguonly&#x2F;local-llm-in-the-browser-powered-by-ollama-part-2-6eb10caf39a1" rel="nofollow">https:&#x2F;&#x2F;medium.com&#x2F;@andrewnguonly&#x2F;local-llm-in-the-browser-p...</a></div><br/><div id="39138074" class="c"><input type="checkbox" id="c-39138074" checked=""/><div class="controls bullet"><span class="by">castles</span><span>|</span><a href="#39137400">root</a><span>|</span><a href="#39137573">parent</a><span>|</span><a href="#39136843">next</a><span>|</span><label class="collapse" for="c-39138074">[-]</label><label class="expand" for="c-39138074">[2 more]</label></div><br/><div class="children"><div class="content">I had similar ideas on the back burner for per site scripts. MV3 sure makes things annoying at times! I want to build something that&#x27;s kind of a mix between what you&#x27;re doing here and what I&#x27;ve been experimenting with.<p>Did you experiment with the sidePanel api yet? You can open it, but the &lt;input&gt; will not get focus like with the popups. You&#x27;d think at least with the commands keybindings, or reacting to the browser action icon click this should be possible?!<p>I asked Lumos some questions and it&#x27;s hitting the embeddings endpoint many times, and then when I asked a follow up question, it hit the same endpoints again, each taking a few hundred ms. It&#x27;s not caching them? TBD?<p>p.s. iirc There&#x27;s some way to set the key in the manifest such that you&#x27;ll get a static id, useful for OLLAMA_ORIGINS where you don&#x27;t need * in the examples.<p>p.p.s starling-lm is really great for a default local model for these types of things<p>edit: <a href="https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;pull&#x2F;38">https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;pull&#x2F;38</a></div><br/><div id="39139098" class="c"><input type="checkbox" id="c-39139098" checked=""/><div class="controls bullet"><span class="by">andrewnguonly</span><span>|</span><a href="#39137400">root</a><span>|</span><a href="#39138074">parent</a><span>|</span><a href="#39136843">next</a><span>|</span><label class="collapse" for="c-39139098">[-]</label><label class="expand" for="c-39139098">[1 more]</label></div><br/><div class="children"><div class="content">I did not look into the sidePanel API yet. I will look though. I&#x27;m still fairly new to Chrome extension development. I just discovered the Options page heh...<p>Regarding the caching -- the entire RAG workflow needs an update. I&#x27;ll spend some time on it. Thanks for calling out and thanks for the PR!</div><br/></div></div></div></div></div></div></div></div><div id="39136843" class="c"><input type="checkbox" id="c-39136843" checked=""/><div class="controls bullet"><span class="by">alwayslikethis</span><span>|</span><a href="#39137400">prev</a><span>|</span><a href="#39137109">next</a><span>|</span><label class="collapse" for="c-39136843">[-]</label><label class="expand" for="c-39136843">[2 more]</label></div><br/><div class="children"><div class="content">Is there a firefox version?</div><br/><div id="39137471" class="c"><input type="checkbox" id="c-39137471" checked=""/><div class="controls bullet"><span class="by">andrewnguonly</span><span>|</span><a href="#39136843">parent</a><span>|</span><a href="#39137109">next</a><span>|</span><label class="collapse" for="c-39137471">[-]</label><label class="expand" for="c-39137471">[1 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t build a dedicated Firefox version, but I suspect there&#x27;s a way to install it without significant code changes. I actually just tried and I ran into an error: `background.service_worker is currently disabled`<p>I&#x27;ll figure out a workaround and document the steps to install: <a href="https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;issues&#x2F;36">https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;issues&#x2F;36</a></div><br/></div></div></div></div><div id="39137109" class="c"><input type="checkbox" id="c-39137109" checked=""/><div class="controls bullet"><span class="by">regularfry</span><span>|</span><a href="#39136843">prev</a><span>|</span><a href="#39135984">next</a><span>|</span><label class="collapse" for="c-39137109">[-]</label><label class="expand" for="c-39137109">[3 more]</label></div><br/><div class="children"><div class="content">Can you give it YouTube video transcriptions?</div><br/><div id="39137645" class="c"><input type="checkbox" id="c-39137645" checked=""/><div class="controls bullet"><span class="by">andrewnguonly</span><span>|</span><a href="#39137109">parent</a><span>|</span><a href="#39135984">next</a><span>|</span><label class="collapse" for="c-39137645">[-]</label><label class="expand" for="c-39137645">[2 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t tried it, but in general, it accepts any text.<p>Or are you asking if it can automatically get the transcript from a YouTube video? At the moment, it can&#x27;t do the latter. I do plan to support multi-modal LLMs (llava via Ollama), but I&#x27;m not sure how the mechanics of the extension will work yet. Open issue: <a href="https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;issues&#x2F;27">https:&#x2F;&#x2F;github.com&#x2F;andrewnguonly&#x2F;Lumos&#x2F;issues&#x2F;27</a></div><br/><div id="39139036" class="c"><input type="checkbox" id="c-39139036" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#39137109">root</a><span>|</span><a href="#39137645">parent</a><span>|</span><a href="#39135984">next</a><span>|</span><label class="collapse" for="c-39139036">[-]</label><label class="expand" for="c-39139036">[1 more]</label></div><br/><div class="children"><div class="content"><a href="http:&#x2F;&#x2F;YouTubetranscript.com" rel="nofollow">http:&#x2F;&#x2F;YouTubetranscript.com</a> might be of use here.</div><br/></div></div></div></div></div></div><div id="39135984" class="c"><input type="checkbox" id="c-39135984" checked=""/><div class="controls bullet"><span class="by">anthuswilliams</span><span>|</span><a href="#39137109">prev</a><span>|</span><label class="collapse" for="c-39135984">[-]</label><label class="expand" for="c-39135984">[3 more]</label></div><br/><div class="children"><div class="content">This is great! I would love to extend it to hide sponsored results, ads, and call-to-action popups.</div><br/><div id="39136272" class="c"><input type="checkbox" id="c-39136272" checked=""/><div class="controls bullet"><span class="by">tourmalinetaco</span><span>|</span><a href="#39135984">parent</a><span>|</span><label class="collapse" for="c-39136272">[-]</label><label class="expand" for="c-39136272">[2 more]</label></div><br/><div class="children"><div class="content">Would it have any practical applications that you can see beyond uBlock Origin, or is it just for the cool factor?</div><br/><div id="39136690" class="c"><input type="checkbox" id="c-39136690" checked=""/><div class="controls bullet"><span class="by">anthuswilliams</span><span>|</span><a href="#39135984">root</a><span>|</span><a href="#39136272">parent</a><span>|</span><label class="collapse" for="c-39136690">[-]</label><label class="expand" for="c-39136690">[1 more]</label></div><br/><div class="children"><div class="content">I imagine you&#x27;d use it in combination with uBlock Origin. The latter would prevent ads from being loaded in the first place, but when the site itself is presenting you with sponsored results, email signup overlays, and so on, you&#x27;d use a content filter like this to prevent them from rendering.<p>I know you can accomplish a lot of this kind of direct content filtering with uBlock Origin, but as far as I&#x27;m aware you have to configure e.g. CSS selectors per site.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>