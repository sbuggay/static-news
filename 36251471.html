<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1686387663657" as="style"/><link rel="stylesheet" href="styles.css?v=1686387663657"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.quantamagazine.org/how-lossless-data-compression-works-20230531">A student’s desire to get out of a exam led to a compression algorithm</a> <span class="domain">(<a href="https://www.quantamagazine.org">www.quantamagazine.org</a>)</span></div><div class="subtext"><span>the-mitr</span> | <span>57 comments</span></div><br/><div><div id="36265648" class="c"><input type="checkbox" id="c-36265648" checked=""/><div class="controls bullet"><span class="by">twotwotwo</span><span>|</span><a href="#36268583">next</a><span>|</span><label class="collapse" for="c-36265648">[-]</label><label class="expand" for="c-36265648">[1 more]</label></div><br/><div class="children"><div class="content">There was a series of articles on lossless and lossy and compression techniques in, I think, PC Magazine that I read as a kid and made a big impression on me. I didn&#x27;t, like, end up ready to write code to build Huffman trees or anything, but it did change it from a total black box into a bunch of smaller pieces each of which a mere mortal can understand.<p>The compression rabbit hole can be a rewarding one to go down if you haven&#x27;t. Besides the tech itself making a lot of things work better (like a Web built on human-readable formats, or more specialized stuff like Parquet or other columnar formats, or video on the lossy side), it can give you some tools or perspective that apply elsewhere, e.g. to other probablistic stuff like caching and predictions for lossless compression, or other signal-processing stuff for lossy compression.</div><br/></div></div><div id="36268583" class="c"><input type="checkbox" id="c-36268583" checked=""/><div class="controls bullet"><span class="by">iforgotpassword</span><span>|</span><a href="#36265648">prev</a><span>|</span><a href="#36264271">next</a><span>|</span><label class="collapse" for="c-36268583">[-]</label><label class="expand" for="c-36268583">[3 more]</label></div><br/><div class="children"><div class="content">Interesting refresher. I do remember in college we had to build the lookup tree for some word as an exercise. Obviously the name Huffman stuck in my brain. But for the love of god, I can&#x27;t even remember if the lecture mentioned Fano. Seems he was just as important in the design process of what we only refer to as Huffman encoding today.</div><br/><div id="36268663" class="c"><input type="checkbox" id="c-36268663" checked=""/><div class="controls bullet"><span class="by">dmurray</span><span>|</span><a href="#36268583">parent</a><span>|</span><a href="#36264271">next</a><span>|</span><label class="collapse" for="c-36268663">[-]</label><label class="expand" for="c-36268663">[2 more]</label></div><br/><div class="children"><div class="content">A nice reversal of the meme where &quot;the supervising professor takes all the credit and the army of grad students do the real work&quot;.</div><br/><div id="36268726" class="c"><input type="checkbox" id="c-36268726" checked=""/><div class="controls bullet"><span class="by">amemisoglu</span><span>|</span><a href="#36268583">root</a><span>|</span><a href="#36268663">parent</a><span>|</span><a href="#36264271">next</a><span>|</span><label class="collapse" for="c-36268726">[-]</label><label class="expand" for="c-36268726">[1 more]</label></div><br/><div class="children"><div class="content">This algorithm is known as Huffman encoding.</div><br/></div></div></div></div></div></div><div id="36264271" class="c"><input type="checkbox" id="c-36264271" checked=""/><div class="controls bullet"><span class="by">sgt101</span><span>|</span><a href="#36268583">prev</a><span>|</span><a href="#36264256">next</a><span>|</span><label class="collapse" for="c-36264271">[-]</label><label class="expand" for="c-36264271">[12 more]</label></div><br/><div class="children"><div class="content">Caches drive the internet.<p>They are orders of magnitude more important than compression. 99.99% of requests hit a local cache. (1)<p>Compression is important too.<p>(1) I worked in a telco. Check it out for yourself!</div><br/><div id="36268552" class="c"><input type="checkbox" id="c-36268552" checked=""/><div class="controls bullet"><span class="by">iforgotpassword</span><span>|</span><a href="#36264271">parent</a><span>|</span><a href="#36268816">next</a><span>|</span><label class="collapse" for="c-36268552">[-]</label><label class="expand" for="c-36268552">[1 more]</label></div><br/><div class="children"><div class="content">Is it still? Afaik now with everything HTTPS, caching proxies on the ISP end are completely useless.<p>We instead now see (proprietary?) cache boxes by big players like YouTube and Netflix that ISPs can install in their DCs, but that seems less elegant, even though it gives the content providers much greater control over what, when and how much gets cached. Still, as a smaller fish, without going with cloudflare, there&#x27;s no caching involved anymore, probably not even if I decide to run my site on HTTP only.</div><br/></div></div><div id="36268816" class="c"><input type="checkbox" id="c-36268816" checked=""/><div class="controls bullet"><span class="by">alex_duf</span><span>|</span><a href="#36264271">parent</a><span>|</span><a href="#36268552">prev</a><span>|</span><a href="#36268322">next</a><span>|</span><label class="collapse" for="c-36268816">[-]</label><label class="expand" for="c-36268816">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a bit silly to oppose these two technologies... Caches also rely on compression to be efficient, they work hand in hand.</div><br/></div></div><div id="36268322" class="c"><input type="checkbox" id="c-36268322" checked=""/><div class="controls bullet"><span class="by">Ma8ee</span><span>|</span><a href="#36264271">parent</a><span>|</span><a href="#36268816">prev</a><span>|</span><a href="#36268249">next</a><span>|</span><label class="collapse" for="c-36268322">[-]</label><label class="expand" for="c-36268322">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think your caches would help very much if all media were sent uncompressed. Everything is already compressed, so you might not think about it much, but I&#x27;d say that it is at least as important as caching.</div><br/><div id="36268362" class="c"><input type="checkbox" id="c-36268362" checked=""/><div class="controls bullet"><span class="by">number6</span><span>|</span><a href="#36264271">root</a><span>|</span><a href="#36268322">parent</a><span>|</span><a href="#36268249">next</a><span>|</span><label class="collapse" for="c-36268362">[-]</label><label class="expand" for="c-36268362">[1 more]</label></div><br/><div class="children"><div class="content">Compression is so ubiquitous that people tend to forget it&#x27;s there. I still encounter people wondering why zipping their movie files does not result in a smaller file size</div><br/></div></div></div></div><div id="36268249" class="c"><input type="checkbox" id="c-36268249" checked=""/><div class="controls bullet"><span class="by">anvuong</span><span>|</span><a href="#36264271">parent</a><span>|</span><a href="#36268322">prev</a><span>|</span><a href="#36266358">next</a><span>|</span><label class="collapse" for="c-36268249">[-]</label><label class="expand" for="c-36268249">[1 more]</label></div><br/><div class="children"><div class="content">Yeah it&#x27;s cache all the way down. CPU has L1, L2, L3 for instructions cache. Server has ramcache, then SSD cache. Then apps with SQL almost always use redis&#x2F;memcache as first level cache. Then for network side we have CDN which is basically a glorified webcache, even at router&#x2F;switch there is cache for all the stuffs.</div><br/></div></div><div id="36266358" class="c"><input type="checkbox" id="c-36266358" checked=""/><div class="controls bullet"><span class="by">asah</span><span>|</span><a href="#36264271">parent</a><span>|</span><a href="#36268249">prev</a><span>|</span><a href="#36265414">next</a><span>|</span><label class="collapse" for="c-36266358">[-]</label><label class="expand" for="c-36266358">[1 more]</label></div><br/><div class="children"><div class="content">both are correct.<p>The internet is &quot;driven&quot; by web&#x2F;mobile which is driven by multimedia, which lives and dies on compression &#x2F; codecs.</div><br/></div></div><div id="36265414" class="c"><input type="checkbox" id="c-36265414" checked=""/><div class="controls bullet"><span class="by">Solvency</span><span>|</span><a href="#36264271">parent</a><span>|</span><a href="#36266358">prev</a><span>|</span><a href="#36264256">next</a><span>|</span><label class="collapse" for="c-36265414">[-]</label><label class="expand" for="c-36265414">[5 more]</label></div><br/><div class="children"><div class="content">Ok how do they work then?</div><br/><div id="36268089" class="c"><input type="checkbox" id="c-36268089" checked=""/><div class="controls bullet"><span class="by">esafak</span><span>|</span><a href="#36264271">root</a><span>|</span><a href="#36265414">parent</a><span>|</span><a href="#36265455">next</a><span>|</span><label class="collapse" for="c-36268089">[-]</label><label class="expand" for="c-36268089">[1 more]</label></div><br/><div class="children"><div class="content">They store frequently-requested items in a place that permits faster retrieval.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Cache_(computing)" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Cache_(computing)</a></div><br/></div></div><div id="36265455" class="c"><input type="checkbox" id="c-36265455" checked=""/><div class="controls bullet"><span class="by">parl_match</span><span>|</span><a href="#36264271">root</a><span>|</span><a href="#36265414">parent</a><span>|</span><a href="#36268089">prev</a><span>|</span><a href="#36264256">next</a><span>|</span><label class="collapse" for="c-36265455">[-]</label><label class="expand" for="c-36265455">[3 more]</label></div><br/><div class="children"><div class="content">There&#x27;s lot of information about this on the open web, and tons of resources for varying levels of skill.</div><br/><div id="36268503" class="c"><input type="checkbox" id="c-36268503" checked=""/><div class="controls bullet"><span class="by">astrange</span><span>|</span><a href="#36264271">root</a><span>|</span><a href="#36265455">parent</a><span>|</span><a href="#36265589">next</a><span>|</span><label class="collapse" for="c-36268503">[-]</label><label class="expand" for="c-36268503">[1 more]</label></div><br/><div class="children"><div class="content">Ironically, this answer is a cache miss.</div><br/></div></div></div></div></div></div></div></div><div id="36264256" class="c"><input type="checkbox" id="c-36264256" checked=""/><div class="controls bullet"><span class="by">fguerraz</span><span>|</span><a href="#36264271">prev</a><span>|</span><a href="#36263591">next</a><span>|</span><label class="collapse" for="c-36264256">[-]</label><label class="expand" for="c-36264256">[4 more]</label></div><br/><div class="children"><div class="content">Quanta magazine and all these pop science websites need to be stopped.<p>(Not because popular science is bad, but because they do it badly, and the clickbait is insufferable)</div><br/><div id="36266375" class="c"><input type="checkbox" id="c-36266375" checked=""/><div class="controls bullet"><span class="by">sn41</span><span>|</span><a href="#36264256">parent</a><span>|</span><a href="#36263591">next</a><span>|</span><label class="collapse" for="c-36266375">[-]</label><label class="expand" for="c-36266375">[3 more]</label></div><br/><div class="children"><div class="content">I agree. They have a breathless tone to them that&#x27;s quite annoying to me (I work in data compression as an academic, and I found this article uninspiring.)<p>By the way, there was an old Soviet magazine called &quot;Kvant&quot; (Russian for Quantum, I think). I do not know Russian, but I have 2 collected volumes of selected articles from them. [1]  [2] Their quality is astonishingly good, and high-level. The difference is this:<p>The Kvant articles were written by professional research mathematicians, trying to present their ideas to an audience that were willing to follow them with pencil and paper in hand.<p>Quanta magazine articles are written by journalists trying to present advanced science to a lay audience - the articles are very stilted and present the articles in a tone that oversimplifies the problem and gives no idea about the actual solution, and uses hackneyed tropes like : oh look the solvers were just some random unknown guys (in a recent case, the random unknown guy is a tenured faculty at UCLA in theoretical computer science, apparently &quot;a world away from mathematics&quot; [3])<p>[1] <a href="http:&#x2F;&#x2F;www.iri.upc.edu&#x2F;people&#x2F;thomas&#x2F;Collection&#x2F;details&#x2F;56609.html" rel="nofollow">http:&#x2F;&#x2F;www.iri.upc.edu&#x2F;people&#x2F;thomas&#x2F;Collection&#x2F;details&#x2F;5660...</a><p>[2] <a href="http:&#x2F;&#x2F;www.personal.psu.edu&#x2F;sot2&#x2F;kvant_preface1.pdf" rel="nofollow">http:&#x2F;&#x2F;www.personal.psu.edu&#x2F;sot2&#x2F;kvant_preface1.pdf</a><p>[3] <a href="https:&#x2F;&#x2F;www.quantamagazine.org&#x2F;surprise-computer-science-proof-stuns-mathematicians-20230321&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.quantamagazine.org&#x2F;surprise-computer-science-pro...</a></div><br/><div id="36268647" class="c"><input type="checkbox" id="c-36268647" checked=""/><div class="controls bullet"><span class="by">dieselgate</span><span>|</span><a href="#36264256">root</a><span>|</span><a href="#36266375">parent</a><span>|</span><a href="#36263591">next</a><span>|</span><label class="collapse" for="c-36268647">[-]</label><label class="expand" for="c-36268647">[2 more]</label></div><br/><div class="children"><div class="content">Yeah you have a good point - not sure if there’s a name for what you’re referencing but it’s tough to be an expert in something and read a bunch of cringe pop sci articles on your field. This topic comes up frequently with my partner who is a researcher - Ed Yong recently wrote a piece on some work by their lab and it was “tolerable”.
Not a huge fan of Quanta myself but Aeon frequently has articles written by researchers&#x2F;experts and are higher quality in my opinion.<p>Interesting to hear about Kvant!</div><br/><div id="36268676" class="c"><input type="checkbox" id="c-36268676" checked=""/><div class="controls bullet"><span class="by">notRobot</span><span>|</span><a href="#36264256">root</a><span>|</span><a href="#36268647">parent</a><span>|</span><a href="#36263591">next</a><span>|</span><label class="collapse" for="c-36268676">[-]</label><label class="expand" for="c-36268676">[1 more]</label></div><br/><div class="children"><div class="content">&gt; <i>&quot;Briefly stated, the Gell-Mann Amnesia effect is as follows. You open the newspaper to an article on some subject you know well. In Murray&#x27;s case, physics. In mine, show business. You read the article and see the journalist has absolutely no understanding of either the facts or the issues. Often, the article is so wrong it actually presents the story backward—reversing cause and effect. I call these the &quot;wet streets cause rain&quot; stories. Paper&#x27;s full of them. In any case, you read with exasperation or amusement the multiple errors in a story, and then turn the page to national or international affairs, and read as if the rest of the newspaper was somehow more accurate about Palestine than the baloney you just read. You turn the page, and forget what you know.&quot;</i><p><a href="https:&#x2F;&#x2F;www.epsilontheory.com&#x2F;gell-mann-amnesia&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.epsilontheory.com&#x2F;gell-mann-amnesia&#x2F;</a></div><br/></div></div></div></div></div></div></div></div><div id="36263591" class="c"><input type="checkbox" id="c-36263591" checked=""/><div class="controls bullet"><span class="by">denvaar</span><span>|</span><a href="#36264256">prev</a><span>|</span><a href="#36264356">next</a><span>|</span><label class="collapse" for="c-36263591">[-]</label><label class="expand" for="c-36263591">[11 more]</label></div><br/><div class="children"><div class="content">&gt; The first step involves yet another clever strategy for identifying repetition and thereby compressing message size, but the second step is to take the resulting compressed message and run it through the Huffman process.<p>I wonder if this &quot;first step&quot; is Burrows-Wheeler Transform?<p>Side note: In Silicon Valley (the show), I&#x27;m pretty sure that  Richard has a picture of David Huffman by his bedside.</div><br/><div id="36263944" class="c"><input type="checkbox" id="c-36263944" checked=""/><div class="controls bullet"><span class="by">Scaevolus</span><span>|</span><a href="#36263591">parent</a><span>|</span><a href="#36264304">next</a><span>|</span><label class="collapse" for="c-36263944">[-]</label><label class="expand" for="c-36263944">[1 more]</label></div><br/><div class="children"><div class="content">No, BWT is largely unused in modern compression codecs.<p>Lempel-Ziv is the basis for almost all modern general purpose compression, and works more like having a hash table mapping 3 or 4 byte fragments to their positions, and walking through the input byte by byte checking the hash table for matches and inserting the latest fragments&amp;positions into the hash table.<p>BWT has nearly identical speed compressing and decompressing, but searching for matches to compress is <i>much</i> slower than simply copying data according to instructions to decompress.</div><br/></div></div><div id="36264304" class="c"><input type="checkbox" id="c-36264304" checked=""/><div class="controls bullet"><span class="by">pseudotrash</span><span>|</span><a href="#36263591">parent</a><span>|</span><a href="#36263944">prev</a><span>|</span><a href="#36264356">next</a><span>|</span><label class="collapse" for="c-36264304">[-]</label><label class="expand" for="c-36264304">[9 more]</label></div><br/><div class="children"><div class="content">I came here to find Silicon Valley references and wasn&#x27;t disappointed.</div><br/><div id="36264838" class="c"><input type="checkbox" id="c-36264838" checked=""/><div class="controls bullet"><span class="by">devsegal</span><span>|</span><a href="#36263591">root</a><span>|</span><a href="#36264304">parent</a><span>|</span><a href="#36265402">next</a><span>|</span><label class="collapse" for="c-36264838">[-]</label><label class="expand" for="c-36264838">[2 more]</label></div><br/><div class="children"><div class="content">Both of us have been satisfied</div><br/><div id="36265210" class="c"><input type="checkbox" id="c-36265210" checked=""/><div class="controls bullet"><span class="by">hinkley</span><span>|</span><a href="#36263591">root</a><span>|</span><a href="#36264838">parent</a><span>|</span><a href="#36265402">next</a><span>|</span><label class="collapse" for="c-36265210">[-]</label><label class="expand" for="c-36265210">[1 more]</label></div><br/><div class="children"><div class="content">at the same time?</div><br/></div></div></div></div><div id="36265402" class="c"><input type="checkbox" id="c-36265402" checked=""/><div class="controls bullet"><span class="by">ThrowawayTestr</span><span>|</span><a href="#36263591">root</a><span>|</span><a href="#36264304">parent</a><span>|</span><a href="#36264838">prev</a><span>|</span><a href="#36264356">next</a><span>|</span><label class="collapse" for="c-36265402">[-]</label><label class="expand" for="c-36265402">[6 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t like that show because whenever I watch it I start imagining a world with inside-out compression and I get sad we&#x27;ll never have it.</div><br/><div id="36266705" class="c"><input type="checkbox" id="c-36266705" checked=""/><div class="controls bullet"><span class="by">LoganDark</span><span>|</span><a href="#36263591">root</a><span>|</span><a href="#36265402">parent</a><span>|</span><a href="#36264356">next</a><span>|</span><label class="collapse" for="c-36266705">[-]</label><label class="expand" for="c-36266705">[5 more]</label></div><br/><div class="children"><div class="content">What is inside-out compression?</div><br/><div id="36266715" class="c"><input type="checkbox" id="c-36266715" checked=""/><div class="controls bullet"><span class="by">CharlesW</span><span>|</span><a href="#36263591">root</a><span>|</span><a href="#36266705">parent</a><span>|</span><a href="#36264356">next</a><span>|</span><label class="collapse" for="c-36266715">[-]</label><label class="expand" for="c-36266715">[4 more]</label></div><br/><div class="children"><div class="content">I believe the parent meant &quot;middle out&quot;. (Very NSFW: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Ex1JuIN0eaA">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Ex1JuIN0eaA</a>)</div><br/><div id="36268389" class="c"><input type="checkbox" id="c-36268389" checked=""/><div class="controls bullet"><span class="by">highwaylights</span><span>|</span><a href="#36263591">root</a><span>|</span><a href="#36266715">parent</a><span>|</span><a href="#36267859">next</a><span>|</span><label class="collapse" for="c-36268389">[-]</label><label class="expand" for="c-36268389">[1 more]</label></div><br/><div class="children"><div class="content">I mean, sure it’s NSFW, but just take a look at that Weissman Score!!</div><br/></div></div><div id="36267859" class="c"><input type="checkbox" id="c-36267859" checked=""/><div class="controls bullet"><span class="by">ThrowawayTestr</span><span>|</span><a href="#36263591">root</a><span>|</span><a href="#36266715">parent</a><span>|</span><a href="#36268389">prev</a><span>|</span><a href="#36266735">next</a><span>|</span><label class="collapse" for="c-36267859">[-]</label><label class="expand" for="c-36267859">[1 more]</label></div><br/><div class="children"><div class="content">How did I make that mistake, I&#x27;m so ashamed.</div><br/></div></div><div id="36266735" class="c"><input type="checkbox" id="c-36266735" checked=""/><div class="controls bullet"><span class="by">LoganDark</span><span>|</span><a href="#36263591">root</a><span>|</span><a href="#36266715">parent</a><span>|</span><a href="#36267859">prev</a><span>|</span><a href="#36264356">next</a><span>|</span><label class="collapse" for="c-36266735">[-]</label><label class="expand" for="c-36266735">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Very NSFW<p>I didn&#x27;t believe you until about a minute in. LOL</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="36264356" class="c"><input type="checkbox" id="c-36264356" checked=""/><div class="controls bullet"><span class="by">joshsabol46</span><span>|</span><a href="#36263591">prev</a><span>|</span><a href="#36262882">next</a><span>|</span><label class="collapse" for="c-36264356">[-]</label><label class="expand" for="c-36264356">[9 more]</label></div><br/><div class="children"><div class="content">Please pardon my ignorance...<p>My understanding is that there are 1000s of different compression algorithms, each with their own pros&#x2F;cons dependent on the type and characteristics of the file. And yet we still try to pick the &quot;generically best&quot; codec for a given file (ex. PNG) and then use that everywhere.<p>Why don&#x27;t we have context-dependent compression instead?<p>I&#x27;m imagining a system that scans objects before compression, selects the optimal algorithm, and then encodes the file. The selected compression algorithm could be prefixed for easy decompression.<p>Compare a single black image that&#x27;s 1x1 to one that&#x27;s 1000x1000. PNGs are 128bytes and 6KB, respectively. However, Run Length Encoding would compress the latter to a comparable size as the former.</div><br/><div id="36268733" class="c"><input type="checkbox" id="c-36268733" checked=""/><div class="controls bullet"><span class="by">UglyToad</span><span>|</span><a href="#36264356">parent</a><span>|</span><a href="#36268692">next</a><span>|</span><label class="collapse" for="c-36268733">[-]</label><label class="expand" for="c-36268733">[1 more]</label></div><br/><div class="children"><div class="content">There is some approach you can use sort of like this within PNGs themselves I think. It&#x27;s been a while so I might be misrembering but effectively each &quot;row&quot; of data that is compressed can be encoded as the difference from the preceding row using 4 or 5 different operations.<p>You can achieve better compression by brute forcing the possible operations used to encode the rows to find the &quot;most compressible&quot; output. Not quite what you meant but sort of similar in that you try multiple approaches and pick the best.<p>I gave up before implementing it but in the stub I left this comment to myself &quot; A heuristic approach is to use adaptive filtering as follows: independently for each row, apply all five filters and select the filter that produces the smallest sum of absolute values per row.&quot;.<p>In addition more similar to your approach PDFs support many compression filters for objects internally like RLE and ZIP so you can choose the best algorithm per object but generally it&#x27;s quicker just to ZIP everything.</div><br/></div></div><div id="36268692" class="c"><input type="checkbox" id="c-36268692" checked=""/><div class="controls bullet"><span class="by">pezezin</span><span>|</span><a href="#36264356">parent</a><span>|</span><a href="#36268733">prev</a><span>|</span><a href="#36268442">next</a><span>|</span><label class="collapse" for="c-36268692">[-]</label><label class="expand" for="c-36268692">[1 more]</label></div><br/><div class="children"><div class="content">WinRAR used to support specialized compression algorithms for specific kinds of files, like uncompressed bitmaps, sounds, executables, or plain text. However, the feature was removed in the RAR5 file format 10 years ago. Maybe it was not worth it?</div><br/></div></div><div id="36268442" class="c"><input type="checkbox" id="c-36268442" checked=""/><div class="controls bullet"><span class="by">foota</span><span>|</span><a href="#36264356">parent</a><span>|</span><a href="#36268692">prev</a><span>|</span><a href="#36264630">next</a><span>|</span><label class="collapse" for="c-36268442">[-]</label><label class="expand" for="c-36268442">[1 more]</label></div><br/><div class="children"><div class="content">I listened to a talk once where they said that this is sort of how AV1 compression works, where there are many possible ways to compress a block, and you can choose the best one at runtime by computing each and seeing which is best.</div><br/></div></div><div id="36264630" class="c"><input type="checkbox" id="c-36264630" checked=""/><div class="controls bullet"><span class="by">deepsun</span><span>|</span><a href="#36264356">parent</a><span>|</span><a href="#36268442">prev</a><span>|</span><a href="#36268136">next</a><span>|</span><label class="collapse" for="c-36264630">[-]</label><label class="expand" for="c-36264630">[4 more]</label></div><br/><div class="children"><div class="content">&gt; selects the optimal algorithm<p>Here&#x27;s the catch: how does the &quot;system&quot; know which algorithm would be the best? It could try encoding it with multiple algorithms and see which one is shorter, but that&#x27;s extra CPU.<p>And the &quot;system&quot; can be called acompression algorithm itself.</div><br/><div id="36268847" class="c"><input type="checkbox" id="c-36268847" checked=""/><div class="controls bullet"><span class="by">alpaca128</span><span>|</span><a href="#36264356">root</a><span>|</span><a href="#36264630">parent</a><span>|</span><a href="#36264876">next</a><span>|</span><label class="collapse" for="c-36268847">[-]</label><label class="expand" for="c-36268847">[1 more]</label></div><br/><div class="children"><div class="content">It would still pay off in many situations. With existing algorithms you can already optimize image files to be compressed as much as possible, which takes quite a bit longer than usual but if it means 30% smaller files for an entire website that has an impact on every visitor.</div><br/></div></div><div id="36264876" class="c"><input type="checkbox" id="c-36264876" checked=""/><div class="controls bullet"><span class="by">U2EF1</span><span>|</span><a href="#36264356">root</a><span>|</span><a href="#36264630">parent</a><span>|</span><a href="#36268847">prev</a><span>|</span><a href="#36268136">next</a><span>|</span><label class="collapse" for="c-36264876">[-]</label><label class="expand" for="c-36264876">[2 more]</label></div><br/><div class="children"><div class="content">I mean yeah that&#x27;s basically what high compression solutions like paq have done, depending on the compression level desired apply increasingly speculative and computationally intensive models to the block and pick whichever one worked the best.</div><br/><div id="36266727" class="c"><input type="checkbox" id="c-36266727" checked=""/><div class="controls bullet"><span class="by">LoganDark</span><span>|</span><a href="#36264356">root</a><span>|</span><a href="#36264876">parent</a><span>|</span><a href="#36268136">next</a><span>|</span><label class="collapse" for="c-36266727">[-]</label><label class="expand" for="c-36266727">[1 more]</label></div><br/><div class="children"><div class="content">And then, when nobody wants to implement all the compression algorithms in a compressor or decompressor, we end up with files out in the wild that only pick one of them anyway.</div><br/></div></div></div></div></div></div><div id="36268136" class="c"><input type="checkbox" id="c-36268136" checked=""/><div class="controls bullet"><span class="by">esafak</span><span>|</span><a href="#36264356">parent</a><span>|</span><a href="#36264630">prev</a><span>|</span><a href="#36262882">next</a><span>|</span><label class="collapse" for="c-36268136">[-]</label><label class="expand" for="c-36268136">[1 more]</label></div><br/><div class="children"><div class="content">Most image codecs are made for <i>natural images</i>; those of the real world, not synthetic ones like the one you proposed. Lossy codecs like JPEG use perceptual coding to maximize perceived quality for a given file size.</div><br/></div></div></div></div><div id="36262882" class="c"><input type="checkbox" id="c-36262882" checked=""/><div class="controls bullet"><span class="by">gfody</span><span>|</span><a href="#36264356">prev</a><span>|</span><a href="#36267364">next</a><span>|</span><label class="collapse" for="c-36262882">[-]</label><label class="expand" for="c-36262882">[8 more]</label></div><br/><div class="children"><div class="content">missed opportunity to explain how compression and prediction are related, and that the better you can predict the next token the better your compression gets, then your article gets to mention GPT hey</div><br/><div id="36263305" class="c"><input type="checkbox" id="c-36263305" checked=""/><div class="controls bullet"><span class="by">optimalsolver</span><span>|</span><a href="#36262882">parent</a><span>|</span><a href="#36267605">next</a><span>|</span><label class="collapse" for="c-36263305">[-]</label><label class="expand" for="c-36263305">[6 more]</label></div><br/><div class="children"><div class="content">Apparently compression and intelligence are synonymous:<p><a href="https:&#x2F;&#x2F;mattmahoney.net&#x2F;dc&#x2F;rationale.html" rel="nofollow">https:&#x2F;&#x2F;mattmahoney.net&#x2F;dc&#x2F;rationale.html</a></div><br/><div id="36266622" class="c"><input type="checkbox" id="c-36266622" checked=""/><div class="controls bullet"><span class="by">cubefox</span><span>|</span><a href="#36262882">root</a><span>|</span><a href="#36263305">parent</a><span>|</span><a href="#36263503">next</a><span>|</span><label class="collapse" for="c-36266622">[-]</label><label class="expand" for="c-36266622">[1 more]</label></div><br/><div class="children"><div class="content">AIXI &#x2F; Solomonoff prediction uses lossless compression, which may lead to massive overfitting. If anything, some degree of <i>lossy</i> compression would be &quot;equivalent&quot; to intelligence. Ockham&#x27;s razor also says that the simplicity of a hypothesis can outweigh another hypothesis which better describes the available evidence. It&#x27;s a trade-off, and AIXI doesn&#x27;t make that trade-off, but insists on perfect compression&#x2F;prediction of the available data.<p>It&#x27;s basically the curve-fitting problem: You don&#x27;t want the simplest curve that fits all the available data points perfectly, you want an even simpler curve that still fits the evidence reasonably well. If you hit the right balance between simplicity and fit, you can expect your model to generalize to unseen data, to make successful predictions. <i>That</i> would be intelligence, or some major part of it.</div><br/></div></div><div id="36263503" class="c"><input type="checkbox" id="c-36263503" checked=""/><div class="controls bullet"><span class="by">valenterry</span><span>|</span><a href="#36262882">root</a><span>|</span><a href="#36263305">parent</a><span>|</span><a href="#36266622">prev</a><span>|</span><a href="#36265694">next</a><span>|</span><label class="collapse" for="c-36263503">[-]</label><label class="expand" for="c-36263503">[1 more]</label></div><br/><div class="children"><div class="content">I think in a sense compression is worse - because not only you want to correctly predict the next token, you also want to do it fast, with a minimal but efficient algorithm that also doesn&#x27;t require much space &#x2F; a big dictionary.<p>You could think of it as taking a &quot;snapshot&quot; if an AI and then optimizing the hell out of it for a specific case and you end up with a good compression algorithm.</div><br/></div></div><div id="36265694" class="c"><input type="checkbox" id="c-36265694" checked=""/><div class="controls bullet"><span class="by">mxkopy</span><span>|</span><a href="#36262882">root</a><span>|</span><a href="#36263305">parent</a><span>|</span><a href="#36263503">prev</a><span>|</span><a href="#36267605">next</a><span>|</span><label class="collapse" for="c-36265694">[-]</label><label class="expand" for="c-36265694">[3 more]</label></div><br/><div class="children"><div class="content">In today&#x27;s post-GPT world it&#x27;s important to recognize the role of embodiment in intelligence as well.</div><br/><div id="36266882" class="c"><input type="checkbox" id="c-36266882" checked=""/><div class="controls bullet"><span class="by">qumpis</span><span>|</span><a href="#36262882">root</a><span>|</span><a href="#36265694">parent</a><span>|</span><a href="#36267605">next</a><span>|</span><label class="collapse" for="c-36266882">[-]</label><label class="expand" for="c-36266882">[2 more]</label></div><br/><div class="children"><div class="content">Why?</div><br/><div id="36267878" class="c"><input type="checkbox" id="c-36267878" checked=""/><div class="controls bullet"><span class="by">mxkopy</span><span>|</span><a href="#36262882">root</a><span>|</span><a href="#36266882">parent</a><span>|</span><a href="#36267605">next</a><span>|</span><label class="collapse" for="c-36267878">[-]</label><label class="expand" for="c-36267878">[1 more]</label></div><br/><div class="children"><div class="content">The modality of the data contains an amount of information comparable to the data itself. Telling ChatGPT that it&#x27;s hearing music rather than a story would probably help it reason about it a lot.<p>On a lower level, you can&#x27;t tell ChatGPT to reason about an image when its only input is a microphone.</div><br/></div></div></div></div></div></div></div></div><div id="36267605" class="c"><input type="checkbox" id="c-36267605" checked=""/><div class="controls bullet"><span class="by">ozr</span><span>|</span><a href="#36262882">parent</a><span>|</span><a href="#36263305">prev</a><span>|</span><a href="#36267364">next</a><span>|</span><label class="collapse" for="c-36267605">[-]</label><label class="expand" for="c-36267605">[1 more]</label></div><br/><div class="children"><div class="content">That being said: the best results currently on the large text compression benchmark utilize ML: <a href="http:&#x2F;&#x2F;www.mattmahoney.net&#x2F;dc&#x2F;text.html" rel="nofollow">http:&#x2F;&#x2F;www.mattmahoney.net&#x2F;dc&#x2F;text.html</a></div><br/></div></div></div></div><div id="36267364" class="c"><input type="checkbox" id="c-36267364" checked=""/><div class="controls bullet"><span class="by">verall</span><span>|</span><a href="#36262882">prev</a><span>|</span><a href="#36264177">next</a><span>|</span><label class="collapse" for="c-36267364">[-]</label><label class="expand" for="c-36267364">[2 more]</label></div><br/><div class="children"><div class="content">&gt; to the ubiquitous software utility PKZip<p>Huh? Ubiquitous?</div><br/><div id="36268330" class="c"><input type="checkbox" id="c-36268330" checked=""/><div class="controls bullet"><span class="by">quesera</span><span>|</span><a href="#36267364">parent</a><span>|</span><a href="#36264177">next</a><span>|</span><label class="collapse" for="c-36268330">[-]</label><label class="expand" for="c-36268330">[1 more]</label></div><br/><div class="children"><div class="content">The utility program might vary between platforms, but the algorithm is definitely ubiquitous.</div><br/></div></div></div></div><div id="36264177" class="c"><input type="checkbox" id="c-36264177" checked=""/><div class="controls bullet"><span class="by">hackcasual</span><span>|</span><a href="#36267364">prev</a><span>|</span><a href="#36266671">next</a><span>|</span><label class="collapse" for="c-36264177">[-]</label><label class="expand" for="c-36264177">[2 more]</label></div><br/><div class="children"><div class="content">Huffman trees are really cool and a neat little example program to put together.</div><br/><div id="36267192" class="c"><input type="checkbox" id="c-36267192" checked=""/><div class="controls bullet"><span class="by">delosrogers</span><span>|</span><a href="#36264177">parent</a><span>|</span><a href="#36266671">next</a><span>|</span><label class="collapse" for="c-36267192">[-]</label><label class="expand" for="c-36267192">[1 more]</label></div><br/><div class="children"><div class="content">Agreed, I had a lot of fun putting a toy one together, even if my compression format was worse in every way than a real format and my implementation quite inefficient</div><br/></div></div></div></div><div id="36266671" class="c"><input type="checkbox" id="c-36266671" checked=""/><div class="controls bullet"><span class="by">yawaramin</span><span>|</span><a href="#36264177">prev</a><span>|</span><label class="collapse" for="c-36266671">[-]</label><label class="expand" for="c-36266671">[4 more]</label></div><br/><div class="children"><div class="content">On a related note, I got an email today saying that Cloudflare will automatically turn on Brotli compression later this month. Does anyone know if Brotli really makes a difference beyond gzip?</div><br/><div id="36268822" class="c"><input type="checkbox" id="c-36268822" checked=""/><div class="controls bullet"><span class="by">powturbo</span><span>|</span><a href="#36266671">parent</a><span>|</span><a href="#36268408">next</a><span>|</span><label class="collapse" for="c-36268822">[-]</label><label class="expand" for="c-36268822">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve made a benchmark with real html data including memory usage in [2] and a recent benchmark in [3] with TurboBench [1].<p>In the speedup plots you can see the best compressors for content providers:<p>- brotli 11 is best for static content<p>- brotli 5 is best until 1MB&#x2F;s network transfer speed<p>- libdeflate 6 is best from 1MB&#x2F;s to 6MB&#x2F;s (followed by brotli,4)<p>- igzip 1,2 is best for very fast networks &gt; 10MB&#x2F;s<p>brotli brings little value at decompression for users<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;powturbo&#x2F;TurboBench">https:&#x2F;&#x2F;github.com&#x2F;powturbo&#x2F;TurboBench</a><p>[1] <a href="https:&#x2F;&#x2F;sites.google.com&#x2F;site&#x2F;powturbo&#x2F;home&#x2F;web-compression" rel="nofollow">https:&#x2F;&#x2F;sites.google.com&#x2F;site&#x2F;powturbo&#x2F;home&#x2F;web-compression</a><p>[2] <a href="https:&#x2F;&#x2F;encode.su&#x2F;threads&#x2F;2333-TurboBench-Back-to-the-future-(incl-LzTurbo)?p=78754&amp;viewfull=1#post78754" rel="nofollow">https:&#x2F;&#x2F;encode.su&#x2F;threads&#x2F;2333-TurboBench-Back-to-the-future...</a></div><br/></div></div><div id="36268408" class="c"><input type="checkbox" id="c-36268408" checked=""/><div class="controls bullet"><span class="by">jgrahamc</span><span>|</span><a href="#36266671">parent</a><span>|</span><a href="#36268822">prev</a><span>|</span><a href="#36267343">next</a><span>|</span><label class="collapse" for="c-36268408">[-]</label><label class="expand" for="c-36268408">[1 more]</label></div><br/><div class="children"><div class="content">It does. That&#x27;s why we&#x27;re turning it on automatically. We&#x27;ve supported it since 2017 and we have made a bunch of changes recently that make it better.<p><a href="https:&#x2F;&#x2F;blog.cloudflare.com&#x2F;results-experimenting-brotli&#x2F;" rel="nofollow">https:&#x2F;&#x2F;blog.cloudflare.com&#x2F;results-experimenting-brotli&#x2F;</a><p><a href="https:&#x2F;&#x2F;blog.cloudflare.com&#x2F;brotli-compression-using-a-reduced-dictionary&#x2F;" rel="nofollow">https:&#x2F;&#x2F;blog.cloudflare.com&#x2F;brotli-compression-using-a-reduc...</a></div><br/></div></div><div id="36267343" class="c"><input type="checkbox" id="c-36267343" checked=""/><div class="controls bullet"><span class="by">adgjlsfhk1</span><span>|</span><a href="#36266671">parent</a><span>|</span><a href="#36268408">prev</a><span>|</span><label class="collapse" for="c-36267343">[-]</label><label class="expand" for="c-36267343">[1 more]</label></div><br/><div class="children"><div class="content">Brotli and ZSTD are both a bunch better (~20% file size while being faster to decompress). Brotli does especially well on javascript&#x2F;html because they hard-code some of the keywords in the spec.</div><br/></div></div></div></div></div></div></div></div></div></body></html>