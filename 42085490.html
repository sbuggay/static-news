<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1731315674157" as="style"/><link rel="stylesheet" href="styles.css?v=1731315674157"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://akselmo.dev/posts/plasma-desktop-icons-positioning-refactor/">Desktop icons are surprisingly hard</a> <span class="domain">(<a href="https://akselmo.dev">akselmo.dev</a>)</span></div><div class="subtext"><span>todsacerdoti</span> | <span>23 comments</span></div><br/><div><div id="42105052" class="c"><input type="checkbox" id="c-42105052" checked=""/><div class="controls bullet"><span class="by">kelnos</span><span>|</span><a href="#42105008">next</a><span>|</span><label class="collapse" for="c-42105052">[-]</label><label class="expand" for="c-42105052">[1 more]</label></div><br/><div class="children"><div class="content">Funny, I maintain xfdesktop (the Xfce component that draws the desktop background and icons), and this past summer I just did a major refactor&#x2F;rewrite of how xfdesktop saves and restores icon positions as well.<p>Fortunately I didn&#x27;t have as much trouble in the &quot;reading code is the hardest part&quot; dimension, as I was largely redoing code I myself wrote around 20 years ago (though others had changed it a bit in the meantime).<p>It&#x27;s fun to see a lot of the same problems I had when modeling how all of this should work.  Xfce 4.20 (probably end of next month) will have all of my changes for this, but of course I expect I&#x27;ve broken some things as well and will have to add in a bunch of little hacks and workarounds.  It&#x27;s a truly weird, complex problem, even though at first look it feels like it should be simple.</div><br/></div></div><div id="42105008" class="c"><input type="checkbox" id="c-42105008" checked=""/><div class="controls bullet"><span class="by">wruza</span><span>|</span><a href="#42105052">prev</a><span>|</span><a href="#42105501">next</a><span>|</span><label class="collapse" for="c-42105008">[-]</label><label class="expand" for="c-42105008">[3 more]</label></div><br/><div class="children"><div class="content"><i>You know how wired earbuds always, always get tangled when you place them in a drawer or your pocket or something for few seconds?</i><p>Do not wind them around your hand, this creates a curling force that makes them tangle. It’s a fundamental symmetry effect in action, with which you turn a straight line into a knot. Try the same with a flexible ruler tape and you’ll see how much it twists, unless you counter-twist every loop.<p>Instead just gather the wire into a flat compressed &#x2F;\&#x2F;\…&#x2F;\ form and put it there. The worst thing that will happen now is one accidental semi-knot that is trivial to shake away.<p>Now I wonder how that applies to code, maybe we’re onto something here.</div><br/><div id="42105433" class="c"><input type="checkbox" id="c-42105433" checked=""/><div class="controls bullet"><span class="by">lloeki</span><span>|</span><a href="#42105008">parent</a><span>|</span><a href="#42105432">next</a><span>|</span><label class="collapse" for="c-42105433">[-]</label><label class="expand" for="c-42105433">[1 more]</label></div><br/><div class="children"><div class="content">&gt; unless you counter-twist every loop.<p>That&#x27;s the whole trick: don&#x27;t wind, twist.<p>Observe: take a short cable (or a piece of thread), hold it straight at each end with two fingers by the wire; at one end, roll the cable along its main axis between the two fingers; a loop forms, purely through created stress.<p>Now, with a longer cable you just accumulate such loops by iterating over the length; stress can be relieved by accompanying the cable while twisting: there should never be any resistance felt.<p>If done correctly the folded cable should be able to lay flat on a table and not move a millimetre. Note that there&#x27;s a &quot;natural&quot; radius that is best respected.<p>One could stack a bunch of those in a box and they basically won&#x27;t mix unless massively shaken, but to make sure one can tie a single point of the loop to eliminate lateral slack.<p>Source: folded a cumulated thousands of kilometres of usb&#x2F;ethernet&#x2F;XLR&#x2F;6.35&quot; cables over the years, packed together in bags or boxes.</div><br/></div></div><div id="42105432" class="c"><input type="checkbox" id="c-42105432" checked=""/><div class="controls bullet"><span class="by">xorcist</span><span>|</span><a href="#42105008">parent</a><span>|</span><a href="#42105433">prev</a><span>|</span><a href="#42105501">next</a><span>|</span><label class="collapse" for="c-42105432">[-]</label><label class="expand" for="c-42105432">[1 more]</label></div><br/><div class="children"><div class="content">Roll it up, just like you would roll back toilet paper on its roll, or sewing thread. Then you can roll them around your hand with no tangling issues.<p>Just like you would with a garden hose, or a rope on a sailing boat. Tangled ropes is a potential problem there so no one would flail your hands about and hope for the best. Instead you roll neatly.</div><br/></div></div></div></div><div id="42105501" class="c"><input type="checkbox" id="c-42105501" checked=""/><div class="controls bullet"><span class="by">somat</span><span>|</span><a href="#42105008">prev</a><span>|</span><a href="#42104512">next</a><span>|</span><label class="collapse" for="c-42105501">[-]</label><label class="expand" for="c-42105501">[1 more]</label></div><br/><div class="children"><div class="content">I think desktop(and phone) icons are a fundamentally flawed ui design in the first place. something about having your stuff semi randomly spewed across two dimensions makes me feel we are not using our computers correctly. I think we should be doing better than emulating the bucket of legos user interface model.<p>Give me a one dimensional list, or table I can sort, search and actually find things in.<p>No, I am not much fun at parties, why do you ask?</div><br/></div></div><div id="42104512" class="c"><input type="checkbox" id="c-42104512" checked=""/><div class="controls bullet"><span class="by">lelandfe</span><span>|</span><a href="#42105501">prev</a><span>|</span><a href="#42104246">next</a><span>|</span><label class="collapse" for="c-42104512">[-]</label><label class="expand" for="c-42104512">[6 more]</label></div><br/><div class="children"><div class="content">Title made me remember this other example of desktop icons being hard: <a href="https:&#x2F;&#x2F;randomascii.wordpress.com&#x2F;2021&#x2F;02&#x2F;16&#x2F;arranging-invisible-icons-in-quadratic-time&#x2F;" rel="nofollow">https:&#x2F;&#x2F;randomascii.wordpress.com&#x2F;2021&#x2F;02&#x2F;16&#x2F;arranging-invis...</a></div><br/><div id="42104600" class="c"><input type="checkbox" id="c-42104600" checked=""/><div class="controls bullet"><span class="by">acidburnNSA</span><span>|</span><a href="#42104512">parent</a><span>|</span><a href="#42104557">next</a><span>|</span><label class="collapse" for="c-42104600">[-]</label><label class="expand" for="c-42104600">[4 more]</label></div><br/><div class="children"><div class="content">Read it and enjoyed it. For ref it was discussed previously at <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=26152335">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=26152335</a><p>Hopefully the new code discussed in OP isnt quadratic.</div><br/><div id="42104969" class="c"><input type="checkbox" id="c-42104969" checked=""/><div class="controls bullet"><span class="by">acka</span><span>|</span><a href="#42104512">root</a><span>|</span><a href="#42104600">parent</a><span>|</span><a href="#42104557">next</a><span>|</span><label class="collapse" for="c-42104969">[-]</label><label class="expand" for="c-42104969">[3 more]</label></div><br/><div class="children"><div class="content">Although I also enjoyed reading the article you linked to, I found the following quote from it somewhat condescending:<p>&gt; Symbol servers are good. If you are on Windows then make sure you are using symbol servers. If you are not on Windows – I’m very sorry (and by that I mean that it is a shame that debugging and profiling – especially of issues on other users’ machines – is so much harder for you).<p>It seems that the author believes that only Windows has good debugging symbol support, which isn&#x27;t true at all. 
In fact, several Linux distributions provide debugging symbols for most of their packages, and from my own experience I know that in particular Arch Linux and Void Linux are quite easy to set up to use them. I&#x27;m not even getting started on the availability of source code.<p>Void Linux in particular is very convenient for debugging issues on different architectures, because its package build system inherently supports cross-compiling for multiple architectures from the same package definition with minimal extra configuration, including generating debugging symbols. Naturally these symbols are packaged separately from the binary packages that reference them, so there is no need to install binary packages for an incompatible architecture just to get at the debugging symbols.</div><br/><div id="42105048" class="c"><input type="checkbox" id="c-42105048" checked=""/><div class="controls bullet"><span class="by">yorwba</span><span>|</span><a href="#42104512">root</a><span>|</span><a href="#42104969">parent</a><span>|</span><a href="#42104557">next</a><span>|</span><label class="collapse" for="c-42105048">[-]</label><label class="expand" for="c-42105048">[2 more]</label></div><br/><div class="children"><div class="content">But you still need to install those debug symbols yourself, and need to know which exact versions you need, don&#x27;t you?<p>A better rebuttal to &quot;symbol servers make debugging on Windows more convenient, because they allow you to open a debug trace from someone else&#x27;s computer and immediately have symbols available that match the versions installed on their system&quot; would be &quot;here&#x27;s how to configure your debugger on Linux so it automatically downloads the correct symbols as well.&quot;<p>Edit: I guess the answer is DEBUGINFOD_URLS <a href="https:&#x2F;&#x2F;sourceware.org&#x2F;elfutils&#x2F;Debuginfod.html" rel="nofollow">https:&#x2F;&#x2F;sourceware.org&#x2F;elfutils&#x2F;Debuginfod.html</a></div><br/><div id="42105289" class="c"><input type="checkbox" id="c-42105289" checked=""/><div class="controls bullet"><span class="by">PhilipRoman</span><span>|</span><a href="#42104512">root</a><span>|</span><a href="#42105048">parent</a><span>|</span><a href="#42104557">next</a><span>|</span><label class="collapse" for="c-42105289">[-]</label><label class="expand" for="c-42105289">[1 more]</label></div><br/><div class="children"><div class="content">Indeed, the process is seamless once you set DEBUGINFOD_URLS (it uses the BUILDID embedded in executable). Many tools now support it, like gdb, valgrind, delve, etc.</div><br/></div></div></div></div></div></div></div></div><div id="42104557" class="c"><input type="checkbox" id="c-42104557" checked=""/><div class="controls bullet"><span class="by">Chaosvex</span><span>|</span><a href="#42104512">parent</a><span>|</span><a href="#42104600">prev</a><span>|</span><a href="#42104246">next</a><span>|</span><label class="collapse" for="c-42104557">[-]</label><label class="expand" for="c-42104557">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a classic. It&#x27;s incredible that it&#x27;s taken Microsoft literal decades to fix that issue. The old recommendation was to hide desktop icons but even that doesn&#x27;t fully solve it. Garbage collecting them into another directory on the desktop was the fix.</div><br/></div></div></div></div><div id="42104246" class="c"><input type="checkbox" id="c-42104246" checked=""/><div class="controls bullet"><span class="by">peterkos</span><span>|</span><a href="#42104512">prev</a><span>|</span><a href="#42104200">next</a><span>|</span><label class="collapse" for="c-42104246">[-]</label><label class="expand" for="c-42104246">[1 more]</label></div><br/><div class="children"><div class="content">&gt; It may not sound like much, but this was a lot of work. I spent days just thinking about this problem, trying to understand what is happening now and how to improve it.<p>I find these kinds of problems the most fun and the most educational! I tried building a grid layout system from scratch in SwiftUI, and it was similarly tricky to map out:<p>- what the &quot;ideal&quot; behavior one expects is,<p>- what edge cases exist,<p>- how to handle the edge cases,<p>- maintaining ideal behavior while handling edge cases.<p>(It was tricky b&#x2F;c SwiftUI lays out its children, then its parent -- so the parent needs to ask its children for its view size, and iterate and set rows&#x2F;columns that way.)<p>Maybe because the problem seem simple, it is that much more fun to dig into. Some good ol&#x27; time with a whiteboard.</div><br/></div></div><div id="42104200" class="c"><input type="checkbox" id="c-42104200" checked=""/><div class="controls bullet"><span class="by">readthenotes1</span><span>|</span><a href="#42104246">prev</a><span>|</span><label class="collapse" for="c-42104200">[-]</label><label class="expand" for="c-42104200">[10 more]</label></div><br/><div class="children"><div class="content">The funniest thing (to me) is not that the author doesn&#x27;t like desktop icons, but that the problem had been largely solved many times for many decades...</div><br/><div id="42104238" class="c"><input type="checkbox" id="c-42104238" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#42104200">parent</a><span>|</span><a href="#42104263">next</a><span>|</span><label class="collapse" for="c-42104238">[-]</label><label class="expand" for="c-42104238">[6 more]</label></div><br/><div class="children"><div class="content">Windows 95</div><br/><div id="42104274" class="c"><input type="checkbox" id="c-42104274" checked=""/><div class="controls bullet"><span class="by">cwillu</span><span>|</span><a href="#42104200">root</a><span>|</span><a href="#42104238">parent</a><span>|</span><a href="#42104263">next</a><span>|</span><label class="collapse" for="c-42104274">[-]</label><label class="expand" for="c-42104274">[5 more]</label></div><br/><div class="children"><div class="content">Windows 95 had a fixed icon size with no previews, a restricted set of possible panels, and was released in an era when monitor cables were held on to the graphics cards with thumbscrews.</div><br/><div id="42104593" class="c"><input type="checkbox" id="c-42104593" checked=""/><div class="controls bullet"><span class="by">II2II</span><span>|</span><a href="#42104200">root</a><span>|</span><a href="#42104274">parent</a><span>|</span><a href="#42104358">next</a><span>|</span><label class="collapse" for="c-42104593">[-]</label><label class="expand" for="c-42104593">[2 more]</label></div><br/><div class="children"><div class="content">It could also be argued that Windows 95 marked the start of this complexity, at least in PC land. Prior to that, there was very little communication between the OS and the hardware regarding configuration. When it did happen (e.g. monitor resolution, speed of a serial port, etc.), it was directed by the operating system rather than by the hardware.</div><br/><div id="42105136" class="c"><input type="checkbox" id="c-42105136" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#42104200">root</a><span>|</span><a href="#42104593">parent</a><span>|</span><a href="#42104358">next</a><span>|</span><label class="collapse" for="c-42105136">[-]</label><label class="expand" for="c-42105136">[1 more]</label></div><br/><div class="children"><div class="content">OS&#x2F;2 did it first on PC land.</div><br/></div></div></div></div><div id="42104358" class="c"><input type="checkbox" id="c-42104358" checked=""/><div class="controls bullet"><span class="by">RedShift1</span><span>|</span><a href="#42104200">root</a><span>|</span><a href="#42104274">parent</a><span>|</span><a href="#42104593">prev</a><span>|</span><a href="#42104263">next</a><span>|</span><label class="collapse" for="c-42104358">[-]</label><label class="expand" for="c-42104358">[2 more]</label></div><br/><div class="children"><div class="content">What&#x27;s the point you&#x27;re trying to make?</div><br/><div id="42104430" class="c"><input type="checkbox" id="c-42104430" checked=""/><div class="controls bullet"><span class="by">vel0city</span><span>|</span><a href="#42104200">root</a><span>|</span><a href="#42104358">parent</a><span>|</span><a href="#42104263">next</a><span>|</span><label class="collapse" for="c-42104430">[-]</label><label class="expand" for="c-42104430">[1 more]</label></div><br/><div class="children"><div class="content">Probably that Windows 95 didn&#x27;t really cover a lot of the challenges of desktop icons in modern computing systems as it was greatly limited at the time.</div><br/></div></div></div></div></div></div></div></div><div id="42104263" class="c"><input type="checkbox" id="c-42104263" checked=""/><div class="controls bullet"><span class="by">cwillu</span><span>|</span><a href="#42104200">parent</a><span>|</span><a href="#42104238">prev</a><span>|</span><label class="collapse" for="c-42104263">[-]</label><label class="expand" for="c-42104263">[3 more]</label></div><br/><div class="children"><div class="content">“Largely solved [aside from the edge cases I don&#x27;t care about]”</div><br/><div id="42104421" class="c"><input type="checkbox" id="c-42104421" checked=""/><div class="controls bullet"><span class="by">njtransit</span><span>|</span><a href="#42104200">root</a><span>|</span><a href="#42104263">parent</a><span>|</span><label class="collapse" for="c-42104421">[-]</label><label class="expand" for="c-42104421">[2 more]</label></div><br/><div class="children"><div class="content">All of the edge cases were self-inflicted. They could have picked a different UX that would have had a much smaller set of edge cases to care about.</div><br/><div id="42104457" class="c"><input type="checkbox" id="c-42104457" checked=""/><div class="controls bullet"><span class="by">jdironman</span><span>|</span><a href="#42104200">root</a><span>|</span><a href="#42104421">parent</a><span>|</span><label class="collapse" for="c-42104457">[-]</label><label class="expand" for="c-42104457">[1 more]</label></div><br/><div class="children"><div class="content">I agree with you on this, but also understand the OPs reasoning for searching out a better solution. it takes both homesteaders and pioneers.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>