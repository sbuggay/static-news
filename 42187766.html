<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1732093259552" as="style"/><link rel="stylesheet" href="styles.css?v=1732093259552"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/OpenRiak">Open Riak – open, modern Riak fork</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>amarsahinovic</span> | <span>59 comments</span></div><br/><div><div id="42188652" class="c"><input type="checkbox" id="c-42188652" checked=""/><div class="controls bullet"><span class="by">masleeds</span><span>|</span><a href="#42190814">next</a><span>|</span><label class="collapse" for="c-42188652">[-]</label><label class="expand" for="c-42188652">[8 more]</label></div><br/><div class="children"><div class="content">Riak has been maintained through the post-basho years by engineers at some of its larger customers (disclaimer - including myself).<p>The focus has been on trying to improve the stability of the database when subject to complex failure scenarios under stressful load, with minimal need for urgent operator intervention.  The focus has been on keeping those existing operators happy rather than seeking out new users.  Evolution of the product since basho has been slow but significant.<p>The project now has support from Erlang Ecosystem Foundation, and we&#x27;re looking to invest some effort over the next few months explaining what we&#x27;ve done, and to start to articulate what we see as the future for Riak.  So if you&#x27;re interested watch this space.<p>It is expected to remain a niche product though.  However, it may still find a home for those demanding specific non-functional requirements, with an acceptance of some functional constraints.</div><br/><div id="42188991" class="c"><input type="checkbox" id="c-42188991" checked=""/><div class="controls bullet"><span class="by">jamesblonde</span><span>|</span><a href="#42188652">parent</a><span>|</span><a href="#42189533">next</a><span>|</span><label class="collapse" for="c-42188991">[-]</label><label class="expand" for="c-42188991">[3 more]</label></div><br/><div class="children"><div class="content">Metastability is an under-rated system property for databases and systems software, in general.</div><br/><div id="42190731" class="c"><input type="checkbox" id="c-42190731" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#42188652">root</a><span>|</span><a href="#42188991">parent</a><span>|</span><a href="#42189533">next</a><span>|</span><label class="collapse" for="c-42190731">[-]</label><label class="expand" for="c-42190731">[2 more]</label></div><br/><div class="children"><div class="content">What does metastability mean in this context? I&#x27;ve only seen it used to mean &quot;appears stable but not actually stable&quot;, eg systems that resist small perturbations but never return to nominal after bigger disturbance (like cold boot).<p>Did you mean &quot;stability&quot;?</div><br/><div id="42190830" class="c"><input type="checkbox" id="c-42190830" checked=""/><div class="controls bullet"><span class="by">7qW24A</span><span>|</span><a href="#42188652">root</a><span>|</span><a href="#42190731">parent</a><span>|</span><a href="#42189533">next</a><span>|</span><label class="collapse" for="c-42190830">[-]</label><label class="expand" for="c-42190830">[1 more]</label></div><br/><div class="children"><div class="content">Marc Brooker’s blog on the topic is good: <a href="https:&#x2F;&#x2F;brooker.co.za&#x2F;blog&#x2F;2021&#x2F;05&#x2F;24&#x2F;metastable.html" rel="nofollow">https:&#x2F;&#x2F;brooker.co.za&#x2F;blog&#x2F;2021&#x2F;05&#x2F;24&#x2F;metastable.html</a></div><br/></div></div></div></div></div></div><div id="42189533" class="c"><input type="checkbox" id="c-42189533" checked=""/><div class="controls bullet"><span class="by">pton_xd</span><span>|</span><a href="#42188652">parent</a><span>|</span><a href="#42188991">prev</a><span>|</span><a href="#42190814">next</a><span>|</span><label class="collapse" for="c-42189533">[-]</label><label class="expand" for="c-42189533">[4 more]</label></div><br/><div class="children"><div class="content">&gt; we&#x27;re looking to invest some effort over the next few months explaining what we&#x27;ve done, and to start to articulate what we see as the future for Riak. So if you&#x27;re interested watch this space.<p>Where&#x27;s that going to be posted? I&#x27;m not a Riak user but I am interested in hearing what others are doing in regards to improving failure scenarios in distributed systems.</div><br/><div id="42189607" class="c"><input type="checkbox" id="c-42189607" checked=""/><div class="controls bullet"><span class="by">masleeds</span><span>|</span><a href="#42188652">root</a><span>|</span><a href="#42189533">parent</a><span>|</span><a href="#42190814">next</a><span>|</span><label class="collapse" for="c-42189607">[-]</label><label class="expand" for="c-42189607">[3 more]</label></div><br/><div class="children"><div class="content">When we get stuff together there will be a link from our discussions page - <a href="https:&#x2F;&#x2F;github.com&#x2F;orgs&#x2F;OpenRiak&#x2F;discussions">https:&#x2F;&#x2F;github.com&#x2F;orgs&#x2F;OpenRiak&#x2F;discussions</a>.</div><br/></div></div></div></div></div></div><div id="42190814" class="c"><input type="checkbox" id="c-42190814" checked=""/><div class="controls bullet"><span class="by">jtuple</span><span>|</span><a href="#42188652">prev</a><span>|</span><a href="#42188702">next</a><span>|</span><label class="collapse" for="c-42190814">[-]</label><label class="expand" for="c-42190814">[1 more]</label></div><br/><div class="children"><div class="content">This really hits home and makes me happy to see on the HN front page.<p>Nearly 10 years later and I still consider my time working on Riak at Basho the highlight of my career.<p>After leaving, my original plan was to found &quot;Basho 2.0&quot; after my non-compete expired. But, unexpected personal&#x2F;family hardships in 2015-2018 made big-tech money the better choice for awhile, and Cloud&#x2F;competitors continued to chip away at the market.<p>Often stil regret not taking that path.<p>But, happy to see technology I&#x27;m very fond of still living on and providing value to the world.</div><br/></div></div><div id="42188702" class="c"><input type="checkbox" id="c-42188702" checked=""/><div class="controls bullet"><span class="by">freerobby</span><span>|</span><a href="#42190814">prev</a><span>|</span><a href="#42187781">next</a><span>|</span><label class="collapse" for="c-42188702">[-]</label><label class="expand" for="c-42188702">[1 more]</label></div><br/><div class="children"><div class="content">I led a migration from Mongo to Riak at Shareaholic about 12 years ago: <a href="https:&#x2F;&#x2F;www.slideshare.net&#x2F;slideshow&#x2F;migrating-to-riak-at-shareaholic&#x2F;14130612" rel="nofollow">https:&#x2F;&#x2F;www.slideshare.net&#x2F;slideshow&#x2F;migrating-to-riak-at-sh...</a><p>It was successful at first, but ultimately we traded one set of problems for another (how novel, I know).<p>In particular, I underestimated the pain of troubleshooting the database itself. Riak was a new product, we were a small team that had never run anything on BEAM, and ultimately we lost too many days debugging and trying to make sense of Erlang stacktraces.<p>The Basho folks were great, and to this day I appreciate how quickly they fixed a number of bugs for us. But ultimately it wasn&#x27;t enough -- we found problems faster than they could be patched.</div><br/></div></div><div id="42187781" class="c"><input type="checkbox" id="c-42187781" checked=""/><div class="controls bullet"><span class="by">amarsahinovic</span><span>|</span><a href="#42188702">prev</a><span>|</span><a href="#42188146">next</a><span>|</span><label class="collapse" for="c-42187781">[-]</label><label class="expand" for="c-42187781">[1 more]</label></div><br/><div class="children"><div class="content">Lightning Talk: Introducing OpenRiak - Nicholas Adams: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=0GLBsBeM4Kc" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=0GLBsBeM4Kc</a></div><br/></div></div><div id="42188146" class="c"><input type="checkbox" id="c-42188146" checked=""/><div class="controls bullet"><span class="by">isoos</span><span>|</span><a href="#42187781">prev</a><span>|</span><a href="#42188120">next</a><span>|</span><label class="collapse" for="c-42188146">[-]</label><label class="expand" for="c-42188146">[1 more]</label></div><br/><div class="children"><div class="content">Basho team was very kind to open source contributions in ~2011-12: I&#x27;ve written an open source Riak client in Dart, and they had sent me t-shirts (the quality ones that are rare today). Nice treats for a fun project :)</div><br/></div></div><div id="42188120" class="c"><input type="checkbox" id="c-42188120" checked=""/><div class="controls bullet"><span class="by">tibbar</span><span>|</span><a href="#42188146">prev</a><span>|</span><a href="#42188009">next</a><span>|</span><label class="collapse" for="c-42188120">[-]</label><label class="expand" for="c-42188120">[25 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve never met an engineering team that used Riak, but it is used heavily as an example technology in Kleppmann&#x27;s &#x27;Designing Data Intensive Applications&#x27;. (I would say, informally, it&#x27;s usually the example of the &quot;other way&quot; as opposed to other more well-known databases.) This does make me wonder what became of it, why it didn&#x27;t take off.</div><br/><div id="42188238" class="c"><input type="checkbox" id="c-42188238" checked=""/><div class="controls bullet"><span class="by">macintux</span><span>|</span><a href="#42188120">parent</a><span>|</span><a href="#42191757">next</a><span>|</span><label class="collapse" for="c-42188238">[-]</label><label class="expand" for="c-42188238">[16 more]</label></div><br/><div class="children"><div class="content">Speaking as a former tech evangelist&#x2F;engineer at Basho, there were a few significant challenges.<p>Riak is horribly unfriendly as a database: no SQL, it exposes eventual consistency directly to the developer, it’s relatively slow, and Erlang is a fairly unusual language.<p>While you <i>can</i> run Riak on a single server, you’d have to really want to.<p>Its strength is the ability to scale massively, but not many projects need that scale, and by the time you do, you’re probably already using some friendlier database and you’d rather make that one work.</div><br/><div id="42191772" class="c"><input type="checkbox" id="c-42191772" checked=""/><div class="controls bullet"><span class="by">mrweasel</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42188238">parent</a><span>|</span><a href="#42188614">next</a><span>|</span><label class="collapse" for="c-42191772">[-]</label><label class="expand" for="c-42191772">[1 more]</label></div><br/><div class="children"><div class="content">I joined a company that had some investment in Basho and managed to sell Riak as the data store for a large client. It never really worked out, not enough of the SREs had be properly trained on Riak, the developers hated it because getting help and support was somewhat difficult, especially in an emergency.<p>In the end more and more data was offloaded to MariaDB, until one day the last remaining data couldn&#x27;t justify the cost of the Riak cluster. I think we swapped out an eight node Riak cluster for two largish MariaDB database (one being a hot-standby).<p>For one of the other clients it was the exact same scenario, only we had been contracted in to help run the Riak cluster, which we didn&#x27;t do well. Once they had migrate of it, to Oracle I think, the  client left.<p>To me it always felt like it was just the wrong tool for that particular job. Someone really wanted to be able to jump on the NoSQL hype and sell something. They picked Riak, because it honestly looked really good, and probably was, compared to MongoDB, CouchDB or whatever else happened to float around at the time. It just wasn&#x27;t the right tool for the problems it was applied to.</div><br/></div></div><div id="42188614" class="c"><input type="checkbox" id="c-42188614" checked=""/><div class="controls bullet"><span class="by">btilly</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42188238">parent</a><span>|</span><a href="#42191772">prev</a><span>|</span><a href="#42188779">next</a><span>|</span><label class="collapse" for="c-42188614">[-]</label><label class="expand" for="c-42188614">[2 more]</label></div><br/><div class="children"><div class="content">Back in 2011 I was working on a project that involved Riak. The difficulty and slowness for doing stuff corresponding to basic SQL operations was certainly a giant strike against it, and helped sink that project before it was released.</div><br/><div id="42189099" class="c"><input type="checkbox" id="c-42189099" checked=""/><div class="controls bullet"><span class="by">p_l</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42188614">parent</a><span>|</span><a href="#42188779">next</a><span>|</span><label class="collapse" for="c-42189099">[-]</label><label class="expand" for="c-42189099">[1 more]</label></div><br/><div class="children"><div class="content">&gt; corresponding to basic SQL operations<p>Ohhh, this brings memories of developers hitting the wall... Between different SQL databases!<p>Back in 2016 I was delegated at work to do ops on a project that had big data ambitions in Threat Intelligence space.<p>Part of how they intended to support that was Apache Phoenix, an SQL database backed by HBase, running on top of Hadoop that also provided object storage (annoyingly through WebHDFS gateway).<p>Constant problems with hung Phoenix queries and instability of Hadoop in entirety led me to propose moving over to PostgreSQL, which generally went quite well... Except several cases of &quot;basic SQL operations&quot; that turned to have wildly different performance compared to Phoenix and most importantly, to MySQL in MyISAM mode, like doing SELECT (*) on huge tables.<p>Fun times, got to meet a postgres core team member thanks to it.</div><br/></div></div></div></div><div id="42188779" class="c"><input type="checkbox" id="c-42188779" checked=""/><div class="controls bullet"><span class="by">anotherjesse</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42188238">parent</a><span>|</span><a href="#42188614">prev</a><span>|</span><a href="#42188533">next</a><span>|</span><label class="collapse" for="c-42188779">[-]</label><label class="expand" for="c-42188779">[3 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;howfuckedismydatabase.com&#x2F;nosql&#x2F;" rel="nofollow">https:&#x2F;&#x2F;howfuckedismydatabase.com&#x2F;nosql&#x2F;</a> this infamous comic is about riak</div><br/><div id="42189635" class="c"><input type="checkbox" id="c-42189635" checked=""/><div class="controls bullet"><span class="by">rubiquity</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42188779">parent</a><span>|</span><a href="#42188533">next</a><span>|</span><label class="collapse" for="c-42189635">[-]</label><label class="expand" for="c-42189635">[2 more]</label></div><br/><div class="children"><div class="content">That could also very well be about CouchDB which implemented indexes&#x2F;views as MapReduce functions.</div><br/><div id="42190321" class="c"><input type="checkbox" id="c-42190321" checked=""/><div class="controls bullet"><span class="by">senderista</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42189635">parent</a><span>|</span><a href="#42188533">next</a><span>|</span><label class="collapse" for="c-42190321">[-]</label><label class="expand" for="c-42190321">[1 more]</label></div><br/><div class="children"><div class="content">Back in the day we had a CouchDB MapReduce view (on Cloudant) which took a full <i>month</i> to rebuild (while an angry customer was waiting). The I&#x2F;O inefficiency was absolutely off the charts.</div><br/></div></div></div></div></div></div><div id="42188533" class="c"><input type="checkbox" id="c-42188533" checked=""/><div class="controls bullet"><span class="by">binary132</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42188238">parent</a><span>|</span><a href="#42188779">prev</a><span>|</span><a href="#42188580">next</a><span>|</span><label class="collapse" for="c-42188533">[-]</label><label class="expand" for="c-42188533">[7 more]</label></div><br/><div class="children"><div class="content">I wonder if some of these issues could be addressed sanely in an extension to the functionality</div><br/><div id="42189569" class="c"><input type="checkbox" id="c-42189569" checked=""/><div class="controls bullet"><span class="by">macintux</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42188533">parent</a><span>|</span><a href="#42188580">next</a><span>|</span><label class="collapse" for="c-42189569">[-]</label><label class="expand" for="c-42189569">[6 more]</label></div><br/><div class="children"><div class="content">We were working on ways of making it easier (such as CRDTs to reduce the amount of work developers had to do to leverage eventual consistency), but these were pretty challenging problems to solve.<p>One of our biggest disappointments: we had plans to add a way to enforce strong consistency leveraging (IIRC) something akin to multi-paxos, but couldn&#x27;t get it to work.</div><br/><div id="42190678" class="c"><input type="checkbox" id="c-42190678" checked=""/><div class="controls bullet"><span class="by">jtuple</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42189569">parent</a><span>|</span><a href="#42190465">next</a><span>|</span><label class="collapse" for="c-42190678">[-]</label><label class="expand" for="c-42190678">[4 more]</label></div><br/><div class="children"><div class="content">TBH, we shipped fully working strong consistency in 2014. It just had a limited feature set, was disabled by default, and was never promoted&#x2F;marketed since it didn&#x27;t fit the direction the new CEO&#x2F;CTO was pushing.<p>The engineering exodus around that time sorta killed the project though, and we never were able to do the big follow-up work to make it really shine.<p>(Disclaimer: Former Basho Principal Engineer, primary author of strong consistency work, lead riak_core dev from 2011-2015)<p>I think another 18 months would have been enough too. But it just wasn&#x27;t the right environment after the hostile take-over &#x2F; leadership transition.</div><br/><div id="42191749" class="c"><input type="checkbox" id="c-42191749" checked=""/><div class="controls bullet"><span class="by">masleeds</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42190678">parent</a><span>|</span><a href="#42190924">next</a><span>|</span><label class="collapse" for="c-42191749">[-]</label><label class="expand" for="c-42191749">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure though for how much longer it will continue to make sense for the project as-is to continue to roll riak_ensemble forward as part of future releases.  As there are no contributors who have direct direct experience or knowledge of using it in production, so it is hard to claim it as being a supported part of the product in any real sense.<p>I apologise if we do eventually cut it.  Having worked through the code when chasing unstable tests, I developed an appreciation for the quality of the work.</div><br/></div></div><div id="42190924" class="c"><input type="checkbox" id="c-42190924" checked=""/><div class="controls bullet"><span class="by">NickM</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42190678">parent</a><span>|</span><a href="#42191749">prev</a><span>|</span><a href="#42190710">next</a><span>|</span><label class="collapse" for="c-42190924">[-]</label><label class="expand" for="c-42190924">[1 more]</label></div><br/><div class="children"><div class="content">There were customers happily using strong consistency in production, but somehow the idea that it wasn’t “finished” kept getting repeated over and over by management. I was well on my way to solving the biggest rough edge (tombstone reaping in SC buckets) but then I got pulled off to work on the infamous “data platform” and never got to finish that work :-(</div><br/></div></div><div id="42190710" class="c"><input type="checkbox" id="c-42190710" checked=""/><div class="controls bullet"><span class="by">macintux</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42190678">parent</a><span>|</span><a href="#42190924">prev</a><span>|</span><a href="#42190465">next</a><span>|</span><label class="collapse" for="c-42190710">[-]</label><label class="expand" for="c-42190710">[1 more]</label></div><br/><div class="children"><div class="content">My apologies for misremembering. I’m glad you chimed in to correct the record.</div><br/></div></div></div></div><div id="42190465" class="c"><input type="checkbox" id="c-42190465" checked=""/><div class="controls bullet"><span class="by">binary132</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42189569">parent</a><span>|</span><a href="#42190678">prev</a><span>|</span><a href="#42188580">next</a><span>|</span><label class="collapse" for="c-42190465">[-]</label><label class="expand" for="c-42190465">[1 more]</label></div><br/><div class="children"><div class="content">that sounds like a painful session</div><br/></div></div></div></div></div></div><div id="42188580" class="c"><input type="checkbox" id="c-42188580" checked=""/><div class="controls bullet"><span class="by">cmrdporcupine</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42188238">parent</a><span>|</span><a href="#42188533">prev</a><span>|</span><a href="#42191757">next</a><span>|</span><label class="collapse" for="c-42188580">[-]</label><label class="expand" for="c-42188580">[2 more]</label></div><br/><div class="children"><div class="content">Thing is, Cassandra became and remained popular, with similar aspects (though in JVM instead of Erlang, so).<p>Though it had a couple years head start when there really no other options for people wanting that kind of kit.</div><br/><div id="42190476" class="c"><input type="checkbox" id="c-42190476" checked=""/><div class="controls bullet"><span class="by">wbl</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42188580">parent</a><span>|</span><a href="#42191757">next</a><span>|</span><label class="collapse" for="c-42190476">[-]</label><label class="expand" for="c-42190476">[1 more]</label></div><br/><div class="children"><div class="content">I feel building a threat intelligence product on Cassandra is a bit on the nose. What&#x27;s next, calling the TCB Palladium?</div><br/></div></div></div></div></div></div><div id="42191757" class="c"><input type="checkbox" id="c-42191757" checked=""/><div class="controls bullet"><span class="by">rmetzler</span><span>|</span><a href="#42188120">parent</a><span>|</span><a href="#42188238">prev</a><span>|</span><a href="#42188675">next</a><span>|</span><label class="collapse" for="c-42191757">[-]</label><label class="expand" for="c-42191757">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;ve never met an engineering team that used Riak<p>I was part of a recent cloud migration. Part of on-prem (though unfortunately not migrated by my team) were this very first Riak Cluster I saw in production.<p>The engineering team used it as &quot;kind of S3&quot; for images, with 3 to 5 PHP scripts providing an interface to Riak and imageMagic. It seemed to me like a good abstraction and I think the migration to S3 was mostly painless.<p>Other than that I only had contact with Riak at university around 15 years ago, when we tested cluster setups of several NoSQL databases and tried to manually introduce faults to see if they could heal. Riak passed our test at that time, MongoDB didn&#x27;t.</div><br/></div></div><div id="42188675" class="c"><input type="checkbox" id="c-42188675" checked=""/><div class="controls bullet"><span class="by">0xbadcafebee</span><span>|</span><a href="#42188120">parent</a><span>|</span><a href="#42191757">prev</a><span>|</span><a href="#42188584">next</a><span>|</span><label class="collapse" for="c-42188675">[-]</label><label class="expand" for="c-42188675">[1 more]</label></div><br/><div class="children"><div class="content">I worked on a team that built a massive, high-performance internal service based on Riak. There are many things I learned from that system. Here is the best takeaway I can offer:<p>It does not matter what your technology is, or how theoretically superior it is. Getting it to actually work well &quot;in production&quot; is a whole separate <i>thing</i> than simply designing it and writing code. When it&#x27;s a very small system, it will look like it&#x27;s doing great. As it gets bigger, the seams will start to burst, and you will find out that promises and theory don&#x27;t always match reality.<p>In the end, while its aims are great, it takes a whoooooole lot of work to smooth out the bumps in such a system. You need experts in that technology to address bugs in a timely manner. You need developers versed in the system to properly build apps utilizing it. You need competent operators to build, orchestrate, operate and maintain the whole thing.<p>All of that is made easier by using simple technology that everybody knows, that there&#x27;s a huge support community for, professional services for, etc. A technology like MySQL or Postgres etc, has the corporate, development, support, etc to make it easy to work with at any scale. A little janky at times, limited, but dependable, predictable, controllable.<p>A small bespoke system with a small support community and virtually no corporate support is, comparatively, a hell of a lot more difficult&#x2F;costly to support and harder to make work reliably.</div><br/></div></div><div id="42188584" class="c"><input type="checkbox" id="c-42188584" checked=""/><div class="controls bullet"><span class="by">red_hare</span><span>|</span><a href="#42188120">parent</a><span>|</span><a href="#42188675">prev</a><span>|</span><a href="#42191594">next</a><span>|</span><label class="collapse" for="c-42188584">[-]</label><label class="expand" for="c-42188584">[1 more]</label></div><br/><div class="children"><div class="content">My old team used Riak in production for time series data in a real-time system.<p>Our code was in Clojure, and we just wrapped the Java client. The conflict resolution was a steep learning curve, but overall, it was kind of nice (coming from Mongo).<p>But man, Clojure stack traces wrapping Java stack traces wrapping Erlang stack traces in a Kafka consumer... I wish that hell on no one.</div><br/></div></div><div id="42191594" class="c"><input type="checkbox" id="c-42191594" checked=""/><div class="controls bullet"><span class="by">m00x</span><span>|</span><a href="#42188120">parent</a><span>|</span><a href="#42188584">prev</a><span>|</span><a href="#42188162">next</a><span>|</span><label class="collapse" for="c-42191594">[-]</label><label class="expand" for="c-42191594">[1 more]</label></div><br/><div class="children"><div class="content">Companies would rather use something like dynamodb than self-host riak. You get an army of Amazon code monkeys to help you if something goes wrong, and it&#x27;s a click away.</div><br/></div></div><div id="42188162" class="c"><input type="checkbox" id="c-42188162" checked=""/><div class="controls bullet"><span class="by">encoderer</span><span>|</span><a href="#42188120">parent</a><span>|</span><a href="#42191594">prev</a><span>|</span><a href="#42188741">next</a><span>|</span><label class="collapse" for="c-42188162">[-]</label><label class="expand" for="c-42188162">[1 more]</label></div><br/><div class="children"><div class="content">Inscrutable erlang stack traces definitely played a part. They were horrible.</div><br/></div></div><div id="42188741" class="c"><input type="checkbox" id="c-42188741" checked=""/><div class="controls bullet"><span class="by">bojo</span><span>|</span><a href="#42188120">parent</a><span>|</span><a href="#42188162">prev</a><span>|</span><a href="#42188647">next</a><span>|</span><label class="collapse" for="c-42188741">[-]</label><label class="expand" for="c-42188741">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m pretty sure Stripe was a heavy user of this for a while. They used it due to their write-heavy system, if I recall.<p>I fondly remember writing a Go driver for it. Was a good experience: <a href="https:&#x2F;&#x2F;github.com&#x2F;riaken&#x2F;riaken-core">https:&#x2F;&#x2F;github.com&#x2F;riaken&#x2F;riaken-core</a></div><br/></div></div><div id="42188647" class="c"><input type="checkbox" id="c-42188647" checked=""/><div class="controls bullet"><span class="by">veyh</span><span>|</span><a href="#42188120">parent</a><span>|</span><a href="#42188741">prev</a><span>|</span><a href="#42188009">next</a><span>|</span><label class="collapse" for="c-42188647">[-]</label><label class="expand" for="c-42188647">[2 more]</label></div><br/><div class="children"><div class="content">We used Riak at $dayjob at around 2014-2017 (iirc). I don&#x27;t exactly remember it fondly. It was slow and unreliable. You could make it freeze&#x2F;crash with the wrong SOLR query. (I was pretty good at that...)</div><br/><div id="42188760" class="c"><input type="checkbox" id="c-42188760" checked=""/><div class="controls bullet"><span class="by">masleeds</span><span>|</span><a href="#42188120">root</a><span>|</span><a href="#42188647">parent</a><span>|</span><a href="#42188009">next</a><span>|</span><label class="collapse" for="c-42188760">[-]</label><label class="expand" for="c-42188760">[1 more]</label></div><br/><div class="children"><div class="content">The SOLR part has now been retired from the last few releases.<p>Current development has been focused on improving the flexibility of secondary indexes.  There was some funky stuff achieved by some users using overloaded 2i terms and distributed processing of regular expressions against those terms - the aim is now to make this more flexible to the modern developer using the language of projected attributes and filter expressions (ala DynamoDB).  There&#x27;s also some active work to both replicate-to and full-sync (i.e. reconcile with) external OpenSearch clusters.<p>The primary goal for OpenRiak is stability under load&#x2F;failure as a K&#x2F;V store - so the ultra-flexibility of in-built SOLR querying has been sacrificed in the move towards that aim.  Anything that can do harm is to be offloaded or constrained.</div><br/></div></div></div></div></div></div><div id="42188009" class="c"><input type="checkbox" id="c-42188009" checked=""/><div class="controls bullet"><span class="by">carterschonwald</span><span>|</span><a href="#42188120">prev</a><span>|</span><a href="#42189121">next</a><span>|</span><label class="collapse" for="c-42188009">[-]</label><label class="expand" for="c-42188009">[2 more]</label></div><br/><div class="children"><div class="content">Cool! 
I never used it but really liked the engineers I met who worked at basho on risk.  AFAIK, they basically had an engineering dream team until their last ceo had them go hard in certain directions that didn’t pan out.</div><br/><div id="42188694" class="c"><input type="checkbox" id="c-42188694" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#42188009">parent</a><span>|</span><a href="#42189121">next</a><span>|</span><label class="collapse" for="c-42188694">[-]</label><label class="expand" for="c-42188694">[1 more]</label></div><br/><div class="children"><div class="content">Thanks!</div><br/></div></div></div></div><div id="42189121" class="c"><input type="checkbox" id="c-42189121" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42188009">prev</a><span>|</span><a href="#42188033">next</a><span>|</span><label class="collapse" for="c-42189121">[-]</label><label class="expand" for="c-42189121">[2 more]</label></div><br/><div class="children"><div class="content">As someone who has used Riak in anger once in his career and who has a blossoming interest in FoundationDB I&#x27;d love someone to contrast the two systems. My knee-jerk reaction --- which I&#x27;m calling out as such! --- is that FDB has decreased the relevance of systems like Riak.</div><br/><div id="42189380" class="c"><input type="checkbox" id="c-42189380" checked=""/><div class="controls bullet"><span class="by">masleeds</span><span>|</span><a href="#42189121">parent</a><span>|</span><a href="#42188033">next</a><span>|</span><label class="collapse" for="c-42189380">[-]</label><label class="expand" for="c-42189380">[1 more]</label></div><br/><div class="children"><div class="content">I would tend to agree, perhaps a decade ago it was easier to define the uniqueness of Riak, and now there are alternatives that offer similar guarantees.  So the relevance of Riak is not as obvious.<p>Also as we focus on stability on OpenRiak going forward, that means reducing some of the capability that may have made Riak stand-out in the scale-out space.  The preference going forward is to do fewer things, but do those things predictably well.<p>There will be differences between Riak and FoundationDB, and I hope those differences are sufficient to make Riak interesting, and allow it to continue to occupy a small niche in the world of databases.</div><br/></div></div></div></div><div id="42188033" class="c"><input type="checkbox" id="c-42188033" checked=""/><div class="controls bullet"><span class="by">chadd</span><span>|</span><a href="#42189121">prev</a><span>|</span><a href="#42190600">next</a><span>|</span><label class="collapse" for="c-42188033">[-]</label><label class="expand" for="c-42188033">[4 more]</label></div><br/><div class="children"><div class="content">I used Riak for a project back in 2012, the app that became the Whisper App, and as a huge Erlang fanboy, I was so excited about it.<p>But it was incredibly unreliable at scale, and my colleague and I spent a week of sleepless nights under incredible personal and business pressure - as the servers got busier and busier - ripping it out.<p>Still love vector clocks, though, and have fond memories of the Basho team presenting at Erlang Factory</div><br/><div id="42188124" class="c"><input type="checkbox" id="c-42188124" checked=""/><div class="controls bullet"><span class="by">amanj41</span><span>|</span><a href="#42188033">parent</a><span>|</span><a href="#42190600">next</a><span>|</span><label class="collapse" for="c-42188124">[-]</label><label class="expand" for="c-42188124">[3 more]</label></div><br/><div class="children"><div class="content">Vector clocks are very cool. Having read through how they were initially used in Riak, I was blown away that such an implementation could scale. I guess this is why Cassandra took a different approach?</div><br/><div id="42188147" class="c"><input type="checkbox" id="c-42188147" checked=""/><div class="controls bullet"><span class="by">tibbar</span><span>|</span><a href="#42188033">root</a><span>|</span><a href="#42188124">parent</a><span>|</span><a href="#42190600">next</a><span>|</span><label class="collapse" for="c-42188147">[-]</label><label class="expand" for="c-42188147">[2 more]</label></div><br/><div class="children"><div class="content">Vector clocks are certainly cool but fundamentally premised on the idea of having multiple &#x27;live&#x27; versions of a value at once. Amazon&#x27;s original Dynamo paper required conflict resolution at the application level, which is a very strange framework to build applications on. (Notably DynamoDB has moved away from this, I believe to Last Write Wins.) Cassandra takes the latter approach by default as well, I believe.</div><br/><div id="42188759" class="c"><input type="checkbox" id="c-42188759" checked=""/><div class="controls bullet"><span class="by">amanj41</span><span>|</span><a href="#42188033">root</a><span>|</span><a href="#42188147">parent</a><span>|</span><a href="#42190600">next</a><span>|</span><label class="collapse" for="c-42188759">[-]</label><label class="expand" for="c-42188759">[1 more]</label></div><br/><div class="children"><div class="content">yes there&#x27;s that idiosyncrasy, as well as client ideally needing to read the previous clock from the DB before writing an update for that key unless it&#x27;s ok with the write being viewed as concurrent. Plus the extra memory overhead to store the clocks in the client.</div><br/></div></div></div></div></div></div></div></div><div id="42190600" class="c"><input type="checkbox" id="c-42190600" checked=""/><div class="controls bullet"><span class="by">amerine</span><span>|</span><a href="#42188033">prev</a><span>|</span><a href="#42190742">next</a><span>|</span><label class="collapse" for="c-42190600">[-]</label><label class="expand" for="c-42190600">[1 more]</label></div><br/><div class="children"><div class="content">I still use my RICON pint glass and wear my RICON jacket Basho gave everyone at RICON almost every week. My favorite conf swag ever</div><br/></div></div><div id="42190742" class="c"><input type="checkbox" id="c-42190742" checked=""/><div class="controls bullet"><span class="by">remram</span><span>|</span><a href="#42190600">prev</a><span>|</span><a href="#42190892">next</a><span>|</span><label class="collapse" for="c-42190742">[-]</label><label class="expand" for="c-42190742">[2 more]</label></div><br/><div class="children"><div class="content">What&#x27;s a Riak and is there really no better link for this news?</div><br/><div id="42190793" class="c"><input type="checkbox" id="c-42190793" checked=""/><div class="controls bullet"><span class="by">sriram_malhar</span><span>|</span><a href="#42190742">parent</a><span>|</span><a href="#42190892">next</a><span>|</span><label class="collapse" for="c-42190793">[-]</label><label class="expand" for="c-42190793">[1 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Riak" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Riak</a></div><br/></div></div></div></div><div id="42190892" class="c"><input type="checkbox" id="c-42190892" checked=""/><div class="controls bullet"><span class="by">p_l</span><span>|</span><a href="#42190742">prev</a><span>|</span><a href="#42188052">next</a><span>|</span><label class="collapse" for="c-42190892">[-]</label><label class="expand" for="c-42190892">[1 more]</label></div><br/><div class="children"><div class="content">A question possibly answered elsewhere, but did openriak include only Risk KV, or also other projects like CS &amp; TS?</div><br/></div></div><div id="42188052" class="c"><input type="checkbox" id="c-42188052" checked=""/><div class="controls bullet"><span class="by">vosper</span><span>|</span><a href="#42190892">prev</a><span>|</span><a href="#42188521">next</a><span>|</span><label class="collapse" for="c-42188052">[-]</label><label class="expand" for="c-42188052">[8 more]</label></div><br/><div class="children"><div class="content">Who would this be for in 2024?<p>I remember evaluating Riak back in 2011 or so for an analytics solution, but ended up going with a more traditional OLAP database that was a much better option.<p>It&#x27;s hard for me to imagine where Riak would be a good option given how many choices we have today for various data stores.</div><br/><div id="42188698" class="c"><input type="checkbox" id="c-42188698" checked=""/><div class="controls bullet"><span class="by">EwanToo</span><span>|</span><a href="#42188052">parent</a><span>|</span><a href="#42190677">next</a><span>|</span><label class="collapse" for="c-42188698">[-]</label><label class="expand" for="c-42188698">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s realistically for the handful (dozens at most?) of very large Riak implementations where it would be enormously expensive to rewrite the application running on top of it.<p>For example, the UK NHS Spine messaging system which has been building on Riak for 10 years<p><a href="https:&#x2F;&#x2F;riak.com&#x2F;posts&#x2F;press&#x2F;nhs-launches-upgraded-it-backbone-spine-powered-by-riak&#x2F;index.html?p=5044.html" rel="nofollow">https:&#x2F;&#x2F;riak.com&#x2F;posts&#x2F;press&#x2F;nhs-launches-upgraded-it-backbo...</a></div><br/></div></div><div id="42190677" class="c"><input type="checkbox" id="c-42190677" checked=""/><div class="controls bullet"><span class="by">nicholas-adams</span><span>|</span><a href="#42188052">parent</a><span>|</span><a href="#42188698">prev</a><span>|</span><a href="#42188656">next</a><span>|</span><label class="collapse" for="c-42190677">[-]</label><label class="expand" for="c-42190677">[1 more]</label></div><br/><div class="children"><div class="content">I think that in the time since 2011, things have changed more than a bit. As my employer provides Enterprise Grade Riak Support (and, of course, OpenRiak support), I&#x27;m under NDA and cannot really share names. However, I can share that that there are quite a few places that use Riak.<p>Here are a few off the top of my head:<p>- the biggest online betting company in the world<p>- one of Japan&#x27;s largest e-commerce sites<p>- a large Hungarian bank<p>- one of China&#x27;s largest electronic manufacturers<p>- arguably Asia&#x27;s largest or second largest messaging platform<p>- a significant Indian online-documentation provider<p>- one of the largest US insurance providers<p>- an Australian app analytics provider<p>- a European telephone services provider<p>- one of the world&#x27;s largest travel sites<p>- an Asian-based credit-card fraud detection service<p>- a number of start ups in various industries<p>- me - I do my crypto taxes using a 5 node Riak cluster running on Raspberry Pi&#x27;s<p>In the Basho era (up to early 2017), Riak may have only been targetted to larger players but now, when it comes to areas such as in-house data sovereignty, compliance (e.g. GDPR), the flexibility, speed and reliability Riak now provides plus being free to run, people from individuals to corporates are starting to wake up and see the advantages.<p>(edited in an attempt to improve list formatting)</div><br/></div></div><div id="42188656" class="c"><input type="checkbox" id="c-42188656" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#42188052">parent</a><span>|</span><a href="#42190677">prev</a><span>|</span><a href="#42188103">next</a><span>|</span><label class="collapse" for="c-42188656">[-]</label><label class="expand" for="c-42188656">[3 more]</label></div><br/><div class="children"><div class="content">It is a fault tolerant massively scalable key value store capable of handling hundreds of terabytes of data.<p>What are these options you are thinking of?<p>The only thing that comes to my mind is Aerospike and possibly ScyllaDB.</div><br/><div id="42190375" class="c"><input type="checkbox" id="c-42190375" checked=""/><div class="controls bullet"><span class="by">tptacek</span><span>|</span><a href="#42188052">root</a><span>|</span><a href="#42188656">parent</a><span>|</span><a href="#42190352">next</a><span>|</span><label class="collapse" for="c-42190375">[-]</label><label class="expand" for="c-42190375">[1 more]</label></div><br/><div class="children"><div class="content">FoundationDB seems like the obvious example? But they&#x27;re not strictly comparable in anything but scale, right? FDB is ACID.</div><br/></div></div><div id="42190352" class="c"><input type="checkbox" id="c-42190352" checked=""/><div class="controls bullet"><span class="by">senderista</span><span>|</span><a href="#42188052">root</a><span>|</span><a href="#42188656">parent</a><span>|</span><a href="#42190375">prev</a><span>|</span><a href="#42188103">next</a><span>|</span><label class="collapse" for="c-42190352">[-]</label><label class="expand" for="c-42190352">[1 more]</label></div><br/><div class="children"><div class="content">If cloud is an option, DynamoDB?</div><br/></div></div></div></div><div id="42188103" class="c"><input type="checkbox" id="c-42188103" checked=""/><div class="controls bullet"><span class="by">felixgallo</span><span>|</span><a href="#42188052">parent</a><span>|</span><a href="#42188656">prev</a><span>|</span><a href="#42188521">next</a><span>|</span><label class="collapse" for="c-42188103">[-]</label><label class="expand" for="c-42188103">[2 more]</label></div><br/><div class="children"><div class="content">Riak isn’t remotely like OLAP. What was your use case?</div><br/><div id="42188172" class="c"><input type="checkbox" id="c-42188172" checked=""/><div class="controls bullet"><span class="by">ramon156</span><span>|</span><a href="#42188052">root</a><span>|</span><a href="#42188103">parent</a><span>|</span><a href="#42188521">next</a><span>|</span><label class="collapse" for="c-42188172">[-]</label><label class="expand" for="c-42188172">[1 more]</label></div><br/><div class="children"><div class="content">Think they meant OLTP</div><br/></div></div></div></div></div></div><div id="42188521" class="c"><input type="checkbox" id="c-42188521" checked=""/><div class="controls bullet"><span class="by">binary132</span><span>|</span><a href="#42188052">prev</a><span>|</span><label class="collapse" for="c-42188521">[-]</label><label class="expand" for="c-42188521">[1 more]</label></div><br/><div class="children"><div class="content">It’s actually kinda silly how exciting this is to me</div><br/></div></div></div></div></div></div></div></body></html>