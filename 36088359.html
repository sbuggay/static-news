<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1685178069953" as="style"/><link rel="stylesheet" href="styles.css?v=1685178069953"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://logicboard.com/demo">Show HN: I made an in-browser code editor with code replay and REPL</a> <span class="domain">(<a href="https://logicboard.com">logicboard.com</a>)</span></div><div class="subtext"><span>logicboard</span> | <span>23 comments</span></div><br/><div><div id="36089820" class="c"><input type="checkbox" id="c-36089820" checked=""/><div class="controls bullet"><span class="by">nacs</span><span>|</span><a href="#36091339">next</a><span>|</span><label class="collapse" for="c-36089820">[-]</label><label class="expand" for="c-36089820">[1 more]</label></div><br/><div class="children"><div class="content">This allows outbound network access, allows program execution (within the container) and more.<p>You might want to restrict some of these things before Amazon shuts your account down for abuse requests.<p>You&#x27;re basically handing everyone on the internet an EC2 instance to do literally anything with -- it&#x27;ll be minutes to hours before this gets abused.<p>`uname` output from the container for example:
Linux a976bf3f5ff7 4.14.193-113.317.amzn1.x86_64 #1 SMP Thu Sep 3 19:08:08 UTC 2020 x86_64 x86_64 x86_64 GNU&#x2F;Linux</div><br/></div></div><div id="36091339" class="c"><input type="checkbox" id="c-36091339" checked=""/><div class="controls bullet"><span class="by">andrewstuart</span><span>|</span><a href="#36089820">prev</a><span>|</span><a href="#36092154">next</a><span>|</span><label class="collapse" for="c-36091339">[-]</label><label class="expand" for="c-36091339">[1 more]</label></div><br/><div class="children"><div class="content">As nacs said, this is a really bad idea - you should take it offline or prevent network access ASAP.<p>I just ran a couple of Python scripts that grabbed the ec2 instance metadata and the HN front page.</div><br/></div></div><div id="36092154" class="c"><input type="checkbox" id="c-36092154" checked=""/><div class="controls bullet"><span class="by">brazzledazzle</span><span>|</span><a href="#36091339">prev</a><span>|</span><a href="#36090187">next</a><span>|</span><label class="collapse" for="c-36092154">[-]</label><label class="expand" for="c-36092154">[1 more]</label></div><br/><div class="children"><div class="content">Just to add to the other voices: executing untrusted code can be extremely dangerous. There’s so many ways to shoot yourself in the foot.  I’m not sure if container boundaries are sufficient but each repl shouldn’t share a namespace with the others at the very least.<p>That said it’s pretty smooth and actually usable on mobile. Pretty polished too.</div><br/></div></div><div id="36090187" class="c"><input type="checkbox" id="c-36090187" checked=""/><div class="controls bullet"><span class="by">Takennickname</span><span>|</span><a href="#36092154">prev</a><span>|</span><a href="#36088613">next</a><span>|</span><label class="collapse" for="c-36090187">[-]</label><label class="expand" for="c-36090187">[3 more]</label></div><br/><div class="children"><div class="content">Where is the code being executed?</div><br/><div id="36091113" class="c"><input type="checkbox" id="c-36091113" checked=""/><div class="controls bullet"><span class="by">logicboard</span><span>|</span><a href="#36090187">parent</a><span>|</span><a href="#36090932">next</a><span>|</span><label class="collapse" for="c-36091113">[-]</label><label class="expand" for="c-36091113">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s executed in a Docker container inside an EC2 Instance.</div><br/></div></div><div id="36090932" class="c"><input type="checkbox" id="c-36090932" checked=""/><div class="controls bullet"><span class="by">arjvik</span><span>|</span><a href="#36090187">parent</a><span>|</span><a href="#36091113">prev</a><span>|</span><a href="#36088613">next</a><span>|</span><label class="collapse" for="c-36090932">[-]</label><label class="expand" for="c-36090932">[1 more]</label></div><br/><div class="children"><div class="content">Appears to be an EC2 instance</div><br/></div></div></div></div><div id="36088613" class="c"><input type="checkbox" id="c-36088613" checked=""/><div class="controls bullet"><span class="by">ceepee</span><span>|</span><a href="#36090187">prev</a><span>|</span><a href="#36090935">next</a><span>|</span><label class="collapse" for="c-36088613">[-]</label><label class="expand" for="c-36088613">[11 more]</label></div><br/><div class="children"><div class="content">I&#x27;m curious if anyone would like to use the code-execution as a service.
It&#x27;s basically a websocket based API where you send a blob of code and get execution result as response.<p>In case of REPL, you send STDIN to websocket and get STDOUT as response.
All code execution happens in separate Docker containers.</div><br/><div id="36088700" class="c"><input type="checkbox" id="c-36088700" checked=""/><div class="controls bullet"><span class="by">camdenreslink</span><span>|</span><a href="#36088613">parent</a><span>|</span><a href="#36091558">next</a><span>|</span><label class="collapse" for="c-36088700">[-]</label><label class="expand" for="c-36088700">[4 more]</label></div><br/><div class="children"><div class="content">Docker containers probably aren’t enough isolation. But throw some firecrackervm in the pot and you’ve got a stew going.</div><br/><div id="36089158" class="c"><input type="checkbox" id="c-36089158" checked=""/><div class="controls bullet"><span class="by">rohitpaulk</span><span>|</span><a href="#36088613">root</a><span>|</span><a href="#36088700">parent</a><span>|</span><a href="#36091558">next</a><span>|</span><label class="collapse" for="c-36089158">[-]</label><label class="expand" for="c-36089158">[3 more]</label></div><br/><div class="children"><div class="content">Repl.it uses Docker containers too, only recently started work on moving to better isolation mechanisms like VMs</div><br/><div id="36090682" class="c"><input type="checkbox" id="c-36090682" checked=""/><div class="controls bullet"><span class="by">rmorey</span><span>|</span><a href="#36088613">root</a><span>|</span><a href="#36089158">parent</a><span>|</span><a href="#36089588">next</a><span>|</span><label class="collapse" for="c-36090682">[-]</label><label class="expand" for="c-36090682">[1 more]</label></div><br/><div class="children"><div class="content">At replit every repl is indeed a docker container, but that is absolutely not the primarily isolation mechanism. Here’s a comment from CEO @amasad to that effect in 2019 (so, even more secure now I am certain) <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=19215175" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=19215175</a></div><br/></div></div><div id="36089588" class="c"><input type="checkbox" id="c-36089588" checked=""/><div class="controls bullet"><span class="by">wahnfrieden</span><span>|</span><a href="#36088613">root</a><span>|</span><a href="#36089158">parent</a><span>|</span><a href="#36090682">prev</a><span>|</span><a href="#36091558">next</a><span>|</span><label class="collapse" for="c-36089588">[-]</label><label class="expand" for="c-36089588">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m using <a href="https:&#x2F;&#x2F;github.com&#x2F;live-codes&#x2F;livecodes">https:&#x2F;&#x2F;github.com&#x2F;live-codes&#x2F;livecodes</a> to just move it all completely into the client with a replit-like alternative thing we&#x27;re working on</div><br/></div></div></div></div></div></div><div id="36091558" class="c"><input type="checkbox" id="c-36091558" checked=""/><div class="controls bullet"><span class="by">AdieuToLogic</span><span>|</span><a href="#36088613">parent</a><span>|</span><a href="#36088700">prev</a><span>|</span><a href="#36089726">next</a><span>|</span><label class="collapse" for="c-36091558">[-]</label><label class="expand" for="c-36091558">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;m curious if anyone would like to use the code-execution as a service.<p>I am sure there are many whom would.  Some may use it ethically, but many will not.<p>All will place liability on the service.</div><br/><div id="36092030" class="c"><input type="checkbox" id="c-36092030" checked=""/><div class="controls bullet"><span class="by">sullivanmatt</span><span>|</span><a href="#36088613">root</a><span>|</span><a href="#36091558">parent</a><span>|</span><a href="#36089726">next</a><span>|</span><label class="collapse" for="c-36092030">[-]</label><label class="expand" for="c-36092030">[1 more]</label></div><br/><div class="children"><div class="content">I built this with AWS Lambda. Relevant info if someone else wanted to try my approach to build such a service: <a href="https:&#x2F;&#x2F;mattslifebytes.com&#x2F;2023&#x2F;04&#x2F;14&#x2F;from-rebuilds-to-reloads-hacking-aws-lambda-to-enable-instant-code-updates&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mattslifebytes.com&#x2F;2023&#x2F;04&#x2F;14&#x2F;from-rebuilds-to-reloa...</a></div><br/></div></div></div></div><div id="36089726" class="c"><input type="checkbox" id="c-36089726" checked=""/><div class="controls bullet"><span class="by">vikp</span><span>|</span><a href="#36088613">parent</a><span>|</span><a href="#36091558">prev</a><span>|</span><a href="#36088754">next</a><span>|</span><label class="collapse" for="c-36089726">[-]</label><label class="expand" for="c-36089726">[2 more]</label></div><br/><div class="children"><div class="content">This would be interesting to me.  There are a few options now, like Judge0, but the language versions are pretty out of date.  Self-hosting is not a good time investment at the moment.<p>Email me at hn at vikas.sh if you have a service.  I&#x27;d need an SLA for sure, and multi-file support would be nice to have.</div><br/><div id="36089807" class="c"><input type="checkbox" id="c-36089807" checked=""/><div class="controls bullet"><span class="by">paulgb</span><span>|</span><a href="#36088613">root</a><span>|</span><a href="#36089726">parent</a><span>|</span><a href="#36088754">next</a><span>|</span><label class="collapse" for="c-36089807">[-]</label><label class="expand" for="c-36089807">[1 more]</label></div><br/><div class="children"><div class="content">We serve production code execution use cases (mainly Python) with Jamsocket: <a href="https:&#x2F;&#x2F;jamsocket.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;jamsocket.com&#x2F;</a><p>We&#x27;ve been running it for over a year and would be willing to talk about an SLA. Each instance gets its own gvisor-sandboxed runtime and we do some network isolation on top of that. (We also have some crypto miner mitigation, because if you provide free compute to strangers they <i>will</i> manage to find you.)</div><br/></div></div></div></div><div id="36088754" class="c"><input type="checkbox" id="c-36088754" checked=""/><div class="controls bullet"><span class="by">LoganDark</span><span>|</span><a href="#36088613">parent</a><span>|</span><a href="#36089726">prev</a><span>|</span><a href="#36090935">next</a><span>|</span><label class="collapse" for="c-36088754">[-]</label><label class="expand" for="c-36088754">[2 more]</label></div><br/><div class="children"><div class="content">&gt; In case of REPL, you send STDIN to websocket and get STDOUT as response.<p>I wonder if repl.it ever did this, or if they&#x27;ve always used WebAssembly? (They definitely use wasm now.)</div><br/><div id="36090706" class="c"><input type="checkbox" id="c-36090706" checked=""/><div class="controls bullet"><span class="by">rmorey</span><span>|</span><a href="#36088613">root</a><span>|</span><a href="#36088754">parent</a><span>|</span><a href="#36090935">next</a><span>|</span><label class="collapse" for="c-36090706">[-]</label><label class="expand" for="c-36090706">[1 more]</label></div><br/><div class="children"><div class="content">Nope, every repl is running in a docker container on a GCP vm, with various other security measures. See: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=19215175" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=19215175</a><p>I believe the <i>very first</i> version of replit was all in-browser, but no longer</div><br/></div></div></div></div></div></div><div id="36090935" class="c"><input type="checkbox" id="c-36090935" checked=""/><div class="controls bullet"><span class="by">pcthrowaway</span><span>|</span><a href="#36088613">prev</a><span>|</span><a href="#36090113">next</a><span>|</span><label class="collapse" for="c-36090935">[-]</label><label class="expand" for="c-36090935">[2 more]</label></div><br/><div class="children"><div class="content">Nice use of phoenix liveview (I&#x27;m assuming). The app is really smooth, and executes rust faster than the official rust playground</div><br/><div id="36091097" class="c"><input type="checkbox" id="c-36091097" checked=""/><div class="controls bullet"><span class="by">logicboard</span><span>|</span><a href="#36090935">parent</a><span>|</span><a href="#36090113">next</a><span>|</span><label class="collapse" for="c-36091097">[-]</label><label class="expand" for="c-36091097">[1 more]</label></div><br/><div class="children"><div class="content">Thanks! It doesn&#x27;t use Liveview but the execution backend is Phoenix + Erlang.</div><br/></div></div></div></div><div id="36090113" class="c"><input type="checkbox" id="c-36090113" checked=""/><div class="controls bullet"><span class="by">andrewstuart</span><span>|</span><a href="#36090935">prev</a><span>|</span><label class="collapse" for="c-36090113">[-]</label><label class="expand" for="c-36090113">[3 more]</label></div><br/><div class="children"><div class="content">Is that code mirror?</div><br/><div id="36091070" class="c"><input type="checkbox" id="c-36091070" checked=""/><div class="controls bullet"><span class="by">logicboard</span><span>|</span><a href="#36090113">parent</a><span>|</span><label class="collapse" for="c-36091070">[-]</label><label class="expand" for="c-36091070">[2 more]</label></div><br/><div class="children"><div class="content">Yep, Codemirror + Firepad</div><br/><div id="36092424" class="c"><input type="checkbox" id="c-36092424" checked=""/><div class="controls bullet"><span class="by">no_butterscotch</span><span>|</span><a href="#36090113">root</a><span>|</span><a href="#36091070">parent</a><span>|</span><label class="collapse" for="c-36092424">[-]</label><label class="expand" for="c-36092424">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m creating a product with an editor.<p>I&#x27;m interested to know whether you evaluated alternatives such as Monaco by Microsoft&#x2F;VSCode? From my research it seems to be the one that&#x27;s &quot;ahead&quot; by whatever metrics you&#x27;d go off other than age.<p>I&#x27;m interested to know what challenges you faced if any as well? Thanks!</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>