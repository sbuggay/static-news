<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1730624464106" as="style"/><link rel="stylesheet" href="styles.css?v=1730624464106"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://dmytroengineering.com/content/projects/t2s-plus-thermal-camera-hacking">Hacking the T2S+ Out of Fear: Get Lock-In Thermography for Free</a> <span class="domain">(<a href="https://dmytroengineering.com">dmytroengineering.com</a>)</span></div><div class="subtext"><span>Luc</span> | <span>29 comments</span></div><br/><div><div id="42029442" class="c"><input type="checkbox" id="c-42029442" checked=""/><div class="controls bullet"><span class="by">heroprotagonist</span><span>|</span><a href="#42025839">next</a><span>|</span><label class="collapse" for="c-42029442">[-]</label><label class="expand" for="c-42029442">[1 more]</label></div><br/><div class="children"><div class="content">Looking at those permissions, I think whatever fear he decompiled this out of was justified.<p>I guess that&#x27;s one way to implement industrial espionage.<p>Build telemetry and malware, or code that can become malware with a little tweaking or remote checks, into a component that&#x27;s likely to be used by technologists in whatever sector you&#x27;re interested in.<p>Make it a bit better and a lot cheaper than all the alternatives.  Get on their phone with lots of permissions, and use the telemetry. Once you know who they are you can decide on more targeted actions to turn them into a vector against their employer or whoever, or just watch what you can to collect information.</div><br/></div></div><div id="42025839" class="c"><input type="checkbox" id="c-42025839" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#42029442">prev</a><span>|</span><a href="#42025954">next</a><span>|</span><label class="collapse" for="c-42025839">[-]</label><label class="expand" for="c-42025839">[1 more]</label></div><br/><div class="children"><div class="content">This is fantastic! At a high level all he had to do for basic thermography was to flat-field the raw image with offsets acquired from the camera&#x27;s shutter, without even having to derive per-pixel gains like you normally would, and mask out some bad pixels (and inpaint them for naïve consumers that can&#x27;t handle NA data).  Then as a bonus he implemented lock-in thermography, which turns out to be just lock-in amplification applied to thermography by modulating a heat source over time.<p>But the technical detail provided seems to be enough to make it easy for someone else to reproduce the whole setup.  And provides ample evidence that you <i>should</i>, because the provided drivers are evidently malware.<p>Oh, and apparently you get a free FPGA with your thermographic sensor!</div><br/></div></div><div id="42025954" class="c"><input type="checkbox" id="c-42025954" checked=""/><div class="controls bullet"><span class="by">gsliepen</span><span>|</span><a href="#42025839">prev</a><span>|</span><a href="#42027264">next</a><span>|</span><label class="collapse" for="c-42025954">[-]</label><label class="expand" for="c-42025954">[3 more]</label></div><br/><div class="children"><div class="content">&gt; At this point, I realized that I got the &quot;V2&quot; of the camera. This camera is regarded as worse than the &quot;V1&quot; mostly because the manufacturer removed the internal processing FPGA?<p>That&#x27;s actually better. In-camera processing will just reduce the amount of information you can get out of the sensor. For example, even if it does exactly the same flat-fielding as you do, the in-camera flat-fielded image has to be requantized to 8-bit format before sending to the computer, therefore losing precision.<p>You can get even better accuracy by taking a dark or bias field (might be possible if you can set the exposure time to something very short, but this might not be possible with these thermographic cameras) and taking flatfields at different temperatures, so you can get per-pixel linearity curves. That&#x27;s a lot of work though, and ideally each camera was indiviually calibrated by the producer, but I am guessing that is not done for these cheap cameras.</div><br/><div id="42027880" class="c"><input type="checkbox" id="c-42027880" checked=""/><div class="controls bullet"><span class="by">daniel_reetz</span><span>|</span><a href="#42025954">parent</a><span>|</span><a href="#42028749">next</a><span>|</span><label class="collapse" for="c-42027880">[-]</label><label class="expand" for="c-42027880">[1 more]</label></div><br/><div class="children"><div class="content">The article points out that the FPGA was not actually removed. However it is true in some circumstances having access to data earlier in the pipeline is useful. Microbolometer cameras like these have their own quirks.</div><br/></div></div><div id="42028749" class="c"><input type="checkbox" id="c-42028749" checked=""/><div class="controls bullet"><span class="by">sangnoir</span><span>|</span><a href="#42025954">parent</a><span>|</span><a href="#42027880">prev</a><span>|</span><a href="#42027264">next</a><span>|</span><label class="collapse" for="c-42028749">[-]</label><label class="expand" for="c-42028749">[1 more]</label></div><br/><div class="children"><div class="content">&gt; In-camera processing will just reduce the amount of information you can get out of the sensor<p>More information is not necessarily better. For instance, if the FPGA does calibration and removes sensor noise, removing the preprocessing adds literal noise to the data, which is worse.</div><br/></div></div></div></div><div id="42027264" class="c"><input type="checkbox" id="c-42027264" checked=""/><div class="controls bullet"><span class="by">vermon</span><span>|</span><a href="#42025954">prev</a><span>|</span><a href="#42031404">next</a><span>|</span><label class="collapse" for="c-42027264">[-]</label><label class="expand" for="c-42027264">[4 more]</label></div><br/><div class="children"><div class="content">Very cool! I thought maybe I&#x27;ll take a crack at building a better iOS application for these things, but then I remembered that for the Lightning connector you needed to get the permission of the manufacturer if you wanted to interface with a device (tried that once with a Lightning Yubikey and luckily they didn&#x27;t have any objections).
Is this not an issue anymore with USBC iPhones?</div><br/><div id="42029058" class="c"><input type="checkbox" id="c-42029058" checked=""/><div class="controls bullet"><span class="by">InvaderFizz</span><span>|</span><a href="#42027264">parent</a><span>|</span><a href="#42028510">next</a><span>|</span><label class="collapse" for="c-42029058">[-]</label><label class="expand" for="c-42029058">[2 more]</label></div><br/><div class="children"><div class="content">USB-C iPhones work with all kinds of USB-C hubs, devices, keyboards, mice, Ethernet adapters, etc out of the box.<p>As far as I have seen, USB-C on iOS devices has no authentication restrictions for anything.<p>The device in the article already has an iOS app, so while there may be a needed app entitlement, I don&#x27;t think there are any showstoppers for making an iOS app for this particular thermal camera.</div><br/><div id="42031278" class="c"><input type="checkbox" id="c-42031278" checked=""/><div class="controls bullet"><span class="by">bpye</span><span>|</span><a href="#42027264">root</a><span>|</span><a href="#42029058">parent</a><span>|</span><a href="#42028510">next</a><span>|</span><label class="collapse" for="c-42031278">[-]</label><label class="expand" for="c-42031278">[1 more]</label></div><br/><div class="children"><div class="content">I would love to be wrong, but I can&#x27;t find anything that suggests USB webcams work on USB-C iPhones - I did try in the past for different reasons but couldn&#x27;t find any way of making it work.<p>Some USB-C thermal imagers do claim to work, for example this one by HIKMICRO - <a href="https:&#x2F;&#x2F;www.hikmicrotech.com&#x2F;en_us&#x2F;industrial-products&#x2F;mini2-v2-thermal-camera-phone-attachment&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.hikmicrotech.com&#x2F;en_us&#x2F;industrial-products&#x2F;mini2...</a> - but I&#x27;m not sure how...</div><br/></div></div></div></div><div id="42028510" class="c"><input type="checkbox" id="c-42028510" checked=""/><div class="controls bullet"><span class="by">seany</span><span>|</span><a href="#42027264">parent</a><span>|</span><a href="#42029058">prev</a><span>|</span><a href="#42031404">next</a><span>|</span><label class="collapse" for="c-42028510">[-]</label><label class="expand" for="c-42028510">[1 more]</label></div><br/><div class="children"><div class="content">I built an interposer board to do this about 5 years ago (for a product that didn&#x27;t go anywhere). Ended up using a beagle bone in USB gadget mode to expose an Ethernet adapter to the iPad I was using.</div><br/></div></div></div></div><div id="42031404" class="c"><input type="checkbox" id="c-42031404" checked=""/><div class="controls bullet"><span class="by">grishka</span><span>|</span><a href="#42027264">prev</a><span>|</span><a href="#42026245">next</a><span>|</span><label class="collapse" for="c-42031404">[-]</label><label class="expand" for="c-42031404">[1 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t access this website without a VPN, I&#x27;m getting the dreaded &quot;you&#x27;re blocked&quot; cloudflare page.<p>Cool stuff though once you get past that.</div><br/></div></div><div id="42026245" class="c"><input type="checkbox" id="c-42026245" checked=""/><div class="controls bullet"><span class="by">pavel_lishin</span><span>|</span><a href="#42031404">prev</a><span>|</span><a href="#42026229">next</a><span>|</span><label class="collapse" for="c-42026245">[-]</label><label class="expand" for="c-42026245">[5 more]</label></div><br/><div class="children"><div class="content">Unrelated to the article, but I love the &quot;glow&quot; effect on the code snippets. Any chance this exists as a plugin for VSCode, for when I want to re-live my teenager dreams of what working on computers looks like?</div><br/><div id="42028834" class="c"><input type="checkbox" id="c-42028834" checked=""/><div class="controls bullet"><span class="by">sitkack</span><span>|</span><a href="#42026245">parent</a><span>|</span><a href="#42028846">next</a><span>|</span><label class="collapse" for="c-42028834">[-]</label><label class="expand" for="c-42028834">[3 more]</label></div><br/><div class="children"><div class="content">It is just fuzzy from zooming up screenshots, a by product of the subpixel aliasing.<p>If it doesn&#x27;t, you could probably add a post processing filter to <a href="https:&#x2F;&#x2F;github.com&#x2F;wez&#x2F;wezterm">https:&#x2F;&#x2F;github.com&#x2F;wez&#x2F;wezterm</a> or <a href="https:&#x2F;&#x2F;github.com&#x2F;alacritty&#x2F;alacritty">https:&#x2F;&#x2F;github.com&#x2F;alacritty&#x2F;alacritty</a></div><br/><div id="42028872" class="c"><input type="checkbox" id="c-42028872" checked=""/><div class="controls bullet"><span class="by">_Microft</span><span>|</span><a href="#42026245">root</a><span>|</span><a href="#42028834">parent</a><span>|</span><a href="#42028846">next</a><span>|</span><label class="collapse" for="c-42028872">[-]</label><label class="expand" for="c-42028872">[2 more]</label></div><br/><div class="children"><div class="content">GP is talking about the code sections and the &quot;CRT effect&quot; that was added via CSS. Press &quot;Toggle glow&quot; to make it obvious what effect that is.</div><br/><div id="42031421" class="c"><input type="checkbox" id="c-42031421" checked=""/><div class="controls bullet"><span class="by">equestria</span><span>|</span><a href="#42026245">root</a><span>|</span><a href="#42028872">parent</a><span>|</span><a href="#42028846">next</a><span>|</span><label class="collapse" for="c-42031421">[-]</label><label class="expand" for="c-42031421">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, and it&#x27;s pretty simple. You have essentially three composition layers: original text; a gaussian-blurred zero-offset &quot;shadow&quot; to add glow (CSS text-shadow); and then a pattern of darker horizontal stripes on top, produced with repeating-linear-gradient with an alpha channel.<p>The magic is basically in <a href="https:&#x2F;&#x2F;dmytroengineering.com&#x2F;css&#x2F;terminal-syntax.css" rel="nofollow">https:&#x2F;&#x2F;dmytroengineering.com&#x2F;css&#x2F;terminal-syntax.css</a>, but there&#x27;s a lot of other ways to do it.</div><br/></div></div></div></div></div></div><div id="42028846" class="c"><input type="checkbox" id="c-42028846" checked=""/><div class="controls bullet"><span class="by">a1o</span><span>|</span><a href="#42026245">parent</a><span>|</span><a href="#42028834">prev</a><span>|</span><a href="#42026229">next</a><span>|</span><label class="collapse" for="c-42028846">[-]</label><label class="expand" for="c-42028846">[1 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t like, checked the code, but I have seen this glow in websites that used a JS library called prism (or PrismJS).</div><br/></div></div></div></div><div id="42026229" class="c"><input type="checkbox" id="c-42026229" checked=""/><div class="controls bullet"><span class="by">tiagod</span><span>|</span><a href="#42026245">prev</a><span>|</span><a href="#42028661">next</a><span>|</span><label class="collapse" for="c-42026229">[-]</label><label class="expand" for="c-42026229">[4 more]</label></div><br/><div class="children"><div class="content">Been thinking of getting one of these but was worried about the proprietary app. I guess I have no reason now : )</div><br/><div id="42026300" class="c"><input type="checkbox" id="c-42026300" checked=""/><div class="controls bullet"><span class="by">buran77</span><span>|</span><a href="#42026229">parent</a><span>|</span><a href="#42028661">next</a><span>|</span><label class="collapse" for="c-42026300">[-]</label><label class="expand" for="c-42026300">[3 more]</label></div><br/><div class="children"><div class="content">There are a few open projects to support a lot of these thermal cams like the more popular Topdon or InfiRay models. PyThermalCamera [0] or Thermal-Camera-Redux [1] are good ones, I got my thermal cam working on my Linux laptop just fine.<p>[0] <a href="https:&#x2F;&#x2F;github.com&#x2F;leswright1977&#x2F;PyThermalCamera">https:&#x2F;&#x2F;github.com&#x2F;leswright1977&#x2F;PyThermalCamera</a><p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;92es&#x2F;Thermal-Camera-Redux">https:&#x2F;&#x2F;github.com&#x2F;92es&#x2F;Thermal-Camera-Redux</a></div><br/><div id="42026395" class="c"><input type="checkbox" id="c-42026395" checked=""/><div class="controls bullet"><span class="by">TeMPOraL</span><span>|</span><a href="#42026229">root</a><span>|</span><a href="#42026300">parent</a><span>|</span><a href="#42028661">next</a><span>|</span><label class="collapse" for="c-42026395">[-]</label><label class="expand" for="c-42026395">[2 more]</label></div><br/><div class="children"><div class="content">Do you know of anything that can handle UNI-T cams, particularly something like UTi721M, which is a nice thermal cam that attaches to a smartphone via USB-C?</div><br/><div id="42026785" class="c"><input type="checkbox" id="c-42026785" checked=""/><div class="controls bullet"><span class="by">buran77</span><span>|</span><a href="#42026229">root</a><span>|</span><a href="#42026395">parent</a><span>|</span><a href="#42028661">next</a><span>|</span><label class="collapse" for="c-42026785">[-]</label><label class="expand" for="c-42026785">[1 more]</label></div><br/><div class="children"><div class="content">Eevblog forum is the original source for most of the Github projects around these thermal cams. So that&#x27;s a good place to start.<p><a href="https:&#x2F;&#x2F;www.eevblog.com&#x2F;forum&#x2F;thermal-imaging&#x2F;new-software-for-infiray-hti-uni-t-topdon-series-thermal-cameras&#x2F;25&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.eevblog.com&#x2F;forum&#x2F;thermal-imaging&#x2F;new-software-f...</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;Santi-hr&#x2F;UNI-T-Thermal-Utilities">https:&#x2F;&#x2F;github.com&#x2F;Santi-hr&#x2F;UNI-T-Thermal-Utilities</a></div><br/></div></div></div></div></div></div></div></div><div id="42028661" class="c"><input type="checkbox" id="c-42028661" checked=""/><div class="controls bullet"><span class="by">knowitnone</span><span>|</span><a href="#42026229">prev</a><span>|</span><a href="#42025971">next</a><span>|</span><label class="collapse" for="c-42028661">[-]</label><label class="expand" for="c-42028661">[6 more]</label></div><br/><div class="children"><div class="content">FLIR sucks. from personal experience. They sell crap that doesn&#x27;t even work with your smartphone.</div><br/><div id="42028956" class="c"><input type="checkbox" id="c-42028956" checked=""/><div class="controls bullet"><span class="by">immibis</span><span>|</span><a href="#42028661">parent</a><span>|</span><a href="#42025971">next</a><span>|</span><label class="collapse" for="c-42028956">[-]</label><label class="expand" for="c-42028956">[5 more]</label></div><br/><div class="children"><div class="content">I heard the reason USA-made-and-designed thermal cameras suck is arms export regulations. They are considered military equipment unless they stick to certain limits. I guess China has no such rules, so the USA throws yet another manufacturing sector in the trash once again.</div><br/><div id="42029360" class="c"><input type="checkbox" id="c-42029360" checked=""/><div class="controls bullet"><span class="by">wbl</span><span>|</span><a href="#42028661">root</a><span>|</span><a href="#42028956">parent</a><span>|</span><a href="#42029588">next</a><span>|</span><label class="collapse" for="c-42029360">[-]</label><label class="expand" for="c-42029360">[3 more]</label></div><br/><div class="children"><div class="content">FLIR is owned by Raytheon. They are very much not in the trash and make very good imagers. You just can&#x27;t buy them.</div><br/><div id="42029875" class="c"><input type="checkbox" id="c-42029875" checked=""/><div class="controls bullet"><span class="by">0l</span><span>|</span><a href="#42028661">root</a><span>|</span><a href="#42029360">parent</a><span>|</span><a href="#42029588">next</a><span>|</span><label class="collapse" for="c-42029875">[-]</label><label class="expand" for="c-42029875">[2 more]</label></div><br/><div class="children"><div class="content">Teledyne, not Raytheon</div><br/><div id="42030558" class="c"><input type="checkbox" id="c-42030558" checked=""/><div class="controls bullet"><span class="by">wbl</span><span>|</span><a href="#42028661">root</a><span>|</span><a href="#42029875">parent</a><span>|</span><a href="#42029588">next</a><span>|</span><label class="collapse" for="c-42030558">[-]</label><label class="expand" for="c-42030558">[1 more]</label></div><br/><div class="children"><div class="content">I looked up the history and you are completely correct. In my defense Raymarine was part of Raytheon long ago, and then a bunch of spinoffs and acquisitions happened.</div><br/></div></div></div></div></div></div><div id="42029588" class="c"><input type="checkbox" id="c-42029588" checked=""/><div class="controls bullet"><span class="by">stefan_</span><span>|</span><a href="#42028661">root</a><span>|</span><a href="#42028956">parent</a><span>|</span><a href="#42029360">prev</a><span>|</span><a href="#42025971">next</a><span>|</span><label class="collapse" for="c-42029588">[-]</label><label class="expand" for="c-42029588">[1 more]</label></div><br/><div class="children"><div class="content">It’s really just the framerate restriction to 9hz that the Chinese imagers don’t suffer ftom</div><br/></div></div></div></div></div></div><div id="42025971" class="c"><input type="checkbox" id="c-42025971" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#42028661">prev</a><span>|</span><a href="#42030565">next</a><span>|</span><label class="collapse" for="c-42025971">[-]</label><label class="expand" for="c-42025971">[1 more]</label></div><br/><div class="children"><div class="content">&gt; In order to practically implement this we first close the shutter.<p>Fun fact, Sony does the same once in a while for dead-pixel detection and remapping on their mirrorless cameras [1].<p>[1] <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38579634">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=38579634</a></div><br/></div></div><div id="42030565" class="c"><input type="checkbox" id="c-42030565" checked=""/><div class="controls bullet"><span class="by">stavros</span><span>|</span><a href="#42025971">prev</a><span>|</span><a href="#41992557">next</a><span>|</span><label class="collapse" for="c-42030565">[-]</label><label class="expand" for="c-42030565">[1 more]</label></div><br/><div class="children"><div class="content">This costs $300, so, while cheaper than FLIR, still not cheap.</div><br/></div></div></div></div></div></div></div></body></html>