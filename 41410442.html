<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1725181262576" as="style"/><link rel="stylesheet" href="styles.css?v=1725181262576"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://fietkau.software/qr">Client-side QR code generator with SVG output</a> <span class="domain">(<a href="https://fietkau.software">fietkau.software</a>)</span></div><div class="subtext"><span>kentbrew</span> | <span>21 comments</span></div><br/><div><div id="41411919" class="c"><input type="checkbox" id="c-41411919" checked=""/><div class="controls bullet"><span class="by">toddmorey</span><span>|</span><a href="#41415058">next</a><span>|</span><label class="collapse" for="c-41411919">[-]</label><label class="expand" for="c-41411919">[1 more]</label></div><br/><div class="children"><div class="content">One of my favorite components from the open source web components library Shoelace is the QR code generator:
<a href="https:&#x2F;&#x2F;shoelace.style&#x2F;components&#x2F;qr-code" rel="nofollow">https:&#x2F;&#x2F;shoelace.style&#x2F;components&#x2F;qr-code</a></div><br/></div></div><div id="41415058" class="c"><input type="checkbox" id="c-41415058" checked=""/><div class="controls bullet"><span class="by">Techbrunch</span><span>|</span><a href="#41411919">prev</a><span>|</span><a href="#41412820">next</a><span>|</span><label class="collapse" for="c-41415058">[-]</label><label class="expand" for="c-41415058">[1 more]</label></div><br/><div class="children"><div class="content">I found that Anthony Fu&#x27;s QR Toolkit is a great alternative: <a href="https:&#x2F;&#x2F;qrcode.antfu.me&#x2F;" rel="nofollow">https:&#x2F;&#x2F;qrcode.antfu.me&#x2F;</a></div><br/></div></div><div id="41412820" class="c"><input type="checkbox" id="c-41412820" checked=""/><div class="controls bullet"><span class="by">boomskats</span><span>|</span><a href="#41415058">prev</a><span>|</span><a href="#41412841">next</a><span>|</span><label class="collapse" for="c-41412820">[-]</label><label class="expand" for="c-41412820">[3 more]</label></div><br/><div class="children"><div class="content">This looks great! Wish I had it a few months ago instead of having to use qr-code-styling[0] which was a bit of a pain.<p>I remember it was around the same time that Obsidian got native callouts, so my notes for that project are all colourful &amp; contain valuable admonitions like this:<p>```<p>&gt; [!todo]<p>&gt; That feeling when you&#x27;re wasting hours of your life trying to make something you know is abandonware work just because it looks nice. There should be a word for that feeling. In Danish or Japanese. Or German.<p>```<p>[0]: <a href="https:&#x2F;&#x2F;github.com&#x2F;kozakdenys&#x2F;qr-code-styling">https:&#x2F;&#x2F;github.com&#x2F;kozakdenys&#x2F;qr-code-styling</a></div><br/><div id="41415045" class="c"><input type="checkbox" id="c-41415045" checked=""/><div class="controls bullet"><span class="by">sandermvanvliet</span><span>|</span><a href="#41412820">parent</a><span>|</span><a href="#41413977">next</a><span>|</span><label class="collapse" for="c-41415045">[-]</label><label class="expand" for="c-41415045">[1 more]</label></div><br/><div class="children"><div class="content">&gt; That feeling when you&#x27;re wasting hours of your life trying to make something you know is abandonware work just because it looks nice. There should be a word for that feeling. In Danish or Japanese. Or German.<p>How about: fröbelen<p><a href="https:&#x2F;&#x2F;nl.m.wiktionary.org&#x2F;wiki&#x2F;fr%C3%B6belen" rel="nofollow">https:&#x2F;&#x2F;nl.m.wiktionary.org&#x2F;wiki&#x2F;fr%C3%B6belen</a><p>Roughly means: To be creatively busy for fun</div><br/></div></div><div id="41413977" class="c"><input type="checkbox" id="c-41413977" checked=""/><div class="controls bullet"><span class="by">taskforcegemini</span><span>|</span><a href="#41412820">parent</a><span>|</span><a href="#41415045">prev</a><span>|</span><a href="#41412841">next</a><span>|</span><label class="collapse" for="c-41413977">[-]</label><label class="expand" for="c-41413977">[1 more]</label></div><br/><div class="children"><div class="content">&gt; That feeling when you&#x27;re wasting hours of your life trying to make something you know is abandonware work just because it looks nice. There should be a word for that feeling. In Danish or Japanese. Or German.<p>or a phrase, like &quot;beating off a dead horse&quot;</div><br/></div></div></div></div><div id="41412841" class="c"><input type="checkbox" id="c-41412841" checked=""/><div class="controls bullet"><span class="by">KTibow</span><span>|</span><a href="#41412820">prev</a><span>|</span><a href="#41414630">next</a><span>|</span><label class="collapse" for="c-41412841">[-]</label><label class="expand" for="c-41412841">[2 more]</label></div><br/><div class="children"><div class="content">If you stumbled upon this looking for the smallest QR code JS library, it&#x27;s probably LeanQR [0]. It&#x27;s under 10kb minified and 5kb compressed.<p>[0] <a href="https:&#x2F;&#x2F;qr.davidje13.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;qr.davidje13.com&#x2F;</a></div><br/><div id="41414087" class="c"><input type="checkbox" id="c-41414087" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#41412841">parent</a><span>|</span><a href="#41414630">next</a><span>|</span><label class="collapse" for="c-41414087">[-]</label><label class="expand" for="c-41414087">[1 more]</label></div><br/><div class="children"><div class="content">While I didn&#x27;t never specifically optimize it for the size (unlike some libraries I do), my very old qr.js library [1] seems to be smaller than that, less than 9 KB minified and 4 KB gzipped in my brief testing.<p>I should note that qr.js never supported the correct Kanji encoding and optimal encoding based on dynamic programming, but otherwise it is functionally complete and I think it can&#x27;t get much larger than that. There are lots of rooms to cut from there and I will say 5 KB is a fair estimate for the minified size after modest but correctly guided size optimization.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;lifthrasiir&#x2F;qr.js">https:&#x2F;&#x2F;github.com&#x2F;lifthrasiir&#x2F;qr.js</a> (predates the modern JS, but surely more popular than LeanQR I believe)</div><br/></div></div></div></div><div id="41414630" class="c"><input type="checkbox" id="c-41414630" checked=""/><div class="controls bullet"><span class="by">butz</span><span>|</span><a href="#41412841">prev</a><span>|</span><a href="#41413268">next</a><span>|</span><label class="collapse" for="c-41414630">[-]</label><label class="expand" for="c-41414630">[4 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t this one of those rare occasions where bitmap file format is more optimal for storing output?</div><br/><div id="41415070" class="c"><input type="checkbox" id="c-41415070" checked=""/><div class="controls bullet"><span class="by">franga2000</span><span>|</span><a href="#41414630">parent</a><span>|</span><a href="#41414769">next</a><span>|</span><label class="collapse" for="c-41415070">[-]</label><label class="expand" for="c-41415070">[1 more]</label></div><br/><div class="children"><div class="content">At 1 module = 1 pixel resolution, it definitely is, although a gzipped SVG gets you closer than you&#x27;d expect. The main problem with images is scaling: unless you can force the image to scale &quot;without&quot; interpolation, you&#x27;ll get a blurry unscannable mess. If you increase the resolution enough to be crisp on a modern high-res display, at some point, SVG becomes more efficient. I did some experiments on this a few years back, but can&#x27;t find the results right now.<p>A even if you can force nearest-neighbour interpolation (in CSS this is only possible since 2015 in Chromium and even later in Firefox), the result still won&#x27;t be perfect at non-integer scales (see [0]). Other use-cases (like PDF files IIRC) don&#x27;t give you the option to force scaling modes at all, so drawing them with vector paths is the only option to make them crisp.<p>[0] <a href="https:&#x2F;&#x2F;codepen.io&#x2F;robinrendle&#x2F;full&#x2F;EaOJeq&#x2F;" rel="nofollow">https:&#x2F;&#x2F;codepen.io&#x2F;robinrendle&#x2F;full&#x2F;EaOJeq&#x2F;</a></div><br/></div></div><div id="41414769" class="c"><input type="checkbox" id="c-41414769" checked=""/><div class="controls bullet"><span class="by">asplake</span><span>|</span><a href="#41414630">parent</a><span>|</span><a href="#41415070">prev</a><span>|</span><a href="#41413268">next</a><span>|</span><label class="collapse" for="c-41414769">[-]</label><label class="expand" for="c-41414769">[2 more]</label></div><br/><div class="children"><div class="content">With SVG you can render directly on the page, no extra file involved.</div><br/><div id="41414939" class="c"><input type="checkbox" id="c-41414939" checked=""/><div class="controls bullet"><span class="by">rossant</span><span>|</span><a href="#41414630">root</a><span>|</span><a href="#41414769">parent</a><span>|</span><a href="#41413268">next</a><span>|</span><label class="collapse" for="c-41414939">[-]</label><label class="expand" for="c-41414939">[1 more]</label></div><br/><div class="children"><div class="content">You can also do that with png
<a href="https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;8499716&#x2F;1595060" rel="nofollow">https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;8499716&#x2F;1595060</a></div><br/></div></div></div></div></div></div><div id="41413268" class="c"><input type="checkbox" id="c-41413268" checked=""/><div class="controls bullet"><span class="by">declan_roberts</span><span>|</span><a href="#41414630">prev</a><span>|</span><a href="#41412294">next</a><span>|</span><label class="collapse" for="c-41413268">[-]</label><label class="expand" for="c-41413268">[3 more]</label></div><br/><div class="children"><div class="content">USE THIS SOFTWARE AND LEARN FROM MY MISTAKE:<p>We made a cute Christmas video to include in our card this year. My wife created a QR code from a random website and included it in the card as a picture. It linked to our video. We sent all of the cards out. People loved it.<p>... except we got an email from the QR code company about a week before Christmas. We went over our &quot;free&quot; click (the QR code went through their URL shortener). If we wanted to keep the QR code active we had to pay $20&#x2F;mo.<p>We got absolutely fleeced. Never again. Control the URL and make the QR image yourself.</div><br/><div id="41415026" class="c"><input type="checkbox" id="c-41415026" checked=""/><div class="controls bullet"><span class="by">franga2000</span><span>|</span><a href="#41413268">parent</a><span>|</span><a href="#41414313">next</a><span>|</span><label class="collapse" for="c-41415026">[-]</label><label class="expand" for="c-41415026">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve spotted this on several large events on setup day, explained how fucked they&#x27;ll be in a few days and showed them a safe QR code generator. Usually it was just signage and they could reprint the QR code and glue it over the bad one, but one of them had printed hundreds of leaflets with the event schedule and I think they just ended up paying because even a year of &quot;QR ransom&quot; was cheaper than overnight printing and shipping.<p>My other favourite QR-code related fuckup is designers trimming the quet zone to just 1 module &quot;because the white border looks ugly&quot; and not checking if the codes are scannable. That and light-on-dark codes, which according to the standard don&#x27;t exist, but most scanner apps can handle them these days thanks to endless complaining by designers.</div><br/></div></div><div id="41414313" class="c"><input type="checkbox" id="c-41414313" checked=""/><div class="controls bullet"><span class="by">0cf8612b2e1e</span><span>|</span><a href="#41413268">parent</a><span>|</span><a href="#41415026">prev</a><span>|</span><a href="#41412294">next</a><span>|</span><label class="collapse" for="c-41414313">[-]</label><label class="expand" for="c-41414313">[1 more]</label></div><br/><div class="children"><div class="content">Clever grift. I am surprised I have not heard more stories about “free” web tools utilizing some kind of similar monetization trick.</div><br/></div></div></div></div><div id="41412294" class="c"><input type="checkbox" id="c-41412294" checked=""/><div class="controls bullet"><span class="by">nayuki</span><span>|</span><a href="#41413268">prev</a><span>|</span><a href="#41413910">next</a><span>|</span><label class="collapse" for="c-41412294">[-]</label><label class="expand" for="c-41412294">[1 more]</label></div><br/><div class="children"><div class="content">Thank you for building this wonderful UI on top of my library!</div><br/></div></div><div id="41413910" class="c"><input type="checkbox" id="c-41413910" checked=""/><div class="controls bullet"><span class="by">the_arun</span><span>|</span><a href="#41412294">prev</a><span>|</span><a href="#41414068">next</a><span>|</span><label class="collapse" for="c-41413910">[-]</label><label class="expand" for="c-41413910">[2 more]</label></div><br/><div class="children"><div class="content">For some reason in my phone camera - &quot;Open in browser&quot; is not showing up if background is dark.</div><br/><div id="41414899" class="c"><input type="checkbox" id="c-41414899" checked=""/><div class="controls bullet"><span class="by">fy20</span><span>|</span><a href="#41413910">parent</a><span>|</span><a href="#41414068">next</a><span>|</span><label class="collapse" for="c-41414899">[-]</label><label class="expand" for="c-41414899">[1 more]</label></div><br/><div class="children"><div class="content">What phone and software? Old libraries looked for the contrast of black-on-white (not white-on-black), but I thought that was a solved problem now.</div><br/></div></div></div></div><div id="41414068" class="c"><input type="checkbox" id="c-41414068" checked=""/><div class="controls bullet"><span class="by">eaq</span><span>|</span><a href="#41413910">prev</a><span>|</span><a href="#41410443">next</a><span>|</span><label class="collapse" for="c-41414068">[-]</label><label class="expand" for="c-41414068">[1 more]</label></div><br/><div class="children"><div class="content">For local use, this Python library can generate SVGs with QR codes: <a href="https:&#x2F;&#x2F;github.com&#x2F;lincolnloop&#x2F;python-qrcode">https:&#x2F;&#x2F;github.com&#x2F;lincolnloop&#x2F;python-qrcode</a></div><br/></div></div><div id="41410443" class="c"><input type="checkbox" id="c-41410443" checked=""/><div class="controls bullet"><span class="by">kentbrew</span><span>|</span><a href="#41414068">prev</a><span>|</span><a href="#41414391">next</a><span>|</span><label class="collapse" for="c-41410443">[-]</label><label class="expand" for="c-41410443">[1 more]</label></div><br/><div class="children"><div class="content">&quot;The demo on this page combines Project Nayuki’s QR Code generator library (a multi-language open source project that can, among other things, perform the conversion of text into raw QR code data) with my own QRSVG project, which can turn a QR-like two-dimensional boolean data map into an efficient vector description of its own visualization by tracing the contours of contiguous shapes.&quot;</div><br/></div></div><div id="41414391" class="c"><input type="checkbox" id="c-41414391" checked=""/><div class="controls bullet"><span class="by">davchana</span><span>|</span><a href="#41410443">prev</a><span>|</span><label class="collapse" for="c-41414391">[-]</label><label class="expand" for="c-41414391">[1 more]</label></div><br/><div class="children"><div class="content">Pretty great example, but I was bummed to see that Error Level is missing. I like to create easy codes with low error correction.</div><br/></div></div></div></div></div></div></div></body></html>