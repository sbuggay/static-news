<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1694509266329" as="style"/><link rel="stylesheet" href="styles.css?v=1694509266329"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/JimHeaney/i2c-usb-hub">I2c-USB-hub: An i2C Controllable USB 2.0 Hub</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>zdw</span> | <span>20 comments</span></div><br/><div><div id="37477633" class="c"><input type="checkbox" id="c-37477633" checked=""/><div class="controls bullet"><span class="by">rx_tx</span><span>|</span><a href="#37478310">next</a><span>|</span><label class="collapse" for="c-37477633">[-]</label><label class="expand" for="c-37477633">[2 more]</label></div><br/><div class="children"><div class="content">Unfortunately, this is not an ideal design.<p>- Most USB hub chips can be strapped&#x2F;hard wired configured, or controllable by i2c already directly. Funnily enough this chip isn&#x27;t, but is extremely cheap (less than 24 cents!).<p>- The &quot;port enable&quot; feature on this design only controls VBUS (power pin of each connector), not the hub itself, so on a self-powered device it may not actually disconnect the device if it doesn&#x27;t need VBUS to operate.<p>[1]: <a href="https:&#x2F;&#x2F;www.lcsc.com&#x2F;product-detail&#x2F;USB-ICs_CoreChips-SL2-1A_C192893.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.lcsc.com&#x2F;product-detail&#x2F;USB-ICs_CoreChips-SL2-1A...</a></div><br/><div id="37478258" class="c"><input type="checkbox" id="c-37478258" checked=""/><div class="controls bullet"><span class="by">boffinAudio</span><span>|</span><a href="#37477633">parent</a><span>|</span><a href="#37478310">next</a><span>|</span><label class="collapse" for="c-37478258">[-]</label><label class="expand" for="c-37478258">[1 more]</label></div><br/><div class="children"><div class="content">Very good points - have you made an Issue on their repo to report these points?  As they are currently doing a new revision, it would be good to see these sticking points submitted and get addressed by the devs, if they&#x27;re not aware of them already.<p>I do a lot of firmware development and am constantly having to unplug&#x2F;replug devices during the process .. for this reason I have an I-Tec 16-port Charging Hub, which has individual switches for each port - and this works fine, as long as I get the druthers to launch out of my chair and turn things off and on again... however being able to do all of this remotely, with software, would mean I could a) automate the hell out of a lot of things that requires monkey-tapping, and b) put the whole mess in a closet where it belongs, away from my coffee cup.<p>So I&#x27;m quite eager to see this project proceed - especially if there is a way the port capacities can be expanded (16-port would be ideal) .. so please consider officially reporting any issues in the design that you see!</div><br/></div></div></div></div><div id="37478310" class="c"><input type="checkbox" id="c-37478310" checked=""/><div class="controls bullet"><span class="by">TheLoafOfBread</span><span>|</span><a href="#37477633">prev</a><span>|</span><a href="#37478157">next</a><span>|</span><label class="collapse" for="c-37478310">[-]</label><label class="expand" for="c-37478310">[1 more]</label></div><br/><div class="children"><div class="content">I think adding USB to I2C chip and connecting it to USB hub would make device self-contained and great candidate for automated testing of USB hardware - i.e. 3 different hardware revisions which needs to be tested after release of new firmware by test software to verify that all 3 are working the same.</div><br/></div></div><div id="37478157" class="c"><input type="checkbox" id="c-37478157" checked=""/><div class="controls bullet"><span class="by">brunorsini</span><span>|</span><a href="#37478310">prev</a><span>|</span><a href="#37477593">next</a><span>|</span><label class="collapse" for="c-37478157">[-]</label><label class="expand" for="c-37478157">[3 more]</label></div><br/><div class="children"><div class="content">Last year I bought a second computer for my music studio. I wanted to use the same set of 2 monitors and wired keyboard + trackpad on both machines.<p>I wrote simple scripts to switch my monitor inputs with keyboard shortcuts (even simpler with Lunar, amazing new Mac app — <a href="https:&#x2F;&#x2F;lunar.fyi" rel="nofollow noreferrer">https:&#x2F;&#x2F;lunar.fyi</a>), which saved me from having to press annoying input-source buttons.<p>But I couldn&#x27;t for the life of me find a simple, suitable software controllable KVM switch. That still requires the hardware button to be controlled, so frustrating.</div><br/><div id="37478287" class="c"><input type="checkbox" id="c-37478287" checked=""/><div class="controls bullet"><span class="by">boffinAudio</span><span>|</span><a href="#37478157">parent</a><span>|</span><a href="#37477593">next</a><span>|</span><label class="collapse" for="c-37478287">[-]</label><label class="expand" for="c-37478287">[2 more]</label></div><br/><div class="children"><div class="content">I am constantly on the lookout for a monitor that has a USB port&#x2F;KVM switch built in - it seems like such a no-brainer, but alas there are very few options like this available out there .. I do recall someone making an open-source KVM switcher design some time ago, will have to try and dig it out of the archives ..</div><br/><div id="37478338" class="c"><input type="checkbox" id="c-37478338" checked=""/><div class="controls bullet"><span class="by">Hendrikto</span><span>|</span><a href="#37478157">root</a><span>|</span><a href="#37478287">parent</a><span>|</span><a href="#37477593">next</a><span>|</span><label class="collapse" for="c-37478338">[-]</label><label class="expand" for="c-37478338">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I am constantly on the lookout for a monitor that has a USB port&#x2F;KVM switch built in<p>Dough (formerly Eve) Spectrum monitors have this feature. They are also great all-round monitors.</div><br/></div></div></div></div></div></div><div id="37477593" class="c"><input type="checkbox" id="c-37477593" checked=""/><div class="controls bullet"><span class="by">seba_dos1</span><span>|</span><a href="#37478157">prev</a><span>|</span><a href="#37477574">next</a><span>|</span><label class="collapse" for="c-37477593">[-]</label><label class="expand" for="c-37477593">[8 more]</label></div><br/><div class="children"><div class="content">USB hubs are controllable via USB, so I guess this is for cases where your hub is connected to a device you don&#x27;t control.</div><br/><div id="37478352" class="c"><input type="checkbox" id="c-37478352" checked=""/><div class="controls bullet"><span class="by">crote</span><span>|</span><a href="#37477593">parent</a><span>|</span><a href="#37477667">next</a><span>|</span><label class="collapse" for="c-37478352">[-]</label><label class="expand" for="c-37478352">[1 more]</label></div><br/><div class="children"><div class="content">It is <i>extremely</i> rare for USB hubs to support remote power switching of individual USB ports. As someone who develops USB devices, this kind of i2c-controllable hub would save me a lot of cable unplugging.</div><br/></div></div><div id="37477667" class="c"><input type="checkbox" id="c-37477667" checked=""/><div class="controls bullet"><span class="by">rickdeckard</span><span>|</span><a href="#37477593">parent</a><span>|</span><a href="#37478352">prev</a><span>|</span><a href="#37478276">next</a><span>|</span><label class="collapse" for="c-37477667">[-]</label><label class="expand" for="c-37477667">[2 more]</label></div><br/><div class="children"><div class="content">No need to guess. First sentence on the page: &quot;Have you ever wanted to control USB devices using an Arduino, ESP32, or Raspberry Pi? with the i2C USB Hub, you can!&quot;</div><br/><div id="37477702" class="c"><input type="checkbox" id="c-37477702" checked=""/><div class="controls bullet"><span class="by">seba_dos1</span><span>|</span><a href="#37477593">root</a><span>|</span><a href="#37477667">parent</a><span>|</span><a href="#37478276">next</a><span>|</span><label class="collapse" for="c-37477702">[-]</label><label class="expand" for="c-37477702">[1 more]</label></div><br/><div class="children"><div class="content">But you can control USB devices using an Arduino, ESP32 or Raspberry Pi via USB just fine :P</div><br/></div></div></div></div><div id="37478276" class="c"><input type="checkbox" id="c-37478276" checked=""/><div class="controls bullet"><span class="by">boffinAudio</span><span>|</span><a href="#37477593">parent</a><span>|</span><a href="#37477667">prev</a><span>|</span><a href="#37477708">next</a><span>|</span><label class="collapse" for="c-37478276">[-]</label><label class="expand" for="c-37478276">[2 more]</label></div><br/><div class="children"><div class="content">This is very, very handy for development purposes - those of us building firmware and drivers for USB devices are very familiar with the need to reset (unplug&#x2F;replug) devices during development, and being able to do this with I2C and automatable software procedures is a <i>GODSEND</i> .. I&#x27;ve already started the process of getting a couple PCB&#x27;s made from this project, and have subscribed for futher updates as the devs get their revision made... this project is <i>very</i> valuable for us in the embedded industry, and I for one would like to see software-controllable USB ports become a very standard thing, personally.<p>So many issues with USB during development can be resolved if you can just get the device reset during the dev process.  Being able to hard-reset a device during compile&#x2F;debug phases is going to save me huge amounts of time and effort ...</div><br/><div id="37478394" class="c"><input type="checkbox" id="c-37478394" checked=""/><div class="controls bullet"><span class="by">Goz3rr</span><span>|</span><a href="#37477593">root</a><span>|</span><a href="#37478276">parent</a><span>|</span><a href="#37477708">next</a><span>|</span><label class="collapse" for="c-37478394">[-]</label><label class="expand" for="c-37478394">[1 more]</label></div><br/><div class="children"><div class="content">Software controllable USB ports already are a thing, Per-port power switching can be found in the USB 2.0 spec and there&#x27;s a bunch of hubs out there that implement it, controllable via USB instead of I2C. Since USB 3.2 any device that has downstream type C ports is required to implement PPPS.<p>A DIY hub that uses a chip with PPPS support can be found here for example: <a href="https:&#x2F;&#x2F;oshwlab.com&#x2F;iamseer&#x2F;ch335-hub" rel="nofollow noreferrer">https:&#x2F;&#x2F;oshwlab.com&#x2F;iamseer&#x2F;ch335-hub</a></div><br/></div></div></div></div><div id="37477708" class="c"><input type="checkbox" id="c-37477708" checked=""/><div class="controls bullet"><span class="by">gsich</span><span>|</span><a href="#37477593">parent</a><span>|</span><a href="#37478276">prev</a><span>|</span><a href="#37477574">next</a><span>|</span><label class="collapse" for="c-37477708">[-]</label><label class="expand" for="c-37477708">[2 more]</label></div><br/><div class="children"><div class="content">Not all.</div><br/><div id="37477716" class="c"><input type="checkbox" id="c-37477716" checked=""/><div class="controls bullet"><span class="by">seba_dos1</span><span>|</span><a href="#37477593">root</a><span>|</span><a href="#37477708">parent</a><span>|</span><a href="#37477574">next</a><span>|</span><label class="collapse" for="c-37477716">[-]</label><label class="expand" for="c-37477716">[1 more]</label></div><br/><div class="children"><div class="content">All.<p>The available features vary though.</div><br/></div></div></div></div></div></div><div id="37477574" class="c"><input type="checkbox" id="c-37477574" checked=""/><div class="controls bullet"><span class="by">fodkodrasz</span><span>|</span><a href="#37477593">prev</a><span>|</span><label class="collapse" for="c-37477574">[-]</label><label class="expand" for="c-37477574">[5 more]</label></div><br/><div class="children"><div class="content">I think an USB controllable USB hub might be more handy.</div><br/><div id="37477584" class="c"><input type="checkbox" id="c-37477584" checked=""/><div class="controls bullet"><span class="by">riedel</span><span>|</span><a href="#37477574">parent</a><span>|</span><a href="#37477821">next</a><span>|</span><label class="collapse" for="c-37477584">[-]</label><label class="expand" for="c-37477584">[2 more]</label></div><br/><div class="children"><div class="content">There are already off the shelf hubs that support power control: <a href="https:&#x2F;&#x2F;github.com&#x2F;mvp&#x2F;uhubctl">https:&#x2F;&#x2F;github.com&#x2F;mvp&#x2F;uhubctl</a></div><br/><div id="37477854" class="c"><input type="checkbox" id="c-37477854" checked=""/><div class="controls bullet"><span class="by">dividedbyzero</span><span>|</span><a href="#37477574">root</a><span>|</span><a href="#37477584">parent</a><span>|</span><a href="#37477821">next</a><span>|</span><label class="collapse" for="c-37477854">[-]</label><label class="expand" for="c-37477854">[1 more]</label></div><br/><div class="children"><div class="content">I tried to get one (USB3, 4ports, not too pricey) earlier this year, but all the qualifying ones on the list there were either discontinued or had been updated and weren&#x27;t individually switchable anymore. It&#x27;s a pity because this would be so handy.</div><br/></div></div></div></div><div id="37477821" class="c"><input type="checkbox" id="c-37477821" checked=""/><div class="controls bullet"><span class="by">puzzlingcaptcha</span><span>|</span><a href="#37477574">parent</a><span>|</span><a href="#37477584">prev</a><span>|</span><a href="#37477589">next</a><span>|</span><label class="collapse" for="c-37477821">[-]</label><label class="expand" for="c-37477821">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;d only need to use something like a MCP2221a breakout [1] with the linked project.<p>Although it would be more convenient to integrate it directly on board.<p><a href="https:&#x2F;&#x2F;www.adafruit.com&#x2F;product&#x2F;4471" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.adafruit.com&#x2F;product&#x2F;4471</a></div><br/></div></div></div></div></div></div></div></div></div></body></html>