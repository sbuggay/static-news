<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1721725254542" as="style"/><link rel="stylesheet" href="styles.css?v=1721725254542"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/linuxmint/timeshift">Timeshift: System Restore Tool for Linux</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>gballan</span> | <span>97 comments</span></div><br/><div><div id="41041056" class="c"><input type="checkbox" id="c-41041056" checked=""/><div class="controls bullet"><span class="by">pixelmonkey</span><span>|</span><a href="#41040971">next</a><span>|</span><label class="collapse" for="c-41041056">[-]</label><label class="expand" for="c-41041056">[24 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve probably spent way too much time thinking about Linux backup over the years. But thankfully, I found a setup that works really well for me in 2018 or so, used it for the last few years, and I wrote up a detailed blog post about it just a month ago:<p><a href="https:&#x2F;&#x2F;amontalenti.com&#x2F;2024&#x2F;06&#x2F;19&#x2F;backups-restic-rclone" rel="nofollow">https:&#x2F;&#x2F;amontalenti.com&#x2F;2024&#x2F;06&#x2F;19&#x2F;backups-restic-rclone</a><p>The tools I use on Linux for backup are restic + rclone, storing my restic repo on a speedy USB3 SSD. For offsite, I use rclone to incrementally upload the entire restic repository to Backblaze B2.<p>The net effect: I have something akin to Time Machine (macOS) or Arq (macOS + Windows), but on my Linux laptop, without needing to use ZFS or btrfs everywhere.<p>Using restic + some shell scripting, I get full support for de-duplicated, encrypted, snapshot-based backups across all my &quot;simpler&quot; source filesystems. Namely: across ext4, exFAT, and (occasionally) FAT32, which is where my data is usually stored. And pushing the whole restic repo offsite to cloud storage via rclone + Backblaze completes the &quot;3-2-1&quot; setup straightforwardly.</div><br/><div id="41041592" class="c"><input type="checkbox" id="c-41041592" checked=""/><div class="controls bullet"><span class="by">ratorx</span><span>|</span><a href="#41041056">parent</a><span>|</span><a href="#41043524">next</a><span>|</span><label class="collapse" for="c-41041592">[-]</label><label class="expand" for="c-41041592">[14 more]</label></div><br/><div class="children"><div class="content">One problem with file based backups is that they are not atomic across the filesystem. If you ever back up a database (or really any application that expects atomicity while it’s running), then you might corrupt the database and lose data. This might not seem like a big problem, but can affect e.g. SQLite, which is quite popular as a file format.<p>Then again, the likelihood that the backup will be inconsistent is fairly low for a desktop, so it’s probably fine.<p>I think the optimal solution is:<p>1) file system level atomic snapshot (ZFS, BTRFS etc)<p>2) Backup the snapshot at a file level (restic, borg etc)<p>This way you get atomicity as well as a file-based backup which is redundant against filesystem-level corruption.</div><br/><div id="41042502" class="c"><input type="checkbox" id="c-41042502" checked=""/><div class="controls bullet"><span class="by">_flux</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41041592">parent</a><span>|</span><a href="#41041630">next</a><span>|</span><label class="collapse" for="c-41042502">[-]</label><label class="expand" for="c-41042502">[1 more]</label></div><br/><div class="children"><div class="content">You can also use lvm2 and then you get atomic snapshots with any file system (I think it needs to support fsfreeze, I guess all of them do).</div><br/></div></div><div id="41041630" class="c"><input type="checkbox" id="c-41041630" checked=""/><div class="controls bullet"><span class="by">pixelmonkey</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41041592">parent</a><span>|</span><a href="#41042502">prev</a><span>|</span><a href="#41042915">next</a><span>|</span><label class="collapse" for="c-41041630">[-]</label><label class="expand" for="c-41041630">[2 more]</label></div><br/><div class="children"><div class="content">I agree with you, of course. On macOS, Arq uses APFS snapshots, and on Windows, it uses VSS. It&#x27;d be nice to use something similar on Linux with restic.<p>In my linked post above, I wrote about this:<p>&quot;You might think btrfs and zfs snapshots would let you create a snapshot of your filesystem and then backup that rather than your current live filesystem state. That’s a good idea, but it’s still an open issue on restic for something like this to be built-in (link). There’s a proposal about how you could script it with ZFS in this nice article (link) on the snapshotting problem for backups.&quot;<p>The post contains the links with further information.<p>My imperfect personal workaround is to run the restic backup script from a virtual console (TTY) occasionally with my display server &#x2F; login manager service stopped.</div><br/><div id="41042708" class="c"><input type="checkbox" id="c-41042708" checked=""/><div class="controls bullet"><span class="by">vladvasiliu</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41041630">parent</a><span>|</span><a href="#41042915">next</a><span>|</span><label class="collapse" for="c-41042708">[-]</label><label class="expand" for="c-41042708">[1 more]</label></div><br/><div class="children"><div class="content">I run this from a ZFS snapshot. What I want backed up from my home dir lives on the same volume, so I don&#x27;t have to launch restic multiple times. I have dedicated volumes for what I specifically want excluded from backups and ZFS snapshots (~&#x2F;tmp, ~&#x2F;Downloads, ~&#x2F;.cache, etc).<p>I&#x27;ve been thinking of somehow triggering restic by zrepl whenever it takes a snapshot, but I haven&#x27;t figured a way of securely grabbing credentials for it to unlock the repository and to upload to s3 without requiring user intervention.</div><br/></div></div></div></div><div id="41042915" class="c"><input type="checkbox" id="c-41042915" checked=""/><div class="controls bullet"><span class="by">hashworks</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41041592">parent</a><span>|</span><a href="#41041630">prev</a><span>|</span><a href="#41041989">next</a><span>|</span><label class="collapse" for="c-41042915">[-]</label><label class="expand" for="c-41042915">[5 more]</label></div><br/><div class="children"><div class="content">While I do that, is that really the case? I can imagine database snapshots are consistent most of the time, but it can&#x27;t be guaranteed, right? In the end it&#x27;s like a server crash, the database suddenly stops.</div><br/><div id="41042928" class="c"><input type="checkbox" id="c-41042928" checked=""/><div class="controls bullet"><span class="by">lmz</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41042915">parent</a><span>|</span><a href="#41041989">next</a><span>|</span><label class="collapse" for="c-41042928">[-]</label><label class="expand" for="c-41042928">[4 more]</label></div><br/><div class="children"><div class="content">Your DB is supposed to guarantee consistency even in server crashes. (The Consistency, Durability part of ACID).</div><br/><div id="41043093" class="c"><input type="checkbox" id="c-41043093" checked=""/><div class="controls bullet"><span class="by">mdavidn</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41042928">parent</a><span>|</span><a href="#41041989">next</a><span>|</span><label class="collapse" for="c-41043093">[-]</label><label class="expand" for="c-41043093">[3 more]</label></div><br/><div class="children"><div class="content">That consistency is built on assumptions about the filesystem that may not hold true of a copy made concurrently by a backup tool.<p>e.g. The database might append to write-ahead logs in a different order than the order in which the backup tool reads them.</div><br/><div id="41043552" class="c"><input type="checkbox" id="c-41043552" checked=""/><div class="controls bullet"><span class="by">grumbelbart2</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41043093">parent</a><span>|</span><a href="#41041989">next</a><span>|</span><label class="collapse" for="c-41043552">[-]</label><label class="expand" for="c-41043552">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s why you do a filesystem snapshot before the backup, something supported by all systems. The snapshot is constant to the backup tool, and read order or subsequent writes don&#x27;t matter.<p>The main difference is that Windows and MacOS have a mechanism that communicates with applications that a snapshot is about to be taken, allowing the applications (such as databases) to build a more &quot;consistent&quot; version of their files.<p>In theory, of course, database files should always be in a logically consistent state (what if power goes out?).</div><br/><div id="41043775" class="c"><input type="checkbox" id="c-41043775" checked=""/><div class="controls bullet"><span class="by">Sakos</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41043552">parent</a><span>|</span><a href="#41041989">next</a><span>|</span><label class="collapse" for="c-41043775">[-]</label><label class="expand" for="c-41043775">[1 more]</label></div><br/><div class="children"><div class="content">&gt; something supported by all systems<p>Well, supported by Windows and MacOS. Linux only if you happen to use zfs or btrfs, and also only if the backup tool you use happens to rely on those snapshots.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41041989" class="c"><input type="checkbox" id="c-41041989" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41041592">parent</a><span>|</span><a href="#41042915">prev</a><span>|</span><a href="#41042543">next</a><span>|</span><label class="collapse" for="c-41041989">[-]</label><label class="expand" for="c-41041989">[4 more]</label></div><br/><div class="children"><div class="content">Windows&#x27; Volume Shadow Copy Service[1] allows applications like databases to be informed[2] when a snapshot is about to be taken, so they can ensure their files are in a safe state. They also participate in the restore.<p>While Linux is great at many things, backups is one area I find lacking compared to what I&#x27;m used to from Windows. There I take frequent incremental whole-disk backups. The backup program uses the Volume Shadow Copy Service to provide a consistent state (as much as possible). Being incremental they don&#x27;t take much space.<p>If my disk crashes I can be back up and running like (almost) nothing happened in less than an hour. Just swap out the disk and restore. I know, as I&#x27;ve had to do that twice.<p>[1]: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;vss&#x2F;the-vss-model" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;vss&#x2F;the-vss-...</a><p>[2]: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;vss&#x2F;overview-of-pre-backup-tasks#writer-pre-backup-tasks" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;vss&#x2F;overview...</a></div><br/><div id="41042934" class="c"><input type="checkbox" id="c-41042934" checked=""/><div class="controls bullet"><span class="by">lmz</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41041989">parent</a><span>|</span><a href="#41042543">next</a><span>|</span><label class="collapse" for="c-41042934">[-]</label><label class="expand" for="c-41042934">[3 more]</label></div><br/><div class="children"><div class="content">LVM snapshots are copy on write and can be used the same way.</div><br/><div id="41043713" class="c"><input type="checkbox" id="c-41043713" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41042934">parent</a><span>|</span><a href="#41042543">next</a><span>|</span><label class="collapse" for="c-41043713">[-]</label><label class="expand" for="c-41043713">[2 more]</label></div><br/><div class="children"><div class="content">Any backup software that utilizes LVM in this way?<p>Ie automatically creates a snapshot and sends the incremental changes since previous snapshot to a backup destination like a NAS or S3 blob storage.</div><br/><div id="41043913" class="c"><input type="checkbox" id="c-41043913" checked=""/><div class="controls bullet"><span class="by">lmz</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41043713">parent</a><span>|</span><a href="#41042543">next</a><span>|</span><label class="collapse" for="c-41043913">[-]</label><label class="expand" for="c-41043913">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think the diffs are usable that way. They&#x27;re actually more like an &quot;undo log&quot; in that the snapshot space is taken by &quot;old blocks&quot; when the actual volume is taking writes. It&#x27;s useful for the same reasons as volume shadow copy: a consistent snapshot of the block device. (Also this can be very bad for write performance as any writes are doubled - to snapshot and to to the real device)</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41043524" class="c"><input type="checkbox" id="c-41043524" checked=""/><div class="controls bullet"><span class="by">kmarc</span><span>|</span><a href="#41041056">parent</a><span>|</span><a href="#41041592">prev</a><span>|</span><a href="#41041301">next</a><span>|</span><label class="collapse" for="c-41043524">[-]</label><label class="expand" for="c-41043524">[1 more]</label></div><br/><div class="children"><div class="content">For home backup, I have a similar setup with dedup, local+remote backups.<p>Borgbackup + rclone (or aws) [1]<p>It works so well, I even use this same script on my work laptop(s). rclone enables me to use whatever quirky file sharing solution the current workplace has.<p>[1]: <a href="https:&#x2F;&#x2F;github.com&#x2F;kmARC&#x2F;dotfiles&#x2F;blob&#x2F;master&#x2F;bin&#x2F;backup.sh">https:&#x2F;&#x2F;github.com&#x2F;kmARC&#x2F;dotfiles&#x2F;blob&#x2F;master&#x2F;bin&#x2F;backup.sh</a></div><br/></div></div><div id="41041301" class="c"><input type="checkbox" id="c-41041301" checked=""/><div class="controls bullet"><span class="by">tlavoie</span><span>|</span><a href="#41041056">parent</a><span>|</span><a href="#41043524">prev</a><span>|</span><a href="#41042822">next</a><span>|</span><label class="collapse" for="c-41041301">[-]</label><label class="expand" for="c-41041301">[3 more]</label></div><br/><div class="children"><div class="content">One question, why use rclone for the Backblaze B2 part? I use restic as well, configured with autorestic. One command backs up to the local SSD, local NAS, and B2.</div><br/><div id="41041440" class="c"><input type="checkbox" id="c-41041440" checked=""/><div class="controls bullet"><span class="by">pixelmonkey</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41041301">parent</a><span>|</span><a href="#41042822">next</a><span>|</span><label class="collapse" for="c-41041440">[-]</label><label class="expand" for="c-41041440">[2 more]</label></div><br/><div class="children"><div class="content">I explain in the post. Here&#x27;s a copypasta of the relevant paragraph:<p>&quot;My reasoning for splitting these two processes — restic backup and rclone sync — is that I run the local restic backup procedure more frequently than my offsite rclone sync cloud upload. So I’m OK with them being separate processes, and, what’s more, rclone offers a different set of handy options for either optimizing (or intentionally throttling) the cloud-based uploads to Backblaze B2.&quot;</div><br/><div id="41042148" class="c"><input type="checkbox" id="c-41042148" checked=""/><div class="controls bullet"><span class="by">tlavoie</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41041440">parent</a><span>|</span><a href="#41042822">next</a><span>|</span><label class="collapse" for="c-41042148">[-]</label><label class="expand" for="c-41042148">[1 more]</label></div><br/><div class="children"><div class="content">So you did! Sorry, hadn&#x27;t read the post beforehand. Oh, and I too mourned the loss of CrashPlan. Being in Canada, I didn&#x27;t have the option offered to have a restore drive sent if needed, but thought it was a brilliant idea. On the other hand, I think Backblaze might!</div><br/></div></div></div></div></div></div><div id="41042822" class="c"><input type="checkbox" id="c-41042822" checked=""/><div class="controls bullet"><span class="by">bongobingo1</span><span>|</span><a href="#41041056">parent</a><span>|</span><a href="#41041301">prev</a><span>|</span><a href="#41042870">next</a><span>|</span><label class="collapse" for="c-41042822">[-]</label><label class="expand" for="c-41042822">[3 more]</label></div><br/><div class="children"><div class="content">Do you have much of an opinion on why you went with Restic over Borg? The single Go binary is an obvious one, perhaps that alone is enough. I remember some people having un-bound memory usage with Restic but that might have been a very old version.</div><br/><div id="41043522" class="c"><input type="checkbox" id="c-41043522" checked=""/><div class="controls bullet"><span class="by">dsissitka</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41042822">parent</a><span>|</span><a href="#41042897">next</a><span>|</span><label class="collapse" for="c-41043522">[-]</label><label class="expand" for="c-41043522">[1 more]</label></div><br/><div class="children"><div class="content">The big one for me was <a href="https:&#x2F;&#x2F;borgbackup.readthedocs.io&#x2F;en&#x2F;stable&#x2F;faq.html#can-i-backup-from-multiple-servers-into-a-single-repository" rel="nofollow">https:&#x2F;&#x2F;borgbackup.readthedocs.io&#x2F;en&#x2F;stable&#x2F;faq.html#can-i-b...</a>.</div><br/></div></div><div id="41042897" class="c"><input type="checkbox" id="c-41042897" checked=""/><div class="controls bullet"><span class="by">hashworks</span><span>|</span><a href="#41041056">root</a><span>|</span><a href="#41042822">parent</a><span>|</span><a href="#41043522">prev</a><span>|</span><a href="#41042870">next</a><span>|</span><label class="collapse" for="c-41042897">[-]</label><label class="expand" for="c-41042897">[1 more]</label></div><br/><div class="children"><div class="content">I use both, and I never had problems with any of them. Restic has the advantage that it supports a lot more endpoints than ssh&#x2F;borg, f.e. S3 (or anything that rclone supports). Also borg might be a little bit more complicated to get started with than restic.</div><br/></div></div></div></div><div id="41042870" class="c"><input type="checkbox" id="c-41042870" checked=""/><div class="controls bullet"><span class="by">bobek</span><span>|</span><a href="#41041056">parent</a><span>|</span><a href="#41042822">prev</a><span>|</span><a href="#41043037">next</a><span>|</span><label class="collapse" for="c-41042870">[-]</label><label class="expand" for="c-41042870">[1 more]</label></div><br/><div class="children"><div class="content">I have ended up with something very similar. Restic&#x2F;rclone is awesome combo. <a href="https:&#x2F;&#x2F;bobek.cz&#x2F;restic-rclone&#x2F;" rel="nofollow">https:&#x2F;&#x2F;bobek.cz&#x2F;restic-rclone&#x2F;</a></div><br/></div></div><div id="41043037" class="c"><input type="checkbox" id="c-41043037" checked=""/><div class="controls bullet"><span class="by">PhilippGille</span><span>|</span><a href="#41041056">parent</a><span>|</span><a href="#41042870">prev</a><span>|</span><a href="#41040971">next</a><span>|</span><label class="collapse" for="c-41043037">[-]</label><label class="expand" for="c-41043037">[1 more]</label></div><br/><div class="children"><div class="content">Do you only back up your home directory, or also others? I didn&#x27;t find info about that in your post.</div><br/></div></div></div></div><div id="41040971" class="c"><input type="checkbox" id="c-41040971" checked=""/><div class="controls bullet"><span class="by">LorenDB</span><span>|</span><a href="#41041056">prev</a><span>|</span><a href="#41040929">next</a><span>|</span><label class="collapse" for="c-41040971">[-]</label><label class="expand" for="c-41040971">[8 more]</label></div><br/><div class="children"><div class="content">I prefer using openSUSE, which is tightly integrated with snapper[0], making it simple to recover from a botched update. I&#x27;ve only ever had to use it when an update broke my graphics drivers, but when you need it, it&#x27;s invaluable.<p>Snapper on openSUSE is integrated with both zypper (package manager) and YaST (system configuration tool) [1], so you get automatic snapshots before and after destructive actions. Also, openSUSE defaults to btrfs, so the snapshots are filesystem-native.<p>[0]: <a href="http:&#x2F;&#x2F;snapper.io&#x2F;" rel="nofollow">http:&#x2F;&#x2F;snapper.io&#x2F;</a><p>[1]: <a href="https:&#x2F;&#x2F;en.opensuse.org&#x2F;Portal:Snapper" rel="nofollow">https:&#x2F;&#x2F;en.opensuse.org&#x2F;Portal:Snapper</a></div><br/><div id="41044047" class="c"><input type="checkbox" id="c-41044047" checked=""/><div class="controls bullet"><span class="by">whiztech</span><span>|</span><a href="#41040971">parent</a><span>|</span><a href="#41041023">next</a><span>|</span><label class="collapse" for="c-41044047">[-]</label><label class="expand" for="c-41044047">[1 more]</label></div><br/><div class="children"><div class="content">I use btrfs-assistant with Kubuntu because I can&#x27;t get Timeshift to work properly. It&#x27;s basically some kind of front-end for snapper and btrfsmaintenance.<p>[0]: <a href="https:&#x2F;&#x2F;gitlab.com&#x2F;btrfs-assistant&#x2F;btrfs-assistant" rel="nofollow">https:&#x2F;&#x2F;gitlab.com&#x2F;btrfs-assistant&#x2F;btrfs-assistant</a></div><br/></div></div><div id="41041023" class="c"><input type="checkbox" id="c-41041023" checked=""/><div class="controls bullet"><span class="by">Arnavion</span><span>|</span><a href="#41040971">parent</a><span>|</span><a href="#41044047">prev</a><span>|</span><a href="#41042796">next</a><span>|</span><label class="collapse" for="c-41041023">[-]</label><label class="expand" for="c-41041023">[5 more]</label></div><br/><div class="children"><div class="content">And it&#x27;s also integrated into the bootloader (if you use one of the supported ones). The bootloader shows you one boot entry per snapshot so you can boot an old snapshot directly.</div><br/><div id="41041082" class="c"><input type="checkbox" id="c-41041082" checked=""/><div class="controls bullet"><span class="by">jwrallie</span><span>|</span><a href="#41040971">root</a><span>|</span><a href="#41041023">parent</a><span>|</span><a href="#41041174">next</a><span>|</span><label class="collapse" for="c-41041082">[-]</label><label class="expand" for="c-41041082">[1 more]</label></div><br/><div class="children"><div class="content">Very nice, sometimes people claim that the only difference between distros is the repository and package management tools.<p>It is when the defaults make the parts integrate nicely like this that the “greater is more than the sum of its parts” come into place.</div><br/></div></div><div id="41041174" class="c"><input type="checkbox" id="c-41041174" checked=""/><div class="controls bullet"><span class="by">Spunkie</span><span>|</span><a href="#41040971">root</a><span>|</span><a href="#41041023">parent</a><span>|</span><a href="#41041082">prev</a><span>|</span><a href="#41042796">next</a><span>|</span><label class="collapse" for="c-41041174">[-]</label><label class="expand" for="c-41041174">[3 more]</label></div><br/><div class="children"><div class="content">This is a feature I&#x27;ve really been missing since switching from grub to systemd-boot.<p>Has anyone figured out an easy way to get this back with systemd-boot?</div><br/><div id="41041523" class="c"><input type="checkbox" id="c-41041523" checked=""/><div class="controls bullet"><span class="by">Arnavion</span><span>|</span><a href="#41040971">root</a><span>|</span><a href="#41041174">parent</a><span>|</span><a href="#41041738">next</a><span>|</span><label class="collapse" for="c-41041523">[-]</label><label class="expand" for="c-41041523">[1 more]</label></div><br/><div class="children"><div class="content">Some time ago they did add systemd-boot as a supported option and apparently it also generates one entry per snapshot.<p><a href="https:&#x2F;&#x2F;news.opensuse.org&#x2F;2024&#x2F;03&#x2F;05&#x2F;systemd-boot-integration-in-os&#x2F;" rel="nofollow">https:&#x2F;&#x2F;news.opensuse.org&#x2F;2024&#x2F;03&#x2F;05&#x2F;systemd-boot-integratio...</a><p><a href="https:&#x2F;&#x2F;en.opensuse.org&#x2F;Systemd-boot#Installation_with_full_BTRFS_snapshot_and_secure_boot_support" rel="nofollow">https:&#x2F;&#x2F;en.opensuse.org&#x2F;Systemd-boot#Installation_with_full_...</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;openSUSE&#x2F;sdbootutil">https:&#x2F;&#x2F;github.com&#x2F;openSUSE&#x2F;sdbootutil</a><p>I haven&#x27;t tried it though so I don&#x27;t know for sure. (I have my own custom systemd-boot setup that predates theirs, and since my setup uses signed UKIs and theirs doesn&#x27;t, I don&#x27;t care to switch to theirs. I can still switch snapshots manually with `btrfs subvol` anyway; it just might require a live CD in case the default snapshot doesn&#x27;t boot.)</div><br/></div></div><div id="41041738" class="c"><input type="checkbox" id="c-41041738" checked=""/><div class="controls bullet"><span class="by">boomboomsubban</span><span>|</span><a href="#41040971">root</a><span>|</span><a href="#41041174">parent</a><span>|</span><a href="#41041523">prev</a><span>|</span><a href="#41042796">next</a><span>|</span><label class="collapse" for="c-41041738">[-]</label><label class="expand" for="c-41041738">[1 more]</label></div><br/><div class="children"><div class="content">systemd-boot has relatively recently added support for loading filesystems, <a href="https:&#x2F;&#x2F;github.com&#x2F;systemd&#x2F;systemd&#x2F;blob&#x2F;71e5a35a5be99a1f244d38ee1dfe7db39242a977&#x2F;NEWS#L3177C1-L3181C38">https:&#x2F;&#x2F;github.com&#x2F;systemd&#x2F;systemd&#x2F;blob&#x2F;71e5a35a5be99a1f244d...</a> meaning you should be able to set up something similar. I wouldn&#x27;t describe it as &quot;easy&quot; yet.</div><br/></div></div></div></div></div></div><div id="41042796" class="c"><input type="checkbox" id="c-41042796" checked=""/><div class="controls bullet"><span class="by">Barrin92</span><span>|</span><a href="#41040971">parent</a><span>|</span><a href="#41041023">prev</a><span>|</span><a href="#41040929">next</a><span>|</span><label class="collapse" for="c-41042796">[-]</label><label class="expand" for="c-41042796">[1 more]</label></div><br/><div class="children"><div class="content">openSUSE honestly is so criminally underrated. I&#x27;ve been using Tumbleweed for a few years for my dev&#x2F;work systems and YaST is just great. Also that they ship fully tested images for their rolling release is just so much saner. OBS is another fantastic tool that I see so few people talking about, despite software distribution still being such a sore point in the linux ecosystem.</div><br/></div></div></div></div><div id="41040929" class="c"><input type="checkbox" id="c-41040929" checked=""/><div class="controls bullet"><span class="by">OldMatey</span><span>|</span><a href="#41040971">prev</a><span>|</span><a href="#41040190">next</a><span>|</span><label class="collapse" for="c-41040929">[-]</label><label class="expand" for="c-41040929">[4 more]</label></div><br/><div class="children"><div class="content">I adore Timeshift. It has made my time on Linux so much more trouble free.<p>I have used Linux for 10+ years but over the I have spent hours, days and weeks trying to undo or fix little issues I introduce by tinkering around with things. Often I seem to break things at the worst times, right as I am starting to work on some new project or something that is time sensitive.<p>Now, I can just roll back to an earlier stable version if I don&#x27;t want to spend the time right then on troubleshooting.<p>I&#x27;ve enabled this on all my family members machines and teach them to just roll back when Linux goes funky.</div><br/><div id="41042066" class="c"><input type="checkbox" id="c-41042066" checked=""/><div class="controls bullet"><span class="by">gooseyman</span><span>|</span><a href="#41040929">parent</a><span>|</span><a href="#41041779">next</a><span>|</span><label class="collapse" for="c-41042066">[-]</label><label class="expand" for="c-41042066">[1 more]</label></div><br/><div class="children"><div class="content">I enabled this four months ago and I have had the same experience.<p>It’s not that I couldn’t retype the config file I accidentally wrote over while tinkering, but I like the safety that comes with Timeshift to try and fail a few times.<p>Hard lessons come hard. This softens those lessons a little while maintaining the learning.</div><br/></div></div><div id="41041779" class="c"><input type="checkbox" id="c-41041779" checked=""/><div class="controls bullet"><span class="by">pmarreck</span><span>|</span><a href="#41040929">parent</a><span>|</span><a href="#41042066">prev</a><span>|</span><a href="#41040190">next</a><span>|</span><label class="collapse" for="c-41041779">[-]</label><label class="expand" for="c-41041779">[2 more]</label></div><br/><div class="children"><div class="content">While it&#x27;s not quite average-user-friendly (YET), one of the reasons I switched to NixOS is because it provides this out-of-the-box. I was frustrated with every other Linux for the reasons you cite, but NixOS I can deal with, since 1) screwing up the integrity of a system install is hard to begin with, 2) if you DO manage to do it, you can reboot into any of N previous system updates (where you set N).<p>Linux is simultaneously the most configurable and the most brittle OS IMHO. NixOS takes away all the brittleness and leaves all the configurability, with the caveat that you have to declaratively configure it using the Nix DSL.</div><br/><div id="41042589" class="c"><input type="checkbox" id="c-41042589" checked=""/><div class="controls bullet"><span class="by">rrix2</span><span>|</span><a href="#41040929">root</a><span>|</span><a href="#41041779">parent</a><span>|</span><a href="#41040190">next</a><span>|</span><label class="collapse" for="c-41042589">[-]</label><label class="expand" for="c-41042589">[1 more]</label></div><br/><div class="children"><div class="content">NixOS also has out of the box support for zfs auto snapshots, where you can tell it to keep 3 months, four weeks, 24 hourly, and frequent snapshots evert fifteen minutes so you can time shift your home directory, too</div><br/></div></div></div></div></div></div><div id="41040190" class="c"><input type="checkbox" id="c-41040190" checked=""/><div class="controls bullet"><span class="by">tombert</span><span>|</span><a href="#41040929">prev</a><span>|</span><a href="#41043682">next</a><span>|</span><label class="collapse" for="c-41040190">[-]</label><label class="expand" for="c-41040190">[14 more]</label></div><br/><div class="children"><div class="content">This reminds me of the default behavior of NixOS. Whenever you make a change in the configuration for NixOS and rebuild it, it takes a snapshot of the system configurations and lets you restore after a reboot if you screw something up.<p>Similarly, it doesn&#x27;t do anything in regards to user files.</div><br/><div id="41040332" class="c"><input type="checkbox" id="c-41040332" checked=""/><div class="controls bullet"><span class="by">choward</span><span>|</span><a href="#41040190">parent</a><span>|</span><a href="#41043682">next</a><span>|</span><label class="collapse" for="c-41040332">[-]</label><label class="expand" for="c-41040332">[13 more]</label></div><br/><div class="children"><div class="content">I can&#x27;t tell you the number of times I see a project and think to myself &quot;NixOS already solves that problem but better.&quot;</div><br/><div id="41040387" class="c"><input type="checkbox" id="c-41040387" checked=""/><div class="controls bullet"><span class="by">fallingsquirrel</span><span>|</span><a href="#41040190">root</a><span>|</span><a href="#41040332">parent</a><span>|</span><a href="#41040955">next</a><span>|</span><label class="collapse" for="c-41040387">[-]</label><label class="expand" for="c-41040387">[4 more]</label></div><br/><div class="children"><div class="content">In fairness, this app supports snapshotting your home directory as well, and that&#x27;s not solvable with Nix alone. In fact, I&#x27;m running NixOS and I&#x27;ve been meaning to set up Timeshift or Snapper for my homedir, but alas, I haven&#x27;t found the time.</div><br/><div id="41040491" class="c"><input type="checkbox" id="c-41040491" checked=""/><div class="controls bullet"><span class="by">__MatrixMan__</span><span>|</span><a href="#41040190">root</a><span>|</span><a href="#41040387">parent</a><span>|</span><a href="#41040955">next</a><span>|</span><label class="collapse" for="c-41040491">[-]</label><label class="expand" for="c-41040491">[3 more]</label></div><br/><div class="children"><div class="content">Is there something about your home directory that you&#x27;d want to back up that is not covered by invoking home manager as a nix module as part if nixos-rebuild?<p><a href="https:&#x2F;&#x2F;nix-community.github.io&#x2F;home-manager&#x2F;index.xhtml#sec-install-nixos-module" rel="nofollow">https:&#x2F;&#x2F;nix-community.github.io&#x2F;home-manager&#x2F;index.xhtml#sec...</a><p>To me, it&#x27;s better than a filesystem-backup because the things that make it into home manager tend to be exactly the things that I want to back up.  The rest of it  (e.g. screenshots, downloads) aren&#x27;t something I&#x27;d want in a backup scheme anyhow.</div><br/><div id="41040615" class="c"><input type="checkbox" id="c-41040615" checked=""/><div class="controls bullet"><span class="by">fallingsquirrel</span><span>|</span><a href="#41040190">root</a><span>|</span><a href="#41040491">parent</a><span>|</span><a href="#41040955">next</a><span>|</span><label class="collapse" for="c-41040615">[-]</label><label class="expand" for="c-41040615">[2 more]</label></div><br/><div class="children"><div class="content">I want to keep snapshots of my work. I run nightly backups which have come in handy numerous times, but accessing the cloud storage is always slow, and sometimes I&#x27;ve even paid a few cents in bandwidth to download my own files. It would be a lot smoother if everything was local and I could grep through &#x2F;.snapshots&#x2F;&lt;date&gt;&#x2F;&lt;project&gt;.</div><br/></div></div></div></div></div></div><div id="41040955" class="c"><input type="checkbox" id="c-41040955" checked=""/><div class="controls bullet"><span class="by">alfalfasprout</span><span>|</span><a href="#41040190">root</a><span>|</span><a href="#41040332">parent</a><span>|</span><a href="#41040387">prev</a><span>|</span><a href="#41040472">next</a><span>|</span><label class="collapse" for="c-41040955">[-]</label><label class="expand" for="c-41040955">[5 more]</label></div><br/><div class="children"><div class="content">The problem, unfortunately, is that Nix often finds itself in a chicken and egg scenario where nixpkgs fails to provide a lot of important packages or has versions that are old(er). But for there to be more investment in adding more packages, etc. you need more people using the ecosystem.</div><br/><div id="41043643" class="c"><input type="checkbox" id="c-41043643" checked=""/><div class="controls bullet"><span class="by">arianvanp</span><span>|</span><a href="#41040190">root</a><span>|</span><a href="#41040955">parent</a><span>|</span><a href="#41041355">next</a><span>|</span><label class="collapse" for="c-41043643">[-]</label><label class="expand" for="c-41043643">[1 more]</label></div><br/><div class="children"><div class="content">Nixpkgs is the largest <i>and</i> most up to date package repository according to <a href="https:&#x2F;&#x2F;repology.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;repology.org&#x2F;</a><p>I&#x27;m honestly curious what packages you have a problem with</div><br/></div></div><div id="41041355" class="c"><input type="checkbox" id="c-41041355" checked=""/><div class="controls bullet"><span class="by">atlintots</span><span>|</span><a href="#41040190">root</a><span>|</span><a href="#41040955">parent</a><span>|</span><a href="#41043643">prev</a><span>|</span><a href="#41041909">next</a><span>|</span><label class="collapse" for="c-41041355">[-]</label><label class="expand" for="c-41041355">[1 more]</label></div><br/><div class="children"><div class="content">Luckily Nix is also an excellent build system, and does provide escape hatches here and there when you really need them (e.g nix-ld).</div><br/></div></div><div id="41041909" class="c"><input type="checkbox" id="c-41041909" checked=""/><div class="controls bullet"><span class="by">NoThisIsMe</span><span>|</span><a href="#41040190">root</a><span>|</span><a href="#41040955">parent</a><span>|</span><a href="#41041355">prev</a><span>|</span><a href="#41040472">next</a><span>|</span><label class="collapse" for="c-41041909">[-]</label><label class="expand" for="c-41041909">[2 more]</label></div><br/><div class="children"><div class="content">What are you talking about? Nixpkgs is one of the largest and most up-to-date distro package repos out there.</div><br/></div></div></div></div><div id="41040472" class="c"><input type="checkbox" id="c-41040472" checked=""/><div class="controls bullet"><span class="by">autoexecbat</span><span>|</span><a href="#41040190">root</a><span>|</span><a href="#41040332">parent</a><span>|</span><a href="#41040955">prev</a><span>|</span><a href="#41041861">next</a><span>|</span><label class="collapse" for="c-41040472">[-]</label><label class="expand" for="c-41040472">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve seen the configuration.nix file, it doesn&#x27;t look like it captures specific versions. How does it handle snapshotting?</div><br/><div id="41040907" class="c"><input type="checkbox" id="c-41040907" checked=""/><div class="controls bullet"><span class="by">somnic</span><span>|</span><a href="#41040190">root</a><span>|</span><a href="#41040472">parent</a><span>|</span><a href="#41041861">next</a><span>|</span><label class="collapse" for="c-41040907">[-]</label><label class="expand" for="c-41040907">[1 more]</label></div><br/><div class="children"><div class="content">For managing your configuration.nix file itself you can just use whichever VCS you want, it&#x27;s a text file that describes one system configuration and managing multiple versions and snapshots within that configuration file is out of scope.<p>For the system itself, each time you run &quot;nixos-rebuild switch&quot; it builds a system out of your configuration.nix, including an activation script which sets environment variables and symlinks and stops and starts services and so on, adds this new system to the grub menu, and runs the activation script. It specifically <i>doesn&#x27;t</i> delete any of your old stuff from the nix store or grub menu, including all your older versions of packages, and your old activation scripts. So if your new system is borked you can just boot into a previous one.</div><br/></div></div></div></div><div id="41041861" class="c"><input type="checkbox" id="c-41041861" checked=""/><div class="controls bullet"><span class="by">pmarreck</span><span>|</span><a href="#41040190">root</a><span>|</span><a href="#41040332">parent</a><span>|</span><a href="#41040472">prev</a><span>|</span><a href="#41043682">next</a><span>|</span><label class="collapse" for="c-41041861">[-]</label><label class="expand" for="c-41041861">[1 more]</label></div><br/><div class="children"><div class="content">Imagine installing an entirely new window manager without issue, and then undoing it without issue.<p>NixOS does that. And I&#x27;m pretty sure that no other flavor of Linux does. First time I realized I could just blithely &quot;shop around window managers&quot; simply by changing a couple of configuration lines, I was absolutely floored.<p>NixOS is the first Linux distro that made me actually feel like I was free to enjoy and tinker with ALL of Linux at virtually no risk.<p>There is nothing else like it. (Except Guix. But I digress.)</div><br/></div></div></div></div></div></div><div id="41043682" class="c"><input type="checkbox" id="c-41043682" checked=""/><div class="controls bullet"><span class="by">commercialnix</span><span>|</span><a href="#41040190">prev</a><span>|</span><a href="#41042790">next</a><span>|</span><label class="collapse" for="c-41043682">[-]</label><label class="expand" for="c-41043682">[1 more]</label></div><br/><div class="children"><div class="content">This kind of thing underscores how Mint and Ubuntu users might be using a system with a Linux kernel, but still ultimately have the mindset of a Windows XP user.</div><br/></div></div><div id="41042790" class="c"><input type="checkbox" id="c-41042790" checked=""/><div class="controls bullet"><span class="by">sieve</span><span>|</span><a href="#41043682">prev</a><span>|</span><a href="#41044012">next</a><span>|</span><label class="collapse" for="c-41042790">[-]</label><label class="expand" for="c-41042790">[1 more]</label></div><br/><div class="children"><div class="content">ZFS Snapshots + Sanoid and Syncoid to manage and trigger them is what people should be doing. Unfortunately, booting from ZFS volumes seems to be some form of black art unless things have changed over the last couple of years.<p>The license conflict and OpenZFS always having to chase kernel releases often resulting in delayed releases for new kernels means I cannot confidently use them with rolling release distros on the boot drive. If I muck something up, the data drives will be offline for a few minutes till I fix the problem. Doing the same with the boot drive is pain I can live without.</div><br/></div></div><div id="41044012" class="c"><input type="checkbox" id="c-41044012" checked=""/><div class="controls bullet"><span class="by">kkfx</span><span>|</span><a href="#41042790">prev</a><span>|</span><a href="#41042962">next</a><span>|</span><label class="collapse" for="c-41044012">[-]</label><label class="expand" for="c-41044012">[1 more]</label></div><br/><div class="children"><div class="content">Nice UI :-)<p>Random notes&#x2F;suggestions<p>- rsync is not a snapthot tool, so while in most of the cases we can rsync a live volume issueless on a desktop it&#x27;s not a good idea doing so<p>- zfs support in 2024 is a must, btrfs honestly is the proof of how NOT to manage storage, like stratis<p>- it seems not much a backup tool, witch is perfectly fine but since the target seems to be end users not too much IT literate it should be stated clear...</div><br/></div></div><div id="41042962" class="c"><input type="checkbox" id="c-41042962" checked=""/><div class="controls bullet"><span class="by">croniev</span><span>|</span><a href="#41044012">prev</a><span>|</span><a href="#41040424">next</a><span>|</span><label class="collapse" for="c-41042962">[-]</label><label class="expand" for="c-41042962">[2 more]</label></div><br/><div class="children"><div class="content">Timeshift does not work for me because I encrypted my ssd, decrypt on boot, but linux sees every file twice, once encrypted and once decrypted, thinking that my storage is full, and thus timeshift refuses to make backups due to no storage. At least thats as far as I&#x27;m understanding it atm</div><br/><div id="41043101" class="c"><input type="checkbox" id="c-41043101" checked=""/><div class="controls bullet"><span class="by">sulandor</span><span>|</span><a href="#41042962">parent</a><span>|</span><a href="#41040424">next</a><span>|</span><label class="collapse" for="c-41043101">[-]</label><label class="expand" for="c-41043101">[1 more]</label></div><br/><div class="children"><div class="content">&gt; linux sees every file twice, once encrypted and once decrypted<p>fixing this should prove profitable</div><br/></div></div></div></div><div id="41040424" class="c"><input type="checkbox" id="c-41040424" checked=""/><div class="controls bullet"><span class="by">ThinkBeat</span><span>|</span><a href="#41042962">prev</a><span>|</span><a href="#41040918">next</a><span>|</span><label class="collapse" for="c-41040424">[-]</label><label class="expand" for="c-41040424">[2 more]</label></div><br/><div class="children"><div class="content">A bit of a side note and a bit of old man reveal, 
it would be nifty to have the backup system write
the snapshots to cd&#x2F;dvd&#x2F;bluray disk.<p>I remember working in a company that had a robot WORM system.
It would grab a disc, it would be processed, take it out,
place it among the archives.   If a restore as needed the 
robot would find the backup, and read off the data.<p>I never worked directly on the system, and I seem to remember 
there was a window that the system could keep track of
(naturally) but older disks were stored off site somewhere
for however long that window was.<p>(Everything was replicated to a fully 100% duplicate system 
geographically highly separated from the production system.</div><br/><div id="41040575" class="c"><input type="checkbox" id="c-41040575" checked=""/><div class="controls bullet"><span class="by">gballan</span><span>|</span><a href="#41040424">parent</a><span>|</span><a href="#41040918">next</a><span>|</span><label class="collapse" for="c-41040575">[-]</label><label class="expand" for="c-41040575">[1 more]</label></div><br/><div class="children"><div class="content">AFAIK timeshift can use any mount. I tried a USB stick, but it was too slow. Now I&#x27;m experimenting with a partition on a second drive.</div><br/></div></div></div></div><div id="41040918" class="c"><input type="checkbox" id="c-41040918" checked=""/><div class="controls bullet"><span class="by">e12e</span><span>|</span><a href="#41040424">prev</a><span>|</span><a href="#41041289">next</a><span>|</span><label class="collapse" for="c-41040918">[-]</label><label class="expand" for="c-41040918">[2 more]</label></div><br/><div class="children"><div class="content">Hmm, this doesn&#x27;t appear to be what I hoped it was:<p>&gt; Timeshift is similar to applications like rsnapshot, BackInTime and TimeVault but with different goals. It is designed to protect only system files and settings. User files such as documents, pictures and music are excluded.<p>On the other hand, a quick search looking for &quot;that zfs based time machine thing&quot; did reveal a new (to me) project that looks very interesting:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;kimono-koans&#x2F;httm">https:&#x2F;&#x2F;github.com&#x2F;kimono-koans&#x2F;httm</a></div><br/><div id="41041043" class="c"><input type="checkbox" id="c-41041043" checked=""/><div class="controls bullet"><span class="by">tamimio</span><span>|</span><a href="#41040918">parent</a><span>|</span><a href="#41041289">next</a><span>|</span><label class="collapse" for="c-41041043">[-]</label><label class="expand" for="c-41041043">[1 more]</label></div><br/><div class="children"><div class="content">You can include the user files too in the home directory. I have some snapshots that include them and some that do not, so you are covered both ways.</div><br/></div></div></div></div><div id="41041289" class="c"><input type="checkbox" id="c-41041289" checked=""/><div class="controls bullet"><span class="by">gchamonlive</span><span>|</span><a href="#41040918">prev</a><span>|</span><a href="#41041913">next</a><span>|</span><label class="collapse" for="c-41041289">[-]</label><label class="expand" for="c-41041289">[2 more]</label></div><br/><div class="children"><div class="content">I use a series of scripts to make daily Borg backups to a local repository: <a href="https:&#x2F;&#x2F;github.com&#x2F;gchamon&#x2F;borg-automated-backups">https:&#x2F;&#x2F;github.com&#x2F;gchamon&#x2F;borg-automated-backups</a><p>Currently the local folder is a samba mount so it&#x27;s off-site.<p>The only tip I&#x27;d have for people using Borg is to verify your backups frequently. It can get corrupted without much warning. Also if you want quick and somewhat easy monitoring of backups being created you can use webmin to watch for the modifications in the backup folder and send an email if there isn&#x27;t a backup being sent in a while. Similarly, you can regularly scan the Borg repo and send email in case of failures for manual investigation.<p>This is low tech, at least lower tech than elastic stack or promstack, but it gets the job done.</div><br/><div id="41043737" class="c"><input type="checkbox" id="c-41043737" checked=""/><div class="controls bullet"><span class="by">khimaros</span><span>|</span><a href="#41041289">parent</a><span>|</span><a href="#41041913">next</a><span>|</span><label class="collapse" for="c-41043737">[-]</label><label class="expand" for="c-41043737">[1 more]</label></div><br/><div class="children"><div class="content">i&#x27;ve had positive experience with borgmatic which is available in debian repos.</div><br/></div></div></div></div><div id="41041913" class="c"><input type="checkbox" id="c-41041913" checked=""/><div class="controls bullet"><span class="by">Lord_Zero</span><span>|</span><a href="#41041289">prev</a><span>|</span><a href="#41041173">next</a><span>|</span><label class="collapse" for="c-41041913">[-]</label><label class="expand" for="c-41041913">[2 more]</label></div><br/><div class="children"><div class="content">I just switched from windows to Mint and the first thing it asked me was to configure backups and snapshots and stuff. Pretty cool!</div><br/><div id="41042557" class="c"><input type="checkbox" id="c-41042557" checked=""/><div class="controls bullet"><span class="by">Groxx</span><span>|</span><a href="#41041913">parent</a><span>|</span><a href="#41041173">next</a><span>|</span><label class="collapse" for="c-41042557">[-]</label><label class="expand" for="c-41042557">[1 more]</label></div><br/><div class="children"><div class="content">Mint&#x27;s first-launch welcome-list is excellent.  It&#x27;s a relatively small thing but it helps <i>a lot</i>.</div><br/></div></div></div></div><div id="41041173" class="c"><input type="checkbox" id="c-41041173" checked=""/><div class="controls bullet"><span class="by">jenscow</span><span>|</span><a href="#41041913">prev</a><span>|</span><a href="#41042195">next</a><span>|</span><label class="collapse" for="c-41041173">[-]</label><label class="expand" for="c-41041173">[3 more]</label></div><br/><div class="children"><div class="content">I use BackInTime, which works in a similar way but is much more configurable. I have hourly backups of all my code for the past day, then a single daily for the past week, etc.<p>Saved my ass a few times.</div><br/><div id="41042328" class="c"><input type="checkbox" id="c-41042328" checked=""/><div class="controls bullet"><span class="by">Springtime</span><span>|</span><a href="#41041173">parent</a><span>|</span><a href="#41042195">next</a><span>|</span><label class="collapse" for="c-41042328">[-]</label><label class="expand" for="c-41042328">[2 more]</label></div><br/><div class="children"><div class="content">Sounds like rsnapshot (rsync with hardlinks and scheduling) but the BackInTime repo doesn&#x27;t mention any comparison of how it&#x27;s different, though Timeshift says they&#x27;re similar. Anyone have experience with BiT vs rsnapshot?</div><br/><div id="41043610" class="c"><input type="checkbox" id="c-41043610" checked=""/><div class="controls bullet"><span class="by">bayindirh</span><span>|</span><a href="#41041173">root</a><span>|</span><a href="#41042328">parent</a><span>|</span><a href="#41042195">next</a><span>|</span><label class="collapse" for="c-41043610">[-]</label><label class="expand" for="c-41043610">[1 more]</label></div><br/><div class="children"><div class="content">BackInTime works similar to Apple TimeMachine. It uses hardlinks + new files. Plus, it keeps settings for that backup inside the repository itself, so you can install the tool, show the folder, and start restoring.<p>On top of that BiT supports network backups and multiple profiles. I&#x27;m using it on my desktop systems with multiple profiles for years and it&#x27;s very reliable.<p>However it&#x27;s a GUI first application, so for server applications Borg is a much better choice.</div><br/></div></div></div></div></div></div><div id="41042195" class="c"><input type="checkbox" id="c-41042195" checked=""/><div class="controls bullet"><span class="by">stevefan1999</span><span>|</span><a href="#41041173">prev</a><span>|</span><a href="#41040210">next</a><span>|</span><label class="collapse" for="c-41042195">[-]</label><label class="expand" for="c-41042195">[1 more]</label></div><br/><div class="children"><div class="content">Can someone recommend a solution that works well with immutable distros such as Project Bluefin or Fedora Kinoite&#x2F;Silverblue? We just need to backup maybe the etc and dotfiles. Also great if it can backup NixOS too.</div><br/></div></div><div id="41040210" class="c"><input type="checkbox" id="c-41040210" checked=""/><div class="controls bullet"><span class="by">phoe-krk</span><span>|</span><a href="#41042195">prev</a><span>|</span><a href="#41042637">next</a><span>|</span><label class="collapse" for="c-41040210">[-]</label><label class="expand" for="c-41040210">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;d like some sort of a comparison with Duplicity&#x2F;Déjà Dup that seems to be the default on Gnome&#x2F;Cinnamon.</div><br/><div id="41040401" class="c"><input type="checkbox" id="c-41040401" checked=""/><div class="controls bullet"><span class="by">fallingsquirrel</span><span>|</span><a href="#41040210">parent</a><span>|</span><a href="#41042637">next</a><span>|</span><label class="collapse" for="c-41040401">[-]</label><label class="expand" for="c-41040401">[2 more]</label></div><br/><div class="children"><div class="content">Different categories of app. Duplicity is geared toward backing up files to a separate machine, and this tool snapshots your filesystem on the same machine.</div><br/><div id="41040412" class="c"><input type="checkbox" id="c-41040412" checked=""/><div class="controls bullet"><span class="by">phoe-krk</span><span>|</span><a href="#41040210">root</a><span>|</span><a href="#41040401">parent</a><span>|</span><a href="#41042637">next</a><span>|</span><label class="collapse" for="c-41040412">[-]</label><label class="expand" for="c-41040412">[1 more]</label></div><br/><div class="children"><div class="content">OK, thanks. I was confused because Time Machine is capable of backing up to a remote device.</div><br/></div></div></div></div></div></div><div id="41042637" class="c"><input type="checkbox" id="c-41042637" checked=""/><div class="controls bullet"><span class="by">trinsic2</span><span>|</span><a href="#41040210">prev</a><span>|</span><a href="#41040188">next</a><span>|</span><label class="collapse" for="c-41042637">[-]</label><label class="expand" for="c-41042637">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t forget Atpik. great for migrating a system to a new distro.</div><br/></div></div><div id="41040188" class="c"><input type="checkbox" id="c-41040188" checked=""/><div class="controls bullet"><span class="by">metadat</span><span>|</span><a href="#41042637">prev</a><span>|</span><a href="#41040692">next</a><span>|</span><label class="collapse" for="c-41040188">[-]</label><label class="expand" for="c-41040188">[5 more]</label></div><br/><div class="children"><div class="content">Can timeshift work with ext4 filesystems?<p>I know it won&#x27;t have the atomicity of a CoW fs, but I&#x27;d be fine with that, as the important files on my systems aren&#x27;t often modified, especially during a backup - I&#x27;d configure it to disable the systemd timers while the backup process is running.</div><br/><div id="41041004" class="c"><input type="checkbox" id="c-41041004" checked=""/><div class="controls bullet"><span class="by">tamimio</span><span>|</span><a href="#41040188">parent</a><span>|</span><a href="#41040690">next</a><span>|</span><label class="collapse" for="c-41041004">[-]</label><label class="expand" for="c-41041004">[1 more]</label></div><br/><div class="children"><div class="content">Yep, been using it for a while, incl ext4, you can have scheduled snapshots too, saved my arse few times, especially when you install something that cannot be easily uninstalled like hyperland or similar.</div><br/></div></div><div id="41040690" class="c"><input type="checkbox" id="c-41040690" checked=""/><div class="controls bullet"><span class="by">mbreese</span><span>|</span><a href="#41040188">parent</a><span>|</span><a href="#41041004">prev</a><span>|</span><a href="#41040242">next</a><span>|</span><label class="collapse" for="c-41040690">[-]</label><label class="expand" for="c-41040690">[2 more]</label></div><br/><div class="children"><div class="content">Can’t you also snapshot LVM volumes directly? So if you have an LVM volume, it shouldn’t matter what the filesystem is, provided it is sync’d… in theory.<p>(I’ve only done this on VMs that could be paused before the snapshot, so YMMV.)</div><br/><div id="41040736" class="c"><input type="checkbox" id="c-41040736" checked=""/><div class="controls bullet"><span class="by">nijave</span><span>|</span><a href="#41040188">root</a><span>|</span><a href="#41040690">parent</a><span>|</span><a href="#41040242">next</a><span>|</span><label class="collapse" for="c-41040736">[-]</label><label class="expand" for="c-41040736">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, you can take live snapshots with LVM. You can use wyng-backup to incrementally take and back them up somewhere outside LVM. This has been working pretty well for me to backup libvirt domains backed by LVs</div><br/></div></div></div></div><div id="41040242" class="c"><input type="checkbox" id="c-41040242" checked=""/><div class="controls bullet"><span class="by">gballan</span><span>|</span><a href="#41040188">parent</a><span>|</span><a href="#41040690">prev</a><span>|</span><a href="#41040692">next</a><span>|</span><label class="collapse" for="c-41040242">[-]</label><label class="expand" for="c-41040242">[1 more]</label></div><br/><div class="children"><div class="content">Just getting started with it--but I think so, using rsync.</div><br/></div></div></div></div><div id="41040692" class="c"><input type="checkbox" id="c-41040692" checked=""/><div class="controls bullet"><span class="by">umvi</span><span>|</span><a href="#41040188">prev</a><span>|</span><a href="#41040911">next</a><span>|</span><label class="collapse" for="c-41040692">[-]</label><label class="expand" for="c-41040692">[3 more]</label></div><br/><div class="children"><div class="content">&gt;  Creates filesystem snapshots using rsync+hardlinks<p>Sounds like it works similarly to git fork on GitHub? That is, if no files have changed, the snapshot doesn&#x27;t take up any extra room?</div><br/><div id="41042081" class="c"><input type="checkbox" id="c-41042081" checked=""/><div class="controls bullet"><span class="by">Izkata</span><span>|</span><a href="#41040692">parent</a><span>|</span><a href="#41040767">next</a><span>|</span><label class="collapse" for="c-41042081">[-]</label><label class="expand" for="c-41042081">[1 more]</label></div><br/><div class="children"><div class="content">Directories and hardlinks take up space, just very little.<p>It would make sense to hardlink a directory if everything in that tree was unchanged, but no filesystem will allow hardlinking a directory due to the risk of creating a loop (hardlinking to a parent directory), so directories are always created new and all files in the tree get their own hardlink.<p>Apple&#x27;s Time Machine was given an exception in their filesystem to allow it, since they have control over it and can ensure no such loops are created.  So it doesn&#x27;t have that penalty creating hardlinks for every single individual file every time.</div><br/></div></div></div></div><div id="41040911" class="c"><input type="checkbox" id="c-41040911" checked=""/><div class="controls bullet"><span class="by">nurettin</span><span>|</span><a href="#41040692">prev</a><span>|</span><a href="#41040089">next</a><span>|</span><label class="collapse" for="c-41040911">[-]</label><label class="expand" for="c-41040911">[3 more]</label></div><br/><div class="children"><div class="content">Timeshift saved my system so many times over the past 6-7 years. Botched upgrades, experimenting with desktop environments, destroying configuration defaults, it works and does what it says on the tin.</div><br/><div id="41043726" class="c"><input type="checkbox" id="c-41043726" checked=""/><div class="controls bullet"><span class="by">prmoustache</span><span>|</span><a href="#41040911">parent</a><span>|</span><a href="#41041016">next</a><span>|</span><label class="collapse" for="c-41043726">[-]</label><label class="expand" for="c-41043726">[1 more]</label></div><br/><div class="children"><div class="content">How can you &quot;botch&quot; upgrades so many times?<p>I may have had only one update that went wrong in 30 years of using Linux and that was just a bug  introduced by a gfx driver in a new minor kernel version. I downgraded it and waited for the bug to be fixed upstream and that was it.</div><br/></div></div><div id="41041016" class="c"><input type="checkbox" id="c-41041016" checked=""/><div class="controls bullet"><span class="by">tamimio</span><span>|</span><a href="#41040911">parent</a><span>|</span><a href="#41043726">prev</a><span>|</span><a href="#41040089">next</a><span>|</span><label class="collapse" for="c-41041016">[-]</label><label class="expand" for="c-41041016">[1 more]</label></div><br/><div class="children"><div class="content">Can’t agree more with this, it does what it says!</div><br/></div></div></div></div><div id="41040089" class="c"><input type="checkbox" id="c-41040089" checked=""/><div class="controls bullet"><span class="by">yuumei</span><span>|</span><a href="#41040911">prev</a><span>|</span><a href="#41040341">next</a><span>|</span><label class="collapse" for="c-41040089">[-]</label><label class="expand" for="c-41040089">[3 more]</label></div><br/><div class="children"><div class="content">Has the btrfs sub volume quota bug been fixed yet? I always had issues when using it</div><br/><div id="41040781" class="c"><input type="checkbox" id="c-41040781" checked=""/><div class="controls bullet"><span class="by">sschueller</span><span>|</span><a href="#41040089">parent</a><span>|</span><a href="#41040341">next</a><span>|</span><label class="collapse" for="c-41040781">[-]</label><label class="expand" for="c-41040781">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know but synology uses BTRFS now as well and if something crucial like that was broken I don&#x27;t think they would support it on a NAS.</div><br/><div id="41040876" class="c"><input type="checkbox" id="c-41040876" checked=""/><div class="controls bullet"><span class="by">marcus0x62</span><span>|</span><a href="#41040089">root</a><span>|</span><a href="#41040781">parent</a><span>|</span><a href="#41040341">next</a><span>|</span><label class="collapse" for="c-41040876">[-]</label><label class="expand" for="c-41040876">[1 more]</label></div><br/><div class="children"><div class="content">Synology uses custom extensions to BTRFS for much of their functionality.</div><br/></div></div></div></div></div></div><div id="41040341" class="c"><input type="checkbox" id="c-41040341" checked=""/><div class="controls bullet"><span class="by">dmitrygr</span><span>|</span><a href="#41040089">prev</a><span>|</span><a href="#41040253">next</a><span>|</span><label class="collapse" for="c-41040341">[-]</label><label class="expand" for="c-41040341">[4 more]</label></div><br/><div class="children"><div class="content">&gt; similar to the System Restore feature in Windows and the Time Machine tool in Mac OS<p>This makes no sense! System Restore is a useless wart that just wastes time making &quot;restore points&quot; at every app&#x2F;driver install and can rarely (if ever) produce a working system when used to &quot;restore&quot; anything. It does not back up user data at all. Time Machine is a whole-system backup solution that seems to work quite well and does back up user data.<p>To me the quoted statement might as well read &quot;a tool similar to knitting needles (in hobby shops) and dremels (in machine shops)&quot;<p>Reading their description further, it seems like they are implementing something similar to TimeMachine (within the confines of what linux makes possible), and not at all like &quot;System Restore&quot;. This seems sane as this implements something that is actually useful. They, sadly, seem to gloss over what the consequences are of using non-btrfs FS with this tool, only mentioning that btrfs is needed for byte-exact snapshots. They do not mention what sort of byte-inexactness ext4 users should expect...</div><br/><div id="41041180" class="c"><input type="checkbox" id="c-41041180" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#41040341">parent</a><span>|</span><a href="#41040484">next</a><span>|</span><label class="collapse" for="c-41041180">[-]</label><label class="expand" for="c-41041180">[1 more]</label></div><br/><div class="children"><div class="content">They&#x27;re talking about the Volume Shadow Copy Service[1], which effectively provides snapshots[2] of the filesystem.<p>Which files are part of a shadow copy is determined by the one creating a shadow copy, so it could include user data.<p>You can view and access the files in a shadow copy using ShadowExplorer[3] if you don&#x27;t have the pro versions.<p>[1]: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows-server&#x2F;storage&#x2F;file-server&#x2F;volume-shadow-copy-service" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows-server&#x2F;storage&#x2F;fil...</a><p>[2]: <a href="https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;vss&#x2F;the-vss-model" rel="nofollow">https:&#x2F;&#x2F;learn.microsoft.com&#x2F;en-us&#x2F;windows&#x2F;win32&#x2F;vss&#x2F;the-vss-...</a><p>[3]: <a href="https:&#x2F;&#x2F;www.shadowexplorer.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.shadowexplorer.com&#x2F;</a></div><br/></div></div><div id="41040484" class="c"><input type="checkbox" id="c-41040484" checked=""/><div class="controls bullet"><span class="by">nijave</span><span>|</span><a href="#41040341">parent</a><span>|</span><a href="#41041180">prev</a><span>|</span><a href="#41040659">next</a><span>|</span><label class="collapse" for="c-41040484">[-]</label><label class="expand" for="c-41040484">[1 more]</label></div><br/><div class="children"><div class="content">I believe System Restore takes a registry backup and can recover from a bad driver install but it&#x27;s been years since I used it last. I think just about anything System Restore does can be replicated by &quot;just fixing it&quot; in Safe Mode but I think System Restore is geared for less technical folks.<p>Newer versions of Windows have File History to backup user data (I don&#x27;t think they have an integrated system&#x2F;file solution quite like Time Machine though).<p>However it makes some sense to keep system&#x2F;user data separate. You don&#x27;t want to lose your doc edits because you happened to have a bad driver upgrade at the same time. Likewise, you don&#x27;t want to roll your entire system back to get an old version of a doc.<p>Time Machine is trivial to implement (without the UI) with disk snapshots (that&#x27;s what it does--store disk snapshots to an external disk)</div><br/></div></div><div id="41040659" class="c"><input type="checkbox" id="c-41040659" checked=""/><div class="controls bullet"><span class="by">twodave</span><span>|</span><a href="#41040341">parent</a><span>|</span><a href="#41040484">prev</a><span>|</span><a href="#41040253">next</a><span>|</span><label class="collapse" for="c-41040659">[-]</label><label class="expand" for="c-41040659">[1 more]</label></div><br/><div class="children"><div class="content">My main use of system restore was to return to a “clean” install + just the bare minimum installs I needed back when windows was more likely to atrophy over time. I agree it is mostly useless today.</div><br/></div></div></div></div><div id="41040253" class="c"><input type="checkbox" id="c-41040253" checked=""/><div class="controls bullet"><span class="by">exe34</span><span>|</span><a href="#41040341">prev</a><span>|</span><a href="#41041773">next</a><span>|</span><label class="collapse" for="c-41040253">[-]</label><label class="expand" for="c-41040253">[3 more]</label></div><br/><div class="children"><div class="content">oh this brings back memories, i found a script that did this about 15 years ago. it kept three versions of backups using rsync and hard-links to avoid duplication.</div><br/><div id="41040504" class="c"><input type="checkbox" id="c-41040504" checked=""/><div class="controls bullet"><span class="by">nijave</span><span>|</span><a href="#41040253">parent</a><span>|</span><a href="#41041773">next</a><span>|</span><label class="collapse" for="c-41040504">[-]</label><label class="expand" for="c-41040504">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;rsnapshot.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;rsnapshot.org&#x2F;</a> ?</div><br/><div id="41043320" class="c"><input type="checkbox" id="c-41043320" checked=""/><div class="controls bullet"><span class="by">exe34</span><span>|</span><a href="#41040253">root</a><span>|</span><a href="#41040504">parent</a><span>|</span><a href="#41041773">next</a><span>|</span><label class="collapse" for="c-41043320">[-]</label><label class="expand" for="c-41043320">[1 more]</label></div><br/><div class="children"><div class="content">&gt; rsnapshot was originally based on an article called Easy Automated Snapshot-Style Backups with Linux and Rsync, by Mike Rubel.<p>must have been this one :-D thanks for finding it!</div><br/></div></div></div></div></div></div><div id="41041773" class="c"><input type="checkbox" id="c-41041773" checked=""/><div class="controls bullet"><span class="by">pmarreck</span><span>|</span><a href="#41040253">prev</a><span>|</span><a href="#41043535">next</a><span>|</span><label class="collapse" for="c-41041773">[-]</label><label class="expand" for="c-41041773">[1 more]</label></div><br/><div class="children"><div class="content">Yet another solution that is wholly unnecessary in NixOS. Nice idea, though, since you can too easily screw up every other Linux.</div><br/></div></div></div></div></div></div></div></body></html>