<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1737795674365" as="style"/><link rel="stylesheet" href="styles.css?v=1737795674365"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.quantamagazine.org/new-book-sorting-algorithm-almost-reaches-perfection-20250124/">New book-sorting algorithm almost reaches perfection</a> <span class="domain">(<a href="https://www.quantamagazine.org">www.quantamagazine.org</a>)</span></div><div class="subtext"><span>isaacfrond</span> | <span>47 comments</span></div><br/><div><div id="42815473" class="c"><input type="checkbox" id="c-42815473" checked=""/><div class="controls bullet"><span class="by">ColinDabritz</span><span>|</span><a href="#42819070">next</a><span>|</span><label class="collapse" for="c-42815473">[-]</label><label class="expand" for="c-42815473">[8 more]</label></div><br/><div class="children"><div class="content">&quot;Kuszmaul remembers being surprised that a tool normally used to ensure privacy could confer other benefits.&quot;<p>It was surprising to me too! But reflecting on it more closely, most performance isn&#x27;t about &quot;faster&quot; in a literal sense of &quot;more instructions run per time&quot;, but about carefully choosing how to do less work. The security property here being &quot;history independence&quot; is also in a way stating &quot;we don&#x27;t need to, and literally cannot, do any work that tracks history&quot;.<p>It&#x27;s definitely an interesting approach to performance, essentially using cryptography as a contraint to prevent more work. What properties do we need, and what properties can we ignore? The question becomes if we MUST ignore this property cryptographically, how does that affect the process and the related performance?<p>It certainly feels like it may be a useful perspective, a rigorous approach to performance that may be a path to more improvements in key cases.</div><br/><div id="42818888" class="c"><input type="checkbox" id="c-42818888" checked=""/><div class="controls bullet"><span class="by">Thorrez</span><span>|</span><a href="#42815473">parent</a><span>|</span><a href="#42817571">next</a><span>|</span><label class="collapse" for="c-42818888">[-]</label><label class="expand" for="c-42818888">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think what you&#x27;re saying is accurate. Your statement would be correct if the measure of how slow the algorithm is is how much compute time it takes.<p>But the measurement they&#x27;re actually using is how many books need to be moved. They&#x27;re free to use infinite compute time AIUI.</div><br/><div id="42819549" class="c"><input type="checkbox" id="c-42819549" checked=""/><div class="controls bullet"><span class="by">brookst</span><span>|</span><a href="#42815473">root</a><span>|</span><a href="#42818888">parent</a><span>|</span><a href="#42817571">next</a><span>|</span><label class="collapse" for="c-42819549">[-]</label><label class="expand" for="c-42819549">[1 more]</label></div><br/><div class="children"><div class="content">I think the point is that having less information available can improve performance because it eliminates processing of extraneous data.<p>Said another way, stateless approaches are simpler than stateful. There can be an instinct to optimize by using more information, but in this case at least, that was a red herring and adding the constraint improved the results.</div><br/></div></div></div></div><div id="42817571" class="c"><input type="checkbox" id="c-42817571" checked=""/><div class="controls bullet"><span class="by">pradn</span><span>|</span><a href="#42815473">parent</a><span>|</span><a href="#42818888">prev</a><span>|</span><a href="#42817101">next</a><span>|</span><label class="collapse" for="c-42817571">[-]</label><label class="expand" for="c-42817571">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a good insight. I had always thought the key to good algorithm &#x2F; data structure design was to use all the information present in the data set. For example, if you know a list is sorted, you can use binary sort. But perhaps choosing how much of it to omit is key, too. It comes up less often, however. I can&#x27;t think of a simple example.</div><br/><div id="42817642" class="c"><input type="checkbox" id="c-42817642" checked=""/><div class="controls bullet"><span class="by">koolba</span><span>|</span><a href="#42815473">root</a><span>|</span><a href="#42817571">parent</a><span>|</span><a href="#42819563">next</a><span>|</span><label class="collapse" for="c-42817642">[-]</label><label class="expand" for="c-42817642">[1 more]</label></div><br/><div class="children"><div class="content">&gt; But perhaps choosing how much of it to omit is key, too. It comes up less often, however. I can&#x27;t think of a simple example.<p>An example of that is a linked list with no particular sort order. By not caring about maintaining an order the insertion appends or preprends a node and is O(1).<p>As soon as you have to maintain any additional invariant, the insertion cost goes up. Either directly or amortized.</div><br/></div></div><div id="42819563" class="c"><input type="checkbox" id="c-42819563" checked=""/><div class="controls bullet"><span class="by">brookst</span><span>|</span><a href="#42815473">root</a><span>|</span><a href="#42817571">parent</a><span>|</span><a href="#42817642">prev</a><span>|</span><a href="#42817101">next</a><span>|</span><label class="collapse" for="c-42819563">[-]</label><label class="expand" for="c-42819563">[1 more]</label></div><br/><div class="children"><div class="content">A real world analogue is detective stories that work by adding irrelevant details and it’s up to the reader to filter down to the truly important details to solve the case.<p>To generalize it, if figuring out what information is important is more expensive than assuming none of it is, better to simplify.</div><br/></div></div></div></div><div id="42817101" class="c"><input type="checkbox" id="c-42817101" checked=""/><div class="controls bullet"><span class="by">nickburns</span><span>|</span><a href="#42815473">parent</a><span>|</span><a href="#42817571">prev</a><span>|</span><a href="#42815822">next</a><span>|</span><label class="collapse" for="c-42817101">[-]</label><label class="expand" for="c-42817101">[1 more]</label></div><br/><div class="children"><div class="content">So it&#x27;s basically a matter of figuring out what problem context can and should be selectively hidden from the algorithm in order to make it work &#x27;smarter&#x27; and not &#x27;harder.&#x27; Weird.</div><br/></div></div><div id="42815822" class="c"><input type="checkbox" id="c-42815822" checked=""/><div class="controls bullet"><span class="by">zeroonetwothree</span><span>|</span><a href="#42815473">parent</a><span>|</span><a href="#42817101">prev</a><span>|</span><a href="#42819070">next</a><span>|</span><label class="collapse" for="c-42815822">[-]</label><label class="expand" for="c-42815822">[1 more]</label></div><br/><div class="children"><div class="content">The actual better algorithm does use history dependence though. So I found this part of the article misleading.</div><br/></div></div></div></div><div id="42819070" class="c"><input type="checkbox" id="c-42819070" checked=""/><div class="controls bullet"><span class="by">teleforce</span><span>|</span><a href="#42815473">prev</a><span>|</span><a href="#42814733">next</a><span>|</span><label class="collapse" for="c-42819070">[-]</label><label class="expand" for="c-42819070">[1 more]</label></div><br/><div class="children"><div class="content">Am I the only one that&#x27;s trying to find the main papers that&#x27;re being described in the article both the original problem, and the near optimal algorithm paper [1],[2].<p>Apparently both of them are linked deep inside the article, perhaps Quanta can make it mandatory to list all the reference towards the end of the article, it will be very helpful for the readers.<p>[1] Nearly Optimal List Labeling:<p><a href="https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2405.00807" rel="nofollow">https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2405.00807</a><p>[2] A sparse table implementation of priority queues:<p><a href="https:&#x2F;&#x2F;link.springer.com&#x2F;chapter&#x2F;10.1007&#x2F;3-540-10843-2_34" rel="nofollow">https:&#x2F;&#x2F;link.springer.com&#x2F;chapter&#x2F;10.1007&#x2F;3-540-10843-2_34</a></div><br/></div></div><div id="42814733" class="c"><input type="checkbox" id="c-42814733" checked=""/><div class="controls bullet"><span class="by">acbart</span><span>|</span><a href="#42819070">prev</a><span>|</span><a href="#42814695">next</a><span>|</span><label class="collapse" for="c-42814733">[-]</label><label class="expand" for="c-42814733">[16 more]</label></div><br/><div class="children"><div class="content">I was actually just looking at this problem last week, when I realized I needed to keep items in a database table positioned arbitrarily, ideally without needing to manipulate the rest of the list. So if a user adds in a new element after element 5, that element becomes 6, without needing to update the original item that came after element 5. There are indeed very sophisticated algorithms to manage this problem and minimize theoretical bounds. But it also seemed like the simplest solution for this particular version of the problem is to just use fractional amounts, and occasionally pay a penalty to relayout the list.</div><br/><div id="42820254" class="c"><input type="checkbox" id="c-42820254" checked=""/><div class="controls bullet"><span class="by">funcDropShadow</span><span>|</span><a href="#42814733">parent</a><span>|</span><a href="#42815845">next</a><span>|</span><label class="collapse" for="c-42820254">[-]</label><label class="expand" for="c-42820254">[1 more]</label></div><br/><div class="children"><div class="content">Theoretically, using fractionals as list labels requires unbounded amounts of memory to store the fractions. In practice that is extremely limitted. But the difference becomes really a problem. If you are not just assigning ordered labels to a collection, but if you want to use these labels directly as array indices to store the elements. That would be a more literal modelling of the library sorting problem.</div><br/></div></div><div id="42815845" class="c"><input type="checkbox" id="c-42815845" checked=""/><div class="controls bullet"><span class="by">zeroonetwothree</span><span>|</span><a href="#42814733">parent</a><span>|</span><a href="#42820254">prev</a><span>|</span><a href="#42815595">next</a><span>|</span><label class="collapse" for="c-42815845">[-]</label><label class="expand" for="c-42815845">[4 more]</label></div><br/><div class="children"><div class="content">Wikipedia has a section on this algorithm under exponential labels: <a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;List-labeling_problem" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;List-labeling_problem</a><p>Basically it works as long as your label space is large compared to the number of items. The more sophisticated methods are necessary when that isn’t the case. For example, say you have 4 bytes for the label and 1 billion items.</div><br/><div id="42816118" class="c"><input type="checkbox" id="c-42816118" checked=""/><div class="controls bullet"><span class="by">crdrost</span><span>|</span><a href="#42814733">root</a><span>|</span><a href="#42815845">parent</a><span>|</span><a href="#42815595">next</a><span>|</span><label class="collapse" for="c-42816118">[-]</label><label class="expand" for="c-42816118">[3 more]</label></div><br/><div class="children"><div class="content">This sort of problem also occurs when you&#x27;re trying to do CRDTs, which can roughly be described also as &quot;design something that does Git better.&quot;<p>So e.g. to frame this, one approach to a CRDT is to just treat the document as a list of facts, &quot;line 1 is &#x27;foo&#x27;, line 2 is &#x27;bar&#x27;&quot;, and each fact has a number of times it has been asserted, and to &quot;merge&quot; you just add together the assertion counts, and then you can detect conflicts when a fact has been asserted more than once or fewer than zero times. So a patch says &quot;change line 2 to &#x27;baz&#x27;&quot;, this becomes &quot;unassert that line 2 is &#x27;bar&#x27;, assert that line 2 is &#x27;baz&#x27;&quot; and it conflicts with a patch that says &quot;change line 2 to &#x27;quux&#x27;&quot; because the fact &quot;line 2 is &#x27;bar&#x27;&quot; has an assertion count of -1.<p>But anyway, in this context you might want to allow inserting lines, and then you have the list-labeling problem, you don&#x27;t want the patch to unassert lines 4,5,6 just to insert a new line after line 3. So then an obvious thing is to just use a broader conception of numbers, say &quot;line 3.5 is &lt;X&gt;&quot; when you insert, and then we hide the line numbers from the user anyways, they don&#x27;t need to know that internally the line numbers of the 7 lines go &quot;1, 2, 3, 3.5, 4, 5, 6&quot;.<p>So then you need a relabeling step because you eventually have some line at 3.198246315 and you want to be able to say &quot;yeah, that&#x27;s actually line 27, let&#x27;s have some sanity again in this thing.&quot;<p>This also maybe hints at the fun of adding randomization, consider that one person might add line 3.5, then add line 3.75, and then remove line 3.5; meanwhile someone else might add a different line 3.5, add a line 3.25, and then remove their line 3.5, and these patches would both amount to &quot;assert line 3.25 is A, assert line 3.75 is B&quot;, and would merge without conflict. This means that <i>in general</i> if two people are messing with the same part of the same document asynchronously, this model is <i>not</i> able to consistently flag a merge failure in that case, but will sometimes instead just randomly order the lines that were added.<p>We can then just make that a feature rather than a fault: you don&#x27;t insert at 3.5, which is 3 + (4 - 3) &#x2F; 2, rather you insert at 3 + (4 — 3) * rand(). And then when two people both try to insert 12 lines between line 3 and 4 independently, when you merge them together, you get 24 lines from both, in their original orders but interleaved randomly, and like that&#x27;s not the end of the world, it might be legitimately better than just declaring a merge failure and harrumphing at the user.</div><br/><div id="42820067" class="c"><input type="checkbox" id="c-42820067" checked=""/><div class="controls bullet"><span class="by">phi-go</span><span>|</span><a href="#42814733">root</a><span>|</span><a href="#42816118">parent</a><span>|</span><a href="#42815595">next</a><span>|</span><label class="collapse" for="c-42820067">[-]</label><label class="expand" for="c-42820067">[2 more]</label></div><br/><div class="children"><div class="content">&gt; This sort of problem also occurs when you&#x27;re trying to do CRDTs, which can roughly be described also as &quot;design something that does Git better.&quot;<p>Aren&#x27;t the goals of git and CRDTs different. With git you want to get the merged result to be semantically correct. With CRDTs you want to achieve convergence (so no merge conflicts), as far as I know semantically correct convergence (not sure what to correct term is) is not really possible as it is too difficult to encode for CRDTs, though. Isn&#x27;t that why CRDTs are mostly used for multiplayer interactive applications where these kinds of mismatches are quickly seen?</div><br/><div id="42820259" class="c"><input type="checkbox" id="c-42820259" checked=""/><div class="controls bullet"><span class="by">funcDropShadow</span><span>|</span><a href="#42814733">root</a><span>|</span><a href="#42820067">parent</a><span>|</span><a href="#42815595">next</a><span>|</span><label class="collapse" for="c-42820259">[-]</label><label class="expand" for="c-42820259">[1 more]</label></div><br/><div class="children"><div class="content">The technically correct term -- at least in reduction systems -- would be confluence not convergence.</div><br/></div></div></div></div></div></div></div></div><div id="42815595" class="c"><input type="checkbox" id="c-42815595" checked=""/><div class="controls bullet"><span class="by">williamdclt</span><span>|</span><a href="#42814733">parent</a><span>|</span><a href="#42815845">prev</a><span>|</span><a href="#42820400">next</a><span>|</span><label class="collapse" for="c-42815595">[-]</label><label class="expand" for="c-42815595">[6 more]</label></div><br/><div class="children"><div class="content">Ha, I had this exact problem asked as an interview question.<p>IIRC their real life solution was to leave gaps between elements (eg index 0, 100, 200… instead of 0, 1, 2) and re index when needed. Probably works well enough, what I came up with is (as you say) the idea of fractional indexing, but dealing with decimals is a pain so you can instead represent them as vectors, which you can just represent as a string of numbers that you sort lexicographically.<p>So an element inserted between elements 1 and 2 gets an index 11 (anything between 11-19 is fine). Between 1 and 11 is 101. Between 11 and 2 is 12 (or anything between 12-19). Note that these indexes are not numbers, they’re string that are compared lexicographically.<p>I’m sure there’s downsides, eg it takes a lot more memory to sort these indexes (strings are much larger than numbers). It feels a bit too smart to not have unexpected downsides.</div><br/><div id="42816095" class="c"><input type="checkbox" id="c-42816095" checked=""/><div class="controls bullet"><span class="by">WalterBright</span><span>|</span><a href="#42814733">root</a><span>|</span><a href="#42815595">parent</a><span>|</span><a href="#42815668">next</a><span>|</span><label class="collapse" for="c-42816095">[-]</label><label class="expand" for="c-42816095">[1 more]</label></div><br/><div class="children"><div class="content">&gt; solution was to leave gaps between elements (eg index 0, 100, 200… instead of 0, 1, 2)<p>Reminds me of my days writing BASIC programs.</div><br/></div></div><div id="42815668" class="c"><input type="checkbox" id="c-42815668" checked=""/><div class="controls bullet"><span class="by">Etheryte</span><span>|</span><a href="#42814733">root</a><span>|</span><a href="#42815595">parent</a><span>|</span><a href="#42816095">prev</a><span>|</span><a href="#42816727">next</a><span>|</span><label class="collapse" for="c-42815668">[-]</label><label class="expand" for="c-42815668">[1 more]</label></div><br/><div class="children"><div class="content">Very similar to my first intuition on how to approach this problem. An interesting question that comes to mind is how should you pick index sizes and how often should you rebalance the whole thing. Make the index too large and you&#x27;re wasting a lot of space you&#x27;ll never need, too small and you&#x27;re forced to rebalance too often. I&#x27;m guessing an ideal index size is such that you can rebalance at most once a night with a cron job and then avoid rebalances the whole rest of the day.<p>To be fair, this sounds like one of those classic problems that someone for sure already figured out in the 50s or 60s, just under a different name and&#x2F;or context. Hash chaining is a similar idea, but not quite the same.</div><br/></div></div><div id="42816727" class="c"><input type="checkbox" id="c-42816727" checked=""/><div class="controls bullet"><span class="by">macNchz</span><span>|</span><a href="#42814733">root</a><span>|</span><a href="#42815595">parent</a><span>|</span><a href="#42815668">prev</a><span>|</span><a href="#42815792">next</a><span>|</span><label class="collapse" for="c-42816727">[-]</label><label class="expand" for="c-42816727">[1 more]</label></div><br/><div class="children"><div class="content">The &quot;real life&quot; solution of leaving gaps &amp; reindexing is actually my earliest programming memory (as a teenager)&#x2F;lesson in cleverness, of feeling like I <i>should</i> have been able to come up with a more clever&#x2F;optimal&#x2F;<i>~~scalable~~</i> solution but settling for this awkward 100 200 300 thing. Nowadays I&#x27;ve used that approach like...dozens of times over the decades of real world projects since, and I&#x27;m still maintaining that web app I made in 2003, so I&#x27;m very glad I never came up with something unduly clever.</div><br/></div></div><div id="42815792" class="c"><input type="checkbox" id="c-42815792" checked=""/><div class="controls bullet"><span class="by">zeroonetwothree</span><span>|</span><a href="#42814733">root</a><span>|</span><a href="#42815595">parent</a><span>|</span><a href="#42816727">prev</a><span>|</span><a href="#42816301">next</a><span>|</span><label class="collapse" for="c-42815792">[-]</label><label class="expand" for="c-42815792">[1 more]</label></div><br/><div class="children"><div class="content">That is how I implemented it at work around 9 years ago. Use strings for ordering and if you use the full byte range they end up fairly compact (rather than just 1-9 as in your example). There are some edge cases that can cause it to balloon in size so there is a separate reordering step but it almost never needs to be invoked.</div><br/></div></div><div id="42816301" class="c"><input type="checkbox" id="c-42816301" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#42814733">root</a><span>|</span><a href="#42815595">parent</a><span>|</span><a href="#42815792">prev</a><span>|</span><a href="#42820400">next</a><span>|</span><label class="collapse" for="c-42816301">[-]</label><label class="expand" for="c-42816301">[1 more]</label></div><br/><div class="children"><div class="content">&gt; IIRC their real life solution was to leave gaps between elements (eg index 0, 100, 200… instead of 0, 1, 2) and re index when needed. Probably works well enough, what I came up with is (as you say) the idea of fractional indexing<p>Those are the same thing. Leaving gaps is fractional indexing. It&#x27;s just fixed-point rather than floating point.<p>&gt; an element inserted between elements 1 and 2 gets an index 11 (anything between 11-19 is fine). Between 1 and 11 is 101. Between 11 and 2 is 12 (or anything between 12-19). Note that these indexes are not numbers, they’re string that are compared lexicographically.<p>This reminds me of the most interesting method of generating random integers in an arbitrary range from random bits: interpret the bitstream as a string representing a real number (in binary) between 0 and 1. If, for example, you want to use bits to generate a number between 0 and 5, you divide the unit interval into sixths, and examine bits until you&#x27;ve determined conclusively that your number lies within one of those intervals:<p><pre><code>     +---- 0 = 0.000000000... ---+
     |         0.000 -&gt; 0        |
     |         0.00100 -&gt; 0      |
     +-- 1&#x2F;6 = 0.001010101...  --+
     |         0.0011 -&gt; 1       |
     |         0.0100 -&gt; 1       |
     +-- 2&#x2F;6 = 0.010101010...  --+
     |         0.011 -&gt; 2        |
     +-- 3&#x2F;6 = 0.100000000...  --+
     |         0.100 -&gt; 3        |
     +-- 4&#x2F;6 = 0.101010101...  --+
     |         0.1011 -&gt; 4       |
     |         0.1100 -&gt; 4       |
     +-- 5&#x2F;6 = 0.110101010...  --+
     |         0.11011 -&gt; 5      |
     |         0.111 -&gt; 5        |
     +---------------------------+</code></pre></div><br/></div></div></div></div><div id="42820400" class="c"><input type="checkbox" id="c-42820400" checked=""/><div class="controls bullet"><span class="by">globular-toast</span><span>|</span><a href="#42814733">parent</a><span>|</span><a href="#42815595">prev</a><span>|</span><a href="#42815251">next</a><span>|</span><label class="collapse" for="c-42820400">[-]</label><label class="expand" for="c-42820400">[1 more]</label></div><br/><div class="children"><div class="content">A linked list? I guess you are forgetting to mention other requirements.</div><br/></div></div><div id="42815251" class="c"><input type="checkbox" id="c-42815251" checked=""/><div class="controls bullet"><span class="by">jes5199</span><span>|</span><a href="#42814733">parent</a><span>|</span><a href="#42820400">prev</a><span>|</span><a href="#42814755">next</a><span>|</span><label class="collapse" for="c-42815251">[-]</label><label class="expand" for="c-42815251">[1 more]</label></div><br/><div class="children"><div class="content">like line numbers in an old BASIC program</div><br/></div></div><div id="42814755" class="c"><input type="checkbox" id="c-42814755" checked=""/><div class="controls bullet"><span class="by">tetris11</span><span>|</span><a href="#42814733">parent</a><span>|</span><a href="#42815251">prev</a><span>|</span><a href="#42814695">next</a><span>|</span><label class="collapse" for="c-42814755">[-]</label><label class="expand" for="c-42814755">[2 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t that hash table chaining?</div><br/><div id="42815007" class="c"><input type="checkbox" id="c-42815007" checked=""/><div class="controls bullet"><span class="by">jon_richards</span><span>|</span><a href="#42814733">root</a><span>|</span><a href="#42814755">parent</a><span>|</span><a href="#42814695">next</a><span>|</span><label class="collapse" for="c-42815007">[-]</label><label class="expand" for="c-42815007">[1 more]</label></div><br/><div class="children"><div class="content">More like tree rebalancing.</div><br/></div></div></div></div></div></div><div id="42814695" class="c"><input type="checkbox" id="c-42814695" checked=""/><div class="controls bullet"><span class="by">baruchel</span><span>|</span><a href="#42814733">prev</a><span>|</span><a href="#42817387">next</a><span>|</span><label class="collapse" for="c-42814695">[-]</label><label class="expand" for="c-42814695">[4 more]</label></div><br/><div class="children"><div class="content">I recall presenting a problem to my students a few years ago based on the &#x27;Library Sort&#x27; algorithm. I still clearly remember the title of the original paper: &#x27;Insertion Sort is O(n log n)&#x27;.</div><br/><div id="42815519" class="c"><input type="checkbox" id="c-42815519" checked=""/><div class="controls bullet"><span class="by">deathanatos</span><span>|</span><a href="#42814695">parent</a><span>|</span><a href="#42815772">next</a><span>|</span><label class="collapse" for="c-42815519">[-]</label><label class="expand" for="c-42815519">[2 more]</label></div><br/><div class="children"><div class="content">Presumably this: <a href="https:&#x2F;&#x2F;www3.cs.stonybrook.edu&#x2F;~bender&#x2F;newpub&#x2F;BenderFaMo06-librarysort.pdf" rel="nofollow">https:&#x2F;&#x2F;www3.cs.stonybrook.edu&#x2F;~bender&#x2F;newpub&#x2F;BenderFaMo06-l...</a><p>Kind of a click-baity title.</div><br/><div id="42817638" class="c"><input type="checkbox" id="c-42817638" checked=""/><div class="controls bullet"><span class="by">foota</span><span>|</span><a href="#42814695">root</a><span>|</span><a href="#42815519">parent</a><span>|</span><a href="#42815772">next</a><span>|</span><label class="collapse" for="c-42817638">[-]</label><label class="expand" for="c-42817638">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s sort of click bait, but also true, right? This is just insertion sort using non-fixed indexing?</div><br/></div></div></div></div><div id="42815772" class="c"><input type="checkbox" id="c-42815772" checked=""/><div class="controls bullet"><span class="by">zeroonetwothree</span><span>|</span><a href="#42814695">parent</a><span>|</span><a href="#42815519">prev</a><span>|</span><a href="#42817387">next</a><span>|</span><label class="collapse" for="c-42815772">[-]</label><label class="expand" for="c-42815772">[1 more]</label></div><br/><div class="children"><div class="content">This is a different problem though, despite the similar name.</div><br/></div></div></div></div><div id="42817387" class="c"><input type="checkbox" id="c-42817387" checked=""/><div class="controls bullet"><span class="by">ryao</span><span>|</span><a href="#42814695">prev</a><span>|</span><a href="#42816191">next</a><span>|</span><label class="collapse" for="c-42817387">[-]</label><label class="expand" for="c-42817387">[3 more]</label></div><br/><div class="children"><div class="content">Is there any reason to think that this algorithm will actually be faster than what is currently done in practice?<p>For arrays in B-tree nodes, which is the main place where I have encountered this problem, I doubt it will be faster than just using `memmove()`, and for truly large arrays, it would be easier to use a B tree.<p>If that is the case, this joins a number of algorithms that are asymptotically faster than algorithms in use and paradoxically slower than them. Examples of such algorithms include all of the fast matrix multiplication algorithms, which are slower than good implementations of the the textbook O(n^3) algorithm (GEMM).</div><br/><div id="42817493" class="c"><input type="checkbox" id="c-42817493" checked=""/><div class="controls bullet"><span class="by">melvyn2</span><span>|</span><a href="#42817387">parent</a><span>|</span><a href="#42816191">next</a><span>|</span><label class="collapse" for="c-42817493">[-]</label><label class="expand" for="c-42817493">[2 more]</label></div><br/><div class="children"><div class="content">These are sometimes called Galactic Algorithms: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Galactic_algorithm" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Galactic_algorithm</a><p>The very first example on the page has a pretty good quote describing their usefulness:<p>&gt;&gt;&gt; An example of a galactic algorithm is the fastest known way to multiply two numbers, which is based on a 1729-dimensional Fourier transform. It needs O(n log n) bit operations, but as the constants hidden by the big O notation are large, it is never used in practice. However, it also shows why galactic algorithms may still be useful. The authors state: &quot;we are hopeful that with further refinements, the algorithm might become practical for numbers with merely billions or trillions of digits.&quot;</div><br/><div id="42817718" class="c"><input type="checkbox" id="c-42817718" checked=""/><div class="controls bullet"><span class="by">dchftcs</span><span>|</span><a href="#42817387">root</a><span>|</span><a href="#42817493">parent</a><span>|</span><a href="#42816191">next</a><span>|</span><label class="collapse" for="c-42817718">[-]</label><label class="expand" for="c-42817718">[1 more]</label></div><br/><div class="children"><div class="content">One interesting thing about working on numbers so large is that it becomes harder to assume that memory access is constant time. It&#x27;s already not that easy now (cache miss vs hit, and external memory), but when you operate on data sizes that large, memory accesses matter by at least the square or cube root of N. If you require largely sequential access it is possible to outperform an algorithm that requires conditional random access by some function of those factors, which can make some algorithms look much worse or better compared to the classical analysis. Of course, it still does not matter whether your algorithm is going to finish in a couple of trillion years or a trillion trillion years.</div><br/></div></div></div></div></div></div><div id="42816191" class="c"><input type="checkbox" id="c-42816191" checked=""/><div class="controls bullet"><span class="by">tetris11</span><span>|</span><a href="#42817387">prev</a><span>|</span><a href="#42816552">next</a><span>|</span><label class="collapse" for="c-42816191">[-]</label><label class="expand" for="c-42816191">[3 more]</label></div><br/><div class="children"><div class="content">Clean links for mobile users<p>Game: <a href="https:&#x2F;&#x2F;patorjk.com&#x2F;games&#x2F;subpixel-snake&#x2F;" rel="nofollow">https:&#x2F;&#x2F;patorjk.com&#x2F;games&#x2F;subpixel-snake&#x2F;</a>
Code: <a href="https:&#x2F;&#x2F;github.com&#x2F;patorjk&#x2F;subpixel-snake">https:&#x2F;&#x2F;github.com&#x2F;patorjk&#x2F;subpixel-snake</a><p>Resource for subpixel geometries: <a href="https:&#x2F;&#x2F;geometrian.com&#x2F;resources&#x2F;subpixelzoo&#x2F;" rel="nofollow">https:&#x2F;&#x2F;geometrian.com&#x2F;resources&#x2F;subpixelzoo&#x2F;</a></div><br/><div id="42816320" class="c"><input type="checkbox" id="c-42816320" checked=""/><div class="controls bullet"><span class="by">9dev</span><span>|</span><a href="#42816191">parent</a><span>|</span><a href="#42816280">next</a><span>|</span><label class="collapse" for="c-42816320">[-]</label><label class="expand" for="c-42816320">[1 more]</label></div><br/><div class="children"><div class="content">This probably belongs to the post on subpixel snake, not this one on the library sort algorithm :)</div><br/></div></div><div id="42816280" class="c"><input type="checkbox" id="c-42816280" checked=""/><div class="controls bullet"><span class="by">TheRealNGenius</span><span>|</span><a href="#42816191">parent</a><span>|</span><a href="#42816320">prev</a><span>|</span><a href="#42816552">next</a><span>|</span><label class="collapse" for="c-42816280">[-]</label><label class="expand" for="c-42816280">[1 more]</label></div><br/><div class="children"><div class="content">Wrong post</div><br/></div></div></div></div><div id="42816552" class="c"><input type="checkbox" id="c-42816552" checked=""/><div class="controls bullet"><span class="by">msmitha</span><span>|</span><a href="#42816191">prev</a><span>|</span><a href="#42815411">next</a><span>|</span><label class="collapse" for="c-42816552">[-]</label><label class="expand" for="c-42816552">[2 more]</label></div><br/><div class="children"><div class="content">I was shocked to discover how the British Library (millons of books, many many new ones every week) manages this. The first book to arrive earlier this year went on the shelf at 2025.0000001. The next went at 2025.0000002, right next to it. The electronic catalogue does the rest. No need to re-shuffle books around, but not a solution supportive of book-browsing.</div><br/><div id="42816762" class="c"><input type="checkbox" id="c-42816762" checked=""/><div class="controls bullet"><span class="by">crazygringo</span><span>|</span><a href="#42816552">parent</a><span>|</span><a href="#42815411">next</a><span>|</span><label class="collapse" for="c-42816762">[-]</label><label class="expand" for="c-42816762">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of how Amazon doesn&#x27;t arrange its items by similarity like a store does, so a model of vacuum cleaner might be next to a set of kitchen plates. They actually intentionally avoid similarities so pickers won&#x27;t accidentally grab a similar but wrong thing.<p>I lose track of so many infrequently used objects in my home -- which storage bin in which closet did I put the x-acto blade refills in? -- and one bin will overflow while another is half-empty because I try to keep similar items together. Sometimes I fantasize about tracking every possession in a spreadsheet that points to which bin, so I&#x27;d never lose anything and could always use storage space with maximum efficiency. But then I know I&#x27;d be lazy and skip updating the spreadsheet when I put something new away... plus it just seems so inhumanly weird, like something a robot would so rather than a person.</div><br/></div></div></div></div><div id="42815411" class="c"><input type="checkbox" id="c-42815411" checked=""/><div class="controls bullet"><span class="by">doodpants</span><span>|</span><a href="#42816552">prev</a><span>|</span><a href="#42816502">next</a><span>|</span><label class="collapse" for="c-42815411">[-]</label><label class="expand" for="c-42815411">[1 more]</label></div><br/><div class="children"><div class="content">Off topic, but now I want a screen saver of the animation at the top of the article...</div><br/></div></div><div id="42816502" class="c"><input type="checkbox" id="c-42816502" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#42815411">prev</a><span>|</span><a href="#42815373">next</a><span>|</span><label class="collapse" for="c-42816502">[-]</label><label class="expand" for="c-42816502">[3 more]</label></div><br/><div class="children"><div class="content">&gt; lowering the upper bound to (log n) times (log log n)^3 — equivalent to (log n)^(1.000...1)<p>This is true! One of the things I find cool about big-O complexity using polynomial reference classes is that logarithms give you an infinitesimal value. Take that, &quot;infinitesimals don&#x27;t really exist&quot; people!</div><br/><div id="42817659" class="c"><input type="checkbox" id="c-42817659" checked=""/><div class="controls bullet"><span class="by">sfelicio</span><span>|</span><a href="#42816502">parent</a><span>|</span><a href="#42815373">next</a><span>|</span><label class="collapse" for="c-42817659">[-]</label><label class="expand" for="c-42817659">[2 more]</label></div><br/><div class="children"><div class="content">Wait. What?
Do you have a reference where I can learn about this?</div><br/><div id="42819790" class="c"><input type="checkbox" id="c-42819790" checked=""/><div class="controls bullet"><span class="by">thaumasiotes</span><span>|</span><a href="#42816502">root</a><span>|</span><a href="#42817659">parent</a><span>|</span><a href="#42815373">next</a><span>|</span><label class="collapse" for="c-42819790">[-]</label><label class="expand" for="c-42819790">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t really understand what you&#x27;re asking for. You can easily just verify the claim for yourself.<p>The limit as x goes to infinity of (ln x) &#x2F; (x^k) is zero for all positive k. So if you want to approximate the behavior of a logarithm with a function of the form f(x) = x^k, k must be greater than 0 [because x^0 = o(ln x)], but less than every positive real number. This is the definition of an infinitesimal.<p>That&#x27;s why it makes sense to say that x (log x)^3 is equivalent to x^{1.000000...[infinite 0s]...1}. Though in this analogy, it&#x27;s more like x^{1.000000...3}.</div><br/></div></div></div></div></div></div><div id="42815373" class="c"><input type="checkbox" id="c-42815373" checked=""/><div class="controls bullet"><span class="by">aladinn57</span><span>|</span><a href="#42816502">prev</a><span>|</span><a href="#42815135">next</a><span>|</span><label class="collapse" for="c-42815373">[-]</label><label class="expand" for="c-42815373">[2 more]</label></div><br/><div class="children"><div class="content">Sounds promising! What&#x27;s the key innovation behind it?</div><br/></div></div><div id="42815135" class="c"><input type="checkbox" id="c-42815135" checked=""/><div class="controls bullet"><span class="by">AstroJetson</span><span>|</span><a href="#42815373">prev</a><span>|</span><label class="collapse" for="c-42815135">[-]</label><label class="expand" for="c-42815135">[3 more]</label></div><br/><div class="children"><div class="content">Cool.  This is Lisa and Laura, they are my two retired teachers that are now helping in the library to sort shelves.<p>Can you explain to them what you want them to now do?<p>I read the paper and I would like to say, it&#x27;s confusing at best.  But I&#x27;m hoping you can help out.</div><br/><div id="42815617" class="c"><input type="checkbox" id="c-42815617" checked=""/><div class="controls bullet"><span class="by">gessha</span><span>|</span><a href="#42815135">parent</a><span>|</span><label class="collapse" for="c-42815617">[-]</label><label class="expand" for="c-42815617">[2 more]</label></div><br/><div class="children"><div class="content">A lot of things are confusing at first but then we discover intuitive ways to explain and teach them to others.<p>Also, don’t discredit the intelligence of retirees, teachers and librarians in the same post. It’s bad for karma and makes you sound like a douche. I’m sure they can figure it out.</div><br/><div id="42815692" class="c"><input type="checkbox" id="c-42815692" checked=""/><div class="controls bullet"><span class="by">AstroJetson</span><span>|</span><a href="#42815135">root</a><span>|</span><a href="#42815617">parent</a><span>|</span><label class="collapse" for="c-42815692">[-]</label><label class="expand" for="c-42815692">[1 more]</label></div><br/><div class="children"><div class="content">Wasn&#x27;t my intent.  The article was &quot;how to do this&quot; with lots of great pictures.  Linked page was full of high level math.  I was mocking the &quot;This one simple trick can make your shelves full&quot; attitude.<p>So you answered and I&#x27;ll ask, &quot;what do they do, it does not seem simple&quot; except for the Database people filling ....<p>Thanks (former teacher)</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>