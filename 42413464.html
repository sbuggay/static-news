<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1734166872139" as="style"/><link rel="stylesheet" href="styles.css?v=1734166872139"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/ellenhp/farebox">Show HN: Performant intracontinental public transport routing in Rust</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>ellenhp</span> | <span>13 comments</span></div><br/><div><div id="42414879" class="c"><input type="checkbox" id="c-42414879" checked=""/><div class="controls bullet"><span class="by">danielhep</span><span>|</span><a href="#42414655">next</a><span>|</span><label class="collapse" for="c-42414879">[-]</label><label class="expand" for="c-42414879">[4 more]</label></div><br/><div class="children"><div class="content">My day job is OpenTripPlanner work, so I absolutely love to see this. I&#x27;ve long thought about what a RAPTOR engine would look like written in Rust. So cool that you&#x27;ve done it. You should share this in the OTP Gitter chat if you haven&#x27;t already, the people there would love to see it. I wonder if this would be small enough to run on a phone? I have thought about offline trip planning on a phone, but running OTP is out of the question as a graph can be gigabytes and take minutes to load.</div><br/><div id="42415605" class="c"><input type="checkbox" id="c-42415605" checked=""/><div class="controls bullet"><span class="by">ellenhp</span><span>|</span><a href="#42414879">parent</a><span>|</span><a href="#42414655">next</a><span>|</span><label class="collapse" for="c-42415605">[-]</label><label class="expand" for="c-42415605">[3 more]</label></div><br/><div class="children"><div class="content">It&#x27;s after midnight here so take this with a grain of salt but the generated timetable for the puget sound is taking up about 40 MiB on-disk and the server process is using 100k of RAM I think. Most of the timetable is zero-copy so it can be memory mapped on a platform that supports it. So yes, I think it would run on a phone. See also mobroute, which powers Transito<p><a href="https:&#x2F;&#x2F;git.sr.ht&#x2F;~mil&#x2F;mobroute" rel="nofollow">https:&#x2F;&#x2F;git.sr.ht&#x2F;~mil&#x2F;mobroute</a><p><a href="https:&#x2F;&#x2F;git.sr.ht&#x2F;~mil&#x2F;transito" rel="nofollow">https:&#x2F;&#x2F;git.sr.ht&#x2F;~mil&#x2F;transito</a></div><br/><div id="42415624" class="c"><input type="checkbox" id="c-42415624" checked=""/><div class="controls bullet"><span class="by">danielhep</span><span>|</span><a href="#42414879">root</a><span>|</span><a href="#42415605">parent</a><span>|</span><a href="#42414655">next</a><span>|</span><label class="collapse" for="c-42415624">[-]</label><label class="expand" for="c-42415624">[2 more]</label></div><br/><div class="children"><div class="content">Just curious, are you based in the Puget sound? I&#x27;m in Seattle so it would be a funny coincidence.</div><br/><div id="42415647" class="c"><input type="checkbox" id="c-42415647" checked=""/><div class="controls bullet"><span class="by">ellenhp</span><span>|</span><a href="#42414879">root</a><span>|</span><a href="#42415624">parent</a><span>|</span><a href="#42414655">next</a><span>|</span><label class="collapse" for="c-42415647">[-]</label><label class="expand" for="c-42415647">[1 more]</label></div><br/><div class="children"><div class="content">I sure am! Feel free to email me if you want, I&#x27;d love to chat about OTP, transit and maps in general.</div><br/></div></div></div></div></div></div></div></div><div id="42414655" class="c"><input type="checkbox" id="c-42414655" checked=""/><div class="controls bullet"><span class="by">arcticbull</span><span>|</span><a href="#42414879">prev</a><span>|</span><a href="#42414118">next</a><span>|</span><label class="collapse" for="c-42414655">[-]</label><label class="expand" for="c-42414655">[1 more]</label></div><br/><div class="children"><div class="content">Love this. I really enjoy seeing people build tooling and infrastructure around public transit.<p>[edit] As someone who reads and writes (and reviews) a ton of writing and technical documentation -- and is very picky about it -- there is nothing at all wrong with this writing style. Literally my only nit is consider incorporating URL shortening, I always bristle at %20 in URIs. Especially ones that wrap.</div><br/></div></div><div id="42414118" class="c"><input type="checkbox" id="c-42414118" checked=""/><div class="controls bullet"><span class="by">epcoa</span><span>|</span><a href="#42414655">prev</a><span>|</span><a href="#42415275">next</a><span>|</span><label class="collapse" for="c-42414118">[-]</label><label class="expand" for="c-42414118">[2 more]</label></div><br/><div class="children"><div class="content">This is very cool.<p>But, bus from New York to St Louis and then backtrack on Amtrak. Ouch. I know the train options from NYP to CHI are slow, but I didn’t think they’re that slow (they’re not)! Nevermind having to take a greyhound for 1000 miles.</div><br/><div id="42414259" class="c"><input type="checkbox" id="c-42414259" checked=""/><div class="controls bullet"><span class="by">ellenhp</span><span>|</span><a href="#42414118">parent</a><span>|</span><a href="#42415275">next</a><span>|</span><label class="collapse" for="c-42414259">[-]</label><label class="expand" for="c-42414259">[1 more]</label></div><br/><div class="children"><div class="content">Yeah I strongly suspect that there&#x27;s something in the GTFS spec that I&#x27;m missing that&#x27;s resulting in some vehicle journeys not being added to the timetable. This would also explain why it completely fails to find routes on the return trips for some of the examples. I&#x27;m still pretty stoked about it and hopeful I&#x27;ll get the bugs ironed out. :)<p>edit: also if you look at the Berlin to Barcelona trip you&#x27;ll see a bus, which makes no sense to me whatsoever, so I suspect that some of the high speed rail trips didn&#x27;t make it from the GTFS feed into the packed timetable that I&#x27;m serving itineraries from.</div><br/></div></div></div></div><div id="42415275" class="c"><input type="checkbox" id="c-42415275" checked=""/><div class="controls bullet"><span class="by">sebosp</span><span>|</span><a href="#42414118">prev</a><span>|</span><a href="#42415316">next</a><span>|</span><label class="collapse" for="c-42415275">[-]</label><label class="expand" for="c-42415275">[1 more]</label></div><br/><div class="children"><div class="content">Wow this is super cool! Will you use something to draw this on a map? If so what? Is it the same data format available in Europe and North America? What is something you suspected was going to be trivial and turned out to be extremely difficult?</div><br/></div></div><div id="42415316" class="c"><input type="checkbox" id="c-42415316" checked=""/><div class="controls bullet"><span class="by">DennisL123</span><span>|</span><a href="#42415275">prev</a><span>|</span><a href="#42415401">next</a><span>|</span><label class="collapse" for="c-42415316">[-]</label><label class="expand" for="c-42415316">[1 more]</label></div><br/><div class="children"><div class="content">Love it</div><br/></div></div><div id="42415401" class="c"><input type="checkbox" id="c-42415401" checked=""/><div class="controls bullet"><span class="by">kurokawad</span><span>|</span><a href="#42415316">prev</a><span>|</span><label class="collapse" for="c-42415401">[-]</label><label class="expand" for="c-42415401">[3 more]</label></div><br/><div class="children"><div class="content">The fact that the software being written in Rust is supposed to be valuable information to be put in the title is interesting.<p>Nobody would say “Performant intracontinental public transport routing in C++”, or any other combination. It’s just something around the Rust language.</div><br/><div id="42415503" class="c"><input type="checkbox" id="c-42415503" checked=""/><div class="controls bullet"><span class="by">TheSisb2</span><span>|</span><a href="#42415401">parent</a><span>|</span><a href="#42415487">next</a><span>|</span><label class="collapse" for="c-42415503">[-]</label><label class="expand" for="c-42415503">[1 more]</label></div><br/><div class="children"><div class="content">It depends on a number of factors, one of which is how the authors perceive the work. Does it stand on its own merits or is it interesting because of the technical decisions? Sometimes it starts as a technical exploration and outgrows itself faster than the author can come to terms with the magnitude of the work.</div><br/></div></div><div id="42415487" class="c"><input type="checkbox" id="c-42415487" checked=""/><div class="controls bullet"><span class="by">schmichael</span><span>|</span><a href="#42415401">parent</a><span>|</span><a href="#42415503">prev</a><span>|</span><label class="collapse" for="c-42415487">[-]</label><label class="expand" for="c-42415487">[1 more]</label></div><br/><div class="children"><div class="content">A quick search of “c++” on HN shows many C++ related posts explicitly mention the language. I would assume many other language specific posts also name the language they’re using to save uninterested parties a click. There’s really nothing particularly interesting about this: it’s a fairly natural pattern in a multilingual community like HN.</div><br/></div></div></div></div></div></div></div></div></div></body></html>