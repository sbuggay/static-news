<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1705136466852" as="style"/><link rel="stylesheet" href="styles.css?v=1705136466852"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.freudenjmp.com/posts/no-user-logon/">A decade-old Steam bug</a> <span class="domain">(<a href="https://blog.freudenjmp.com">blog.freudenjmp.com</a>)</span></div><div class="subtext"><span>freudenjmp</span> | <span>23 comments</span></div><br/><div><div id="38977836" class="c"><input type="checkbox" id="c-38977836" checked=""/><div class="controls bullet"><span class="by">iancarroll</span><span>|</span><a href="#38977129">next</a><span>|</span><label class="collapse" for="c-38977836">[-]</label><label class="expand" for="c-38977836">[1 more]</label></div><br/><div class="children"><div class="content">I believe the flow in the diagram is what Steam calls Session Tickets and is a bit more nuanced. The game client requests session tickets from Steam&#x27;s server, then it provides the game server with a ticket proving they are a given Steam ID. The game server then has to go online to Steam&#x27;s web API and verify it to ensure it has not been used multiple times or tampered with. It sounds like the CS2 client is not handling a delayed response for obtaining a session ticket.<p>The flow is detailed here[0]. The flow the article diagram suggests would be a bit concerning since an attacker could race a victim Steam ID to join a server, etc.<p>[0] <a href="https:&#x2F;&#x2F;partner.steamgames.com&#x2F;doc&#x2F;features&#x2F;auth#3" rel="nofollow">https:&#x2F;&#x2F;partner.steamgames.com&#x2F;doc&#x2F;features&#x2F;auth#3</a></div><br/></div></div><div id="38977129" class="c"><input type="checkbox" id="c-38977129" checked=""/><div class="controls bullet"><span class="by">freudenjmp</span><span>|</span><a href="#38977836">prev</a><span>|</span><a href="#38978066">next</a><span>|</span><label class="collapse" for="c-38977129">[-]</label><label class="expand" for="c-38977129">[6 more]</label></div><br/><div class="children"><div class="content">Hello HN,<p>this is my first detailed blog post about one of the most annoying bugs I have ever come across in my life.<p>Hope you like it and I&#x27;d love to get feedback :)</div><br/><div id="38977969" class="c"><input type="checkbox" id="c-38977969" checked=""/><div class="controls bullet"><span class="by">wokwokwok</span><span>|</span><a href="#38977129">parent</a><span>|</span><a href="#38977789">next</a><span>|</span><label class="collapse" for="c-38977969">[-]</label><label class="expand" for="c-38977969">[1 more]</label></div><br/><div class="children"><div class="content">Great write up!<p>My only comment here is that the trail in the article and the conclusion don&#x27;t quite make sense (well, they do, but you&#x27;ve kind of glossed over it slightly):<p>&gt; The way Counter-Strike is started: the blame factor is 90%<p>But also:<p>&gt; We could confirm that players world wide are facing the issue outside of Esportal and thought it indeed is caused by some maintenance in the middle of the night in Washington.<p>Those can&#x27;t both be true.<p>If the blame is 90% about the way counter strike is started, then the issue wouldn&#x27;t be distributed over the maint window.<p>Rather, it seems like <i>this</i> is the key part that should be highlighted in the summary:<p>&gt; So the last thing that happens before the game loop is started is that the Steam ID validation is initiated.<p>&gt; When the initialization of levelload is incomplete (speak: CS2 has not been fully loaded&#x2F;initialized), the Steam3 validation is never initiated because it is the last thing that loop wants to do.<p>Which is to say, that when the `steam3` server is as slow as balls during a maint window, it <i>makes this take longer</i>, which means you&#x27;re more likely to interrupt the loop by starting a game.<p>So when you say:<p>&gt; The way Counter-Strike is started: the blame factor is 90%<p>It&#x27;s true.... but maybe it&#x27;s also true to say:<p>&gt; State of the moon: blame factor is 3% &lt;--- isn&#x27;t quite right, since this is basically the maint window?<p>Maybe the advice should also be: &#x27;and give is an <i>extra</i> couple of minutes during 13-17 PM CET, because Value does maint in that window&#x27;<p>...if I understood that correctly. :)<p>Either way, this has happened to me, but this &#x27;just wait a while and let it finish loading&#x27; solution is by far the most useful sensible advice about it I&#x27;ve ever heard. Fantastic stuff.</div><br/></div></div><div id="38977789" class="c"><input type="checkbox" id="c-38977789" checked=""/><div class="controls bullet"><span class="by">yreg</span><span>|</span><a href="#38977129">parent</a><span>|</span><a href="#38977969">prev</a><span>|</span><a href="#38977815">next</a><span>|</span><label class="collapse" for="c-38977789">[-]</label><label class="expand" for="c-38977789">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I&#x27;d love to get feedback<p>You start the article with a tl;dr for people who came from google searching for a solution for the issue. How considerate!<p>But then you proceed to tell them what not to do and hide the actionable advice in a single sentence within a kilometer long article :)<p>My suggestion would be to add the workaround to the tl;dr.</div><br/><div id="38977801" class="c"><input type="checkbox" id="c-38977801" checked=""/><div class="controls bullet"><span class="by">Dalewyn</span><span>|</span><a href="#38977129">root</a><span>|</span><a href="#38977789">parent</a><span>|</span><a href="#38977815">next</a><span>|</span><label class="collapse" for="c-38977801">[-]</label><label class="expand" for="c-38977801">[1 more]</label></div><br/><div class="children"><div class="content">&gt;a kilometer long article<p>About 25 Page Downs in computational units, or CTRL+F in freedom units.</div><br/></div></div></div></div><div id="38977815" class="c"><input type="checkbox" id="c-38977815" checked=""/><div class="controls bullet"><span class="by">rkunde</span><span>|</span><a href="#38977129">parent</a><span>|</span><a href="#38977789">prev</a><span>|</span><a href="#38977396">next</a><span>|</span><label class="collapse" for="c-38977815">[-]</label><label class="expand" for="c-38977815">[1 more]</label></div><br/><div class="children"><div class="content">Great write up, but it left me with a few questions:<p>* Is levelloadloop only executed when the game launches, not when joining a server and loading the map?
* If the issues is that the loop is shut down before the steam auth process is started, why would the maintenance-related slowness matter?</div><br/></div></div><div id="38977396" class="c"><input type="checkbox" id="c-38977396" checked=""/><div class="controls bullet"><span class="by">asynchronous</span><span>|</span><a href="#38977129">parent</a><span>|</span><a href="#38977815">prev</a><span>|</span><a href="#38978066">next</a><span>|</span><label class="collapse" for="c-38977396">[-]</label><label class="expand" for="c-38977396">[1 more]</label></div><br/><div class="children"><div class="content">Great write up, amazingly thorough and interesting to read. We will watch your career with great interest</div><br/></div></div></div></div><div id="38978066" class="c"><input type="checkbox" id="c-38978066" checked=""/><div class="controls bullet"><span class="by">korhojoa</span><span>|</span><a href="#38977129">prev</a><span>|</span><a href="#38977758">next</a><span>|</span><label class="collapse" for="c-38978066">[-]</label><label class="expand" for="c-38978066">[1 more]</label></div><br/><div class="children"><div class="content">This was a great read. I wonder if the reason for the game client surprise crashing could be investigated the same way? Do the executable integrity checks run during runtime? What if one of those fails while it’s running, do you get a different disconnection message?<p>I feel like this should be rewarded in the same way as the GTA V takes forever to load-writeup. <a href="https:&#x2F;&#x2F;nee.lv&#x2F;2021&#x2F;02&#x2F;28&#x2F;How-I-cut-GTA-Online-loading-times-by-70&#x2F;" rel="nofollow">https:&#x2F;&#x2F;nee.lv&#x2F;2021&#x2F;02&#x2F;28&#x2F;How-I-cut-GTA-Online-loading-times...</a></div><br/></div></div><div id="38977758" class="c"><input type="checkbox" id="c-38977758" checked=""/><div class="controls bullet"><span class="by">mjevans</span><span>|</span><a href="#38978066">prev</a><span>|</span><a href="#38977582">next</a><span>|</span><label class="collapse" for="c-38977758">[-]</label><label class="expand" for="c-38977758">[1 more]</label></div><br/><div class="children"><div class="content">The real bug is that finalizing authentication isn&#x27;t a hard requirement for beginning (non LAN) multiplayer.</div><br/></div></div><div id="38977582" class="c"><input type="checkbox" id="c-38977582" checked=""/><div class="controls bullet"><span class="by">WirelessGigabit</span><span>|</span><a href="#38977758">prev</a><span>|</span><a href="#38977693">next</a><span>|</span><label class="collapse" for="c-38977582">[-]</label><label class="expand" for="c-38977582">[5 more]</label></div><br/><div class="children"><div class="content">I feel that drawing weapons has gotten slower in CS2. I wish they dropped the &#x27;pull back on the charging handle&#x27; every time you draw the gun. (and I miss my custom sprays from CS: Source).<p>But apart from that, even though I&#x27;ve played CS since 1.4 I have never ever had the bug mentioned above.</div><br/><div id="38977654" class="c"><input type="checkbox" id="c-38977654" checked=""/><div class="controls bullet"><span class="by">M3L0NM4N</span><span>|</span><a href="#38977582">parent</a><span>|</span><a href="#38977753">next</a><span>|</span><label class="collapse" for="c-38977654">[-]</label><label class="expand" for="c-38977654">[3 more]</label></div><br/><div class="children"><div class="content">If we’re nitpicking the gunplay (which I am perfectly okay with doing), how about adding in the fact that reloading with one in the chamber doesn’t give you a +1 round either? It’s like the concept of a chamber is completely ignored.</div><br/><div id="38977712" class="c"><input type="checkbox" id="c-38977712" checked=""/><div class="controls bullet"><span class="by">jakogut</span><span>|</span><a href="#38977582">root</a><span>|</span><a href="#38977654">parent</a><span>|</span><a href="#38977753">next</a><span>|</span><label class="collapse" for="c-38977712">[-]</label><label class="expand" for="c-38977712">[2 more]</label></div><br/><div class="children"><div class="content">Try Insurgency: Sandstorm. It&#x27;s a completely different style of gameplay, but in addition to properly simulating a chamber, it also properly simulates magazines. Reloading retains a used magazine rather than dumping the ammo back into a fungible pool. Double tapping the reload key allows for dropping the mag for a slightly faster reload. Once you&#x27;ve cycled through your supply of fresh mags, loading a used mag leaves you with the same number of rounds as when you discarded it.</div><br/><div id="38978280" class="c"><input type="checkbox" id="c-38978280" checked=""/><div class="controls bullet"><span class="by">M3L0NM4N</span><span>|</span><a href="#38977582">root</a><span>|</span><a href="#38977712">parent</a><span>|</span><a href="#38977753">next</a><span>|</span><label class="collapse" for="c-38978280">[-]</label><label class="expand" for="c-38978280">[1 more]</label></div><br/><div class="children"><div class="content">Ah, I do play Squad and it is a similar system, as far as I know it’s only missing the double tap to drop the mag.</div><br/></div></div></div></div></div></div><div id="38977753" class="c"><input type="checkbox" id="c-38977753" checked=""/><div class="controls bullet"><span class="by">j5155</span><span>|</span><a href="#38977582">parent</a><span>|</span><a href="#38977654">prev</a><span>|</span><a href="#38977693">next</a><span>|</span><label class="collapse" for="c-38977753">[-]</label><label class="expand" for="c-38977753">[1 more]</label></div><br/><div class="children"><div class="content">If I understand the blog post correctly, this bug only happens when you play CS2 during Washington nighttime.</div><br/></div></div></div></div><div id="38977693" class="c"><input type="checkbox" id="c-38977693" checked=""/><div class="controls bullet"><span class="by">timeimp</span><span>|</span><a href="#38977582">prev</a><span>|</span><a href="#38977817">next</a><span>|</span><label class="collapse" for="c-38977693">[-]</label><label class="expand" for="c-38977693">[1 more]</label></div><br/><div class="children"><div class="content">This was a fantastic write-up!<p>Loops are hard and its even more amusing how optimistic CS2.exe runs when you supply the server to connect to.</div><br/></div></div><div id="38977816" class="c"><input type="checkbox" id="c-38977816" checked=""/><div class="controls bullet"><span class="by">sssilver</span><span>|</span><a href="#38977817">prev</a><span>|</span><a href="#38977468">next</a><span>|</span><label class="collapse" for="c-38977816">[-]</label><label class="expand" for="c-38977816">[1 more]</label></div><br/><div class="children"><div class="content">What a treat to read</div><br/></div></div><div id="38977468" class="c"><input type="checkbox" id="c-38977468" checked=""/><div class="controls bullet"><span class="by">renewiltord</span><span>|</span><a href="#38977816">prev</a><span>|</span><a href="#38977944">next</a><span>|</span><label class="collapse" for="c-38977468">[-]</label><label class="expand" for="c-38977468">[1 more]</label></div><br/><div class="children"><div class="content">Very detailed writeup. Nice work, man! Great read. It&#x27;s been half a decade since I used to play CS:Go but this was a fun read!</div><br/></div></div></div></div></div></div></div></body></html>