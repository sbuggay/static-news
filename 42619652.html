<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1736240477098" as="style"/><link rel="stylesheet" href="styles.css?v=1736240477098"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://nicholas.carlini.com/writing/2025/regex-chess.html">Playing Chess with 84,688 Regular Expressions</a> <span class="domain">(<a href="https://nicholas.carlini.com">nicholas.carlini.com</a>)</span></div><div class="subtext"><span>ilya_m</span> | <span>31 comments</span></div><br/><div><div id="42619868" class="c"><input type="checkbox" id="c-42619868" checked=""/><div class="controls bullet"><span class="by">basementcat</span><span>|</span><a href="#42620275">next</a><span>|</span><label class="collapse" for="c-42619868">[-]</label><label class="expand" for="c-42619868">[6 more]</label></div><br/><div class="children"><div class="content">This is from the same gentleman who (among other things) demonstrated that printf() is Turing complete and wrote a first person shooter in 13kB of Javascript.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;HexHive&#x2F;printbf">https:&#x2F;&#x2F;github.com&#x2F;HexHive&#x2F;printbf</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;carlini&#x2F;js13k2019-yet-another-doom-clone">https:&#x2F;&#x2F;github.com&#x2F;carlini&#x2F;js13k2019-yet-another-doom-clone</a></div><br/><div id="42620103" class="c"><input type="checkbox" id="c-42620103" checked=""/><div class="controls bullet"><span class="by">wodenokoto</span><span>|</span><a href="#42619868">parent</a><span>|</span><a href="#42620513">next</a><span>|</span><label class="collapse" for="c-42620103">[-]</label><label class="expand" for="c-42620103">[1 more]</label></div><br/><div class="children"><div class="content">&gt; demonstrated that printf() is Turing complete and wrote a first person shooter in ...<p>Not gonna lie, I thought that sentence would end with the FPS being done in printf.</div><br/></div></div><div id="42620513" class="c"><input type="checkbox" id="c-42620513" checked=""/><div class="controls bullet"><span class="by">albertzeyer</span><span>|</span><a href="#42619868">parent</a><span>|</span><a href="#42620103">prev</a><span>|</span><a href="#42620327">next</a><span>|</span><label class="collapse" for="c-42620513">[-]</label><label class="expand" for="c-42620513">[1 more]</label></div><br/><div class="children"><div class="content">The development writeup for the Doom is interesting, with many details. <a href="https:&#x2F;&#x2F;nicholas.carlini.com&#x2F;writing&#x2F;2019&#x2F;javascript-doom-clone-13k.html" rel="nofollow">https:&#x2F;&#x2F;nicholas.carlini.com&#x2F;writing&#x2F;2019&#x2F;javascript-doom-cl...</a><p>There was one month time to complete the competition. But it seems you were allowed to reuse any existing other code.<p>Looks like this was quite fun to work on.<p>(I feel a bit sad that I would never be able to get one month of free time to work on this now, due to family and job...)</div><br/></div></div><div id="42620327" class="c"><input type="checkbox" id="c-42620327" checked=""/><div class="controls bullet"><span class="by">ThrowawayTestr</span><span>|</span><a href="#42619868">parent</a><span>|</span><a href="#42620513">prev</a><span>|</span><a href="#42620275">next</a><span>|</span><label class="collapse" for="c-42620327">[-]</label><label class="expand" for="c-42620327">[3 more]</label></div><br/><div class="children"><div class="content">Your scientists were so preoccupied with whether or not they could that they didn&#x27;t stop to think if they should.</div><br/><div id="42620533" class="c"><input type="checkbox" id="c-42620533" checked=""/><div class="controls bullet"><span class="by">noduerme</span><span>|</span><a href="#42619868">root</a><span>|</span><a href="#42620327">parent</a><span>|</span><a href="#42620275">next</a><span>|</span><label class="collapse" for="c-42620533">[-]</label><label class="expand" for="c-42620533">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure how this quote applies to harmless pursuits like making and solving absurd puzzles. It&#x27;s not like regex chess is going to be a weapon of mass destruction.</div><br/><div id="42620576" class="c"><input type="checkbox" id="c-42620576" checked=""/><div class="controls bullet"><span class="by">florbo</span><span>|</span><a href="#42619868">root</a><span>|</span><a href="#42620533">parent</a><span>|</span><a href="#42620275">next</a><span>|</span><label class="collapse" for="c-42620576">[-]</label><label class="expand" for="c-42620576">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s a line from the movie Jurassic Park. Pretty sure they&#x27;re just joking.</div><br/></div></div></div></div></div></div></div></div><div id="42620275" class="c"><input type="checkbox" id="c-42620275" checked=""/><div class="controls bullet"><span class="by">reader9274</span><span>|</span><a href="#42619868">prev</a><span>|</span><a href="#42620556">next</a><span>|</span><label class="collapse" for="c-42620275">[-]</label><label class="expand" for="c-42620275">[3 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a bug somewhere it seems like, as it ends the following game with &quot;Illegal move, you lose&quot;, even though it&#x27;s not an illegal move:<p>1. e2e4, e7e5
2. d2d4, e5d4
3. d1d4, a7a5
4. g1f3, b7b5
5. b1c3, a5a4
6. c3b5, a4a3
7. b5a3, a8a3
8. b2a3 --&gt; 
<i>Illegal Move</i>
You Lose.
Game over.<p>FEN of game above:
1nbqkbnr&#x2F;2pp1ppp&#x2F;8&#x2F;8&#x2F;3QP3&#x2F;P4N2&#x2F;P1P2PPP&#x2F;R1B1KB1R b KQk - 0 8</div><br/><div id="42620309" class="c"><input type="checkbox" id="c-42620309" checked=""/><div class="controls bullet"><span class="by">foxglacier</span><span>|</span><a href="#42620275">parent</a><span>|</span><a href="#42620556">next</a><span>|</span><label class="collapse" for="c-42620309">[-]</label><label class="expand" for="c-42620309">[2 more]</label></div><br/><div class="children"><div class="content">Simply using a2a4 as the first move does that too.</div><br/><div id="42620344" class="c"><input type="checkbox" id="c-42620344" checked=""/><div class="controls bullet"><span class="by">reader9274</span><span>|</span><a href="#42620275">root</a><span>|</span><a href="#42620309">parent</a><span>|</span><a href="#42620556">next</a><span>|</span><label class="collapse" for="c-42620344">[-]</label><label class="expand" for="c-42620344">[1 more]</label></div><br/><div class="children"><div class="content">ah interesting, a2a3 does the same. May be a bug with moves on the a file by white</div><br/></div></div></div></div></div></div><div id="42620556" class="c"><input type="checkbox" id="c-42620556" checked=""/><div class="controls bullet"><span class="by">tromp</span><span>|</span><a href="#42620275">prev</a><span>|</span><a href="#42620195">next</a><span>|</span><label class="collapse" for="c-42620556">[-]</label><label class="expand" for="c-42620556">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s some impressive code wizardry! I thought the 2-ply search would make it respond to a mate-in-1 threat, but the following game demonstrates otherwise:<p>1. e4 e5 2. Nf3 Nf6 3. Nxe5 Nxe4 4. Qe2 Nxd2 5. Nc6+ Ne4 6. Qxe4+ Qe7 7. Nxe7 Bxe7 8. Nc3 a5 9. Nd5 a4 10. Qxe7#<p>9. .., Nc6&#x2F;O-O&#x2F;Kf8 would have avoided mate in 1. Maybe this is related to the a2-a4 bug noticed by others?!</div><br/></div></div><div id="42620195" class="c"><input type="checkbox" id="c-42620195" checked=""/><div class="controls bullet"><span class="by">thot_experiment</span><span>|</span><a href="#42620556">prev</a><span>|</span><a href="#42620170">next</a><span>|</span><label class="collapse" for="c-42620195">[-]</label><label class="expand" for="c-42620195">[1 more]</label></div><br/><div class="children"><div class="content">When I see this sort of thing I just I want to take my hat off and stand in solemn appreciation for the true heroes among men.</div><br/></div></div><div id="42620170" class="c"><input type="checkbox" id="c-42620170" checked=""/><div class="controls bullet"><span class="by">dstrek</span><span>|</span><a href="#42620195">prev</a><span>|</span><a href="#42620040">next</a><span>|</span><label class="collapse" for="c-42620170">[-]</label><label class="expand" for="c-42620170">[3 more]</label></div><br/><div class="children"><div class="content">I normally don’t lose so quickly opening with a2a4 !</div><br/><div id="42620205" class="c"><input type="checkbox" id="c-42620205" checked=""/><div class="controls bullet"><span class="by">NooneAtAll3</span><span>|</span><a href="#42620170">parent</a><span>|</span><a href="#42620425">next</a><span>|</span><label class="collapse" for="c-42620205">[-]</label><label class="expand" for="c-42620205">[1 more]</label></div><br/><div class="children"><div class="content">oh, cool<p>I encountered similar bug in the a-column via e2e4-d2d4-d1d4-g1f3-f1b5-d4e5-e5c5-e1g1-b2a3</div><br/></div></div><div id="42620425" class="c"><input type="checkbox" id="c-42620425" checked=""/><div class="controls bullet"><span class="by">compootr</span><span>|</span><a href="#42620170">parent</a><span>|</span><a href="#42620205">prev</a><span>|</span><a href="#42620040">next</a><span>|</span><label class="collapse" for="c-42620425">[-]</label><label class="expand" for="c-42620425">[1 more]</label></div><br/><div class="children"><div class="content">Google en passant</div><br/></div></div></div></div><div id="42620040" class="c"><input type="checkbox" id="c-42620040" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#42620170">prev</a><span>|</span><a href="#42620068">next</a><span>|</span><label class="collapse" for="c-42620040">[-]</label><label class="expand" for="c-42620040">[1 more]</label></div><br/><div class="children"><div class="content">Previously: Chess written in sed <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=6261314">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=6261314</a><p>Of course, the sed version does make use of control flow commands in sed and only probes 1ply (I think) so this version is significantly different in that regard.</div><br/></div></div><div id="42620068" class="c"><input type="checkbox" id="c-42620068" checked=""/><div class="controls bullet"><span class="by">bigiain</span><span>|</span><a href="#42620040">prev</a><span>|</span><a href="#42620269">next</a><span>|</span><label class="collapse" for="c-42620068">[-]</label><label class="expand" for="c-42620068">[1 more]</label></div><br/><div class="children"><div class="content">This is totally what jwz needed for xmas...</div><br/></div></div><div id="42620269" class="c"><input type="checkbox" id="c-42620269" checked=""/><div class="controls bullet"><span class="by">Glyptodon</span><span>|</span><a href="#42620068">prev</a><span>|</span><a href="#42620234">next</a><span>|</span><label class="collapse" for="c-42620269">[-]</label><label class="expand" for="c-42620269">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d be really helpful if you added some faded square outlines in the background. I think maybe I made an illegal move with a bishop because of misreading the diagonal.</div><br/></div></div><div id="42620234" class="c"><input type="checkbox" id="c-42620234" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#42620269">prev</a><span>|</span><a href="#42620201">next</a><span>|</span><label class="collapse" for="c-42620234">[-]</label><label class="expand" for="c-42620234">[6 more]</label></div><br/><div class="children"><div class="content">Compare also <a href="https:&#x2F;&#x2F;codegolf.stackexchange.com&#x2F;q&#x2F;3503&#x2F;32575" rel="nofollow">https:&#x2F;&#x2F;codegolf.stackexchange.com&#x2F;q&#x2F;3503&#x2F;32575</a></div><br/><div id="42620280" class="c"><input type="checkbox" id="c-42620280" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#42620234">parent</a><span>|</span><a href="#42620201">next</a><span>|</span><label class="collapse" for="c-42620280">[-]</label><label class="expand" for="c-42620280">[5 more]</label></div><br/><div class="children"><div class="content">That shouldn&#x27;t be really surprising, as <i>all</i> divisibility rules are necessarily regular because anything more complex wouldn&#x27;t be human-executable &quot;rules&quot;.</div><br/><div id="42620316" class="c"><input type="checkbox" id="c-42620316" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#42620234">root</a><span>|</span><a href="#42620280">parent</a><span>|</span><a href="#42620201">next</a><span>|</span><label class="collapse" for="c-42620316">[-]</label><label class="expand" for="c-42620316">[4 more]</label></div><br/><div class="children"><div class="content">Humans are able to check whether a string of parens, like ()(()()), is matched but finite state machines can&#x27;t.<p>In any case, if you know how the regex is constructed, it&#x27;s not surprising.  But I found it fun to actually do the construction, instead of just being theoretically aware of the possibility.</div><br/><div id="42620447" class="c"><input type="checkbox" id="c-42620447" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#42620234">root</a><span>|</span><a href="#42620316">parent</a><span>|</span><a href="#42620201">next</a><span>|</span><label class="collapse" for="c-42620447">[-]</label><label class="expand" for="c-42620447">[3 more]</label></div><br/><div class="children"><div class="content">Is this balanced or not: ((((((((((((((((((((())))))))))))))))))))? Humans can check only so many parentheses before losing track of them, so it is still an FSM in my opinion.<p>Also, those regexes are directly translated from the equivalent and much smaller FSM. Regexes are necessarily complex only because they have Kleene stars and nothing else; it&#x27;s like representing every Boolean circuits with NAND, which is of course possible and a little fun fact but the process itself isn&#x27;t exactly fun to me.</div><br/><div id="42620505" class="c"><input type="checkbox" id="c-42620505" checked=""/><div class="controls bullet"><span class="by">Thiez</span><span>|</span><a href="#42620234">root</a><span>|</span><a href="#42620447">parent</a><span>|</span><a href="#42620201">next</a><span>|</span><label class="collapse" for="c-42620505">[-]</label><label class="expand" for="c-42620505">[2 more]</label></div><br/><div class="children"><div class="content">Humans can&#x27;t see the balance at a glance, but we can still easily check the balance of arbitrarily complex nested parenthesis because we are not limited in the same way an FSM is. We&#x27;re just way way way slower than a computer.</div><br/><div id="42620554" class="c"><input type="checkbox" id="c-42620554" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#42620234">root</a><span>|</span><a href="#42620505">parent</a><span>|</span><a href="#42620201">next</a><span>|</span><label class="collapse" for="c-42620554">[-]</label><label class="expand" for="c-42620554">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I agree that humans can indeed check <i>some</i> non-regular languages. That doesn&#x27;t however mean that humans are inherently capable for checking <i>all</i> non-regular languages, as they are severely limited in the working memory size. Most if not all divisibility rules are a set of least significant digits or weighted running sums because they are subject to the same constraint, so they are indeed necessarily regular.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="42620201" class="c"><input type="checkbox" id="c-42620201" checked=""/><div class="controls bullet"><span class="by">neuroelectron</span><span>|</span><a href="#42620234">prev</a><span>|</span><a href="#42619976">next</a><span>|</span><label class="collapse" for="c-42620201">[-]</label><label class="expand" for="c-42620201">[3 more]</label></div><br/><div class="children"><div class="content">a2a3 gives me illegal move game over.  What am I missing here?</div><br/><div id="42620254" class="c"><input type="checkbox" id="c-42620254" checked=""/><div class="controls bullet"><span class="by">treetalker</span><span>|</span><a href="#42620201">parent</a><span>|</span><a href="#42619976">next</a><span>|</span><label class="collapse" for="c-42620254">[-]</label><label class="expand" for="c-42620254">[2 more]</label></div><br/><div class="children"><div class="content">Somewhat surprisingly (given the creator&#x27;s regex chops) capital letters are not accepted. My guess is that your autocorrect changed the move to A2a3.<p>Bad news if you&#x27;re almost done with a game and enter a move with the wrong case.</div><br/><div id="42620265" class="c"><input type="checkbox" id="c-42620265" checked=""/><div class="controls bullet"><span class="by">NooneAtAll3</span><span>|</span><a href="#42620201">root</a><span>|</span><a href="#42620254">parent</a><span>|</span><a href="#42619976">next</a><span>|</span><label class="collapse" for="c-42620265">[-]</label><label class="expand" for="c-42620265">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m on PC (firefox) and can reproduce it, no capital letters in my input</div><br/></div></div></div></div></div></div><div id="42619976" class="c"><input type="checkbox" id="c-42619976" checked=""/><div class="controls bullet"><span class="by">proteal</span><span>|</span><a href="#42620201">prev</a><span>|</span><a href="#42620133">next</a><span>|</span><label class="collapse" for="c-42619976">[-]</label><label class="expand" for="c-42619976">[2 more]</label></div><br/><div class="children"><div class="content">“Now comes the clever part.”<p>God bless our soldiers who see that regex is turing complete and choose to implement fun programs. Yall are truly a different breed :)</div><br/><div id="42620101" class="c"><input type="checkbox" id="c-42620101" checked=""/><div class="controls bullet"><span class="by">jamster02</span><span>|</span><a href="#42619976">parent</a><span>|</span><a href="#42620133">next</a><span>|</span><label class="collapse" for="c-42620101">[-]</label><label class="expand" for="c-42620101">[1 more]</label></div><br/><div class="children"><div class="content">Regex isn&#x27;t (necessarily) turing complete :)<p>&gt; Because our program just consists of a sequence of regular expressions, you can&#x27;t loop at all! That, technically, means we can&#x27;t actually perform Turing Complete But we can do any bounded computation by just unrolling any loops we may have.<p>Although some (most?) implementations may be. Though by the above quote, the author didn&#x27;t make use of that.</div><br/></div></div></div></div><div id="42620133" class="c"><input type="checkbox" id="c-42620133" checked=""/><div class="controls bullet"><span class="by">neuroelectron</span><span>|</span><a href="#42619976">prev</a><span>|</span><label class="collapse" for="c-42620133">[-]</label><label class="expand" for="c-42620133">[2 more]</label></div><br/><div class="children"><div class="content">I wonder if this is inspired by LLMs which similarly do tons of repetitive processing most of which is unrelated to the final answer.</div><br/><div id="42620416" class="c"><input type="checkbox" id="c-42620416" checked=""/><div class="controls bullet"><span class="by">saagarjha</span><span>|</span><a href="#42620133">parent</a><span>|</span><label class="collapse" for="c-42620416">[-]</label><label class="expand" for="c-42620416">[1 more]</label></div><br/><div class="children"><div class="content">No, because the repetitive processing here is critical to the final result.</div><br/></div></div></div></div></div></div></div></div></div></body></html>