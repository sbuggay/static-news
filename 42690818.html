<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1736845251939" as="style"/><link rel="stylesheet" href="styles.css?v=1736845251939"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.voyageai.com/2024/12/04/voyage-code-3/">voyage-code-3</a> <span class="domain">(<a href="https://blog.voyageai.com">blog.voyageai.com</a>)</span></div><div class="subtext"><span>fzliu</span> | <span>21 comments</span></div><br/><div><div id="42694430" class="c"><input type="checkbox" id="c-42694430" checked=""/><div class="controls bullet"><span class="by">underlines</span><span>|</span><a href="#42693147">next</a><span>|</span><label class="collapse" for="c-42694430">[-]</label><label class="expand" for="c-42694430">[3 more]</label></div><br/><div class="children"><div class="content">For 2 years I built RAG apps for clients. They are not Code-Assistants but everytime I see code assistants solely relying on embeddings to find the right pieces as context, it feels wrong to me:<p>Code is very well structured. Based on a starting point (current cursor, current file, or results of an embedding search result) you would probably fair better to traverse the code tree up and down building a tree or using Abstract Syntax Trees (ASTs) as described in this blog post [4]. It&#x27;s like a tree search in order to get relevant code pieces for a certain task, and it imitates what human coders do. It would integrate well into an agent loop to search relevant code.<p>Aren&#x27;t there any open source code assistants and plugins that do this? All I see are embedding searches for the big projects such as cursor, cline or continue.<p>All I ever found were a few research efforts such as RepoGraph [1], CodeGraph [2] and one one codebase open sourced by Deutsche Telekom called advanced-coding-assistant [3]<p>1 <a href="https:&#x2F;&#x2F;github.com&#x2F;ozyyshr&#x2F;RepoGraph">https:&#x2F;&#x2F;github.com&#x2F;ozyyshr&#x2F;RepoGraph</a><p>2 <a href="https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2408.13863" rel="nofollow">https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2408.13863</a><p>3 <a href="https:&#x2F;&#x2F;github.com&#x2F;telekom&#x2F;advanced-coding-assistant-backend">https:&#x2F;&#x2F;github.com&#x2F;telekom&#x2F;advanced-coding-assistant-backend</a><p>4 <a href="https:&#x2F;&#x2F;cyrilsadovsky.substack.com&#x2F;p&#x2F;advanced-coding-chatbot-knowledge-graphs-and-asts-0c18c90373be" rel="nofollow">https:&#x2F;&#x2F;cyrilsadovsky.substack.com&#x2F;p&#x2F;advanced-coding-chatbot...</a></div><br/><div id="42694588" class="c"><input type="checkbox" id="c-42694588" checked=""/><div class="controls bullet"><span class="by">littlestymaar</span><span>|</span><a href="#42694430">parent</a><span>|</span><a href="#42693147">next</a><span>|</span><label class="collapse" for="c-42694588">[-]</label><label class="expand" for="c-42694588">[2 more]</label></div><br/><div class="children"><div class="content">Definitely, why isn&#x27;t there a code assistant that just uses the LSP to query the info you need straight from your language-specific tooling.</div><br/><div id="42694616" class="c"><input type="checkbox" id="c-42694616" checked=""/><div class="controls bullet"><span class="by">lexoj</span><span>|</span><a href="#42694430">root</a><span>|</span><a href="#42694588">parent</a><span>|</span><a href="#42693147">next</a><span>|</span><label class="collapse" for="c-42694616">[-]</label><label class="expand" for="c-42694616">[1 more]</label></div><br/><div class="children"><div class="content">Similarly, Aider sends a repo map (ranked) <a href="https:&#x2F;&#x2F;aider.chat&#x2F;docs&#x2F;repomap.html" rel="nofollow">https:&#x2F;&#x2F;aider.chat&#x2F;docs&#x2F;repomap.html</a></div><br/></div></div></div></div></div></div><div id="42693147" class="c"><input type="checkbox" id="c-42693147" checked=""/><div class="controls bullet"><span class="by">serjester</span><span>|</span><a href="#42694430">prev</a><span>|</span><a href="#42693649">next</a><span>|</span><label class="collapse" for="c-42693147">[-]</label><label class="expand" for="c-42693147">[3 more]</label></div><br/><div class="children"><div class="content">I don’t understand why we have so many companies working on vector databases when the real value is in fine tuned embeddings. Having recently evaluated vector DB’s to handle 100M+ nodes, everything will run you  $1 - 8k per month. Yet using embeddings fine tuned on a specific use case, will lower that 10X since you can get away with way coarser vectors.<p>This makes so much intuitive sense - voyage please release an insurance focused model.</div><br/><div id="42693470" class="c"><input type="checkbox" id="c-42693470" checked=""/><div class="controls bullet"><span class="by">digdugdirk</span><span>|</span><a href="#42693147">parent</a><span>|</span><a href="#42694986">next</a><span>|</span><label class="collapse" for="c-42693470">[-]</label><label class="expand" for="c-42693470">[1 more]</label></div><br/><div class="children"><div class="content">Can you explain more about this, or point someone in the right direction with a few resources for reading more about it?</div><br/></div></div><div id="42694986" class="c"><input type="checkbox" id="c-42694986" checked=""/><div class="controls bullet"><span class="by">apricot0</span><span>|</span><a href="#42693147">parent</a><span>|</span><a href="#42693470">prev</a><span>|</span><a href="#42693649">next</a><span>|</span><label class="collapse" for="c-42694986">[-]</label><label class="expand" for="c-42694986">[1 more]</label></div><br/><div class="children"><div class="content">Can you recommend any resources&#x2F;tutorials about fine-tuning embedding models? Which base model did you fine-tune?</div><br/></div></div></div></div><div id="42693649" class="c"><input type="checkbox" id="c-42693649" checked=""/><div class="controls bullet"><span class="by">uncomplexity_</span><span>|</span><a href="#42693147">prev</a><span>|</span><a href="#42695073">next</a><span>|</span><label class="collapse" for="c-42693649">[-]</label><label class="expand" for="c-42693649">[1 more]</label></div><br/><div class="children"><div class="content">Currently using voyage for my project for the following reasons:<p>1. They are recommended by Anthropic on their docs<p>2. They&#x27;re focused on embeddings as a service, I somehow prefer this other than spread-thin large orgs like OpenAI, GoogleAI, etc.<p>3. They got good standing on the huggingface mteb leaderboard: <a href="https:&#x2F;&#x2F;huggingface.co&#x2F;spaces&#x2F;mteb&#x2F;leaderboard" rel="nofollow">https:&#x2F;&#x2F;huggingface.co&#x2F;spaces&#x2F;mteb&#x2F;leaderboard</a></div><br/></div></div><div id="42695073" class="c"><input type="checkbox" id="c-42695073" checked=""/><div class="controls bullet"><span class="by">zelcon</span><span>|</span><a href="#42693649">prev</a><span>|</span><a href="#42692627">next</a><span>|</span><label class="collapse" for="c-42695073">[-]</label><label class="expand" for="c-42695073">[1 more]</label></div><br/><div class="children"><div class="content">Release the weights or buy an ad. This doesn’t deserve front page.</div><br/></div></div><div id="42692627" class="c"><input type="checkbox" id="c-42692627" checked=""/><div class="controls bullet"><span class="by">qeternity</span><span>|</span><a href="#42695073">prev</a><span>|</span><a href="#42692459">next</a><span>|</span><label class="collapse" for="c-42692627">[-]</label><label class="expand" for="c-42692627">[2 more]</label></div><br/><div class="children"><div class="content">Their 1024 dimension outperforms their 2048 dimension? What am I missing here.</div><br/><div id="42692659" class="c"><input type="checkbox" id="c-42692659" checked=""/><div class="controls bullet"><span class="by">fzliu</span><span>|</span><a href="#42692627">parent</a><span>|</span><a href="#42692459">next</a><span>|</span><label class="collapse" for="c-42692659">[-]</label><label class="expand" for="c-42692659">[1 more]</label></div><br/><div class="children"><div class="content">For float and int8, 1024 does indeed outperform 2048. However, for binary, 2048 outperforms 1024.<p>For our general-purpose embedding model (voyage-3-large), embedding vectors with 2048 dimensions outperform 1024 across the board: <a href="https:&#x2F;&#x2F;blog.voyageai.com&#x2F;2025&#x2F;01&#x2F;07&#x2F;voyage-3-large&#x2F;" rel="nofollow">https:&#x2F;&#x2F;blog.voyageai.com&#x2F;2025&#x2F;01&#x2F;07&#x2F;voyage-3-large&#x2F;</a></div><br/></div></div></div></div><div id="42692459" class="c"><input type="checkbox" id="c-42692459" checked=""/><div class="controls bullet"><span class="by">potatoman22</span><span>|</span><a href="#42692627">prev</a><span>|</span><a href="#42692775">next</a><span>|</span><label class="collapse" for="c-42692459">[-]</label><label class="expand" for="c-42692459">[6 more]</label></div><br/><div class="children"><div class="content">What&#x27;s their ranking on SWEBench?</div><br/><div id="42692599" class="c"><input type="checkbox" id="c-42692599" checked=""/><div class="controls bullet"><span class="by">swyx</span><span>|</span><a href="#42692459">parent</a><span>|</span><a href="#42692641">next</a><span>|</span><label class="collapse" for="c-42692599">[-]</label><label class="expand" for="c-42692599">[4 more]</label></div><br/><div class="children"><div class="content">for an embedding model, this is a very very bad question, to the point where i am wondering if you are trolling and i missed the joke<p>i can be constructive but i dont have space in the margins of this paper</div><br/><div id="42692646" class="c"><input type="checkbox" id="c-42692646" checked=""/><div class="controls bullet"><span class="by">moojacob</span><span>|</span><a href="#42692459">root</a><span>|</span><a href="#42692599">parent</a><span>|</span><a href="#42692641">next</a><span>|</span><label class="collapse" for="c-42692646">[-]</label><label class="expand" for="c-42692646">[3 more]</label></div><br/><div class="children"><div class="content">Pardon my ignorance, but are you saying that embedding model leaderboards aren&#x27;t useful? When I look at <a href="https:&#x2F;&#x2F;huggingface.co&#x2F;spaces&#x2F;mteb&#x2F;leaderboard" rel="nofollow">https:&#x2F;&#x2F;huggingface.co&#x2F;spaces&#x2F;mteb&#x2F;leaderboard</a> I see voyage&#x27;s embedding model is at the top. Does that mean they have the best model?</div><br/><div id="42692676" class="c"><input type="checkbox" id="c-42692676" checked=""/><div class="controls bullet"><span class="by">fzliu</span><span>|</span><a href="#42692459">root</a><span>|</span><a href="#42692646">parent</a><span>|</span><a href="#42692698">next</a><span>|</span><label class="collapse" for="c-42692676">[-]</label><label class="expand" for="c-42692676">[1 more]</label></div><br/><div class="children"><div class="content">Although voyage-3-m-exp is at the top of the leaderboard, I would not use it for production use cases unless your data is extremely similar to &quot;in-domain&quot; MTEB data. Check out this post from Nils (one of the authors of the original MTEB paper) for more info: <a href="https:&#x2F;&#x2F;x.com&#x2F;Nils_Reimers&#x2F;status&#x2F;1870812625505849849" rel="nofollow">https:&#x2F;&#x2F;x.com&#x2F;Nils_Reimers&#x2F;status&#x2F;1870812625505849849</a><p>voyage-3-large will work better for almost all real-world production use cases.</div><br/></div></div><div id="42692698" class="c"><input type="checkbox" id="c-42692698" checked=""/><div class="controls bullet"><span class="by">evilduck</span><span>|</span><a href="#42692459">root</a><span>|</span><a href="#42692646">parent</a><span>|</span><a href="#42692676">prev</a><span>|</span><a href="#42692641">next</a><span>|</span><label class="collapse" for="c-42692698">[-]</label><label class="expand" for="c-42692698">[1 more]</label></div><br/><div class="children"><div class="content">They did not claim that leaderboards were useless. There’s a big difference between an embedding model leaderboard and the SWEbench leaderboard though, given that they measure completely different categories of models.</div><br/></div></div></div></div></div></div><div id="42692641" class="c"><input type="checkbox" id="c-42692641" checked=""/><div class="controls bullet"><span class="by">fzliu</span><span>|</span><a href="#42692459">parent</a><span>|</span><a href="#42692599">prev</a><span>|</span><a href="#42692775">next</a><span>|</span><label class="collapse" for="c-42692641">[-]</label><label class="expand" for="c-42692641">[1 more]</label></div><br/><div class="children"><div class="content">We have a repurposed version of SWE-bench Lite for retrieval; you can see the numbers in the last column of this spreadsheet: <a href="https:&#x2F;&#x2F;docs.google.com&#x2F;spreadsheets&#x2F;d&#x2F;1Q5GDXOXueHuBT9demPrL9bz3_LMgajcZs_-GPeawrYk" rel="nofollow">https:&#x2F;&#x2F;docs.google.com&#x2F;spreadsheets&#x2F;d&#x2F;1Q5GDXOXueHuBT9demPrL...</a></div><br/></div></div></div></div><div id="42692775" class="c"><input type="checkbox" id="c-42692775" checked=""/><div class="controls bullet"><span class="by">doctorpangloss</span><span>|</span><a href="#42692459">prev</a><span>|</span><label class="collapse" for="c-42692775">[-]</label><label class="expand" for="c-42692775">[4 more]</label></div><br/><div class="children"><div class="content">OpenAI is a big famous company. Why should I trust you guys with code, when I’m too lazy to clean out sensitive stuff?</div><br/><div id="42693131" class="c"><input type="checkbox" id="c-42693131" checked=""/><div class="controls bullet"><span class="by">benreesman</span><span>|</span><a href="#42692775">parent</a><span>|</span><label class="collapse" for="c-42693131">[-]</label><label class="expand" for="c-42693131">[3 more]</label></div><br/><div class="children"><div class="content">It’s Fei-Fei and Christopher Ré. These are serious people.</div><br/><div id="42694823" class="c"><input type="checkbox" id="c-42694823" checked=""/><div class="controls bullet"><span class="by">swyx</span><span>|</span><a href="#42692775">root</a><span>|</span><a href="#42693131">parent</a><span>|</span><label class="collapse" for="c-42694823">[-]</label><label class="expand" for="c-42694823">[2 more]</label></div><br/><div class="children"><div class="content">highly doubt either are deeply involved in the day to day lol</div><br/><div id="42695159" class="c"><input type="checkbox" id="c-42695159" checked=""/><div class="controls bullet"><span class="by">benreesman</span><span>|</span><a href="#42692775">root</a><span>|</span><a href="#42694823">parent</a><span>|</span><label class="collapse" for="c-42695159">[-]</label><label class="expand" for="c-42695159">[1 more]</label></div><br/><div class="children"><div class="content">Have some respect.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>