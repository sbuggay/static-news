<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1690534870399" as="style"/><link rel="stylesheet" href="styles.css?v=1690534870399"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.allthingsdistributed.com/2023/07/building-and-operating-a-pretty-big-storage-system.html">Building and operating a pretty big storage system called S3</a> <span class="domain">(<a href="https://www.allthingsdistributed.com">www.allthingsdistributed.com</a>)</span></div><div class="subtext"><span>werner</span> | <span>126 comments</span></div><br/><div><div id="36900147" class="c"><input type="checkbox" id="c-36900147" checked=""/><div class="controls bullet"><span class="by">Twirrim</span><span>|</span><a href="#36900472">next</a><span>|</span><label class="collapse" for="c-36900147">[-]</label><label class="expand" for="c-36900147">[36 more]</label></div><br/><div class="children"><div class="content">&gt; That’s a bit error rate of 1 in 10^15 requests. In the real world, we see that blade of grass get missed pretty frequently – and it’s actually something we need to account for in S3.<p>One of the things I remember from my time at AWS was conversations about how 1 in a billion events end up being a daily occurrence when you&#x27;re operating at S3 scale.  Things that you&#x27;d normally mark off as so wildly improbable it&#x27;s not worth worrying about, have to be considered, and handled.<p>Glad to read about ShardStore, and especially the formal verification, property based testing etc.  The previous generation of services were notoriously buggy, a very good example of the usual perils of organic growth (but at least really well designed such that they&#x27;d fail &quot;safe&quot;, ensuring no data loss, something S3 engineers obsessed about).</div><br/><div id="36900470" class="c"><input type="checkbox" id="c-36900470" checked=""/><div class="controls bullet"><span class="by">mjb</span><span>|</span><a href="#36900147">parent</a><span>|</span><a href="#36900402">next</a><span>|</span><label class="collapse" for="c-36900470">[-]</label><label class="expand" for="c-36900470">[1 more]</label></div><br/><div class="children"><div class="content">&gt; daily occurrence when you&#x27;re operating at S3 scale<p>Yeah! With S3 averaging over 100M requests per second, 1 in a billion happens every ten seconds. And it&#x27;s not just S3. For example, for Prime Day 2022, DynamoDB peaked at over 105M requests per second (just for the Amazon workload): <a href="https:&#x2F;&#x2F;aws.amazon.com&#x2F;blogs&#x2F;aws&#x2F;amazon-prime-day-2022-aws-for-the-win&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;aws.amazon.com&#x2F;blogs&#x2F;aws&#x2F;amazon-prime-day-2022-aws-f...</a><p>In the post, Andy also talks about Lightweight Formal Methods and the team&#x27;s adoption of Rust. When even extremely low probability events are common, we need to invest in multiple layers of tooling and process around correctness.</div><br/></div></div><div id="36900402" class="c"><input type="checkbox" id="c-36900402" checked=""/><div class="controls bullet"><span class="by">ignoramous</span><span>|</span><a href="#36900147">parent</a><span>|</span><a href="#36900470">prev</a><span>|</span><a href="#36900502">next</a><span>|</span><label class="collapse" for="c-36900402">[-]</label><label class="expand" for="c-36900402">[4 more]</label></div><br/><div class="children"><div class="content">James Hamilton, AWS&#x27; chief architect, wrote about this phenomena in 2017: <i>At scale, rare events aren&#x27;t rare</i>; <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=14038044">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=14038044</a></div><br/><div id="36903540" class="c"><input type="checkbox" id="c-36903540" checked=""/><div class="controls bullet"><span class="by">jdwithit</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36900402">parent</a><span>|</span><a href="#36903906">next</a><span>|</span><label class="collapse" for="c-36903540">[-]</label><label class="expand" for="c-36903540">[1 more]</label></div><br/><div class="children"><div class="content">James&#x27; posts are always a treat. It&#x27;s so rare to encounter such plain, straightforward content from someone with a title and responsibilities like his. Without layers of marketing sugar over everything. Dude just wants to post about the cool shit he did on his GeoCities-tier website and I love it.</div><br/></div></div><div id="36903906" class="c"><input type="checkbox" id="c-36903906" checked=""/><div class="controls bullet"><span class="by">aborsy</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36900402">parent</a><span>|</span><a href="#36903540">prev</a><span>|</span><a href="#36900502">next</a><span>|</span><label class="collapse" for="c-36903906">[-]</label><label class="expand" for="c-36903906">[2 more]</label></div><br/><div class="children"><div class="content">This phenomenon is just multiplication of the sample size (scale) times a probability (rare).</div><br/><div id="36904187" class="c"><input type="checkbox" id="c-36904187" checked=""/><div class="controls bullet"><span class="by">maweki</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36903906">parent</a><span>|</span><a href="#36900502">next</a><span>|</span><label class="collapse" for="c-36904187">[-]</label><label class="expand" for="c-36904187">[1 more]</label></div><br/><div class="children"><div class="content">It shows that, however improbable, people do win the lottery.<p>It&#x27;s good to be reminded of that, if you&#x27;ve been trained for years, not to play the lottery because you personally won&#x27;t ever win.<p>In this case, the Cloud vendor is the lottery organizer and they indeed need to plan for people winning.</div><br/></div></div></div></div></div></div><div id="36900502" class="c"><input type="checkbox" id="c-36900502" checked=""/><div class="controls bullet"><span class="by">rubiquity</span><span>|</span><a href="#36900147">parent</a><span>|</span><a href="#36900402">prev</a><span>|</span><a href="#36900993">next</a><span>|</span><label class="collapse" for="c-36900502">[-]</label><label class="expand" for="c-36900502">[3 more]</label></div><br/><div class="children"><div class="content">Daily? A component I worked on that supported S3’s Index could hit a 1 in a billion issue multiple times a minute. Thankfully we had good algorithms and hardware that is a lot more reliable these days!</div><br/><div id="36901212" class="c"><input type="checkbox" id="c-36901212" checked=""/><div class="controls bullet"><span class="by">Twirrim</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36900502">parent</a><span>|</span><a href="#36900993">next</a><span>|</span><label class="collapse" for="c-36901212">[-]</label><label class="expand" for="c-36901212">[2 more]</label></div><br/><div class="children"><div class="content">This was 7-8 years ago now.  Lot of scaling up since those days :)</div><br/><div id="36902888" class="c"><input type="checkbox" id="c-36902888" checked=""/><div class="controls bullet"><span class="by">rubiquity</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36901212">parent</a><span>|</span><a href="#36900993">next</a><span>|</span><label class="collapse" for="c-36902888">[-]</label><label class="expand" for="c-36902888">[1 more]</label></div><br/><div class="children"><div class="content">I’m sure my numbers are out of date now too</div><br/></div></div></div></div></div></div><div id="36900993" class="c"><input type="checkbox" id="c-36900993" checked=""/><div class="controls bullet"><span class="by">ldjkfkdsjnv</span><span>|</span><a href="#36900147">parent</a><span>|</span><a href="#36900502">prev</a><span>|</span><a href="#36901393">next</a><span>|</span><label class="collapse" for="c-36900993">[-]</label><label class="expand" for="c-36900993">[6 more]</label></div><br/><div class="children"><div class="content">Also worked at Amazon, saw some issues with major well known open source libraries that broke in places nobody would ever expect.</div><br/><div id="36903699" class="c"><input type="checkbox" id="c-36903699" checked=""/><div class="controls bullet"><span class="by">baz00</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36900993">parent</a><span>|</span><a href="#36901103">next</a><span>|</span><label class="collapse" for="c-36903699">[-]</label><label class="expand" for="c-36903699">[1 more]</label></div><br/><div class="children"><div class="content">We get this on a much lower scale. We have to maintain many forks because no one is responsive on taking patches.</div><br/></div></div><div id="36901103" class="c"><input type="checkbox" id="c-36901103" checked=""/><div class="controls bullet"><span class="by">wrboyce</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36900993">parent</a><span>|</span><a href="#36903699">prev</a><span>|</span><a href="#36901393">next</a><span>|</span><label class="collapse" for="c-36901103">[-]</label><label class="expand" for="c-36901103">[4 more]</label></div><br/><div class="children"><div class="content">Any examples you can share?</div><br/><div id="36902899" class="c"><input type="checkbox" id="c-36902899" checked=""/><div class="controls bullet"><span class="by">ldjkfkdsjnv</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36901103">parent</a><span>|</span><a href="#36901797">next</a><span>|</span><label class="collapse" for="c-36902899">[-]</label><label class="expand" for="c-36902899">[2 more]</label></div><br/><div class="children"><div class="content">Apache tomcat starts to break down</div><br/><div id="36904083" class="c"><input type="checkbox" id="c-36904083" checked=""/><div class="controls bullet"><span class="by">thewakalix</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36902899">parent</a><span>|</span><a href="#36901797">next</a><span>|</span><label class="collapse" for="c-36904083">[-]</label><label class="expand" for="c-36904083">[1 more]</label></div><br/><div class="children"><div class="content">Could you elaborate?</div><br/></div></div></div></div></div></div></div></div><div id="36901393" class="c"><input type="checkbox" id="c-36901393" checked=""/><div class="controls bullet"><span class="by">rkagerer</span><span>|</span><a href="#36900147">parent</a><span>|</span><a href="#36900993">prev</a><span>|</span><a href="#36900692">next</a><span>|</span><label class="collapse" for="c-36901393">[-]</label><label class="expand" for="c-36901393">[2 more]</label></div><br/><div class="children"><div class="content">Personally I&#x27;d love working in that kind of environment.  That one in a billion hole still itches at me. 
 There&#x27;s also a slightly-perverse little voice in my head ready with popcorn in case I&#x27;m lucky enough to watch the ensuing fallout from the first major crypto hash collision :-).</div><br/><div id="36904322" class="c"><input type="checkbox" id="c-36904322" checked=""/><div class="controls bullet"><span class="by">fooker</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36901393">parent</a><span>|</span><a href="#36900692">next</a><span>|</span><label class="collapse" for="c-36904322">[-]</label><label class="expand" for="c-36904322">[1 more]</label></div><br/><div class="children"><div class="content">That probability is significantly lower than one in a billion.<p>One in a billion would be if keys were ~30 bits.  Luckily it isn&#x27;t.</div><br/></div></div></div></div><div id="36900692" class="c"><input type="checkbox" id="c-36900692" checked=""/><div class="controls bullet"><span class="by">ilyt</span><span>|</span><a href="#36900147">parent</a><span>|</span><a href="#36901393">prev</a><span>|</span><a href="#36900641">next</a><span>|</span><label class="collapse" for="c-36900692">[-]</label><label class="expand" for="c-36900692">[4 more]</label></div><br/><div class="children"><div class="content">I think Ceph hit similar problems and they had to add more robust checksumming to the system, as relying on just tcp checksums for integrity for example was no longer enough</div><br/><div id="36904289" class="c"><input type="checkbox" id="c-36904289" checked=""/><div class="controls bullet"><span class="by">benou</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36900692">parent</a><span>|</span><a href="#36901147">next</a><span>|</span><label class="collapse" for="c-36904289">[-]</label><label class="expand" for="c-36904289">[1 more]</label></div><br/><div class="children"><div class="content">Not that surprising, given this was already extensively documented in the 2000&#x27;s (so already widely known by then) with iSCSI and such, see <a href="https:&#x2F;&#x2F;www.rfc-editor.org&#x2F;rfc&#x2F;rfc3385" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.rfc-editor.org&#x2F;rfc&#x2F;rfc3385</a> for example.</div><br/></div></div><div id="36901147" class="c"><input type="checkbox" id="c-36901147" checked=""/><div class="controls bullet"><span class="by">Twirrim</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36900692">parent</a><span>|</span><a href="#36904289">prev</a><span>|</span><a href="#36900641">next</a><span>|</span><label class="collapse" for="c-36901147">[-]</label><label class="expand" for="c-36901147">[2 more]</label></div><br/><div class="children"><div class="content">Yes, I remember tcp checksumming coming up as not sufficient at one stage.  Even saw S3 deal with a real head-scratcher of a non-impacting event that came down to a single NIC in a single machine corrupting the tcp checksum under very specific circumstances.</div><br/><div id="36903685" class="c"><input type="checkbox" id="c-36903685" checked=""/><div class="controls bullet"><span class="by">jamesblonde</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36901147">parent</a><span>|</span><a href="#36900641">next</a><span>|</span><label class="collapse" for="c-36903685">[-]</label><label class="expand" for="c-36903685">[1 more]</label></div><br/><div class="children"><div class="content">HDFS never relied on only network checksums. Blocks should be checksummed and validated at clients - a reliable end-to-end guarantee.</div><br/></div></div></div></div></div></div><div id="36900641" class="c"><input type="checkbox" id="c-36900641" checked=""/><div class="controls bullet"><span class="by">Waterluvian</span><span>|</span><a href="#36900147">parent</a><span>|</span><a href="#36900692">prev</a><span>|</span><a href="#36900472">next</a><span>|</span><label class="collapse" for="c-36900641">[-]</label><label class="expand" for="c-36900641">[15 more]</label></div><br/><div class="children"><div class="content">Ever see a UUID collision?</div><br/><div id="36902697" class="c"><input type="checkbox" id="c-36902697" checked=""/><div class="controls bullet"><span class="by">mitchs</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36900641">parent</a><span>|</span><a href="#36901334">next</a><span>|</span><label class="collapse" for="c-36902697">[-]</label><label class="expand" for="c-36902697">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve seen two bit flips in the same tcp packet cancel each other out and cause the checksum to pass. The TCP session was bgp, and this ended up creating a route hijack, dragging a few racks&#x27; IPs to the wrong building. Ya know, just us-east-1 things.</div><br/><div id="36904464" class="c"><input type="checkbox" id="c-36904464" checked=""/><div class="controls bullet"><span class="by">raverbashing</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36902697">parent</a><span>|</span><a href="#36904391">next</a><span>|</span><label class="collapse" for="c-36904464">[-]</label><label class="expand" for="c-36904464">[1 more]</label></div><br/><div class="children"><div class="content">Wow this is at the level of Homer Simpson &quot;Cereal with Milk catching fire&quot;<p>But yeah, mathematically possible (in AWS scale, but still) so of course it will happen once in a lifetime.</div><br/></div></div><div id="36904391" class="c"><input type="checkbox" id="c-36904391" checked=""/><div class="controls bullet"><span class="by">abwizz</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36902697">parent</a><span>|</span><a href="#36904464">prev</a><span>|</span><a href="#36903067">next</a><span>|</span><label class="collapse" for="c-36904391">[-]</label><label class="expand" for="c-36904391">[1 more]</label></div><br/><div class="children"><div class="content">&gt; two bit flips in the same tcp packet cancel each other out and cause the checksum to pass<p>checksum != parity check<p>not sure if there even exists a chance for this to happen</div><br/></div></div><div id="36903067" class="c"><input type="checkbox" id="c-36903067" checked=""/><div class="controls bullet"><span class="by">kortilla</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36902697">parent</a><span>|</span><a href="#36904391">prev</a><span>|</span><a href="#36901334">next</a><span>|</span><label class="collapse" for="c-36903067">[-]</label><label class="expand" for="c-36903067">[1 more]</label></div><br/><div class="children"><div class="content">How did you know it was a double bit flip and not just BGP bug or an in memory bit flip before being sent to the socket?</div><br/></div></div></div></div><div id="36901334" class="c"><input type="checkbox" id="c-36901334" checked=""/><div class="controls bullet"><span class="by">mabbo</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36900641">parent</a><span>|</span><a href="#36902697">prev</a><span>|</span><a href="#36901964">next</a><span>|</span><label class="collapse" for="c-36901334">[-]</label><label class="expand" for="c-36901334">[9 more]</label></div><br/><div class="children"><div class="content">Even at a billion requests per second, 128 bit UUIDs shouldn&#x27;t collide for something like a billion years.<p>And that&#x27;s if you&#x27;re going completely random and not taking care to try to reduce collisions.</div><br/><div id="36901913" class="c"><input type="checkbox" id="c-36901913" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36901334">parent</a><span>|</span><a href="#36902675">next</a><span>|</span><label class="collapse" for="c-36901913">[-]</label><label class="expand" for="c-36901913">[5 more]</label></div><br/><div class="children"><div class="content">Are you sure about that math?<p>A billion <i>seconds</i> at a billion requests per second is already 2^60 items.  You&#x27;d only need a few billion seconds to have a 50:50 collision chance with 128 random bits, and even less with a real UUID that only has 122 random bits.<p>You&#x27;d hit 1% odds of collision after less than a decade.<p>If you actually want to go for a billion years, you need to expand that UUID by 50%.</div><br/><div id="36901978" class="c"><input type="checkbox" id="c-36901978" checked=""/><div class="controls bullet"><span class="by">danielmarkbruce</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36901913">parent</a><span>|</span><a href="#36902675">next</a><span>|</span><label class="collapse" for="c-36901978">[-]</label><label class="expand" for="c-36901978">[4 more]</label></div><br/><div class="children"><div class="content">This seems off. A few billion seconds to have a 50:50 chance? Why wouldn&#x27;t it be a billion seconds at a billion per second (2^60 total requests) would give a 1 in 2^68 chance (or 1 in 2^62 if its really only 122 bits)?</div><br/><div id="36902008" class="c"><input type="checkbox" id="c-36902008" checked=""/><div class="controls bullet"><span class="by">Dylan16807</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36901978">parent</a><span>|</span><a href="#36902046">next</a><span>|</span><label class="collapse" for="c-36902008">[-]</label><label class="expand" for="c-36902008">[2 more]</label></div><br/><div class="children"><div class="content">Birthday paradox.  The number of opportunities to collide is the number of items squared.  (Divided by two and a smidge)</div><br/><div id="36902040" class="c"><input type="checkbox" id="c-36902040" checked=""/><div class="controls bullet"><span class="by">danielmarkbruce</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36902008">parent</a><span>|</span><a href="#36902046">next</a><span>|</span><label class="collapse" for="c-36902040">[-]</label><label class="expand" for="c-36902040">[1 more]</label></div><br/><div class="children"><div class="content">Lol. I must be brain dead. Yes.</div><br/></div></div></div></div><div id="36902046" class="c"><input type="checkbox" id="c-36902046" checked=""/><div class="controls bullet"><span class="by">penteract</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36901978">parent</a><span>|</span><a href="#36902008">prev</a><span>|</span><a href="#36902675">next</a><span>|</span><label class="collapse" for="c-36902046">[-]</label><label class="expand" for="c-36902046">[1 more]</label></div><br/><div class="children"><div class="content">Because we&#x27;re talking about collisions, as opposed to comparing 2^64 independent pairs. With 2^128 possible values, if you&#x27;ve picked 2^63 distinct ones, the chance that a randomly selected value collides with one of those is 1 in 2^65. If none of your second batch of 2^63 collide with each other, that gives a 2^63&#x2F;2^65 = 1&#x2F;4 chance of one of them colliding with the first batch. Considering the possibility of collisions within each batch of 2^63 brings it closer to 1 in 2.</div><br/></div></div></div></div></div></div><div id="36902675" class="c"><input type="checkbox" id="c-36902675" checked=""/><div class="controls bullet"><span class="by">jandrewrogers</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36901334">parent</a><span>|</span><a href="#36901913">prev</a><span>|</span><a href="#36902746">next</a><span>|</span><label class="collapse" for="c-36902675">[-]</label><label class="expand" for="c-36902675">[2 more]</label></div><br/><div class="children"><div class="content">There have been many cases of UUIDv4 collisions because an RNG wasn’t as random as expected, due to broken RNG or developer error. It is one of those cases where practice is not as reliable as theory, and it is banned in some places as a consequence.<p>It depends on how paranoid you need to be.</div><br/><div id="36903162" class="c"><input type="checkbox" id="c-36903162" checked=""/><div class="controls bullet"><span class="by">polynomial</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36902675">parent</a><span>|</span><a href="#36902746">next</a><span>|</span><label class="collapse" for="c-36903162">[-]</label><label class="expand" for="c-36903162">[1 more]</label></div><br/><div class="children"><div class="content">Facts.</div><br/></div></div></div></div><div id="36902746" class="c"><input type="checkbox" id="c-36902746" checked=""/><div class="controls bullet"><span class="by">lazide</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36901334">parent</a><span>|</span><a href="#36902675">prev</a><span>|</span><a href="#36901964">next</a><span>|</span><label class="collapse" for="c-36902746">[-]</label><label class="expand" for="c-36902746">[1 more]</label></div><br/><div class="children"><div class="content">Shouldn’t != never happens. All sorts of weird implementation issues can cause problems.</div><br/></div></div></div></div><div id="36901964" class="c"><input type="checkbox" id="c-36901964" checked=""/><div class="controls bullet"><span class="by">cmckn</span><span>|</span><a href="#36900147">root</a><span>|</span><a href="#36900641">parent</a><span>|</span><a href="#36901334">prev</a><span>|</span><a href="#36900472">next</a><span>|</span><label class="collapse" for="c-36901964">[-]</label><label class="expand" for="c-36901964">[1 more]</label></div><br/><div class="children"><div class="content">Eh, UUID’s are usually not truly global anyway; so you’d need a collision in the context of a single region, cell, user, resource, etc. for it to matter.</div><br/></div></div></div></div></div></div><div id="36900472" class="c"><input type="checkbox" id="c-36900472" checked=""/><div class="controls bullet"><span class="by">epistasis</span><span>|</span><a href="#36900147">prev</a><span>|</span><a href="#36900533">next</a><span>|</span><label class="collapse" for="c-36900472">[-]</label><label class="expand" for="c-36900472">[16 more]</label></div><br/><div class="children"><div class="content">Working in genomics, I&#x27;ve dealt with lots of petabyte data stores over the past decade. Having used AWS S3, GCP GCS, and a raft of storage systems for collocated hardware (Ceph, Gluster, and an HP system whose name I have blocked from my memory), I have no small amount of appreciation for the effort that goes into operating these sorts of systems.<p>And the benefits of sharing disk IOPs with untold numbers of other customers is hard to understate. I hadn&#x27;t heard the term &quot;heat&quot; as it&#x27;s used in the article but it&#x27;s incredibly hard to mitigate on single system. For our co-located hardware clusters, we would have to customize the batch systems to treat IO as an allocatable resource the same as RAM or CPU in order to manage it correctly across large jobs. S3 and GCP are super expensive, but the performance can be worth it.<p>This sort of article is some of the best of HN, IMHO.</div><br/><div id="36901517" class="c"><input type="checkbox" id="c-36901517" checked=""/><div class="controls bullet"><span class="by">CobrastanJorji</span><span>|</span><a href="#36900472">parent</a><span>|</span><a href="#36904224">next</a><span>|</span><label class="collapse" for="c-36901517">[-]</label><label class="expand" for="c-36901517">[2 more]</label></div><br/><div class="children"><div class="content">It also explains some of the cost model for cloud storage. The best possible customer, from a cloud storage perspective, stores a whole lot of data but reads almost none of it. That&#x27;s kind of like renting hard drives, except if you only fill some of each hard drive with the &quot;cold&quot; data, you can still use the hard drive&#x27;s full I&#x2F;O capacity to handle the hot work. So, if you very carefully balance what sort of data is on which drive, you can keep all of the drives in use despite most of your data not being used. That&#x27;s part of why storage is comparatively cheap but reads are comparatively expensive.</div><br/><div id="36901900" class="c"><input type="checkbox" id="c-36901900" checked=""/><div class="controls bullet"><span class="by">donavanm</span><span>|</span><a href="#36900472">root</a><span>|</span><a href="#36901517">parent</a><span>|</span><a href="#36904224">next</a><span>|</span><label class="collapse" for="c-36901900">[-]</label><label class="expand" for="c-36901900">[1 more]</label></div><br/><div class="children"><div class="content">You get similar properties&#x2F;challenges in lots of multi consumer storage scenarios. I learned lots of similar lessons working on CDNs when it comes to object distribution and access rates.<p>If youre interested go search for some of the published work from &quot;Coho Data&quot;, they had some great usenix presentations IIRC. This was the previous company Andy Warfield was at and they had an emphasis on effective tracking &amp; prediction of IO workloads across very large datasets.</div><br/></div></div></div></div><div id="36904224" class="c"><input type="checkbox" id="c-36904224" checked=""/><div class="controls bullet"><span class="by">kuchenbecker</span><span>|</span><a href="#36900472">parent</a><span>|</span><a href="#36901517">prev</a><span>|</span><a href="#36901280">next</a><span>|</span><label class="collapse" for="c-36904224">[-]</label><label class="expand" for="c-36904224">[1 more]</label></div><br/><div class="children"><div class="content">As someone in this area: we very much want to make your EiB of data to feel local. It&#x27;s hard and I&#x27;m sorry we only have 3.5 9&#x27;s of read availability.</div><br/></div></div><div id="36901280" class="c"><input type="checkbox" id="c-36901280" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#36900472">parent</a><span>|</span><a href="#36904224">prev</a><span>|</span><a href="#36900533">next</a><span>|</span><label class="collapse" for="c-36901280">[-]</label><label class="expand" for="c-36901280">[12 more]</label></div><br/><div class="children"><div class="content">Unfortunately many tools in genomics (and biotech in general) still depend on local filesystems- and even if they do support S3, performance is far slower than it could be.</div><br/><div id="36902162" class="c"><input type="checkbox" id="c-36902162" checked=""/><div class="controls bullet"><span class="by">epistasis</span><span>|</span><a href="#36900472">root</a><span>|</span><a href="#36901280">parent</a><span>|</span><a href="#36902102">next</a><span>|</span><label class="collapse" for="c-36902162">[-]</label><label class="expand" for="c-36902162">[8 more]</label></div><br/><div class="children"><div class="content">Most of these tools treat the &quot;local file&quot; as a stream which can be a pipe to a network stream from the object store.<p>The files that are not streamed and need random access are often better on a local ephemeral SSDs or in RAM after a fetch of the, say, 50GB hash table, or whatever it is.<p>At least, that&#x27;s my experience: streams and in-RAM pre-processed DBs are &gt;99% of file IO.</div><br/><div id="36902235" class="c"><input type="checkbox" id="c-36902235" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#36900472">root</a><span>|</span><a href="#36902162">parent</a><span>|</span><a href="#36902102">next</a><span>|</span><label class="collapse" for="c-36902235">[-]</label><label class="expand" for="c-36902235">[7 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t make my statement out of ignorance.<p>Most of these applications depend on OS optimizations that have been made over the decades; multithreaded readers, readahead, and caching are critically important to read performance.  In principle, a remote storage system could be as fast as a local disk.  This includes random access.  after all, the storage system is just a bunch of drives attached to machines connected by networks.<p>When I worked at Google I wrote a mapreduce that converted BAM files to sstables which are sorted, sharded by key, and sit in an object store like S3.  Once the files were in sstables (or columnio) we could do realtime analytics using modern tools.</div><br/><div id="36902407" class="c"><input type="checkbox" id="c-36902407" checked=""/><div class="controls bullet"><span class="by">epistasis</span><span>|</span><a href="#36900472">root</a><span>|</span><a href="#36902235">parent</a><span>|</span><a href="#36902102">next</a><span>|</span><label class="collapse" for="c-36902407">[-]</label><label class="expand" for="c-36902407">[6 more]</label></div><br/><div class="children"><div class="content">Right, most people that try to really optimize these things do not have access to the parallelism tools thay Google has built, and end up doing their own ad-hoc sharding schemes. Things that can be built by 1-3 people over the course of a few weeks tk solve ann immediate scaling problem. And of course BAM itself dates back to before standardized serialization formats were brought out of Google.<p>Even with potential optimizations, initiating a seek on GCS or S3 is far far slower than on a local SSD, so even if Google exposes fast cross-network seeks on objects inside an internal object store system, it is not readily accessible to the plebes like me and 99.9% of genomicists that use cloud systems or their own hardware.</div><br/><div id="36903662" class="c"><input type="checkbox" id="c-36903662" checked=""/><div class="controls bullet"><span class="by">anderspitman</span><span>|</span><a href="#36900472">root</a><span>|</span><a href="#36902407">parent</a><span>|</span><a href="#36903498">next</a><span>|</span><label class="collapse" for="c-36903662">[-]</label><label class="expand" for="c-36903662">[2 more]</label></div><br/><div class="children"><div class="content">You might be interested in our paper that just got published in Bioinformatics today as chance would have it: <a href="https:&#x2F;&#x2F;academic.oup.com&#x2F;bioinformatics&#x2F;advance-article-abstract&#x2F;doi&#x2F;10.1093&#x2F;bioinformatics&#x2F;btad463&#x2F;7232227?utm_source=advanceaccess&amp;utm_campaign=bioinformatics&amp;utm_medium=email" rel="nofollow noreferrer">https:&#x2F;&#x2F;academic.oup.com&#x2F;bioinformatics&#x2F;advance-article-abst...</a></div><br/><div id="36903764" class="c"><input type="checkbox" id="c-36903764" checked=""/><div class="controls bullet"><span class="by">epistasis</span><span>|</span><a href="#36900472">root</a><span>|</span><a href="#36903662">parent</a><span>|</span><a href="#36903498">next</a><span>|</span><label class="collapse" for="c-36903764">[-]</label><label class="expand" for="c-36903764">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for sharing, I&#x27;ll check it out. It would be interesting to see if it would help with these pretty astonishing Open Omics results that recently came out:<p><a href="https:&#x2F;&#x2F;community.intel.com&#x2F;t5&#x2F;Blogs&#x2F;Tech-Innovation&#x2F;Artificial-Intelligence-AI&#x2F;Intel-Xeon-is-all-you-need-for-AI-inference-Performance&#x2F;post&#x2F;1506083" rel="nofollow noreferrer">https:&#x2F;&#x2F;community.intel.com&#x2F;t5&#x2F;Blogs&#x2F;Tech-Innovation&#x2F;Artific...</a></div><br/></div></div></div></div><div id="36903498" class="c"><input type="checkbox" id="c-36903498" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#36900472">root</a><span>|</span><a href="#36902407">parent</a><span>|</span><a href="#36903662">prev</a><span>|</span><a href="#36902102">next</a><span>|</span><label class="collapse" for="c-36903498">[-]</label><label class="expand" for="c-36903498">[3 more]</label></div><br/><div class="children"><div class="content">Of course it’s slower. Your using https to do something that’s meant to be raw binary. The overhead is killing you. Something like iscsci, is pretty quick compared to https as a storage protocol.</div><br/><div id="36903608" class="c"><input type="checkbox" id="c-36903608" checked=""/><div class="controls bullet"><span class="by">epistasis</span><span>|</span><a href="#36900472">root</a><span>|</span><a href="#36903498">parent</a><span>|</span><a href="#36902102">next</a><span>|</span><label class="collapse" for="c-36903608">[-]</label><label class="expand" for="c-36903608">[2 more]</label></div><br/><div class="children"><div class="content">Which is exactly why using standard Unix&#x2F;POSIX files makes sense as a universal interface for genomics programs that are run in highly heterogeneous environments across the world, even if it leads to software engineers wishing that their internal custom data storage systems were used instead.<p>If random access is needed in a cloud environment, use either that local ephemeral SSD, or a cloud block device which is probably just an iSCSI implementation underneath, or at least a close equivalent.<p>Operating fleets of compute and IO in cloud environments means that POSIX semantics generally work really well for genomics.<p>Folks that have reimplemented basic genomics algorithms on top of protocol buffers  standardized serialization still store them as BLOBs, and have not delivered benefits that can be realized in publicly available compute environments.</div><br/><div id="36903660" class="c"><input type="checkbox" id="c-36903660" checked=""/><div class="controls bullet"><span class="by">withinboredom</span><span>|</span><a href="#36900472">root</a><span>|</span><a href="#36903608">parent</a><span>|</span><a href="#36902102">next</a><span>|</span><label class="collapse" for="c-36903660">[-]</label><label class="expand" for="c-36903660">[1 more]</label></div><br/><div class="children"><div class="content">I’m still waiting for people to realize nvme doesn’t have to be local in newer kernels. That’s when the real fun will begin.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="36902102" class="c"><input type="checkbox" id="c-36902102" checked=""/><div class="controls bullet"><span class="by">seized</span><span>|</span><a href="#36900472">root</a><span>|</span><a href="#36901280">parent</a><span>|</span><a href="#36902162">prev</a><span>|</span><a href="#36900533">next</a><span>|</span><label class="collapse" for="c-36902102">[-]</label><label class="expand" for="c-36902102">[3 more]</label></div><br/><div class="children"><div class="content">The latency is higher so the key is parallelism... Which means you need more cores&#x2F;hardware&#x2F;VMs&#x2F;pick your poison. New but same problem...</div><br/><div id="36902316" class="c"><input type="checkbox" id="c-36902316" checked=""/><div class="controls bullet"><span class="by">dekhn</span><span>|</span><a href="#36900472">root</a><span>|</span><a href="#36902102">parent</a><span>|</span><a href="#36900533">next</a><span>|</span><label class="collapse" for="c-36902316">[-]</label><label class="expand" for="c-36902316">[2 more]</label></div><br/><div class="children"><div class="content">Is single-job performance the only criterion?  Or can you just run a bunch of different jobs at the same time (genomics has many embarassingly parallel problems, often per-sample) and use the higher aggregate storage bandwidth of your object store to get &quot;more work done in unit time&quot;.</div><br/><div id="36902459" class="c"><input type="checkbox" id="c-36902459" checked=""/><div class="controls bullet"><span class="by">seized</span><span>|</span><a href="#36900472">root</a><span>|</span><a href="#36902316">parent</a><span>|</span><a href="#36900533">next</a><span>|</span><label class="collapse" for="c-36902459">[-]</label><label class="expand" for="c-36902459">[1 more]</label></div><br/><div class="children"><div class="content">I did the latter, across usually about 4000+ CPUs. That got me a peak of 15 or so GB&#x2F;sec read from one GCS bucket, writing to another.<p>But yeah if it&#x27;s not something that can be paralleled then it sucks.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36900533" class="c"><input type="checkbox" id="c-36900533" checked=""/><div class="controls bullet"><span class="by">deathanatos</span><span>|</span><a href="#36900472">prev</a><span>|</span><a href="#36900685">next</a><span>|</span><label class="collapse" for="c-36900533">[-]</label><label class="expand" for="c-36900533">[6 more]</label></div><br/><div class="children"><div class="content">&gt; <i>Now, let’s go back to that first hard drive, the IBM RAMAC from 1956. Here are some specs on that thing:</i><p>&gt; <i>Storage Capacity: 3.75 MB</i><p>&gt; <i>Cost: ~$9,200&#x2F;terabyte</i><p>Those specs can&#x27;t possibly be correct. If you multiply the cost by the storage, the cost of the drive works out to 3¢.<p>This site[1] states,<p>&gt; <i>It stored about 2,000 bits of data per square inch and had a purchase price of about $10,000 per megabyte</i><p>So perhaps the specs should read $9,200 &#x2F; <i>megabyte</i>? (Which would put the drive&#x27;s cost at $34,500, which seems more plausible.)<p>[1]: <a href="https:&#x2F;&#x2F;www.historyofinformation.com&#x2F;detail.php?entryid=952" rel="nofollow noreferrer">https:&#x2F;&#x2F;www.historyofinformation.com&#x2F;detail.php?entryid=952</a></div><br/><div id="36900728" class="c"><input type="checkbox" id="c-36900728" checked=""/><div class="controls bullet"><span class="by">andywarfield</span><span>|</span><a href="#36900533">parent</a><span>|</span><a href="#36900717">next</a><span>|</span><label class="collapse" for="c-36900728">[-]</label><label class="expand" for="c-36900728">[1 more]</label></div><br/><div class="children"><div class="content">oh shoot. good catch, thanks!</div><br/></div></div><div id="36900717" class="c"><input type="checkbox" id="c-36900717" checked=""/><div class="controls bullet"><span class="by">acdha</span><span>|</span><a href="#36900533">parent</a><span>|</span><a href="#36900728">prev</a><span>|</span><a href="#36900800">next</a><span>|</span><label class="collapse" for="c-36900717">[-]</label><label class="expand" for="c-36900717">[2 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;IBM_305_RAMAC" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;IBM_305_RAMAC</a> has the likely source of the error: 30M bits (using the 6 data bits but not parity), but it rented for $3k per month so you didn’t have a set cost the same as buying a physical drive outright - very close to S3’s model, though.</div><br/><div id="36901748" class="c"><input type="checkbox" id="c-36901748" checked=""/><div class="controls bullet"><span class="by">nijave</span><span>|</span><a href="#36900533">root</a><span>|</span><a href="#36900717">parent</a><span>|</span><a href="#36900800">next</a><span>|</span><label class="collapse" for="c-36901748">[-]</label><label class="expand" for="c-36901748">[1 more]</label></div><br/><div class="children"><div class="content">I think this is still IBMs license model (at least a few years ago). It was explained to me you basically license a certain amount of compute even though the hardware is in your data center and you pay overages if you exceed your licensed throughput.<p>Since you license a fixed amount, there were projects at the company looking at running batch&#x2F;non time sensitive jobs on the mainframe since it was effectively free off peak (I guess power cost was trivially compared to licensing).</div><br/></div></div></div></div><div id="36900800" class="c"><input type="checkbox" id="c-36900800" checked=""/><div class="controls bullet"><span class="by">birdyrooster</span><span>|</span><a href="#36900533">parent</a><span>|</span><a href="#36900717">prev</a><span>|</span><a href="#36900685">next</a><span>|</span><label class="collapse" for="c-36900800">[-]</label><label class="expand" for="c-36900800">[2 more]</label></div><br/><div class="children"><div class="content">Must&#x27;ve put a decimal point in the wrong place or something. I always do that. I always mess up some mundane detail.</div><br/><div id="36901050" class="c"><input type="checkbox" id="c-36901050" checked=""/><div class="controls bullet"><span class="by">S_A_P</span><span>|</span><a href="#36900533">root</a><span>|</span><a href="#36900800">parent</a><span>|</span><a href="#36900685">next</a><span>|</span><label class="collapse" for="c-36901050">[-]</label><label class="expand" for="c-36901050">[1 more]</label></div><br/><div class="children"><div class="content">Did you get the memo? Yeah I will go ahead and get you another copy of that memo.</div><br/></div></div></div></div></div></div><div id="36900685" class="c"><input type="checkbox" id="c-36900685" checked=""/><div class="controls bullet"><span class="by">anderspitman</span><span>|</span><a href="#36900533">prev</a><span>|</span><a href="#36901991">next</a><span>|</span><label class="collapse" for="c-36900685">[-]</label><label class="expand" for="c-36900685">[11 more]</label></div><br/><div class="children"><div class="content">The things we could build if S3 specified a simple OAuth2-based protocol for delegating read&#x2F;write access. The world needs an HTTP-based protocol for apps to access data on the user&#x27;s behalf. Google Drive is the closest to this but it only has a single provider and other issues[0]. I&#x27;m sad remoteStorage never caught on. I really hope Solid does well but it feels too complex to me. My own take on the problem is <a href="https:&#x2F;&#x2F;gemdrive.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;gemdrive.io&#x2F;</a>, but it&#x27;s mostly on hold while I&#x27;m focused on other parts of the self-hosting stack.<p>[0]: <a href="https:&#x2F;&#x2F;gdrivemusic.com&#x2F;help" rel="nofollow noreferrer">https:&#x2F;&#x2F;gdrivemusic.com&#x2F;help</a></div><br/><div id="36901849" class="c"><input type="checkbox" id="c-36901849" checked=""/><div class="controls bullet"><span class="by">simonw</span><span>|</span><a href="#36900685">parent</a><span>|</span><a href="#36903706">next</a><span>|</span><label class="collapse" for="c-36901849">[-]</label><label class="expand" for="c-36901849">[1 more]</label></div><br/><div class="children"><div class="content">Absolutely this. I would LOVE to be able to build apps that store people&#x27;s data in their own S3 bucket, billed to their own account.<p>Doing that right now is monumentally difficult. I built an entire CLI app just for solving the &quot;issue AWS credentials that can only access this specific bucket&quot; problem, but I really don&#x27;t want to have to talk my users through installing and running something like that: <a href="https:&#x2F;&#x2F;s3-credentials.readthedocs.io&#x2F;en&#x2F;stable&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;s3-credentials.readthedocs.io&#x2F;en&#x2F;stable&#x2F;</a></div><br/></div></div><div id="36903706" class="c"><input type="checkbox" id="c-36903706" checked=""/><div class="controls bullet"><span class="by">jamesblonde</span><span>|</span><a href="#36900685">parent</a><span>|</span><a href="#36901849">prev</a><span>|</span><a href="#36901942">next</a><span>|</span><label class="collapse" for="c-36903706">[-]</label><label class="expand" for="c-36903706">[2 more]</label></div><br/><div class="children"><div class="content">Most apps, however, assume POSIX-like data access. I would love to see a client-side minimally dependent library that mounts a local directory that is actually the user&#x27;s S3 bucket.</div><br/><div id="36904419" class="c"><input type="checkbox" id="c-36904419" checked=""/><div class="controls bullet"><span class="by">afr0ck</span><span>|</span><a href="#36900685">root</a><span>|</span><a href="#36903706">parent</a><span>|</span><a href="#36901942">next</a><span>|</span><label class="collapse" for="c-36904419">[-]</label><label class="expand" for="c-36904419">[1 more]</label></div><br/><div class="children"><div class="content">Linux has FUSE, which is a framework to develop user-level filesystems. Mounting S3 buckets is a very good use case. Sshfs and httpfs are more or less similar in this regard.</div><br/></div></div></div></div><div id="36901942" class="c"><input type="checkbox" id="c-36901942" checked=""/><div class="controls bullet"><span class="by">gusmd</span><span>|</span><a href="#36900685">parent</a><span>|</span><a href="#36903706">prev</a><span>|</span><a href="#36901956">next</a><span>|</span><label class="collapse" for="c-36901942">[-]</label><label class="expand" for="c-36901942">[1 more]</label></div><br/><div class="children"><div class="content">You can get close with a Cognito Identity Pool that exchanges your user&#x27;s keys for AWS credentials associated with an IAM role that has access to the resources you want to read&#x2F;write on their behalf. Pretty standard pattern.<p><a href="https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;cognito&#x2F;latest&#x2F;developerguide&#x2F;cognito-identity.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;cognito&#x2F;latest&#x2F;developerguide&#x2F;co...</a><p>edit: I think I misread your comment. I understood it as your app wanting to delegate access to a user&#x27;s data to the client, but it seems like you want the user to delegate access to their own data to your app? Different use-cases.</div><br/></div></div><div id="36901956" class="c"><input type="checkbox" id="c-36901956" checked=""/><div class="controls bullet"><span class="by">ent101</span><span>|</span><a href="#36900685">parent</a><span>|</span><a href="#36901942">prev</a><span>|</span><a href="#36901467">next</a><span>|</span><label class="collapse" for="c-36901956">[-]</label><label class="expand" for="c-36901956">[2 more]</label></div><br/><div class="children"><div class="content">We&#x27;re building this at <a href="https:&#x2F;&#x2F;puter.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;puter.com</a></div><br/><div id="36902621" class="c"><input type="checkbox" id="c-36902621" checked=""/><div class="controls bullet"><span class="by">anderspitman</span><span>|</span><a href="#36900685">root</a><span>|</span><a href="#36901956">parent</a><span>|</span><a href="#36901467">next</a><span>|</span><label class="collapse" for="c-36902621">[-]</label><label class="expand" for="c-36902621">[1 more]</label></div><br/><div class="children"><div class="content">You mean you&#x27;re implementing something like this to be used by puter.com?</div><br/></div></div></div></div><div id="36901467" class="c"><input type="checkbox" id="c-36901467" checked=""/><div class="controls bullet"><span class="by">Spivak</span><span>|</span><a href="#36900685">parent</a><span>|</span><a href="#36901956">prev</a><span>|</span><a href="#36901991">next</a><span>|</span><label class="collapse" for="c-36901467">[-]</label><label class="expand" for="c-36901467">[4 more]</label></div><br/><div class="children"><div class="content">Such a system would be amazing. It would really force companies whose products are UIs on top of S3 to compete hard because adversarial interoperability would be an ever present threat from your competitors.<p>It really is such a shame that all the projects that tried&#x2F;are trying to create data sovereignty for users became weird crypto.</div><br/><div id="36901710" class="c"><input type="checkbox" id="c-36901710" checked=""/><div class="controls bullet"><span class="by">ttymck</span><span>|</span><a href="#36900685">root</a><span>|</span><a href="#36901467">parent</a><span>|</span><a href="#36901991">next</a><span>|</span><label class="collapse" for="c-36901710">[-]</label><label class="expand" for="c-36901710">[3 more]</label></div><br/><div class="children"><div class="content">I agree with both halves of your comment, but I realized I can&#x27;t identify the connection between S3 oauth and data sovereignty. Could you elaborate?</div><br/><div id="36901975" class="c"><input type="checkbox" id="c-36901975" checked=""/><div class="controls bullet"><span class="by">Spivak</span><span>|</span><a href="#36900685">root</a><span>|</span><a href="#36901710">parent</a><span>|</span><a href="#36901991">next</a><span>|</span><label class="collapse" for="c-36901975">[-]</label><label class="expand" for="c-36901975">[2 more]</label></div><br/><div class="children"><div class="content">So the idea would be that you have an account with AWS (or realistically a more consumer friendly service that&#x27;s Amazon branded) where all your data lives. Then when you use say Dropbox you can pick &quot;Use my own storage&quot; and grant Dropbox via OAuth the ability to write to &#x2F;dropbox in your bucket and all your files would live there instead of Dropbox&#x27;s servers. Lots of the data sovereignty solutions also include a database like interface you can grant apps the ability to use but I can&#x27;t imagine that catching on initially.<p>Apple actually already does this with iCloud storage but hides it really well so it feels seamless.</div><br/><div id="36904210" class="c"><input type="checkbox" id="c-36904210" checked=""/><div class="controls bullet"><span class="by">BHSPitMonkey</span><span>|</span><a href="#36900685">root</a><span>|</span><a href="#36901975">parent</a><span>|</span><a href="#36901991">next</a><span>|</span><label class="collapse" for="c-36904210">[-]</label><label class="expand" for="c-36904210">[1 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t this essentially how the Dropbox API already works (for apps that support using it)? I&#x27;ve used many apps over the years that offer this option alongside some alternatives.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="36901991" class="c"><input type="checkbox" id="c-36901991" checked=""/><div class="controls bullet"><span class="by">Narciss</span><span>|</span><a href="#36900685">prev</a><span>|</span><a href="#36902438">next</a><span>|</span><label class="collapse" for="c-36901991">[-]</label><label class="expand" for="c-36901991">[9 more]</label></div><br/><div class="children"><div class="content">&quot;As a really senior engineer in the company, of course I have strong opinions and I absolutely have a technical agenda. But If I interact with engineers by just trying to dispense ideas, it’s really hard for any of us to be successful. It’s a lot harder to get invested in an idea that you don’t own. So, when I work with teams, I’ve kind of taken the strategy that my best ideas are the ones that other people have instead of me. I consciously spend a lot more time trying to develop problems, and to do a really good job of articulating them, rather than trying to pitch solutions. There are often multiple ways to solve a problem, and picking the right one is letting someone own the solution.&quot;<p>&quot;I learned that to really be successful in my own role, I needed to focus on articulating the problems and not the solutions, and to find ways to support strong engineering teams in really owning those solutions.&quot;<p>I love this. Reminds me of the Ikea effect to an extent. Based on this, to get someone to be enthusiastic about what they do, you have to encourage ownership. And a great way is to have it be &#x27;their idea&#x27;.</div><br/><div id="36902201" class="c"><input type="checkbox" id="c-36902201" checked=""/><div class="controls bullet"><span class="by">rtpg</span><span>|</span><a href="#36901991">parent</a><span>|</span><a href="#36902481">next</a><span>|</span><label class="collapse" for="c-36902201">[-]</label><label class="expand" for="c-36902201">[2 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t mean this to be cynical, but I do think that it&#x27;s worth acknowledging that describing the problem is also, in itself, a tool to guide people towards a solution they want. After all, people often disagree about what &quot;the problem&quot; even is!<p>Fortunately not every problem is like this. But if you look at, say, discussions around Python&#x27;s &quot;packaging problem&quot; (and find people in fact describing like 6 different problems in very different ways), you can see this play out pretty nastily.</div><br/><div id="36902465" class="c"><input type="checkbox" id="c-36902465" checked=""/><div class="controls bullet"><span class="by">skybrian</span><span>|</span><a href="#36901991">root</a><span>|</span><a href="#36902201">parent</a><span>|</span><a href="#36902481">next</a><span>|</span><label class="collapse" for="c-36902465">[-]</label><label class="expand" for="c-36902465">[1 more]</label></div><br/><div class="children"><div class="content">At a toy scale, using ChatGPT&#x27;s Code Interpreter to do some programming for fun can be an exercise in getting what you want from an inconsistent worker by changing the problem definition (prompt engineering).<p>This is sort of like:<p>* writing an exam question so the person taking the exam is likely to get the answer you want<p>* guiding someone in a code interview that isn&#x27;t going so well, without giving away the answer<p>* being in the back seat while pair programming, except you&#x27;re not allowed to take a turn at the keyboard</div><br/></div></div></div></div><div id="36902481" class="c"><input type="checkbox" id="c-36902481" checked=""/><div class="controls bullet"><span class="by">dylan604</span><span>|</span><a href="#36901991">parent</a><span>|</span><a href="#36902201">prev</a><span>|</span><a href="#36902534">next</a><span>|</span><label class="collapse" for="c-36902481">[-]</label><label class="expand" for="c-36902481">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a saying that I&#x27;m often told, and I&#x27;m sure we&#x27;ve all heard it at some point &quot;don&#x27;t bring me problems, bring me solutions&quot;. It&#x27;s such a shit comment to make.<p>I interpret it as if they are saying &quot;You plebe! I don&#x27;t have time for your issues. I can&#x27;t get promoted from your work if you only bring problems.&quot;<p>Being able to solve the problem is being able to understand the problem and admit it exists first. &lt;smacksMyDamnHead&gt;</div><br/><div id="36903178" class="c"><input type="checkbox" id="c-36903178" checked=""/><div class="controls bullet"><span class="by">yashap</span><span>|</span><a href="#36901991">root</a><span>|</span><a href="#36902481">parent</a><span>|</span><a href="#36902534">next</a><span>|</span><label class="collapse" for="c-36903178">[-]</label><label class="expand" for="c-36903178">[1 more]</label></div><br/><div class="children"><div class="content">Depends how it’s used. If it’s used in an org where major, high impact problems are ignored, as a way to just say “ignore all problems”, then yeah, it’s a shit comment.<p>However, if it’s used to legitimately say “don’t just complain, fix”, then I think it’s a positive. An organization where everyone is constantly negative and complaining about every little issue, but not working to implement improvements&#x2F;fixes, is essentially a failed company. Successful companies are full of people who actively fix the high impact problems, while also being realists, who can accept that the low impact problems aren’t worth the effort to fix, and aren’t worth endlessly complaining about.</div><br/></div></div></div></div><div id="36902534" class="c"><input type="checkbox" id="c-36902534" checked=""/><div class="controls bullet"><span class="by">ChainOfFools</span><span>|</span><a href="#36901991">parent</a><span>|</span><a href="#36902481">prev</a><span>|</span><a href="#36902492">next</a><span>|</span><label class="collapse" for="c-36902534">[-]</label><label class="expand" for="c-36902534">[1 more]</label></div><br/><div class="children"><div class="content">I strongly agree with this perspective but I wish it could be generalized into techniques that work in everyday life, where there isn&#x27;t already this established ranking of expertise that focuses attention on what is being said and not whether you have the clout or the authority to say it.<p>Because absent preestablied perceived authority or expertise, which is the context that most day to day problems surface within, holding forth and hogging the entire two-way discussion channel with your long detailed and carefully articulated description of the problem is going to make you sound like someone who wants to do all the talking and none of the work, or the kind of person who doesn&#x27;t want to share in finding a solution together with others.</div><br/></div></div><div id="36902492" class="c"><input type="checkbox" id="c-36902492" checked=""/><div class="controls bullet"><span class="by">niscocity35</span><span>|</span><a href="#36901991">parent</a><span>|</span><a href="#36902534">prev</a><span>|</span><a href="#36902108">next</a><span>|</span><label class="collapse" for="c-36902492">[-]</label><label class="expand" for="c-36902492">[1 more]</label></div><br/><div class="children"><div class="content">this only works if your team are made up of smart competent people.</div><br/></div></div><div id="36902108" class="c"><input type="checkbox" id="c-36902108" checked=""/><div class="controls bullet"><span class="by">forrestthewoods</span><span>|</span><a href="#36901991">parent</a><span>|</span><a href="#36902492">prev</a><span>|</span><a href="#36902438">next</a><span>|</span><label class="collapse" for="c-36902108">[-]</label><label class="expand" for="c-36902108">[2 more]</label></div><br/><div class="children"><div class="content">That section really stood out to be as well.<p>If Andy Warfield is reading, and I bet he is, I have a question. When developing a problem how valuable is it to sketch possible solutions? If you articulate the problem that probably springs to mind a few possible solutions. Is it worth sharing those possible solutions to help kickstart the gears for potential owners? Or is it better to focus only on the problem and let the solution space be fully green?<p>Additionally, anyone have further reading for this type of “very senior IC” operation?</div><br/><div id="36903252" class="c"><input type="checkbox" id="c-36903252" checked=""/><div class="controls bullet"><span class="by">tsxxst</span><span>|</span><a href="#36901991">root</a><span>|</span><a href="#36902108">parent</a><span>|</span><a href="#36902438">next</a><span>|</span><label class="collapse" for="c-36903252">[-]</label><label class="expand" for="c-36903252">[1 more]</label></div><br/><div class="children"><div class="content">For the &quot;very senior IC&quot;, I&#x27;d recommend <a href="https:&#x2F;&#x2F;staffeng.com" rel="nofollow noreferrer">https:&#x2F;&#x2F;staffeng.com</a></div><br/></div></div></div></div></div></div><div id="36902438" class="c"><input type="checkbox" id="c-36902438" checked=""/><div class="controls bullet"><span class="by">mannyv</span><span>|</span><a href="#36901991">prev</a><span>|</span><a href="#36900921">next</a><span>|</span><label class="collapse" for="c-36902438">[-]</label><label class="expand" for="c-36902438">[3 more]</label></div><br/><div class="children"><div class="content">What most people don&#x27;t realize is that the magic isn&#x27;t in handling the system itself; the magic is making authorization appear to be zero-cost.<p>In distributed systems authorization is incredibly difficult. At the scale of AWS it might as well be magic. AWS has a rich permissions model with changes to authorization bubbling through the infrastructure at sub-millisecond speed - while handling probably trillions of requests.<p>This and logging&#x2F;accounting for billing are the two magic pieces of AWS that I&#x27;d love to see an article about.<p>Note that S3 does AA differently than other services, because the permissions are on the resource. I suspect that&#x27;s for speed?</div><br/><div id="36902992" class="c"><input type="checkbox" id="c-36902992" checked=""/><div class="controls bullet"><span class="by">awithrow</span><span>|</span><a href="#36902438">parent</a><span>|</span><a href="#36900921">next</a><span>|</span><label class="collapse" for="c-36902992">[-]</label><label class="expand" for="c-36902992">[2 more]</label></div><br/><div class="children"><div class="content">Keep in mind that S3 predates IAM by several years. So part of the reason that access to buckets&#x2F;keys is special is because it was already in place by the time IAM came around.<p>Its likely persisted since than largely since removing the old model would be a difficult taks without potentially breaking a lot of customer&#x27;s setup</div><br/><div id="36904303" class="c"><input type="checkbox" id="c-36904303" checked=""/><div class="controls bullet"><span class="by">mannyv</span><span>|</span><a href="#36902438">root</a><span>|</span><a href="#36902992">parent</a><span>|</span><a href="#36900921">next</a><span>|</span><label class="collapse" for="c-36904303">[-]</label><label class="expand" for="c-36904303">[1 more]</label></div><br/><div class="children"><div class="content">Exactly. This difference makes it easier to (1)understand how IAM works, and (2) how the s3 works...because IAM and S3 work together, but in a different way than the other services.<p>I heard that AA is done via asics, but resource-level permissions implies that  authorization is done at the local level for s3. To me that implies that the system extracts S3 permissions from IAM and sends them downstream s3, which get merged with stuff that s3 manages.<p>I guess that occurs when permissions are saved up in IAM world.  At some point those need to be joined against a principal somewhere, as roles can exist without assignment.<p>Again, it&#x27;s be so interesting to see how this is done IRL.</div><br/></div></div></div></div></div></div><div id="36900921" class="c"><input type="checkbox" id="c-36900921" checked=""/><div class="controls bullet"><span class="by">jl6</span><span>|</span><a href="#36902438">prev</a><span>|</span><a href="#36900304">next</a><span>|</span><label class="collapse" for="c-36900921">[-]</label><label class="expand" for="c-36900921">[20 more]</label></div><br/><div class="children"><div class="content">Great to see Amazon employees being allowed to talk openly about how S3 works behind the scenes. I would love to hear more about how Glacier works. As far as I know, they have never revealed what the underlying storage medium is, leading to a lot of wild speculation (tape? offline HDDs? custom HDDs?).</div><br/><div id="36901447" class="c"><input type="checkbox" id="c-36901447" checked=""/><div class="controls bullet"><span class="by">blindhippo</span><span>|</span><a href="#36900921">parent</a><span>|</span><a href="#36901182">next</a><span>|</span><label class="collapse" for="c-36901447">[-]</label><label class="expand" for="c-36901447">[1 more]</label></div><br/><div class="children"><div class="content">Amazon engineer here - can confirm that Glacier transcodes all data on to the backs of the shells of the turtles that hold up the universe. Infinite storage medium, if a bit slow.</div><br/></div></div><div id="36901182" class="c"><input type="checkbox" id="c-36901182" checked=""/><div class="controls bullet"><span class="by">Twirrim</span><span>|</span><a href="#36900921">parent</a><span>|</span><a href="#36901447">prev</a><span>|</span><a href="#36903592">next</a><span>|</span><label class="collapse" for="c-36901182">[-]</label><label class="expand" for="c-36901182">[6 more]</label></div><br/><div class="children"><div class="content">Glacier is a big &quot;keep your lips sealed&quot; one.  I&#x27;d love AWS to talk about everything there, and the entire journey it was on because it is truly fascinating.</div><br/><div id="36901395" class="c"><input type="checkbox" id="c-36901395" checked=""/><div class="controls bullet"><span class="by">anyoneamous</span><span>|</span><a href="#36900921">root</a><span>|</span><a href="#36901182">parent</a><span>|</span><a href="#36903592">next</a><span>|</span><label class="collapse" for="c-36901395">[-]</label><label class="expand" for="c-36901395">[5 more]</label></div><br/><div class="children"><div class="content">My impression is that the ambiguity gives them freedom to implement in different ways across different regions and over time.<p>The original Glacier was very clearly tape, but given the instant retrieval capabilities the newer S3-Glacier tiers are most likely just low-margin HDDs, maybe with some dynamic powering on and off of drives&#x2F;servers.</div><br/><div id="36904125" class="c"><input type="checkbox" id="c-36904125" checked=""/><div class="controls bullet"><span class="by">danpalmer</span><span>|</span><a href="#36900921">root</a><span>|</span><a href="#36901395">parent</a><span>|</span><a href="#36902118">next</a><span>|</span><label class="collapse" for="c-36904125">[-]</label><label class="expand" for="c-36904125">[1 more]</label></div><br/><div class="children"><div class="content">I’m sure it’s a mix. Back when it launched there were a number of rumours about it being Blu-Ray based. They had similar capacity for the space used compared to tapes, were considered very physically stable storage mediums, but had long access time as they would need to be physically moved, like tape, explaining the retrieval times.</div><br/></div></div><div id="36902118" class="c"><input type="checkbox" id="c-36902118" checked=""/><div class="controls bullet"><span class="by">bombcar</span><span>|</span><a href="#36900921">root</a><span>|</span><a href="#36901395">parent</a><span>|</span><a href="#36904125">prev</a><span>|</span><a href="#36902255">next</a><span>|</span><label class="collapse" for="c-36902118">[-]</label><label class="expand" for="c-36902118">[2 more]</label></div><br/><div class="children"><div class="content">Glacier is just run on S3 with some sleep statements added.</div><br/><div id="36903595" class="c"><input type="checkbox" id="c-36903595" checked=""/><div class="controls bullet"><span class="by">jdwithit</span><span>|</span><a href="#36900921">root</a><span>|</span><a href="#36902118">parent</a><span>|</span><a href="#36902255">next</a><span>|</span><label class="collapse" for="c-36903595">[-]</label><label class="expand" for="c-36903595">[1 more]</label></div><br/><div class="children"><div class="content">I am going to choose to believe this</div><br/></div></div></div></div><div id="36902255" class="c"><input type="checkbox" id="c-36902255" checked=""/><div class="controls bullet"><span class="by">lytfyre</span><span>|</span><a href="#36900921">root</a><span>|</span><a href="#36901395">parent</a><span>|</span><a href="#36902118">prev</a><span>|</span><a href="#36903592">next</a><span>|</span><label class="collapse" for="c-36902255">[-]</label><label class="expand" for="c-36902255">[1 more]</label></div><br/><div class="children"><div class="content">I recall at launch just about the only implementation detail that _was_ publicly given was that it did not involve tape. That&#x27;s going to be difficult to dig up a cite on years later.<p>No idea how it&#x27;s evolved over the years, so for all I know it&#x27;s tape based these days.</div><br/></div></div></div></div></div></div><div id="36903592" class="c"><input type="checkbox" id="c-36903592" checked=""/><div class="controls bullet"><span class="by">jdwithit</span><span>|</span><a href="#36900921">parent</a><span>|</span><a href="#36901182">prev</a><span>|</span><a href="#36901000">next</a><span>|</span><label class="collapse" for="c-36903592">[-]</label><label class="expand" for="c-36903592">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s honestly super impressive that it&#x27;s never leaked. All it takes is one engineer getting drunk and spouting off. In much higher stakes, a soldier in Massachusetts is about to go to jail for a long time for leaking national security intel on Discord to look cool to his gamer buddies. I would have expected details on Glacier to come out by now.</div><br/></div></div><div id="36901000" class="c"><input type="checkbox" id="c-36901000" checked=""/><div class="controls bullet"><span class="by">inopinatus</span><span>|</span><a href="#36900921">parent</a><span>|</span><a href="#36903592">prev</a><span>|</span><a href="#36901310">next</a><span>|</span><label class="collapse" for="c-36901000">[-]</label><label class="expand" for="c-36901000">[4 more]</label></div><br/><div class="children"><div class="content">Never officially stated, but frequent leaks from insiders confirm that Glacier is based on Very Large Arrays of Wax Phonograph Records (VLAWPR) technology.</div><br/><div id="36901173" class="c"><input type="checkbox" id="c-36901173" checked=""/><div class="controls bullet"><span class="by">Twirrim</span><span>|</span><a href="#36900921">root</a><span>|</span><a href="#36901000">parent</a><span>|</span><a href="#36901310">next</a><span>|</span><label class="collapse" for="c-36901173">[-]</label><label class="expand" for="c-36901173">[3 more]</label></div><br/><div class="children"><div class="content">We came up with that idea in Glacier during the run up to April one year (2014, I think?), half jokingly suggested it as an April Fool&#x27;s Day Joke, but Amazon quite reasonably decided against doing such jokes.<p>One of the tag line ideas we had was &quot;8 out of 10 customers say they prefer the feel of their data after it is restored&quot;</div><br/><div id="36903625" class="c"><input type="checkbox" id="c-36903625" checked=""/><div class="controls bullet"><span class="by">jdwithit</span><span>|</span><a href="#36900921">root</a><span>|</span><a href="#36901173">parent</a><span>|</span><a href="#36901564">next</a><span>|</span><label class="collapse" for="c-36903625">[-]</label><label class="expand" for="c-36903625">[1 more]</label></div><br/><div class="children"><div class="content">This would have been incredible. But I guess I get the angle of not wanting to risk pissing off the audiophile CTO paying you 10 figures per month. Cause he can TOTALLY hear the difference listening to Dark Side of the Moon on vinyl via Monster Cables.</div><br/></div></div><div id="36901564" class="c"><input type="checkbox" id="c-36901564" checked=""/><div class="controls bullet"><span class="by">inopinatus</span><span>|</span><a href="#36900921">root</a><span>|</span><a href="#36901173">parent</a><span>|</span><a href="#36903625">prev</a><span>|</span><a href="#36901310">next</a><span>|</span><label class="collapse" for="c-36901564">[-]</label><label class="expand" for="c-36901564">[1 more]</label></div><br/><div class="children"><div class="content">The real problem is the lack of Star Wars references.</div><br/></div></div></div></div></div></div><div id="36901310" class="c"><input type="checkbox" id="c-36901310" checked=""/><div class="controls bullet"><span class="by">buildbot</span><span>|</span><a href="#36900921">parent</a><span>|</span><a href="#36901000">prev</a><span>|</span><a href="#36903622">next</a><span>|</span><label class="collapse" for="c-36901310">[-]</label><label class="expand" for="c-36901310">[1 more]</label></div><br/><div class="children"><div class="content">Blueray disks are thought to be the key: <a href="https:&#x2F;&#x2F;storagemojo.com&#x2F;2014&#x2F;04&#x2F;25&#x2F;amazons-glacier-secret-bdxl&#x2F;comment-page-1&#x2F;#comments" rel="nofollow noreferrer">https:&#x2F;&#x2F;storagemojo.com&#x2F;2014&#x2F;04&#x2F;25&#x2F;amazons-glacier-secret-bd...</a><p>Some people disagree though. It’s still an unknown.</div><br/></div></div><div id="36903622" class="c"><input type="checkbox" id="c-36903622" checked=""/><div class="controls bullet"><span class="by">fomine3</span><span>|</span><a href="#36900921">parent</a><span>|</span><a href="#36901310">prev</a><span>|</span><a href="#36903485">next</a><span>|</span><label class="collapse" for="c-36903622">[-]</label><label class="expand" for="c-36903622">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t expect high salary engineers leak it, but random contractor at datacenter or supplier would eventually leak if they use special storage device other than HDD&#x2F;SSD. Since we don&#x27;t see any leaks, I suspect that it&#x27;s based on HDD, with very long IO waitlist.</div><br/></div></div><div id="36903485" class="c"><input type="checkbox" id="c-36903485" checked=""/><div class="controls bullet"><span class="by">0cf8612b2e1e</span><span>|</span><a href="#36900921">parent</a><span>|</span><a href="#36903622">prev</a><span>|</span><a href="#36904137">next</a><span>|</span><label class="collapse" for="c-36903485">[-]</label><label class="expand" for="c-36903485">[1 more]</label></div><br/><div class="children"><div class="content">Are there any public details on how Azure or GCP do archival storage?</div><br/></div></div><div id="36904137" class="c"><input type="checkbox" id="c-36904137" checked=""/><div class="controls bullet"><span class="by">ddorian43</span><span>|</span><a href="#36900921">parent</a><span>|</span><a href="#36903485">prev</a><span>|</span><a href="#36902840">next</a><span>|</span><label class="collapse" for="c-36904137">[-]</label><label class="expand" for="c-36904137">[1 more]</label></div><br/><div class="children"><div class="content">Just look at other clouds. I doubt amazon is doing anything special. At least they don&#x27;t reflect any special pricing.</div><br/></div></div><div id="36902840" class="c"><input type="checkbox" id="c-36902840" checked=""/><div class="controls bullet"><span class="by">pkaye</span><span>|</span><a href="#36900921">parent</a><span>|</span><a href="#36904137">prev</a><span>|</span><a href="#36900951">next</a><span>|</span><label class="collapse" for="c-36902840">[-]</label><label class="expand" for="c-36902840">[1 more]</label></div><br/><div class="children"><div class="content">Glacier was originally using actual glaciers as a storage media since they have been around forever. Bu then climate change happened so they quickly shifted to tiered storage of tape and hard drives.</div><br/></div></div></div></div><div id="36900304" class="c"><input type="checkbox" id="c-36900304" checked=""/><div class="controls bullet"><span class="by">jakupovic</span><span>|</span><a href="#36900921">prev</a><span>|</span><a href="#36901075">next</a><span>|</span><label class="collapse" for="c-36900304">[-]</label><label class="expand" for="c-36900304">[1 more]</label></div><br/><div class="children"><div class="content">The part about distributing loads takes me back to S3 KeyMap days and me trying to migrate to it, from initial implementation. What I learned is that even after you identify the hottest objects&#x2F;partitions&#x2F;buckets you cannot simply move them and be done. Everything had to be sorted. The actual solution was to sort and then divide the host&#x27;s partition load into quartiles and move the second quartile partitions onto the least loaded hosts. If one tried to move the hottest buckets, 1st quartile, it would put even more load on the remaining members which would fail, over and over again.<p>Another side effect was that the error rate went from steady ~1% to days without any errors. Consequently we updated the alerts to be much stricter. This was around 2009 or so.<p>Also came from academic background, UM, but instead of getting my PhD I joined S3. It even rhymes :).</div><br/></div></div><div id="36901075" class="c"><input type="checkbox" id="c-36901075" checked=""/><div class="controls bullet"><span class="by">dsalzman</span><span>|</span><a href="#36900304">prev</a><span>|</span><a href="#36901114">next</a><span>|</span><label class="collapse" for="c-36901075">[-]</label><label class="expand" for="c-36901075">[2 more]</label></div><br/><div class="children"><div class="content">&gt; Imagine a hard drive head as a 747 flying over a grassy field at 75 miles per hour. The air gap between the bottom of the plane and the top of the grass is two sheets of paper. Now, if we measure bits on the disk as blades of grass, the track width would be 4.6 blades of grass wide and the bit length would be one blade of grass. As the plane flew over the grass it would count blades of grass and only miss one blade for every 25 thousand times the plane circled the Earth.</div><br/><div id="36903883" class="c"><input type="checkbox" id="c-36903883" checked=""/><div class="controls bullet"><span class="by">Sai_</span><span>|</span><a href="#36901075">parent</a><span>|</span><a href="#36901114">next</a><span>|</span><label class="collapse" for="c-36903883">[-]</label><label class="expand" for="c-36903883">[1 more]</label></div><br/><div class="children"><div class="content">The standing joke is that Americans love strange units of measure but this is one is so outre that it deserves an award.</div><br/></div></div></div></div><div id="36901114" class="c"><input type="checkbox" id="c-36901114" checked=""/><div class="controls bullet"><span class="by">mcapodici</span><span>|</span><a href="#36901075">prev</a><span>|</span><a href="#36903695">next</a><span>|</span><label class="collapse" for="c-36901114">[-]</label><label class="expand" for="c-36901114">[2 more]</label></div><br/><div class="children"><div class="content">S3 is more than storage. It is a standard. I like how you can get S3 compatible (usually with some small caveats) storage from a few places. I am not sure how open the standards is, and if you have to pay Amazon to say you are &quot;S3 compatible&quot; but  it is pretty cool.<p>Examples:<p>iDrive has E2, Digital Ocean has Object Storage, Cloudflare has R2, Vultr has Object Storage, Backblaze has B2</div><br/><div id="36901708" class="c"><input type="checkbox" id="c-36901708" checked=""/><div class="controls bullet"><span class="by">CobrastanJorji</span><span>|</span><a href="#36901114">parent</a><span>|</span><a href="#36903695">next</a><span>|</span><label class="collapse" for="c-36901708">[-]</label><label class="expand" for="c-36901708">[1 more]</label></div><br/><div class="children"><div class="content">Google&#x27;s GCS as well, and I haven&#x27;t used Microsoft, but it&#x27;d be weird if they didn&#x27;t also have an &quot;S3 compatible&quot; option.<p>Edit: I looked it up and apparently no, Azure does not have one :-&#x2F;</div><br/></div></div></div></div><div id="36903695" class="c"><input type="checkbox" id="c-36903695" checked=""/><div class="controls bullet"><span class="by">g9yuayon</span><span>|</span><a href="#36901114">prev</a><span>|</span><a href="#36903973">next</a><span>|</span><label class="collapse" for="c-36903695">[-]</label><label class="expand" for="c-36903695">[3 more]</label></div><br/><div class="children"><div class="content">S3 is a truly amazing piece of technology. It offers peace of mind (well, almost), zero operations, and practically unlimited bandwidth for at least analytics workload. Indeed, it&#x27;s so good that there has not been much progress in building an open-source alternative to S3. There seems not much activity in the Hadoop community. I have yet heard any company who uses RADOS on Ceph to handle PBs of data for analytics workload. MinIO made its name recently, but its license is restrictive and its community is quite small compared to that of Hadoop of its hay days.</div><br/><div id="36903717" class="c"><input type="checkbox" id="c-36903717" checked=""/><div class="controls bullet"><span class="by">Sparkyte</span><span>|</span><a href="#36903695">parent</a><span>|</span><a href="#36904264">next</a><span>|</span><label class="collapse" for="c-36903717">[-]</label><label class="expand" for="c-36903717">[1 more]</label></div><br/><div class="children"><div class="content">There was a time when S3 was getting resilient. Today it is excellent. Pepridge Farms remembers.</div><br/></div></div><div id="36904264" class="c"><input type="checkbox" id="c-36904264" checked=""/><div class="controls bullet"><span class="by">ddorian43</span><span>|</span><a href="#36903695">parent</a><span>|</span><a href="#36903717">prev</a><span>|</span><a href="#36903973">next</a><span>|</span><label class="collapse" for="c-36904264">[-]</label><label class="expand" for="c-36904264">[1 more]</label></div><br/><div class="children"><div class="content">&gt; There seems not much activity in the Hadoop community<p>There is apache ozone <a href="https:&#x2F;&#x2F;ozone.apache.org&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;ozone.apache.org&#x2F;</a></div><br/></div></div></div></div><div id="36903973" class="c"><input type="checkbox" id="c-36903973" checked=""/><div class="controls bullet"><span class="by">_han</span><span>|</span><a href="#36903695">prev</a><span>|</span><a href="#36900712">next</a><span>|</span><label class="collapse" for="c-36903973">[-]</label><label class="expand" for="c-36903973">[1 more]</label></div><br/><div class="children"><div class="content">The talk that this article is based on is available on YouTube: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=sc3J4McebHE">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=sc3J4McebHE</a></div><br/></div></div><div id="36900712" class="c"><input type="checkbox" id="c-36900712" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#36903973">prev</a><span>|</span><a href="#36902584">next</a><span>|</span><label class="collapse" for="c-36900712">[-]</label><label class="expand" for="c-36900712">[9 more]</label></div><br/><div class="children"><div class="content">&gt; What’s interesting here, when you look at the highest-level block diagram of S3’s technical design, is the fact that AWS tends to ship its org chart. This is a phrase that’s often used in a pretty disparaging way, but in this case it’s absolutely fascinating.<p>I’d go even further: at this scale, it is essential and required to develop these kind of projects with any sort of velocity.<p>Large organizations ship their communication structure by design. The alternative is engineering anarchy.</div><br/><div id="36901559" class="c"><input type="checkbox" id="c-36901559" checked=""/><div class="controls bullet"><span class="by">CobrastanJorji</span><span>|</span><a href="#36900712">parent</a><span>|</span><a href="#36901002">next</a><span>|</span><label class="collapse" for="c-36901559">[-]</label><label class="expand" for="c-36901559">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;ll take the metaphor one step further. The architecture will, over time, inevitably change to resemble its org chart, therefore it is the job of a sufficiently senior technical lead to organize the teams in such a way that the correct architecture emerges.</div><br/><div id="36901808" class="c"><input type="checkbox" id="c-36901808" checked=""/><div class="controls bullet"><span class="by">capableweb</span><span>|</span><a href="#36900712">root</a><span>|</span><a href="#36901559">parent</a><span>|</span><a href="#36901002">next</a><span>|</span><label class="collapse" for="c-36901808">[-]</label><label class="expand" for="c-36901808">[2 more]</label></div><br/><div class="children"><div class="content">Also known as &quot;Conway&#x27;s law&quot;<p>&gt; Any organization that designs a system (defined broadly) will produce a design whose structure is a copy of the organization&#x27;s communication structure<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Conway%27s_law" rel="nofollow noreferrer">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Conway%27s_law</a></div><br/><div id="36901858" class="c"><input type="checkbox" id="c-36901858" checked=""/><div class="controls bullet"><span class="by">CobrastanJorji</span><span>|</span><a href="#36900712">root</a><span>|</span><a href="#36901808">parent</a><span>|</span><a href="#36901002">next</a><span>|</span><label class="collapse" for="c-36901858">[-]</label><label class="expand" for="c-36901858">[1 more]</label></div><br/><div class="children"><div class="content">Right. Conway&#x27;s Law describes the property that the architecture will grow to resemble the org chart. I&#x27;m suggesting that you can productively apply that principal to produce good software by shaping the org chart.<p>If Conway&#x27;s Law is phrenology, the &quot;science&quot; of determining someone&#x27;s personality by measuring their skull&#x27;s dimensions, I&#x27;m suggesting Terry Prachett&#x27;s retrophrenology, the process of hitting someone with a hammer very precisely to make them a better person.</div><br/></div></div></div></div></div></div><div id="36901002" class="c"><input type="checkbox" id="c-36901002" checked=""/><div class="controls bullet"><span class="by">Severian</span><span>|</span><a href="#36900712">parent</a><span>|</span><a href="#36901559">prev</a><span>|</span><a href="#36900879">next</a><span>|</span><label class="collapse" for="c-36901002">[-]</label><label class="expand" for="c-36901002">[1 more]</label></div><br/><div class="children"><div class="content">Straight from The Mythical Man Month:
Organizations which design systems are constrained to produce systems which are copies of the communication structures of these organizations.</div><br/></div></div><div id="36900879" class="c"><input type="checkbox" id="c-36900879" checked=""/><div class="controls bullet"><span class="by">hobo_in_library</span><span>|</span><a href="#36900712">parent</a><span>|</span><a href="#36901002">prev</a><span>|</span><a href="#36901254">next</a><span>|</span><label class="collapse" for="c-36900879">[-]</label><label class="expand" for="c-36900879">[2 more]</label></div><br/><div class="children"><div class="content">This is also why reorgs tend to be pretty common at large tech orgs.<p>They know they&#x27;ll almost inevitably ship their org chart. And they&#x27;ll encounter tons of process-based friction if they don&#x27;t.<p>The solution: Change your org chart to match what you want to ship</div><br/><div id="36902832" class="c"><input type="checkbox" id="c-36902832" checked=""/><div class="controls bullet"><span class="by">mr_toad</span><span>|</span><a href="#36900712">root</a><span>|</span><a href="#36900879">parent</a><span>|</span><a href="#36901254">next</a><span>|</span><label class="collapse" for="c-36902832">[-]</label><label class="expand" for="c-36902832">[1 more]</label></div><br/><div class="children"><div class="content">A more cynical take is that it makes it look like the new management is doing something.<p>An even more cynical take is that it makes it difficult to compare performance with past performance.</div><br/></div></div></div></div><div id="36901274" class="c"><input type="checkbox" id="c-36901274" checked=""/><div class="controls bullet"><span class="by">1equalsequals1</span><span>|</span><a href="#36900712">parent</a><span>|</span><a href="#36901254">prev</a><span>|</span><a href="#36902584">next</a><span>|</span><label class="collapse" for="c-36901274">[-]</label><label class="expand" for="c-36901274">[1 more]</label></div><br/><div class="children"><div class="content">something something Conway&#x27;s law</div><br/></div></div></div></div><div id="36902584" class="c"><input type="checkbox" id="c-36902584" checked=""/><div class="controls bullet"><span class="by">gooseyman</span><span>|</span><a href="#36900712">prev</a><span>|</span><a href="#36904039">next</a><span>|</span><label class="collapse" for="c-36902584">[-]</label><label class="expand" for="c-36902584">[1 more]</label></div><br/><div class="children"><div class="content">This is a fantastic point on ownership that those “placing” it on others can often miss.<p>“Ownership carries a lot of responsibility, but it also carries a lot of trust – because to let an individual or a team own a service, you have to give them the leeway to make their own decisions about how they are going to deliver it.”</div><br/></div></div><div id="36904039" class="c"><input type="checkbox" id="c-36904039" checked=""/><div class="controls bullet"><span class="by">supermatt</span><span>|</span><a href="#36902584">prev</a><span>|</span><a href="#36902782">next</a><span>|</span><label class="collapse" for="c-36904039">[-]</label><label class="expand" for="c-36904039">[1 more]</label></div><br/><div class="children"><div class="content">How does S3 handle particularly hot objects? Is there some form of rebalancing to account for access rates?</div><br/></div></div><div id="36902782" class="c"><input type="checkbox" id="c-36902782" checked=""/><div class="controls bullet"><span class="by">whoknowswhat11</span><span>|</span><a href="#36904039">prev</a><span>|</span><a href="#36901982">next</a><span>|</span><label class="collapse" for="c-36902782">[-]</label><label class="expand" for="c-36902782">[1 more]</label></div><br/><div class="children"><div class="content">Over 100 million requests per second authenticated, billed, versioned, logged, checksummed, encrypted against 200+ trillion objects.</div><br/></div></div><div id="36901982" class="c"><input type="checkbox" id="c-36901982" checked=""/><div class="controls bullet"><span class="by">nijave</span><span>|</span><a href="#36902782">prev</a><span>|</span><a href="#36900429">next</a><span>|</span><label class="collapse" for="c-36901982">[-]</label><label class="expand" for="c-36901982">[1 more]</label></div><br/><div class="children"><div class="content">I think there&#x27;s a good call-out about ownership here. Ownership and autonomy go hand in hand (you can&#x27;t force someone to own something)</div><br/></div></div><div id="36902038" class="c"><input type="checkbox" id="c-36902038" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#36900429">prev</a><span>|</span><label class="collapse" for="c-36902038">[-]</label><label class="expand" for="c-36902038">[1 more]</label></div><br/><div class="children"><div class="content">&gt; All in, S3 today is composed of hundreds of microservices<p>wow</div><br/></div></div></div></div></div></div></div></body></html>