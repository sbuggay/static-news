<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1717664465038" as="style"/><link rel="stylesheet" href="styles.css?v=1717664465038"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://lcamtuf.substack.com/p/psa-if-youre-a-fan-of-atmega-try">PSA: If you&#x27;re a fan of ATmega, try AVR Dx</a>Â <span class="domain">(<a href="https://lcamtuf.substack.com">lcamtuf.substack.com</a>)</span></div><div class="subtext"><span>scrps</span> | <span>18 comments</span></div><br/><div><div id="40594058" class="c"><input type="checkbox" id="c-40594058" checked=""/><div class="controls bullet"><span class="by">guitarbill</span><span>|</span><a href="#40593757">next</a><span>|</span><label class="collapse" for="c-40594058">[-]</label><label class="expand" for="c-40594058">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;m a bit torn. While there&#x27;s something nice about the simplicity of an 8-bit device and DIP packages, I&#x27;ve come to enjoy ARM&#x27;s Serial Wire Debug, and ARM tooling. Definitely don&#x27;t miss avr-gcc and avrdude.<p>In a way, it&#x27;s ironic. The AVR tooling back in the day was just so much better than PIC (for a novice hobbyist, pre-Arduino).</div><br/><div id="40594677" class="c"><input type="checkbox" id="c-40594677" checked=""/><div class="controls bullet"><span class="by">aldami</span><span>|</span><a href="#40594058">parent</a><span>|</span><a href="#40593757">next</a><span>|</span><label class="collapse" for="c-40594677">[-]</label><label class="expand" for="c-40594677">[1 more]</label></div><br/><div class="children"><div class="content">Ah, the good old days where computers had a serial port and you could assemble an AVR programmer on a breadboard to flash an AVR and build a USB programmer.. Programmer bootstrapping ?<p>But you&#x27;re right, the tooling has come a long way. The proliferation of ARM in so many domains means lowly microcontrollers can benefit, as opposed to being bound by the manufacturer or community size.<p>Hopefully RISC-V will improve this even further.</div><br/></div></div></div></div><div id="40593757" class="c"><input type="checkbox" id="c-40593757" checked=""/><div class="controls bullet"><span class="by">watermelon0</span><span>|</span><a href="#40594058">prev</a><span>|</span><a href="#40594675">next</a><span>|</span><label class="collapse" for="c-40593757">[-]</label><label class="expand" for="c-40593757">[1 more]</label></div><br/><div class="children"><div class="content">I generally use ESP32 nowadays, since most things I do benefit from having WiFi connectivity, but I have fond memories of using AVR microcontrollers in the past.<p>For hobbyists, AVR (ATmega, ATtiny) microcontrollers were really great. Easy to use in C for most cases, great cross-platform toolchain, and many of them came as DIP package, which made them breadboard&#x2F;protoboard friendly.<p>Heck, we even had a USB 1.1 library, that could bitbang USB 1.1 on practically any AVR, including 8-pin ATtiny: <a href="https:&#x2F;&#x2F;www.obdev.at&#x2F;products&#x2F;vusb&#x2F;index.html" rel="nofollow">https:&#x2F;&#x2F;www.obdev.at&#x2F;products&#x2F;vusb&#x2F;index.html</a><p>Not to mention, that Arduino started with ATmega, and still have many board featuring it.<p>I definitely might check Dx line, just to see if the experience is the same as it was before.</div><br/></div></div><div id="40594675" class="c"><input type="checkbox" id="c-40594675" checked=""/><div class="controls bullet"><span class="by">snvzz</span><span>|</span><a href="#40593757">prev</a><span>|</span><a href="#40594548">next</a><span>|</span><label class="collapse" for="c-40594675">[-]</label><label class="expand" for="c-40594675">[1 more]</label></div><br/><div class="children"><div class="content">AVR was cool, but I have moved on to RISC-V (ch32v, esp32c...).</div><br/></div></div><div id="40594548" class="c"><input type="checkbox" id="c-40594548" checked=""/><div class="controls bullet"><span class="by">blutack</span><span>|</span><a href="#40594675">prev</a><span>|</span><a href="#40594094">next</a><span>|</span><label class="collapse" for="c-40594548">[-]</label><label class="expand" for="c-40594548">[1 more]</label></div><br/><div class="children"><div class="content">See also the CH32V003 [0] (more expensive variants also available), a neat, cheap and standalone RISC-V with plenty of modern &amp; flexible peripherals, good package options, single wire debug and an open toolchain [1] for ~20c per.<p>Mitxela has a great article on them [2] and I totally agree they have a lot of the same joy &amp; simplicity of the ATTiny - but with the added bonus of lots of interesting DMA controller misuse!<p>The peripherals have a very STM feel (in a good way) which perhaps isn&#x27;t surprising given WCH&#x27;s history.<p>0: <a href="https:&#x2F;&#x2F;www.wch-ic.com&#x2F;products&#x2F;CH32V003.html" rel="nofollow">https:&#x2F;&#x2F;www.wch-ic.com&#x2F;products&#x2F;CH32V003.html</a><p>1: <a href="https:&#x2F;&#x2F;github.com&#x2F;cnlohr&#x2F;ch32v003fun">https:&#x2F;&#x2F;github.com&#x2F;cnlohr&#x2F;ch32v003fun</a><p>2: <a href="https:&#x2F;&#x2F;mitxela.com&#x2F;projects&#x2F;badge" rel="nofollow">https:&#x2F;&#x2F;mitxela.com&#x2F;projects&#x2F;badge</a></div><br/></div></div><div id="40594094" class="c"><input type="checkbox" id="c-40594094" checked=""/><div class="controls bullet"><span class="by">ThrowawayTestr</span><span>|</span><a href="#40594548">prev</a><span>|</span><a href="#40593264">next</a><span>|</span><label class="collapse" for="c-40594094">[-]</label><label class="expand" for="c-40594094">[1 more]</label></div><br/><div class="children"><div class="content">Does it have Arduino support?</div><br/></div></div><div id="40593264" class="c"><input type="checkbox" id="c-40593264" checked=""/><div class="controls bullet"><span class="by">throwaway81523</span><span>|</span><a href="#40594094">prev</a><span>|</span><a href="#40593289">next</a><span>|</span><label class="collapse" for="c-40593264">[-]</label><label class="expand" for="c-40593264">[1 more]</label></div><br/><div class="children"><div class="content">Yeah these are cool, there is a bunch of info on SpenceKonde&#x27;s github pages,<p><a href="https:&#x2F;&#x2F;github.com&#x2F;SpenceKonde&#x2F;DxCore">https:&#x2F;&#x2F;github.com&#x2F;SpenceKonde&#x2F;DxCore</a></div><br/></div></div><div id="40593289" class="c"><input type="checkbox" id="c-40593289" checked=""/><div class="controls bullet"><span class="by">andrewstuart</span><span>|</span><a href="#40593264">prev</a><span>|</span><a href="#40593253">next</a><span>|</span><label class="collapse" for="c-40593289">[-]</label><label class="expand" for="c-40593289">[5 more]</label></div><br/><div class="children"><div class="content">There&#x27;s actually tons of really interesting microcontrollers of every size and shape.<p>Many of them are available as dev boards for under $20.<p>You can burn plenty of hours and dollars browsing all the good stuff on electrodragon at <a href="https:&#x2F;&#x2F;www.electrodragon.com&#x2F;product-category&#x2F;dev-board&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.electrodragon.com&#x2F;product-category&#x2F;dev-board&#x2F;</a></div><br/><div id="40594104" class="c"><input type="checkbox" id="c-40594104" checked=""/><div class="controls bullet"><span class="by">ThrowawayTestr</span><span>|</span><a href="#40593289">parent</a><span>|</span><a href="#40593253">next</a><span>|</span><label class="collapse" for="c-40594104">[-]</label><label class="expand" for="c-40594104">[4 more]</label></div><br/><div class="children"><div class="content">If anyone wants to get into hobby electronics, please just go on AliExpress. It has everything and it&#x27;s way cheaper.</div><br/><div id="40594364" class="c"><input type="checkbox" id="c-40594364" checked=""/><div class="controls bullet"><span class="by">RecycledEle</span><span>|</span><a href="#40593289">root</a><span>|</span><a href="#40594104">parent</a><span>|</span><a href="#40594568">prev</a><span>|</span><a href="#40593253">next</a><span>|</span><label class="collapse" for="c-40594364">[-]</label><label class="expand" for="c-40594364">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve ordered from Ali Express, but a few day to a few weeks later I get a message from someone who has not shipped my item and thinks my order and payment was the first step in a negotiation.<p>Can you please tell me how to deal with Ali Express sellers?<p>I have several hundred dollars of embedded systems parts on order from Chinese eBay sellers right now.</div><br/><div id="40594485" class="c"><input type="checkbox" id="c-40594485" checked=""/><div class="controls bullet"><span class="by">ssl-3</span><span>|</span><a href="#40593289">root</a><span>|</span><a href="#40594364">parent</a><span>|</span><a href="#40593253">next</a><span>|</span><label class="collapse" for="c-40594485">[-]</label><label class="expand" for="c-40594485">[1 more]</label></div><br/><div class="children"><div class="content">With AliExpress, my orders never feel like a negotiation.  I put stuff in the cart, eventually push the &quot;buy this stuff&quot; button, give them money, and stuff eventually shows up -- just as with other e-commerce sites for decades.<p>Sometimes it&#x27;s slower (months), and sometimes it&#x27;s stupid-fast (a few days), but outside of things like Chinese New Year the sellers generally seem to be very prompt at handling the orders and getting things into the delivery stream.<p>I&#x27;ve come to expect most things to show up in a couple of weeks (at least here in the States).<p>I&#x27;m not doing anything particularly weird, I don&#x27;t think.  My order history consists of almost entirely of small electronics (sometimes components, sometimes populated PCBs) and 3D printer parts, from dozens of different sellers.</div><br/></div></div></div></div></div></div></div></div><div id="40593253" class="c"><input type="checkbox" id="c-40593253" checked=""/><div class="controls bullet"><span class="by">genter</span><span>|</span><a href="#40593289">prev</a><span>|</span><label class="collapse" for="c-40593253">[-]</label><label class="expand" for="c-40593253">[5 more]</label></div><br/><div class="children"><div class="content">Or, you can get an stm32g0 for $2, which is faster, has a modern 32 bit cpu, and has more powerful peripherals.</div><br/><div id="40593982" class="c"><input type="checkbox" id="c-40593982" checked=""/><div class="controls bullet"><span class="by">Rinzler89</span><span>|</span><a href="#40593253">parent</a><span>|</span><label class="collapse" for="c-40593982">[-]</label><label class="expand" for="c-40593982">[4 more]</label></div><br/><div class="children"><div class="content">But what if I don&#x27;t need all that. What if the AVR is better for some of the uses cases? Or if you already have code for AVR&#x2F;Arduino.</div><br/><div id="40594570" class="c"><input type="checkbox" id="c-40594570" checked=""/><div class="controls bullet"><span class="by">bigiain</span><span>|</span><a href="#40593253">root</a><span>|</span><a href="#40593982">parent</a><span>|</span><label class="collapse" for="c-40594570">[-]</label><label class="expand" for="c-40594570">[3 more]</label></div><br/><div class="children"><div class="content">I often use Arduino (or AT Mega&#x2F;Tiny) purely for it&#x27;s 5V and very robust GPIO pins.<p>I can short circuit an Arduino pin for days, or (attempt to) pull 3 or 4 times the rated current from them - and they just keep on rocking. I&#x27;ve even accidentally hit them with 7.2V or even 12V on the GPIO and not had them let the magic smoke out.<p>You only have to look sideways past a 5V rail at as RasPi to kill it, and ESP aren&#x27;t a heap better.<p>If I can get all the code I need onto an Arduino&#x2F;AVR, I&#x27;ll use one. If I need more complex code than I can run on an Arduino but still need GPIO (especially anything 5V tolerant) I&#x27;ll use an ESP or RasPi (or some other Linux SOC board) with an Arduino (or other AVR) for GPIO. At least for the prototyping stage when I&#x27;m using breadboards and moving wires around - if I&#x27;m building something permanent (or at least semi permanent) I&#x27;ll sometimes build a version 2 with level shifters to deal with 3.3-5V stuff, but mostly only once I&#x27;ve got to the &quot;prototype that&#x27;s got to the PCB stage&quot; iterations. I&#x27;ve almost never killed an Arduino, but I&#x27;ve killer too many RasPis and way way too many ESPs.</div><br/><div id="40595055" class="c"><input type="checkbox" id="c-40595055" checked=""/><div class="controls bullet"><span class="by">cantours</span><span>|</span><a href="#40593253">root</a><span>|</span><a href="#40594570">parent</a><span>|</span><label class="collapse" for="c-40595055">[-]</label><label class="expand" for="c-40595055">[2 more]</label></div><br/><div class="children"><div class="content">Pretty much all ICs these days have builtin ESD protection which usually involves current steering diodes to supply rails.<p>So if you limit the input current (typically &lt;5mA, and assuming the steered-to rail uses at least 5mA to sink it) it will survive any voltage.
(Of course if it&#x27;s a low power design or the device is off this wont work that well, then you want external clamping)<p>I have tested 24V AC applied to an stm32f0 pin with a 10K series resistor and it survives that indefinitetly.</div><br/><div id="40595114" class="c"><input type="checkbox" id="c-40595114" checked=""/><div class="controls bullet"><span class="by">contingencies</span><span>|</span><a href="#40593253">root</a><span>|</span><a href="#40595055">parent</a><span>|</span><label class="collapse" for="c-40595114">[-]</label><label class="expand" for="c-40595114">[1 more]</label></div><br/><div class="children"><div class="content"><i>I have tested 24V AC applied to an stm32f0 pin with a 10K series resistor and it survives that indefinitetly.</i><p>Which mode was the pin in? I&#x27;m not an STM person but my understanding is that most MCU pins are tri or at least multi-mode, if you have the wrong mode set it&#x27;s effectively isolated.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>