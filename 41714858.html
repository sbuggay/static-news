<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1727859676626" as="style"/><link rel="stylesheet" href="styles.css?v=1727859676626"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://slatedb.io/">SlateDB – An embedded database built on object storage</a> <span class="domain">(<a href="https://slatedb.io">slatedb.io</a>)</span></div><div class="subtext"><span>notamy</span> | <span>26 comments</span></div><br/><div><div id="41718453" class="c"><input type="checkbox" id="c-41718453" checked=""/><div class="controls bullet"><span class="by">shenli3514</span><span>|</span><a href="#41718400">next</a><span>|</span><label class="collapse" for="c-41718453">[-]</label><label class="expand" for="c-41718453">[1 more]</label></div><br/><div class="children"><div class="content">Went thru the document: <a href="https:&#x2F;&#x2F;slatedb.io&#x2F;docs&#x2F;introduction&#x2F;#use-cases" rel="nofollow">https:&#x2F;&#x2F;slatedb.io&#x2F;docs&#x2F;introduction&#x2F;#use-cases</a>
I can not understand why are they targeting the following use cases with this architecture.
* Stream processing
* Serverless functions
* Durable execution
* Workflow orchestration
* Durable caches
* Data lakes</div><br/></div></div><div id="41718400" class="c"><input type="checkbox" id="c-41718400" checked=""/><div class="controls bullet"><span class="by">remon</span><span>|</span><a href="#41718453">prev</a><span>|</span><a href="#41717027">next</a><span>|</span><label class="collapse" for="c-41718400">[-]</label><label class="expand" for="c-41718400">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve read the introduction and descriptions two times now and I still don&#x27;t understand what this adds to the proceedings. It appears to be an extremely thin abstraction over object storage solutions rather than an actual DB which the name and their texts imply.</div><br/></div></div><div id="41717027" class="c"><input type="checkbox" id="c-41717027" checked=""/><div class="controls bullet"><span class="by">nmca</span><span>|</span><a href="#41718400">prev</a><span>|</span><a href="#41716153">next</a><span>|</span><label class="collapse" for="c-41717027">[-]</label><label class="expand" for="c-41717027">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Object storage is an amazing technology. It provides highly-durable, highly-scalable, highly-available storage at a great cost.<p>I don’t know if this was intended to be intentional funny, but there is a little ambiguity in the expression “great cost”, typically great cost means very expensive.<p>Very cool and useful shim otherwise :)</div><br/></div></div><div id="41716153" class="c"><input type="checkbox" id="c-41716153" checked=""/><div class="controls bullet"><span class="by">jitl</span><span>|</span><a href="#41717027">prev</a><span>|</span><a href="#41715243">next</a><span>|</span><label class="collapse" for="c-41716153">[-]</label><label class="expand" for="c-41716153">[1 more]</label></div><br/><div class="children"><div class="content">From the docs <a href="https:&#x2F;&#x2F;slatedb.io&#x2F;docs&#x2F;introduction&#x2F;" rel="nofollow">https:&#x2F;&#x2F;slatedb.io&#x2F;docs&#x2F;introduction&#x2F;</a><p>&gt; NOTE<p>&gt; Snapshot isolation and transactions are planned but not yet implemented.</div><br/></div></div><div id="41715243" class="c"><input type="checkbox" id="c-41715243" checked=""/><div class="controls bullet"><span class="by">anon291</span><span>|</span><a href="#41716153">prev</a><span>|</span><a href="#41717621">next</a><span>|</span><label class="collapse" for="c-41715243">[-]</label><label class="expand" for="c-41715243">[7 more]</label></div><br/><div class="children"><div class="content">This seems to be a key value store built atop object storage. Which is to say, it seems completely redundant. Not sure if there&#x27;s some feature I&#x27;m missing, but all of the six features mentioned on the front page are things you&#x27;d have if you used the key value store directly (actually, you get more because then you get multiple writers).<p>I was excited at first and thought this was SQL atop S3 et al. I&#x27;ve jerryrigged a solution to this using SQLite with a customized VFS backend, and would suggest that as an alternative to this particular project. You get the benefit of ACID transactions across multiple tables and a distributed backend.</div><br/><div id="41716354" class="c"><input type="checkbox" id="c-41716354" checked=""/><div class="controls bullet"><span class="by">aseipp</span><span>|</span><a href="#41715243">parent</a><span>|</span><a href="#41715581">next</a><span>|</span><label class="collapse" for="c-41716354">[-]</label><label class="expand" for="c-41716354">[1 more]</label></div><br/><div class="children"><div class="content">People want object storage as the backend because in practice it means that you can decouple compute and storage entirely, it has no requirement to provision space up front, and robust object storage systems with (de facto) standardized APIs like S3&#x27;s are widely available for all kinds of deployments and from many providers, in many forms. In other words: it works with what people already have and want.<p>Essentially every standalone or embedded key-value storage solution treats the KV store and its operation like a database, from what I can tell -- which is sensible because that&#x27;s what they are! But people use object stores exactly because they <i>don&#x27;t</i> operate like traditional databases.<p>Now there are problems with object stores (they are very coarse grained and have high per-object overhead, necessitating some design that can reconcile the round hole and the square peg) -- but this is just the reality of what people are working with. If there is some other key-value store server&#x2F;implementation you know of, one that performs and offers APIs like an actual database (e.g. multi writer, range scans, atomic writes) but with unlimited storage, no provisioning, and it&#x27;s got over 10+ different widespread implementations across every major compute and cloud provider -- I&#x27;m interested in what that project is.</div><br/></div></div><div id="41715581" class="c"><input type="checkbox" id="c-41715581" checked=""/><div class="controls bullet"><span class="by">necubi</span><span>|</span><a href="#41715243">parent</a><span>|</span><a href="#41716354">prev</a><span>|</span><a href="#41715348">next</a><span>|</span><label class="collapse" for="c-41715581">[-]</label><label class="expand" for="c-41715581">[1 more]</label></div><br/><div class="children"><div class="content">This is a low-level embedded db that would be used by sql databases&#x2F;query engines&#x2F;streaming engines&#x2F;etc rather than something that&#x27;s likely to make sense for you to use as an application developer. It sits in a similar space to RocksDB and LevelDB.<p>You generally can&#x27;t use object storage directly for this stuff; if you have a high volume of writes, it&#x27;s incredibly slow (and expensive) to write them individually to s3. Similarly, on the read side you want to be able to cache data on local disk &amp; memory to reduce query latency and cost.</div><br/></div></div><div id="41715348" class="c"><input type="checkbox" id="c-41715348" checked=""/><div class="controls bullet"><span class="by">iudqnolq</span><span>|</span><a href="#41715243">parent</a><span>|</span><a href="#41715581">prev</a><span>|</span><a href="#41715303">next</a><span>|</span><label class="collapse" for="c-41715348">[-]</label><label class="expand" for="c-41715348">[1 more]</label></div><br/><div class="children"><div class="content">Using an s3 object per key would be too expensive for many use cases.<p>The website is a bit fancy but the readme seems to pretty straightforwardly explain why you might want this. It seems to me like a nice little (13k loc) project that doesn&#x27;t fit my needs but might come in handy for someone else?</div><br/></div></div><div id="41715303" class="c"><input type="checkbox" id="c-41715303" checked=""/><div class="controls bullet"><span class="by">abound</span><span>|</span><a href="#41715243">parent</a><span>|</span><a href="#41715348">prev</a><span>|</span><a href="#41716179">next</a><span>|</span><label class="collapse" for="c-41715303">[-]</label><label class="expand" for="c-41715303">[2 more]</label></div><br/><div class="children"><div class="content">If you want SQLite backed by S3, maybe something like SQLite in :memory: mode with Litestream would work?<p>Edit: actually not sure if you can use :memory: mode since Litestream uses the WAL (IIRC), so maybe a ramfs instead</div><br/><div id="41715335" class="c"><input type="checkbox" id="c-41715335" checked=""/><div class="controls bullet"><span class="by">anon291</span><span>|</span><a href="#41715243">root</a><span>|</span><a href="#41715303">parent</a><span>|</span><a href="#41716179">next</a><span>|</span><label class="collapse" for="c-41715335">[-]</label><label class="expand" for="c-41715335">[1 more]</label></div><br/><div class="children"><div class="content">There are many solutions. The particular example I was using SQLite via webassembly and then resorting to HTTP&#x27;s fetch api for a read-only solution.</div><br/></div></div></div></div><div id="41716179" class="c"><input type="checkbox" id="c-41716179" checked=""/><div class="controls bullet"><span class="by">vineyardmike</span><span>|</span><a href="#41715243">parent</a><span>|</span><a href="#41715303">prev</a><span>|</span><a href="#41717621">next</a><span>|</span><label class="collapse" for="c-41716179">[-]</label><label class="expand" for="c-41716179">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I was excited at first and thought this was SQL atop S3 et al.<p>You can check out Neon.tech who makes an OS Postgres-on-s3 and DuckDB who makes an embedded DB with transaction support that can operate over S3</div><br/></div></div></div></div><div id="41717621" class="c"><input type="checkbox" id="c-41717621" checked=""/><div class="controls bullet"><span class="by">hantusk</span><span>|</span><a href="#41715243">prev</a><span>|</span><a href="#41718164">next</a><span>|</span><label class="collapse" for="c-41717621">[-]</label><label class="expand" for="c-41717621">[2 more]</label></div><br/><div class="children"><div class="content">Since writes to object storage are going to be slow anyway, why not double down on read optimized B-trees rather than write optimized LSM&#x27;s?</div><br/><div id="41717844" class="c"><input type="checkbox" id="c-41717844" checked=""/><div class="controls bullet"><span class="by">chipdart</span><span>|</span><a href="#41717621">parent</a><span>|</span><a href="#41718164">next</a><span>|</span><label class="collapse" for="c-41717844">[-]</label><label class="expand" for="c-41717844">[1 more]</label></div><br/><div class="children"><div class="content">I think slow writes are not a major concern, as most databases already use some fast log-type data structure to persist writes, and then merge&#x2F;save these logs to a higher-capacity and slower medium on specific events.</div><br/></div></div></div></div><div id="41718164" class="c"><input type="checkbox" id="c-41718164" checked=""/><div class="controls bullet"><span class="by">demarq</span><span>|</span><a href="#41717621">prev</a><span>|</span><a href="#41717929">next</a><span>|</span><label class="collapse" for="c-41718164">[-]</label><label class="expand" for="c-41718164">[1 more]</label></div><br/><div class="children"><div class="content">Embed cloud<p>Sounds like they just cancel each other out. Not sure what advantage embedding will yield here</div><br/></div></div><div id="41717929" class="c"><input type="checkbox" id="c-41717929" checked=""/><div class="controls bullet"><span class="by">tgdn</span><span>|</span><a href="#41718164">prev</a><span>|</span><a href="#41715873">next</a><span>|</span><label class="collapse" for="c-41717929">[-]</label><label class="expand" for="c-41717929">[1 more]</label></div><br/><div class="children"><div class="content">&quot;It doesn&#x27;t currently ship with any language bindings&quot;<p>Rust is needed to use SlateDB at the moment</div><br/></div></div><div id="41715873" class="c"><input type="checkbox" id="c-41715873" checked=""/><div class="controls bullet"><span class="by">yawnxyz</span><span>|</span><a href="#41717929">prev</a><span>|</span><a href="#41715811">next</a><span>|</span><label class="collapse" for="c-41715873">[-]</label><label class="expand" for="c-41715873">[4 more]</label></div><br/><div class="children"><div class="content">is this an easier to do the &quot;store parquet on s3 &gt; stream to duckdb&quot; pattern that&#x27;s popping up more and more?</div><br/><div id="41718345" class="c"><input type="checkbox" id="c-41718345" checked=""/><div class="controls bullet"><span class="by">kosmozaut</span><span>|</span><a href="#41715873">parent</a><span>|</span><a href="#41716160">next</a><span>|</span><label class="collapse" for="c-41718345">[-]</label><label class="expand" for="c-41718345">[1 more]</label></div><br/><div class="children"><div class="content">Do you know any resources&#x2F;examples about the setup you mean? It sound interesting but from a quick search I didn&#x27;t find anything straight forward.</div><br/></div></div><div id="41716160" class="c"><input type="checkbox" id="c-41716160" checked=""/><div class="controls bullet"><span class="by">vineyardmike</span><span>|</span><a href="#41715873">parent</a><span>|</span><a href="#41718345">prev</a><span>|</span><a href="#41716170">next</a><span>|</span><label class="collapse" for="c-41716160">[-]</label><label class="expand" for="c-41716160">[1 more]</label></div><br/><div class="children"><div class="content">&gt; MemTables are flushed periodically to object storage as a string-sorted table (SST). The flush interval is configurable.<p>Looks like it has a pretty similar structure under the hood, but DuckDB would get you more powerful queries.<p>FYI duckdb directly supports writes (and transactions) so you don’t necessarily even need the separate store step.</div><br/></div></div><div id="41716170" class="c"><input type="checkbox" id="c-41716170" checked=""/><div class="controls bullet"><span class="by">jitl</span><span>|</span><a href="#41715873">parent</a><span>|</span><a href="#41716160">prev</a><span>|</span><a href="#41715811">next</a><span>|</span><label class="collapse" for="c-41716170">[-]</label><label class="expand" for="c-41716170">[1 more]</label></div><br/><div class="children"><div class="content">This is more targeted at OLTP style workloads with mutable data and potentially multiple writers</div><br/></div></div></div></div><div id="41715811" class="c"><input type="checkbox" id="c-41715811" checked=""/><div class="controls bullet"><span class="by">epolanski</span><span>|</span><a href="#41715873">prev</a><span>|</span><a href="#41716150">next</a><span>|</span><label class="collapse" for="c-41715811">[-]</label><label class="expand" for="c-41715811">[2 more]</label></div><br/><div class="children"><div class="content">Not a db guy, just asking, what does it mean &quot;embedded&quot; database?<p>I&#x27;m confused here, because Google says it&#x27;s a db bundled with the application, but that&#x27;s not really what I get from the landing page.<p>What problem does it solve?</div><br/><div id="41715908" class="c"><input type="checkbox" id="c-41715908" checked=""/><div class="controls bullet"><span class="by">leetrout</span><span>|</span><a href="#41715811">parent</a><span>|</span><a href="#41716150">next</a><span>|</span><label class="collapse" for="c-41715908">[-]</label><label class="expand" for="c-41715908">[1 more]</label></div><br/><div class="children"><div class="content">Embedded means it runs in your application process not a standalone server &#x2F; service.</div><br/></div></div></div></div><div id="41716150" class="c"><input type="checkbox" id="c-41716150" checked=""/><div class="controls bullet"><span class="by">loxias</span><span>|</span><a href="#41715811">prev</a><span>|</span><a href="#41717880">next</a><span>|</span><label class="collapse" for="c-41716150">[-]</label><label class="expand" for="c-41716150">[3 more]</label></div><br/><div class="children"><div class="content">Can I please, please, please, have C++ or at least C bindings? :)
Or the desired way to call Rust from another runtime?   I don&#x27;t know any Rust.</div><br/><div id="41716304" class="c"><input type="checkbox" id="c-41716304" checked=""/><div class="controls bullet"><span class="by">jitl</span><span>|</span><a href="#41716150">parent</a><span>|</span><a href="#41717880">next</a><span>|</span><label class="collapse" for="c-41716304">[-]</label><label class="expand" for="c-41716304">[2 more]</label></div><br/><div class="children"><div class="content">Rust is just another programming language that’s quite similar to C++. The main difference is there’s like 4 types for String (some are references and some are owned) and methods for a struct go in a `impl StructName` block after the struct definition instead of inside it.<p>I don’t really know rust either but I’m currently writing some bindings to expose Rust libraries to NodeJS and not having too much trouble.<p>For rust -&gt; c++ I googled one time and found this tool which Mozilla seems to use to call Rust from C++ in their web browser, maybe it would “just work”: <a href="https:&#x2F;&#x2F;github.com&#x2F;mozilla&#x2F;cbindgen?tab=readme-ov-file">https:&#x2F;&#x2F;github.com&#x2F;mozilla&#x2F;cbindgen?tab=readme-ov-file</a></div><br/><div id="41716417" class="c"><input type="checkbox" id="c-41716417" checked=""/><div class="controls bullet"><span class="by">sebastianconcpt</span><span>|</span><a href="#41716150">root</a><span>|</span><a href="#41716304">parent</a><span>|</span><a href="#41717880">next</a><span>|</span><label class="collapse" for="c-41716417">[-]</label><label class="expand" for="c-41716417">[1 more]</label></div><br/><div class="children"><div class="content">Although the borrowing rules will make you feel is quite a different language than others.</div><br/></div></div></div></div></div></div><div id="41717880" class="c"><input type="checkbox" id="c-41717880" checked=""/><div class="controls bullet"><span class="by">goodpoint</span><span>|</span><a href="#41716150">prev</a><span>|</span><label class="collapse" for="c-41717880">[-]</label><label class="expand" for="c-41717880">[1 more]</label></div><br/><div class="children"><div class="content">Despite the name this is not a database.</div><br/></div></div></div></div></div></div></div></body></html>