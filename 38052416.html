<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1698570054597" as="style"/><link rel="stylesheet" href="styles.css?v=1698570054597"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/elnardu/react-use-c">React use C</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>elnardu</span> | <span>71 comments</span></div><br/><div><div id="38055871" class="c"><input type="checkbox" id="c-38055871" checked=""/><div class="controls bullet"><span class="by">EMM_386</span><span>|</span><a href="#38055086">next</a><span>|</span><label class="collapse" for="c-38055871">[-]</label><label class="expand" for="c-38055871">[3 more]</label></div><br/><div class="children"><div class="content">Funny.  I liked the TypeScript being added and then removed in the TODO.<p>I&#x27;ve been working with the web since before JS and CSS existed, back in the cgi-bin days, and have somehow ended up still working with it to this day.<p>I used most of the pre-SPA frameworks, when everything was what is now being referred to as &quot;SSR&quot;.<p>Then I was dragged (somewhat kicking, screaming, and muttering about &#x27;kids these days&#x27;) into the world of SPAs, except I ended up on the Angular side and have not really been on the React side.<p>I will say that I have been following along with this Next.js stuff and the other changes going on over in the React ecosystem, and I am left utterly confused while at the same time having an uneasy feeling about the whole thing.<p>It&#x27;s not necessarily because we&#x27;ve seen all this before, it&#x27;s more about &quot;why now?&quot;, and then wondering about how badly this is going to be abused, because if it can be, it will be.  I get it, people need SEO, FCP times need some help ... and ... well that&#x27;s about what I came up with off the top of my head.<p>Have you ever seen a SQL statement that JOINs 20 tables in your a component, that uses a magic string to indicate that it is not your ordinary component?  You will.<p>Naturally, almost anything can be used in ways it should not be.  But when you are combining the dominant SPA framework, blurring the lines between the front and back ends, and employing a large amount of fairly complex magic behind the scenes to make it happen, I get the sense that bad things may be afoot.<p>I for the moment am content working with a different framework, it&#x27;s been smooth sailing for a complex enterprise system.  I&#x27;ll see how the rest of this unfolds from afar.</div><br/><div id="38056847" class="c"><input type="checkbox" id="c-38056847" checked=""/><div class="controls bullet"><span class="by">te_chris</span><span>|</span><a href="#38055871">parent</a><span>|</span><a href="#38056359">next</a><span>|</span><label class="collapse" for="c-38056847">[-]</label><label class="expand" for="c-38056847">[1 more]</label></div><br/><div class="children"><div class="content">Next&#x2F;nuxt are an architectural dead end for me. It’s so confusing with the subtle differences between what the front lib can do and what next&#x2F;nuxt can do. If you treat them as server side static site engines they’re ok, but bigger then that they’re a solution looking for a problem.<p>I implore people to try liveview though, doing everything (pretty much) on the server is incredible. So powerful and no headaches about leakage or security of APIs or whatever.</div><br/></div></div><div id="38056359" class="c"><input type="checkbox" id="c-38056359" checked=""/><div class="controls bullet"><span class="by">teaearlgraycold</span><span>|</span><a href="#38055871">parent</a><span>|</span><a href="#38056847">prev</a><span>|</span><a href="#38055086">next</a><span>|</span><label class="collapse" for="c-38056359">[-]</label><label class="expand" for="c-38056359">[1 more]</label></div><br/><div class="children"><div class="content">I’m currently wondering if I should switch to Vue or something else because of “use server”</div><br/></div></div></div></div><div id="38055086" class="c"><input type="checkbox" id="c-38055086" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#38055871">prev</a><span>|</span><a href="#38054172">next</a><span>|</span><label class="collapse" for="c-38055086">[-]</label><label class="expand" for="c-38055086">[19 more]</label></div><br/><div class="children"><div class="content">Until React can cross compile in Rust and spawn a browser instance in WASM with a graphql interface, I will keep making sarcastic jokes about React. &#x2F;s<p>I started as a front-end dev, focused on that in the 2000s as this was where the work was interesting...<p>Now I go by back-end dev, because I just can&#x27;t deal with the front-end &quot;industry&quot; anymore.<p>All the best, though.</div><br/><div id="38055531" class="c"><input type="checkbox" id="c-38055531" checked=""/><div class="controls bullet"><span class="by">postalrat</span><span>|</span><a href="#38055086">parent</a><span>|</span><a href="#38055715">next</a><span>|</span><label class="collapse" for="c-38055531">[-]</label><label class="expand" for="c-38055531">[6 more]</label></div><br/><div class="children"><div class="content">If you think the front-end is a mess just wait to till you see the layers upon layers of complexity people are using the manage back-end services.</div><br/><div id="38055714" class="c"><input type="checkbox" id="c-38055714" checked=""/><div class="controls bullet"><span class="by">qudat</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38055531">parent</a><span>|</span><a href="#38055715">next</a><span>|</span><label class="collapse" for="c-38055714">[-]</label><label class="expand" for="c-38055714">[5 more]</label></div><br/><div class="children"><div class="content">Totally agree. All of these arguments claiming the FE is too complex need a reality check with the real monster: <a href="https:&#x2F;&#x2F;landscape.cncf.io&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;landscape.cncf.io&#x2F;</a></div><br/><div id="38055908" class="c"><input type="checkbox" id="c-38055908" checked=""/><div class="controls bullet"><span class="by">0xpgm</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38055714">parent</a><span>|</span><a href="#38055806">next</a><span>|</span><label class="collapse" for="c-38055908">[-]</label><label class="expand" for="c-38055908">[3 more]</label></div><br/><div class="children"><div class="content">Most of these are optional, one can stay with a very simple stack similar the LAMP stack i.e. a web server, a database and a backend language on Linux for small to mid-sized apps. And pick something simple for CI&#x2F;CD.<p>Of course if you are into enterprise or &#x27;web scale&#x27;, things can get a bit more complicated, but it&#x27;s how complicated you make it to be.</div><br/><div id="38056034" class="c"><input type="checkbox" id="c-38056034" checked=""/><div class="controls bullet"><span class="by">MrJohz</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38055908">parent</a><span>|</span><a href="#38055806">next</a><span>|</span><label class="collapse" for="c-38056034">[-]</label><label class="expand" for="c-38056034">[2 more]</label></div><br/><div class="children"><div class="content">And of course, much the same thing is true for the frontend as well. Most of the time, the worst takes off frontend excess or backend complexity are being told by people who aren&#x27;t working in field, and just looking in from outside.<p>Rendering everything on the server and adding a bit of Javascript along the way works - it had its flaws, but so does everything else, you just need to figure out which flaws make sense for you to deal with. For a little extra complexity, use Vite as a bundler, and add a framework - Vue is pretty simple to get started with - and you&#x27;re almost immediately away. You even get some stuff like Typescript for free at this point.<p>And like you say, you can make things more complicated with various other tools, but if you need that, you probably know you need that, and you know what it&#x27;s doing and why it&#x27;s necessary complexity.</div><br/><div id="38056404" class="c"><input type="checkbox" id="c-38056404" checked=""/><div class="controls bullet"><span class="by">herewulf</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38056034">parent</a><span>|</span><a href="#38055806">next</a><span>|</span><label class="collapse" for="c-38056404">[-]</label><label class="expand" for="c-38056404">[1 more]</label></div><br/><div class="children"><div class="content">I had a problem and got TypeScript for free. Now I solve my many problems with &quot;any&quot; problems.</div><br/></div></div></div></div></div></div><div id="38055806" class="c"><input type="checkbox" id="c-38055806" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38055714">parent</a><span>|</span><a href="#38055908">prev</a><span>|</span><a href="#38055715">next</a><span>|</span><label class="collapse" for="c-38055806">[-]</label><label class="expand" for="c-38055806">[1 more]</label></div><br/><div class="children"><div class="content">Oh my.</div><br/></div></div></div></div></div></div><div id="38055715" class="c"><input type="checkbox" id="c-38055715" checked=""/><div class="controls bullet"><span class="by">synergy20</span><span>|</span><a href="#38055086">parent</a><span>|</span><a href="#38055531">prev</a><span>|</span><a href="#38055322">next</a><span>|</span><label class="collapse" for="c-38055715">[-]</label><label class="expand" for="c-38055715">[7 more]</label></div><br/><div class="children"><div class="content">the SSR first trend for SPAs finally pushed me away from React(along with Vue,etc). I&#x27;m an embedded developer, I can not run node.js on the target, even MVC on the server(i.e. target board) in C or Lua could be too heavy, so SPA with restful was the best option, now all SPAs are turning into SSR-first and making things even more complex, I can no longer justify the time spending chasing the modern frontend any more, I need alternatives.<p>I&#x27;m trying nim for SPA at the moment, also thinking about some C based restful approach(civetweb, ulfius)<p><a href="https:&#x2F;&#x2F;forum.nim-lang.org&#x2F;t&#x2F;2926" rel="nofollow noreferrer">https:&#x2F;&#x2F;forum.nim-lang.org&#x2F;t&#x2F;2926</a></div><br/><div id="38056680" class="c"><input type="checkbox" id="c-38056680" checked=""/><div class="controls bullet"><span class="by">jasongi</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38055715">parent</a><span>|</span><a href="#38056400">next</a><span>|</span><label class="collapse" for="c-38056680">[-]</label><label class="expand" for="c-38056680">[1 more]</label></div><br/><div class="children"><div class="content">Why would you ditch react because you don’t need SSR? You can still use vanilla React without SSR and serve it statically. It’s not as if you’re forced to use nextjs if you want to use React.</div><br/></div></div><div id="38056400" class="c"><input type="checkbox" id="c-38056400" checked=""/><div class="controls bullet"><span class="by">winter_blue</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38055715">parent</a><span>|</span><a href="#38056680">prev</a><span>|</span><a href="#38056220">next</a><span>|</span><label class="collapse" for="c-38056400">[-]</label><label class="expand" for="c-38056400">[3 more]</label></div><br/><div class="children"><div class="content">Even a Raspberry Pi Zero that costs $5 retail[0] should be good enough[2] to run modern Linux + a node process running Next.js with SSR.<p>Why do embedded developers pick really resource-constrained chips, when decently powerful chips that can run Linux have become so cheap?<p>[1] probably even cheaper if purchasing B2B, in bulk<p>[2] i.e. should have enough CPU (1 GB) and RAM (512 MB)</div><br/><div id="38056621" class="c"><input type="checkbox" id="c-38056621" checked=""/><div class="controls bullet"><span class="by">DanielHB</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38056400">parent</a><span>|</span><a href="#38056648">next</a><span>|</span><label class="collapse" for="c-38056621">[-]</label><label class="expand" for="c-38056621">[1 more]</label></div><br/><div class="children"><div class="content">I work with a frontend app that talks with microcontrollers that have 2mb of ram, they don&#x27;t run linux and can&#x27;t even support an HTTP stack. We actually use UDP to send messages to them (through a thin native layer in our app)<p>I don&#x27;t remember the exact numbers as I don&#x27;t work with the manufacturing side but the budget for our microcontrollers was &lt;0.5 USD per microcontroller<p>&gt; Why do embedded developers pick really resource-constrained chips, when decently powerful chips that can run Linux have become so cheap?<p>1) Often you have multiple microcontrollers per device<p>2) It just follows a general trend with industrial manufacturing of always trying to find ways to cut costs. It is not just microcontrollers, after a product is finished, v2 will always strive to cut costs and be cheaper. Components costs grow linearly with production volume. If you sell a million of devices with a 
5 USD chip that is 5 million dollars that could have been spent on R&amp;D (maybe like 5 devs working on it full time for a year)<p>3) Sometimes the microcontrollers are dedicated for security&#x2F;safety, those you don&#x27;t want to run linux on because it makes them harder to QA and certify (non determinism doesn&#x27;t play well with safety). You want them small, lean and as simple&#x2F;dumb as possible<p>4) Sourcing problems, advanced chips are harder to source in higher quantities, especially lately. Crappy microcontrollers can be bought like buying legos at the lego store<p>5) Size, reliability and heat constraints. Bigger chips are harder to integrate into a custom board, require more power and could generate enough heat to cause problems. Integrating a Raspberry CM requires a custom connector with like 50 wires or so and wiring it can be really annoying&#x2F;error-prone<p>One of our systems had a Raspberry CM3 before, it was the first thing on the chopping block for the v2. Apparently it was the most expensive single electronic component of the whole system.</div><br/></div></div><div id="38056648" class="c"><input type="checkbox" id="c-38056648" checked=""/><div class="controls bullet"><span class="by">matthews2</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38056400">parent</a><span>|</span><a href="#38056621">prev</a><span>|</span><a href="#38056220">next</a><span>|</span><label class="collapse" for="c-38056648">[-]</label><label class="expand" for="c-38056648">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Why do embedded developers pick really resource-constrained chips, when decently powerful chips that can run Linux have become so cheap?<p>There are other things to consider, like power consumption, size, reliability, IO... It&#x27;s a totally different class of hardware.</div><br/></div></div></div></div><div id="38056220" class="c"><input type="checkbox" id="c-38056220" checked=""/><div class="controls bullet"><span class="by">robertoandred</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38055715">parent</a><span>|</span><a href="#38056400">prev</a><span>|</span><a href="#38056320">next</a><span>|</span><label class="collapse" for="c-38056220">[-]</label><label class="expand" for="c-38056220">[1 more]</label></div><br/><div class="children"><div class="content">Or you could keep using react the way you always were</div><br/></div></div><div id="38056320" class="c"><input type="checkbox" id="c-38056320" checked=""/><div class="controls bullet"><span class="by">rk06</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38055715">parent</a><span>|</span><a href="#38056220">prev</a><span>|</span><a href="#38055322">next</a><span>|</span><label class="collapse" for="c-38056320">[-]</label><label class="expand" for="c-38056320">[1 more]</label></div><br/><div class="children"><div class="content">But vue is SPA only. And Has No Direct  relation to SSR framework</div><br/></div></div></div></div><div id="38055322" class="c"><input type="checkbox" id="c-38055322" checked=""/><div class="controls bullet"><span class="by">paulddraper</span><span>|</span><a href="#38055086">parent</a><span>|</span><a href="#38055715">prev</a><span>|</span><a href="#38054172">next</a><span>|</span><label class="collapse" for="c-38055322">[-]</label><label class="expand" for="c-38055322">[5 more]</label></div><br/><div class="children"><div class="content">&gt; can cross compile in Rust<p>what does that mean</div><br/><div id="38055405" class="c"><input type="checkbox" id="c-38055405" checked=""/><div class="controls bullet"><span class="by">culi</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38055322">parent</a><span>|</span><a href="#38055432">next</a><span>|</span><label class="collapse" for="c-38055405">[-]</label><label class="expand" for="c-38055405">[3 more]</label></div><br/><div class="children"><div class="content">No one knows what it means, but it&#x27;s provocative</div><br/><div id="38055494" class="c"><input type="checkbox" id="c-38055494" checked=""/><div class="controls bullet"><span class="by">alluro2</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38055405">parent</a><span>|</span><a href="#38055432">next</a><span>|</span><label class="collapse" for="c-38055494">[-]</label><label class="expand" for="c-38055494">[2 more]</label></div><br/><div class="children"><div class="content">It gets the people going!</div><br/><div id="38055515" class="c"><input type="checkbox" id="c-38055515" checked=""/><div class="controls bullet"><span class="by">m0llusk</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38055494">parent</a><span>|</span><a href="#38055432">next</a><span>|</span><label class="collapse" for="c-38055515">[-]</label><label class="expand" for="c-38055515">[1 more]</label></div><br/><div class="children"><div class="content">Selling is all about having and sharing a vision.</div><br/></div></div></div></div></div></div><div id="38055432" class="c"><input type="checkbox" id="c-38055432" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#38055086">root</a><span>|</span><a href="#38055322">parent</a><span>|</span><a href="#38055405">prev</a><span>|</span><a href="#38054172">next</a><span>|</span><label class="collapse" for="c-38055432">[-]</label><label class="expand" for="c-38055432">[1 more]</label></div><br/><div class="children"><div class="content">Well it&#x27;s simple. Imagine a cross runner, then give him a 180K yearly package. He&#x27;d only have to bridge the distance between React and rustc, which is clearly 4 (s&#x2F;ea&#x2F;us&#x2F;t|c)^42.</div><br/></div></div></div></div></div></div><div id="38054172" class="c"><input type="checkbox" id="c-38054172" checked=""/><div class="controls bullet"><span class="by">cultofmetatron</span><span>|</span><a href="#38055086">prev</a><span>|</span><a href="#38054139">next</a><span>|</span><label class="collapse" for="c-38054172">[-]</label><label class="expand" for="c-38054172">[24 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been out of the node community for over 5 years but this seems in line with the &quot;hurr durr use javascript for everything!!&quot; crew. can someone tell me if this is a parody cuz I seriously can&#x27;t tell anymore?</div><br/><div id="38054300" class="c"><input type="checkbox" id="c-38054300" checked=""/><div class="controls bullet"><span class="by">junon</span><span>|</span><a href="#38054172">parent</a><span>|</span><a href="#38054218">next</a><span>|</span><label class="collapse" for="c-38054300">[-]</label><label class="expand" for="c-38054300">[17 more]</label></div><br/><div class="children"><div class="content">TL:DR it&#x27;s a meme.<p>The context here (as I understand it) is that Next.js, a popular React-like framework that allows (in a way) coding both the server and browser portions of a web app in one codebase, such that each portion is extracted at runtime and automatically wired up via API calls. This is a simplification but it&#x27;s how you can think of it.<p>They&#x27;ve now introduced an even tighter way of introducing server code into what are otherwise frontend React components by piggie backing off the old &quot;use strict&quot; directive syntax, called &quot;use server&quot;, allowing you to interleave - directly and inline - the client and browser code.<p>Many a meme have been created, half-jokingly comparing it to PHP, ranging from the supportive jest, to the very seriously critical, as one would expect the internet to do.<p>Some of those memes have been in the form of &quot;use ___&quot;, such as &quot;use binary&quot;, &quot;use php&quot;, etc.<p>I don&#x27;t use frontend frameworks much these days so maybe someone can correct me on some of this, but hopefully this helps explain it a bit.<p><a href="https:&#x2F;&#x2F;nextjs.org&#x2F;docs&#x2F;app&#x2F;api-reference&#x2F;functions&#x2F;server-actions" rel="nofollow noreferrer">https:&#x2F;&#x2F;nextjs.org&#x2F;docs&#x2F;app&#x2F;api-reference&#x2F;functions&#x2F;server-a...</a></div><br/><div id="38054630" class="c"><input type="checkbox" id="c-38054630" checked=""/><div class="controls bullet"><span class="by">sophiebits</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054300">parent</a><span>|</span><a href="#38054864">next</a><span>|</span><label class="collapse" for="c-38054630">[-]</label><label class="expand" for="c-38054630">[8 more]</label></div><br/><div class="children"><div class="content">One clarification: client and server code are never mixed within the same file. &quot;use server&quot; can only be used in server files and marks code that the client can call back into.</div><br/><div id="38055159" class="c"><input type="checkbox" id="c-38055159" checked=""/><div class="controls bullet"><span class="by">ipsum2</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054630">parent</a><span>|</span><a href="#38054731">next</a><span>|</span><label class="collapse" for="c-38055159">[-]</label><label class="expand" for="c-38055159">[2 more]</label></div><br/><div class="children"><div class="content">This is incorrect (outdated). In the NextJS conference, they demoed interleaved client and server code.</div><br/><div id="38056833" class="c"><input type="checkbox" id="c-38056833" checked=""/><div class="controls bullet"><span class="by">crucialfelix</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38055159">parent</a><span>|</span><a href="#38054731">next</a><span>|</span><label class="collapse" for="c-38056833">[-]</label><label class="expand" for="c-38056833">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s caused confusion, but that is a server side component. Dan Abramov confirms that here:<p><a href="https:&#x2F;&#x2F;twitter.com&#x2F;dan_abramov&#x2F;status&#x2F;1717648341234778376" rel="nofollow noreferrer">https:&#x2F;&#x2F;twitter.com&#x2F;dan_abramov&#x2F;status&#x2F;1717648341234778376</a><p>The html for the button gets SSR and sent to the client. The button click handler is an RPC that runs the actual sql statement on the server.</div><br/></div></div></div></div><div id="38054731" class="c"><input type="checkbox" id="c-38054731" checked=""/><div class="controls bullet"><span class="by">acheong08</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054630">parent</a><span>|</span><a href="#38055159">prev</a><span>|</span><a href="#38054864">next</a><span>|</span><label class="collapse" for="c-38054731">[-]</label><label class="expand" for="c-38054731">[5 more]</label></div><br/><div class="children"><div class="content">I think they introduced some weird mixing in the NextJS conference that just occurred recently. I don’t understand it enough to be sure though.</div><br/><div id="38054913" class="c"><input type="checkbox" id="c-38054913" checked=""/><div class="controls bullet"><span class="by">cal85</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054731">parent</a><span>|</span><a href="#38054864">next</a><span>|</span><label class="collapse" for="c-38054913">[-]</label><label class="expand" for="c-38054913">[4 more]</label></div><br/><div class="children"><div class="content">Yes, they demo&#x27;d a component with an onClick callback that contained a &#x27;use server&#x27; directive followed by serverside SQL query, right there in the onClick. So presumably that callback is automatically replaced at build time with some generated clientside code that posts to a dynamic endpoint generated from just that function, or something. Seems like a strange idea with lots of ways to go wrong, but I don&#x27;t know enough about it to judge.</div><br/><div id="38055119" class="c"><input type="checkbox" id="c-38055119" checked=""/><div class="controls bullet"><span class="by">mlfreeman</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054913">parent</a><span>|</span><a href="#38055438">next</a><span>|</span><label class="collapse" for="c-38055119">[-]</label><label class="expand" for="c-38055119">[2 more]</label></div><br/><div class="children"><div class="content">Hmm, server-side onClick event...did they just reinvent ASP.NET Web Forms?</div><br/><div id="38055256" class="c"><input type="checkbox" id="c-38055256" checked=""/><div class="controls bullet"><span class="by">ryoshu</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38055119">parent</a><span>|</span><a href="#38055438">next</a><span>|</span><label class="collapse" for="c-38055256">[-]</label><label class="expand" for="c-38055256">[1 more]</label></div><br/><div class="children"><div class="content">Yes. That&#x27;s one of the jokes.</div><br/></div></div></div></div><div id="38055438" class="c"><input type="checkbox" id="c-38055438" checked=""/><div class="controls bullet"><span class="by">williamcotton</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054913">parent</a><span>|</span><a href="#38055119">prev</a><span>|</span><a href="#38054864">next</a><span>|</span><label class="collapse" for="c-38055438">[-]</label><label class="expand" for="c-38055438">[1 more]</label></div><br/><div class="children"><div class="content">These conditional checks are an obvious sign that they’ve cleaved the rock in the wrong location.<p>These conditional checks on server state exist because they didn’t create the shared environment between web server and web browser at deep enough of a level.<p>The key is to replicate the server-side pattern of “user actions cause HTTP request”. That is, you make a version of express that runs in the browser. Then you make parallel middleware that runs in both the browser and the server. Then you make your React components fire off mock HTTP requests that are handled by the browser express router.<p>So you write the same route handlers and components for the browser and server to run but then you write environment specific middleware.<p>Browser middleware:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;williamcotton&#x2F;williamcotton.com&#x2F;tree&#x2F;master&#x2F;src&#x2F;browser&#x2F;middleware">https:&#x2F;&#x2F;github.com&#x2F;williamcotton&#x2F;williamcotton.com&#x2F;tree&#x2F;mast...</a><p>Server middleware:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;williamcotton&#x2F;williamcotton.com&#x2F;tree&#x2F;master&#x2F;src&#x2F;server&#x2F;middleware">https:&#x2F;&#x2F;github.com&#x2F;williamcotton&#x2F;williamcotton.com&#x2F;tree&#x2F;mast...</a><p>I’ve expanded beyond express in the above application to add controllers, a routes file, and views, all code that has no conditionals and runs in both the browser and server environment.<p>What NextJS demoed is poorly conceived. There’s no need to autogenerate a link to an API.<p>Instead, your frontend middleware has req.update() defined to make an API request and the server middleware has req.update() defined to make the SQL update. GraphQL pairs well with this approach, but so does something like Graphiti&#x2F;Spraypaint for a more traditional ORM-like model.<p>And there you go, sane server and client side rendering.</div><br/></div></div></div></div></div></div></div></div><div id="38054864" class="c"><input type="checkbox" id="c-38054864" checked=""/><div class="controls bullet"><span class="by">cal85</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054300">parent</a><span>|</span><a href="#38054630">prev</a><span>|</span><a href="#38054374">next</a><span>|</span><label class="collapse" for="c-38054864">[-]</label><label class="expand" for="c-38054864">[2 more]</label></div><br/><div class="children"><div class="content">This kind of explanation is why I come here.</div><br/><div id="38054869" class="c"><input type="checkbox" id="c-38054869" checked=""/><div class="controls bullet"><span class="by">actionfromafar</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054864">parent</a><span>|</span><a href="#38054374">next</a><span>|</span><label class="collapse" for="c-38054869">[-]</label><label class="expand" for="c-38054869">[1 more]</label></div><br/><div class="children"><div class="content">Me too, but I still don&#x27;t understand. This must be what it feels like to not know how computers work. I recognize some of the words in the explanation.</div><br/></div></div></div></div><div id="38054374" class="c"><input type="checkbox" id="c-38054374" checked=""/><div class="controls bullet"><span class="by">elnardu</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054300">parent</a><span>|</span><a href="#38054864">prev</a><span>|</span><a href="#38054552">next</a><span>|</span><label class="collapse" for="c-38054374">[-]</label><label class="expand" for="c-38054374">[1 more]</label></div><br/><div class="children"><div class="content">Pretty much this!</div><br/></div></div><div id="38054711" class="c"><input type="checkbox" id="c-38054711" checked=""/><div class="controls bullet"><span class="by">boringuser2</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054300">parent</a><span>|</span><a href="#38054552">prev</a><span>|</span><a href="#38054218">next</a><span>|</span><label class="collapse" for="c-38054711">[-]</label><label class="expand" for="c-38054711">[4 more]</label></div><br/><div class="children"><div class="content">&gt;API and frontend in the same code base<p>Well, it takes very little knowledge to know this isn&#x27;t a good design paradigm.</div><br/><div id="38056427" class="c"><input type="checkbox" id="c-38056427" checked=""/><div class="controls bullet"><span class="by">8n4vidtmkvmk</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054711">parent</a><span>|</span><a href="#38055098">next</a><span>|</span><label class="collapse" for="c-38056427">[-]</label><label class="expand" for="c-38056427">[1 more]</label></div><br/><div class="children"><div class="content">Wat? Of course front and back should be in same codebase. Why on earth would you need them to be in different repos? Put them in different folders if it makes you happy but there&#x27;s no need to toss stuff all over the place. They&#x27;re friends. They need to talk to each other. Let them live together</div><br/></div></div><div id="38055098" class="c"><input type="checkbox" id="c-38055098" checked=""/><div class="controls bullet"><span class="by">gedy</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054711">parent</a><span>|</span><a href="#38056427">prev</a><span>|</span><a href="#38055625">next</a><span>|</span><label class="collapse" for="c-38055098">[-]</label><label class="expand" for="c-38055098">[1 more]</label></div><br/><div class="children"><div class="content">Though, isn&#x27;t this what full-stack&#x2F;server side UI folks favor?  Rails, etc.</div><br/></div></div><div id="38055625" class="c"><input type="checkbox" id="c-38055625" checked=""/><div class="controls bullet"><span class="by">nsonha</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054711">parent</a><span>|</span><a href="#38055098">prev</a><span>|</span><a href="#38054218">next</a><span>|</span><label class="collapse" for="c-38055625">[-]</label><label class="expand" for="c-38055625">[1 more]</label></div><br/><div class="children"><div class="content">it&#x27;s not that conclusive, there are many other aspects in which it can be bad (security, team&#x27;s workflow etc). There is however no design principle ever dictates how components should&#x2F;should not be stored in the same code repo.</div><br/></div></div></div></div></div></div><div id="38054218" class="c"><input type="checkbox" id="c-38054218" checked=""/><div class="controls bullet"><span class="by">flykespice</span><span>|</span><a href="#38054172">parent</a><span>|</span><a href="#38054300">prev</a><span>|</span><a href="#38054206">next</a><span>|</span><label class="collapse" for="c-38054218">[-]</label><label class="expand" for="c-38054218">[3 more]</label></div><br/><div class="children"><div class="content">&gt; can someone tell me if this is a parody cuz I seriously can&#x27;t tell anymore?<p>You just don&#x27;t use javascript enough in your life.</div><br/><div id="38054343" class="c"><input type="checkbox" id="c-38054343" checked=""/><div class="controls bullet"><span class="by">cultofmetatron</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054218">parent</a><span>|</span><a href="#38054206">next</a><span>|</span><label class="collapse" for="c-38054343">[-]</label><label class="expand" for="c-38054343">[2 more]</label></div><br/><div class="children"><div class="content">well you&#x27;re not wrong haha. I switched to elixir for my startup so I haven&#x27;t touched a javascript file in almost 4 years now. I don&#x27;t feel like I&#x27;m missing much though.</div><br/></div></div></div></div><div id="38054206" class="c"><input type="checkbox" id="c-38054206" checked=""/><div class="controls bullet"><span class="by">nicoburns</span><span>|</span><a href="#38054172">parent</a><span>|</span><a href="#38054218">prev</a><span>|</span><a href="#38054560">next</a><span>|</span><label class="collapse" for="c-38054206">[-]</label><label class="expand" for="c-38054206">[2 more]</label></div><br/><div class="children"><div class="content">This one is definitely a parody &#x2F; not a serious project.</div><br/><div id="38054521" class="c"><input type="checkbox" id="c-38054521" checked=""/><div class="controls bullet"><span class="by">elnardu</span><span>|</span><a href="#38054172">root</a><span>|</span><a href="#38054206">parent</a><span>|</span><a href="#38054560">next</a><span>|</span><label class="collapse" for="c-38054521">[-]</label><label class="expand" for="c-38054521">[1 more]</label></div><br/><div class="children"><div class="content">tbh, I sometimes cannot tell if real js projects are parodies</div><br/></div></div></div></div></div></div><div id="38054139" class="c"><input type="checkbox" id="c-38054139" checked=""/><div class="controls bullet"><span class="by">JohnBerea</span><span>|</span><a href="#38054172">prev</a><span>|</span><a href="#38054792">next</a><span>|</span><label class="collapse" for="c-38054139">[-]</label><label class="expand" for="c-38054139">[1 more]</label></div><br/><div class="children"><div class="content">Our scientists were so busy trying to figure out if they could, they never asked whether they should.</div><br/></div></div><div id="38054792" class="c"><input type="checkbox" id="c-38054792" checked=""/><div class="controls bullet"><span class="by">sebastianconcpt</span><span>|</span><a href="#38054139">prev</a><span>|</span><a href="#38054411">next</a><span>|</span><label class="collapse" for="c-38054792">[-]</label><label class="expand" for="c-38054792">[1 more]</label></div><br/><div class="children"><div class="content">Awesome! Can&#x27;t wait to see when React can html too!</div><br/></div></div><div id="38054411" class="c"><input type="checkbox" id="c-38054411" checked=""/><div class="controls bullet"><span class="by">qudat</span><span>|</span><a href="#38054792">prev</a><span>|</span><a href="#38054038">next</a><span>|</span><label class="collapse" for="c-38054411">[-]</label><label class="expand" for="c-38054411">[1 more]</label></div><br/><div class="children"><div class="content">The most interesting thing about this for me was “zig cc”: <a href="https:&#x2F;&#x2F;andrewkelley.me&#x2F;post&#x2F;zig-cc-powerful-drop-in-replacement-gcc-clang.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;andrewkelley.me&#x2F;post&#x2F;zig-cc-powerful-drop-in-replace...</a></div><br/></div></div><div id="38054038" class="c"><input type="checkbox" id="c-38054038" checked=""/><div class="controls bullet"><span class="by">jrajav</span><span>|</span><a href="#38054411">prev</a><span>|</span><a href="#38056377">next</a><span>|</span><label class="collapse" for="c-38054038">[-]</label><label class="expand" for="c-38054038">[2 more]</label></div><br/><div class="children"><div class="content">At first, from the title, I thought this might be a clever solution to the problem just created out of thin air that &#x27;official&#x27; React apps with Next now require &quot;use client&quot; on a large fraction of previously working modules that were always intended to run on the client by default.</div><br/><div id="38054655" class="c"><input type="checkbox" id="c-38054655" checked=""/><div class="controls bullet"><span class="by">teaearlgraycold</span><span>|</span><a href="#38054038">parent</a><span>|</span><a href="#38056377">next</a><span>|</span><label class="collapse" for="c-38054655">[-]</label><label class="expand" for="c-38054655">[1 more]</label></div><br/><div class="children"><div class="content">As someone that&#x27;s not bought in on &quot;use server&quot; yet - ugh. What the fuck were they thinking?</div><br/></div></div></div></div><div id="38056377" class="c"><input type="checkbox" id="c-38056377" checked=""/><div class="controls bullet"><span class="by">jsunderland323</span><span>|</span><a href="#38054038">prev</a><span>|</span><a href="#38054876">next</a><span>|</span><label class="collapse" for="c-38056377">[-]</label><label class="expand" for="c-38056377">[1 more]</label></div><br/><div class="children"><div class="content">It looks like you’re basically sending raw c code to an express server then evaling it with some zig module import. Is that correct? Seems super safe.</div><br/></div></div><div id="38054876" class="c"><input type="checkbox" id="c-38054876" checked=""/><div class="controls bullet"><span class="by">solarkraft</span><span>|</span><a href="#38056377">prev</a><span>|</span><a href="#38054067">next</a><span>|</span><label class="collapse" for="c-38054876">[-]</label><label class="expand" for="c-38054876">[1 more]</label></div><br/><div class="children"><div class="content">Love the todos:<p>&gt; Add typescript support<p>&gt; Remove typescript support<p>Beautiful</div><br/></div></div><div id="38054067" class="c"><input type="checkbox" id="c-38054067" checked=""/><div class="controls bullet"><span class="by">cuddlyogre</span><span>|</span><a href="#38054876">prev</a><span>|</span><a href="#38054055">next</a><span>|</span><label class="collapse" for="c-38054067">[-]</label><label class="expand" for="c-38054067">[1 more]</label></div><br/><div class="children"><div class="content">The todos gave me a belly laugh.</div><br/></div></div><div id="38054055" class="c"><input type="checkbox" id="c-38054055" checked=""/><div class="controls bullet"><span class="by">ht85</span><span>|</span><a href="#38054067">prev</a><span>|</span><a href="#38054477">next</a><span>|</span><label class="collapse" for="c-38054055">[-]</label><label class="expand" for="c-38054055">[1 more]</label></div><br/><div class="children"><div class="content">&gt; esbuild is not cursed enough<p>The real takeaway. Love it. Hate it. All at the same time.</div><br/></div></div><div id="38054477" class="c"><input type="checkbox" id="c-38054477" checked=""/><div class="controls bullet"><span class="by">kritr</span><span>|</span><a href="#38054055">prev</a><span>|</span><a href="#38054140">next</a><span>|</span><label class="collapse" for="c-38054477">[-]</label><label class="expand" for="c-38054477">[2 more]</label></div><br/><div class="children"><div class="content">Hey Elnard, you might want to consider using <a href="https:&#x2F;&#x2F;github.com&#x2F;KritR&#x2F;picoc-js">https:&#x2F;&#x2F;github.com&#x2F;KritR&#x2F;picoc-js</a> ;) 
Then you should be able to fully execute in browser.</div><br/><div id="38054485" class="c"><input type="checkbox" id="c-38054485" checked=""/><div class="controls bullet"><span class="by">elnardu</span><span>|</span><a href="#38054477">parent</a><span>|</span><a href="#38054140">next</a><span>|</span><label class="collapse" for="c-38054485">[-]</label><label class="expand" for="c-38054485">[1 more]</label></div><br/><div class="children"><div class="content">brb compiling llvm to wasm</div><br/></div></div></div></div><div id="38054140" class="c"><input type="checkbox" id="c-38054140" checked=""/><div class="controls bullet"><span class="by">xyst</span><span>|</span><a href="#38054477">prev</a><span>|</span><a href="#38054081">next</a><span>|</span><label class="collapse" for="c-38054140">[-]</label><label class="expand" for="c-38054140">[3 more]</label></div><br/><div class="children"><div class="content">Come back to HN when it can run rust ;)</div><br/><div id="38054474" class="c"><input type="checkbox" id="c-38054474" checked=""/><div class="controls bullet"><span class="by">elnardu</span><span>|</span><a href="#38054140">parent</a><span>|</span><a href="#38054354">next</a><span>|</span><label class="collapse" for="c-38054474">[-]</label><label class="expand" for="c-38054474">[1 more]</label></div><br/><div class="children"><div class="content">There you go <a href="https:&#x2F;&#x2F;github.com&#x2F;elnardu&#x2F;react-use-rust">https:&#x2F;&#x2F;github.com&#x2F;elnardu&#x2F;react-use-rust</a></div><br/></div></div><div id="38054354" class="c"><input type="checkbox" id="c-38054354" checked=""/><div class="controls bullet"><span class="by">elnardu</span><span>|</span><a href="#38054140">parent</a><span>|</span><a href="#38054474">prev</a><span>|</span><a href="#38054081">next</a><span>|</span><label class="collapse" for="c-38054354">[-]</label><label class="expand" for="c-38054354">[1 more]</label></div><br/><div class="children"><div class="content">give me like 10 minutes</div><br/></div></div></div></div><div id="38054081" class="c"><input type="checkbox" id="c-38054081" checked=""/><div class="controls bullet"><span class="by">ycombinatrix</span><span>|</span><a href="#38054140">prev</a><span>|</span><a href="#38054937">next</a><span>|</span><label class="collapse" for="c-38054081">[-]</label><label class="expand" for="c-38054081">[1 more]</label></div><br/><div class="children"><div class="content">big fan of your &quot;&#x2F;rpc&#x2F;rce&quot; endpoint</div><br/></div></div><div id="38054937" class="c"><input type="checkbox" id="c-38054937" checked=""/><div class="controls bullet"><span class="by">inopinatus</span><span>|</span><a href="#38054081">prev</a><span>|</span><a href="#38054325">next</a><span>|</span><label class="collapse" for="c-38054937">[-]</label><label class="expand" for="c-38054937">[3 more]</label></div><br/><div class="children"><div class="content">Definitely forms some kind of implicit argument either for or against a belief in the wisdom of choosing JavaScript as a platform for, well, anything at all. Leaning towards against</div><br/><div id="38055300" class="c"><input type="checkbox" id="c-38055300" checked=""/><div class="controls bullet"><span class="by">CSSer</span><span>|</span><a href="#38054937">parent</a><span>|</span><a href="#38054325">next</a><span>|</span><label class="collapse" for="c-38055300">[-]</label><label class="expand" for="c-38055300">[2 more]</label></div><br/><div class="children"><div class="content">If it does, I think it’s a pretty poor argument. JS is the lingua franca of the web. The web is <i>the</i> platform. Frankly, I’d love it if there were some pure, high-level (but lower than the web), widely satisfactory “native” multi-platform solution with truly altruistic motives but I know of none. Serious engineering is done on the web motivated by strategic business decisions. Isomorphic JS remains a smart one that is purely independent of what you see here.</div><br/><div id="38056450" class="c"><input type="checkbox" id="c-38056450" checked=""/><div class="controls bullet"><span class="by">subarctic</span><span>|</span><a href="#38054937">root</a><span>|</span><a href="#38055300">parent</a><span>|</span><a href="#38054325">next</a><span>|</span><label class="collapse" for="c-38056450">[-]</label><label class="expand" for="c-38056450">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Frankly, I’d love it if there were some pure, high-level (but lower than the web), widely satisfactory “native” multi-platform solution with truly altruistic motives but I know of none<p>I want to say &quot;WebAssembly&quot; but that isn&#x27;t it at all, since you&#x27;re talking about the web, not JavaScript. The hypothetical platform you&#x27;re talking about could use webassembly but that would be besides the point.<p>Does a low-level version exist? Say, OpenGL?</div><br/></div></div></div></div></div></div><div id="38054325" class="c"><input type="checkbox" id="c-38054325" checked=""/><div class="controls bullet"><span class="by">garrettjoecox</span><span>|</span><a href="#38054937">prev</a><span>|</span><a href="#38054066">next</a><span>|</span><label class="collapse" for="c-38054325">[-]</label><label class="expand" for="c-38054325">[1 more]</label></div><br/><div class="children"><div class="content">&gt; await sleep(Math.random() * 5000); &#x2F;&#x2F; gotta keep up with the trends<p>Nice</div><br/></div></div><div id="38054066" class="c"><input type="checkbox" id="c-38054066" checked=""/><div class="controls bullet"><span class="by">HtmlProgrammer</span><span>|</span><a href="#38054325">prev</a><span>|</span><a href="#38055292">next</a><span>|</span><label class="collapse" for="c-38054066">[-]</label><label class="expand" for="c-38054066">[1 more]</label></div><br/><div class="children"><div class="content">Based repo</div><br/></div></div><div id="38055292" class="c"><input type="checkbox" id="c-38055292" checked=""/><div class="controls bullet"><span class="by">cdelsolar</span><span>|</span><a href="#38054066">prev</a><span>|</span><a href="#38054169">next</a><span>|</span><label class="collapse" for="c-38055292">[-]</label><label class="expand" for="c-38055292">[1 more]</label></div><br/><div class="children"><div class="content">why</div><br/></div></div><div id="38054169" class="c"><input type="checkbox" id="c-38054169" checked=""/><div class="controls bullet"><span class="by">andrewmcwatters</span><span>|</span><a href="#38055292">prev</a><span>|</span><a href="#38054076">next</a><span>|</span><label class="collapse" for="c-38054169">[-]</label><label class="expand" for="c-38054169">[2 more]</label></div><br/><div class="children"><div class="content">Something something `use rust`.</div><br/><div id="38054475" class="c"><input type="checkbox" id="c-38054475" checked=""/><div class="controls bullet"><span class="by">elnardu</span><span>|</span><a href="#38054169">parent</a><span>|</span><a href="#38054076">next</a><span>|</span><label class="collapse" for="c-38054475">[-]</label><label class="expand" for="c-38054475">[1 more]</label></div><br/><div class="children"><div class="content">Here <a href="https:&#x2F;&#x2F;github.com&#x2F;elnardu&#x2F;react-use-rust">https:&#x2F;&#x2F;github.com&#x2F;elnardu&#x2F;react-use-rust</a></div><br/></div></div></div></div><div id="38054076" class="c"><input type="checkbox" id="c-38054076" checked=""/><div class="controls bullet"><span class="by">vips7L</span><span>|</span><a href="#38054169">prev</a><span>|</span><label class="collapse" for="c-38054076">[-]</label><label class="expand" for="c-38054076">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Tell windows ppl to just use WSL<p>Ah yes more non-portable code.</div><br/></div></div></div></div></div></div></div></body></html>