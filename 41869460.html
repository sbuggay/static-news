<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1729242071367" as="style"/><link rel="stylesheet" href="styles.css?v=1729242071367"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://gitlab.com/lockie/cl-fast-ecs/-/wikis/tutorial-2">Gamedev in Lisp. Part 2: Dungeons and Interfaces</a> <span class="domain">(<a href="https://gitlab.com">gitlab.com</a>)</span></div><div class="subtext"><span>awkravchuk</span> | <span>60 comments</span></div><br/><div><div id="41872271" class="c"><input type="checkbox" id="c-41872271" checked=""/><div class="controls bullet"><span class="by">maxwelljoslyn</span><span>|</span><a href="#41869836">next</a><span>|</span><label class="collapse" for="c-41872271">[-]</label><label class="expand" for="c-41872271">[3 more]</label></div><br/><div class="children"><div class="content">This is what all technical tutorials should look like. Well-composed and generally free of grammatical errors, spends just the right amount of time explaining each new topic as it is introduced, comes with full code samples, and includes visual samples of what the code does. Also, lengthy enough to treat the material in depth, while still being sufficiently self-contained that I can follow along -- without having read part 1 and without more than a few months of Common Lisp under my belt from a couple years back (tho I&#x27;ve done a decent amount of Clojure and Emacs Lisp.)<p>Bravo, awkravchuk&#x2F;Andrew :^)<p>(Crossposted from <a href="https:&#x2F;&#x2F;mxjn.me&#x2F;2024&#x2F;10&#x2F;17&#x2F;1" rel="nofollow">https:&#x2F;&#x2F;mxjn.me&#x2F;2024&#x2F;10&#x2F;17&#x2F;1</a>)</div><br/><div id="41872883" class="c"><input type="checkbox" id="c-41872883" checked=""/><div class="controls bullet"><span class="by">varjag</span><span>|</span><a href="#41872271">parent</a><span>|</span><a href="#41869836">next</a><span>|</span><label class="collapse" for="c-41872883">[-]</label><label class="expand" for="c-41872883">[2 more]</label></div><br/><div class="children"><div class="content">Seconded! Top notch longform programming material.</div><br/><div id="41876978" class="c"><input type="checkbox" id="c-41876978" checked=""/><div class="controls bullet"><span class="by">awkravchuk</span><span>|</span><a href="#41872271">root</a><span>|</span><a href="#41872883">parent</a><span>|</span><a href="#41869836">next</a><span>|</span><label class="collapse" for="c-41876978">[-]</label><label class="expand" for="c-41876978">[1 more]</label></div><br/><div class="children"><div class="content">Thanks so much guys :)</div><br/></div></div></div></div></div></div><div id="41869836" class="c"><input type="checkbox" id="c-41869836" checked=""/><div class="controls bullet"><span class="by">fredrikholm</span><span>|</span><a href="#41872271">prev</a><span>|</span><a href="#41870952">next</a><span>|</span><label class="collapse" for="c-41869836">[-]</label><label class="expand" for="c-41869836">[2 more]</label></div><br/><div class="children"><div class="content">Few (tech) things pull at the heart string more than great projects&#x2F;articles about Common Lisp. Man what a treat!<p>Read the first part when it came back, really excited to read this one. Kudos to the author!</div><br/><div id="41869839" class="c"><input type="checkbox" id="c-41869839" checked=""/><div class="controls bullet"><span class="by">awkravchuk</span><span>|</span><a href="#41869836">parent</a><span>|</span><a href="#41870952">next</a><span>|</span><label class="collapse" for="c-41869839">[-]</label><label class="expand" for="c-41869839">[1 more]</label></div><br/><div class="children"><div class="content">Thanks mate, I appreciate it :)</div><br/></div></div></div></div><div id="41870952" class="c"><input type="checkbox" id="c-41870952" checked=""/><div class="controls bullet"><span class="by">mark_l_watson</span><span>|</span><a href="#41869836">prev</a><span>|</span><a href="#41872047">next</a><span>|</span><label class="collapse" for="c-41870952">[-]</label><label class="expand" for="c-41870952">[2 more]</label></div><br/><div class="children"><div class="content">Wow! Your package.sh and in general managing builds for three operating systems is a master class in itself - reading through the GitHub repo was a good learning experience.<p>I usually build command line Common Lisp apps in SBCL or LispWorks, but I might do the next one in ECL because having builds for both macOS and Linux would be cool, and it would be fun to try something new.</div><br/><div id="41871075" class="c"><input type="checkbox" id="c-41871075" checked=""/><div class="controls bullet"><span class="by">awkravchuk</span><span>|</span><a href="#41870952">parent</a><span>|</span><a href="#41872047">next</a><span>|</span><label class="collapse" for="c-41871075">[-]</label><label class="expand" for="c-41871075">[1 more]</label></div><br/><div class="children"><div class="content">Oh thanks! I&#x27;ve been building that CI stuff on top of CL infrastructure for a few years now, and it constantly breaks :D</div><br/></div></div></div></div><div id="41872047" class="c"><input type="checkbox" id="c-41872047" checked=""/><div class="controls bullet"><span class="by">ertucetin</span><span>|</span><a href="#41870952">prev</a><span>|</span><a href="#41875431">next</a><span>|</span><label class="collapse" for="c-41872047">[-]</label><label class="expand" for="c-41872047">[5 more]</label></div><br/><div class="children"><div class="content">This is a very good read. I’m developing a multiplayer, third-person, spell-based shooter game using Lisp (ClojureScript). It’s a 3D web-based game. I’ll also be writing a blog post about my journey, including the tools and abstractions I created for the project. If you’re interested, here’s a demo link: <a href="https:&#x2F;&#x2F;wizardmasters.io" rel="nofollow">https:&#x2F;&#x2F;wizardmasters.io</a></div><br/><div id="41872184" class="c"><input type="checkbox" id="c-41872184" checked=""/><div class="controls bullet"><span class="by">fire_lake</span><span>|</span><a href="#41872047">parent</a><span>|</span><a href="#41875431">next</a><span>|</span><label class="collapse" for="c-41872184">[-]</label><label class="expand" for="c-41872184">[4 more]</label></div><br/><div class="children"><div class="content">Jon Blow tried to make a game like this way back. It might be worth learning how&#x2F;why it failed.</div><br/><div id="41872192" class="c"><input type="checkbox" id="c-41872192" checked=""/><div class="controls bullet"><span class="by">tines</span><span>|</span><a href="#41872047">root</a><span>|</span><a href="#41872184">parent</a><span>|</span><a href="#41875431">next</a><span>|</span><label class="collapse" for="c-41872192">[-]</label><label class="expand" for="c-41872192">[3 more]</label></div><br/><div class="children"><div class="content">Link to any video or anything on the subject?</div><br/><div id="41872764" class="c"><input type="checkbox" id="c-41872764" checked=""/><div class="controls bullet"><span class="by">adamrezich</span><span>|</span><a href="#41872047">root</a><span>|</span><a href="#41872192">parent</a><span>|</span><a href="#41875431">next</a><span>|</span><label class="collapse" for="c-41872764">[-]</label><label class="expand" for="c-41872764">[2 more]</label></div><br/><div class="children"><div class="content">Unless I&#x27;m mistaken, I think fire_lake might be referring to a wholly unrelated first-person RPG spellcasting game project wherein the player would draw glyphs with their mouse in order to cast spells, and then there would be a surprise later in the game based on this mechanic (which was later repurposed for The Witness).</div><br/><div id="41872869" class="c"><input type="checkbox" id="c-41872869" checked=""/><div class="controls bullet"><span class="by">modernerd</span><span>|</span><a href="#41872047">root</a><span>|</span><a href="#41872764">parent</a><span>|</span><a href="#41875431">next</a><span>|</span><label class="collapse" for="c-41872869">[-]</label><label class="expand" for="c-41872869">[1 more]</label></div><br/><div class="children"><div class="content">Yes, it reminded me of his talk on prototyping:<p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=ISutk1mauPM&amp;t=426s" rel="nofollow">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=ISutk1mauPM&amp;t=426s</a></div><br/></div></div></div></div></div></div></div></div></div></div><div id="41875711" class="c"><input type="checkbox" id="c-41875711" checked=""/><div class="controls bullet"><span class="by">rtpg</span><span>|</span><a href="#41875431">prev</a><span>|</span><a href="#41869767">next</a><span>|</span><label class="collapse" for="c-41875711">[-]</label><label class="expand" for="c-41875711">[1 more]</label></div><br/><div class="children"><div class="content">Tiled is great. I really wish there was an SVG equivalent though. Inkscape is alright but custom data parameters are really annoying to deal with, and ultimately the tool is built around drawing things to paper.</div><br/></div></div><div id="41869767" class="c"><input type="checkbox" id="c-41869767" checked=""/><div class="controls bullet"><span class="by">dunefox</span><span>|</span><a href="#41875711">prev</a><span>|</span><a href="#41872897">next</a><span>|</span><label class="collapse" for="c-41869767">[-]</label><label class="expand" for="c-41869767">[3 more]</label></div><br/><div class="children"><div class="content">Nice, just this week I started developing a roguelike in Python, but Lisp might be cool as well.</div><br/><div id="41869799" class="c"><input type="checkbox" id="c-41869799" checked=""/><div class="controls bullet"><span class="by">awkravchuk</span><span>|</span><a href="#41869767">parent</a><span>|</span><a href="#41872897">next</a><span>|</span><label class="collapse" for="c-41869799">[-]</label><label class="expand" for="c-41869799">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also this full-fledged Lisp-based roguelike tutorial: <a href="https:&#x2F;&#x2F;nwforrer.github.io&#x2F;posts&#x2F;roguelike-tutorial-part1" rel="nofollow">https:&#x2F;&#x2F;nwforrer.github.io&#x2F;posts&#x2F;roguelike-tutorial-part1</a></div><br/><div id="41872862" class="c"><input type="checkbox" id="c-41872862" checked=""/><div class="controls bullet"><span class="by">varjag</span><span>|</span><a href="#41869767">root</a><span>|</span><a href="#41869799">parent</a><span>|</span><a href="#41872897">next</a><span>|</span><label class="collapse" for="c-41872862">[-]</label><label class="expand" for="c-41872862">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also Langband: a fairly complete Angband clone written in CL by my late friend. Including SDL&#x2F;tiled version; however the code is pre-Quicklisp and it&#x27;d probably would be some work to get it to run again.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;fufie&#x2F;lambdarock">https:&#x2F;&#x2F;github.com&#x2F;fufie&#x2F;lambdarock</a></div><br/></div></div></div></div></div></div><div id="41872897" class="c"><input type="checkbox" id="c-41872897" checked=""/><div class="controls bullet"><span class="by">xixixao</span><span>|</span><a href="#41869767">prev</a><span>|</span><a href="#41871524">next</a><span>|</span><label class="collapse" for="c-41872897">[-]</label><label class="expand" for="c-41872897">[2 more]</label></div><br/><div class="children"><div class="content">This is super solid, but the setup in Part 1 (CL itself, Python, C, lots of steps) I think is indicative of why CL is not super popular, especially with young programmers. Which is a shame. Would be awesome if someone felt like putting in the work to make the language more approachable (installation wise).</div><br/><div id="41874142" class="c"><input type="checkbox" id="c-41874142" checked=""/><div class="controls bullet"><span class="by">wwfn</span><span>|</span><a href="#41872897">parent</a><span>|</span><a href="#41871524">next</a><span>|</span><label class="collapse" for="c-41874142">[-]</label><label class="expand" for="c-41874142">[1 more]</label></div><br/><div class="children"><div class="content">This doesn&#x27;t exactly get at it, but <a href="https:&#x2F;&#x2F;ciel-lang.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;ciel-lang.org&#x2F;</a> is at least attacking part of too-many-steps problem while focusing more on the too-many-choices and long in the tooth defaults (as I understand it).</div><br/></div></div></div></div><div id="41871524" class="c"><input type="checkbox" id="c-41871524" checked=""/><div class="controls bullet"><span class="by">0xEF</span><span>|</span><a href="#41872897">prev</a><span>|</span><a href="#41869728">next</a><span>|</span><label class="collapse" for="c-41871524">[-]</label><label class="expand" for="c-41871524">[2 more]</label></div><br/><div class="children"><div class="content">I feel tricked. I came to learn to make a simple game, ended up learning tons about computing.<p>Love it!</div><br/><div id="41877039" class="c"><input type="checkbox" id="c-41877039" checked=""/><div class="controls bullet"><span class="by">awkravchuk</span><span>|</span><a href="#41871524">parent</a><span>|</span><a href="#41869728">next</a><span>|</span><label class="collapse" for="c-41877039">[-]</label><label class="expand" for="c-41877039">[1 more]</label></div><br/><div class="children"><div class="content">Thank you!</div><br/></div></div></div></div><div id="41869728" class="c"><input type="checkbox" id="c-41869728" checked=""/><div class="controls bullet"><span class="by">sourcepluck</span><span>|</span><a href="#41871524">prev</a><span>|</span><a href="#41870636">next</a><span>|</span><label class="collapse" for="c-41869728">[-]</label><label class="expand" for="c-41869728">[1 more]</label></div><br/><div class="children"><div class="content">I was only looking back over Part 1 yesterday! What timing!</div><br/></div></div><div id="41870636" class="c"><input type="checkbox" id="c-41870636" checked=""/><div class="controls bullet"><span class="by">davexunit</span><span>|</span><a href="#41869728">prev</a><span>|</span><a href="#41870173">next</a><span>|</span><label class="collapse" for="c-41870636">[-]</label><label class="expand" for="c-41870636">[3 more]</label></div><br/><div class="children"><div class="content">I didn&#x27;t know that bit of history about A* and Lisp!  All roads lead to Lisp, it seems.<p>As mentioned at the end of the article, the next Lisp Game Jam starts next week on the 25th.  Join in here: <a href="https:&#x2F;&#x2F;itch.io&#x2F;jam&#x2F;autumn-lisp-game-jam-2024" rel="nofollow">https:&#x2F;&#x2F;itch.io&#x2F;jam&#x2F;autumn-lisp-game-jam-2024</a></div><br/><div id="41870728" class="c"><input type="checkbox" id="c-41870728" checked=""/><div class="controls bullet"><span class="by">awkravchuk</span><span>|</span><a href="#41870636">parent</a><span>|</span><a href="#41870874">next</a><span>|</span><label class="collapse" for="c-41870728">[-]</label><label class="expand" for="c-41870728">[1 more]</label></div><br/><div class="children"><div class="content">I also learned it by chance while preparing the article :)</div><br/></div></div></div></div><div id="41870173" class="c"><input type="checkbox" id="c-41870173" checked=""/><div class="controls bullet"><span class="by">Guthur</span><span>|</span><a href="#41870636">prev</a><span>|</span><a href="#41870556">next</a><span>|</span><label class="collapse" for="c-41870173">[-]</label><label class="expand" for="c-41870173">[31 more]</label></div><br/><div class="children"><div class="content">The event loop is brilliant example for how much `loop` is a full blown iteration DSL... love it or hate it ;)</div><br/><div id="41870202" class="c"><input type="checkbox" id="c-41870202" checked=""/><div class="controls bullet"><span class="by">awkravchuk</span><span>|</span><a href="#41870173">parent</a><span>|</span><a href="#41871308">next</a><span>|</span><label class="collapse" for="c-41870202">[-]</label><label class="expand" for="c-41870202">[23 more]</label></div><br/><div class="children"><div class="content">I used to scoff at it at first, but after a few years of CL programming loop is one of my favourite CL constructs :)</div><br/><div id="41870359" class="c"><input type="checkbox" id="c-41870359" checked=""/><div class="controls bullet"><span class="by">taeric</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41870202">parent</a><span>|</span><a href="#41871308">next</a><span>|</span><label class="collapse" for="c-41870359">[-]</label><label class="expand" for="c-41870359">[22 more]</label></div><br/><div class="children"><div class="content">I&#x27;m with you there.  Is a bit of a mind bend, as I really disliked it the first few times I saw it.<p>For an even sillier mind bend, I&#x27;m using tagbody to be able to directly transcribe some of Knuth&#x27;s algorithms as I am learning them.</div><br/><div id="41870541" class="c"><input type="checkbox" id="c-41870541" checked=""/><div class="controls bullet"><span class="by">awkravchuk</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41870359">parent</a><span>|</span><a href="#41870528">next</a><span>|</span><label class="collapse" for="c-41870541">[-]</label><label class="expand" for="c-41870541">[1 more]</label></div><br/><div class="children"><div class="content">Cool! Using tagbody feels like writing supercharged C or even assembler to me (not that I&#x27;ve used it much, but still).</div><br/></div></div><div id="41870528" class="c"><input type="checkbox" id="c-41870528" checked=""/><div class="controls bullet"><span class="by">CyberDildonics</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41870359">parent</a><span>|</span><a href="#41870541">prev</a><span>|</span><a href="#41871308">next</a><span>|</span><label class="collapse" for="c-41870528">[-]</label><label class="expand" for="c-41870528">[20 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t understand why turning a simple loop into a &#x27;mindbend&#x27; is considered good. The downfall of programming is complexity, if you&#x27;re getting your mind blown by a loop how are you going to do the rest of the program?</div><br/><div id="41870582" class="c"><input type="checkbox" id="c-41870582" checked=""/><div class="controls bullet"><span class="by">zelphirkalt</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41870528">parent</a><span>|</span><a href="#41870627">next</a><span>|</span><label class="collapse" for="c-41870582">[-]</label><label class="expand" for="c-41870582">[16 more]</label></div><br/><div class="children"><div class="content">Something can be mindbending in its implementation, but offer a very convenient interface at the same time.<p>If mindbending isn&#x27;t relating to its usage, but to its implementation, then I could see, how it could still be a good thing.</div><br/><div id="41870793" class="c"><input type="checkbox" id="c-41870793" checked=""/><div class="controls bullet"><span class="by">exe34</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41870582">parent</a><span>|</span><a href="#41871078">next</a><span>|</span><label class="collapse" for="c-41870793">[-]</label><label class="expand" for="c-41870793">[1 more]</label></div><br/><div class="children"><div class="content">mindbending can also refer to something being deceptively simple. you might think it would be a big complicated mess, but using this one weird trick makes it really obvious what&#x27;s going on.</div><br/></div></div><div id="41871078" class="c"><input type="checkbox" id="c-41871078" checked=""/><div class="controls bullet"><span class="by">CyberDildonics</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41870582">parent</a><span>|</span><a href="#41870793">prev</a><span>|</span><a href="#41870627">next</a><span>|</span><label class="collapse" for="c-41871078">[-]</label><label class="expand" for="c-41871078">[14 more]</label></div><br/><div class="children"><div class="content">How does that relate to a simple loop construct though? Why would you want that to be mind bending in interface or implementation? Every other language makes it as simple as possible.</div><br/><div id="41872449" class="c"><input type="checkbox" id="c-41872449" checked=""/><div class="controls bullet"><span class="by">SatvikBeri</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41871078">parent</a><span>|</span><a href="#41870627">next</a><span>|</span><label class="collapse" for="c-41872449">[-]</label><label class="expand" for="c-41872449">[13 more]</label></div><br/><div class="children"><div class="content">This isn&#x27;t really true – you have languages like Odin that only have a for loop, no while loop, that only supports index-based iteration. Then you have languages like Python that let you loop over an arbitrary iterable, and define your own iterables. Some languages allow conditionals in loops, some don&#x27;t. Some let you loop over multiple iterables, while some only take one at a time.<p>Common Lisp happens to be on the upper end of what loop allows – you can use it as a standard for loop pretty easily, but the interface gives you many other options.</div><br/><div id="41873366" class="c"><input type="checkbox" id="c-41873366" checked=""/><div class="controls bullet"><span class="by">shawn_w</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41872449">parent</a><span>|</span><a href="#41872733">next</a><span>|</span><label class="collapse" for="c-41873366">[-]</label><label class="expand" for="c-41873366">[3 more]</label></div><br/><div class="children"><div class="content">And then there&#x27;s Scheme, where there are no iterative loops; all looping is done with recursion. You can build pretty much everything other languages do with loops on top of that, though.</div><br/><div id="41875683" class="c"><input type="checkbox" id="c-41875683" checked=""/><div class="controls bullet"><span class="by">groovy2shoes</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41873366">parent</a><span>|</span><a href="#41872733">next</a><span>|</span><label class="collapse" for="c-41875683">[-]</label><label class="expand" for="c-41875683">[2 more]</label></div><br/><div class="children"><div class="content">Not true.  Scheme has `do`.  See R7RS section 4.2.4 &quot;Iteration&quot;.</div><br/><div id="41876890" class="c"><input type="checkbox" id="c-41876890" checked=""/><div class="controls bullet"><span class="by">shawn_w</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41875683">parent</a><span>|</span><a href="#41872733">next</a><span>|</span><label class="collapse" for="c-41876890">[-]</label><label class="expand" for="c-41876890">[1 more]</label></div><br/><div class="children"><div class="content">Scheme&#x27;s `do` is implemented using recursion. There&#x27;s a sample macro for it in 7.3.</div><br/></div></div></div></div></div></div><div id="41872733" class="c"><input type="checkbox" id="c-41872733" checked=""/><div class="controls bullet"><span class="by">medo-bear</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41872449">parent</a><span>|</span><a href="#41873366">prev</a><span>|</span><a href="#41870627">next</a><span>|</span><label class="collapse" for="c-41872733">[-]</label><label class="expand" for="c-41872733">[9 more]</label></div><br/><div class="children"><div class="content">&gt; Common Lisp happens to be on the upper end of what loop allows – you can use it as a standard for loop pretty easily, but the interface gives you many other options.<p>If you really wanna get freaky try &#x27;do. It is the heroin addicted cousin of &#x27;loop<p><a href="https:&#x2F;&#x2F;www.lispworks.com&#x2F;documentation&#x2F;HyperSpec&#x2F;Body&#x2F;m_do_do.htm" rel="nofollow">https:&#x2F;&#x2F;www.lispworks.com&#x2F;documentation&#x2F;HyperSpec&#x2F;Body&#x2F;m_do_...</a></div><br/><div id="41873388" class="c"><input type="checkbox" id="c-41873388" checked=""/><div class="controls bullet"><span class="by">shawn_w</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41872733">parent</a><span>|</span><a href="#41870627">next</a><span>|</span><label class="collapse" for="c-41873388">[-]</label><label class="expand" for="c-41873388">[8 more]</label></div><br/><div class="children"><div class="content">`do` is very straightforward and basic compared to the things that `loop` allows.</div><br/><div id="41874508" class="c"><input type="checkbox" id="c-41874508" checked=""/><div class="controls bullet"><span class="by">medo-bear</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41873388">parent</a><span>|</span><a href="#41870627">next</a><span>|</span><label class="collapse" for="c-41874508">[-]</label><label class="expand" for="c-41874508">[7 more]</label></div><br/><div class="children"><div class="content">oh no. maybe you have in mind &#x27;dolist or &#x27;dotimes<p>&#x27;do is much more general and way more powerful. in some sense &#x27;loop is the taming of &#x27;do. see for example<p><a href="https:&#x2F;&#x2F;www.lispworks.com&#x2F;documentation&#x2F;lcl50&#x2F;loop&#x2F;loop-7.html" rel="nofollow">https:&#x2F;&#x2F;www.lispworks.com&#x2F;documentation&#x2F;lcl50&#x2F;loop&#x2F;loop-7.ht...</a></div><br/><div id="41874619" class="c"><input type="checkbox" id="c-41874619" checked=""/><div class="controls bullet"><span class="by">shawn_w</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41874508">parent</a><span>|</span><a href="#41870627">next</a><span>|</span><label class="collapse" for="c-41874619">[-]</label><label class="expand" for="c-41874619">[6 more]</label></div><br/><div class="children"><div class="content">No, I mean do. It&#x27;s basically just a C style for loop except with a return value. Nothing special.</div><br/><div id="41874818" class="c"><input type="checkbox" id="c-41874818" checked=""/><div class="controls bullet"><span class="by">medo-bear</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41874619">parent</a><span>|</span><a href="#41870627">next</a><span>|</span><label class="collapse" for="c-41874818">[-]</label><label class="expand" for="c-41874818">[5 more]</label></div><br/><div class="children"><div class="content">yes the syntax for &#x27;do is simple, like that of lisp. however &#x27;do allows you to make far more complex iteration constructs than &#x27;loop. &#x27;loop is just a DSL to make some of these constructs more concise. read up on it</div><br/><div id="41876548" class="c"><input type="checkbox" id="c-41876548" checked=""/><div class="controls bullet"><span class="by">lispm</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41874818">parent</a><span>|</span><a href="#41870627">next</a><span>|</span><label class="collapse" for="c-41876548">[-]</label><label class="expand" for="c-41876548">[4 more]</label></div><br/><div class="children"><div class="content">LOOP has the DO functionality included.<p>Example:<p><pre><code>    CL-USER 18 &gt; (do ((a 1 (+ a 1))
                      (b 10 (* b 1.5))
                      (c nil))

                     ((&gt; a 5) (list a b (reverse c)))

                   (push (* a b) c))

    (6 75.9375 (10 30.0 67.5 135.0 253.125))

    CL-USER 19 &gt; (loop for a = 1 then (+ a 1)
                       and b = 10 then (* b 1.5)
                       and c = NIL then c

                       when (&gt; a 5) do (return (list a b (reverse c)))

                       do (push (* a b) c))

    (6 75.9375 (10 30.0 67.5 135.0 253.125))</code></pre></div><br/><div id="41876808" class="c"><input type="checkbox" id="c-41876808" checked=""/><div class="controls bullet"><span class="by">medo-bear</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41876548">parent</a><span>|</span><a href="#41870627">next</a><span>|</span><label class="collapse" for="c-41876808">[-]</label><label class="expand" for="c-41876808">[3 more]</label></div><br/><div class="children"><div class="content">You can also express LOOP constructs in terms of DO. However if you were to construct a more exotic iterator that is not so straight forward in LOOP (beware of edge cases), I think it is more reasonable to pick DO. I think also that your example illustrates this.</div><br/><div id="41876971" class="c"><input type="checkbox" id="c-41876971" checked=""/><div class="controls bullet"><span class="by">lispm</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41876808">parent</a><span>|</span><a href="#41870627">next</a><span>|</span><label class="collapse" for="c-41876971">[-]</label><label class="expand" for="c-41876971">[2 more]</label></div><br/><div class="children"><div class="content">I would miss the in-order collects, actually collect&#x2F;maximize&#x2F;... features, destructuring of lists, direct type declarations, ...<p>I also find DO not easy to read and understand.<p>The code from above I would actually write in LOOP as<p><pre><code>    (loop for a from 1 upto 5
          and b = 10 then (* b 1.5)
          collect (* a b) into c
          finally (return (list a b c)))
</code></pre>
I find that to be readable.</div><br/><div id="41877175" class="c"><input type="checkbox" id="c-41877175" checked=""/><div class="controls bullet"><span class="by">medo-bear</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41876971">parent</a><span>|</span><a href="#41870627">next</a><span>|</span><label class="collapse" for="c-41877175">[-]</label><label class="expand" for="c-41877175">[1 more]</label></div><br/><div class="children"><div class="content">Of course to each their own. I like LOOP a lot actually when I need to do something familiar, however for something unfamiliar DO is often my choice. It also serves as a caution to tread and think carefully when I return to the code. Sometimes, after a while, I realise how to do the DO construct succintly with LOOP</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="41870627" class="c"><input type="checkbox" id="c-41870627" checked=""/><div class="controls bullet"><span class="by">taeric</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41870528">parent</a><span>|</span><a href="#41870582">prev</a><span>|</span><a href="#41872673">next</a><span>|</span><label class="collapse" for="c-41870627">[-]</label><label class="expand" for="c-41870627">[1 more]</label></div><br/><div class="children"><div class="content">The mindbend was more of my approach to the construct.  It began with disdain before even really using it much.  Looking back, I really couldn&#x27;t articulate what I disliked about it.</div><br/></div></div><div id="41872673" class="c"><input type="checkbox" id="c-41872673" checked=""/><div class="controls bullet"><span class="by">medo-bear</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41870528">parent</a><span>|</span><a href="#41870627">prev</a><span>|</span><a href="#41871087">next</a><span>|</span><label class="collapse" for="c-41872673">[-]</label><label class="expand" for="c-41872673">[1 more]</label></div><br/><div class="children"><div class="content">Simple minds loop simply</div><br/></div></div><div id="41871087" class="c"><input type="checkbox" id="c-41871087" checked=""/><div class="controls bullet"><span class="by">0xdeadbeefbabe</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41870528">parent</a><span>|</span><a href="#41872673">prev</a><span>|</span><a href="#41871308">next</a><span>|</span><label class="collapse" for="c-41871087">[-]</label><label class="expand" for="c-41871087">[1 more]</label></div><br/><div class="children"><div class="content">He started with a bent mind though.</div><br/></div></div></div></div></div></div></div></div><div id="41871308" class="c"><input type="checkbox" id="c-41871308" checked=""/><div class="controls bullet"><span class="by">BoingBoomTschak</span><span>|</span><a href="#41870173">parent</a><span>|</span><a href="#41870202">prev</a><span>|</span><a href="#41870556">next</a><span>|</span><label class="collapse" for="c-41871308">[-]</label><label class="expand" for="c-41871308">[7 more]</label></div><br/><div class="children"><div class="content">Why loop when you can <a href="https:&#x2F;&#x2F;iterate.common-lisp.dev&#x2F;" rel="nofollow">https:&#x2F;&#x2F;iterate.common-lisp.dev&#x2F;</a> instead? No s-expr-less alien syntax, no need for `do` to switch to back to Lisp syntax, normal `if`&#x2F;`when` without the ugly `else`&#x2F;`end` and generally useful features added.</div><br/><div id="41873430" class="c"><input type="checkbox" id="c-41873430" checked=""/><div class="controls bullet"><span class="by">shawn_w</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41871308">parent</a><span>|</span><a href="#41871713">next</a><span>|</span><label class="collapse" for="c-41873430">[-]</label><label class="expand" for="c-41873430">[4 more]</label></div><br/><div class="children"><div class="content">If I used Common Lisp more I&#x27;d probably have a go at copying Racket&#x27;s `for` forms[1]; they&#x27;re really nice because you can usally tell at a glance what they&#x27;re going to return - `for&#x2F;list` returns a list for example. No having to scan the body for a `collect`.<p>But in the meantime since discovering iterate I&#x27;ve barely used `loop`. It just feels so much more lispy and I find myself running to the documentation less often.<p>[1]: <a href="https:&#x2F;&#x2F;docs.racket-lang.org&#x2F;reference&#x2F;for.html" rel="nofollow">https:&#x2F;&#x2F;docs.racket-lang.org&#x2F;reference&#x2F;for.html</a></div><br/><div id="41873638" class="c"><input type="checkbox" id="c-41873638" checked=""/><div class="controls bullet"><span class="by">BoingBoomTschak</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41873430">parent</a><span>|</span><a href="#41871713">next</a><span>|</span><label class="collapse" for="c-41873638">[-]</label><label class="expand" for="c-41873638">[3 more]</label></div><br/><div class="children"><div class="content">Interesting concept, but it visually has the same problem as loop IMO, using keywords to implement a new syntax instead of seamlessly blending with Lisp (at the cost of needing code walking, though).<p>And it seems to lack all the iterations drivers (incl. builtin destructuring) that make half of loop&#x2F;iterate&#x27;s usefulness and &quot;reads like English&quot; comfy factor; especially liking<p><pre><code>  (for (i j) on list [by #&#x27;cddr])
  (for i initially init-expr then then-expr)
  (for prev previous i [initially init-expr])
  (for i in-{file,stream} [using #&#x27;reader])
</code></pre>
The two lasts are iterate goodies and I often use the last with these custom readers: <a href="https:&#x2F;&#x2F;git.sr.ht&#x2F;~q3cpma&#x2F;cl-utils&#x2F;tree&#x2F;master&#x2F;item&#x2F;src&#x2F;readers.lisp" rel="nofollow">https:&#x2F;&#x2F;git.sr.ht&#x2F;~q3cpma&#x2F;cl-utils&#x2F;tree&#x2F;master&#x2F;item&#x2F;src&#x2F;read...</a></div><br/><div id="41874197" class="c"><input type="checkbox" id="c-41874197" checked=""/><div class="controls bullet"><span class="by">shawn_w</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41873638">parent</a><span>|</span><a href="#41871713">next</a><span>|</span><label class="collapse" for="c-41874197">[-]</label><label class="expand" for="c-41874197">[2 more]</label></div><br/><div class="children"><div class="content">Racket splits up the iteration forms from <i>what</i> to iterate over (sequences[1]). You can compose different sequence constructors together, or make brand new ones, without introducing new syntax.<p>It has limited destructuring - sequences can return multiple values, all of which can be bound. There&#x27;s an adapter to convert one that does that into returning a single list, but not the other way around. If there was it could be used with `in-slice` to be equivalent to your first example.<p>I could probably write a new sequence to get the `previous` behavior; don&#x27;t think `initially ... then` is possible.<p>Lots of sequences for reading from open ports (the Racket&#x2F;Scheme name for CL streams)... `(for ([i (in-port)]) ...)` for example (with an optional reader argument defaulting to `read`).<p>[1]: <a href="https:&#x2F;&#x2F;docs.racket-lang.org&#x2F;reference&#x2F;sequences.html" rel="nofollow">https:&#x2F;&#x2F;docs.racket-lang.org&#x2F;reference&#x2F;sequences.html</a></div><br/><div id="41877309" class="c"><input type="checkbox" id="c-41877309" checked=""/><div class="controls bullet"><span class="by">BoingBoomTschak</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41874197">parent</a><span>|</span><a href="#41871713">next</a><span>|</span><label class="collapse" for="c-41877309">[-]</label><label class="expand" for="c-41877309">[1 more]</label></div><br/><div class="children"><div class="content">Ah, I see, though I&#x27;d say it pollutes the function namespace a bit this way (as &quot;in-x&quot; semantically only makes sense in a loop) and missing on-list. Technically, you could do most of these in a few lines of CL too, but well, convenience is the point of these macros.<p>Those seem to return sequences instead of streams&#x2F;iterators, any idea why? Though it says &quot;An in-list application can provide better performance for list iteration when it appears directly in a for clause&quot;, so I guess there&#x27;s some macro magic at play.<p>Anyway, thanks for exposing those, Racket does seem to be pretty practical (and with its Chez backend, I guess it&#x27;s pretty fast); can&#x27;t stand the square brackets used as syntax (as opposed to vector literals used as data), though ¯\_(ツ)_&#x2F;¯.</div><br/></div></div></div></div></div></div></div></div><div id="41871713" class="c"><input type="checkbox" id="c-41871713" checked=""/><div class="controls bullet"><span class="by">Jtsummers</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41871308">parent</a><span>|</span><a href="#41873430">prev</a><span>|</span><a href="#41870556">next</a><span>|</span><label class="collapse" for="c-41871713">[-]</label><label class="expand" for="c-41871713">[2 more]</label></div><br/><div class="children"><div class="content">Have they fixed the problem in Iterate yet where it breaks any uses of the built-in <i>count</i> function?</div><br/><div id="41872696" class="c"><input type="checkbox" id="c-41872696" checked=""/><div class="controls bullet"><span class="by">BoingBoomTschak</span><span>|</span><a href="#41870173">root</a><span>|</span><a href="#41871713">parent</a><span>|</span><a href="#41870556">next</a><span>|</span><label class="collapse" for="c-41872696">[-]</label><label class="expand" for="c-41872696">[1 more]</label></div><br/><div class="children"><div class="content">Sadly no. Biggest bug in there, &quot;fortunately&quot;. Easy to patch, though.</div><br/></div></div></div></div></div></div></div></div><div id="41870556" class="c"><input type="checkbox" id="c-41870556" checked=""/><div class="controls bullet"><span class="by">zelphirkalt</span><span>|</span><a href="#41870173">prev</a><span>|</span><a href="#41872425">next</a><span>|</span><label class="collapse" for="c-41870556">[-]</label><label class="expand" for="c-41870556">[1 more]</label></div><br/><div class="children"><div class="content">I like the SICP references.</div><br/></div></div><div id="41872425" class="c"><input type="checkbox" id="c-41872425" checked=""/><div class="controls bullet"><span class="by">edem</span><span>|</span><a href="#41870556">prev</a><span>|</span><a href="#41870552">next</a><span>|</span><label class="collapse" for="c-41872425">[-]</label><label class="expand" for="c-41872425">[1 more]</label></div><br/><div class="children"><div class="content">This reminds me of &quot;Caves of Clojure&quot;: <a href="https:&#x2F;&#x2F;stevelosh.com&#x2F;blog&#x2F;2012&#x2F;07&#x2F;caves-of-clojure-01&#x2F;" rel="nofollow">https:&#x2F;&#x2F;stevelosh.com&#x2F;blog&#x2F;2012&#x2F;07&#x2F;caves-of-clojure-01&#x2F;</a></div><br/></div></div></div></div></div></div></div></body></html>