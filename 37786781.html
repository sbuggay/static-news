<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1696582867262" as="style"/><link rel="stylesheet" href="styles.css?v=1696582867262"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://blog.sigstore.dev/openpubkey-and-sigstore/">OpenPubKey and Sigstore</a> <span class="domain">(<a href="https://blog.sigstore.dev">blog.sigstore.dev</a>)</span></div><div class="subtext"><span>dlor</span> | <span>7 comments</span></div><br/><div><div id="37787077" class="c"><input type="checkbox" id="c-37787077" checked=""/><div class="controls bullet"><span class="by">woodruffw</span><span>|</span><a href="#37787038">next</a><span>|</span><label class="collapse" for="c-37787077">[-]</label><label class="expand" for="c-37787077">[3 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t read too much about it yet, but some standing points of confusion I have with OpenPubKey:<p>1. OpenPubKey states that it uses the OIDC `nonce` claim as its public key stuffing mechanism, but I&#x27;m not aware of many (any?) popular OIDC IdPs that allow the user to control the nonce in such a way (for misuse resistance reasons). The closest thing that I&#x27;m aware of is some IdPs&#x27; ability to configure a custom `aud` claim, but this typically comes with substantial restrictions (such as a preset allowlist of audiences, or significant length limits).<p>2. OpenPubKey appears to wave away the problem of key rotation on OIDC IdPs, which is actually a pretty serious one: Google or Microsoft could decide tomorrow to arbitrarily change their rotation periods, which would impact the reliability of any system that relies on OPK signatures. Sigstore essentially dodges this problem by introducing a trusted CA and transparency log; I think OPK could similarly dodge it by introducing a key transparency scheme for keys observed from public IdPs. But doing so would involve running trusted infrastructure, in turn diminishing the value proposition vs. Sigstore.<p>(I also agree with the privacy concerns: JWTs <i>really</i> aren&#x27;t meant to be used in this way, and treating them as a disclosable token has potential privacy and security implications that need to be evaluated. Sigstore has similar privacy problems because of how it embeds OIDC claims, but it doesn&#x27;t leak the JWTs themselves.)</div><br/><div id="37788222" class="c"><input type="checkbox" id="c-37788222" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37787077">parent</a><span>|</span><a href="#37787446">next</a><span>|</span><label class="collapse" for="c-37788222">[-]</label><label class="expand" for="c-37788222">[1 more]</label></div><br/><div class="children"><div class="content">&gt; OpenPubKey states that it uses the OIDC `nonce` claim as its public key stuffing mechanism, but I&#x27;m not aware of many (any?) popular OIDC IdPs that allow the user to control the nonce in such a way<p>Doesn&#x27;t the nonce the client provides have to be passed through unmodified[0] for the authorization server to be compliant?<p>&gt; If present in the Authentication Request, Authorization Servers MUST include a nonce Claim in the ID Token with the Claim Value being the nonce value sent in the Authentication Request.<p>[0]: <a href="https:&#x2F;&#x2F;openid.net&#x2F;specs&#x2F;openid-connect-core-1_0.html#IDToken" rel="nofollow noreferrer">https:&#x2F;&#x2F;openid.net&#x2F;specs&#x2F;openid-connect-core-1_0.html#IDToke...</a></div><br/></div></div><div id="37787446" class="c"><input type="checkbox" id="c-37787446" checked=""/><div class="controls bullet"><span class="by">captn3m0</span><span>|</span><a href="#37787077">parent</a><span>|</span><a href="#37788222">prev</a><span>|</span><a href="#37787038">next</a><span>|</span><label class="collapse" for="c-37787446">[-]</label><label class="expand" for="c-37787446">[1 more]</label></div><br/><div class="children"><div class="content">It doesn’t have to be a trusted infrastructure, just a trusted package (Google-OIDC-keys) that can be updated or keys published to an existing Key Server and cross signed by OpenPubKey.</div><br/></div></div></div></div><div id="37787038" class="c"><input type="checkbox" id="c-37787038" checked=""/><div class="controls bullet"><span class="by">ta8645</span><span>|</span><a href="#37787077">prev</a><span>|</span><label class="collapse" for="c-37787038">[-]</label><label class="expand" for="c-37787038">[3 more]</label></div><br/><div class="children"><div class="content">As far as I can tell, you&#x27;re relying on Google, or Microsoft, etc to verify your identity.  Lose your relationship with them, and you lose control of everything.  You have to remain in their good graces, or lose your identity for a diverse set of transactions where those big players would otherwise have no sway.<p>Would much rather have a truly decentralized identity where you can change providers without losing continuity of your identity.  Where your identity provider has to keep you happy, or you transparently move your identity to a new provider.</div><br/><div id="37787998" class="c"><input type="checkbox" id="c-37787998" checked=""/><div class="controls bullet"><span class="by">adevopsguy</span><span>|</span><a href="#37787038">parent</a><span>|</span><a href="#37788192">next</a><span>|</span><label class="collapse" for="c-37787998">[-]</label><label class="expand" for="c-37787998">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Would much rather have a truly decentralized identity where you can change providers without losing continuity of your identity. Where your identity provider has to keep you happy, or you transparently move your identity to a new provider.<p>This sounds like my dreams. Is there anything that exist now that does this?<p>For Azure, could you use a 1:1 mapping of Managed Identities and use Federated Credentials? (OIDC).</div><br/></div></div><div id="37788192" class="c"><input type="checkbox" id="c-37788192" checked=""/><div class="controls bullet"><span class="by">apitman</span><span>|</span><a href="#37787038">parent</a><span>|</span><a href="#37787998">prev</a><span>|</span><label class="collapse" for="c-37788192">[-]</label><label class="expand" for="c-37788192">[1 more]</label></div><br/><div class="children"><div class="content">We need a few popular OIDC providers that will allow you to bring your own email address. That way you can use a custom domain if desired, and achieve the portability you&#x27;re talking about.</div><br/></div></div></div></div></div></div></div></div></div></body></html>