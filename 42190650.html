<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1732093259552" as="style"/><link rel="stylesheet" href="styles.css?v=1732093259552"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://emschwartz.me/understanding-the-bm25-full-text-search-algorithm/">Understanding the BM25 full text search algorithm</a> <span class="domain">(<a href="https://emschwartz.me">emschwartz.me</a>)</span></div><div class="subtext"><span>rrampage</span> | <span>5 comments</span></div><br/><div><div id="42191844" class="c"><input type="checkbox" id="c-42191844" checked=""/><div class="controls bullet"><span class="by">sidcool</span><span>|</span><a href="#42191546">next</a><span>|</span><label class="collapse" for="c-42191844">[-]</label><label class="expand" for="c-42191844">[1 more]</label></div><br/><div class="children"><div class="content">Good article.  I am genuinely interested to learn about how to think of problems in such a mathematical form.  And how to test it.  Any resources?</div><br/></div></div><div id="42191546" class="c"><input type="checkbox" id="c-42191546" checked=""/><div class="controls bullet"><span class="by">jll29</span><span>|</span><a href="#42191844">prev</a><span>|</span><a href="#42191251">next</a><span>|</span><label class="collapse" for="c-42191546">[-]</label><label class="expand" for="c-42191546">[2 more]</label></div><br/><div class="children"><div class="content">Nice write-up.<p>A few more details&#x2F;background that are harder to find: &quot;BM25&quot; stands for
&quot;Best Matching 25&quot;, &quot;best matching&quot; becaue it is a formula for ranking and term weighting (the matching refers to the term in the query versus the document), and the number 25 simply indicates a running number (there were 24 earlier formula variants and some later ones, but #25 turned out to work best, so it was the one that was published).<p>It was conceived by Stephen Robertson and Karen Spärck Jones (the latter of IDF fame) and first implemented in the former&#x27;s OKAPI information retrieval (research) system.  The OKAPI system was benchmarked at the annual US NIST TREC (Text Retrieval Conference) for a number of years, the international &quot;World Champtionship&quot; of search engine methods (although the event is not about winning, but about compariing notes and learning from each other, a highly recommended annual event held every November in Gaithersburg, Maryland, attended by global academic and industry teams that conduct research on improving search - see trec.nist.gov).<p>Besides the &quot;bag of words&quot; Vector Space Model (sparse vectors of terms), the Probabilistic Modles (that BM25 belongs to), there are suprising and still growing number of other theoretical frameworks how to rank a set of documents, given a query (&quot;Divergence from Randomness&quot;, &quot;Statistical Language Modeling, &quot;Learning to Rank&quot;, &quot;Quantum Information Retrieval&quot;, &quot;Neural Ranking&quot; etc.). Conferences like ICTIR and SIGIR still publish occasionaly entirely new paradigms for search. Note that the &quot;Statistical Language Modeling&quot; paradigm is not about Large Language Models that are on vogue now (that&#x27;s covered under the &quot;Neural Retrieval&quot; umbrella), and that &quot;Quantum IR&quot; is not going to get you to a tutorial about Quantum Information Retrieval but to methods of infrared spectroscopy or a company with the same name that produces cement; such are the intricacies of search technology, even in the 21st century.<p>If you want to play with BM25 and compare it with some of the alternatives,
I recommend the research platform Terrier, and open-source search engine
developed at the University of Glasgow (today, perhaps the epicenter of search research).<p>BM25 is over a quarter century old, but has proven to be a hard baseline to beat (it is still often used as a reference point for comparing new nethods against), and a more recent variant, BM24F, can deal with multiple fields and hypertext (e.g. title, body of documents, hyperlinks).<p>The recommended paper to read is: Spärck Jones, K.; Walker, S.; Robertson, S. E. (2000). &quot;A probabilistic model of information retrieval: Development and comparative experiments: Part 1&quot;. Information Processing &amp; Management 36(6): 779–808, and its successor, Part 2. (Sadly they are not open access.)</div><br/><div id="42191965" class="c"><input type="checkbox" id="c-42191965" checked=""/><div class="controls bullet"><span class="by">marcyb5st</span><span>|</span><a href="#42191546">parent</a><span>|</span><a href="#42191251">next</a><span>|</span><label class="collapse" for="c-42191965">[-]</label><label class="expand" for="c-42191965">[1 more]</label></div><br/><div class="children"><div class="content">Thanks for sharing!<p>Do you have more information about BM24F? Googling (also Google scholar) didn&#x27;t yield anything related. Thanks in advance!</div><br/></div></div></div></div><div id="42191251" class="c"><input type="checkbox" id="c-42191251" checked=""/><div class="controls bullet"><span class="by">jankovicsandras</span><span>|</span><a href="#42191546">prev</a><span>|</span><label class="collapse" for="c-42191251">[-]</label><label class="expand" for="c-42191251">[1 more]</label></div><br/><div class="children"><div class="content">Shameless plug:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;jankovicsandras&#x2F;plpgsql_bm25">https:&#x2F;&#x2F;github.com&#x2F;jankovicsandras&#x2F;plpgsql_bm25</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;jankovicsandras&#x2F;bm25opt">https:&#x2F;&#x2F;github.com&#x2F;jankovicsandras&#x2F;bm25opt</a></div><br/></div></div></div></div></div></div></div></body></html>