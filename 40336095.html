<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1715590866519" as="style"/><link rel="stylesheet" href="styles.css?v=1715590866519"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://mzucker.github.io/2016/08/15/page-dewarping.html">Page Dewarping (2016)</a> <span class="domain">(<a href="https://mzucker.github.io">mzucker.github.io</a>)</span></div><div class="subtext"><span>Tomte</span> | <span>23 comments</span></div><br/><div><div id="40338208" class="c"><input type="checkbox" id="c-40338208" checked=""/><div class="controls bullet"><span class="by">LegionMammal978</span><span>|</span><a href="#40340863">next</a><span>|</span><label class="collapse" for="c-40338208">[-]</label><label class="expand" for="c-40338208">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;d be wary of applying such a harsh threshold to the output as the author has done here. While it captures the page well enough for typical text, I have encountered many pages from Google Books where the threshold has mutilated illustrations or small footnotes to the point of making them unreadable. And if the Google Books scan is the only one available, you&#x27;re completely out of luck.</div><br/><div id="40340056" class="c"><input type="checkbox" id="c-40340056" checked=""/><div class="controls bullet"><span class="by">cperciva</span><span>|</span><a href="#40338208">parent</a><span>|</span><a href="#40340863">next</a><span>|</span><label class="collapse" for="c-40340056">[-]</label><label class="expand" for="c-40340056">[1 more]</label></div><br/><div class="children"><div class="content">Isn&#x27;t the thresholding just for identifying landmarks to be used for choosing dewarping parameters?  Presumably once found those parameters could be applied to the original image.</div><br/></div></div></div></div><div id="40340863" class="c"><input type="checkbox" id="c-40340863" checked=""/><div class="controls bullet"><span class="by">kookamamie</span><span>|</span><a href="#40338208">prev</a><span>|</span><a href="#40339086">next</a><span>|</span><label class="collapse" for="c-40340863">[-]</label><label class="expand" for="c-40340863">[1 more]</label></div><br/><div class="children"><div class="content">Looks adequate. Seems, though, that the warp model is a little too global, in the sense that some of the more involved distortions of the paper are not captured by the model and this can be seen in the final result as a residual distortion.</div><br/></div></div><div id="40339086" class="c"><input type="checkbox" id="c-40339086" checked=""/><div class="controls bullet"><span class="by">esafak</span><span>|</span><a href="#40340863">prev</a><span>|</span><a href="#40341026">next</a><span>|</span><label class="collapse" for="c-40339086">[-]</label><label class="expand" for="c-40339086">[2 more]</label></div><br/><div class="children"><div class="content">1. If you don&#x27;t need to visualize the book and merely need to perform OCR, I bet you could skip this step.<p>2. Google solved this problem over ten years earlier. <a href="https:&#x2F;&#x2F;hardware.slashdot.org&#x2F;story&#x2F;09&#x2F;05&#x2F;15&#x2F;1834246&#x2F;how-googles-high-speed-book-scanner-de-warps-pages" rel="nofollow">https:&#x2F;&#x2F;hardware.slashdot.org&#x2F;story&#x2F;09&#x2F;05&#x2F;15&#x2F;1834246&#x2F;how-goo...</a><p>3. If your manuscript is really valuable, you can dewarp it without contact using x-ray tomography. <a href="https:&#x2F;&#x2F;scrollprize.org&#x2F;tutorial1" rel="nofollow">https:&#x2F;&#x2F;scrollprize.org&#x2F;tutorial1</a></div><br/><div id="40340132" class="c"><input type="checkbox" id="c-40340132" checked=""/><div class="controls bullet"><span class="by">fock</span><span>|</span><a href="#40339086">parent</a><span>|</span><a href="#40341026">next</a><span>|</span><label class="collapse" for="c-40340132">[-]</label><label class="expand" for="c-40340132">[1 more]</label></div><br/><div class="children"><div class="content">1) so try and recommend a software.<p>2) yeah they used hardware.<p>3) ChatGPT strong here?<p>4) this is nice and simple from 2016</div><br/></div></div></div></div><div id="40341026" class="c"><input type="checkbox" id="c-40341026" checked=""/><div class="controls bullet"><span class="by">RaoulP</span><span>|</span><a href="#40339086">prev</a><span>|</span><a href="#40338942">next</a><span>|</span><label class="collapse" for="c-40341026">[-]</label><label class="expand" for="c-40341026">[1 more]</label></div><br/><div class="children"><div class="content">Cool writeup!<p>Next, please do de-wrinkling of receipts...</div><br/></div></div><div id="40338942" class="c"><input type="checkbox" id="c-40338942" checked=""/><div class="controls bullet"><span class="by">MontagFTB</span><span>|</span><a href="#40341026">prev</a><span>|</span><a href="#40336803">next</a><span>|</span><label class="collapse" for="c-40338942">[-]</label><label class="expand" for="c-40338942">[1 more]</label></div><br/><div class="children"><div class="content">After John Warnock stepped down as Adobe CEO, he ramped up his involvement at Octavo, a company dedicated to preserving rare historical books. A challenge they faced was de-curling scanned pages that could not be flattened.<p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Rare_Book_Room" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Rare_Book_Room</a></div><br/></div></div><div id="40336803" class="c"><input type="checkbox" id="c-40336803" checked=""/><div class="controls bullet"><span class="by">m000</span><span>|</span><a href="#40338942">prev</a><span>|</span><a href="#40337755">next</a><span>|</span><label class="collapse" for="c-40336803">[-]</label><label class="expand" for="c-40336803">[9 more]</label></div><br/><div class="children"><div class="content">It&#x27;s 2024. Why my freaking document scanner app still doesn&#x27;t have this built-in?</div><br/><div id="40337743" class="c"><input type="checkbox" id="c-40337743" checked=""/><div class="controls bullet"><span class="by">solardev</span><span>|</span><a href="#40336803">parent</a><span>|</span><a href="#40337397">next</a><span>|</span><label class="collapse" for="c-40337743">[-]</label><label class="expand" for="c-40337743">[2 more]</label></div><br/><div class="children"><div class="content">We use GeniusScan at school and it does that: <a href="https:&#x2F;&#x2F;blog.thegrizzlylabs.com&#x2F;2024&#x2F;03&#x2F;genius-scan-7.16.html#:~:text=We%27re%20also%20excited%20to,toggling%20the%20curvature%20correction%20option" rel="nofollow">https:&#x2F;&#x2F;blog.thegrizzlylabs.com&#x2F;2024&#x2F;03&#x2F;genius-scan-7.16.htm...</a>.</div><br/><div id="40340146" class="c"><input type="checkbox" id="c-40340146" checked=""/><div class="controls bullet"><span class="by">loa_in_</span><span>|</span><a href="#40336803">root</a><span>|</span><a href="#40337743">parent</a><span>|</span><a href="#40337397">next</a><span>|</span><label class="collapse" for="c-40340146">[-]</label><label class="expand" for="c-40340146">[1 more]</label></div><br/><div class="children"><div class="content">It only does linear projection matrix correction and it needs user to mark page corners on screen</div><br/></div></div></div></div><div id="40337397" class="c"><input type="checkbox" id="c-40337397" checked=""/><div class="controls bullet"><span class="by">Animats</span><span>|</span><a href="#40336803">parent</a><span>|</span><a href="#40337743">prev</a><span>|</span><a href="#40340796">next</a><span>|</span><label class="collapse" for="c-40337397">[-]</label><label class="expand" for="c-40337397">[3 more]</label></div><br/><div class="children"><div class="content">This is very nice. Having a low-dimension page warping model to optimize seems to be what makes this work.<p>This is a good YC-sized problem - weeks to market, a few hundred thousand dollars to launch. Apple has a phone app for this which requires too much manual adjustment, and Microsoft has Office Lens &#x2F; Microsoft Lens, which has comments such as &quot;The edges just eventually go crazy and look horrendous&quot;. So there&#x27;s a market for one that Just Works. Exit by selling to the usual suspects.</div><br/><div id="40338168" class="c"><input type="checkbox" id="c-40338168" checked=""/><div class="controls bullet"><span class="by">coderatlarge</span><span>|</span><a href="#40336803">root</a><span>|</span><a href="#40337397">parent</a><span>|</span><a href="#40338257">next</a><span>|</span><label class="collapse" for="c-40338168">[-]</label><label class="expand" for="c-40338168">[1 more]</label></div><br/><div class="children"><div class="content">I’ve scanned probably thousands of pages with ms lens over the years and it works quite reliably in my experience, at least on iPhone.</div><br/></div></div><div id="40338257" class="c"><input type="checkbox" id="c-40338257" checked=""/><div class="controls bullet"><span class="by">CamperBob2</span><span>|</span><a href="#40336803">root</a><span>|</span><a href="#40337397">parent</a><span>|</span><a href="#40338168">prev</a><span>|</span><a href="#40340796">next</a><span>|</span><label class="collapse" for="c-40338257">[-]</label><label class="expand" for="c-40338257">[1 more]</label></div><br/><div class="children"><div class="content">SwiftScan does pretty well in my experience.</div><br/></div></div></div></div><div id="40340796" class="c"><input type="checkbox" id="c-40340796" checked=""/><div class="controls bullet"><span class="by">sn0wleppard</span><span>|</span><a href="#40336803">parent</a><span>|</span><a href="#40337397">prev</a><span>|</span><a href="#40338203">next</a><span>|</span><label class="collapse" for="c-40340796">[-]</label><label class="expand" for="c-40340796">[1 more]</label></div><br/><div class="children"><div class="content">I swear Google Drive used to do this properly but has gotten considerably worse over the past few years</div><br/></div></div><div id="40337898" class="c"><input type="checkbox" id="c-40337898" checked=""/><div class="controls bullet"><span class="by">undershirt</span><span>|</span><a href="#40336803">parent</a><span>|</span><a href="#40338203">prev</a><span>|</span><a href="#40337755">next</a><span>|</span><label class="collapse" for="c-40337898">[-]</label><label class="expand" for="c-40337898">[1 more]</label></div><br/><div class="children"><div class="content">vflat is good for this</div><br/></div></div></div></div><div id="40337755" class="c"><input type="checkbox" id="c-40337755" checked=""/><div class="controls bullet"><span class="by">int0x29</span><span>|</span><a href="#40336803">prev</a><span>|</span><a href="#40338729">next</a><span>|</span><label class="collapse" for="c-40337755">[-]</label><label class="expand" for="c-40337755">[2 more]</label></div><br/><div class="children"><div class="content">I ran into a different issue while trying to make an app to scan color coded notes in college. The colors skewed from the top to the bottom of the page making it hard to reliably tell blue pens from green ones. At some point I should look at it again.</div><br/><div id="40340300" class="c"><input type="checkbox" id="c-40340300" checked=""/><div class="controls bullet"><span class="by">Doxin</span><span>|</span><a href="#40337755">parent</a><span>|</span><a href="#40338729">next</a><span>|</span><label class="collapse" for="c-40340300">[-]</label><label class="expand" for="c-40340300">[1 more]</label></div><br/><div class="children"><div class="content">Assuming the white background skews in the same way a good trick is to make a copy of the image, blur it VERY widely, and divide the original image by the blurred version. This essentially removes any low frequency color&#x2F;brightness shifts. I&#x27;ll often use it to get rid of shadows etc on photographed paper, but it should work for a color gradient all the same.</div><br/></div></div></div></div><div id="40338729" class="c"><input type="checkbox" id="c-40338729" checked=""/><div class="controls bullet"><span class="by">robertclaus</span><span>|</span><a href="#40337755">prev</a><span>|</span><a href="#40340187">next</a><span>|</span><label class="collapse" for="c-40338729">[-]</label><label class="expand" for="c-40338729">[1 more]</label></div><br/><div class="children"><div class="content">This writeup was great. I might reference this at work as an example of how technical projects (and decisions) can be effectively documented.</div><br/></div></div><div id="40340187" class="c"><input type="checkbox" id="c-40340187" checked=""/><div class="controls bullet"><span class="by">noisy_boy</span><span>|</span><a href="#40338729">prev</a><span>|</span><a href="#40339683">next</a><span>|</span><label class="collapse" for="c-40340187">[-]</label><label class="expand" for="c-40340187">[1 more]</label></div><br/><div class="children"><div class="content">Error in installation:<p><pre><code>    ERROR: Could not find a version that satisfies the requirement cv2&gt;=3.0 (from versions: none)
    ERROR: No matching distribution found for cv2&gt;=3.0
</code></pre>
Raised github issue.</div><br/></div></div><div id="40339683" class="c"><input type="checkbox" id="c-40339683" checked=""/><div class="controls bullet"><span class="by">Slapping5552</span><span>|</span><a href="#40340187">prev</a><span>|</span><label class="collapse" for="c-40339683">[-]</label><label class="expand" for="c-40339683">[2 more]</label></div><br/><div class="children"><div class="content">Very cool stuff. I wish there was a good document scanning (dewarping, thresholding, pdf generation) app available on mobile.<p>Currently stuck with Adobe scan as gives the best result for me, which is still quite bad at dewarping</div><br/><div id="40340644" class="c"><input type="checkbox" id="c-40340644" checked=""/><div class="controls bullet"><span class="by">alt227</span><span>|</span><a href="#40339683">parent</a><span>|</span><label class="collapse" for="c-40340644">[-]</label><label class="expand" for="c-40340644">[1 more]</label></div><br/><div class="children"><div class="content">I have heard good things about Microsoft Lens, although when I try to open it on my phone it just freezes.</div><br/></div></div></div></div></div></div></div></div></div></body></html>