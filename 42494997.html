<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1735030877304" as="style"/><link rel="stylesheet" href="styles.css?v=1735030877304"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://keypub.sh/">Show HN: Keypub.sh – OAuth for the terminal using SSH keys</a> <span class="domain">(<a href="https://keypub.sh">keypub.sh</a>)</span></div><div class="subtext"><span>messh</span> | <span>56 comments</span></div><br/><div><div id="42495651" class="c"><input type="checkbox" id="c-42495651" checked=""/><div class="controls bullet"><span class="by">gwynforthewyn</span><span>|</span><a href="#42495948">next</a><span>|</span><label class="collapse" for="c-42495651">[-]</label><label class="expand" for="c-42495651">[16 more]</label></div><br/><div class="children"><div class="content">Sounds like a similar family of problems to [Wish](<a href="https:&#x2F;&#x2F;github.com&#x2F;charmbracelet&#x2F;wish">https:&#x2F;&#x2F;github.com&#x2F;charmbracelet&#x2F;wish</a>) by charm.sh. They&#x27;ve been pushing this curious paradigm of &quot;ssh apps&quot;, where ssh keys are used to automatically create identities for small self-hosted CLI&#x2F;TUI apps.<p>As a useful comment for messh, it looks like you&#x27;ve committed the ssh_server binary file to git; you may want to add that to gitignore, as binary file handling isn&#x27;t a traditional git strength. I _think_ it&#x27;s better than it was a decade ago when I last investigated this, but I can see that Pro Git still recommends explicitly setting gitattributes to mark a file as binary <a href="https:&#x2F;&#x2F;git-scm.com&#x2F;book&#x2F;en&#x2F;v2&#x2F;Customizing-Git-Git-Attributes#Binary-Files" rel="nofollow">https:&#x2F;&#x2F;git-scm.com&#x2F;book&#x2F;en&#x2F;v2&#x2F;Customizing-Git-Git-Attribute...</a></div><br/><div id="42499943" class="c"><input type="checkbox" id="c-42499943" checked=""/><div class="controls bullet"><span class="by">theamk</span><span>|</span><a href="#42495651">parent</a><span>|</span><a href="#42496952">next</a><span>|</span><label class="collapse" for="c-42499943">[-]</label><label class="expand" for="c-42499943">[3 more]</label></div><br/><div class="children"><div class="content">Looking at their demos immediately brought back the memories of parsing TUI&#x27;s using ad-hoc &quot;expect&quot; rules.<p>I honestly don&#x27;t get the point of TUIs...<p>A real command-line interface is extremely useful - it&#x27;s trivially scriptable, works direct or with ssh, scroll-back buffer logs what happened, commands stay in my shell history, I can copy-paste commands to a friend over chat system, or into shell script, and it&#x27;s easy for app authors too. Its my first choice for my apps.<p>If low-color fixed-width character grid is not cutting it, then native app or web app is a great second step, or even intermediate solutions, like generating HTML files from CLI tool and opening them in default browser. You have to invest some effort, but you have infinite ways to design your interface, and it&#x27;s still in user&#x27;s familiar environment.<p>But those charm.sh TUI applications seem utterly useless and highly annoying. They give up all of the terminal advantages: my shell&#x27;s history is useless, my favorite ways to edit commands does not apply (as they have their own editor), I cannot scroll back and see what the program just printed, I cannot script it, I cannot log it, I cannot search it, I cannot redo the previous action, the color scheme is not the one I&#x27;ve picked... At least with web apps I can parse html and&#x2F;or hit underlying API directly - no such luck with TUI apps.<p>At least the good news is that TUI apps are not getting any traction, and I can completely understand why.</div><br/><div id="42500517" class="c"><input type="checkbox" id="c-42500517" checked=""/><div class="controls bullet"><span class="by">PhilippGille</span><span>|</span><a href="#42495651">root</a><span>|</span><a href="#42499943">parent</a><span>|</span><a href="#42500534">next</a><span>|</span><label class="collapse" for="c-42500517">[-]</label><label class="expand" for="c-42500517">[1 more]</label></div><br/><div class="children"><div class="content">&gt; At least the good news is that TUI apps are not getting any traction, and I can completely understand why.<p>lazygit (54k stars on GitHub) and k9s got a lot of traction and are very popular:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;jesseduffield&#x2F;lazygit">https:&#x2F;&#x2F;github.com&#x2F;jesseduffield&#x2F;lazygit</a><p><a href="https:&#x2F;&#x2F;github.com&#x2F;derailed&#x2F;k9s">https:&#x2F;&#x2F;github.com&#x2F;derailed&#x2F;k9s</a></div><br/></div></div><div id="42500534" class="c"><input type="checkbox" id="c-42500534" checked=""/><div class="controls bullet"><span class="by">darkwater</span><span>|</span><a href="#42495651">root</a><span>|</span><a href="#42499943">parent</a><span>|</span><a href="#42500517">prev</a><span>|</span><a href="#42496952">next</a><span>|</span><label class="collapse" for="c-42500534">[-]</label><label class="expand" for="c-42500534">[1 more]</label></div><br/><div class="children"><div class="content">I totally agree with you, I prefer good autocomplete to a TUI for all these reasons (and more). Well, I actually prefer any CLI to a TUI. The most TUI thing I use in my toolkit is `top` (yes, the &quot;classic&quot; one)</div><br/></div></div></div></div><div id="42496952" class="c"><input type="checkbox" id="c-42496952" checked=""/><div class="controls bullet"><span class="by">ilyagr</span><span>|</span><a href="#42495651">parent</a><span>|</span><a href="#42499943">prev</a><span>|</span><a href="#42495765">next</a><span>|</span><label class="collapse" for="c-42496952">[-]</label><label class="expand" for="c-42496952">[1 more]</label></div><br/><div class="children"><div class="content">Another interesting set of ssh apps is <a href="https:&#x2F;&#x2F;pico.sh&#x2F;" rel="nofollow">https:&#x2F;&#x2F;pico.sh&#x2F;</a> . These focus on networking and lightweight hosting (pastes, simple blog), all via ssh or rsync.</div><br/></div></div><div id="42495765" class="c"><input type="checkbox" id="c-42495765" checked=""/><div class="controls bullet"><span class="by">akshayKMR</span><span>|</span><a href="#42495651">parent</a><span>|</span><a href="#42496952">prev</a><span>|</span><a href="#42495767">next</a><span>|</span><label class="collapse" for="c-42495765">[-]</label><label class="expand" for="c-42495765">[10 more]</label></div><br/><div class="children"><div class="content">Regarding ssh-apps, this seems super duper niche to me even for developers. Like, I get that many devs are terminal savvy, and it&#x27;s cool that it&#x27;s possible to serve apps like this but is it practical (to pick for your new product &#x2F;internal app)?</div><br/><div id="42496113" class="c"><input type="checkbox" id="c-42496113" checked=""/><div class="controls bullet"><span class="by">qudat</span><span>|</span><a href="#42495651">root</a><span>|</span><a href="#42495765">parent</a><span>|</span><a href="#42496544">next</a><span>|</span><label class="collapse" for="c-42496113">[-]</label><label class="expand" for="c-42496113">[1 more]</label></div><br/><div class="children"><div class="content">We are pretty successful over at <a href="https:&#x2F;&#x2F;pico.sh" rel="nofollow">https:&#x2F;&#x2F;pico.sh</a> using the same techniques — and using wish</div><br/></div></div><div id="42496544" class="c"><input type="checkbox" id="c-42496544" checked=""/><div class="controls bullet"><span class="by">bradgessler</span><span>|</span><a href="#42495651">root</a><span>|</span><a href="#42495765">parent</a><span>|</span><a href="#42496113">prev</a><span>|</span><a href="#42496137">next</a><span>|</span><label class="collapse" for="c-42496544">[-]</label><label class="expand" for="c-42496544">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;m working on a different approach that doesn&#x27;t use ssh at <a href="https:&#x2F;&#x2F;terminalwire.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;terminalwire.com&#x2F;</a>.<p>It&#x27;s meant for inherently server-based CLI&#x27;s like Github, Stripe, Fly, Heroku, or any other SaaS and can be plugged directly into web frameworks. My thinking is that more companies would ship command-line interfaces if they didn&#x27;t have to maintain APIs for them, deal with distributing binaries (and all the compatibility issues that come with that), or deal with all the configuration involved in hooking up SSH to their app servers.<p>It&#x27;s in beta at the moment, and I&#x27;m currently focused on Rails apps to get the ergonomics dialed-in. My goal is to make it possible for people in <i>any web framework</i> to build and ship a CLI to customers in under an hour and never have to touch an API or worry about binary distribution for as long as their CLI exists.</div><br/><div id="42497605" class="c"><input type="checkbox" id="c-42497605" checked=""/><div class="controls bullet"><span class="by">qudat</span><span>|</span><a href="#42495651">root</a><span>|</span><a href="#42496544">parent</a><span>|</span><a href="#42496137">next</a><span>|</span><label class="collapse" for="c-42497605">[-]</label><label class="expand" for="c-42497605">[2 more]</label></div><br/><div class="children"><div class="content">At my org the biggest issue with out CLI is not the initial distribution, but supporting and maintaining multiple platforms, code signing the binaries, and making sure customers actually update the binaries.</div><br/><div id="42497752" class="c"><input type="checkbox" id="c-42497752" checked=""/><div class="controls bullet"><span class="by">bradgessler</span><span>|</span><a href="#42495651">root</a><span>|</span><a href="#42497605">parent</a><span>|</span><a href="#42496137">next</a><span>|</span><label class="collapse" for="c-42497752">[-]</label><label class="expand" for="c-42497752">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, I put all of that under the umbrella of “distribution”—the last mile is a huge pain in the SaaS that SaaS CLIs shouldn’t have to deal with or even think about.<p>Terminalwire will handle the builds for all the different platforms, signing, etc. so companies can instead focus on shipping their unique features to customers.<p>I’m also going to ship clients that automatically update to match the version of the client that’s compatible with the server in a way that the client won’t even notice.</div><br/></div></div></div></div></div></div><div id="42496137" class="c"><input type="checkbox" id="c-42496137" checked=""/><div class="controls bullet"><span class="by">latchkey</span><span>|</span><a href="#42495651">root</a><span>|</span><a href="#42495765">parent</a><span>|</span><a href="#42496544">prev</a><span>|</span><a href="#42496300">next</a><span>|</span><label class="collapse" for="c-42496137">[-]</label><label class="expand" for="c-42496137">[1 more]</label></div><br/><div class="children"><div class="content">As a bare metal cloud service provider, we built a little TUI app over ssh so that people could upload their public keys to us without having to use a web interface. It has worked out really well because it makes it possible to &quot;upload&quot; the public key without having to do anything but login.<p>We automatically configure ssh on the servers to auth against our own internal api for serving up the keys. This way, customers can add to authorized_keys and also use our TUI for management as well.</div><br/></div></div><div id="42496300" class="c"><input type="checkbox" id="c-42496300" checked=""/><div class="controls bullet"><span class="by">hamandcheese</span><span>|</span><a href="#42495651">root</a><span>|</span><a href="#42495765">parent</a><span>|</span><a href="#42496137">prev</a><span>|</span><a href="#42495767">next</a><span>|</span><label class="collapse" for="c-42496300">[-]</label><label class="expand" for="c-42496300">[4 more]</label></div><br/><div class="children"><div class="content">As a developer, I agree. Give me a great CLI, please, not a server rendered TUI.<p>This gives me another thought though, a &quot;server-rendered&quot; CLI. A tiny shim binary that just sends argv to the server, and the server sends back stdout&#x2F;stderr. Haven&#x27;t seen anyone try that.</div><br/><div id="42496396" class="c"><input type="checkbox" id="c-42496396" checked=""/><div class="controls bullet"><span class="by">gwynforthewyn</span><span>|</span><a href="#42495651">root</a><span>|</span><a href="#42496300">parent</a><span>|</span><a href="#42496483">next</a><span>|</span><label class="collapse" for="c-42496396">[-]</label><label class="expand" for="c-42496396">[1 more]</label></div><br/><div class="children"><div class="content">That sounds very similar to the command form of ssh i.e. &quot;ssh foo.example.com ls&quot; :)</div><br/></div></div><div id="42496483" class="c"><input type="checkbox" id="c-42496483" checked=""/><div class="controls bullet"><span class="by">messh</span><span>|</span><a href="#42495651">root</a><span>|</span><a href="#42496300">parent</a><span>|</span><a href="#42496396">prev</a><span>|</span><a href="#42495767">next</a><span>|</span><label class="collapse" for="c-42496483">[-]</label><label class="expand" for="c-42496483">[2 more]</label></div><br/><div class="children"><div class="content">a &quot;server-rendered&quot; CLI is exactly what `keypub.sh` is, and what many ssh apps are (some are more TUI)</div><br/><div id="42499761" class="c"><input type="checkbox" id="c-42499761" checked=""/><div class="controls bullet"><span class="by">hamandcheese</span><span>|</span><a href="#42495651">root</a><span>|</span><a href="#42496483">parent</a><span>|</span><a href="#42495767">next</a><span>|</span><label class="collapse" for="c-42499761">[-]</label><label class="expand" for="c-42499761">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, in retrospect, I&#x27;m an idiot. I wasn&#x27;t considering `ssh foobar.io dothething` to be equivalent to what I was thinking in my head even though it is exactly equivalent.</div><br/></div></div></div></div></div></div></div></div><div id="42495767" class="c"><input type="checkbox" id="c-42495767" checked=""/><div class="controls bullet"><span class="by">messh</span><span>|</span><a href="#42495651">parent</a><span>|</span><a href="#42495765">prev</a><span>|</span><a href="#42495948">next</a><span>|</span><label class="collapse" for="c-42495767">[-]</label><label class="expand" for="c-42495767">[1 more]</label></div><br/><div class="children"><div class="content">hi, good catch of the binary! (will fix)<p>`Wish` and also `terminal.shop` were both great sources of inspiration. I hope to see many more ssh apps in the future. I&#x27;m already working on the next one</div><br/></div></div></div></div><div id="42495948" class="c"><input type="checkbox" id="c-42495948" checked=""/><div class="controls bullet"><span class="by">aftbit</span><span>|</span><a href="#42495651">prev</a><span>|</span><a href="#42496321">next</a><span>|</span><label class="collapse" for="c-42495948">[-]</label><label class="expand" for="c-42495948">[3 more]</label></div><br/><div class="children"><div class="content">When you say &quot;OAuth&quot;, what exactly do you mean? It looks like this is really just a tool for associating email addresses with SSH keys.<p>This is an interesting concept, but it smells a bit like a solution in search of a problem. Perhaps it will feel more useful to me once there are two or three SSH apps that I want to access. Even then, I would suggest that prospective SSH app developers just lean on github&#x27;s public SSH keys instead, as basically all developers will have a github account and this reduces your (already high, relative to webapp) startup friction.</div><br/><div id="42495983" class="c"><input type="checkbox" id="c-42495983" checked=""/><div class="controls bullet"><span class="by">messh</span><span>|</span><a href="#42495948">parent</a><span>|</span><a href="#42496321">next</a><span>|</span><label class="collapse" for="c-42495983">[-]</label><label class="expand" for="c-42495983">[2 more]</label></div><br/><div class="children"><div class="content">github public ssh keys are not connected to mails. and using the api from the terminal requires installing some tool.<p>I hope there will be lots of apps for the the terminal, for e.g. cde (cloud dev env) managing, task management, project management, compute as a service, etc.</div><br/><div id="42496154" class="c"><input type="checkbox" id="c-42496154" checked=""/><div class="controls bullet"><span class="by">hnlmorg</span><span>|</span><a href="#42495948">root</a><span>|</span><a href="#42495983">parent</a><span>|</span><a href="#42496321">next</a><span>|</span><label class="collapse" for="c-42496154">[-]</label><label class="expand" for="c-42496154">[1 more]</label></div><br/><div class="children"><div class="content">&gt; using the api from the terminal requires installing some tool.<p>It really doesn’t. It’s just a HTTP API. So basically anything that can form a TLS connection will work.<p>But the bigger problem here is that email addresses can be private in GitHub. Also you never know when GitHub might change their API.</div><br/></div></div></div></div></div></div><div id="42496321" class="c"><input type="checkbox" id="c-42496321" checked=""/><div class="controls bullet"><span class="by">wutwutwat</span><span>|</span><a href="#42495948">prev</a><span>|</span><a href="#42495332">next</a><span>|</span><label class="collapse" for="c-42496321">[-]</label><label class="expand" for="c-42496321">[2 more]</label></div><br/><div class="children"><div class="content">```
).WHERE(
  AND(
    table.SSHKeys.Email.EQ(String(to_email)),
    table.SSHKeys.Fingerprint.EQ(String(fingerprint)),
  ),
)
```<p>If not using a `citext` column then you&#x27;re going to want to normalize (ie downcase&#x2F;tolower) everywhere you&#x27;re doing arbitrary string comparisons, or you&#x27;re going to get incorrect counts.<p>Also I don&#x27;t see any null or &quot;&quot; checking taking place before querying...<p>I&#x27;m not going to trust that your service can give me any reasonable confidence about the identity of the ssh key or the email it&#x27;s attached to.<p>That aside, I&#x27;m not understanding what the goal here is. I&#x27;ve never once needed my ssh key tied to my email address, but if I did, it&#x27;s included in the public key already...</div><br/><div id="42496421" class="c"><input type="checkbox" id="c-42496421" checked=""/><div class="controls bullet"><span class="by">messh</span><span>|</span><a href="#42496321">parent</a><span>|</span><a href="#42495332">next</a><span>|</span><label class="collapse" for="c-42496421">[-]</label><label class="expand" for="c-42496421">[1 more]</label></div><br/><div class="children"><div class="content">there is email validation, and the public key is handled between the ssh client and server. If there is no valid public key this code would not even run. The fingerprint is prepared from this valid public key.<p>Regarding having the email in the ssh pub key: maybe it is there, but it is no validated. Anyone could write anything there</div><br/></div></div></div></div><div id="42495332" class="c"><input type="checkbox" id="c-42495332" checked=""/><div class="controls bullet"><span class="by">hirsin</span><span>|</span><a href="#42496321">prev</a><span>|</span><a href="#42496432">next</a><span>|</span><label class="collapse" for="c-42495332">[-]</label><label class="expand" for="c-42495332">[4 more]</label></div><br/><div class="children"><div class="content">Oauth usually implies some variability of access - ie selective permissions. Is this more a pure authn layer as opposed to authz?<p>You have a repo on GitHub... Have you looked at using account public keys for anything? Ie <a href="https:&#x2F;&#x2F;github.com&#x2F;hpsin.keys">https:&#x2F;&#x2F;github.com&#x2F;hpsin.keys</a>
I hear a lot about how those keys should get used to bootstrap pki systems but I&#x27;ve not seen it happen yet.</div><br/><div id="42495692" class="c"><input type="checkbox" id="c-42495692" checked=""/><div class="controls bullet"><span class="by">Cyphus</span><span>|</span><a href="#42495332">parent</a><span>|</span><a href="#42495822">next</a><span>|</span><label class="collapse" for="c-42495692">[-]</label><label class="expand" for="c-42495692">[2 more]</label></div><br/><div class="children"><div class="content">Ubuntu&#x27;s installer supports bootstrapping ssh access with this method. Put in your GitHub username and it takes care of the rest. Works for interactive and headless installs.</div><br/><div id="42497248" class="c"><input type="checkbox" id="c-42497248" checked=""/><div class="controls bullet"><span class="by">eichin</span><span>|</span><a href="#42495332">root</a><span>|</span><a href="#42495692">parent</a><span>|</span><a href="#42495822">next</a><span>|</span><label class="collapse" for="c-42497248">[-]</label><label class="expand" for="c-42497248">[1 more]</label></div><br/><div class="children"><div class="content">The `ssh-import-id` package is the basic mechanism for this.</div><br/></div></div></div></div><div id="42495822" class="c"><input type="checkbox" id="c-42495822" checked=""/><div class="controls bullet"><span class="by">messh</span><span>|</span><a href="#42495332">parent</a><span>|</span><a href="#42495692">prev</a><span>|</span><a href="#42496432">next</a><span>|</span><label class="collapse" for="c-42495822">[-]</label><label class="expand" for="c-42495822">[1 more]</label></div><br/><div class="children"><div class="content">it does have authorization with the `allow` and `deny` commands for granular control of who can can see what. Currently very simple, only for email but maybe other fields in the future</div><br/></div></div></div></div><div id="42496432" class="c"><input type="checkbox" id="c-42496432" checked=""/><div class="controls bullet"><span class="by">jclulow</span><span>|</span><a href="#42495332">prev</a><span>|</span><a href="#42498593">next</a><span>|</span><label class="collapse" for="c-42496432">[-]</label><label class="expand" for="c-42496432">[3 more]</label></div><br/><div class="children"><div class="content">Care should always be taken when using an SSH client to connect to untrusted hosts. Make sure you’re not actually forwarding your SSH agent to the remote host, or they’ll be able to hijack your keys. Consider also that any output is processed by your terminal, and there have been a number of serious security bugs in terminal escape sequence handling in a variety of terminal emulators in the past.</div><br/><div id="42497348" class="c"><input type="checkbox" id="c-42497348" checked=""/><div class="controls bullet"><span class="by">bityard</span><span>|</span><a href="#42496432">parent</a><span>|</span><a href="#42499230">next</a><span>|</span><label class="collapse" for="c-42497348">[-]</label><label class="expand" for="c-42497348">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Hijack your keys&quot; is somewhat overstating it, all they can do with it is log into other hosts that you can log into, assuming key auth is the only factor. And only while you are connected to the original host.<p>Terminal security bugs are not more or less serious than your average Chrome 0day.</div><br/></div></div><div id="42499230" class="c"><input type="checkbox" id="c-42499230" checked=""/><div class="controls bullet"><span class="by">wkat4242</span><span>|</span><a href="#42496432">parent</a><span>|</span><a href="#42497348">prev</a><span>|</span><a href="#42498593">next</a><span>|</span><label class="collapse" for="c-42499230">[-]</label><label class="expand" for="c-42499230">[1 more]</label></div><br/><div class="children"><div class="content">My yubikey always requires a physical touch so even if the agent is forwarded my keys can&#x27;t be used. And I&#x27;ll notice when it tries because I see it flashing.</div><br/></div></div></div></div><div id="42498593" class="c"><input type="checkbox" id="c-42498593" checked=""/><div class="controls bullet"><span class="by">raggi</span><span>|</span><a href="#42496432">prev</a><span>|</span><a href="#42500016">next</a><span>|</span><label class="collapse" for="c-42498593">[-]</label><label class="expand" for="c-42498593">[1 more]</label></div><br/><div class="children"><div class="content">No SSHFP record, TOFU clients. This is not secure.<p>I wish people would stop trying to use SSH for things like this. PKI has features that are missing here and those features matter.<p>This is unsafe.<p>&quot;but raggi, mitm before tofu is a really unrealistic scenario&quot;<p>ok, well, consider that some large percentage of gas stations in the US have hardware installed to skim your credit cards. those same folks are perfectly well motivated to drop a wifi dns mitm in conference buildings (trivial). new tech conference, handful of credit cards as people gossip about exactly these kinds of things in the hallway track. the roi on these installs would be pretty high, because tech folks tend to have a high credit balance. so yeah, &quot;totally unrealistic&quot; (this is more about terminal.shop, but same principle here as soon as someone uses it for actual value).</div><br/></div></div><div id="42500016" class="c"><input type="checkbox" id="c-42500016" checked=""/><div class="controls bullet"><span class="by">SoftTalker</span><span>|</span><a href="#42498593">prev</a><span>|</span><a href="#42497328">next</a><span>|</span><label class="collapse" for="c-42500016">[-]</label><label class="expand" for="c-42500016">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m not sure I understand what this is useful for. I have dozens of ssh keys I use for various services. Do I register all of them?</div><br/></div></div><div id="42497328" class="c"><input type="checkbox" id="c-42497328" checked=""/><div class="controls bullet"><span class="by">bramhaag</span><span>|</span><a href="#42500016">prev</a><span>|</span><a href="#42499223">next</a><span>|</span><label class="collapse" for="c-42497328">[-]</label><label class="expand" for="c-42497328">[4 more]</label></div><br/><div class="children"><div class="content">PGP keys are associated with emails and there are various fully decentralized options to discover these keys (keyservers, WKD, ...). (How) does Keypub improve on this?</div><br/><div id="42497342" class="c"><input type="checkbox" id="c-42497342" checked=""/><div class="controls bullet"><span class="by">messh</span><span>|</span><a href="#42497328">parent</a><span>|</span><a href="#42499223">next</a><span>|</span><label class="collapse" for="c-42497342">[-]</label><label class="expand" for="c-42497342">[3 more]</label></div><br/><div class="children"><div class="content">Best practice:<p>Use SSH keys for SSH connections and authentication<p>Use PGP keys for email encryption and file signing<p>Keep these systems separate as they&#x27;re designed for different purposes</div><br/><div id="42497675" class="c"><input type="checkbox" id="c-42497675" checked=""/><div class="controls bullet"><span class="by">nine_k</span><span>|</span><a href="#42497328">root</a><span>|</span><a href="#42497342">parent</a><span>|</span><a href="#42499241">next</a><span>|</span><label class="collapse" for="c-42497675">[-]</label><label class="expand" for="c-42497675">[1 more]</label></div><br/><div class="children"><div class="content">PGP is hairy and many developers don&#x27;t have it installed and configured. It&#x27;s full of non-obvious options and capabilities.<p>SSH is a common tool which most developers have installed, keep in a working order, use often, and reasonably understand.<p>Guess which tool is easier to <i>piggyback</i> on and achieve easier and faster adoption.</div><br/></div></div><div id="42499241" class="c"><input type="checkbox" id="c-42499241" checked=""/><div class="controls bullet"><span class="by">wkat4242</span><span>|</span><a href="#42497328">root</a><span>|</span><a href="#42497342">parent</a><span>|</span><a href="#42497675">prev</a><span>|</span><a href="#42499223">next</a><span>|</span><label class="collapse" for="c-42499241">[-]</label><label class="expand" for="c-42499241">[1 more]</label></div><br/><div class="children"><div class="content">I like PGP keys for ssh auth because they can be hardware backed through openPGP. That makes it a great option (and also the actual crypto is then executed on the key itself, not by the gpg software)</div><br/></div></div></div></div></div></div><div id="42499223" class="c"><input type="checkbox" id="c-42499223" checked=""/><div class="controls bullet"><span class="by">wkat4242</span><span>|</span><a href="#42497328">prev</a><span>|</span><a href="#42496098">next</a><span>|</span><label class="collapse" for="c-42499223">[-]</label><label class="expand" for="c-42499223">[3 more]</label></div><br/><div class="children"><div class="content">I really wish I could have the opposite. To authenticate with my SSH key (openpgp on yubikey) on the web.<p>I&#x27;m not really happy with the Fido options.</div><br/><div id="42500221" class="c"><input type="checkbox" id="c-42500221" checked=""/><div class="controls bullet"><span class="by">pisipisipisi</span><span>|</span><a href="#42499223">parent</a><span>|</span><a href="#42496098">next</a><span>|</span><label class="collapse" for="c-42500221">[-]</label><label class="expand" for="c-42500221">[2 more]</label></div><br/><div class="children"><div class="content">Why? What is wrong with fido?</div><br/><div id="42500618" class="c"><input type="checkbox" id="c-42500618" checked=""/><div class="controls bullet"><span class="by">wkat4242</span><span>|</span><a href="#42499223">root</a><span>|</span><a href="#42500221">parent</a><span>|</span><a href="#42496098">next</a><span>|</span><label class="collapse" for="c-42500618">[-]</label><label class="expand" for="c-42500618">[1 more]</label></div><br/><div class="children"><div class="content">Several things. I can&#x27;t use it for file encryption as well, and it&#x27;s not possible to make a software key as backup (as far as I know) in case I lose both my yubikeys. With pgp I have a break glass key on an encrypted pen drive.<p>Also, with SSH it requires a recent version which is not on all the boxes I need access to.<p>It requires pin code entry for every authentication unlike openpgp where I enter the pin once and then I just touch it for every subsequent authentication. I like that because I use it not only for login but also for other stuff like root elevation.<p>And I think agent forwarding doesn&#x27;t work with it. It&#x27;s not really something I&#x27;ve looked into though as it&#x27;s just not something I can use yet for the other reasons.<p>For now pgp is just much better for me, though I wish I could use it on the web as well.</div><br/></div></div></div></div></div></div><div id="42496098" class="c"><input type="checkbox" id="c-42496098" checked=""/><div class="controls bullet"><span class="by">sneak</span><span>|</span><a href="#42499223">prev</a><span>|</span><a href="#42495490">next</a><span>|</span><label class="collapse" for="c-42496098">[-]</label><label class="expand" for="c-42496098">[6 more]</label></div><br/><div class="children"><div class="content">OAuth means a specific technical thing, and this is not that thing.</div><br/><div id="42496807" class="c"><input type="checkbox" id="c-42496807" checked=""/><div class="controls bullet"><span class="by">rzzzt</span><span>|</span><a href="#42496098">parent</a><span>|</span><a href="#42499878">next</a><span>|</span><label class="collapse" for="c-42496807">[-]</label><label class="expand" for="c-42496807">[4 more]</label></div><br/><div class="children"><div class="content">&quot;X for Y&quot; should make you draw a metaphorical, not literal comparison to X - it is something like X, applied in the context&#x2F;audience&#x2F;etc. of Y. &quot;Tinder for boats&quot;¹ is not Tinder.<p>¹<a href="https:&#x2F;&#x2F;www.buzzfeed.com&#x2F;michellerial&#x2F;is-your-startup-idea-already-taken" rel="nofollow">https:&#x2F;&#x2F;www.buzzfeed.com&#x2F;michellerial&#x2F;is-your-startup-idea-a...</a></div><br/><div id="42497140" class="c"><input type="checkbox" id="c-42497140" checked=""/><div class="controls bullet"><span class="by">orblivion</span><span>|</span><a href="#42496098">root</a><span>|</span><a href="#42496807">parent</a><span>|</span><a href="#42499878">next</a><span>|</span><label class="collapse" for="c-42497140">[-]</label><label class="expand" for="c-42497140">[3 more]</label></div><br/><div class="children"><div class="content">Based on current downvotes it seems that people object to this. And I did take this literally myself before going to the comments. Still, I think the metaphorical thing has value as a succinct explainer. Maybe a small change in wording or some quotation marks is the way to go?</div><br/><div id="42497369" class="c"><input type="checkbox" id="c-42497369" checked=""/><div class="controls bullet"><span class="by">rzzzt</span><span>|</span><a href="#42496098">root</a><span>|</span><a href="#42497140">parent</a><span>|</span><a href="#42497289">next</a><span>|</span><label class="collapse" for="c-42497369">[-]</label><label class="expand" for="c-42497369">[1 more]</label></div><br/><div class="children"><div class="content">I have no horse in this race, was just commenting from a generic point of view. The project&#x27;s README.md says &quot;Lightweight alternative to OAuth for CLI applications&quot; in section &quot;Use Cases&quot;, and there is no further mention of OAuth in it, maybe that&#x27;s more acceptable.</div><br/></div></div><div id="42497289" class="c"><input type="checkbox" id="c-42497289" checked=""/><div class="controls bullet"><span class="by">eichin</span><span>|</span><a href="#42496098">root</a><span>|</span><a href="#42497140">parent</a><span>|</span><a href="#42497369">prev</a><span>|</span><a href="#42499878">next</a><span>|</span><label class="collapse" for="c-42497289">[-]</label><label class="expand" for="c-42497289">[1 more]</label></div><br/><div class="children"><div class="content">Part of the issue is that &quot;bootstrapping real oauth with ssh&quot; is something people actually want, so there&#x27;s some (unearned) disappointment in finding out that this isn&#x27;t it.</div><br/></div></div></div></div></div></div><div id="42499878" class="c"><input type="checkbox" id="c-42499878" checked=""/><div class="controls bullet"><span class="by">benatkin</span><span>|</span><a href="#42496098">parent</a><span>|</span><a href="#42496807">prev</a><span>|</span><a href="#42495490">next</a><span>|</span><label class="collapse" for="c-42499878">[-]</label><label class="expand" for="c-42499878">[1 more]</label></div><br/><div class="children"><div class="content">Indeed. It also doesn&#x27;t have anything like PKCE.</div><br/></div></div></div></div><div id="42495490" class="c"><input type="checkbox" id="c-42495490" checked=""/><div class="controls bullet"><span class="by">lufte</span><span>|</span><a href="#42496098">prev</a><span>|</span><a href="#42496121">next</a><span>|</span><label class="collapse" for="c-42495490">[-]</label><label class="expand" for="c-42495490">[3 more]</label></div><br/><div class="children"><div class="content">&quot;about&quot; didn&#x27;t work for me but &quot;help&quot; did.</div><br/><div id="42495959" class="c"><input type="checkbox" id="c-42495959" checked=""/><div class="controls bullet"><span class="by">aftbit</span><span>|</span><a href="#42495490">parent</a><span>|</span><a href="#42496121">next</a><span>|</span><label class="collapse" for="c-42495959">[-]</label><label class="expand" for="c-42495959">[2 more]</label></div><br/><div class="children"><div class="content">&quot;why&quot; doesn&#x27;t work either.</div><br/><div id="42496247" class="c"><input type="checkbox" id="c-42496247" checked=""/><div class="controls bullet"><span class="by">messh</span><span>|</span><a href="#42495490">root</a><span>|</span><a href="#42495959">parent</a><span>|</span><a href="#42496121">next</a><span>|</span><label class="collapse" for="c-42496247">[-]</label><label class="expand" for="c-42496247">[1 more]</label></div><br/><div class="children"><div class="content">will add them both. Initially I looked at &quot;about&quot; and &quot;why&quot; as suitable only for the landing page</div><br/></div></div></div></div></div></div><div id="42496121" class="c"><input type="checkbox" id="c-42496121" checked=""/><div class="controls bullet"><span class="by">qudat</span><span>|</span><a href="#42495490">prev</a><span>|</span><a href="#42496514">next</a><span>|</span><label class="collapse" for="c-42496121">[-]</label><label class="expand" for="c-42496121">[1 more]</label></div><br/><div class="children"><div class="content">Nice job! Have you thought about implementing 2fa? I know platform.sh supports 2fa via ssh.</div><br/></div></div><div id="42496514" class="c"><input type="checkbox" id="c-42496514" checked=""/><div class="controls bullet"><span class="by">xyst</span><span>|</span><a href="#42496121">prev</a><span>|</span><a href="#42495500">next</a><span>|</span><label class="collapse" for="c-42496514">[-]</label><label class="expand" for="c-42496514">[1 more]</label></div><br/><div class="children"><div class="content">I agree with other commenters that the “oauth” keyword in title is misleading. I assumed this was compliant with oauth spec.<p>It’s an interesting service, but I doubt I would use this for anything serious beyond toy apps.<p>There was an article in October mentioning CF acquiring a company that dabbled in this space though. [1]<p>It’s more for managing authN&#x2F;Z for internal infra (k8s, servers,) but via existing IdP (with MFA). Underlying tech is “openpubkey”. [2]. I can see this adapted towards authN for CLI apps.<p>Wanted to test this on my homelab infra but life has gotten in the way.<p>[1]  <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41923429">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=41923429</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;openpubkey&#x2F;openpubkey">https:&#x2F;&#x2F;github.com&#x2F;openpubkey&#x2F;openpubkey</a></div><br/></div></div><div id="42495500" class="c"><input type="checkbox" id="c-42495500" checked=""/><div class="controls bullet"><span class="by">johntdyer</span><span>|</span><a href="#42496514">prev</a><span>|</span><a href="#42496387">next</a><span>|</span><label class="collapse" for="c-42495500">[-]</label><label class="expand" for="c-42495500">[2 more]</label></div><br/><div class="children"><div class="content">Looks interesting but your tls cert isn’t valid on your site</div><br/><div id="42496512" class="c"><input type="checkbox" id="c-42496512" checked=""/><div class="controls bullet"><span class="by">jwilk</span><span>|</span><a href="#42495500">parent</a><span>|</span><a href="#42496387">next</a><span>|</span><label class="collapse" for="c-42496512">[-]</label><label class="expand" for="c-42496512">[1 more]</label></div><br/><div class="children"><div class="content">What do you mean?<p><a href="https:&#x2F;&#x2F;www.ssllabs.com&#x2F;ssltest&#x2F;analyze.html?d=keypub.sh" rel="nofollow">https:&#x2F;&#x2F;www.ssllabs.com&#x2F;ssltest&#x2F;analyze.html?d=keypub.sh</a> says the cert is OK.</div><br/></div></div></div></div><div id="42496387" class="c"><input type="checkbox" id="c-42496387" checked=""/><div class="controls bullet"><span class="by">h43z</span><span>|</span><a href="#42495500">prev</a><span>|</span><a href="#42497213">next</a><span>|</span><label class="collapse" for="c-42496387">[-]</label><label class="expand" for="c-42496387">[3 more]</label></div><br/><div class="children"><div class="content">Just a reminder for everyone that by default SSH leaks all of the below public keys (if they exist) + all public keys in your ssh-agent to every server you connect to.<p><pre><code>    ~&#x2F;.ssh&#x2F;id_ecdsa.pub
    ~&#x2F;.ssh&#x2F;id_ecdsa_sk.pub
    ~&#x2F;.ssh&#x2F;id_ed25519.pub
    ~&#x2F;.ssh&#x2F;id_ed25519_sk.pub
    ~&#x2F;.ssh&#x2F;id_xmss.pub
    ~&#x2F;.ssh&#x2F;id_dsa.pub
</code></pre>
Your &quot;leaked&quot; public keys can be used to check if a certain server recognizes that key.</div><br/><div id="42496797" class="c"><input type="checkbox" id="c-42496797" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#42496387">parent</a><span>|</span><a href="#42497213">next</a><span>|</span><label class="collapse" for="c-42496797">[-]</label><label class="expand" for="c-42496797">[2 more]</label></div><br/><div class="children"><div class="content">Loading an alternate client, like Dropbear or PuTTY for Linux is one way to avoid this.</div><br/><div id="42497312" class="c"><input type="checkbox" id="c-42497312" checked=""/><div class="controls bullet"><span class="by">logicziller</span><span>|</span><a href="#42496387">root</a><span>|</span><a href="#42496797">parent</a><span>|</span><a href="#42497213">next</a><span>|</span><label class="collapse" for="c-42497312">[-]</label><label class="expand" for="c-42497312">[1 more]</label></div><br/><div class="children"><div class="content">Or just set `IdentityFile` with the path to the key and set `IdentitiesOnly` to yes for the specific host you connect to, and disable public key authentication by default for everything else.</div><br/></div></div></div></div></div></div><div id="42497213" class="c"><input type="checkbox" id="c-42497213" checked=""/><div class="controls bullet"><span class="by">tonymet</span><span>|</span><a href="#42496387">prev</a><span>|</span><a href="#42497149">next</a><span>|</span><label class="collapse" for="c-42497213">[-]</label><label class="expand" for="c-42497213">[1 more]</label></div><br/><div class="children"><div class="content">I love that you are approaching this space. SSH keys are an under-valued identity credential. Most big companies i&#x27;ve worked at have a clumsy sync &amp; storage system that I think you could sell to.<p>I&#x27;d encourage the next version using a more distributed approach (instead of a centralized credential DB &amp; email token).  A gpg signature or CA (using openssl) are alternative trust models that would provide trust without the DB</div><br/></div></div><div id="42497149" class="c"><input type="checkbox" id="c-42497149" checked=""/><div class="controls bullet"><span class="by">tonymet</span><span>|</span><a href="#42497213">prev</a><span>|</span><label class="collapse" for="c-42497149">[-]</label><label class="expand" for="c-42497149">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Lightweight alternative to OAuth for CLI applications - just use SSH keys that users already have<p>I&#x27;d love to see more support for this application.  I&#x27;ve contributed a number of oauth-based CLI apps and the user onboarding step (3-legged init) is atrocious.</div><br/></div></div></div></div></div></div></div></body></html>