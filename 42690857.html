<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1737018071587" as="style"/><link rel="stylesheet" href="styles.css?v=1737018071587"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a>Ask HN: Dense Tree Layout Algorithms</a> </div><div class="subtext"><span>bwestergard</span> | <span>7 comments</span></div><br/><div><div id="42716862" class="c"><input type="checkbox" id="c-42716862" checked=""/><div class="controls bullet"><span class="by">brudgers</span><span>|</span><a href="#42722576">next</a><span>|</span><label class="collapse" for="c-42716862">[-]</label><label class="expand" for="c-42716862">[5 more]</label></div><br/><div class="children"><div class="content">Algorithms can make many types of decisions, but an algorithm cannot make aesthetic decisions. The size of nodes and the size of the boundary are aesthetic decisions as is the ordering of the nodes and so on.<p>Or to put it another way, you do it by hand when you care and with a computer when you are meeting a specification.</div><br/><div id="42723045" class="c"><input type="checkbox" id="c-42723045" checked=""/><div class="controls bullet"><span class="by">emmanueloga_</span><span>|</span><a href="#42716862">parent</a><span>|</span><a href="#42722555">next</a><span>|</span><label class="collapse" for="c-42723045">[-]</label><label class="expand" for="c-42723045">[1 more]</label></div><br/><div class="children"><div class="content">For this particular example, I feel like a combination of both human input + algo could work.  Something like:<p>* Have graphviz or some other solver output the [x;y] pairs for each vertex.<p>* Use the initial positions to create, with a physics engine, a construct where vertices are masses connected by springs following the DAG.<p>* Add a resizable bounding box constraint around the whole thing.<p>* Push and pull the boundaries and masses until you get something nice.<p>What you say still applies: you may want to give the user the ability to resize the masses and re-run the layout algorithm, etc.</div><br/></div></div><div id="42722555" class="c"><input type="checkbox" id="c-42722555" checked=""/><div class="controls bullet"><span class="by">maxbond</span><span>|</span><a href="#42716862">parent</a><span>|</span><a href="#42723045">prev</a><span>|</span><a href="#42722576">next</a><span>|</span><label class="collapse" for="c-42722555">[-]</label><label class="expand" for="c-42722555">[3 more]</label></div><br/><div class="children"><div class="content">The choice and design of algorithm can itself be an aesthetic decision. Eg, OP generated some graphs, and spotted something that wasn&#x27;t to their taste; the edges frequently overlap. So, we might approach the problem like this:<p>1. Choose an arbitrary algorithm to lay out trees where the edges don&#x27;t overlap. There&#x27;s many ways to do this, it doesn&#x27;t need to be legible at this step.<p>2. Insert additional nodes along each edge. How many nodes is a tuning parameter we&#x27;ll need to play with.<p>3. Use a traditional force-based graph layout algorithm, one that assigns charge to the nodes so that they repel each other. Because we&#x27;ve given the edges some nodes, they will have charge and won&#x27;t bunch up together.<p>4. (Optional?) Detect edge overlaps. If they exist, randomize the initial state and try again.<p>(Note that the algorithm I&#x27;ve described is O(n^2). Patience will be necessary. You can probably refine it further, I only thought about it for a few minutes. Optimizations applied to physics engines (collision detection, gravity simulation) will apply.)<p>I&#x27;ve dabbled in generative art like this, and if you&#x27;re willing to do the math and programming and iterate on the design, you can definitely get something of the aesthetic you are after. Bonus, the skills are transferrable to some other kinds of programming, like property testing and graphics.</div><br/><div id="42722727" class="c"><input type="checkbox" id="c-42722727" checked=""/><div class="controls bullet"><span class="by">JohnKemeny</span><span>|</span><a href="#42716862">root</a><span>|</span><a href="#42722555">parent</a><span>|</span><a href="#42722861">next</a><span>|</span><label class="collapse" for="c-42722727">[-]</label><label class="expand" for="c-42722727">[1 more]</label></div><br/><div class="children"><div class="content">You won&#x27;t get edge overlaps if you start with a non-crossing drawing. In addition, n² is not very much when you have &lt;100 nodes, as in this case.<p>Force directed layout algorithms can also be made faster using quad-trees and approximate repulsion.</div><br/></div></div><div id="42722861" class="c"><input type="checkbox" id="c-42722861" checked=""/><div class="controls bullet"><span class="by">MattPalmer1086</span><span>|</span><a href="#42716862">root</a><span>|</span><a href="#42722555">parent</a><span>|</span><a href="#42722727">prev</a><span>|</span><a href="#42722576">next</a><span>|</span><label class="collapse" for="c-42722861">[-]</label><label class="expand" for="c-42722861">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s very similar to an algorithm I played with many years ago.<p>I also used simulated annealing, where a temperature controls the amount of random movement each node gets on an iteration, and the temperature is gradually reduced.  It was a DAG though, not a tree.</div><br/></div></div></div></div></div></div><div id="42722576" class="c"><input type="checkbox" id="c-42722576" checked=""/><div class="controls bullet"><span class="by">JohnKemeny</span><span>|</span><a href="#42716862">prev</a><span>|</span><label class="collapse" for="c-42722576">[-]</label><label class="expand" for="c-42722576">[1 more]</label></div><br/><div class="children"><div class="content">The domain is simply called Graph Drawing. There are no simple algorithm that guarantees some aesthetic outcome, but still, a lot is known in this domain.<p>To learn more, check out the Graph Drawing conference, or more specifically, their annual contests. Here are a few of the past contests:<p>* &#x27;24 <a href="https:&#x2F;&#x2F;mozart.diei.unipg.it&#x2F;gdcontest&#x2F;2024&#x2F;results&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mozart.diei.unipg.it&#x2F;gdcontest&#x2F;2024&#x2F;results&#x2F;</a><p>* &#x27;23 <a href="https:&#x2F;&#x2F;mozart.diei.unipg.it&#x2F;gdcontest&#x2F;2023&#x2F;results&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mozart.diei.unipg.it&#x2F;gdcontest&#x2F;2023&#x2F;results&#x2F;</a><p>* &#x27;22 <a href="https:&#x2F;&#x2F;mozart.diei.unipg.it&#x2F;gdcontest&#x2F;contest2022&#x2F;results.html" rel="nofollow">https:&#x2F;&#x2F;mozart.diei.unipg.it&#x2F;gdcontest&#x2F;contest2022&#x2F;results.h...</a><p>* &#x27;21 <a href="https:&#x2F;&#x2F;mozart.diei.unipg.it&#x2F;gdcontest&#x2F;contest2021&#x2F;index.php?id=results" rel="nofollow">https:&#x2F;&#x2F;mozart.diei.unipg.it&#x2F;gdcontest&#x2F;contest2021&#x2F;index.php...</a><p>* &#x27;20 <a href="https:&#x2F;&#x2F;mozart.diei.unipg.it&#x2F;gdcontest&#x2F;contest2020&#x2F;results.html" rel="nofollow">https:&#x2F;&#x2F;mozart.diei.unipg.it&#x2F;gdcontest&#x2F;contest2020&#x2F;results.h...</a><p>... and many more via the past contests history page: <a href="https:&#x2F;&#x2F;mozart.diei.unipg.it&#x2F;gdcontest&#x2F;history&#x2F;" rel="nofollow">https:&#x2F;&#x2F;mozart.diei.unipg.it&#x2F;gdcontest&#x2F;history&#x2F;</a></div><br/></div></div></div></div></div></div></div></body></html>