<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1704445253794" as="style"/><link rel="stylesheet" href="styles.css?v=1704445253794"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://joisig.com/2023-holiday-side-project-turtles">Turtles, a Shelly/Zigbee home automation tool in Elixir</a> <span class="domain">(<a href="https://joisig.com">joisig.com</a>)</span></div><div class="subtext"><span>joisig</span> | <span>9 comments</span></div><br/><div><div id="38877061" class="c"><input type="checkbox" id="c-38877061" checked=""/><div class="controls bullet"><span class="by">ttyyzz</span><span>|</span><a href="#38876475">next</a><span>|</span><label class="collapse" for="c-38877061">[-]</label><label class="expand" for="c-38877061">[1 more]</label></div><br/><div class="children"><div class="content">I have a couple of Shelly relay switches for various purposes in a separate IoT vlan which is not connected to the cloud. The new Shelly android app not only is worse and barely functional but also pushes you to use the cloud. On top of that, they try to sell some functionality as a subscription Model. On the other hand you don&#x27;t need the cloud and their http API is super well documented and does everything you would expect. I really prefer Tools like this for products like Shelly, good job!</div><br/></div></div><div id="38876475" class="c"><input type="checkbox" id="c-38876475" checked=""/><div class="controls bullet"><span class="by">smt88</span><span>|</span><a href="#38877061">prev</a><span>|</span><a href="#38876581">next</a><span>|</span><label class="collapse" for="c-38876475">[-]</label><label class="expand" for="c-38876475">[3 more]</label></div><br/><div class="children"><div class="content">&gt; * Rationally, I might have been better off going with Home Assistant, which has ready-made integrations with Shelly, Zigbee dimmers, and probably thousands of other device types, but I wanted complete control and hackability, and I preferred to spend time building my own system rather than learning and customizing Home Assistant and maybe never getting it to work like I want it to.*<p>This thought was correct. Home Assistant is absolutely incredible, easy to use, polished, and flexible. You can get it to do all of this easily.<p>I got it installed and configured within ~3 hours.</div><br/><div id="38876627" class="c"><input type="checkbox" id="c-38876627" checked=""/><div class="controls bullet"><span class="by">pmontra</span><span>|</span><a href="#38876475">parent</a><span>|</span><a href="#38876581">next</a><span>|</span><label class="collapse" for="c-38876627">[-]</label><label class="expand" for="c-38876627">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve got some Shelly Plugs. I decided to operate them with a self made web app running on my home server. That app makes HTTP calls to the API of the plug. It&#x27;s very simple, just a curl from bash would work. One call to turn on the plug, one to turn it off and one to read the power meter. I put buttons on the web page and it does what I need.<p>There are no dependecies from other services and especially no dependency from Amazon or Google (the plugs work with them too.) Given the size of the web app maybe it also spared me some time because I suspect that installing, configuring Home Assistant and learning how to use it and what works and what doesn&#x27;t are not zero time activities.</div><br/><div id="38876786" class="c"><input type="checkbox" id="c-38876786" checked=""/><div class="controls bullet"><span class="by">Towaway69</span><span>|</span><a href="#38876475">root</a><span>|</span><a href="#38876627">parent</a><span>|</span><a href="#38876581">next</a><span>|</span><label class="collapse" for="c-38876786">[-]</label><label class="expand" for="c-38876786">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t myself but I know that many use Node-RED[0] for home assistant applications. It comes with thousands of plugins, easy to construct web frontends and it&#x27;s completely open source.<p>I believe one can also combine it with Home Assistant, I think there are interfaces.<p>Learning curve is initial exponential (think of visual Unix pipes) but once understood, there are limitless things that you can do with Node-RED. It&#x27;s basically a visual programming frontend to NodeJS.<p>[0] <a href="https:&#x2F;&#x2F;nodered.org" rel="nofollow">https:&#x2F;&#x2F;nodered.org</a></div><br/></div></div></div></div></div></div><div id="38876581" class="c"><input type="checkbox" id="c-38876581" checked=""/><div class="controls bullet"><span class="by">mwlp</span><span>|</span><a href="#38876475">prev</a><span>|</span><a href="#38876420">next</a><span>|</span><label class="collapse" for="c-38876581">[-]</label><label class="expand" for="c-38876581">[1 more]</label></div><br/><div class="children"><div class="content">Nice! I also control my lights using Elixir and a Hue bridge (through Home Assistant). <a href="https:&#x2F;&#x2F;github.com&#x2F;Manwholikespie&#x2F;mojodojo">https:&#x2F;&#x2F;github.com&#x2F;Manwholikespie&#x2F;mojodojo</a></div><br/></div></div><div id="38876420" class="c"><input type="checkbox" id="c-38876420" checked=""/><div class="controls bullet"><span class="by">BluSyn</span><span>|</span><a href="#38876581">prev</a><span>|</span><label class="collapse" for="c-38876420">[-]</label><label class="expand" for="c-38876420">[3 more]</label></div><br/><div class="children"><div class="content">What light switches did you use, if any?<p>I also want to use Shelly dimmers, but I haven’t found simple stateless light switches. I want automation and app control in many cases, but also want simple tactile button for on&#x2F;off or hold for brightness control. Amazingly hard to find.</div><br/><div id="38876453" class="c"><input type="checkbox" id="c-38876453" checked=""/><div class="controls bullet"><span class="by">PreInternet01</span><span>|</span><a href="#38876420">parent</a><span>|</span><a href="#38876577">next</a><span>|</span><label class="collapse" for="c-38876453">[-]</label><label class="expand" for="c-38876453">[1 more]</label></div><br/><div class="children"><div class="content">Not OP, but the Shelly 1 works very well as a simple switch, and it supports both physical and remote operations. Not sure what you mean by &quot;stateless&quot;, though (I mean, the thing is either <i>on</i> or <i>off</i>?), so that might prevent you from using it, but otherwise it&#x27;s highly recommended!</div><br/></div></div><div id="38876577" class="c"><input type="checkbox" id="c-38876577" checked=""/><div class="controls bullet"><span class="by">wlesieutre</span><span>|</span><a href="#38876420">parent</a><span>|</span><a href="#38876453">prev</a><span>|</span><label class="collapse" for="c-38876577">[-]</label><label class="expand" for="c-38876577">[1 more]</label></div><br/><div class="children"><div class="content">Not cheap but Leviton 5657-2W might be the one you want</div><br/></div></div></div></div></div></div></div></div></div></body></html>