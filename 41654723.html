<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1727341275470" as="style"/><link rel="stylesheet" href="styles.css?v=1727341275470"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://docs.rs/cronexpr/latest/cronexpr/">Show HN: Cronexpr, a Rust library to parse and iter crontab expression</a>Â <span class="domain">(<a href="https://docs.rs">docs.rs</a>)</span></div><div class="subtext"><span>tison</span> | <span>10 comments</span></div><br/><div><div id="41655020" class="c"><input type="checkbox" id="c-41655020" checked=""/><div class="controls bullet"><span class="by">cuu508</span><span>|</span><a href="#41655596">next</a><span>|</span><label class="collapse" for="c-41655020">[-]</label><label class="expand" for="c-41655020">[2 more]</label></div><br/><div class="children"><div class="content">Looks well done. I like how the docs describe every syntax feature, and every non-standard feature in detail. Hat tip to implementing Vixie&#x27;s &quot;*,10&quot; quirk, and to handling DST.</div><br/><div id="41655758" class="c"><input type="checkbox" id="c-41655758" checked=""/><div class="controls bullet"><span class="by">tison</span><span>|</span><a href="#41655020">parent</a><span>|</span><a href="#41655596">next</a><span>|</span><label class="collapse" for="c-41655758">[-]</label><label class="expand" for="c-41655758">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re welcome! As described in the &quot;Why do you create this crate?&quot; section, I actually started this domain only a few weeks ago. So I experienced how those tribal rules can be confusing and hard to search over the Internet the understand their semantic.<p>And when I sorted out the parse structure [1] and finished the extensions [2][3], I believe I should write it down for others (and future me) :D<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;tisonkun&#x2F;cronexpr&#x2F;pull&#x2F;4">https:&#x2F;&#x2F;github.com&#x2F;tisonkun&#x2F;cronexpr&#x2F;pull&#x2F;4</a><p>[2] <a href="https:&#x2F;&#x2F;github.com&#x2F;tisonkun&#x2F;cronexpr&#x2F;pull&#x2F;5">https:&#x2F;&#x2F;github.com&#x2F;tisonkun&#x2F;cronexpr&#x2F;pull&#x2F;5</a><p>[3] <a href="https:&#x2F;&#x2F;github.com&#x2F;tisonkun&#x2F;cronexpr&#x2F;pull&#x2F;6">https:&#x2F;&#x2F;github.com&#x2F;tisonkun&#x2F;cronexpr&#x2F;pull&#x2F;6</a></div><br/></div></div></div></div><div id="41655596" class="c"><input type="checkbox" id="c-41655596" checked=""/><div class="controls bullet"><span class="by">Black616Angel</span><span>|</span><a href="#41655020">prev</a><span>|</span><a href="#41655965">next</a><span>|</span><label class="collapse" for="c-41655596">[-]</label><label class="expand" for="c-41655596">[6 more]</label></div><br/><div class="children"><div class="content">Main drawback is the need for timestamps. Most crontab files or expressions I&#x27;ve seen didn&#x27;t have them.</div><br/><div id="41655866" class="c"><input type="checkbox" id="c-41655866" checked=""/><div class="controls bullet"><span class="by">tison</span><span>|</span><a href="#41655596">parent</a><span>|</span><a href="#41655776">next</a><span>|</span><label class="collapse" for="c-41655866">[-]</label><label class="expand" for="c-41655866">[2 more]</label></div><br/><div class="children"><div class="content">If you mean timezone, I wrote an FAQ [1]: &quot;Why does the crate require the timezone to be specified in the crontab expression?&quot;<p>[1] <a href="https:&#x2F;&#x2F;docs.rs&#x2F;cronexpr&#x2F;latest&#x2F;cronexpr&#x2F;#why-does-the-crate-require-the-timezone-to-be-specified-in-the-crontab-expression" rel="nofollow">https:&#x2F;&#x2F;docs.rs&#x2F;cronexpr&#x2F;latest&#x2F;cronexpr&#x2F;#why-does-the-crate...</a></div><br/><div id="41655948" class="c"><input type="checkbox" id="c-41655948" checked=""/><div class="controls bullet"><span class="by">aaomidi</span><span>|</span><a href="#41655596">root</a><span>|</span><a href="#41655866">parent</a><span>|</span><a href="#41655776">next</a><span>|</span><label class="collapse" for="c-41655948">[-]</label><label class="expand" for="c-41655948">[1 more]</label></div><br/><div class="children"><div class="content">So many of these restrictions feels arbitrary. Not supporting comments? Why?<p>Assuming UTC for tz is not weird and cron users expect it,<p>I guess why even support this specific syntax if the crons need to be edited to fit how this code expects them? There may have been better options if you were going full green field.<p>Good work though!</div><br/></div></div></div></div><div id="41655776" class="c"><input type="checkbox" id="c-41655776" checked=""/><div class="controls bullet"><span class="by">tison</span><span>|</span><a href="#41655596">parent</a><span>|</span><a href="#41655866">prev</a><span>|</span><a href="#41655821">next</a><span>|</span><label class="collapse" for="c-41655776">[-]</label><label class="expand" for="c-41655776">[1 more]</label></div><br/><div class="children"><div class="content">Could you elaborate a bit on the issue? I&#x27;m not sure you are commenting on cronexpr or other libraries.<p>In cronexpr, there is no requirement for a timestamp until you&#x27;d like to find the next scheduled time, and thus you need to provide a related point.<p>To decouple with certain datetime lib, I made a `MakeTimestamp` struct which provides multiple constructors. Later, I found it somehow like a function overload :D</div><br/></div></div><div id="41655821" class="c"><input type="checkbox" id="c-41655821" checked=""/><div class="controls bullet"><span class="by">tricked</span><span>|</span><a href="#41655596">parent</a><span>|</span><a href="#41655776">prev</a><span>|</span><a href="#41655759">next</a><span>|</span><label class="collapse" for="c-41655821">[-]</label><label class="expand" for="c-41655821">[1 more]</label></div><br/><div class="children"><div class="content">Do you mean timezones? if so it shouldn&#x27;t be that hard to detect if there&#x27;s no timezone and add it with your own code.</div><br/></div></div><div id="41655759" class="c"><input type="checkbox" id="c-41655759" checked=""/><div class="controls bullet"><span class="by">assiniboine</span><span>|</span><a href="#41655596">parent</a><span>|</span><a href="#41655821">prev</a><span>|</span><a href="#41655965">next</a><span>|</span><label class="collapse" for="c-41655759">[-]</label><label class="expand" for="c-41655759">[1 more]</label></div><br/><div class="children"><div class="content">It doesn&#x27;t need timestamps. It parses crontab to&#x2F;from timestamps where needed.</div><br/></div></div></div></div></div></div></div></div></div></body></html>