<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1733043654022" as="style"/><link rel="stylesheet" href="styles.css?v=1733043654022"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/maharmstone/ntfs2btrfs">Ntfs2btrfs does in-place conversion of NTFS filesystem to the open-source Btrfs</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>Sami_Lehtinen</span> | <span>97 comments</span></div><br/><div><div id="42284149" class="c"><input type="checkbox" id="c-42284149" checked=""/><div class="controls bullet"><span class="by">the_hoser</span><span>|</span><a href="#42286584">next</a><span>|</span><label class="collapse" for="c-42284149">[-]</label><label class="expand" for="c-42284149">[27 more]</label></div><br/><div class="children"><div class="content">The degree of hold-my-beer here is off the charts.</div><br/><div id="42284172" class="c"><input type="checkbox" id="c-42284172" checked=""/><div class="controls bullet"><span class="by">koverstreet</span><span>|</span><a href="#42284149">parent</a><span>|</span><a href="#42284345">next</a><span>|</span><label class="collapse" for="c-42284172">[-]</label><label class="expand" for="c-42284172">[8 more]</label></div><br/><div class="children"><div class="content">It&#x27;s not quite as dangerous as you&#x27;d think.<p>The standard technique is to reserve a big file on the old filesystem for the new filesystem metadata, and then walk all files on the old filesystem and use fiemap() to create new extents that point to the existing data - only writing to the space you reserved.<p>You only overwrite the superblock at the very end, and you can verify that the old and new filesystems have the same contents before you do.</div><br/><div id="42284315" class="c"><input type="checkbox" id="c-42284315" checked=""/><div class="controls bullet"><span class="by">jeroenhd</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284172">parent</a><span>|</span><a href="#42286554">next</a><span>|</span><label class="collapse" for="c-42284315">[-]</label><label class="expand" for="c-42284315">[5 more]</label></div><br/><div class="children"><div class="content">I believe that is also the method [btrfs-convert](<a href="https:&#x2F;&#x2F;btrfs.readthedocs.io&#x2F;en&#x2F;latest&#x2F;Convert.html" rel="nofollow">https:&#x2F;&#x2F;btrfs.readthedocs.io&#x2F;en&#x2F;latest&#x2F;Convert.html</a>) uses. A cool trick that tool uses is to keep the ext4 structures on disk (as a subvolume), which allows reverting to ext4 if the conversion didn&#x27;t go as planned (as long as you don&#x27;t do anything to mess with the ext4 extents, such as defragmenting or balancing the filesystem, and you can&#x27;t revert after deleting the subvolume of course).</div><br/><div id="42286321" class="c"><input type="checkbox" id="c-42286321" checked=""/><div class="controls bullet"><span class="by">doublepg23</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284315">parent</a><span>|</span><a href="#42284738">next</a><span>|</span><label class="collapse" for="c-42286321">[-]</label><label class="expand" for="c-42286321">[2 more]</label></div><br/><div class="children"><div class="content">I tried that on a system in 2020 and it just corrupted my new FS. Cool idea though.</div><br/><div id="42287196" class="c"><input type="checkbox" id="c-42287196" checked=""/><div class="controls bullet"><span class="by">ahartmetz</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42286321">parent</a><span>|</span><a href="#42284738">next</a><span>|</span><label class="collapse" for="c-42287196">[-]</label><label class="expand" for="c-42287196">[1 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t understand. You did get a btrfs that worked normally. &#x2F;s</div><br/></div></div></div></div><div id="42284738" class="c"><input type="checkbox" id="c-42284738" checked=""/><div class="controls bullet"><span class="by">Joe_Cool</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284315">parent</a><span>|</span><a href="#42286321">prev</a><span>|</span><a href="#42286554">next</a><span>|</span><label class="collapse" for="c-42284738">[-]</label><label class="expand" for="c-42284738">[2 more]</label></div><br/><div class="children"><div class="content">I believe you are right. You can only convert back to the metadata from before. So any new or changed (different extents) files will be lost or corrupted.<p>So best to only mount ro when considering to rollback. Otherwise it&#x27;s pretty risky.</div><br/><div id="42284951" class="c"><input type="checkbox" id="c-42284951" checked=""/><div class="controls bullet"><span class="by">heftig</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284738">parent</a><span>|</span><a href="#42286554">next</a><span>|</span><label class="collapse" for="c-42284951">[-]</label><label class="expand" for="c-42284951">[1 more]</label></div><br/><div class="children"><div class="content">No, it also covers the data. As long as you don&#x27;t delete the rollback subvolume, all the original data should still be there, uncorrupted.<p>Even if you disable copy-on-write, as long as the rollback subvolume is there to lay claim to the old data, it&#x27;s considered immutable and any modification will still have to copy it.</div><br/></div></div></div></div></div></div><div id="42286554" class="c"><input type="checkbox" id="c-42286554" checked=""/><div class="controls bullet"><span class="by">bongodongobob</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284172">parent</a><span>|</span><a href="#42284315">prev</a><span>|</span><a href="#42284345">next</a><span>|</span><label class="collapse" for="c-42286554">[-]</label><label class="expand" for="c-42286554">[2 more]</label></div><br/><div class="children"><div class="content">This is a weird level of pedantry induced by holding many beers tonight, but I&#x27;ve always thought of &quot;Hold my beer&quot; as in &quot;Holy shit the sonofabitch actually pulled it off, brilliant&quot;. I think it&#x27;s perfectly fitting. Jumping a riding lawnmower over a car with a beer in hand but they actually did the math first. I love it.</div><br/><div id="42286738" class="c"><input type="checkbox" id="c-42286738" checked=""/><div class="controls bullet"><span class="by">Gigachad</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42286554">parent</a><span>|</span><a href="#42284345">next</a><span>|</span><label class="collapse" for="c-42286738">[-]</label><label class="expand" for="c-42286738">[1 more]</label></div><br/><div class="children"><div class="content">It’s referring to a comment a drunk person would make before doing something extremely risky. They need someone to hold the beer so it isn’t spilled during what’s coming next.</div><br/></div></div></div></div></div></div><div id="42284345" class="c"><input type="checkbox" id="c-42284345" checked=""/><div class="controls bullet"><span class="by">boricj</span><span>|</span><a href="#42284149">parent</a><span>|</span><a href="#42284172">prev</a><span>|</span><a href="#42284952">next</a><span>|</span><label class="collapse" for="c-42284345">[-]</label><label class="expand" for="c-42284345">[1 more]</label></div><br/><div class="children"><div class="content">A couple of years ago it was more like juggling chainsaws: <a href="https:&#x2F;&#x2F;github.com&#x2F;maharmstone&#x2F;ntfs2btrfs&#x2F;issues&#x2F;9">https:&#x2F;&#x2F;github.com&#x2F;maharmstone&#x2F;ntfs2btrfs&#x2F;issues&#x2F;9</a><p>I tracked down a couple of nasty bugs at that time playing around with it, hopefully it&#x27;s more stable now.</div><br/></div></div><div id="42284952" class="c"><input type="checkbox" id="c-42284952" checked=""/><div class="controls bullet"><span class="by">tgma</span><span>|</span><a href="#42284149">parent</a><span>|</span><a href="#42284345">prev</a><span>|</span><a href="#42284463">next</a><span>|</span><label class="collapse" for="c-42284952">[-]</label><label class="expand" for="c-42284952">[6 more]</label></div><br/><div class="children"><div class="content">Apple did something like this with a billion live OS X&#x2F;iOS deployments (HFS+ -&gt; APFS). It can be done methodically at scale as other commenters point out, but obviously needs care).</div><br/><div id="42285760" class="c"><input type="checkbox" id="c-42285760" checked=""/><div class="controls bullet"><span class="by">SanjayMehta</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284952">parent</a><span>|</span><a href="#42284463">next</a><span>|</span><label class="collapse" for="c-42285760">[-]</label><label class="expand" for="c-42285760">[5 more]</label></div><br/><div class="children"><div class="content">When this first showed up I took 3 backups: two on networked drives and one on an external drive which was then disconnected from the system.<p>The second time I just went “meh” and let it run.</div><br/><div id="42285816" class="c"><input type="checkbox" id="c-42285816" checked=""/><div class="controls bullet"><span class="by">tgma</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42285760">parent</a><span>|</span><a href="#42284463">next</a><span>|</span><label class="collapse" for="c-42285816">[-]</label><label class="expand" for="c-42285816">[4 more]</label></div><br/><div class="children"><div class="content">Craig Federighi on some podcast once said they conducted dry-runs of the process in previous iOS updates (presumably building the new APFS filesystem metadata in a file without promoting it to the superblock) and checking its integrity and submitting telemetry data to ensure success.</div><br/><div id="42286271" class="c"><input type="checkbox" id="c-42286271" checked=""/><div class="controls bullet"><span class="by">3eb7988a1663</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42285816">parent</a><span>|</span><a href="#42284463">next</a><span>|</span><label class="collapse" for="c-42286271">[-]</label><label class="expand" for="c-42286271">[3 more]</label></div><br/><div class="children"><div class="content">You can do all the testing in the world, but clicking deploy on that update must have been nerve wracking.</div><br/><div id="42286748" class="c"><input type="checkbox" id="c-42286748" checked=""/><div class="controls bullet"><span class="by">Gigachad</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42286271">parent</a><span>|</span><a href="#42284463">next</a><span>|</span><label class="collapse" for="c-42286748">[-]</label><label class="expand" for="c-42286748">[2 more]</label></div><br/><div class="children"><div class="content">Apple doesn’t just deploy to the whole world in an instant though.<p>First it goes to the private beta users, then the public beta users, and then it slowly rolls out globally. Presumably they could slow down the roll out even more for a risky change to monitor it.</div><br/><div id="42286887" class="c"><input type="checkbox" id="c-42286887" checked=""/><div class="controls bullet"><span class="by">tgma</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42286748">parent</a><span>|</span><a href="#42284463">next</a><span>|</span><label class="collapse" for="c-42286887">[-]</label><label class="expand" for="c-42286887">[1 more]</label></div><br/><div class="children"><div class="content">Sure, but still whoever wrote the patch had his ass on the line even shipping to a batch of beta users. Remember this is Apple not Google where the dude likely got promoted and left the team right after pressing click :)</div><br/></div></div></div></div></div></div></div></div></div></div></div></div><div id="42284463" class="c"><input type="checkbox" id="c-42284463" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#42284149">parent</a><span>|</span><a href="#42284952">prev</a><span>|</span><a href="#42284491">next</a><span>|</span><label class="collapse" for="c-42284463">[-]</label><label class="expand" for="c-42284463">[7 more]</label></div><br/><div class="children"><div class="content">Note this is not the Linux btrfs:<p>&quot;WinBtrfs is a Windows driver for the next-generation Linux filesystem Btrfs. A reimplementation from scratch, it contains no code from the Linux kernel, and should work on any version from Windows XP onwards. It is also included as part of the free operating system ReactOS.&quot;<p>This is from the ntfs2btrfs maintainer&#x27;s page.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;maharmstone&#x2F;btrfs">https:&#x2F;&#x2F;github.com&#x2F;maharmstone&#x2F;btrfs</a></div><br/><div id="42284536" class="c"><input type="checkbox" id="c-42284536" checked=""/><div class="controls bullet"><span class="by">chungy</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284463">parent</a><span>|</span><a href="#42284559">next</a><span>|</span><label class="collapse" for="c-42284536">[-]</label><label class="expand" for="c-42284536">[5 more]</label></div><br/><div class="children"><div class="content">It&#x27;s the same file system, with two different drivers for two different operating systems.</div><br/><div id="42284566" class="c"><input type="checkbox" id="c-42284566" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284536">parent</a><span>|</span><a href="#42284559">next</a><span>|</span><label class="collapse" for="c-42284566">[-]</label><label class="expand" for="c-42284566">[4 more]</label></div><br/><div class="children"><div class="content">The metadata is adjusted for Windows in a way that is foreign to Linux.<p>Do Linux NTFS drivers deal with alternate streams?<p>&quot;Getting and setting of Access Control Lists (ACLs), using the xattr security.NTACL&quot;<p>&quot;Alternate Data Streams (e.g. :Zone.Identifier is stored as the xattr user.Zone.Identifier)&quot;</div><br/><div id="42284623" class="c"><input type="checkbox" id="c-42284623" checked=""/><div class="controls bullet"><span class="by">biorach</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284566">parent</a><span>|</span><a href="#42284833">next</a><span>|</span><label class="collapse" for="c-42284623">[-]</label><label class="expand" for="c-42284623">[1 more]</label></div><br/><div class="children"><div class="content">Not sure what point you&#x27;re making here. WinBtrfs is a driver for the same btrfs filesystem that Linux uses. It&#x27;s most common use case is reading the Linux partitions in Windows on machines that dual-boot both operating systems</div><br/></div></div><div id="42284833" class="c"><input type="checkbox" id="c-42284833" checked=""/><div class="controls bullet"><span class="by">dark-star</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284566">parent</a><span>|</span><a href="#42284623">prev</a><span>|</span><a href="#42284559">next</a><span>|</span><label class="collapse" for="c-42284833">[-]</label><label class="expand" for="c-42284833">[2 more]</label></div><br/><div class="children"><div class="content">What? Why would you need a Linux NTFS driver to read a btrfs filesystem? that makes no sense.<p>Storing Windows ACLs in xattrs is also pretty common (Samba does the same)</div><br/><div id="42284908" class="c"><input type="checkbox" id="c-42284908" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284833">parent</a><span>|</span><a href="#42284559">next</a><span>|</span><label class="collapse" for="c-42284908">[-]</label><label class="expand" for="c-42284908">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d delete my comment if I could at this point.</div><br/></div></div></div></div></div></div></div></div><div id="42284559" class="c"><input type="checkbox" id="c-42284559" checked=""/><div class="controls bullet"><span class="by">cwillu</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284463">parent</a><span>|</span><a href="#42284536">prev</a><span>|</span><a href="#42284491">next</a><span>|</span><label class="collapse" for="c-42284559">[-]</label><label class="expand" for="c-42284559">[1 more]</label></div><br/><div class="children"><div class="content">Yes it is?</div><br/></div></div></div></div><div id="42284491" class="c"><input type="checkbox" id="c-42284491" checked=""/><div class="controls bullet"><span class="by">MisterTea</span><span>|</span><a href="#42284149">parent</a><span>|</span><a href="#42284463">prev</a><span>|</span><a href="#42284449">next</a><span>|</span><label class="collapse" for="c-42284491">[-]</label><label class="expand" for="c-42284491">[3 more]</label></div><br/><div class="children"><div class="content">As someone who has witnessed Windows explode twice from in-place upgrades I would just buy a new disk or computer and start over. I get that this is different but the time that went into that data is worth way more than a new disk. It&#x27;s just not worth the risk IMO. Maybe if you don&#x27;t care about the data or have good backups and wish to help shake bugs out - go for it I guess.</div><br/><div id="42286697" class="c"><input type="checkbox" id="c-42286697" checked=""/><div class="controls bullet"><span class="by">rini17</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284491">parent</a><span>|</span><a href="#42284714">next</a><span>|</span><label class="collapse" for="c-42286697">[-]</label><label class="expand" for="c-42286697">[1 more]</label></div><br/><div class="children"><div class="content">If only it had a native filesystem with snapshotting capability...</div><br/></div></div><div id="42284714" class="c"><input type="checkbox" id="c-42284714" checked=""/><div class="controls bullet"><span class="by">Joker_vD</span><span>|</span><a href="#42284149">root</a><span>|</span><a href="#42284491">parent</a><span>|</span><a href="#42286697">prev</a><span>|</span><a href="#42284449">next</a><span>|</span><label class="collapse" for="c-42284714">[-]</label><label class="expand" for="c-42284714">[1 more]</label></div><br/><div class="children"><div class="content">And the new disk is also likely to have more longevity left in it, doesn&#x27;t it?</div><br/></div></div></div></div></div></div><div id="42286584" class="c"><input type="checkbox" id="c-42286584" checked=""/><div class="controls bullet"><span class="by">casey2</span><span>|</span><a href="#42284149">prev</a><span>|</span><a href="#42285317">next</a><span>|</span><label class="collapse" for="c-42286584">[-]</label><label class="expand" for="c-42286584">[1 more]</label></div><br/><div class="children"><div class="content">Very cool, but nobody will hear about this until at least a week after they format their ntfs drives that they have been putting off formatting for 2 years</div><br/></div></div><div id="42285317" class="c"><input type="checkbox" id="c-42285317" checked=""/><div class="controls bullet"><span class="by">cryptonector</span><span>|</span><a href="#42286584">prev</a><span>|</span><a href="#42286779">next</a><span>|</span><label class="collapse" for="c-42285317">[-]</label><label class="expand" for="c-42285317">[1 more]</label></div><br/><div class="children"><div class="content">Thinking of how I&#x27;d do this for ZFS...  I think I&#x27;d do something like: add a layer that can read other filesystem types and synthesize ZFS block pointers, then ZFS could read other filesystems, and as it writes it could rewrite the whole thing slowly.  If ZFS had block pointer rewrite (and I&#x27;ve explained here before why it does not and cannot have BP rewrite caoabilities, not being a proper CAS filesystem), one could just make it rewrite the whole thing to finish the conversion.</div><br/></div></div><div id="42286779" class="c"><input type="checkbox" id="c-42286779" checked=""/><div class="controls bullet"><span class="by">npn</span><span>|</span><a href="#42285317">prev</a><span>|</span><a href="#42284601">next</a><span>|</span><label class="collapse" for="c-42286779">[-]</label><label class="expand" for="c-42286779">[1 more]</label></div><br/><div class="children"><div class="content">I tried this one before, resulted in a read-only disk. Hope it improves since then.</div><br/></div></div><div id="42284601" class="c"><input type="checkbox" id="c-42284601" checked=""/><div class="controls bullet"><span class="by">Dwedit</span><span>|</span><a href="#42286779">prev</a><span>|</span><a href="#42284146">next</a><span>|</span><label class="collapse" for="c-42284601">[-]</label><label class="expand" for="c-42284601">[2 more]</label></div><br/><div class="children"><div class="content">I would be very surprised if it supported files that are under LZX compression.<p>(Not to be confused with Windows 2000-era file compression, this is something you need to activate with &quot;compact.exe &#x2F;C &#x2F;EXE:LZX (filename)&quot;)</div><br/><div id="42284809" class="c"><input type="checkbox" id="c-42284809" checked=""/><div class="controls bullet"><span class="by">ruined</span><span>|</span><a href="#42284601">parent</a><span>|</span><a href="#42284146">next</a><span>|</span><label class="collapse" for="c-42284809">[-]</label><label class="expand" for="c-42284809">[1 more]</label></div><br/><div class="children"><div class="content">it seems to contain code that handles LZX, among other formats<p><a href="https:&#x2F;&#x2F;github.com&#x2F;search?q=repo%3Amaharmstone%2Fntfs2btrfs%20lzx&amp;type=code">https:&#x2F;&#x2F;github.com&#x2F;search?q=repo%3Amaharmstone%2Fntfs2btrfs%...</a></div><br/></div></div></div></div><div id="42284146" class="c"><input type="checkbox" id="c-42284146" checked=""/><div class="controls bullet"><span class="by">johnea</span><span>|</span><a href="#42284601">prev</a><span>|</span><a href="#42286507">next</a><span>|</span><label class="collapse" for="c-42284146">[-]</label><label class="expand" for="c-42284146">[62 more]</label></div><br/><div class="children"><div class="content">Conversion from one bloatware filesystem to another...</div><br/><div id="42284209" class="c"><input type="checkbox" id="c-42284209" checked=""/><div class="controls bullet"><span class="by">snapplebobapple</span><span>|</span><a href="#42284146">parent</a><span>|</span><a href="#42284277">next</a><span>|</span><label class="collapse" for="c-42284209">[-]</label><label class="expand" for="c-42284209">[23 more]</label></div><br/><div class="children"><div class="content">btrfs isn&#x27;t that terrible for desktop use right now. I mean, I wouldn&#x27;t personally use it, I lost data on it a couple times four plus years ago, but it&#x27;s come a long way since then. (my preference is keep everything I care about on a fileserver like truenas running zfs with proper snapshotting, replication and backup and live dangerously on the desktop testing out bcachefs, but I recognize not everyone can live my life and some people just want a laptop with a reasonable filesystem resistant to bit rot.</div><br/><div id="42284297" class="c"><input type="checkbox" id="c-42284297" checked=""/><div class="controls bullet"><span class="by">jeroenhd</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284209">parent</a><span>|</span><a href="#42284339">next</a><span>|</span><label class="collapse" for="c-42284297">[-]</label><label class="expand" for="c-42284297">[4 more]</label></div><br/><div class="children"><div class="content">I recently found out Fedora defaults to btrfs with zstd compression enabled by default. Seems to work well enough.<p>On my personal devices I prefer BTRFS&#x27; snapshotting ability over the risk of having to restore from backup at some point.</div><br/><div id="42284934" class="c"><input type="checkbox" id="c-42284934" checked=""/><div class="controls bullet"><span class="by">emacsen</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284297">parent</a><span>|</span><a href="#42284339">next</a><span>|</span><label class="collapse" for="c-42284934">[-]</label><label class="expand" for="c-42284934">[3 more]</label></div><br/><div class="children"><div class="content">Is there decent encryption support, or are we stuck using full disk encryption at the block level?</div><br/><div id="42285401" class="c"><input type="checkbox" id="c-42285401" checked=""/><div class="controls bullet"><span class="by">jeroenhd</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284934">parent</a><span>|</span><a href="#42285379">next</a><span>|</span><label class="collapse" for="c-42285401">[-]</label><label class="expand" for="c-42285401">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t know, I just use FDE because I don&#x27;t trust filesystem level encryption to protect against the many side channel attacks one can inject into a running system. LUKS is good enough for me.<p>It looks like there&#x27;s slow but steady progress on FSCRYPT support on BTRFS: <a href="https:&#x2F;&#x2F;bkhome.org&#x2F;news&#x2F;202403&#x2F;linux-kernel-btrfs-supports-fscrypt.html" rel="nofollow">https:&#x2F;&#x2F;bkhome.org&#x2F;news&#x2F;202403&#x2F;linux-kernel-btrfs-supports-f...</a>
No idea what kind of state it is in currently.</div><br/></div></div><div id="42285379" class="c"><input type="checkbox" id="c-42285379" checked=""/><div class="controls bullet"><span class="by">RussianCow</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284934">parent</a><span>|</span><a href="#42285401">prev</a><span>|</span><a href="#42284339">next</a><span>|</span><label class="collapse" for="c-42285379">[-]</label><label class="expand" for="c-42285379">[1 more]</label></div><br/><div class="children"><div class="content">The latter at this point.</div><br/></div></div></div></div></div></div><div id="42284339" class="c"><input type="checkbox" id="c-42284339" checked=""/><div class="controls bullet"><span class="by">arjvik</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284209">parent</a><span>|</span><a href="#42284297">prev</a><span>|</span><a href="#42284783">next</a><span>|</span><label class="collapse" for="c-42284339">[-]</label><label class="expand" for="c-42284339">[15 more]</label></div><br/><div class="children"><div class="content">How is bcachefs for personal use these days?</div><br/><div id="42284431" class="c"><input type="checkbox" id="c-42284431" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284339">parent</a><span>|</span><a href="#42284752">next</a><span>|</span><label class="collapse" for="c-42284431">[-]</label><label class="expand" for="c-42284431">[8 more]</label></div><br/><div class="children"><div class="content">The political situation for bcachefs is far from good, with pressure from Linus and a CoC violation.<p>The net effect will likely delay stability.<p><a href="https:&#x2F;&#x2F;www.phoronix.com&#x2F;news&#x2F;Bcachefs-Fixes-Two-Choices" rel="nofollow">https:&#x2F;&#x2F;www.phoronix.com&#x2F;news&#x2F;Bcachefs-Fixes-Two-Choices</a><p><a href="https:&#x2F;&#x2F;www.phoronix.com&#x2F;news&#x2F;Linux-CoC-Bcachefs-6.13" rel="nofollow">https:&#x2F;&#x2F;www.phoronix.com&#x2F;news&#x2F;Linux-CoC-Bcachefs-6.13</a></div><br/><div id="42284671" class="c"><input type="checkbox" id="c-42284671" checked=""/><div class="controls bullet"><span class="by">koverstreet</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284431">parent</a><span>|</span><a href="#42284752">next</a><span>|</span><label class="collapse" for="c-42284671">[-]</label><label class="expand" for="c-42284671">[7 more]</label></div><br/><div class="children"><div class="content">Honestly the political situation will probably be a &#x2F;good&#x2F; thing for long term stability, because I get a few months without any stupid arguments with upstream and finally get to write code in peace :)<p>It sucks for users though, because now you have to get my tree if you want the latest fixes, and there&#x27;s some stuff that should be backported for forwards compatibility with the scalability improvements coming soon [1].<p>[1]: <a href="https:&#x2F;&#x2F;www.patreon.com&#x2F;posts&#x2F;more-expensive-116975457" rel="nofollow">https:&#x2F;&#x2F;www.patreon.com&#x2F;posts&#x2F;more-expensive-116975457</a></div><br/><div id="42284924" class="c"><input type="checkbox" id="c-42284924" checked=""/><div class="controls bullet"><span class="by">homebrewer</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284671">parent</a><span>|</span><a href="#42284733">next</a><span>|</span><label class="collapse" for="c-42284924">[-]</label><label class="expand" for="c-42284924">[1 more]</label></div><br/><div class="children"><div class="content">Don&#x27;t worry about the users, we&#x27;ll manage somehow, it&#x27;s such a tiny burden compared to the actual development. I&#x27;m just really happy to see you&#x27;re not discouraged by the petty political mess and keep pushing through. Thank you!</div><br/></div></div><div id="42284733" class="c"><input type="checkbox" id="c-42284733" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284671">parent</a><span>|</span><a href="#42284924">prev</a><span>|</span><a href="#42284957">next</a><span>|</span><label class="collapse" for="c-42284733">[-]</label><label class="expand" for="c-42284733">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m hoping to use your filesystem when it&#x27;s ready.<p>Everyone wishes that this were easier for you.</div><br/></div></div><div id="42284957" class="c"><input type="checkbox" id="c-42284957" checked=""/><div class="controls bullet"><span class="by">BlackLotus89</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284671">parent</a><span>|</span><a href="#42284733">prev</a><span>|</span><a href="#42284905">next</a><span>|</span><label class="collapse" for="c-42284957">[-]</label><label class="expand" for="c-42284957">[1 more]</label></div><br/><div class="children"><div class="content">I personally stopped compiling your code in my personal repo when bcachefs was upstreamed. It often was a pain to rebase against the latest hardened code and I&#x27;m happier since it&#x27;s upstream. I use your fs for 7-8 years now and I hope your latest changes to the disk format will actually improve mount performance (yes I&#x27;m one of the silent &quot;victims&quot; you were talking about). I hope nothing breaks...<p>Anyway thank you for your work and I wish you all the best on the lkml and your work.</div><br/></div></div><div id="42284905" class="c"><input type="checkbox" id="c-42284905" checked=""/><div class="controls bullet"><span class="by">mappu</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284671">parent</a><span>|</span><a href="#42284957">prev</a><span>|</span><a href="#42285123">next</a><span>|</span><label class="collapse" for="c-42284905">[-]</label><label class="expand" for="c-42284905">[1 more]</label></div><br/><div class="children"><div class="content">Echoing the sibling comment Kent, bcachefs is a really wonderful and important project. The whole world wants your filesystem to become the de-facto standard Linux filesystem for the next decade. One more month of LKML drama is a small price for that (at LKML prices).</div><br/></div></div><div id="42285123" class="c"><input type="checkbox" id="c-42285123" checked=""/><div class="controls bullet"><span class="by">gkmcd</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284671">parent</a><span>|</span><a href="#42284905">prev</a><span>|</span><a href="#42284752">next</a><span>|</span><label class="collapse" for="c-42285123">[-]</label><label class="expand" for="c-42285123">[2 more]</label></div><br/><div class="children"><div class="content">I switched back to the arch default kernel for my 32TB home media server, would you recommend going back to compiling your kernel for the time being?</div><br/><div id="42285369" class="c"><input type="checkbox" id="c-42285369" checked=""/><div class="controls bullet"><span class="by">koverstreet</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42285123">parent</a><span>|</span><a href="#42284752">next</a><span>|</span><label class="collapse" for="c-42285369">[-]</label><label class="expand" for="c-42285369">[1 more]</label></div><br/><div class="children"><div class="content">Not unless you&#x27;ve been hitting a bug you need the fix for</div><br/></div></div></div></div></div></div></div></div><div id="42284752" class="c"><input type="checkbox" id="c-42284752" checked=""/><div class="controls bullet"><span class="by">pimeys</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284339">parent</a><span>|</span><a href="#42284431">prev</a><span>|</span><a href="#42284902">next</a><span>|</span><label class="collapse" for="c-42284752">[-]</label><label class="expand" for="c-42284752">[1 more]</label></div><br/><div class="children"><div class="content">Been using it since 6.7 on my root partition. Around 6.9 there were issues that needed fsck. Now on 6.12 it is pretty stable already. And fast, it is easy to run thousands of Postgres tests on it. Not something zfs or btrfs really could do without tuning...<p>So if you&#x27;re a cowboy, now it&#x27;s a good time to test. If not, wait one more year.</div><br/></div></div><div id="42284902" class="c"><input type="checkbox" id="c-42284902" checked=""/><div class="controls bullet"><span class="by">snapplebobapple</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284339">parent</a><span>|</span><a href="#42284752">prev</a><span>|</span><a href="#42284634">next</a><span>|</span><label class="collapse" for="c-42284902">[-]</label><label class="expand" for="c-42284902">[1 more]</label></div><br/><div class="children"><div class="content">I haven&#x27;t lost any data yet. It did something stupid on my laptop that looked like it was about to repeat btrfs&#x27;s treatment of my data a few months ago but 15 minutes of googling on my phone and I figured out the right commands to get it to fix whatever was broken and get to a bootable state. I&#x27;m a decade away from considering it for a file server holding data I actually care about but as my main desktop and my laptop file system (with dotfiles backed up to my git instance via yadm and everything I care about nfs mounted in from my fileservers) it&#x27;s totally fine.</div><br/></div></div><div id="42284634" class="c"><input type="checkbox" id="c-42284634" checked=""/><div class="controls bullet"><span class="by">biorach</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284339">parent</a><span>|</span><a href="#42284902">prev</a><span>|</span><a href="#42284783">next</a><span>|</span><label class="collapse" for="c-42284634">[-]</label><label class="expand" for="c-42284634">[4 more]</label></div><br/><div class="children"><div class="content">I believe the main bcachefs mantainer does not advocate production use yet</div><br/><div id="42284705" class="c"><input type="checkbox" id="c-42284705" checked=""/><div class="controls bullet"><span class="by">koverstreet</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284634">parent</a><span>|</span><a href="#42284783">next</a><span>|</span><label class="collapse" for="c-42284705">[-]</label><label class="expand" for="c-42284705">[3 more]</label></div><br/><div class="children"><div class="content">We&#x27;re still six months or so from taking the experimental label off, yeah. Getting close, though: filesystem-is-offline bugs have slowed to a trickle, and it&#x27;s starting to be performance issues that people are complaining about.<p>Hoping to get online fsck and erasure coding finished before taking off experimental, and I want to see us scaling to petabyte sized filesystems as well.</div><br/><div id="42285024" class="c"><input type="checkbox" id="c-42285024" checked=""/><div class="controls bullet"><span class="by">biorach</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284705">parent</a><span>|</span><a href="#42284783">next</a><span>|</span><label class="collapse" for="c-42285024">[-]</label><label class="expand" for="c-42285024">[2 more]</label></div><br/><div class="children"><div class="content">Oh wow... That&#x27;s actually really fast progress all things considered. Well done! I really hope all the... umm... misunderstandings get worked out because you&#x27;re doing great work.</div><br/><div id="42285411" class="c"><input type="checkbox" id="c-42285411" checked=""/><div class="controls bullet"><span class="by">koverstreet</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42285024">parent</a><span>|</span><a href="#42284783">next</a><span>|</span><label class="collapse" for="c-42285411">[-]</label><label class="expand" for="c-42285411">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s all stuff that&#x27;s been in the pipeline for a long time.<p>(And we&#x27;ll see when online fsck and erasure coding actually land, I keep getting distracted by more immediate issues).<p>Really, the bigger news right now is probably all the self healing work that&#x27;s been going on. We&#x27;re able to repair all kinds of damage without an explicit fsck now, without any user intervention: some things online, other things will cause us to go emergency read only and be repaired on the next mount (e.g. toasted btree nodes).</div><br/></div></div></div></div></div></div></div></div></div></div><div id="42284783" class="c"><input type="checkbox" id="c-42284783" checked=""/><div class="controls bullet"><span class="by">tombert</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284209">parent</a><span>|</span><a href="#42284339">prev</a><span>|</span><a href="#42284277">next</a><span>|</span><label class="collapse" for="c-42284783">[-]</label><label class="expand" for="c-42284783">[3 more]</label></div><br/><div class="children"><div class="content">After a bit of peer pressure from a friend, I decided ended up using btrfs with my laptop about three months ago. It’s been fine thus far.</div><br/><div id="42284891" class="c"><input type="checkbox" id="c-42284891" checked=""/><div class="controls bullet"><span class="by">aucisson_masque</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284783">parent</a><span>|</span><a href="#42284277">next</a><span>|</span><label class="collapse" for="c-42284891">[-]</label><label class="expand" for="c-42284891">[2 more]</label></div><br/><div class="children"><div class="content">Emphasize on ‘this far’…<p>To me that kind of experiment is the equivalent of changing your car brake for something ‘open source’, maybe better, maybe not.<p>But when you need them you’re going to want to make sure they’re working.</div><br/><div id="42285311" class="c"><input type="checkbox" id="c-42285311" checked=""/><div class="controls bullet"><span class="by">kccqzy</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284891">parent</a><span>|</span><a href="#42284277">next</a><span>|</span><label class="collapse" for="c-42285311">[-]</label><label class="expand" for="c-42285311">[1 more]</label></div><br/><div class="children"><div class="content">How much of an assurance do you want? I&#x27;ve been using btrfs on my desktop for 3+ years. And I&#x27;ve also experienced no issues thus far.</div><br/></div></div></div></div></div></div></div></div><div id="42284277" class="c"><input type="checkbox" id="c-42284277" checked=""/><div class="controls bullet"><span class="by">do_not_redeem</span><span>|</span><a href="#42284146">parent</a><span>|</span><a href="#42284209">prev</a><span>|</span><a href="#42284216">next</a><span>|</span><label class="collapse" for="c-42284277">[-]</label><label class="expand" for="c-42284277">[31 more]</label></div><br/><div class="children"><div class="content">What filesystem would you suggest that has data checksums, efficient snapshots, and doesn&#x27;t require compiling an out of tree kernel module?</div><br/><div id="42284740" class="c"><input type="checkbox" id="c-42284740" checked=""/><div class="controls bullet"><span class="by">badgersnake</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284277">parent</a><span>|</span><a href="#42285027">next</a><span>|</span><label class="collapse" for="c-42284740">[-]</label><label class="expand" for="c-42284740">[2 more]</label></div><br/><div class="children"><div class="content">If you artificially tailor your criteria such that the only answer you your question is btrfs then that is the answer you will get.</div><br/><div id="42284895" class="c"><input type="checkbox" id="c-42284895" checked=""/><div class="controls bullet"><span class="by">homebrewer</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284740">parent</a><span>|</span><a href="#42285027">next</a><span>|</span><label class="collapse" for="c-42284895">[-]</label><label class="expand" for="c-42284895">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s nothing &quot;artificial&quot; in his requirements, data checksums and efficient snapshots are required for some workloads (for example, we use them for end-to-end testing on copies of the real production database that are created and thrown away in seconds), and building your own kernel modules is a stupid idea in many cases outside of two extremes of the home desktop or a well-funded behemoth like Facebook.</div><br/></div></div></div></div><div id="42285027" class="c"><input type="checkbox" id="c-42285027" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284277">parent</a><span>|</span><a href="#42284740">prev</a><span>|</span><a href="#42285687">next</a><span>|</span><label class="collapse" for="c-42285027">[-]</label><label class="expand" for="c-42285027">[1 more]</label></div><br/><div class="children"><div class="content">ZFS… using a BSD kernel :)</div><br/></div></div><div id="42285687" class="c"><input type="checkbox" id="c-42285687" checked=""/><div class="controls bullet"><span class="by">mappu</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284277">parent</a><span>|</span><a href="#42285027">prev</a><span>|</span><a href="#42284512">next</a><span>|</span><label class="collapse" for="c-42285687">[-]</label><label class="expand" for="c-42285687">[1 more]</label></div><br/><div class="children"><div class="content">NILFS2 is upstream, stores checksums for all data, and has the most efficient snapshot system bar none. Although I don&#x27;t think i&#x27;d push the recommendation, solely because there are fewer eyes on it.</div><br/></div></div><div id="42284512" class="c"><input type="checkbox" id="c-42284512" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284277">parent</a><span>|</span><a href="#42285687">prev</a><span>|</span><a href="#42284498">next</a><span>|</span><label class="collapse" for="c-42284512">[-]</label><label class="expand" for="c-42284512">[1 more]</label></div><br/><div class="children"><div class="content">There is an OpenZFS port to Windows, but I&#x27;m not sure how to find it from here:<p><a href="https:&#x2F;&#x2F;github.com&#x2F;openzfsonwindows&#x2F;ZFSin">https:&#x2F;&#x2F;github.com&#x2F;openzfsonwindows&#x2F;ZFSin</a><p>There is also Microsoft&#x27;s own ReFS:<p><a href="https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;ReFS" rel="nofollow">https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;ReFS</a></div><br/></div></div><div id="42284498" class="c"><input type="checkbox" id="c-42284498" checked=""/><div class="controls bullet"><span class="by">toast0</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284277">parent</a><span>|</span><a href="#42284512">prev</a><span>|</span><a href="#42284319">next</a><span>|</span><label class="collapse" for="c-42284498">[-]</label><label class="expand" for="c-42284498">[2 more]</label></div><br/><div class="children"><div class="content">Zfs is in tree if you use a different kernel. :p</div><br/><div id="42284837" class="c"><input type="checkbox" id="c-42284837" checked=""/><div class="controls bullet"><span class="by">johnny22</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284498">parent</a><span>|</span><a href="#42284319">next</a><span>|</span><label class="collapse" for="c-42284837">[-]</label><label class="expand" for="c-42284837">[1 more]</label></div><br/><div class="children"><div class="content">no, that is not in in tree. it&#x27;s in build. big difference.</div><br/></div></div></div></div><div id="42284319" class="c"><input type="checkbox" id="c-42284319" checked=""/><div class="controls bullet"><span class="by">freeone3000</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284277">parent</a><span>|</span><a href="#42284498">prev</a><span>|</span><a href="#42284375">next</a><span>|</span><label class="collapse" for="c-42284319">[-]</label><label class="expand" for="c-42284319">[11 more]</label></div><br/><div class="children"><div class="content">zfs is licensed <i>too freely</i> to be in-tree, but it’s still an excellent choice.</div><br/><div id="42284385" class="c"><input type="checkbox" id="c-42284385" checked=""/><div class="controls bullet"><span class="by">riffraff</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284319">parent</a><span>|</span><a href="#42284527">next</a><span>|</span><label class="collapse" for="c-42284385">[-]</label><label class="expand" for="c-42284385">[3 more]</label></div><br/><div class="children"><div class="content">I may be wrong but I don&#x27;t think it&#x27;s just &quot;excessive freeness&quot;, the CDDL also has restrictions the GPL does not have (stuff about patents), it&#x27;s mutual incompatibility.<p>Apache v2 and GPLv3 were made explicitly compatible while providing different kinds of freedom.</div><br/><div id="42284963" class="c"><input type="checkbox" id="c-42284963" checked=""/><div class="controls bullet"><span class="by">boomboomsubban</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284385">parent</a><span>|</span><a href="#42284527">next</a><span>|</span><label class="collapse" for="c-42284963">[-]</label><label class="expand" for="c-42284963">[2 more]</label></div><br/><div class="children"><div class="content">The CDDL is more permissive, it&#x27;s a weak copyleft license while the GPL is strong copyleft, and that makes the two incompatible. Calling it &quot;excessive freeness&quot; is inflammatory, but they&#x27;re broadly correct.</div><br/><div id="42285212" class="c"><input type="checkbox" id="c-42285212" checked=""/><div class="controls bullet"><span class="by">starspangled</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284963">parent</a><span>|</span><a href="#42284527">next</a><span>|</span><label class="collapse" for="c-42285212">[-]</label><label class="expand" for="c-42285212">[1 more]</label></div><br/><div class="children"><div class="content">&gt; The CDDL is more permissive, it&#x27;s a weak copyleft license while the GPL is strong copyleft, and that makes the two incompatible. Calling it &quot;excessive freeness&quot; is inflammatory, but they&#x27;re broadly correct.<p>It&#x27;s not really. Many aspects of the license are free-er, but that&#x27;s not what causes the incompatibility. The GPL does not have any kind of clause saying code that is distributed under too permissive of a license may not be incorporated into a derived&#x2F;combined work. It&#x27;s not that it&#x27;s weak copyleft, it is that it contains particular restrictions that makes it incompatible with GPL&#x27;s restrictions.<p>BSD licenses do not have that incompatible restriction (= are freer than CDDL, in that aspect)  and <i>can</i> be compatible with the GPL.</div><br/></div></div></div></div></div></div><div id="42284527" class="c"><input type="checkbox" id="c-42284527" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284319">parent</a><span>|</span><a href="#42284385">prev</a><span>|</span><a href="#42284505">next</a><span>|</span><label class="collapse" for="c-42284527">[-]</label><label class="expand" for="c-42284527">[3 more]</label></div><br/><div class="children"><div class="content">In the <i>Linux</i> tree.<p>In Windows, Satya would need to write Larry a check. It would probably be hefty.<p>Edit: there was a time that this was planned for MacOS.<p><a href="https:&#x2F;&#x2F;arstechnica.com&#x2F;gadgets&#x2F;2016&#x2F;06&#x2F;zfs-the-other-new-apple-file-system-that-almost-was-until-it-wasnt&#x2F;" rel="nofollow">https:&#x2F;&#x2F;arstechnica.com&#x2F;gadgets&#x2F;2016&#x2F;06&#x2F;zfs-the-other-new-ap...</a></div><br/><div id="42284690" class="c"><input type="checkbox" id="c-42284690" checked=""/><div class="controls bullet"><span class="by">gjvc</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284527">parent</a><span>|</span><a href="#42284505">next</a><span>|</span><label class="collapse" for="c-42284690">[-]</label><label class="expand" for="c-42284690">[2 more]</label></div><br/><div class="children"><div class="content"><i>Edit: there was a time that this was planned for MacOS.</i><p>That was a joyous prospect.  A single volume manager&#x2F;filesystem across all UNIX platforms would be  wonderful.<p>We had the UNIX wars of the 1990s.  Since Linux won, they have been replaced by the filesystem wars.</div><br/><div id="42286027" class="c"><input type="checkbox" id="c-42286027" checked=""/><div class="controls bullet"><span class="by">chasil</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284690">parent</a><span>|</span><a href="#42284505">next</a><span>|</span><label class="collapse" for="c-42286027">[-]</label><label class="expand" for="c-42286027">[1 more]</label></div><br/><div class="children"><div class="content">For what it&#x27;s worth, I upvoted you.<p>I see no reason for the down votes.</div><br/></div></div></div></div></div></div><div id="42284368" class="c"><input type="checkbox" id="c-42284368" checked=""/><div class="controls bullet"><span class="by">do_not_redeem</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284319">parent</a><span>|</span><a href="#42284505">prev</a><span>|</span><a href="#42284375">next</a><span>|</span><label class="collapse" for="c-42284368">[-]</label><label class="expand" for="c-42284368">[3 more]</label></div><br/><div class="children"><div class="content">Yeah the situation is unfortunate. There&#x27;s a decent chance I&#x27;d be using ZFS if not for the licensing issues, but as a practical matter I&#x27;m getting too old to be futzing with kernel modules on my daily driver.</div><br/><div id="42284555" class="c"><input type="checkbox" id="c-42284555" checked=""/><div class="controls bullet"><span class="by">telgareith</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284368">parent</a><span>|</span><a href="#42284375">next</a><span>|</span><label class="collapse" for="c-42284555">[-]</label><label class="expand" for="c-42284555">[2 more]</label></div><br/><div class="children"><div class="content">DKMS solved these &quot;licensing issues.&quot; Dell is mum on official motivation- but it provides a licensing demarcation point, and a way for kernels to update without breaking modules- so it&#x27;s easier for companies to develop for Linux.<p>_Windows Drivers work the same way and nobody huffs and puffs about that_<p>I&#x27;d love to have an intelligent discussion on how one person&#x27;s opinion on licensing issues stacks up against the legal teams of half the fortune 50&#x27;s. Licensing doesn&#x27;t work on &quot;well, I didn&#x27;t mean it THAT way.&quot;</div><br/><div id="42284684" class="c"><input type="checkbox" id="c-42284684" checked=""/><div class="controls bullet"><span class="by">do_not_redeem</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284555">parent</a><span>|</span><a href="#42284375">next</a><span>|</span><label class="collapse" for="c-42284684">[-]</label><label class="expand" for="c-42284684">[1 more]</label></div><br/><div class="children"><div class="content">I admit I&#x27;m not fully up to date on whether it&#x27;s actually &quot;license issues&quot; or something else. I&#x27;m not a lawyer. As a layman here&#x27;s what I know. I go to the Arch wiki (<a href="https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;title&#x2F;ZFS" rel="nofollow">https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;title&#x2F;ZFS</a>) and I see this warning under the DKMS section (as you advised):<p>&gt; Warning: Occasionally, the dkms package might not compile against the newest kernel packages in Arch. Using the linux-lts kernel may provide better compatibility with out-of-tree kernel modules, otherwise zfs-dkms-staging-gitAUR backports compatibility patches and fixes for the latest kernel package in Arch on top of the stable zfs branch<p>So... my system might fail to boot after updates. If I use linux-lts, it might break less often. Or I can use zfs-dkms-staging-git, and my system might break even less often... or more often, because it looks like that&#x27;s installing kernel modules directly from the master branch of some repo.<p>As a practical matter I could care less if my system fails to boot because of &quot;license issues&quot; or some other reason, I just want the lawyers to sort their shit out so I don&#x27;t have to risk my system becoming unbootable at some random inopportune time. Until then, I&#x27;ve never hit a btrfs bug, so I&#x27;m going to keep on using it for every new build.</div><br/></div></div></div></div></div></div></div></div><div id="42284375" class="c"><input type="checkbox" id="c-42284375" checked=""/><div class="controls bullet"><span class="by">JackSlateur</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284277">parent</a><span>|</span><a href="#42284319">prev</a><span>|</span><a href="#42284216">next</a><span>|</span><label class="collapse" for="c-42284375">[-]</label><label class="expand" for="c-42284375">[12 more]</label></div><br/><div class="children"><div class="content">Xfs ? Bcachefs ? Whatever you like because those features may not be implemented at the filesystem layer ?</div><br/><div id="42284437" class="c"><input type="checkbox" id="c-42284437" checked=""/><div class="controls bullet"><span class="by">do_not_redeem</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284375">parent</a><span>|</span><a href="#42284216">next</a><span>|</span><label class="collapse" for="c-42284437">[-]</label><label class="expand" for="c-42284437">[11 more]</label></div><br/><div class="children"><div class="content">xfs doesn&#x27;t have data checksumming.<p>&gt; Note: Unlike Btrfs and ZFS, the CRC32 checksum only applies to the metadata and not actual data.<p><a href="https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;title&#x2F;XFS" rel="nofollow">https:&#x2F;&#x2F;wiki.archlinux.org&#x2F;title&#x2F;XFS</a><p>---<p>bcachefs isn&#x27;t stable enough to daily drive.<p>&gt; Nobody sane uses bcachefs and expects it to be stable<p>—Linus Torvalds (2024)<p><a href="https:&#x2F;&#x2F;lore.kernel.org&#x2F;lkml&#x2F;CAHk-%3Dwj1Oo9-g-yuwWuHQZU8v%3DVAsBceWCRLhWxy7_-QnSa1Ng@mail.gmail.com&#x2F;" rel="nofollow">https:&#x2F;&#x2F;lore.kernel.org&#x2F;lkml&#x2F;CAHk-%3Dwj1Oo9-g-yuwWuHQZU8v%3D...</a></div><br/><div id="42284708" class="c"><input type="checkbox" id="c-42284708" checked=""/><div class="controls bullet"><span class="by">koverstreet</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284437">parent</a><span>|</span><a href="#42284885">next</a><span>|</span><label class="collapse" for="c-42284708">[-]</label><label class="expand" for="c-42284708">[7 more]</label></div><br/><div class="children"><div class="content">Linus is not a filesystem guy</div><br/><div id="42285607" class="c"><input type="checkbox" id="c-42285607" checked=""/><div class="controls bullet"><span class="by">starspangled</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284708">parent</a><span>|</span><a href="#42284885">next</a><span>|</span><label class="collapse" for="c-42285607">[-]</label><label class="expand" for="c-42285607">[6 more]</label></div><br/><div class="children"><div class="content">You don&#x27;t have to be to see bug reports, bug fix patches, or test it yourself, of course. &quot;Filesystem guys&quot; also tend to wear rose colored glasses when it comes to their filesystem, at times (ext2, xfs, btrfs, etc.)</div><br/><div id="42285700" class="c"><input type="checkbox" id="c-42285700" checked=""/><div class="controls bullet"><span class="by">koverstreet</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42285607">parent</a><span>|</span><a href="#42284885">next</a><span>|</span><label class="collapse" for="c-42285700">[-]</label><label class="expand" for="c-42285700">[5 more]</label></div><br/><div class="children"><div class="content">Linus absolutely does jump in on VFS level bugs when necessary (and major respect for that; he doesn&#x27;t rest on laurels and he&#x27;s always got his priorities in the right place) - but there&#x27;s only so much he can keep track of, and the complexity of a modern filesystem tends to dwarf other subsystems.<p>The people at the top explicitly don&#x27;t and can&#x27;t keep track of everything, there&#x27;s a lot of stuff (e.g. testing) that they leave to other people - and I do fault them for that a bit; we badly need to get a bit more organized on test infrastructure.<p>And I wouldn&#x27;t say that filesystem people in general wear rose colored glasses; I would categorize Dave Chinner and Ted T&#x27;so more in the hard nosed realistic category, and myself as well. I&#x27;d say it&#x27;s just the btrfs folks who&#x27;ve had that fault in the past, and I think Josef has had more than enough experience at this point to learn that lesson.</div><br/><div id="42285851" class="c"><input type="checkbox" id="c-42285851" checked=""/><div class="controls bullet"><span class="by">starspangled</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42285700">parent</a><span>|</span><a href="#42284885">next</a><span>|</span><label class="collapse" for="c-42285851">[-]</label><label class="expand" for="c-42285851">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Linus absolutely does jump in on VFS level bugs when necessary (and major respect for that; he doesn&#x27;t rest on laurels and he&#x27;s always got his priorities in the right place) - but there&#x27;s only so much he can keep track of, and the complexity of a modern filesystem tends to dwarf other subsystems.<p>The point is he doesn&#x27;t have to understand details of the code to see bug reports and code churn and bug fix commits and have a reasonable idea of whether it&#x27;s stable enough for end users. I would trust him to make that call more than a &quot;filesystem guy&quot;, in fact.<p>&gt; The people at the top explicitly don&#x27;t and can&#x27;t keep track of everything, there&#x27;s a lot of stuff (e.g. testing) that they leave to other people - and I do fault them for that a bit; we badly need to get a bit more organized on test infrastructure.<p>Absolutely not on the top nodes. Testing has to be distributed and pushed down to end nodes where development happens or even below otherwise it does not scale.<p>&gt; And I wouldn&#x27;t say that filesystem people in general wear rose colored glasses;<p>Perhaps that&#x27;s what you see through your rose colored glasses? (sorry, just a cheeky dig).<p>&gt; I would categorize Dave Chinner and Ted T&#x27;so more in the hard nosed realistic category, and myself as well. I&#x27;d say it&#x27;s just the btrfs folks who&#x27;ve had that fault in the past, and I think Josef has had more than enough experience at this point to learn that lesson.<p>Dave Chinner for example would insist the file-of-zeroes problem of XFS is really not a problem. Not because he was flat wrong or consciously being biased for XFS I&#x27;m sure, but because according to the filesystem design and the system call interface and the big customers they talked to at SGI, it was operating completely as per specification.<p>I&#x27;m not singling out filesystem developers or any one person or even software development specifically. All complex projects need advocates and input from outside stakeholders (users, other software, etc) for this exact reason, is that those deep in the guts of it usually don&#x27;t understand all perspectives.</div><br/><div id="42286008" class="c"><input type="checkbox" id="c-42286008" checked=""/><div class="controls bullet"><span class="by">koverstreet</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42285851">parent</a><span>|</span><a href="#42284885">next</a><span>|</span><label class="collapse" for="c-42286008">[-]</label><label class="expand" for="c-42286008">[3 more]</label></div><br/><div class="children"><div class="content">&gt; The point is he doesn&#x27;t have to understand details of the code to see bug reports and code churn and bug fix commits and have a reasonable idea of whether it&#x27;s stable enough for end users. I would trust him to make that call more than a &quot;filesystem guy&quot;, in fact.<p>No, that&#x27;s not enough, and I would not call that kind of slagging good communication to users.<p>Seeing bugfixes go by doesn&#x27;t tell you that much, and it definitely doesn&#x27;t tell you which filesystem to recommend to users because other filesystems simply may not be fixing critical bugs.<p>Based on (a great many) user reports that I&#x27;ve seen, I actually have every reason to believe that your data is much safer on bcachefs than btrfs. I&#x27;m not shouting about that while I still have hardening to do, and my goal isn&#x27;t just to beat btrfs, it&#x27;s to beat ext4 and xfs as well: but given what I see I have to view Linus&#x27;s communications as irresponsible.<p>&gt; Absolutely not on the top nodes. Testing has to be distributed and pushed down to end nodes where development happens or even below otherwise it does not scale.<p>No, our testing situation is crap, and we need leadership that says more than &quot;not my problem&quot;.<p>&gt; Dave Chinner for example would insist the file-of-zeroes problem of XFS is really not a problem. Not because he was flat wrong or consciously being biased for XFS I&#x27;m sure, but because according to the filesystem design and the system call interface and the big customers they talked to at SGI, it was operating completely as per specification.<p>Well, he had a point, and you don&#x27;t want to be artificially injecting fsyncs because for applications that don&#x27;t need them that gets really expensive. Fsync is really expensive, and it impacts the whole system.<p>Now, it turned out there is a clever and more practical solution to this (which I stole from ext4), but you simply cannot expect any one person to know the perfect solution to every problem.<p>By way of example, I was in an argument with Linus a month or so ago where he was talking about filesystems that &quot;don&#x27;t need fsck&quot; (which is blatently impossible), and making &quot;2GB should be enough for anyone&quot; arguments. No one is right all the time, no one has all the answers - but if you go into a conversation assuming the domain experts aren&#x27;t actually the experts, that&#x27;s not a recipe for a productive conversation.</div><br/><div id="42286173" class="c"><input type="checkbox" id="c-42286173" checked=""/><div class="controls bullet"><span class="by">starspangled</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42286008">parent</a><span>|</span><a href="#42284885">next</a><span>|</span><label class="collapse" for="c-42286173">[-]</label><label class="expand" for="c-42286173">[2 more]</label></div><br/><div class="children"><div class="content">&gt; No, that&#x27;s not enough, and I would not call that kind of slagging good communication to users.<p>It is enough. Users need to be told when something is not stable or good enough.<p>&gt; Seeing bugfixes go by doesn&#x27;t tell you that much, and it definitely doesn&#x27;t tell you which filesystem to recommend to users because other filesystems simply may not be fixing critical bugs.<p>Cherry picking what I wrote. Bugfixes, code churn, and bug reports from users. It certainly tells someone like Linus a great deal without ever reading a single line of code.<p>&gt; Based on (a great many) user reports that I&#x27;ve seen, I actually have every reason to believe that your data is much safer on bcachefs than btrfs. I&#x27;m not shouting about that while I still have hardening to do, and my goal isn&#x27;t just to beat btrfs, it&#x27;s to beat ext4 and xfs as well: but given what I see I have to view Linus&#x27;s communications as irresponsible.<p>Being risk adverse with my data, I think Linus&#x27;s comment is a helpful and responsible one to balance other opinions.<p>&gt; No, our testing situation is crap, and we need leadership that says more than &quot;not my problem&quot;.<p>No. Testing is crap because developers and employers don&#x27;t put enough time into testing. They know what has to be done, leadership has told them what has to be done, common sense says what has to be done. They refuse to do it.<p>When code gets to a pull request for Linus it should have had enough testing (including integration testing via linux-next) that it is ready to be taken up by early user testers via Linus&#x27; tree. Distros and ISVs and IHVs and so on need to be testing there if not linux-next.<p>&gt; Well, he had a point, and you don&#x27;t want to be artificially injecting fsyncs because for applications that don&#x27;t need them that gets really expensive. Fsync is really expensive, and it impacts the whole system.<p>No it was never about fsync, it was about data writes that extend a file hitting persistent storage before inode length metadata write does. By careful reading of posix it may be allowed, as a quality of implementation for actual users (aside from administrator-intensive high end file servers and databases etc from SGI), it is the wrong thing to do. ext3 for example solved it with &quot;ordered&quot; journal mode (not fsync).<p>You can accept it is poor quality but decide you will do it anyway, but you can&#x27;t just say it&#x27;s not a problem because you language-lawyered POSIX and found out its okay, when you have application developers and users complaining about it.<p>&gt; By way of example, I was in an argument with Linus a month or so ago where he was talking about filesystems that &quot;don&#x27;t need fsck&quot; (which is blatently impossible), and making &quot;2GB should be enough for anyone&quot; arguments. No one is right all the time, no one has all the answers - but if you go into a conversation assuming the domain experts aren&#x27;t actually the experts, that&#x27;s not a recipe for a productive conversation.<p>I didn&#x27;t see that so I can&#x27;t really comment. It does not seem like it provides a counter example to what I wrote. I did not say Linus is never wrong. I have got into many flame wars with him so I would be the last to say he is always right. Domain experts are frequently wrong about their field of expertise too, <i>especially</i> in places where it interacts with things outside their field of expertise.</div><br/><div id="42286242" class="c"><input type="checkbox" id="c-42286242" checked=""/><div class="controls bullet"><span class="by">koverstreet</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42286173">parent</a><span>|</span><a href="#42284885">next</a><span>|</span><label class="collapse" for="c-42286242">[-]</label><label class="expand" for="c-42286242">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I didn&#x27;t see that so I can&#x27;t really comment. It does not seem like it provides a counter example to what I wrote. I did not say Linus is never wrong. I have got into many flame wars with him so I would be the last to say he is always right. Domain experts are frequently wrong about their field of expertise too, especially in places where it interacts with things outside their field of expertise.<p>You came in with an argument to authority, and now you&#x27;re saying you disagree with that authority yourself, but you trust that authority more than domain experts?<p>I don&#x27;t think you&#x27;ve fully thought this through...<p>Everyone believes what they read in the news, until they see it reporting on something they know about - and then they forget about it a week later and go back to trusting the news.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div id="42284885" class="c"><input type="checkbox" id="c-42284885" checked=""/><div class="controls bullet"><span class="by">mappu</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284437">parent</a><span>|</span><a href="#42284708">prev</a><span>|</span><a href="#42284447">next</a><span>|</span><label class="collapse" for="c-42284885">[-]</label><label class="expand" for="c-42284885">[2 more]</label></div><br/><div class="children"><div class="content">You can get data checksumming for any filesystem with dm-integrity.</div><br/><div id="42287025" class="c"><input type="checkbox" id="c-42287025" checked=""/><div class="controls bullet"><span class="by">kasabali</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284885">parent</a><span>|</span><a href="#42284447">next</a><span>|</span><label class="collapse" for="c-42287025">[-]</label><label class="expand" for="c-42287025">[1 more]</label></div><br/><div class="children"><div class="content">It has its own journaling mode just to really keep its integrity. Some things are just better solved at the filesystem level.</div><br/></div></div></div></div><div id="42284447" class="c"><input type="checkbox" id="c-42284447" checked=""/><div class="controls bullet"><span class="by">JackSlateur</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284437">parent</a><span>|</span><a href="#42284885">prev</a><span>|</span><a href="#42284216">next</a><span>|</span><label class="collapse" for="c-42284447">[-]</label><label class="expand" for="c-42284447">[1 more]</label></div><br/><div class="children"><div class="content">(read my comment again)</div><br/></div></div></div></div></div></div></div></div><div id="42284216" class="c"><input type="checkbox" id="c-42284216" checked=""/><div class="controls bullet"><span class="by">fragmede</span><span>|</span><a href="#42284146">parent</a><span>|</span><a href="#42284277">prev</a><span>|</span><a href="#42286507">next</a><span>|</span><label class="collapse" for="c-42284216">[-]</label><label class="expand" for="c-42284216">[7 more]</label></div><br/><div class="children"><div class="content">honestly I think btrfs isn&#x27;t bloated enough for today&#x27;s VM-enabled world. ext4 and xfs and hell, exfat haven&#x27;t gone anywhere, and if those fulfill your needs, just use those. but if you need more advanced features that btrfs or zfs bring, those added features are quite welcome. imo, btrfs could use the benefits of being a cluster filesystem on top of everything it already does because having a VM be able to access a disk that is currently mounted by the host or another VM would useful. imagine if the disk exported to the VM could be mounted by another VM, either locally or remote simultaneously. arguably ceph fills this need, but having a btrfs-native solution for that would be useful.</div><br/><div id="42284340" class="c"><input type="checkbox" id="c-42284340" checked=""/><div class="controls bullet"><span class="by">ChocolateGod</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284216">parent</a><span>|</span><a href="#42284444">next</a><span>|</span><label class="collapse" for="c-42284340">[-]</label><label class="expand" for="c-42284340">[5 more]</label></div><br/><div class="children"><div class="content">Running VMs (and database servers) on btrfs performs really bad so you have to disable CoW for them.<p>Otherwise you&#x27;ll get situations where your 100GB VM image will use over a TB of physical disk space.<p>It&#x27;s a shame really that this still isn&#x27;t solved.</div><br/><div id="42285438" class="c"><input type="checkbox" id="c-42285438" checked=""/><div class="controls bullet"><span class="by">jeroenhd</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284340">parent</a><span>|</span><a href="#42285054">next</a><span>|</span><label class="collapse" for="c-42285438">[-]</label><label class="expand" for="c-42285438">[1 more]</label></div><br/><div class="children"><div class="content">CoW won&#x27;t necessarily make the VM image bloated. In fact, as I&#x27;ve foolishly found out, BTRFS can be quite useful for deduplicating very similar VMs at the block level, at the cost of needing to re-allocate new disk space on writes. In my VM archive, six 50 GiB virtual machines took up 52 GiB rather than 300 GiB and that was quite impressive.<p>Many downsides to CoW are also present with many common alternatives (i.e. thin LVM2 snapshots). Best to leave all of that off if you&#x27;re using spinning rust or native compression features, though.</div><br/></div></div><div id="42285054" class="c"><input type="checkbox" id="c-42285054" checked=""/><div class="controls bullet"><span class="by">ComputerGuru</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284340">parent</a><span>|</span><a href="#42285438">prev</a><span>|</span><a href="#42284781">next</a><span>|</span><label class="collapse" for="c-42285054">[-]</label><label class="expand" for="c-42285054">[2 more]</label></div><br/><div class="children"><div class="content">What’s the underlying issue? I used VMs with ZFS for storage for well over a decade with no issue.</div><br/><div id="42285520" class="c"><input type="checkbox" id="c-42285520" checked=""/><div class="controls bullet"><span class="by">dmm</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42285054">parent</a><span>|</span><a href="#42284781">next</a><span>|</span><label class="collapse" for="c-42285520">[-]</label><label class="expand" for="c-42285520">[1 more]</label></div><br/><div class="children"><div class="content">ZFS performs much better than btrfs with the many small writes that VMs produce. Why exactly is a great question. Maybe it has to do with the optimizations around the ZIL, the temporary area where sync writes are accumulated before they are written to the long-term spot.</div><br/></div></div></div></div><div id="42284781" class="c"><input type="checkbox" id="c-42284781" checked=""/><div class="controls bullet"><span class="by">Joe_Cool</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284340">parent</a><span>|</span><a href="#42285054">prev</a><span>|</span><a href="#42284444">next</a><span>|</span><label class="collapse" for="c-42284781">[-]</label><label class="expand" for="c-42284781">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think thin provisioning btrfs makes a lot of sense. Before disabling CoW I&#x27;d rather use a different filesystem.<p>Are you sure your TRIM is working and the VM disk image is compacting properly?
It&#x27;s working for me but not really great for fragmentation.</div><br/></div></div></div></div><div id="42284444" class="c"><input type="checkbox" id="c-42284444" checked=""/><div class="controls bullet"><span class="by">irusensei</span><span>|</span><a href="#42284146">root</a><span>|</span><a href="#42284216">parent</a><span>|</span><a href="#42284340">prev</a><span>|</span><a href="#42286507">next</a><span>|</span><label class="collapse" for="c-42284444">[-]</label><label class="expand" for="c-42284444">[1 more]</label></div><br/><div class="children"><div class="content">Checksum self healing on ZFS and BTRFS saved my data from janky custom NAS setups more times that I can count. Compression is also nice but the thing I like most is the possibility of creating many partition-like sub volumes without needing to allocate or manage space.</div><br/></div></div></div></div></div></div><div id="42286507" class="c"><input type="checkbox" id="c-42286507" checked=""/><div class="controls bullet"><span class="by">rurban</span><span>|</span><a href="#42284146">prev</a><span>|</span><label class="collapse" for="c-42286507">[-]</label><label class="expand" for="c-42286507">[2 more]</label></div><br/><div class="children"><div class="content">Why would someone do that? NTFS is stable, faster than btrfs and has all the same features.</div><br/><div id="42286827" class="c"><input type="checkbox" id="c-42286827" checked=""/><div class="controls bullet"><span class="by">rnd0</span><span>|</span><a href="#42286507">parent</a><span>|</span><label class="collapse" for="c-42286827">[-]</label><label class="expand" for="c-42286827">[1 more]</label></div><br/><div class="children"><div class="content">The only reason I can think of is so that they can use the same FS in both windows and linux -but with ntfs, they already can.<p>Mind you, with openzfs (<a href="https:&#x2F;&#x2F;openzfsonwindows.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;openzfsonwindows.org&#x2F;</a>) you get windows (flakey), freebsd, netbsd and linux but -as I said; I&#x27;m not sure zfs is super reliable on windows at this point.<p>Mind you, I just stick with ntfs -linux can see it, windows can see it and if there&#x27;s extra features btrfs provides they&#x27;re not ones I am missing.</div><br/></div></div></div></div></div></div></div></div></div></body></html>