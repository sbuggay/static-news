<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1686214885893" as="style"/><link rel="stylesheet" href="styles.css?v=1686214885893"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/nanochess/bootOS">A monolithic operating system in 512 bytes of x86 machine code</a> <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>annilt</span> | <span>26 comments</span></div><br/><div><div id="36234394" class="c"><input type="checkbox" id="c-36234394" checked=""/><div class="controls bullet"><span class="by">detrites</span><span>|</span><a href="#36236864">next</a><span>|</span><label class="collapse" for="c-36234394">[-]</label><label class="expand" for="c-36234394">[10 more]</label></div><br/><div class="children"><div class="content">Absolutely mad history here:<p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=20569438" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=20569438</a> (2019)<p>As a teaser, from the above:<p><i>&gt; For those not aware of the background, the author is a wizard from a secretive underground society of wizards known as the Familia Toledo; he and his family (it is a family) have been designing and building their own computers (and ancillary equipment like reflow ovens) and writing their own operating systems and web browsers for some 40 years now.</i></div><br/><div id="36238882" class="c"><input type="checkbox" id="c-36238882" checked=""/><div class="controls bullet"><span class="by">misja111</span><span>|</span><a href="#36234394">parent</a><span>|</span><a href="#36238724">next</a><span>|</span><label class="collapse" for="c-36238882">[-]</label><label class="expand" for="c-36238882">[1 more]</label></div><br/><div class="children"><div class="content">Assembly was one of the first languages that I wrote in when I learned to program in the 80&#x27;s, simply because other languages were too slow to develop games and other stuff. Since then I&#x27;ve switched to Pascal, Java, Scala, Python etc.
But sometimes I still miss the joy of micro-optimizing some assembly code until perfection.<p>This Toledo family is amazing. I wonder if this will be the future of SD craftmanship, now that Moore&#x27;s law seems to come to an end and we are forced to look at optimizing the performance of our software stack.</div><br/></div></div><div id="36238724" class="c"><input type="checkbox" id="c-36238724" checked=""/><div class="controls bullet"><span class="by">thom</span><span>|</span><a href="#36234394">parent</a><span>|</span><a href="#36238882">prev</a><span>|</span><a href="#36238686">next</a><span>|</span><label class="collapse" for="c-36238724">[-]</label><label class="expand" for="c-36238724">[1 more]</label></div><br/><div class="children"><div class="content">You can buy the annotated source code for Oscar Toledo G’s Nanochess here:<p><a href="http:&#x2F;&#x2F;www.amazon.com&#x2F;Toledo-Nanochess-commented-source-code&#x2F;dp&#x2F;1304864375" rel="nofollow">http:&#x2F;&#x2F;www.amazon.com&#x2F;Toledo-Nanochess-commented-source-code...</a><p>It was certainly a humbling experience for me.</div><br/></div></div><div id="36238686" class="c"><input type="checkbox" id="c-36238686" checked=""/><div class="controls bullet"><span class="by">silisili</span><span>|</span><a href="#36234394">parent</a><span>|</span><a href="#36238724">prev</a><span>|</span><a href="#36234703">next</a><span>|</span><label class="collapse" for="c-36238686">[-]</label><label class="expand" for="c-36238686">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve read about them before, and Oscar&#x27;s seemingly complete mastery of these type of things.<p>It makes me wonder what he does professionally, and how much it pays.  Is it a valuable(to companies) skill even?</div><br/></div></div><div id="36234703" class="c"><input type="checkbox" id="c-36234703" checked=""/><div class="controls bullet"><span class="by">actionfromafar</span><span>|</span><a href="#36234394">parent</a><span>|</span><a href="#36238686">prev</a><span>|</span><a href="#36236277">next</a><span>|</span><label class="collapse" for="c-36234703">[-]</label><label class="expand" for="c-36234703">[1 more]</label></div><br/><div class="children"><div class="content">It&#x27;s so incredible I can&#x27;t digest it.</div><br/></div></div><div id="36236277" class="c"><input type="checkbox" id="c-36236277" checked=""/><div class="controls bullet"><span class="by">brutusborn</span><span>|</span><a href="#36234394">parent</a><span>|</span><a href="#36234703">prev</a><span>|</span><a href="#36236127">next</a><span>|</span><label class="collapse" for="c-36236277">[-]</label><label class="expand" for="c-36236277">[1 more]</label></div><br/><div class="children"><div class="content">Another HN thread on Toledo:
<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=28337064" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=28337064</a></div><br/></div></div><div id="36236127" class="c"><input type="checkbox" id="c-36236127" checked=""/><div class="controls bullet"><span class="by">29athrowaway</span><span>|</span><a href="#36234394">parent</a><span>|</span><a href="#36236277">prev</a><span>|</span><a href="#36237674">next</a><span>|</span><label class="collapse" for="c-36236127">[-]</label><label class="expand" for="c-36236127">[2 more]</label></div><br/><div class="children"><div class="content">Underground but with an Internet website, github and HN account? probably you are hyping it a bit too much.<p><a href="http:&#x2F;&#x2F;www.biyubi.com&#x2F;eng_principal.html" rel="nofollow">http:&#x2F;&#x2F;www.biyubi.com&#x2F;eng_principal.html</a><p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;from?site=github.com&#x2F;nanochess" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;from?site=github.com&#x2F;nanochess</a><p><a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;user?id=nanochess" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;user?id=nanochess</a></div><br/><div id="36238767" class="c"><input type="checkbox" id="c-36238767" checked=""/><div class="controls bullet"><span class="by">detrites</span><span>|</span><a href="#36234394">root</a><span>|</span><a href="#36236127">parent</a><span>|</span><a href="#36237674">next</a><span>|</span><label class="collapse" for="c-36238767">[-]</label><label class="expand" for="c-36238767">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Hyping&quot;? My own opinion was presented as-is, without any exaggeration.<p>Anyway thanks for the links!</div><br/></div></div></div></div><div id="36237674" class="c"><input type="checkbox" id="c-36237674" checked=""/><div class="controls bullet"><span class="by">Solvency</span><span>|</span><a href="#36234394">parent</a><span>|</span><a href="#36236127">prev</a><span>|</span><a href="#36235653">next</a><span>|</span><label class="collapse" for="c-36237674">[-]</label><label class="expand" for="c-36237674">[1 more]</label></div><br/><div class="children"><div class="content">This reads very aggrandizing and hyperbolic.</div><br/></div></div><div id="36235653" class="c"><input type="checkbox" id="c-36235653" checked=""/><div class="controls bullet"><span class="by">gigel82</span><span>|</span><a href="#36234394">parent</a><span>|</span><a href="#36237674">prev</a><span>|</span><a href="#36236864">next</a><span>|</span><label class="collapse" for="c-36235653">[-]</label><label class="expand" for="c-36235653">[1 more]</label></div><br/><div class="children"><div class="content">Well now you made me curious to learn more about this mythical OS and browser... any leads?</div><br/></div></div></div></div><div id="36236864" class="c"><input type="checkbox" id="c-36236864" checked=""/><div class="controls bullet"><span class="by">dhosek</span><span>|</span><a href="#36234394">prev</a><span>|</span><a href="#36238143">next</a><span>|</span><label class="collapse" for="c-36236864">[-]</label><label class="expand" for="c-36236864">[1 more]</label></div><br/><div class="children"><div class="content">Kind of reminds me of writing single-sector bootloaders¹ for the Apple ][. The idea was that you wouldn’t have DOS on a floppy disk to free up that storage for other stuff, but then if you accidentally turned on your computer with that disk in the drive, you’d want a nice message letting you know you messed up and a prompt so you could put in a DOS disk and boot up properly.<p>⸻<p>1. It might have been a whole track on the disk, it’s hard to remember the details of this when it’s 37 years since I last used an Apple ][.</div><br/></div></div><div id="36238143" class="c"><input type="checkbox" id="c-36238143" checked=""/><div class="controls bullet"><span class="by">petabytes</span><span>|</span><a href="#36236864">prev</a><span>|</span><a href="#36234440">next</a><span>|</span><label class="collapse" for="c-36238143">[-]</label><label class="expand" for="c-36238143">[1 more]</label></div><br/><div class="children"><div class="content">Reminds me of the 256 byte OS I made, which was really just a BrainFuck ripoff with a prompt. Went on to make a huge assembler and &quot;kernel&quot; for it.</div><br/></div></div><div id="36234440" class="c"><input type="checkbox" id="c-36234440" checked=""/><div class="controls bullet"><span class="by">CephalopodMD</span><span>|</span><a href="#36238143">prev</a><span>|</span><a href="#36235243">next</a><span>|</span><label class="collapse" for="c-36234440">[-]</label><label class="expand" for="c-36234440">[1 more]</label></div><br/><div class="children"><div class="content">Sounds a bit like wozmon. Neat!</div><br/></div></div><div id="36235243" class="c"><input type="checkbox" id="c-36235243" checked=""/><div class="controls bullet"><span class="by">nico</span><span>|</span><a href="#36234440">prev</a><span>|</span><a href="#36234542">next</a><span>|</span><label class="collapse" for="c-36235243">[-]</label><label class="expand" for="c-36235243">[6 more]</label></div><br/><div class="children"><div class="content">This is amazing<p>Would love to see something like this that boots into a chat with either a local or remote LLM</div><br/><div id="36237971" class="c"><input type="checkbox" id="c-36237971" checked=""/><div class="controls bullet"><span class="by">renonce</span><span>|</span><a href="#36235243">parent</a><span>|</span><a href="#36235610">next</a><span>|</span><label class="collapse" for="c-36237971">[-]</label><label class="expand" for="c-36237971">[2 more]</label></div><br/><div class="children"><div class="content">Let&#x27;s find a way to fit an LLM into 512 bytes!</div><br/><div id="36238581" class="c"><input type="checkbox" id="c-36238581" checked=""/><div class="controls bullet"><span class="by">Sharlin</span><span>|</span><a href="#36235243">root</a><span>|</span><a href="#36237971">parent</a><span>|</span><a href="#36235610">next</a><span>|</span><label class="collapse" for="c-36238581">[-]</label><label class="expand" for="c-36238581">[1 more]</label></div><br/><div class="children"><div class="content">Large language model (for certain values of &quot;large&quot;)</div><br/></div></div></div></div><div id="36235610" class="c"><input type="checkbox" id="c-36235610" checked=""/><div class="controls bullet"><span class="by">thelastparadise</span><span>|</span><a href="#36235243">parent</a><span>|</span><a href="#36237971">prev</a><span>|</span><a href="#36234542">next</a><span>|</span><label class="collapse" for="c-36235610">[-]</label><label class="expand" for="c-36235610">[3 more]</label></div><br/><div class="children"><div class="content">What? Why?</div><br/><div id="36235995" class="c"><input type="checkbox" id="c-36235995" checked=""/><div class="controls bullet"><span class="by">PTOB</span><span>|</span><a href="#36235243">root</a><span>|</span><a href="#36235610">parent</a><span>|</span><a href="#36236101">next</a><span>|</span><label class="collapse" for="c-36235995">[-]</label><label class="expand" for="c-36235995">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m just a language model, so I&#x27;m not able to answer moral questions.</div><br/></div></div><div id="36236101" class="c"><input type="checkbox" id="c-36236101" checked=""/><div class="controls bullet"><span class="by">nico</span><span>|</span><a href="#36235243">root</a><span>|</span><a href="#36235610">parent</a><span>|</span><a href="#36235995">prev</a><span>|</span><a href="#36234542">next</a><span>|</span><label class="collapse" for="c-36236101">[-]</label><label class="expand" for="c-36236101">[1 more]</label></div><br/><div class="children"><div class="content">Don’t know why, just know I’d love to have that</div><br/></div></div></div></div></div></div><div id="36234542" class="c"><input type="checkbox" id="c-36234542" checked=""/><div class="controls bullet"><span class="by">bmacho</span><span>|</span><a href="#36235243">prev</a><span>|</span><label class="collapse" for="c-36234542">[-]</label><label class="expand" for="c-36234542">[6 more]</label></div><br/><div class="children"><div class="content">Why is it monolithic? Why not microkernel? Especially that all the typical jobs of an operating system are outsourced.</div><br/><div id="36235321" class="c"><input type="checkbox" id="c-36235321" checked=""/><div class="controls bullet"><span class="by">oso2k</span><span>|</span><a href="#36234542">parent</a><span>|</span><a href="#36235268">next</a><span>|</span><label class="collapse" for="c-36235321">[-]</label><label class="expand" for="c-36235321">[2 more]</label></div><br/><div class="children"><div class="content">Strictly speaking, a monolithic kernel is one which builds in all the code to operate: talk to hardware, load programs, perform its services or even include the ability to load drivers&#x2F;code to talk to other hardware.  All of the key functionality is loaded into the kernel program space but that is usually separate from user space or process space.  Dumb programs; smart kernel.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Monolithic_kernel" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Monolithic_kernel</a><p>A microkernel has a much more limited scope, sometimes just the ability to pass messages or data between processes, and may exclude most of the functionality to talk to hardware.   The microkernel program space is separated from user space, process space and driver space.   Dumb kernel; smart programs.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Microkernel" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Microkernel</a></div><br/><div id="36238397" class="c"><input type="checkbox" id="c-36238397" checked=""/><div class="controls bullet"><span class="by">jacquesm</span><span>|</span><a href="#36234542">root</a><span>|</span><a href="#36235321">parent</a><span>|</span><a href="#36235268">next</a><span>|</span><label class="collapse" for="c-36238397">[-]</label><label class="expand" for="c-36238397">[1 more]</label></div><br/><div class="children"><div class="content">A typical microkernel will have user programs that drive the hardware that expose a very similar interface to what a macrokernel would provide, from the application level there isn&#x27;t a whole lot of visible difference but at the system level there is, essentially the macrokernel is broken up into a number of separate processes each of which is fashioned as a &#x27;normal&#x27; user program. This significantly reduces the scope of the kernel itself which has a whole pile of interesting implications which usually manifest as massive reliability improvements over macro kernels, a penalty in raw io throughput and the ability to elegantly (on the fly) load and unload all kinds of OS components without the need to reboot the system.<p>But there usually is a clear distinction between such &#x27;kernel processes&#x27; and user applications, they also tend to be run at a slightly higher priority to ensure that the system keeps moving.</div><br/></div></div></div></div><div id="36235268" class="c"><input type="checkbox" id="c-36235268" checked=""/><div class="controls bullet"><span class="by">jandrese</span><span>|</span><a href="#36234542">parent</a><span>|</span><a href="#36235321">prev</a><span>|</span><a href="#36234920">next</a><span>|</span><label class="collapse" for="c-36235268">[-]</label><label class="expand" for="c-36235268">[1 more]</label></div><br/><div class="children"><div class="content">How much separation are you expecting from half a kilobyte of code?</div><br/></div></div><div id="36234920" class="c"><input type="checkbox" id="c-36234920" checked=""/><div class="controls bullet"><span class="by">Arch-TK</span><span>|</span><a href="#36234542">parent</a><span>|</span><a href="#36235268">prev</a><span>|</span><label class="collapse" for="c-36234920">[-]</label><label class="expand" for="c-36234920">[2 more]</label></div><br/><div class="children"><div class="content">I think the infrastructure required for a microkernel would have more features than this OS. It really is incredibly barebones and that&#x27;s why it is monolithic. That being said, I guess it&#x27;s maybe possible.</div><br/><div id="36238003" class="c"><input type="checkbox" id="c-36238003" checked=""/><div class="controls bullet"><span class="by">kramerger</span><span>|</span><a href="#36234542">root</a><span>|</span><a href="#36234920">parent</a><span>|</span><label class="collapse" for="c-36238003">[-]</label><label class="expand" for="c-36238003">[1 more]</label></div><br/><div class="children"><div class="content">Warning: big piece of opinion that may trigger some of you.<p>In practice (feel free to verify this yourself by downloading and building the latest L4 derivative), microkernels that actually work on modern hardware need a huge amount of baseline code to get IPC and memory server working in a distributed yet somewhat performant fashion.<p>There is a flag for compiling Linux without any hardware and filesystem drivers. That gives you the kernel core in a surprising small binary which is not that far from sel4 or okl4.<p>In summary, monolithic is the new microkernel :)</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>