<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1729587670586" as="style"/><link rel="stylesheet" href="styles.css?v=1729587670586"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://civet.dev/">Civet: A Superset of TypeScript</a> <span class="domain">(<a href="https://civet.dev">civet.dev</a>)</span></div><div class="subtext"><span>revskill</span> | <span>92 comments</span></div><br/><div><div id="41909699" class="c"><input type="checkbox" id="c-41909699" checked=""/><div class="controls bullet"><span class="by">danpalmer</span><span>|</span><a href="#41912030">next</a><span>|</span><label class="collapse" for="c-41909699">[-]</label><label class="expand" for="c-41909699">[22 more]</label></div><br/><div class="children"><div class="content">Civet. Kopi luwak coffee. It&#x27;s CoffeeScript.<p>I wrote a bunch of CoffeeScript back in the day, and everyone I&#x27;ve spoken to about it feels the same, that it was a bad idea in hindsight, and a language dead end. The language was only syntactic sugar, and by not bringing anything else to the table, was unconvincing for ports and support in other ecosystems. It now seems that most codebases have been decaffeinated though.<p>Civet looks like it adds a little more, but the things that aren&#x27;t just syntactic sugar are just a grab bag of TC39 proposals. I&#x27;m a big fan of language proposals in general, and having a language that adds all of them for <i>research purposes</i> seems like a nice thing to have. Haskell did this well with GHC language options. Is this a research language though? It seems not.<p>What&#x27;s the benefit over Typescript? A few less characters? Faster TC39 proposal integrations? What happens if a proposal is rejected, does it get removed from Civet? What&#x27;s the cost? What happens as Typescript and Civet diverge? What if the TS tooling doesn&#x27;t support Civet features?</div><br/><div id="41909868" class="c"><input type="checkbox" id="c-41909868" checked=""/><div class="controls bullet"><span class="by">arp242</span><span>|</span><a href="#41909699">parent</a><span>|</span><a href="#41909965">next</a><span>|</span><label class="collapse" for="c-41909868">[-]</label><label class="expand" for="c-41909868">[4 more]</label></div><br/><div class="children"><div class="content">&gt; I wrote a bunch of CoffeeScript back in the day, and everyone I&#x27;ve spoken to about it feels the same, that it was a bad idea in hindsight<p>I don&#x27;t think it was a bad idea in hindsight.<p>JS of the era was a pain to use; CoffeeScript made writing and reading things much easier, which is the reason it took off. Since then things changed and many &quot;CoffeeScript features&quot; are now &quot;JavaScript features&quot;. Only with knowledge of that future would it be a &quot;bad idea&quot;, but it was absolutely not clear that was going to happen back in 2010 and in alternative universes we&#x27;re all writing CoffeeScript today.<p>I also think CoffeeScript was probably helpful in getting some of these features adopted in the first place.<p>The same applies to TypeScript – maybe typing will be added to JavaScript, and TypeScript will become redundant – I think there was some proposal and who knows what will happen. In 15 years we can say the same about TypeScript, but that doesn&#x27;t mean TypeScript wasn&#x27;t useful today, with the current state of JavaScript and uncertainty what the future may or may not bring.</div><br/><div id="41910016" class="c"><input type="checkbox" id="c-41910016" checked=""/><div class="controls bullet"><span class="by">danpalmer</span><span>|</span><a href="#41909699">root</a><span>|</span><a href="#41909868">parent</a><span>|</span><a href="#41909965">next</a><span>|</span><label class="collapse" for="c-41910016">[-]</label><label class="expand" for="c-41910016">[3 more]</label></div><br/><div class="children"><div class="content">&gt; CoffeeScript made writing and reading things much easier<p>My point is that it kinda didn&#x27;t. It looked prettier on the surface, but didn&#x27;t actually solve any of the deeper problems of writing JavaScript. To write CoffeeScript you had to still know JavaScript and all its oddities.<p>TypeScript solved those problems, and that&#x27;s why it has taken off and had a meteoric rise to the point that it&#x27;s practically synonymous with JavaScript.<p>&gt; I also think CoffeeScript was probably helpful in getting some of these features adopted in the first place.<p>This may be true, but if so that suggests a benefit as a research language not a production language.</div><br/><div id="41910482" class="c"><input type="checkbox" id="c-41910482" checked=""/><div class="controls bullet"><span class="by">dgoldstein0</span><span>|</span><a href="#41909699">root</a><span>|</span><a href="#41910016">parent</a><span>|</span><a href="#41909965">next</a><span>|</span><label class="collapse" for="c-41910482">[-]</label><label class="expand" for="c-41910482">[2 more]</label></div><br/><div class="children"><div class="content">Coffeescript had some great features: classes, array comprehensions, default parameter values, arrow functions, optional chaining.  Many of these eventually made it to ecmascript.<p>And then it ruined us with implicit returns, optional parentheses and brackets, and the isnt vs is not fiasco.<p>I worked a lot with Python and coffeescript at the same time back in the day.  In Python you mess up your whitespace and 95% of the time it&#x27;s an indentation error.  In coffeescript it&#x27;s a valid program that means something completely different than what you intended.  Combined with the optional punctuation, which the community encouraged leaning into, it was far too easy to write ambiguous code that you and the compiler would come to different interpretations of.</div><br/><div id="41910863" class="c"><input type="checkbox" id="c-41910863" checked=""/><div class="controls bullet"><span class="by">edemaine</span><span>|</span><a href="#41909699">root</a><span>|</span><a href="#41910482">parent</a><span>|</span><a href="#41909965">next</a><span>|</span><label class="collapse" for="c-41910863">[-]</label><label class="expand" for="c-41910863">[1 more]</label></div><br/><div class="children"><div class="content">In case you wondered how Civet compared to CoffeeScript in these regards:<p>* `is not` is the textual equivalent of `!==`. You can use `isnt` if you turn on the feature explicitly (or even the weird CoffeeScript `is not` behavior if you want it, mainly for legacy code)<p>* Implicit returns are turned on by default. They are really useful, most of the time, and don&#x27;t get in the way much if you use `void` return annotations (which turns them off). But if you don&#x27;t like them, you can turn them off globally with a compiler flag.<p>* Civet&#x27;s compiler is built on very different technology from CoffeeScript&#x27;s (PEG parsing, similar to Python), and it is much more strict about indentation. None of those weird bugs anymore.<p>* We do have implicit parentheses and braces and such, but you&#x27;re free to use explicit parentheses and braces as you like. We encourage people to rename their .ts files into .civet (which mostly just works without any converison) and just embrace the features&#x2F;syntax they like.</div><br/></div></div></div></div></div></div></div></div><div id="41909965" class="c"><input type="checkbox" id="c-41909965" checked=""/><div class="controls bullet"><span class="by">emmanueloga_</span><span>|</span><a href="#41909699">parent</a><span>|</span><a href="#41909868">prev</a><span>|</span><a href="#41910714">next</a><span>|</span><label class="collapse" for="c-41909965">[-]</label><label class="expand" for="c-41909965">[4 more]</label></div><br/><div class="children"><div class="content">CoffeeScript was not only a great idea but also successful beyond its adoption. It influenced and inspired many features that JavaScript later incorporated, such as arrow functions and destructuring assignments.<p>Over time, JavaScript evolved to the point where the few quality of life improvements offered by CoffeeScript no longer justified learning an entirely new syntax.</div><br/><div id="41910003" class="c"><input type="checkbox" id="c-41910003" checked=""/><div class="controls bullet"><span class="by">MajimasEyepatch</span><span>|</span><a href="#41909699">root</a><span>|</span><a href="#41909965">parent</a><span>|</span><a href="#41910388">next</a><span>|</span><label class="collapse" for="c-41910003">[-]</label><label class="expand" for="c-41910003">[1 more]</label></div><br/><div class="children"><div class="content">I sometimes wonder if Kotlin will end up on the same trajectory. Java has added a lot of pretty good features since Kotlin first came on the scene, and the gap has narrowed considerably. The one thing enormous thing that Kotlin has that cannot be replicated easily in Java is null safety. But lately, most of the other features in Kotlin either make me long for something more powerful like Scala or shrug and just fall back to Java.<p>Admittedly, I don&#x27;t do much Android development, and that was a big driver of Kotlin&#x27;s adoption early on. So maybe it has more of a foothold there than on the server.</div><br/></div></div><div id="41910388" class="c"><input type="checkbox" id="c-41910388" checked=""/><div class="controls bullet"><span class="by">btown</span><span>|</span><a href="#41909699">root</a><span>|</span><a href="#41909965">parent</a><span>|</span><a href="#41910003">prev</a><span>|</span><a href="#41911158">next</a><span>|</span><label class="collapse" for="c-41910388">[-]</label><label class="expand" for="c-41910388">[1 more]</label></div><br/><div class="children"><div class="content">And beyond this, there’s very much a world where a few key people don’t discover Jeremy Ashkenas’ work - much of which, between CoffeeScript and Backbone, was the excitement that you could make JS feel agile - at the right time in their careers to push the industry in the direction where frontend developers become frontend engineers. We owe so much to these stepping stones.</div><br/></div></div><div id="41911158" class="c"><input type="checkbox" id="c-41911158" checked=""/><div class="controls bullet"><span class="by">mrj</span><span>|</span><a href="#41909699">root</a><span>|</span><a href="#41909965">parent</a><span>|</span><a href="#41910388">prev</a><span>|</span><a href="#41910714">next</a><span>|</span><label class="collapse" for="c-41911158">[-]</label><label class="expand" for="c-41911158">[1 more]</label></div><br/><div class="children"><div class="content">Well, yeah that was expressly known about CoffeeScript. It pushed JS to the future and was expected to be not useful whenever JS gained more features, but that would take a long time. And some of the syntax features weren&#x27;t adopted, which meant CoffeeScript seems like a different thing from JS but it wasn&#x27;t intended to be a departure or permanent.<p>But JS moved faster and babel was made and eventually we could use JS-future even when browsers hadn&#x27;t updated yet and CoffeeScript wasn&#x27;t needed. But it was pretty easy to translate it to JS, commit that and keep rolling. CS was great at the time.</div><br/></div></div></div></div><div id="41910714" class="c"><input type="checkbox" id="c-41910714" checked=""/><div class="controls bullet"><span class="by">edemaine</span><span>|</span><a href="#41909699">parent</a><span>|</span><a href="#41909965">prev</a><span>|</span><a href="#41910789">next</a><span>|</span><label class="collapse" for="c-41910714">[-]</label><label class="expand" for="c-41910714">[2 more]</label></div><br/><div class="children"><div class="content">One of the Civet devs here. To me, the main benefit of Civet is the ability to rapidly add useful features to the language, while preserving all the benefits of TS (tooling, etc.). We&#x27;re constantly coming up with ideas — from TC39 proposals, other languages, or general brainstorming — and implementing them quickly. For example, we recently added pattern matching when catching exceptions, which took just a couple of hours of development; or Python-style from ... import ... for better autocompletion of imports. All of these features are optional; you can write well-formed TypeScript as usual, and just choose to use the features you think are worth the learning curve for readers. The plugins for VSCode, Vite, esbuild, Webpack, eslint, etc. aren&#x27;t perfect, but they let Civet code enjoy most of the tooling out there.<p>I personally use Civet for all my coding projects, as I&#x27;m devoted to it continuing to flourish. But if you ever don&#x27;t like what Civet is offering you, you can eject at any time by replacing your code with the TypeScript compilation, which we make as close as we can to your input.<p>What happens if a TC39 proposal is rejected? That&#x27;s actually the good case for us, because it means we can keep the feature as is. Civet already transpiles all features to TypeScript, so they can live here forever if we think they&#x27;re good. The trickier part is when Java&#x2F;TypeScript changes in a way that&#x27;s incompatible with Civet. Then we plan to change Civet to match Java&#x2F;TypeScript, so that we don&#x27;t diverge (though compiler flags allow us to also support the older form with explicit opt-in if we think it&#x27;s worth doing so).<p>JavaScript and TypeScript move slow. Largely that&#x27;s a good thing; they&#x27;re a stable foundation, and we don&#x27;t want to mess them up. But it&#x27;s also exciting to be on the bleeding edge, explore new ideas, and obtain new features as quickly as we can design them, instead of waiting a decade. Many features are also too niche &#x2F; add to much complexity for the general JavaScript language, but they&#x27;re still fair game for languages that transpile to JavaScript. See also the recent JS0 vs. JSSugar discussion.</div><br/><div id="41911084" class="c"><input type="checkbox" id="c-41911084" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#41909699">root</a><span>|</span><a href="#41910714">parent</a><span>|</span><a href="#41910789">next</a><span>|</span><label class="collapse" for="c-41911084">[-]</label><label class="expand" for="c-41911084">[1 more]</label></div><br/><div class="children"><div class="content">I think you need to drop or at least weaken an inspiration from CoffeeScript if that&#x27;s a goal, otherwise everyone will immediately draw a connection to that and overlook any other aspect of Civet. (I personally hate CoffeeScript especially for its indentation and that contributed to my initial reaction.) You can&#x27;t solve this problem with simply supporting two radically different coding styles---the front page seems to prefer one over another anyway.</div><br/></div></div></div></div><div id="41910789" class="c"><input type="checkbox" id="c-41910789" checked=""/><div class="controls bullet"><span class="by">mistercow</span><span>|</span><a href="#41909699">parent</a><span>|</span><a href="#41910714">prev</a><span>|</span><a href="#41911445">next</a><span>|</span><label class="collapse" for="c-41910789">[-]</label><label class="expand" for="c-41910789">[3 more]</label></div><br/><div class="children"><div class="content">CoffeeScript was great except for a few fatal mistakes. The biggest was implicit variable declarations, which meant that to write maintainable code, you had to reintroduce explicit declarations via iifes. Otherwise, you’d risk a future code change introducing shadowing which would have consequences that were super painful to debug.<p>The other big one, which unfortunately Civet seems to be doing too, is implicit return combined with “everything is an expression”. You can have one of those, but not both. With both, it’s far too easy to write loops intended to be statements, and which accidentally turn into gigantic multi-dimensional array returns which can’t easily be optimized out by the compiler. Fortunately, this would be only mildly inconvenient to work around with a lint rule that forces explicit return in all functions.</div><br/><div id="41910888" class="c"><input type="checkbox" id="c-41910888" checked=""/><div class="controls bullet"><span class="by">edemaine</span><span>|</span><a href="#41909699">root</a><span>|</span><a href="#41910789">parent</a><span>|</span><a href="#41911445">next</a><span>|</span><label class="collapse" for="c-41910888">[-]</label><label class="expand" for="c-41910888">[2 more]</label></div><br/><div class="children"><div class="content">You can also turn off implicit returns in Civet if you don&#x27;t like them. They also work well with TypeScript annotations: if you annotate a return value of `void`, then there&#x27;s no implicit return.<p>I agree it can be easy to make and throw away big arrays if you&#x27;re not aware of what&#x27;s going on.  But it can also save a lot of time.  For loops as arrays are super useful, integrating the equivalent of &quot;map&quot; into the language itself.  We also recently added generator versions (for*).  JSX is a nice example where for loops as expressions and implicit return are powerful; see e.g. <a href="https:&#x2F;&#x2F;civet.dev&#x2F;reference#code-children" rel="nofollow">https:&#x2F;&#x2F;civet.dev&#x2F;reference#code-children</a></div><br/><div id="41910954" class="c"><input type="checkbox" id="c-41910954" checked=""/><div class="controls bullet"><span class="by">mistercow</span><span>|</span><a href="#41909699">root</a><span>|</span><a href="#41910888">parent</a><span>|</span><a href="#41911445">next</a><span>|</span><label class="collapse" for="c-41910954">[-]</label><label class="expand" for="c-41910954">[1 more]</label></div><br/><div class="children"><div class="content">Yeah those examples are compelling.<p>What might work well is a lint rule to error if a loop expression ends an actual function declaration (i.e. not an inline callback), and the function doesn’t explicitly define a return type. I think that catches almost every bad case, aside from the odd memory leak in really unusual edge cases.</div><br/></div></div></div></div></div></div><div id="41911445" class="c"><input type="checkbox" id="c-41911445" checked=""/><div class="controls bullet"><span class="by">acjohnson55</span><span>|</span><a href="#41909699">parent</a><span>|</span><a href="#41910789">prev</a><span>|</span><a href="#41909819">next</a><span>|</span><label class="collapse" for="c-41911445">[-]</label><label class="expand" for="c-41911445">[1 more]</label></div><br/><div class="children"><div class="content">CoffeeScript was great. It was vastly more pleasant to code in than ES5-era JS. Once ES6 came out, we simply migrated to it and moved on.</div><br/></div></div><div id="41909819" class="c"><input type="checkbox" id="c-41909819" checked=""/><div class="controls bullet"><span class="by">lgas</span><span>|</span><a href="#41909699">parent</a><span>|</span><a href="#41911445">prev</a><span>|</span><a href="#41909863">next</a><span>|</span><label class="collapse" for="c-41909819">[-]</label><label class="expand" for="c-41909819">[4 more]</label></div><br/><div class="children"><div class="content">I think everyone mostly agrees that CoffeeScript was a dead end, but I think it drove at lot of innovation at the time.  Hopefully Civet can do the same, even if it ends up being another dead end.</div><br/><div id="41909854" class="c"><input type="checkbox" id="c-41909854" checked=""/><div class="controls bullet"><span class="by">bhouston</span><span>|</span><a href="#41909699">root</a><span>|</span><a href="#41909819">parent</a><span>|</span><a href="#41909996">next</a><span>|</span><label class="collapse" for="c-41909854">[-]</label><label class="expand" for="c-41909854">[1 more]</label></div><br/><div class="children"><div class="content">CoffeScript was really good at driving innovation in JavaScript.  The arrow operator, string literals, and for...in&#x2F;for...of seemed to be driven specifically from CoffeeScript&#x27;s innovations.</div><br/></div></div><div id="41909996" class="c"><input type="checkbox" id="c-41909996" checked=""/><div class="controls bullet"><span class="by">danpalmer</span><span>|</span><a href="#41909699">root</a><span>|</span><a href="#41909819">parent</a><span>|</span><a href="#41909854">prev</a><span>|</span><a href="#41909863">next</a><span>|</span><label class="collapse" for="c-41909996">[-]</label><label class="expand" for="c-41909996">[2 more]</label></div><br/><div class="children"><div class="content">What makes Civet more likely to drive that innovation than TC39 proposals themselves?</div><br/><div id="41911461" class="c"><input type="checkbox" id="c-41911461" checked=""/><div class="controls bullet"><span class="by">Yahivin</span><span>|</span><a href="#41909699">root</a><span>|</span><a href="#41909996">parent</a><span>|</span><a href="#41909863">next</a><span>|</span><label class="collapse" for="c-41911461">[-]</label><label class="expand" for="c-41911461">[1 more]</label></div><br/><div class="children"><div class="content">We ship</div><br/></div></div></div></div></div></div><div id="41909863" class="c"><input type="checkbox" id="c-41909863" checked=""/><div class="controls bullet"><span class="by">reissbaker</span><span>|</span><a href="#41909699">parent</a><span>|</span><a href="#41909819">prev</a><span>|</span><a href="#41911310">next</a><span>|</span><label class="collapse" for="c-41909863">[-]</label><label class="expand" for="c-41909863">[1 more]</label></div><br/><div class="children"><div class="content">Considering it&#x27;s not <i>just</i> a grab-bag of TC39 proposals (e.g. removing braces), I suspect rejected TC39 proposals will just... linger.<p>I agree a research language feels potentially useful — and in fact that&#x27;s what CoffeeScript&#x27;s real legacy is (arrow functions, splats, destructuring assignments, and ES6 classes among others are direct ports of CoffeeScript syntax features, and many of the original JS class proposals that CoffeeScript-style classes replaced were quite bad) — but I&#x27;d be similarly leery of using this to ship much.</div><br/></div></div><div id="41911310" class="c"><input type="checkbox" id="c-41911310" checked=""/><div class="controls bullet"><span class="by">Yahivin</span><span>|</span><a href="#41909699">parent</a><span>|</span><a href="#41909863">prev</a><span>|</span><a href="#41911208">next</a><span>|</span><label class="collapse" for="c-41911310">[-]</label><label class="expand" for="c-41911310">[1 more]</label></div><br/><div class="children"><div class="content">Something interesting I&#x27;ve found while designing Civet is that TypeScript actually mitigates in a lot of the downsides of CoffeeScript.<p>Types help quite a bit with implicit returns so you don&#x27;t accidentally return an iteration results array from a void function.<p>They also help reduce the downsides of terse syntax, just hover over things in the IDE and see what they are. Missed a step in a pipeline? The IDE will warn you if there&#x27;s a mismatch.</div><br/></div></div><div id="41911208" class="c"><input type="checkbox" id="c-41911208" checked=""/><div class="controls bullet"><span class="by">Myrmornis</span><span>|</span><a href="#41909699">parent</a><span>|</span><a href="#41911310">prev</a><span>|</span><a href="#41912030">next</a><span>|</span><label class="collapse" for="c-41911208">[-]</label><label class="expand" for="c-41911208">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a really mean &#x2F; uncharitable take. As others have pointed out, coffeescript did a great job of moving the language in a good direction, and that&#x27;s presumably exactly what&#x27;s intended here.</div><br/></div></div></div></div><div id="41912030" class="c"><input type="checkbox" id="c-41912030" checked=""/><div class="controls bullet"><span class="by">vekker</span><span>|</span><a href="#41909699">prev</a><span>|</span><a href="#41911469">next</a><span>|</span><label class="collapse" for="c-41912030">[-]</label><label class="expand" for="c-41912030">[1 more]</label></div><br/><div class="children"><div class="content">This is terrible. I was so happy CoffeeScript died a quiet death. Now someone thinks of this.<p>Keep it simple. Code should be easy to read. Also, ain&#x27;t nobody got time to learn yet another obscure abstraction that will add only a marginal productivity gain at best (and probably sacrifice readability + add another build step + add another learning curve to new devs in the process).</div><br/></div></div><div id="41911469" class="c"><input type="checkbox" id="c-41911469" checked=""/><div class="controls bullet"><span class="by">vivzkestrel</span><span>|</span><a href="#41912030">prev</a><span>|</span><a href="#41909832">next</a><span>|</span><label class="collapse" for="c-41911469">[-]</label><label class="expand" for="c-41911469">[5 more]</label></div><br/><div class="children"><div class="content">Its not about how concise or short your code looks, its how about much time the new intern coming tomorrow needs to understand those 1000 line files. I find the syntax very hard to remember and confusing</div><br/><div id="41912297" class="c"><input type="checkbox" id="c-41912297" checked=""/><div class="controls bullet"><span class="by">progx</span><span>|</span><a href="#41911469">parent</a><span>|</span><a href="#41912337">next</a><span>|</span><label class="collapse" for="c-41912297">[-]</label><label class="expand" for="c-41912297">[1 more]</label></div><br/><div class="children"><div class="content">And in times of Copilot &amp; others writing become less and less a problem, as code completion works very well.<p>Like this example: <a href="https:&#x2F;&#x2F;civet.dev&#x2F;#everything-is-an-expression" rel="nofollow">https:&#x2F;&#x2F;civet.dev&#x2F;#everything-is-an-expression</a>
`items = for item of items`, in js you type `for`and copilot wrote nearly the full correct for-code. So you have to type not much and can read it easy.</div><br/></div></div><div id="41912337" class="c"><input type="checkbox" id="c-41912337" checked=""/><div class="controls bullet"><span class="by">speedgoose</span><span>|</span><a href="#41911469">parent</a><span>|</span><a href="#41912297">prev</a><span>|</span><a href="#41911761">next</a><span>|</span><label class="collapse" for="c-41912337">[-]</label><label class="expand" for="c-41912337">[1 more]</label></div><br/><div class="children"><div class="content">Some people don&#x27;t code for the interns but to have fun. But I agree this isn&#x27;t a very enterprise programming language, à la Java or Golang.</div><br/></div></div><div id="41911761" class="c"><input type="checkbox" id="c-41911761" checked=""/><div class="controls bullet"><span class="by">rochak</span><span>|</span><a href="#41911469">parent</a><span>|</span><a href="#41912337">prev</a><span>|</span><a href="#41909832">next</a><span>|</span><label class="collapse" for="c-41911761">[-]</label><label class="expand" for="c-41911761">[2 more]</label></div><br/><div class="children"><div class="content">Pretty much what I feel about Rust</div><br/><div id="41912350" class="c"><input type="checkbox" id="c-41912350" checked=""/><div class="controls bullet"><span class="by">aurareturn</span><span>|</span><a href="#41911469">root</a><span>|</span><a href="#41911761">parent</a><span>|</span><a href="#41909832">next</a><span>|</span><label class="collapse" for="c-41912350">[-]</label><label class="expand" for="c-41912350">[1 more]</label></div><br/><div class="children"><div class="content">Explain more?</div><br/></div></div></div></div></div></div><div id="41909832" class="c"><input type="checkbox" id="c-41909832" checked=""/><div class="controls bullet"><span class="by">rjknight</span><span>|</span><a href="#41911469">prev</a><span>|</span><a href="#41909709">next</a><span>|</span><label class="collapse" for="c-41909832">[-]</label><label class="expand" for="c-41909832">[3 more]</label></div><br/><div class="children"><div class="content">Some of these seem good to me:<p>- &quot;everything is an expression&quot; is a nicer solution for conditional assignments and returns than massive ternary expressions<p>- the pipe operator feels familiar from Elixir and is somewhat similar to Clojure&#x27;s threading macros.<p>- being able to use the spread operator in the middle of an array? Sure, I guess.<p>I <i>want</i> to like the pattern matching proposal, but the syntax looks slightly too minimal.<p>The other proposals are either neutral or bad, in my opinion. Custom infix operators? Unbraced object literals? I&#x27;m not sure that anyone has a problem that these things solve, other than trying to minimize the number of characters in their source code.<p>Still, I&#x27;m glad that this exists, because allowing people to play with these things and learn from them is a good way to figure out which proposals are worth pursuing. I just won&#x27;t be using it myself.</div><br/><div id="41912192" class="c"><input type="checkbox" id="c-41912192" checked=""/><div class="controls bullet"><span class="by">dgoldstein0</span><span>|</span><a href="#41909832">parent</a><span>|</span><a href="#41910448">next</a><span>|</span><label class="collapse" for="c-41912192">[-]</label><label class="expand" for="c-41912192">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ll pass on the pipe operator, but it&#x27;s not particularly objectionable.<p>Agree there&#x27;s some good ideas.  Pattern matching looks like a great idea with the wrong syntax - let&#x27;s just get a match statement similar to the switch statement - if we can&#x27;t reuse switch.<p>String dedent and chained comparisons look nice.  Though I think the latter is a breaking change if it were done in js.  I&#x27;d also be fine with default const for loop variables.<p>&quot;Export convenience&quot; is going to confuse people. The syntax looks different than named exports and looks closer to the export form of default imports which is begging for trouble.</div><br/></div></div><div id="41910448" class="c"><input type="checkbox" id="c-41910448" checked=""/><div class="controls bullet"><span class="by">btown</span><span>|</span><a href="#41909832">parent</a><span>|</span><a href="#41912192">prev</a><span>|</span><a href="#41909709">next</a><span>|</span><label class="collapse" for="c-41910448">[-]</label><label class="expand" for="c-41910448">[1 more]</label></div><br/><div class="children"><div class="content">For “everything is an expression” <a href="https:&#x2F;&#x2F;github.com&#x2F;tc39&#x2F;proposal-do-expressions">https:&#x2F;&#x2F;github.com&#x2F;tc39&#x2F;proposal-do-expressions</a> may be of interest, though discussion seems to have paused.</div><br/></div></div></div></div><div id="41909709" class="c"><input type="checkbox" id="c-41909709" checked=""/><div class="controls bullet"><span class="by">SSchick</span><span>|</span><a href="#41909832">prev</a><span>|</span><a href="#41912355">next</a><span>|</span><label class="collapse" for="c-41909709">[-]</label><label class="expand" for="c-41909709">[10 more]</label></div><br/><div class="children"><div class="content">Really redminds me of coffeescript, lots of special syntax that doesn&#x27;t really help readability?<p>I have a hard time understanding the motivation of this project other than syntactic sugar-maxxing JS&#x2F;TS.</div><br/><div id="41911232" class="c"><input type="checkbox" id="c-41911232" checked=""/><div class="controls bullet"><span class="by">Myrmornis</span><span>|</span><a href="#41909709">parent</a><span>|</span><a href="#41909943">next</a><span>|</span><label class="collapse" for="c-41911232">[-]</label><label class="expand" for="c-41911232">[1 more]</label></div><br/><div class="children"><div class="content">The motivation is giving people a chance to try these features and thus ultimately helping move the language in a good direction. That&#x27;s what coffeescript did also.</div><br/></div></div><div id="41909943" class="c"><input type="checkbox" id="c-41909943" checked=""/><div class="controls bullet"><span class="by">smt88</span><span>|</span><a href="#41909709">parent</a><span>|</span><a href="#41911232">prev</a><span>|</span><a href="#41912355">next</a><span>|</span><label class="collapse" for="c-41909943">[-]</label><label class="expand" for="c-41909943">[8 more]</label></div><br/><div class="children"><div class="content">Languages like this don&#x27;t make sense anymore. You can just pick a mature, feature-rich language you like (Rust, Kotlin, Python, probably many more) and transpile to JS.</div><br/><div id="41912167" class="c"><input type="checkbox" id="c-41912167" checked=""/><div class="controls bullet"><span class="by">chrismorgan</span><span>|</span><a href="#41909709">root</a><span>|</span><a href="#41909943">parent</a><span>|</span><a href="#41911317">next</a><span>|</span><label class="collapse" for="c-41912167">[-]</label><label class="expand" for="c-41912167">[1 more]</label></div><br/><div class="children"><div class="content">That approach only makes any sense if you have broadly compatible semantics; otherwise execution will pay a heavy penalty (CPU usage, memory usage, bundle size). And let me tell you, your “Rust, Kotlin, Python, probably many more” don’t transpile to JS well. If you genuinely mean <i>transpiling</i> as distinct from <i>compiling</i>, I think you could even reasonably say that it’s simply not possible for many languages due to fundamental and incompatible differences. I’d count Rust as that due to things like resolution and aliasing.<p>If you’re interested in targeting <i>JavaScript</i>, languages like this are your only reasonable alternative to JavaScript itself. (If you’re interested in targeting the web more generally, WebAssembly is a better target.)</div><br/></div></div><div id="41911317" class="c"><input type="checkbox" id="c-41911317" checked=""/><div class="controls bullet"><span class="by">Yahivin</span><span>|</span><a href="#41909709">root</a><span>|</span><a href="#41909943">parent</a><span>|</span><a href="#41912167">prev</a><span>|</span><a href="#41911986">next</a><span>|</span><label class="collapse" for="c-41911317">[-]</label><label class="expand" for="c-41911317">[3 more]</label></div><br/><div class="children"><div class="content">The GWT approach has its own downsides as well.</div><br/><div id="41911375" class="c"><input type="checkbox" id="c-41911375" checked=""/><div class="controls bullet"><span class="by">smt88</span><span>|</span><a href="#41909709">root</a><span>|</span><a href="#41911317">parent</a><span>|</span><a href="#41911986">next</a><span>|</span><label class="collapse" for="c-41911375">[-]</label><label class="expand" for="c-41911375">[2 more]</label></div><br/><div class="children"><div class="content">A) GWT is 20 years old and not similar to how modern transpilation works<p>B) What are the downsides?</div><br/><div id="41911481" class="c"><input type="checkbox" id="c-41911481" checked=""/><div class="controls bullet"><span class="by">Yahivin</span><span>|</span><a href="#41909709">root</a><span>|</span><a href="#41911375">parent</a><span>|</span><a href="#41911986">next</a><span>|</span><label class="collapse" for="c-41911481">[-]</label><label class="expand" for="c-41911481">[1 more]</label></div><br/><div class="children"><div class="content">The built in browser debugger is incredibly good. As long as the transpilation is simple and matches JS semantics you can still use the debugger. I haven&#x27;t seen good debugging tools when using languages more distant from JS but I&#x27;d love to know if they&#x27;ve become viable.</div><br/></div></div></div></div></div></div><div id="41911986" class="c"><input type="checkbox" id="c-41911986" checked=""/><div class="controls bullet"><span class="by">troupo</span><span>|</span><a href="#41909709">root</a><span>|</span><a href="#41909943">parent</a><span>|</span><a href="#41911317">prev</a><span>|</span><a href="#41911393">next</a><span>|</span><label class="collapse" for="c-41911986">[-]</label><label class="expand" for="c-41911986">[2 more]</label></div><br/><div class="children"><div class="content">All those mature feature-rich languages started as &quot;languages like this make no sense&quot;</div><br/><div id="41912170" class="c"><input type="checkbox" id="c-41912170" checked=""/><div class="controls bullet"><span class="by">chrismorgan</span><span>|</span><a href="#41909709">root</a><span>|</span><a href="#41911986">parent</a><span>|</span><a href="#41911393">next</a><span>|</span><label class="collapse" for="c-41912170">[-]</label><label class="expand" for="c-41912170">[1 more]</label></div><br/><div class="children"><div class="content">That’s certainly not true of Rust: Rust had a particular goal, easily recognised as worthwhile, which wasn’t <i>possible</i> with any existing languages. Everyone sensible agreed the language made a <i>lot</i> of sense, even if they weren’t sold on the practicality of its specific approach.</div><br/></div></div></div></div><div id="41911393" class="c"><input type="checkbox" id="c-41911393" checked=""/><div class="controls bullet"><span class="by">bfung</span><span>|</span><a href="#41909709">root</a><span>|</span><a href="#41909943">parent</a><span>|</span><a href="#41911986">prev</a><span>|</span><a href="#41912355">next</a><span>|</span><label class="collapse" for="c-41911393">[-]</label><label class="expand" for="c-41911393">[1 more]</label></div><br/><div class="children"><div class="content">Or compile to wasm</div><br/></div></div></div></div></div></div><div id="41912355" class="c"><input type="checkbox" id="c-41912355" checked=""/><div class="controls bullet"><span class="by">gr__or</span><span>|</span><a href="#41909709">prev</a><span>|</span><a href="#41911015">next</a><span>|</span><label class="collapse" for="c-41912355">[-]</label><label class="expand" for="c-41912355">[2 more]</label></div><br/><div class="children"><div class="content">There is nothing I miss more in TS than pattern matching, so I came in with a lot of good will, but the syntax for it looks jarring to me. Might be a matter of taste, I&#x27;m not made for meaningful whitespaces</div><br/><div id="41912391" class="c"><input type="checkbox" id="c-41912391" checked=""/><div class="controls bullet"><span class="by">n_plus_1_acc</span><span>|</span><a href="#41912355">parent</a><span>|</span><a href="#41911015">next</a><span>|</span><label class="collapse" for="c-41912391">[-]</label><label class="expand" for="c-41912391">[1 more]</label></div><br/><div class="children"><div class="content">You can use braces if you like</div><br/></div></div></div></div><div id="41911015" class="c"><input type="checkbox" id="c-41911015" checked=""/><div class="controls bullet"><span class="by">inlined</span><span>|</span><a href="#41912355">prev</a><span>|</span><a href="#41912189">next</a><span>|</span><label class="collapse" for="c-41911015">[-]</label><label class="expand" for="c-41911015">[2 more]</label></div><br/><div class="children"><div class="content">Things I like:<p>- Everything is an expression<p>- Async imports just work without thought<p>- Yaml-like object structuring<p>- JSX improvements<p>- Multi-line string literals without leading whitespace<p>Things I’m on the fence about:<p>- Pipe operators (better than .pipe I guess?)<p>- Pattern matching (love it in Scala and swift, but this doesn’t feel done right)<p>Things I loathe:<p>- Signifiant whitespace (removing brackets in general)<p>- Optional parentheses in function calls (a foot-gun in VB and Ruby)<p>- Splats in the middle of function definitions (I can’t imagine how this works with overload definitions)</div><br/><div id="41911443" class="c"><input type="checkbox" id="c-41911443" checked=""/><div class="controls bullet"><span class="by">miffy900</span><span>|</span><a href="#41911015">parent</a><span>|</span><a href="#41912189">next</a><span>|</span><label class="collapse" for="c-41911443">[-]</label><label class="expand" for="c-41911443">[1 more]</label></div><br/><div class="children"><div class="content">Not a fan of YAML at all myself, but it&#x27;s interesting that you like &#x27;Yaml-like object structuring&#x27; yet then loathe &#x27;Signifiant whitespace&#x27;? I mean that&#x27;s basically YAML.</div><br/></div></div></div></div><div id="41912189" class="c"><input type="checkbox" id="c-41912189" checked=""/><div class="controls bullet"><span class="by">xixixao</span><span>|</span><a href="#41911015">prev</a><span>|</span><a href="#41909950">next</a><span>|</span><label class="collapse" for="c-41912189">[-]</label><label class="expand" for="c-41912189">[2 more]</label></div><br/><div class="children"><div class="content">I tried to build the braceless syntax some years back (after I worked on CoffeeScript and it mostly died):<p><a href="https:&#x2F;&#x2F;xixixao.github.io&#x2F;lenientjs&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xixixao.github.io&#x2F;lenientjs&#x2F;</a><p>But this was before Prettier.<p>The real challenge in languages now is flawless LSP implementation, auto-formatter and AI completion. It’s possible for CoffeeScript like syntax, but just the existence of an auto-formatter mostly removes the need for dropping all the syntax.<p>I’d maybe take dropping of parens from if, to align with Rust, but even some of Rust’s syntax makes the language hard to read (if let bindings for example, which switch the flow from right to left), so I don’t consider it a golden standard to strive for anymore.<p>The other thing I would take is custom operators, not for any production code, but for building games and simulations, to simplify vector math.<p>I’ll check out the Civet IDE experience, but I suspect it’ll have large cons compared with TS.</div><br/><div id="41912203" class="c"><input type="checkbox" id="c-41912203" checked=""/><div class="controls bullet"><span class="by">xixixao</span><span>|</span><a href="#41912189">parent</a><span>|</span><a href="#41909950">next</a><span>|</span><label class="collapse" for="c-41912203">[-]</label><label class="expand" for="c-41912203">[1 more]</label></div><br/><div class="children"><div class="content">The other thing that was hard to do with Lenient was to pass the thousands of tests in Babel to ensure the syntax handles every edge case.</div><br/></div></div></div></div><div id="41909950" class="c"><input type="checkbox" id="c-41909950" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#41912189">prev</a><span>|</span><a href="#41909683">next</a><span>|</span><label class="collapse" for="c-41909950">[-]</label><label class="expand" for="c-41909950">[3 more]</label></div><br/><div class="children"><div class="content">So make sure you introduce this in your company; become the subject expert in it, invite everyone to very cool sessions demonstrating how cool it is, and secure your job until the next rewrite!<p>Looking at the examples, 1&#x2F;5th of it looked neat, which probably would be best to submit a proposal for |&gt; to the typescript committee rather than write another alienation.<p>This is a solution looking for a problem to solve. It introduces an alternative and does so as a superset; which is not only dangerous to existing code bases, but also silly.</div><br/><div id="41911350" class="c"><input type="checkbox" id="c-41911350" checked=""/><div class="controls bullet"><span class="by">scubbo</span><span>|</span><a href="#41909950">parent</a><span>|</span><a href="#41909683">next</a><span>|</span><label class="collapse" for="c-41911350">[-]</label><label class="expand" for="c-41911350">[2 more]</label></div><br/><div class="children"><div class="content">&gt; It introduces an alternative and does so as a superset; which is not only dangerous to existing code bases...<p>How so?</div><br/><div id="41911628" class="c"><input type="checkbox" id="c-41911628" checked=""/><div class="controls bullet"><span class="by">keyle</span><span>|</span><a href="#41909950">root</a><span>|</span><a href="#41911350">parent</a><span>|</span><a href="#41909683">next</a><span>|</span><label class="collapse" for="c-41911628">[-]</label><label class="expand" for="c-41911628">[1 more]</label></div><br/><div class="children"><div class="content">An alternative way to do something in a code base, for no other reason than style, is a recipe for technical debt. It builds up a larger cognitive load on the developers navigating and working the code base and induces more chances of bugs via half-refactors, or half-considerations.<p>As for the superset comment, I meant that if you introduce a completely different language, you probably have a valid reason; e.g. it does something different. Adding to an existing language with a superset without any need for it is also dangerous. It&#x27;s not like it&#x27;s a DSL at a higher level helping people get repetitive or scriptable things done faster. It&#x27;s only an alternative, leading people down rabbit hole and second guessing with a lot more to remember.</div><br/></div></div></div></div></div></div><div id="41909683" class="c"><input type="checkbox" id="c-41909683" checked=""/><div class="controls bullet"><span class="by">marcofiset</span><span>|</span><a href="#41909950">prev</a><span>|</span><a href="#41911848">next</a><span>|</span><label class="collapse" for="c-41909683">[-]</label><label class="expand" for="c-41909683">[3 more]</label></div><br/><div class="children"><div class="content">The industry has deemed those languages completely unnecessary when we migrated away from coffeescript.<p>Syntactic sugar can’t be the only thing that makes a programming language.</div><br/><div id="41911358" class="c"><input type="checkbox" id="c-41911358" checked=""/><div class="controls bullet"><span class="by">boredtofears</span><span>|</span><a href="#41909683">parent</a><span>|</span><a href="#41911848">next</a><span>|</span><label class="collapse" for="c-41911358">[-]</label><label class="expand" for="c-41911358">[2 more]</label></div><br/><div class="children"><div class="content">C is syntactic sugar on top of assembly</div><br/><div id="41911601" class="c"><input type="checkbox" id="c-41911601" checked=""/><div class="controls bullet"><span class="by">082349872349872</span><span>|</span><a href="#41909683">root</a><span>|</span><a href="#41911358">parent</a><span>|</span><a href="#41911848">next</a><span>|</span><label class="collapse" for="c-41911601">[-]</label><label class="expand" for="c-41911601">[1 more]</label></div><br/><div class="children"><div class="content">C++ was, for a long time, syntactic sugar on top of C</div><br/></div></div></div></div></div></div><div id="41911848" class="c"><input type="checkbox" id="c-41911848" checked=""/><div class="controls bullet"><span class="by">meandmycode</span><span>|</span><a href="#41909683">prev</a><span>|</span><a href="#41910384">next</a><span>|</span><label class="collapse" for="c-41911848">[-]</label><label class="expand" for="c-41911848">[1 more]</label></div><br/><div class="children"><div class="content">I think the most exciting aspect here is this might actually push JavaScript to add some missing features that can make a lot of difference, the pipeline operator for example can really improve the design of JavaScript code and has been proven already in several languages, C#, swift, kotlin to name a few I know</div><br/></div></div><div id="41910384" class="c"><input type="checkbox" id="c-41910384" checked=""/><div class="controls bullet"><span class="by">omeid2</span><span>|</span><a href="#41911848">prev</a><span>|</span><a href="#41909735">next</a><span>|</span><label class="collapse" for="c-41910384">[-]</label><label class="expand" for="c-41910384">[1 more]</label></div><br/><div class="children"><div class="content">If you find this interesting, you might also wanna suss out <a href="https:&#x2F;&#x2F;rescript-lang.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;rescript-lang.org&#x2F;</a><p>It is a shame that Bloomberg and Facebook made the whole situation pretty confusing though, but still, it is a nice idea.</div><br/></div></div><div id="41909735" class="c"><input type="checkbox" id="c-41909735" checked=""/><div class="controls bullet"><span class="by">Kab1r</span><span>|</span><a href="#41910384">prev</a><span>|</span><a href="#41909815">next</a><span>|</span><label class="collapse" for="c-41909735">[-]</label><label class="expand" for="c-41909735">[7 more]</label></div><br/><div class="children"><div class="content">Am I the only one that really dislikes the syntax choices here?</div><br/><div id="41909960" class="c"><input type="checkbox" id="c-41909960" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#41909735">parent</a><span>|</span><a href="#41909795">next</a><span>|</span><label class="collapse" for="c-41909960">[-]</label><label class="expand" for="c-41909960">[2 more]</label></div><br/><div class="children"><div class="content">I feel like there is a specific kind of person that likes all this, and there is very little overlap between those people and the people that choose to use Typescript.<p>Kinda feels like someone was forced to work in Typescript and really wanted to scratch their own itch.</div><br/><div id="41910787" class="c"><input type="checkbox" id="c-41910787" checked=""/><div class="controls bullet"><span class="by">Yahivin</span><span>|</span><a href="#41909735">root</a><span>|</span><a href="#41909960">parent</a><span>|</span><a href="#41909795">next</a><span>|</span><label class="collapse" for="c-41910787">[-]</label><label class="expand" for="c-41910787">[1 more]</label></div><br/><div class="children"><div class="content">Nailed it</div><br/></div></div></div></div><div id="41909795" class="c"><input type="checkbox" id="c-41909795" checked=""/><div class="controls bullet"><span class="by">mpowaga</span><span>|</span><a href="#41909735">parent</a><span>|</span><a href="#41909960">prev</a><span>|</span><a href="#41909829">next</a><span>|</span><label class="collapse" for="c-41909795">[-]</label><label class="expand" for="c-41909795">[1 more]</label></div><br/><div class="children"><div class="content">It appears to prioritize easier and faster typing over readability, which is a poor choice as programmers spend more time reading rather than writing code.</div><br/></div></div><div id="41909829" class="c"><input type="checkbox" id="c-41909829" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#41909735">parent</a><span>|</span><a href="#41909795">prev</a><span>|</span><a href="#41909764">next</a><span>|</span><label class="collapse" for="c-41909829">[-]</label><label class="expand" for="c-41909829">[2 more]</label></div><br/><div class="children"><div class="content">Having worked in Rust I love the pattern matching proposal. Having dabbled in Swift I like the single argument function part (though keep the brackets, please)<p>Much of the rest I could take or leave… but then is that just because I’m not familiar with them? Stuff like the pipe operator makes sense to me but it reminds me of .reduce(): there are a few legitimate uses of it but the vast majority will be entirely-too-smart—for-its-own-good show off coding.</div><br/><div id="41909866" class="c"><input type="checkbox" id="c-41909866" checked=""/><div class="controls bullet"><span class="by">Kab1r</span><span>|</span><a href="#41909735">root</a><span>|</span><a href="#41909829">parent</a><span>|</span><a href="#41909764">next</a><span>|</span><label class="collapse" for="c-41909866">[-]</label><label class="expand" for="c-41909866">[1 more]</label></div><br/><div class="children"><div class="content">I fell in love with pattern matching the first time I used Haskell. Having the feature is great, but I really don&#x27;t like the syntax used here.</div><br/></div></div></div></div><div id="41909764" class="c"><input type="checkbox" id="c-41909764" checked=""/><div class="controls bullet"><span class="by">antoineMoPa</span><span>|</span><a href="#41909735">parent</a><span>|</span><a href="#41909829">prev</a><span>|</span><a href="#41909815">next</a><span>|</span><label class="collapse" for="c-41909764">[-]</label><label class="expand" for="c-41909764">[1 more]</label></div><br/><div class="children"><div class="content">Nope! I&#x27;m also not convinced by it.</div><br/></div></div></div></div><div id="41909815" class="c"><input type="checkbox" id="c-41909815" checked=""/><div class="controls bullet"><span class="by">gregwebs</span><span>|</span><a href="#41909735">prev</a><span>|</span><a href="#41909690">next</a><span>|</span><label class="collapse" for="c-41909815">[-]</label><label class="expand" for="c-41909815">[3 more]</label></div><br/><div class="children"><div class="content">The JSX seems compelling. You are already doing a non-standard HTML embedding HTML into javascript, why not do it better? <a href="https:&#x2F;&#x2F;civet.dev&#x2F;reference#jsx" rel="nofollow">https:&#x2F;&#x2F;civet.dev&#x2F;reference#jsx</a><p>I am not convinced that all the syntax nicety is necessary, but improved pattern matching is often a great thing. On the other hand their examples seem to be to pattern match on highly dynamic types, which you can avoid 95% of the time with TypeScript.</div><br/><div id="41910839" class="c"><input type="checkbox" id="c-41910839" checked=""/><div class="controls bullet"><span class="by">recursive</span><span>|</span><a href="#41909815">parent</a><span>|</span><a href="#41909690">next</a><span>|</span><label class="collapse" for="c-41910839">[-]</label><label class="expand" for="c-41910839">[2 more]</label></div><br/><div class="children"><div class="content">JSX has a spec.  This thing they&#x27;re doing... I don&#x27;t know what it is, but it ain&#x27;t JSX.</div><br/><div id="41910930" class="c"><input type="checkbox" id="c-41910930" checked=""/><div class="controls bullet"><span class="by">edemaine</span><span>|</span><a href="#41909815">root</a><span>|</span><a href="#41910839">parent</a><span>|</span><a href="#41909690">next</a><span>|</span><label class="collapse" for="c-41910930">[-]</label><label class="expand" for="c-41910930">[1 more]</label></div><br/><div class="children"><div class="content">The JSX spec hasn&#x27;t changed for almost 10 years, and I&#x27;d guess there will never be a JSX 2.0. On the other hand, ideas for a better JSX are plentiful (check out the issues on the JSX repo, for example). If the spec never changes, how can we improve the JSX experience? Transpilation!<p>Civet&#x27;s futuristic JSX compiles to actual spec-compliant JSX, to it&#x27;s compatible with all forms of JSX, including React, Solid, etc. We&#x27;d like to support other DSLs like Astro and Svelte as well.</div><br/></div></div></div></div></div></div><div id="41909690" class="c"><input type="checkbox" id="c-41909690" checked=""/><div class="controls bullet"><span class="by">c0balt</span><span>|</span><a href="#41909815">prev</a><span>|</span><a href="#41912277">next</a><span>|</span><label class="collapse" for="c-41909690">[-]</label><label class="expand" for="c-41909690">[3 more]</label></div><br/><div class="children"><div class="content">That looks interesting but imo the syntax is too terse. Coming from Rust and Golang I very much appreciate the use of sigils and syntax sugar in moderation but especially the pipe operators look like they could lead to hard to debug code very easily.</div><br/><div id="41909772" class="c"><input type="checkbox" id="c-41909772" checked=""/><div class="controls bullet"><span class="by">botanical76</span><span>|</span><a href="#41909690">parent</a><span>|</span><a href="#41911069">next</a><span>|</span><label class="collapse" for="c-41909772">[-]</label><label class="expand" for="c-41909772">[1 more]</label></div><br/><div class="children"><div class="content">You get used to it. It&#x27;s really nice in Elixir. I&#x27;m not a fan of the fat pipe though.</div><br/></div></div></div></div><div id="41912277" class="c"><input type="checkbox" id="c-41912277" checked=""/><div class="controls bullet"><span class="by">erulabs</span><span>|</span><a href="#41909690">prev</a><span>|</span><a href="#41909885">next</a><span>|</span><label class="collapse" for="c-41912277">[-]</label><label class="expand" for="c-41912277">[1 more]</label></div><br/><div class="children"><div class="content">Like coffeescript, this looks lovely to write and horrible to read.</div><br/></div></div><div id="41909885" class="c"><input type="checkbox" id="c-41909885" checked=""/><div class="controls bullet"><span class="by">emmanueloga_</span><span>|</span><a href="#41912277">prev</a><span>|</span><a href="#41911875">next</a><span>|</span><label class="collapse" for="c-41909885">[-]</label><label class="expand" for="c-41909885">[2 more]</label></div><br/><div class="children"><div class="content">The pattern matching (TC39 stage 1) and pipeline operators (TC39 stage 2) look great, and I&#x27;d love to have those in TypeScript. It will probably take a loooong while for those features to be available in JavaScript, but I feel like I can live without those for now :-).<p>Fwiw it seems a lot of people really like the concept of &quot;significant indentation&quot;. I&#x27;m thinking Python, YAML, Godot&#x27;s GDScript. Not a lof of languages implement it but those that do seem to get a lot of users.<p>Interestingly, it seems like Erik Demain [1] is one of the contributors [2] of this project.<p>--<p>1: <a href="https:&#x2F;&#x2F;github.com&#x2F;DanielXMoore&#x2F;Civet&#x2F;graphs&#x2F;contributors">https:&#x2F;&#x2F;github.com&#x2F;DanielXMoore&#x2F;Civet&#x2F;graphs&#x2F;contributors</a><p>2: <a href="https:&#x2F;&#x2F;erikdemaine.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;erikdemaine.org&#x2F;</a></div><br/><div id="41911417" class="c"><input type="checkbox" id="c-41911417" checked=""/><div class="controls bullet"><span class="by">runarberg</span><span>|</span><a href="#41909885">parent</a><span>|</span><a href="#41911875">next</a><span>|</span><label class="collapse" for="c-41911417">[-]</label><label class="expand" for="c-41911417">[1 more]</label></div><br/><div class="children"><div class="content">Note that the pipe operator is the rejected tacit pipes from TC-39. TC-39 made the (IMO) wrong choice of what they call hack style pipes (with a mandatory token) where instead of the pipe being a simple way to call unary functions. Civet seems to have picked the better pipes.</div><br/></div></div></div></div><div id="41911875" class="c"><input type="checkbox" id="c-41911875" checked=""/><div class="controls bullet"><span class="by">Myrmornis</span><span>|</span><a href="#41909885">prev</a><span>|</span><a href="#41911036">next</a><span>|</span><label class="collapse" for="c-41911875">[-]</label><label class="expand" for="c-41911875">[1 more]</label></div><br/><div class="children"><div class="content">One nice aspect of Python compared to TS&#x2F;JS is the presence of list, set, map, and generator comprehensions. How far in that direction is civet likely to go? I see that arrays can be built from a for...of expression.</div><br/></div></div><div id="41911036" class="c"><input type="checkbox" id="c-41911036" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#41911875">prev</a><span>|</span><a href="#41909729">next</a><span>|</span><label class="collapse" for="c-41911036">[-]</label><label class="expand" for="c-41911036">[1 more]</label></div><br/><div class="children"><div class="content">Related:<p><i>CoffeeScript for TypeScript</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=34962782">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=34962782</a> - Feb 2023 (135 comments)<p><i>Show HN: Civet the CoffeeScript of TypeScript v0.4.20</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33834312">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33834312</a> - Dec 2022 (3 comments)<p><i>Civet: The CoffeeScript of TypeScript</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33323574">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33323574</a> - Oct 2022 (17 comments)<p><i>The CoffeeScript of TypeScript</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33198931">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33198931</a> - Oct 2022 (2 comments)</div><br/></div></div><div id="41909729" class="c"><input type="checkbox" id="c-41909729" checked=""/><div class="controls bullet"><span class="by">fabiospampinato</span><span>|</span><a href="#41911036">prev</a><span>|</span><a href="#41909851">next</a><span>|</span><label class="collapse" for="c-41909729">[-]</label><label class="expand" for="c-41909729">[1 more]</label></div><br/><div class="children"><div class="content">Civet has so many quality of life improvements! It&#x27;s good that it exists sort of as a playground for ideas that could maybe in the future be adopted by JS itself, kinda like how it went with CoffeeScript.</div><br/></div></div><div id="41909851" class="c"><input type="checkbox" id="c-41909851" checked=""/><div class="controls bullet"><span class="by">diath</span><span>|</span><a href="#41909729">prev</a><span>|</span><a href="#41909842">next</a><span>|</span><label class="collapse" for="c-41909851">[-]</label><label class="expand" for="c-41909851">[4 more]</label></div><br/><div class="children"><div class="content">This just looks like it&#x27;s trying to remove as much syntax as possible and as a consequence makes it harder for me to follow what&#x27;s going on. Kind of like a write-only language.</div><br/><div id="41909879" class="c"><input type="checkbox" id="c-41909879" checked=""/><div class="controls bullet"><span class="by">bhouston</span><span>|</span><a href="#41909851">parent</a><span>|</span><a href="#41909842">next</a><span>|</span><label class="collapse" for="c-41909879">[-]</label><label class="expand" for="c-41909879">[3 more]</label></div><br/><div class="children"><div class="content">I do not particularly like the lack of brackets everywhere.  I think it is hard to know precedence perfectly and brackets ensure you do not make stupid mistakes.<p>Also there is the classic issue where you take an if statement that has a line one expression and you add a second line, but now because it didn&#x27;t have brackets (and you are not using indentation style), you just introduced a bug.  Or you have an if statement with an expression and you comment out the expression but not the if, then your next statement is now the if conditional expression, which is not obvious.</div><br/><div id="41910791" class="c"><input type="checkbox" id="c-41910791" checked=""/><div class="controls bullet"><span class="by">edemaine</span><span>|</span><a href="#41909851">root</a><span>|</span><a href="#41909879">parent</a><span>|</span><a href="#41909842">next</a><span>|</span><label class="collapse" for="c-41910791">[-]</label><label class="expand" for="c-41910791">[2 more]</label></div><br/><div class="children"><div class="content">But we are using indentation style; that&#x27;s one of the major design principles. In Civet, the body of an &quot;if&quot; can be multiple lines, and it&#x27;s clear (from indentation) what they&#x27;re nested under. Also, the body of an &quot;if&quot; statement can be empty, so if you comment out the body, the &quot;if&quot; doesn&#x27;t apply to anything else. (This is an improvement over Python, which requires non-empty bodies, even if just to say &quot;pass&quot;.)<p>I think there&#x27;s a reason that Python is among the most popular programming languages, and part of it is the indentation-based syntax and lack of brackets. The core of Civet&#x27;s syntax (originally inspired by CoffeeScript) is like a combination of JavaScript&#x2F;TypeScript and Python, the two&#x2F;three most popular programming languages.<p>But also, if you like brackets, you can include them! Most JavaScript&#x2F;TypeScript code is also valid Civet. Just use the features you like.</div><br/><div id="41911245" class="c"><input type="checkbox" id="c-41911245" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#41909851">root</a><span>|</span><a href="#41910791">parent</a><span>|</span><a href="#41909842">next</a><span>|</span><label class="collapse" for="c-41911245">[-]</label><label class="expand" for="c-41911245">[1 more]</label></div><br/><div class="children"><div class="content">Python used an indentation-based syntax from the beginning and its syntax is particularly optimized for that. In particular, any block statement (formally, a statement followed by a &quot;suite&quot;) would end with `:` and that&#x27;s effectively the only place where a dangling `:` can happen [1], so you can easily recognize such statement from any directions.<p>In comparison, at least some people would find CoffeeScript and Civet to be hard to read because they solely rely on left-bearing indents. If my eye is pointing to the rightmost column and scanning to left, I wouldn&#x27;t be sure about any nature of the line until the very first token and thus preceding indent is reached. This problem is not unique but can be somehow alleviated with some tweaks to the syntax. Ruby `if` for example is also prone to this issue but an explicit `end` token keeps it on track in most cases. CoffeeScript did nothing.<p>[1] The only other case is `lambda ...:` in parenthesized expressions. `lambda` in Python is quite exceptional in its syntax after all...</div><br/></div></div></div></div></div></div></div></div><div id="41909842" class="c"><input type="checkbox" id="c-41909842" checked=""/><div class="controls bullet"><span class="by">hyperhello</span><span>|</span><a href="#41909851">prev</a><span>|</span><a href="#41909706">next</a><span>|</span><label class="collapse" for="c-41909842">[-]</label><label class="expand" for="c-41909842">[1 more]</label></div><br/><div class="children"><div class="content">JavaScript already has the best use of C syntax I’ve seen. Destructuring, JSON, functions. It’s so easy.</div><br/></div></div><div id="41909706" class="c"><input type="checkbox" id="c-41909706" checked=""/><div class="controls bullet"><span class="by">epolanski</span><span>|</span><a href="#41909842">prev</a><span>|</span><a href="#41909971">next</a><span>|</span><label class="collapse" for="c-41909706">[-]</label><label class="expand" for="c-41909706">[2 more]</label></div><br/><div class="children"><div class="content">Interesting but not sure how much do I buy it.<p>I would rather do with a stricter super set of TypeScript with some sugar&#x2F;conveniences around its many verbose but useful features like branded types.</div><br/><div id="41910764" class="c"><input type="checkbox" id="c-41910764" checked=""/><div class="controls bullet"><span class="by">edemaine</span><span>|</span><a href="#41909706">parent</a><span>|</span><a href="#41909971">next</a><span>|</span><label class="collapse" for="c-41910764">[-]</label><label class="expand" for="c-41910764">[1 more]</label></div><br/><div class="children"><div class="content">We&#x27;re definitely looking for ways to improve ways to specify types! I think destructured typing [<a href="https:&#x2F;&#x2F;civet.dev&#x2F;reference#destructured-typing" rel="nofollow">https:&#x2F;&#x2F;civet.dev&#x2F;reference#destructured-typing</a>] is already quite useful, especially for React. On the readability side, if&#x2F;then&#x2F;else [<a href="https:&#x2F;&#x2F;civet.dev&#x2F;reference#conditional-types" rel="nofollow">https:&#x2F;&#x2F;civet.dev&#x2F;reference#conditional-types</a>] seems easier to read than ?: ternaries, and &quot;Partial Record Name, Info&quot; seems easier to read than &quot;Partial&lt;Record&lt;Name, Info&gt;&gt;&quot; (implicit type arguments — <a href="https:&#x2F;&#x2F;civet.dev&#x2F;reference#implicit-type-arguments" rel="nofollow">https:&#x2F;&#x2F;civet.dev&#x2F;reference#implicit-type-arguments</a>). But we&#x27;d love to hear more ideas for features like branded types. Join us in Discord if you&#x27;re interested!</div><br/></div></div></div></div><div id="41909971" class="c"><input type="checkbox" id="c-41909971" checked=""/><div class="controls bullet"><span class="by">adamtaylor_13</span><span>|</span><a href="#41909706">prev</a><span>|</span><a href="#41909940">next</a><span>|</span><label class="collapse" for="c-41909971">[-]</label><label class="expand" for="c-41909971">[1 more]</label></div><br/><div class="children"><div class="content">This is way less readable than normal TS. For that reason alone I doubt I’d use it.</div><br/></div></div><div id="41909940" class="c"><input type="checkbox" id="c-41909940" checked=""/><div class="controls bullet"><span class="by">smilekzs</span><span>|</span><a href="#41909971">prev</a><span>|</span><a href="#41911536">next</a><span>|</span><label class="collapse" for="c-41909940">[-]</label><label class="expand" for="c-41909940">[3 more]</label></div><br/><div class="children"><div class="content">I know this hasn&#x27;t been updated, and I know it&#x27;s a fork of CoffeeScript, but <a href="https:&#x2F;&#x2F;livescript.net&#x2F;" rel="nofollow">https:&#x2F;&#x2F;livescript.net&#x2F;</a> has had a lot of the &quot;magic&quot; syntax here for quite a while.</div><br/><div id="41910950" class="c"><input type="checkbox" id="c-41910950" checked=""/><div class="controls bullet"><span class="by">edemaine</span><span>|</span><a href="#41909940">parent</a><span>|</span><a href="#41911536">next</a><span>|</span><label class="collapse" for="c-41910950">[-]</label><label class="expand" for="c-41910950">[2 more]</label></div><br/><div class="children"><div class="content">Yes, Civet has taken a lot of syntactic inspiration from LiveScript. At this point, I think we have most of the good features, but we might be missing some. Let us know what you think!<p>The big difference, of course, is that Civet fully supports TypeScript, and is up-to-date with the latest JavaScript and TypeScript features.</div><br/><div id="41912296" class="c"><input type="checkbox" id="c-41912296" checked=""/><div class="controls bullet"><span class="by">k__</span><span>|</span><a href="#41909940">root</a><span>|</span><a href="#41910950">parent</a><span>|</span><a href="#41911536">next</a><span>|</span><label class="collapse" for="c-41912296">[-]</label><label class="expand" for="c-41912296">[1 more]</label></div><br/><div class="children"><div class="content">Nice!<p>I loved LiveScript, but it got kinda lost in the wake of ES6.<p>They planned to add types, but never got around doing it (at least the last time I looked).</div><br/></div></div></div></div></div></div><div id="41911536" class="c"><input type="checkbox" id="c-41911536" checked=""/><div class="controls bullet"><span class="by">steve_adams_86</span><span>|</span><a href="#41909940">prev</a><span>|</span><a href="#41912369">next</a><span>|</span><label class="collapse" for="c-41911536">[-]</label><label class="expand" for="c-41911536">[1 more]</label></div><br/><div class="children"><div class="content">I really like that everything is an expression. I know the extra work is happening in the background, but this kind of developer experience is really nice in my opinion.</div><br/></div></div><div id="41912369" class="c"><input type="checkbox" id="c-41912369" checked=""/><div class="controls bullet"><span class="by">nsonha</span><span>|</span><a href="#41911536">prev</a><span>|</span><a href="#41909651">next</a><span>|</span><label class="collapse" for="c-41912369">[-]</label><label class="expand" for="c-41912369">[1 more]</label></div><br/><div class="children"><div class="content">where is the LSP or any kind of editor support, isn&#x27;t it the first thing to do for this type of project?<p>once you&#x27;re done with that, think about how people will run your code in production given that now we have way too many bundlers to support, at the same time, all the server runtimes can now run typescript with no extra tool.</div><br/></div></div><div id="41909651" class="c"><input type="checkbox" id="c-41909651" checked=""/><div class="controls bullet"><span class="by">vosper</span><span>|</span><a href="#41912369">prev</a><span>|</span><a href="#41910522">next</a><span>|</span><label class="collapse" for="c-41909651">[-]</label><label class="expand" for="c-41909651">[2 more]</label></div><br/><div class="children"><div class="content">I see a language that compiles to JS. What makes this a superset of Typescript? Are there more types? A more powerful type system?</div><br/><div id="41909687" class="c"><input type="checkbox" id="c-41909687" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#41909651">parent</a><span>|</span><a href="#41910522">next</a><span>|</span><label class="collapse" for="c-41909687">[-]</label><label class="expand" for="c-41909687">[1 more]</label></div><br/><div class="children"><div class="content">The linked page is pretty self explanatory. It’s TS with some extra features, many of which are already proposals for the language. Cool for an experiment, not good for a maintained codebase.</div><br/></div></div></div></div><div id="41910522" class="c"><input type="checkbox" id="c-41910522" checked=""/><div class="controls bullet"><span class="by">mhh__</span><span>|</span><a href="#41909651">prev</a><span>|</span><a href="#41909890">next</a><span>|</span><label class="collapse" for="c-41910522">[-]</label><label class="expand" for="c-41910522">[1 more]</label></div><br/><div class="children"><div class="content">|&gt; is such a breath of fresh air when otherwise stuck without it, or worse being forced to do OOP style &quot;design your abstraction before your logic&quot;.</div><br/></div></div><div id="41909890" class="c"><input type="checkbox" id="c-41909890" checked=""/><div class="controls bullet"><span class="by">hbbio</span><span>|</span><a href="#41910522">prev</a><span>|</span><label class="collapse" for="c-41909890">[-]</label><label class="expand" for="c-41909890">[1 more]</label></div><br/><div class="children"><div class="content">Pattern matching: yes, it&#x27;s needed and maybe the only useful feature in here.<p>The syntax and some other features, no. Some are even anti-features or &quot;magic&quot; that takes the actual semantics away from the developer.</div><br/></div></div></div></div></div></div></div></body></html>