<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1690621243288" as="style"/><link rel="stylesheet" href="styles.css?v=1690621243288"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://github.com/mrLSD/riscv-fs">F# RISC-V Instruction Set formal specification</a>Â <span class="domain">(<a href="https://github.com">github.com</a>)</span></div><div class="subtext"><span>mrLSD-dev</span> | <span>9 comments</span></div><br/><div><div id="36917809" class="c"><input type="checkbox" id="c-36917809" checked=""/><div class="controls bullet"><span class="by">ArtixFox</span><span>|</span><a href="#36917541">next</a><span>|</span><label class="collapse" for="c-36917809">[-]</label><label class="expand" for="c-36917809">[3 more]</label></div><br/><div class="children"><div class="content">thats cool! Is there any project that does this for other architectures?</div><br/><div id="36918208" class="c"><input type="checkbox" id="c-36918208" checked=""/><div class="controls bullet"><span class="by">JonChesterfield</span><span>|</span><a href="#36917809">parent</a><span>|</span><a href="#36917887">next</a><span>|</span><label class="collapse" for="c-36918208">[-]</label><label class="expand" for="c-36918208">[1 more]</label></div><br/><div class="children"><div class="content">Right there with you. I&#x27;d love one of these for x86-64 or amdgpu. Assemblers are good things (like the sibling to this) but it&#x27;s a huge effort to translate the ISA docs to an executable representation.<p>If you&#x27;ve got that encoding &lt;-&gt; code mapping though, you can turn that into an assembler, an emulator and a compiler backend with a sufficiently determined code generator. Probably a profiler and debugger too. That&#x27;s a whole set of tooling derived from a single source of truth. In the best case, you persuade the people writing the verilog to provide said information as something like xml. More likely it&#x27;s an error prone transcription from incomplete pdf files.</div><br/></div></div><div id="36917887" class="c"><input type="checkbox" id="c-36917887" checked=""/><div class="controls bullet"><span class="by">kristiandupont</span><span>|</span><a href="#36917809">parent</a><span>|</span><a href="#36918208">prev</a><span>|</span><a href="#36917541">next</a><span>|</span><label class="collapse" for="c-36917887">[-]</label><label class="expand" for="c-36917887">[1 more]</label></div><br/><div class="children"><div class="content">I created this for x86 many years ago: <a href="https:&#x2F;&#x2F;github.com&#x2F;kristiandupont&#x2F;rtasm">https:&#x2F;&#x2F;github.com&#x2F;kristiandupont&#x2F;rtasm</a><p>It&#x27;s not an emulator, it allows you to assemble code in C++ at runtime. It breaks down the architecture (as it looked at the time) quite detailed, if you are interested :-)<p>EDIT to add: the .cbi file is a text file that contains most of the documentation: <a href="https:&#x2F;&#x2F;github.com&#x2F;kristiandupont&#x2F;rtasm&#x2F;blob&#x2F;master&#x2F;RTASM.cbi">https:&#x2F;&#x2F;github.com&#x2F;kristiandupont&#x2F;rtasm&#x2F;blob&#x2F;master&#x2F;RTASM.cb...</a></div><br/></div></div></div></div><div id="36917541" class="c"><input type="checkbox" id="c-36917541" checked=""/><div class="controls bullet"><span class="by">mjfl</span><span>|</span><a href="#36917809">prev</a><span>|</span><a href="#36915109">next</a><span>|</span><label class="collapse" for="c-36917541">[-]</label><label class="expand" for="c-36917541">[1 more]</label></div><br/><div class="children"><div class="content">Very cool. Does this allow simulation &#x2F; verification of L1&#x2F;L2 cache usage?</div><br/></div></div><div id="36915109" class="c"><input type="checkbox" id="c-36915109" checked=""/><div class="controls bullet"><span class="by">mrLSD-dev</span><span>|</span><a href="#36917541">prev</a><span>|</span><a href="#36917100">next</a><span>|</span><label class="collapse" for="c-36915109">[-]</label><label class="expand" for="c-36915109">[1 more]</label></div><br/><div class="children"><div class="content">RISC-V CPU formal specification written on F#. Formalazation of RISC-V ISA architecture.</div><br/></div></div><div id="36917100" class="c"><input type="checkbox" id="c-36917100" checked=""/><div class="controls bullet"><span class="by">wheresmycraisin</span><span>|</span><a href="#36915109">prev</a><span>|</span><a href="#36916381">next</a><span>|</span><label class="collapse" for="c-36917100">[-]</label><label class="expand" for="c-36917100">[2 more]</label></div><br/><div class="children"><div class="content">Can anyone ELI5 this? Is it basically an emulator?</div><br/><div id="36917539" class="c"><input type="checkbox" id="c-36917539" checked=""/><div class="controls bullet"><span class="by">IshKebab</span><span>|</span><a href="#36917100">parent</a><span>|</span><a href="#36916381">next</a><span>|</span><label class="collapse" for="c-36917539">[-]</label><label class="expand" for="c-36917539">[1 more]</label></div><br/><div class="children"><div class="content">Basically yes, but with the goal being semantic correctness rather than performance.<p>Seems to be similar to the official Sail model but F# instead of Sail.<p>Kind of funny since Sail can already compile to OCaml - probably wouldn&#x27;t be too hard to add a F# backend. Then again, more independent implementations are always nice to have.<p>Would be interesting to know their motivation for this.<p>Edit: actually this looks like it has been dead for 3 years so maybe it was just a precursor to the Sail model.<p><a href="https:&#x2F;&#x2F;github.com&#x2F;riscv&#x2F;sail-riscv">https:&#x2F;&#x2F;github.com&#x2F;riscv&#x2F;sail-riscv</a></div><br/></div></div></div></div><div id="36916381" class="c"><input type="checkbox" id="c-36916381" checked=""/><div class="controls bullet"><span class="by">kevingadd</span><span>|</span><a href="#36917100">prev</a><span>|</span><label class="collapse" for="c-36916381">[-]</label><label class="expand" for="c-36916381">[1 more]</label></div><br/><div class="children"><div class="content">Always fun to see executable specs. For a bit I was experimenting with using F# to write the WebAssembly specification. We ended up using OCaml.</div><br/></div></div></div></div></div></div></div></body></html>