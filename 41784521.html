<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1728982876463" as="style"/><link rel="stylesheet" href="styles.css?v=1728982876463"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.te.com/en/products/sensors/position-sensors/resources/lvdt-tutorial.html">Linear Variable Differential Transformer (LVDT) Basics</a> <span class="domain">(<a href="https://www.te.com">www.te.com</a>)</span></div><div class="subtext"><span>userbinator</span> | <span>16 comments</span></div><br/><div><div id="41815413" class="c"><input type="checkbox" id="c-41815413" checked=""/><div class="controls bullet"><span class="by">msds</span><span>|</span><a href="#41813824">next</a><span>|</span><label class="collapse" for="c-41815413">[-]</label><label class="expand" for="c-41815413">[1 more]</label></div><br/><div class="children"><div class="content">LVDTs are fun! I bought one for a project a few years ago (since abandoned), and have been slowly designing my own readout electronics for them. Three revisions later, and the performance is very good - to the point that I&#x27;ve bought more increasingly precise measurement gear to benchmark how it&#x27;s performing. Currently, I&#x27;m testing it against some good glass scale linear encoders, and a capacitive gauge with a single-digit nm noise floor.<p>So many don&#x27;t buy an LVDT, I guess.</div><br/></div></div><div id="41813824" class="c"><input type="checkbox" id="c-41813824" checked=""/><div class="controls bullet"><span class="by">peter_d_sherman</span><span>|</span><a href="#41815413">prev</a><span>|</span><a href="#41818787">next</a><span>|</span><label class="collapse" for="c-41813824">[-]</label><label class="expand" for="c-41813824">[1 more]</label></div><br/><div class="children"><div class="content">&gt;&quot;Infinite Resolution<p>Since an LVDT operates on electromagnetic coupling principles in a friction-free structure, <i>it can measure infinitesimally small changes</i> in core position. This infinite resolution capability is limited only by the noise in an LVDT signal conditioner and the output display&#x27;s resolution. These same factors also give an LVDT its outstanding repeatability.&quot;<p>Related: <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Linear_variable_differential_transformer" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Linear_variable_differential_t...</a><p>&gt;&quot;A counterpart to this device that is used for measuring rotary displacement is called a rotary variable differential transformer (RVDT).&quot; (<a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Rotary_variable_differential_transformer" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Rotary_variable_differential_t...</a>)</div><br/></div></div><div id="41818787" class="c"><input type="checkbox" id="c-41818787" checked=""/><div class="controls bullet"><span class="by">sgarland</span><span>|</span><a href="#41813824">prev</a><span>|</span><a href="#41845505">next</a><span>|</span><label class="collapse" for="c-41818787">[-]</label><label class="expand" for="c-41818787">[1 more]</label></div><br/><div class="children"><div class="content">Nuclear reactors (at least, some – no idea on all models) use them for measuring control rod height. Accurate, precise, reliable, dead-simple. Can’t ask for more.</div><br/></div></div><div id="41845505" class="c"><input type="checkbox" id="c-41845505" checked=""/><div class="controls bullet"><span class="by">ajb</span><span>|</span><a href="#41818787">prev</a><span>|</span><a href="#41812830">next</a><span>|</span><label class="collapse" for="c-41845505">[-]</label><label class="expand" for="c-41845505">[1 more]</label></div><br/><div class="children"><div class="content">So you can get one for 6 at AliExpress or &gt;100 at western vendors... might be worth playing with the AliExpress one I guess. Wonder what the difference is.</div><br/></div></div><div id="41812830" class="c"><input type="checkbox" id="c-41812830" checked=""/><div class="controls bullet"><span class="by">mikewarot</span><span>|</span><a href="#41845505">prev</a><span>|</span><a href="#41811855">next</a><span>|</span><label class="collapse" for="c-41812830">[-]</label><label class="expand" for="c-41812830">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve always been intrigued by LVDTs since I learned that they can be used to measure millionths of an inch displacements. With the advent of cheap computing with good A&#x2F;D, perhaps it&#x27;s time to add a DIY LVDT to my project list.</div><br/><div id="41813650" class="c"><input type="checkbox" id="c-41813650" checked=""/><div class="controls bullet"><span class="by">HeyLaughingBoy</span><span>|</span><a href="#41812830">parent</a><span>|</span><a href="#41811855">next</a><span>|</span><label class="collapse" for="c-41813650">[-]</label><label class="expand" for="c-41813650">[1 more]</label></div><br/><div class="children"><div class="content">You can find pretty cheap resolvers on eBay (I have a couple of Singer units that I paid $30 for). I&#x27;m sure you can also find LVDTs. Resolvers &amp; LVDTs only differ by motion type: resolvers are rotary and LVDTs are translational.<p>At least that way you don&#x27;t have to do the &quot;annoying&quot; part of the project, which is likely to be the mechanical aspects of winding and placing the coils.<p>I built a product that basically simulates the process: it takes an analog or digital input and outputs sine &amp; cosine signals that look like position information for a motion controller that expects an LVDT or resolver.</div><br/></div></div></div></div><div id="41811855" class="c"><input type="checkbox" id="c-41811855" checked=""/><div class="controls bullet"><span class="by">K0balt</span><span>|</span><a href="#41812830">prev</a><span>|</span><a href="#41813164">next</a><span>|</span><label class="collapse" for="c-41811855">[-]</label><label class="expand" for="c-41811855">[5 more]</label></div><br/><div class="children"><div class="content">lol. Interesting stuff but here I was thinking this was about the new transformer architecture.<p>Differential Transformer <a href="https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2410.05258" rel="nofollow">https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2410.05258</a></div><br/><div id="41811888" class="c"><input type="checkbox" id="c-41811888" checked=""/><div class="controls bullet"><span class="by">topspin</span><span>|</span><a href="#41811855">parent</a><span>|</span><a href="#41815549">next</a><span>|</span><label class="collapse" for="c-41811888">[-]</label><label class="expand" for="c-41811888">[2 more]</label></div><br/><div class="children"><div class="content">Likewise.  I was pleased to find this instead.</div><br/><div id="41815336" class="c"><input type="checkbox" id="c-41815336" checked=""/><div class="controls bullet"><span class="by">Onavo</span><span>|</span><a href="#41811855">root</a><span>|</span><a href="#41811888">parent</a><span>|</span><a href="#41815549">next</a><span>|</span><label class="collapse" for="c-41815336">[-]</label><label class="expand" for="c-41815336">[1 more]</label></div><br/><div class="children"><div class="content">This is your grand papa&#x27;s transformer :D</div><br/></div></div></div></div><div id="41815549" class="c"><input type="checkbox" id="c-41815549" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#41811855">parent</a><span>|</span><a href="#41811888">prev</a><span>|</span><a href="#41813164">next</a><span>|</span><label class="collapse" for="c-41815549">[-]</label><label class="expand" for="c-41815549">[2 more]</label></div><br/><div class="children"><div class="content">Why do you think I submitted this ;-)</div><br/><div id="41818189" class="c"><input type="checkbox" id="c-41818189" checked=""/><div class="controls bullet"><span class="by">K0balt</span><span>|</span><a href="#41811855">root</a><span>|</span><a href="#41815549">parent</a><span>|</span><a href="#41813164">next</a><span>|</span><label class="collapse" for="c-41818189">[-]</label><label class="expand" for="c-41818189">[1 more]</label></div><br/><div class="children"><div class="content">I suspected as much lol. Still, interesting stuff.</div><br/></div></div></div></div></div></div><div id="41813164" class="c"><input type="checkbox" id="c-41813164" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#41811855">prev</a><span>|</span><label class="collapse" for="c-41813164">[-]</label><label class="expand" for="c-41813164">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve been thinking about using the magnetic and mechanical design of an LVDT in a different application: a high-reliability keyboard with a four-dimensional scan matrix to reduce the number of electrical lines required.<p>For a conventional keyswitch-matrix multiplexed keyboard with 81 keys, you need 18 GPIO lines, 9 row lines and 9 column lines.  Even with Charlieplexing, I believe you need 13 GPIO lines to get to 81 keys.  (½(14·13) = 91.)  Keyswitch matrices are also mechanically and chemically delicate; a spill of solvent, battery acid, or sometimes even saltwater can damage the keyswitches, and they do not work underwater unless the keyboard is hermetically sealed.  Such seals have to be flexible and are regularly flexed during usage, so they usually fail after only a few years.  Some keyswitch contacts were often made of metal, which suffers oxidation over time resulting in keyswitch failure; many current keyswitches instead use contacts made of graphite-filled rubber, which doesn&#x27;t form a solid oxide surface layer.  (Keyswitches also generally require debouncing, though I suspect this is less of a problem with the graphite-filled rubber contacts.)<p>Capacitive keys avoid contact bounce and oxidation, but tend to suffer even worse from submersion because of the high electrical permittivity of water.  They are also more sensitive to electrical noise.<p>By contrast, a differential-transformer key mechanism would permit an 81-key keyboard with only 12 GPIOs, high EMI immunity, and extreme mechanical robustness.<p>Each key contains a differential transformer, similar to an LVDT but without any attention given to linearity.  When the key is not depressed, the core in the differential transformer is at its nulled position, where a pulse of current through the primary will produce exactly canceling voltages across the two opposing secondaries.  But when the key is depressed, the core is substantially displaced, so that the net voltage pulse induced across the two opposing secondaries is significant.<p>Submersion poses no problem for the mechanism, because the magnetic permeability of water is basically the same as air or vacuum, so water filling the tube around the core is not a problem.  As the TE page explains, the same is true of things like high-pressure hydraulic oil and even low-temperature molten metals.  The mechanism would not work if you submerged it in a ferrofluid, or if you heated the core past its Curie point, but that is not much of a problem in most practical environments.<p>The four-dimensional multiplexing works as follows.  There is a 3×3 primary-winding matrix and a 3×3 differential secondary-winding matrix.  Each of the 9 primary-winding-matrix cells has the primary windings of 9 different keys in it, each of which belongs to a different cell of the secondary-winding matrix.  These 9 primary windings in a single primary-winding-matrix cell are preferably in parallel.  By pulling one of the three row lines of the primary-winding matrix high and pulsing one of its three column lines low, while maintaining the other 4 row and column lines tristated, you send a pulse of current through those 9 primary windings.<p>Similarly, each of the 9 secondary-winding matrix cells contains the 9 opposing-series-wound secondary-winding coils, in parallel, one for each of the 9 primary-winding-matrix cells.  So each of the 81 keys represents a unique combination of a primary-matrix cell and a secondary-matrix cell.<p>I&#x27;m not yet entirely clear on how to scan the secondary-coil matrix for a given primary cell.  It would be fairly straightforward if you had an electromechanical relay for each row, a diode on the anti-series secondaries of each key, and a sense resistor to ground on each column: the voltage induced on a depressed key connected to an open-circuited row would not be able to draw any current from its open-circuited row, so it would drive no current through its column&#x27;s sense resistor, which would therefore remain at ground, and the open-circuited row line would be driven below ground.  But if you close the relay to select its row, connecting the row to ground, then the voltage induced across the anti-series secondaries would drive current from the row to the column and through the column&#x27;s pulldown resistor, raising the column voltage up to an easily detectable level.<p>The part I&#x27;m not entirely clear about is how to do this with regular CMOS GPIOs, which have clamping diodes to prevent them from going above Vcc or below ground.  So an induced secondary voltage that attempts to drive a tristated CMOS GPIO below ground will only drive it to a diode drop below ground, at which point it will start to source current enthusiastically to protect the chip, looking very much like a GPIO being driven low.  I suspect there&#x27;s a simple solution to this problem, but I&#x27;m just a beginner in the art of electronics; undoubtedly it would be obvious to one skilled in the art.<p>However, for keyboards of ordinary sizes, the four-dimensional keyboard matrix is an aspect of only minor, marginal benefit compared to the mechanical robustness and reliability of the keyboard mechanism.  A three-dimensional matrix or a conventional two-dimensional matrix is easily realizable.<p>One way to do a conventional two-dimensional matrix is to connect all the secondary-coil pairs in parallel, each with a series diode, and scan the primary matrix as above to get a pulse on the single output line shared across all secondaries only when you happened to scan across a key being depressed.  This would require 18 tristate output lines and one input line.  This variant of the system permits independent analog measurement of each core&#x27;s position.<p>Another way would be to connect each primary between one of 9 primary row lines and Vcc, driving one of them low at a time while tristating the others, and to connect each secondary between one of 9 secondary column lines and Vcc.  This would require 9 tristate output lines and 9 input lines with pullup resistors; it&#x27;s closely analogous to a conventional keyswitch matrix.  (Of course you can interchange the polarities as desired.)<p>A three-dimensional matrix could be realized by, for example, combining the two above setups: dividing up to 100 keys among a 5×5 matrix of primary cells, with up to 4 keys in each cell, each with its secondary connected to a different secondary column line.  Activating one of the 25 primary cells by pulling its row line high and its column line low would induce currents through secondaries that drive low some subset of the 4 column lines.  This requires 10 tristate output lines and 4 input lines with pullup resistors.  Again, polarities can be interchanged as desired.<p>I suspect you can play various charlieplexing-like tricks with diodes to reduce the number of required lines further.<p>Back to the issue of mechanical and corrosion robustness.  If the cores are encapsulated in glass, porcelain, or teflon, and similarly for the tubes they slide within, the keyboard should be able to survive even fairly aggressive environments such as extended immersion in boiling sulfuric acid, unless the insulation on the coils is degraded by the high temperature.  Exposed key return springs that are subject to mechanical fatigue and chemical attack might be able to be made of long ceramic flexure blades, or if high-temperature resistance is not required, they could be replaced with repulsion between small rare-earth magnets which are themselves encapsulated in corrosion-resistant housings.</div><br/><div id="41813737" class="c"><input type="checkbox" id="c-41813737" checked=""/><div class="controls bullet"><span class="by">HeyLaughingBoy</span><span>|</span><a href="#41813164">parent</a><span>|</span><label class="collapse" for="c-41813737">[-]</label><label class="expand" for="c-41813737">[3 more]</label></div><br/><div class="children"><div class="content">In any practical application, the number of GPIOs simply wouldn&#x27;t be an issue. Transistors are as cheap as sand.<p>What would you foresee as the application for a keyboard like this? It sounds like Hall-Effect switches would work just as well and cost significantly less.</div><br/><div id="41815406" class="c"><input type="checkbox" id="c-41815406" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#41813164">root</a><span>|</span><a href="#41813737">parent</a><span>|</span><a href="#41813864">next</a><span>|</span><label class="collapse" for="c-41815406">[-]</label><label class="expand" for="c-41815406">[1 more]</label></div><br/><div class="children"><div class="content">Thinking about it a bit more, if it were true that &quot;in any practical application, the number of GPIOs simply wouldn&#x27;t be an issue. Transistors are as cheap as sand,&quot; nobody would multiplex keyboards or LEDs at all.  And it&#x27;s true that it&#x27;s feasible at this point to put a driver chip on every LED; the WS2812 is a common chip that you can hook up into long daisy-chains into which you shift a bunch of digital binary data to tell them how to drive one RGB LED each.  And you can do the same thing with keys on a keyboard, putting one microcontroller on every key and connecting them all to a common bus or a token-ring-like bucket brigade.<p>But people still do multiplex lots of LED matrices and keyboard matrices.</div><br/></div></div><div id="41813864" class="c"><input type="checkbox" id="c-41813864" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#41813164">root</a><span>|</span><a href="#41813737">parent</a><span>|</span><a href="#41815406">prev</a><span>|</span><label class="collapse" for="c-41813864">[-]</label><label class="expand" for="c-41813864">[1 more]</label></div><br/><div class="children"><div class="content">You may be right.</div><br/></div></div></div></div></div></div></div></div></div></div></div></body></html>