<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1708246851043" as="style"/><link rel="stylesheet" href="styles.css?v=1708246851043"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.kitsonkelly.com/posts/jsr-first-impressions">JSR first impressions: a JavaScript package manager by the Deno team (2023)</a> <span class="domain">(<a href="https://www.kitsonkelly.com">www.kitsonkelly.com</a>)</span></div><div class="subtext"><span>satvikpendem</span> | <span>49 comments</span></div><br/><div><div id="39414601" class="c"><input type="checkbox" id="c-39414601" checked=""/><div class="controls bullet"><span class="by">streptomycin</span><span>|</span><a href="#39415473">next</a><span>|</span><label class="collapse" for="c-39414601">[-]</label><label class="expand" for="c-39414601">[17 more]</label></div><br/><div class="children"><div class="content">Deno continues to seem very interested in making marginal improvements to the Node&#x2F;npm ecosystem that (if adopted) would be massive breaking changes for everyone. It&#x27;s hard for me to imagine many people being interested in this.</div><br/><div id="39417142" class="c"><input type="checkbox" id="c-39417142" checked=""/><div class="controls bullet"><span class="by">Aeolun</span><span>|</span><a href="#39414601">parent</a><span>|</span><a href="#39416449">next</a><span>|</span><label class="collapse" for="c-39417142">[-]</label><label class="expand" for="c-39417142">[1 more]</label></div><br/><div class="children"><div class="content">Forced Typescript, not thinking about what runtime I’m installing the package to, and automatically generated documentation sounds pretty compelling.<p>If they can make it happen without me having to do anything other than publish my existing TS code anyway.</div><br/></div></div><div id="39416449" class="c"><input type="checkbox" id="c-39416449" checked=""/><div class="controls bullet"><span class="by">DinoCoder99</span><span>|</span><a href="#39414601">parent</a><span>|</span><a href="#39417142">prev</a><span>|</span><a href="#39415266">next</a><span>|</span><label class="collapse" for="c-39416449">[-]</label><label class="expand" for="c-39416449">[4 more]</label></div><br/><div class="children"><div class="content">How do you fix node without breaking it? I don&#x27;t think this is possible.</div><br/><div id="39416476" class="c"><input type="checkbox" id="c-39416476" checked=""/><div class="controls bullet"><span class="by">Swizec</span><span>|</span><a href="#39414601">root</a><span>|</span><a href="#39416449">parent</a><span>|</span><a href="#39415266">next</a><span>|</span><label class="collapse" for="c-39416476">[-]</label><label class="expand" for="c-39416476">[3 more]</label></div><br/><div class="children"><div class="content">The benefit has to be big enough to warrant switching. Incremental improvements aren’t gonna cut it<p>Breaking is fine if it’s worth the effort. 10x better is the usual rule of thumb for this sort of thing.</div><br/><div id="39417147" class="c"><input type="checkbox" id="c-39417147" checked=""/><div class="controls bullet"><span class="by">handsclean</span><span>|</span><a href="#39414601">root</a><span>|</span><a href="#39416476">parent</a><span>|</span><a href="#39417008">next</a><span>|</span><label class="collapse" for="c-39417147">[-]</label><label class="expand" for="c-39417147">[1 more]</label></div><br/><div class="children"><div class="content">1.25 ^ 10 ≈ 10</div><br/></div></div><div id="39417008" class="c"><input type="checkbox" id="c-39417008" checked=""/><div class="controls bullet"><span class="by">bryanrasmussen</span><span>|</span><a href="#39414601">root</a><span>|</span><a href="#39416476">parent</a><span>|</span><a href="#39417147">prev</a><span>|</span><a href="#39415266">next</a><span>|</span><label class="collapse" for="c-39417008">[-]</label><label class="expand" for="c-39417008">[1 more]</label></div><br/><div class="children"><div class="content">huh we recently had to update our React 18 usage and it&#x27;s had a few programmers spending weeks on it. So why not move to Deno.</div><br/></div></div></div></div></div></div><div id="39415266" class="c"><input type="checkbox" id="c-39415266" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#39414601">parent</a><span>|</span><a href="#39416449">prev</a><span>|</span><a href="#39414660">next</a><span>|</span><label class="collapse" for="c-39415266">[-]</label><label class="expand" for="c-39415266">[1 more]</label></div><br/><div class="children"><div class="content">The disappointing part is that all their choices are the correct ones. I want a fresh start for the server side JS ecosystem that’s all ESM code, no NPM, etc etc. But you’re right, the momentum simply isn’t ever going to be there to make people switch to such a world.<p>I comfort myself with the knowledge that unlike Deno and Bun, Node isn’t propped up by VC funding. I can’t justify investing in either because I don’t know that they’re going to be around in the long term.</div><br/></div></div><div id="39414660" class="c"><input type="checkbox" id="c-39414660" checked=""/><div class="controls bullet"><span class="by">moritzwarhier</span><span>|</span><a href="#39414601">parent</a><span>|</span><a href="#39415266">prev</a><span>|</span><a href="#39416572">next</a><span>|</span><label class="collapse" for="c-39414660">[-]</label><label class="expand" for="c-39414660">[7 more]</label></div><br/><div class="children"><div class="content">Sadly, this is well-put.<p>Now that I got used to pnpm and yarn, as well as monorepo tools (nx), I feel like my preference would be to continue improving npm and node without forking.<p>I mean, there&#x27;s yarn, pnpm and other package managers.<p>Then there&#x27;s alternate JS runtimes, e.g. Deno or Bun.
Both of which are primarily interesting to me because of first-class TS support without transpiling.<p>I feel that the ideas of all these same-but-different approaches are in dire need of a shared roof and efforts on standardization and interoperability.<p>Not sure if corepack[1] is a step in the right direction, because it basically adds another abstraction layer on top of the runtime to choose and install the package manager...<p>All of the mentioned tools bring laudable and serious effort to the table, but I&#x27;d love for convergence to happen as soon as possible.<p>^1<p><a href="https:&#x2F;&#x2F;nodejs.org&#x2F;api&#x2F;corepack.html" rel="nofollow">https:&#x2F;&#x2F;nodejs.org&#x2F;api&#x2F;corepack.html</a></div><br/><div id="39415766" class="c"><input type="checkbox" id="c-39415766" checked=""/><div class="controls bullet"><span class="by">lioeters</span><span>|</span><a href="#39414601">root</a><span>|</span><a href="#39414660">parent</a><span>|</span><a href="#39414881">next</a><span>|</span><label class="collapse" for="c-39415766">[-]</label><label class="expand" for="c-39415766">[1 more]</label></div><br/><div class="children"><div class="content">&gt; efforts on standardization and interoperability<p>Just recently I saw something in this direction.. Ah yes, here it is.<p>WinterCG - Web-interoperable Runtimes Community Group<p>&gt; This community group aims to provide a space for JavaScript runtimes to collaborate on API interoperability. We focus on documenting and improving interoperability of web platform APIs across runtimes (especially non-browser ones).<p><a href="https:&#x2F;&#x2F;wintercg.org&#x2F;" rel="nofollow">https:&#x2F;&#x2F;wintercg.org&#x2F;</a><p>I see Cloudflare, Deno, Node.js, Netlify, Vercel. I guess Bun hasn&#x27;t joined yet, but they seem to be intentionally implementing web-compatible interfaces.</div><br/></div></div><div id="39414881" class="c"><input type="checkbox" id="c-39414881" checked=""/><div class="controls bullet"><span class="by">basicallybones</span><span>|</span><a href="#39414601">root</a><span>|</span><a href="#39414660">parent</a><span>|</span><a href="#39415766">prev</a><span>|</span><a href="#39414805">next</a><span>|</span><label class="collapse" for="c-39414881">[-]</label><label class="expand" for="c-39414881">[1 more]</label></div><br/><div class="children"><div class="content">I care a lot about using great tools, but I agree. The thought of having to hold another widely adopted backend JS runtime in my head to be an effective ecosystem developer is not pleasant. I would rather spend that concentration thinking about tools that complement JS&#x2F;NodeJS in massively more meaningful ways, like Golang or Rust.<p>I have a tremendous amount of respect for the Deno team, their point of view, and what they have done and continue to do. In an alternate reality, maybe everyone would be happier if they had displaced NodeJS. (I don&#x27;t know.) But from my point of view in the trenches, seriously imagining the widespread adoption of another major NodeJS-incompatible runtime (the browsers are bad enough!) is almost depression-inducing. I just finished migrating my monorepo source code to ESM (except for the lingering .cjs config files for commonjs-only dependencies). Holy hell, did that make me long for Laravel. It does not have to be this way. Enough already.</div><br/></div></div><div id="39414805" class="c"><input type="checkbox" id="c-39414805" checked=""/><div class="controls bullet"><span class="by">teaearlgraycold</span><span>|</span><a href="#39414601">root</a><span>|</span><a href="#39414660">parent</a><span>|</span><a href="#39414881">prev</a><span>|</span><a href="#39414808">next</a><span>|</span><label class="collapse" for="c-39414805">[-]</label><label class="expand" for="c-39414805">[3 more]</label></div><br/><div class="children"><div class="content">Bun is actually attempting to achieve full NodeJS interoperability.<p>Side note: nx is some of the worst software I&#x27;ve ever been unfortunate enough to use. Maybe it&#x27;s changed in the last 2 years.</div><br/><div id="39415181" class="c"><input type="checkbox" id="c-39415181" checked=""/><div class="controls bullet"><span class="by">basicallybones</span><span>|</span><a href="#39414601">root</a><span>|</span><a href="#39414805">parent</a><span>|</span><a href="#39414905">next</a><span>|</span><label class="collapse" for="c-39415181">[-]</label><label class="expand" for="c-39415181">[1 more]</label></div><br/><div class="children"><div class="content">NX is a double-bladed lightsaber. I love it when it is working. The problem (and I say this with appreciation for the difficulty of the task) is there are too many bugs. Bugs in your monorepo tooling are scary and dangerous, especially for young or lower-maturity shops without very comprehensive QA.<p>A few months ago, I managed to get all the way to final production artifact verification on an iOS app after a casual NX upgrade and multiple major monorepo-level commits to discover that the &quot;fileReplacements&quot; configuration for the application environment variables had stopped working. Boy did that ever stress me out, because that would be a disaster to release, and it is so low in the tooling stack that you can be lulled into expecting that sort of thing to just...work because the team supporting it understands the consequences of a breakage in that sort of functionality. This is the type of bug that results in incidents that developers write their &quot;it-finally-happened-to-us&quot; blog posts about. I mention this because it was a particularly memorable incident for me, but there have been other bugs that were less dangerous and more just unpleasant, but any failure to properly compute affected packages in a production build could get very gross. This feels like a memory, but it might just be a fear.<p>I still voluntarily keep NX and like a lot of things about it. The engineers seem to care a lot and have made some impressive features. But I stay on my toes, and my attitude has shifted away from excitement about the latest-and-greatest to a focus on keeping my options open and minimizing lock-in.<p>It feels like the NX decision-makers are trying to do much, too quickly. They are building and releasing with notable speed. How many production releases are there for each NextJS production release? And NX is at a lower level of the tooling stack, with a far broader range of integrations. I state that merely as an off-the-cuff anecdotal observation, not as some greater opinion on release cadence. But this does feel like &quot;a more releases, more bugs, wrong area of the tech stack for that&quot; type of situation.</div><br/></div></div><div id="39414905" class="c"><input type="checkbox" id="c-39414905" checked=""/><div class="controls bullet"><span class="by">moritzwarhier</span><span>|</span><a href="#39414601">root</a><span>|</span><a href="#39414805">parent</a><span>|</span><a href="#39415181">prev</a><span>|</span><a href="#39414808">next</a><span>|</span><label class="collapse" for="c-39414905">[-]</label><label class="expand" for="c-39414905">[1 more]</label></div><br/><div class="children"><div class="content">Thanks, I didn&#x27;t know this.<p>Re nx, i can&#x27;t tell if it has improved since 2 years ago, but i feel it being an inconvenient abstract layer at times; 
OTOH: I rarely encountered nx-specific issues at work, and all of them have been caching-related.<p>It&#x27;s mostly doing well at organizing a monorepo with lots of code in different languages.</div><br/></div></div></div></div></div></div><div id="39416572" class="c"><input type="checkbox" id="c-39416572" checked=""/><div class="controls bullet"><span class="by">petre</span><span>|</span><a href="#39414601">parent</a><span>|</span><a href="#39414660">prev</a><span>|</span><a href="#39416605">next</a><span>|</span><label class="collapse" for="c-39416572">[-]</label><label class="expand" for="c-39416572">[2 more]</label></div><br/><div class="children"><div class="content">Npm is already broken beyond repair. It doesn&#x27;t enforce anything, so the result is a total mess. It&#x27;s the Wild West of Javascript development. Even if people are not interested now, they might be interested later when and if Deno gathers momentum and they become fed up with fighting the npm mess.</div><br/><div id="39416596" class="c"><input type="checkbox" id="c-39416596" checked=""/><div class="controls bullet"><span class="by">bandergirl</span><span>|</span><a href="#39414601">root</a><span>|</span><a href="#39416572">parent</a><span>|</span><a href="#39416605">next</a><span>|</span><label class="collapse" for="c-39416596">[-]</label><label class="expand" for="c-39416596">[1 more]</label></div><br/><div class="children"><div class="content">The last time I pointed this out, some npm dinosaur said npm allows publishing of any type of package so it cannot enforce a structure. Wow, really, that’s exactly what I’m saying. Whose fault is that? So the result is that nobody knows how to publish anything so npm is in shambles.</div><br/></div></div></div></div><div id="39416605" class="c"><input type="checkbox" id="c-39416605" checked=""/><div class="controls bullet"><span class="by">skybrian</span><span>|</span><a href="#39414601">parent</a><span>|</span><a href="#39416572">prev</a><span>|</span><a href="#39415473">next</a><span>|</span><label class="collapse" for="c-39416605">[-]</label><label class="expand" for="c-39416605">[1 more]</label></div><br/><div class="children"><div class="content">What would break?</div><br/></div></div></div></div><div id="39415473" class="c"><input type="checkbox" id="c-39415473" checked=""/><div class="controls bullet"><span class="by">seniorsassycat</span><span>|</span><a href="#39414601">prev</a><span>|</span><a href="#39414376">next</a><span>|</span><label class="collapse" for="c-39415473">[-]</label><label class="expand" for="c-39415473">[5 more]</label></div><br/><div class="children"><div class="content">I think there&#x27;s a lot of room to innovate in the JavaScript package manager and registry space.<p>• support for optional features and dependencies tied to them, ala cargo. How many npm vulnerabilities are introduced thru the command line parser of a package you only use as a library?<p>• step away from packag.json. It&#x27;s fine to keep it for the registry or even runtime, but development should use a file that supports comments.<p>• some automated version compatibility enforcement via typedefs or registry side tests.<p>• packages with more than one artifact so types, original source, and platform native artifacts can be published in one package but download only when needed.</div><br/><div id="39416630" class="c"><input type="checkbox" id="c-39416630" checked=""/><div class="controls bullet"><span class="by">bandergirl</span><span>|</span><a href="#39415473">parent</a><span>|</span><a href="#39416772">next</a><span>|</span><label class="collapse" for="c-39416630">[-]</label><label class="expand" for="c-39416630">[3 more]</label></div><br/><div class="children"><div class="content">• that’s a solved problem: packages shouldn’t bundle CLI tools. Sindre Sorhus has been separating “CLI” from “API” for many years. “Unused dependencies” in general isn’t a solvable problem because a dependency might only be used if a certain parameter is passed. By the time that piece of code is reached, you either have it installed or it’s too late.<p>• that’s an issue that never got solved for the same reason: “package.json is never going away so we won’t add more ways to do the same thing” — ok so node&#x2F;npm is going to suck forever, fantastic.</div><br/><div id="39416891" class="c"><input type="checkbox" id="c-39416891" checked=""/><div class="controls bullet"><span class="by">seniorsassycat</span><span>|</span><a href="#39415473">root</a><span>|</span><a href="#39416630">parent</a><span>|</span><a href="#39416908">next</a><span>|</span><label class="collapse" for="c-39416891">[-]</label><label class="expand" for="c-39416891">[1 more]</label></div><br/><div class="children"><div class="content">I think feature dependencies are better modeled than simple package splitting.<p>&gt; For example, let’s say we have added some serialization support to our library, and it requires enabling a corresponding feature<p>&gt; In this example, enabling the serde feature will enable the serde dependency. It will also enable the serde feature for the rgb dependency, but only if something else has enabled the rgb dependency.<p><a href="https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;cargo&#x2F;reference&#x2F;features.html" rel="nofollow">https:&#x2F;&#x2F;doc.rust-lang.org&#x2F;cargo&#x2F;reference&#x2F;features.html</a><p>It sounds better to install foo { features = serde } than foo, @foo&#x2F;serde, and @bar&#x2F;serde.</div><br/></div></div><div id="39416908" class="c"><input type="checkbox" id="c-39416908" checked=""/><div class="controls bullet"><span class="by">seniorsassycat</span><span>|</span><a href="#39415473">root</a><span>|</span><a href="#39416630">parent</a><span>|</span><a href="#39416891">prev</a><span>|</span><a href="#39416772">next</a><span>|</span><label class="collapse" for="c-39416908">[-]</label><label class="expand" for="c-39416908">[1 more]</label></div><br/><div class="children"><div class="content">Npm has optional dependencies and there are libraries that error when you use a code push that requires them. Features would formalize that pattern and improve it with clear errors, and composability.</div><br/></div></div></div></div><div id="39416772" class="c"><input type="checkbox" id="c-39416772" checked=""/><div class="controls bullet"><span class="by">anoopelias</span><span>|</span><a href="#39415473">parent</a><span>|</span><a href="#39416630">prev</a><span>|</span><a href="#39414376">next</a><span>|</span><label class="collapse" for="c-39416772">[-]</label><label class="expand" for="c-39416772">[1 more]</label></div><br/><div class="children"><div class="content">&gt; support for optional features and dependencies tied to them, ala cargo.<p>For those of us who relies on trunk-based-development and feature flags, lack of this feature has been major pain! I can&#x27;t remember how many times we had to keep a feature in a branch because it needs a change in package.json.</div><br/></div></div></div></div><div id="39414376" class="c"><input type="checkbox" id="c-39414376" checked=""/><div class="controls bullet"><span class="by">diob</span><span>|</span><a href="#39415473">prev</a><span>|</span><a href="#39417256">next</a><span>|</span><label class="collapse" for="c-39414376">[-]</label><label class="expand" for="c-39414376">[4 more]</label></div><br/><div class="children"><div class="content">That font is so hard for me to read, personally.  Had to swap it in the browser tools.</div><br/><div id="39414541" class="c"><input type="checkbox" id="c-39414541" checked=""/><div class="controls bullet"><span class="by">MBCook</span><span>|</span><a href="#39414376">parent</a><span>|</span><a href="#39414490">next</a><span>|</span><label class="collapse" for="c-39414541">[-]</label><label class="expand" for="c-39414541">[2 more]</label></div><br/><div class="children"><div class="content">The heavy emphasis on “deno.land&#x2F;x” every single time it appeared was kind of puzzling too, I found it quite distracting compared to the rest of the text.</div><br/><div id="39415938" class="c"><input type="checkbox" id="c-39415938" checked=""/><div class="controls bullet"><span class="by">saghm</span><span>|</span><a href="#39414376">root</a><span>|</span><a href="#39414541">parent</a><span>|</span><a href="#39414490">next</a><span>|</span><label class="collapse" for="c-39415938">[-]</label><label class="expand" for="c-39415938">[1 more]</label></div><br/><div class="children"><div class="content">I think that&#x27;s just how all of the links are styled?</div><br/></div></div></div></div><div id="39414490" class="c"><input type="checkbox" id="c-39414490" checked=""/><div class="controls bullet"><span class="by">SOLAR_FIELDS</span><span>|</span><a href="#39414376">parent</a><span>|</span><a href="#39414541">prev</a><span>|</span><a href="#39417256">next</a><span>|</span><label class="collapse" for="c-39414490">[-]</label><label class="expand" for="c-39414490">[1 more]</label></div><br/><div class="children"><div class="content">Op should also probably consider running future posts through a spell checker. There were quite a few obvious misspellings and words that I had to double take on because they were the completely wrong word to use in that context and some other word should have been used instead</div><br/></div></div></div></div><div id="39417256" class="c"><input type="checkbox" id="c-39417256" checked=""/><div class="controls bullet"><span class="by">dgoldstein0</span><span>|</span><a href="#39414376">prev</a><span>|</span><a href="#39414776">next</a><span>|</span><label class="collapse" for="c-39417256">[-]</label><label class="expand" for="c-39417256">[1 more]</label></div><br/><div class="children"><div class="content">Anyone know what the &quot;zapped&quot; they mention as a form of typechecking is? I&#x27;d like to learn more about that and the tools that do that</div><br/></div></div><div id="39414776" class="c"><input type="checkbox" id="c-39414776" checked=""/><div class="controls bullet"><span class="by">fyrn_</span><span>|</span><a href="#39417256">prev</a><span>|</span><a href="#39414739">next</a><span>|</span><label class="collapse" for="c-39414776">[-]</label><label class="expand" for="c-39414776">[1 more]</label></div><br/><div class="children"><div class="content">Package manager is clearly an incorrect title (issue is on the hn submission side), should be &quot;package registry&quot; package managers are a dime a dozen these days.</div><br/></div></div><div id="39414739" class="c"><input type="checkbox" id="c-39414739" checked=""/><div class="controls bullet"><span class="by">tracker1</span><span>|</span><a href="#39414776">prev</a><span>|</span><a href="#39415046">next</a><span>|</span><label class="collapse" for="c-39414739">[-]</label><label class="expand" for="c-39414739">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;m a bit mixed in this.  I get the desire to be interpretable with npm.  There&#x27;s a massive ecosystem out there.  I kind of liked the everything is a fixed http endpoint.  I also get the desire for compatible versions across need dependencies.<p>I have access, but haven&#x27;t worked with it yet since my personal time has been spent more on rust recently.  Should probably convert one of my libraries to Deno first and see where the pain points are both with jsr and deploying to npm as well as checking npm compatibility.<p>A lot of what I&#x27;ve worked on has been feature complete and only updating dependencies now and then.  So rolling into Deno testing and formatting could be interesting.  I&#x27;ve been using Rome&#x2F;Biome for a lot of this the past couple years.<p>TS&#x2F;Deno first is definitely easier than the other way. I&#x27;ve also found Deno to be great for shell scripting.</div><br/></div></div><div id="39415046" class="c"><input type="checkbox" id="c-39415046" checked=""/><div class="controls bullet"><span class="by">whoknowsidont</span><span>|</span><a href="#39414739">prev</a><span>|</span><a href="#39414996">next</a><span>|</span><label class="collapse" for="c-39415046">[-]</label><label class="expand" for="c-39415046">[6 more]</label></div><br/><div class="children"><div class="content">TypeScript should not be pushed or published. Do not do that.</div><br/><div id="39415157" class="c"><input type="checkbox" id="c-39415157" checked=""/><div class="controls bullet"><span class="by">Bellend</span><span>|</span><a href="#39415046">parent</a><span>|</span><a href="#39415464">next</a><span>|</span><label class="collapse" for="c-39415157">[-]</label><label class="expand" for="c-39415157">[4 more]</label></div><br/><div class="children"><div class="content">Could you provide why not? I have a utility library (Project A) and whilst messing around with TurboRepo, I noticed I could point to the source files in my package. I haven&#x27;t progressed down that route, but something about it seemed nice.<p>So in other words, if Project B depends on Project A, either I could build Project A and then build Project B or I could just build Project B (which consumes Project A as a typescript package).<p>Kinda confusingly written but I would love to know why that is an issue.</div><br/><div id="39415283" class="c"><input type="checkbox" id="c-39415283" checked=""/><div class="controls bullet"><span class="by">afavour</span><span>|</span><a href="#39415046">root</a><span>|</span><a href="#39415157">parent</a><span>|</span><a href="#39416129">next</a><span>|</span><label class="collapse" for="c-39415283">[-]</label><label class="expand" for="c-39415283">[2 more]</label></div><br/><div class="children"><div class="content">One thing that comes to mind is different TypeScript versions.<p>JS has ES6 and ES2020 etc and that’s enough to deal with, Typescript is younger and has been moving faster, compatibility might be difficult around the edges.<p>Longer term I agree with you though, I’d much rather see TS source than JS plus types when I’m looking at the source code of a module.</div><br/><div id="39415700" class="c"><input type="checkbox" id="c-39415700" checked=""/><div class="controls bullet"><span class="by">ricardobeat</span><span>|</span><a href="#39415046">root</a><span>|</span><a href="#39415283">parent</a><span>|</span><a href="#39416129">next</a><span>|</span><label class="collapse" for="c-39415700">[-]</label><label class="expand" for="c-39415700">[1 more]</label></div><br/><div class="children"><div class="content">I don’t know why you’re being downvoted, my experience has been that minor version TS releases usually create a cascade of hundreds of type check failures even though the syntax itself is backwards-compatible.<p>It would be impossible for a project pulling TS sources directly to achieve stability (or even compile all dependencies with a single version of TypeScript in the first place).</div><br/></div></div></div></div><div id="39416129" class="c"><input type="checkbox" id="c-39416129" checked=""/><div class="controls bullet"><span class="by">plopz</span><span>|</span><a href="#39415046">root</a><span>|</span><a href="#39415157">parent</a><span>|</span><a href="#39415283">prev</a><span>|</span><a href="#39415464">next</a><span>|</span><label class="collapse" for="c-39416129">[-]</label><label class="expand" for="c-39416129">[1 more]</label></div><br/><div class="children"><div class="content">I tried to do exactly what you say last week but I couldn&#x27;t get it to work. The turborepo documentation seems to indicate its possible with the whole concept of &quot;internal packages&quot; but it all depends on the compilation step of Project B being configured to compile and bundle workspace dependencies, and a simple &quot;tsc&quot; wasn&#x27;t doing it for me regardless of the different tsconfig settings I tried.<p>If its actually possible I&#x27;d love to know how.</div><br/></div></div></div></div><div id="39415464" class="c"><input type="checkbox" id="c-39415464" checked=""/><div class="controls bullet"><span class="by">silverwind</span><span>|</span><a href="#39415046">parent</a><span>|</span><a href="#39415157">prev</a><span>|</span><a href="#39414996">next</a><span>|</span><label class="collapse" for="c-39415464">[-]</label><label class="expand" for="c-39415464">[1 more]</label></div><br/><div class="children"><div class="content">The only downside that I see is that the runtime needs to be able to compile older versions of TS with all the quirks of that specific TS version, so likely it would need to ship multiple TS compilers.<p>If only the ECMA Typo proposal would finally be implemented, we wouldn&#x27;t have all these issues.</div><br/></div></div></div></div><div id="39414996" class="c"><input type="checkbox" id="c-39414996" checked=""/><div class="controls bullet"><span class="by">spankalee</span><span>|</span><a href="#39415046">prev</a><span>|</span><a href="#39416004">next</a><span>|</span><label class="collapse" for="c-39414996">[-]</label><label class="expand" for="c-39414996">[6 more]</label></div><br/><div class="children"><div class="content">Publishing and importing TypeScript is a huge mistake.<p>Packages should just compile TypeScript to JS and publish that as they do now.</div><br/><div id="39415061" class="c"><input type="checkbox" id="c-39415061" checked=""/><div class="controls bullet"><span class="by">paulgb</span><span>|</span><a href="#39414996">parent</a><span>|</span><a href="#39416887">next</a><span>|</span><label class="collapse" for="c-39415061">[-]</label><label class="expand" for="c-39415061">[1 more]</label></div><br/><div class="children"><div class="content">Why? I’m not primarily a JS&#x2F;TS dev, but when I’m dealing with the JS ecosystem, operating across two languages is one of the pain points (e.g. clicking a function in my editor and getting the typedef instead of the code). Now that runtimes like Deno and Bun support TS natively, why shouldn’t we avoid that completely?</div><br/></div></div><div id="39416887" class="c"><input type="checkbox" id="c-39416887" checked=""/><div class="controls bullet"><span class="by">golergka</span><span>|</span><a href="#39414996">parent</a><span>|</span><a href="#39415061">prev</a><span>|</span><a href="#39417141">next</a><span>|</span><label class="collapse" for="c-39416887">[-]</label><label class="expand" for="c-39416887">[1 more]</label></div><br/><div class="children"><div class="content">Do you enjoy having to search for the TS source of the stacktrace that ends up in some third-party library compiled TS? Because I don&#x27;t.</div><br/></div></div><div id="39417141" class="c"><input type="checkbox" id="c-39417141" checked=""/><div class="controls bullet"><span class="by">baq</span><span>|</span><a href="#39414996">parent</a><span>|</span><a href="#39416887">prev</a><span>|</span><a href="#39415782">next</a><span>|</span><label class="collapse" for="c-39417141">[-]</label><label class="expand" for="c-39417141">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, no. JS should be banned for new packages. Only TS or WASM should be allowed.<p>The mistake was to allow multiple half-assed implementations of JS modules in the ecosystem.</div><br/></div></div><div id="39415782" class="c"><input type="checkbox" id="c-39415782" checked=""/><div class="controls bullet"><span class="by">postalrat</span><span>|</span><a href="#39414996">parent</a><span>|</span><a href="#39417141">prev</a><span>|</span><a href="#39416458">next</a><span>|</span><label class="collapse" for="c-39415782">[-]</label><label class="expand" for="c-39415782">[1 more]</label></div><br/><div class="children"><div class="content">Publish just js or js and types?</div><br/></div></div><div id="39416458" class="c"><input type="checkbox" id="c-39416458" checked=""/><div class="controls bullet"><span class="by">DinoCoder99</span><span>|</span><a href="#39414996">parent</a><span>|</span><a href="#39415782">prev</a><span>|</span><a href="#39416004">next</a><span>|</span><label class="collapse" for="c-39416458">[-]</label><label class="expand" for="c-39416458">[1 more]</label></div><br/><div class="children"><div class="content">Why? To whose benefit?</div><br/></div></div></div></div><div id="39414452" class="c"><input type="checkbox" id="c-39414452" checked=""/><div class="controls bullet"><span class="by">issafram</span><span>|</span><a href="#39415998">prev</a><span>|</span><label class="collapse" for="c-39414452">[-]</label><label class="expand" for="c-39414452">[5 more]</label></div><br/><div class="children"><div class="content">Another one?</div><br/><div id="39414551" class="c"><input type="checkbox" id="c-39414551" checked=""/><div class="controls bullet"><span class="by">MBCook</span><span>|</span><a href="#39414452">parent</a><span>|</span><label class="collapse" for="c-39414551">[-]</label><label class="expand" for="c-39414551">[4 more]</label></div><br/><div class="children"><div class="content">If you would read the article, they’re coming to replace the registry as well instead of being a new developer front end npm, yarn, etc) against the same npmjs registry everyone is used to.</div><br/><div id="39414737" class="c"><input type="checkbox" id="c-39414737" checked=""/><div class="controls bullet"><span class="by">monkpit</span><span>|</span><a href="#39414452">root</a><span>|</span><a href="#39414551">parent</a><span>|</span><label class="collapse" for="c-39414737">[-]</label><label class="expand" for="c-39414737">[3 more]</label></div><br/><div class="children"><div class="content">The HN title says “package manager” but that’s nowhere in the article, so it’s a bit confusing for sure.</div><br/><div id="39414763" class="c"><input type="checkbox" id="c-39414763" checked=""/><div class="controls bullet"><span class="by">MBCook</span><span>|</span><a href="#39414452">root</a><span>|</span><a href="#39414737">parent</a><span>|</span><label class="collapse" for="c-39414763">[-]</label><label class="expand" for="c-39414763">[2 more]</label></div><br/><div class="children"><div class="content">It’s the 4th paragraph. First sentence.<p>Right under the heading “What is JSR”.</div><br/><div id="39414935" class="c"><input type="checkbox" id="c-39414935" checked=""/><div class="controls bullet"><span class="by">tekacs</span><span>|</span><a href="#39414452">root</a><span>|</span><a href="#39414763">parent</a><span>|</span><label class="collapse" for="c-39414935">[-]</label><label class="expand" for="c-39414935">[1 more]</label></div><br/><div class="children"><div class="content">I mean yes... but the sentence clearly says that it&#x27;s &#x2F;not&#x2F; a package manager.<p>&gt; JSR is a Javascript&#x2F;TypeScript registry. It is not a package manager.</div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>