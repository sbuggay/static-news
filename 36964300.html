<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1690966863055" as="style"/><link rel="stylesheet" href="styles.css?v=1690966863055"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://rachelbythebay.com/w/2020/04/11/pengrun/">Bored? How about trying a Linux speedrun? (2020)</a> <span class="domain">(<a href="https://rachelbythebay.com">rachelbythebay.com</a>)</span></div><div class="subtext"><span>mdwalters</span> | <span>42 comments</span></div><br/><div><div id="36967755" class="c"><input type="checkbox" id="c-36967755" checked=""/><div class="controls bullet"><span class="by">cyclotron3k</span><span>|</span><a href="#36966309">next</a><span>|</span><label class="collapse" for="c-36967755">[-]</label><label class="expand" for="c-36967755">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s more like an escape room than a speed run.<p>First person to watch a specific youtube video, which contains the password, wins.<p>Or maybe you&#x27;re literally locked in a room, and you have to bootstrap the PC to the point where you can connect to the local network, then connect to the insecure Citrix server which is running the security software that controls the door locks. From there you can unlock the door to your cell and escape.<p>Only to find you&#x27;re standing alone on an abandoned oil rig in the north Atlantic.</div><br/><div id="36968247" class="c"><input type="checkbox" id="c-36968247" checked=""/><div class="controls bullet"><span class="by">hsbauauvhabzb</span><span>|</span><a href="#36967755">parent</a><span>|</span><a href="#36966309">next</a><span>|</span><label class="collapse" for="c-36968247">[-]</label><label class="expand" for="c-36968247">[1 more]</label></div><br/><div class="children"><div class="content">Just thought I might jump in to point out that the phrase ‘insecure Citrix’ may contain a redundant term</div><br/></div></div></div></div><div id="36966309" class="c"><input type="checkbox" id="c-36966309" checked=""/><div class="controls bullet"><span class="by">nickstinemates</span><span>|</span><a href="#36967755">prev</a><span>|</span><a href="#36965809">next</a><span>|</span><label class="collapse" for="c-36966309">[-]</label><label class="expand" for="c-36966309">[11 more]</label></div><br/><div class="children"><div class="content">I recommend anyone wanting to learn Linux to deploy a Gentoo machine. It gives you a crash course in all of the various components, allows you to hand roll&#x2F;customize your kernel, and provides incredible granularity in tuning <i>precisely</i> what is on your system. No bloat. No extra dependencies. Apps compiled with support for &quot;superfluous&quot; features disabled, etc.<p>I owe my love of chroot to Gentoo.<p>The guide[1] is incredibly straightforward and easy to follow.<p>1: <a href="https:&#x2F;&#x2F;wiki.gentoo.org&#x2F;wiki&#x2F;Handbook:AMD64" rel="nofollow noreferrer">https:&#x2F;&#x2F;wiki.gentoo.org&#x2F;wiki&#x2F;Handbook:AMD64</a></div><br/><div id="36966960" class="c"><input type="checkbox" id="c-36966960" checked=""/><div class="controls bullet"><span class="by">chaxor</span><span>|</span><a href="#36966309">parent</a><span>|</span><a href="#36966564">next</a><span>|</span><label class="collapse" for="c-36966960">[-]</label><label class="expand" for="c-36966960">[2 more]</label></div><br/><div class="children"><div class="content">It seems that pairing this with the original post, the best outcome is a single shell file, that takes a few arguments, such as device location (USB at &#x2F;dev&#x2F;sde) and username&#x2F;password, etc, and compiles the bootloader, the kernel, etc from scratch using the most trusted basic sources, and then places that on the target device.<p>Obviously it should also install any additional apps like vim, adjust terminal colors, create and copy your ssh keys to machines needed, and configure any windows managers, etc as well from the single shell command.<p>Making that single shell command as small, reliable, readable, and maintainable as possible is the real challenge.</div><br/><div id="36966971" class="c"><input type="checkbox" id="c-36966971" checked=""/><div class="controls bullet"><span class="by">nickstinemates</span><span>|</span><a href="#36966309">root</a><span>|</span><a href="#36966960">parent</a><span>|</span><a href="#36966564">next</a><span>|</span><label class="collapse" for="c-36966971">[-]</label><label class="expand" for="c-36966971">[1 more]</label></div><br/><div class="children"><div class="content">`archinstall` on a fresh arch iso gives you something similar in TUI fashion and can export a json output you can save to clone the install to additional machines.</div><br/></div></div></div></div><div id="36966564" class="c"><input type="checkbox" id="c-36966564" checked=""/><div class="controls bullet"><span class="by">yellow_postit</span><span>|</span><a href="#36966309">parent</a><span>|</span><a href="#36966960">prev</a><span>|</span><a href="#36966738">next</a><span>|</span><label class="collapse" for="c-36966564">[-]</label><label class="expand" for="c-36966564">[7 more]</label></div><br/><div class="children"><div class="content">Linux From Scratch gets even more into the weeds.<p>My arc was gentoo -&gt; lfs -&gt; arch Linux when I realized I didn’t want to fiddle as much.</div><br/><div id="36966643" class="c"><input type="checkbox" id="c-36966643" checked=""/><div class="controls bullet"><span class="by">yellowapple</span><span>|</span><a href="#36966309">root</a><span>|</span><a href="#36966564">parent</a><span>|</span><a href="#36967081">next</a><span>|</span><label class="collapse" for="c-36966643">[-]</label><label class="expand" for="c-36966643">[3 more]</label></div><br/><div class="children"><div class="content">Slackware comes pretty close, too.  Yeah, you <i>can</i> use the TUI installer... but Slackware packages are pretty much just tarballs that you could extract directly onto &#x2F; (plus an extra folder for metadata and post-install scripts).  Starting with a bare-minimum Linux install and extracting enough packages one-by-one to get slackpkg working is a fun exercise (one which I&#x27;ve indeed done on everything from various LXC-based budget VPSs to old thin clients with disk space in the hundreds of MB at best).</div><br/><div id="36967566" class="c"><input type="checkbox" id="c-36967566" checked=""/><div class="controls bullet"><span class="by">fouc</span><span>|</span><a href="#36966309">root</a><span>|</span><a href="#36966643">parent</a><span>|</span><a href="#36967081">next</a><span>|</span><label class="collapse" for="c-36967566">[-]</label><label class="expand" for="c-36967566">[2 more]</label></div><br/><div class="children"><div class="content">my arc was slackware -&gt; gentoo -&gt; arch.  very similar vibes across them all I thought.</div><br/><div id="36967709" class="c"><input type="checkbox" id="c-36967709" checked=""/><div class="controls bullet"><span class="by">yellowapple</span><span>|</span><a href="#36966309">root</a><span>|</span><a href="#36967566">parent</a><span>|</span><a href="#36967081">next</a><span>|</span><label class="collapse" for="c-36967709">[-]</label><label class="expand" for="c-36967709">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s indeed why I lump them together as the &quot;SAG Trifecta&quot;.</div><br/></div></div></div></div></div></div><div id="36967081" class="c"><input type="checkbox" id="c-36967081" checked=""/><div class="controls bullet"><span class="by">leidenfrost</span><span>|</span><a href="#36966309">root</a><span>|</span><a href="#36966564">parent</a><span>|</span><a href="#36966643">prev</a><span>|</span><a href="#36966979">next</a><span>|</span><label class="collapse" for="c-36967081">[-]</label><label class="expand" for="c-36967081">[2 more]</label></div><br/><div class="children"><div class="content">My experience with LFS is checking a few makefiles, the  doing .&#x2F;configure &amp;&amp; male &amp;&amp; make install because I got tired os checking everything by hand.<p>Personally, gentoo is nice because, once you know your way, you can do a big emerge and go get a coffe while it compiles everything.</div><br/><div id="36968552" class="c"><input type="checkbox" id="c-36968552" checked=""/><div class="controls bullet"><span class="by">bigpeopleareold</span><span>|</span><a href="#36966309">root</a><span>|</span><a href="#36967081">parent</a><span>|</span><a href="#36966979">next</a><span>|</span><label class="collapse" for="c-36968552">[-]</label><label class="expand" for="c-36968552">[1 more]</label></div><br/><div class="children"><div class="content">I started to go through LFS, but with the intent of scripting it. What ultimately though slowed me down to a halt was a persistent VirtualBox issue I couldn&#x27;t solve. But I think I just easily jump back into it now :D</div><br/></div></div></div></div><div id="36966979" class="c"><input type="checkbox" id="c-36966979" checked=""/><div class="controls bullet"><span class="by">nickstinemates</span><span>|</span><a href="#36966309">root</a><span>|</span><a href="#36966564">parent</a><span>|</span><a href="#36967081">prev</a><span>|</span><a href="#36966738">next</a><span>|</span><label class="collapse" for="c-36966979">[-]</label><label class="expand" for="c-36966979">[1 more]</label></div><br/><div class="children"><div class="content">Similar arc, but have fiddled with them all. These days most of my machines are arch(btw) or Alpine.</div><br/></div></div></div></div><div id="36966738" class="c"><input type="checkbox" id="c-36966738" checked=""/><div class="controls bullet"><span class="by">Given_47</span><span>|</span><a href="#36966309">parent</a><span>|</span><a href="#36966564">prev</a><span>|</span><a href="#36965809">next</a><span>|</span><label class="collapse" for="c-36966738">[-]</label><label class="expand" for="c-36966738">[1 more]</label></div><br/><div class="children"><div class="content">Ah I’m actually mid gentoo install on an old MacBook of mine for that exact reason. Minimum cd from bootable usb stick altho I’ve currently approached a roadblock with getting the damn wifi set up lol. Ik I <i>can</i> ssh in, but since the goal is a learning experience it seems like kind of a cop out</div><br/></div></div></div></div><div id="36965809" class="c"><input type="checkbox" id="c-36965809" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#36966309">prev</a><span>|</span><a href="#36967362">next</a><span>|</span><label class="collapse" for="c-36965809">[-]</label><label class="expand" for="c-36965809">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Then someone would decide it&#x27;s too easy if you have this thing or that thing, and they&#x27;d cut down the starting conditions.<p>Related: <a href="https:&#x2F;&#x2F;guix.gnu.org&#x2F;en&#x2F;blog&#x2F;2023&#x2F;the-full-source-bootstrap-building-from-source-all-the-way-down&#x2F;" rel="nofollow noreferrer">https:&#x2F;&#x2F;guix.gnu.org&#x2F;en&#x2F;blog&#x2F;2023&#x2F;the-full-source-bootstrap-...</a> and <a href="https:&#x2F;&#x2F;guix.gnu.org&#x2F;manual&#x2F;en&#x2F;html_node&#x2F;Reduced-Binary-Seed-Bootstrap.html" rel="nofollow noreferrer">https:&#x2F;&#x2F;guix.gnu.org&#x2F;manual&#x2F;en&#x2F;html_node&#x2F;Reduced-Binary-Seed...</a> - AIUI, the idea is that you can bootstrap from a tiny hex program (small enough to hand-enter) and then iterate compilers up to current gcc on normal GNU&#x2F;Linux.</div><br/></div></div><div id="36967362" class="c"><input type="checkbox" id="c-36967362" checked=""/><div class="controls bullet"><span class="by">whartung</span><span>|</span><a href="#36965809">prev</a><span>|</span><a href="#36967888">next</a><span>|</span><label class="collapse" for="c-36967362">[-]</label><label class="expand" for="c-36967362">[3 more]</label></div><br/><div class="children"><div class="content">There’s folklore, I don’t know where I heard it, or if I just made it up, so take it with a grain of salt.<p>But the story is the Chuck Moore, when he wrote ColorFORTH, essentially started with DOS, DEBUG, and a floppy drive.<p>And from this sprang forth (ahem) ColorFORTH. Essentially he hand keyed in the most minimal core necessary to start working with his own tools until he had a boot floppy. Then he tossed DOS and DEBUG and off he went.<p>Appreciate that the original FigForth is about 80 screens of code. And a 3.5” PC floppy can store over 1400 screens.<p>Chuck seems to be the kind of person that could type in a rough Forth in raw assembly and get it editable a feed on itself to get more powerful.<p>It’s an interesting thought experiment to be sure.</div><br/><div id="36967608" class="c"><input type="checkbox" id="c-36967608" checked=""/><div class="controls bullet"><span class="by">emmelaich</span><span>|</span><a href="#36967362">parent</a><span>|</span><a href="#36967715">next</a><span>|</span><label class="collapse" for="c-36967608">[-]</label><label class="expand" for="c-36967608">[1 more]</label></div><br/><div class="children"><div class="content">Yeh, I think one of the first steps would be to write a tiny lisp or forth. Maybe something like tcl or perl&#x2F;awk subset.<p>Probably the most bang-for-buck.</div><br/></div></div><div id="36967715" class="c"><input type="checkbox" id="c-36967715" checked=""/><div class="controls bullet"><span class="by">m463</span><span>|</span><a href="#36967362">parent</a><span>|</span><a href="#36967608">prev</a><span>|</span><a href="#36967888">next</a><span>|</span><label class="collapse" for="c-36967715">[-]</label><label class="expand" for="c-36967715">[1 more]</label></div><br/><div class="children"><div class="content">bootstrap, aka becoming sovereign aka self-made man.</div><br/></div></div></div></div><div id="36967888" class="c"><input type="checkbox" id="c-36967888" checked=""/><div class="controls bullet"><span class="by">cturner</span><span>|</span><a href="#36967362">prev</a><span>|</span><a href="#36965789">next</a><span>|</span><label class="collapse" for="c-36967888">[-]</label><label class="expand" for="c-36967888">[1 more]</label></div><br/><div class="children"><div class="content">Consider a minimal install of linux&#x2F;unix with no C compiler and no binutils.<p>Editing text. Construct an ed-like editor in shell - the first character&#x2F;token of each input line is a command. You could use awk or shell for this.<p>Creating binary files. If you have gnu coreutils, it has a powerful echo option to output bytes. If you have posix&#x2F;busybox&#x2F;toybox, use od(1), head and tail to extract a library of 1-byte files from existing binaries. Cat these together to create multibyte binaries.<p>Assembler and linker. You don&#x27;t need to use conventional notation. Create an assembly syntax around the same first-token-is-command approach used for the text editor. Implement an assembler that reads that notation and outputs binary. You would need to create elf headers. You would need to map system calls.</div><br/></div></div><div id="36965789" class="c"><input type="checkbox" id="c-36965789" checked=""/><div class="controls bullet"><span class="by">jesprenj</span><span>|</span><a href="#36967888">prev</a><span>|</span><a href="#36965796">next</a><span>|</span><label class="collapse" for="c-36965789">[-]</label><label class="expand" for="c-36965789">[5 more]</label></div><br/><div class="children"><div class="content">Well bash has a built in TCP client which kind of ruins the fun. libc has a DNS library to query a resolver so no fun banging DNS over UDP required to download from gnu.org (:</div><br/><div id="36966001" class="c"><input type="checkbox" id="c-36966001" checked=""/><div class="controls bullet"><span class="by">mdwalters</span><span>|</span><a href="#36965789">parent</a><span>|</span><a href="#36965946">next</a><span>|</span><label class="collapse" for="c-36966001">[-]</label><label class="expand" for="c-36966001">[2 more]</label></div><br/><div class="children"><div class="content">Then, let&#x27;s exclude bash and libc (if we can)</div><br/><div id="36966658" class="c"><input type="checkbox" id="c-36966658" checked=""/><div class="controls bullet"><span class="by">HankB99</span><span>|</span><a href="#36965789">root</a><span>|</span><a href="#36966001">parent</a><span>|</span><a href="#36965946">next</a><span>|</span><label class="collapse" for="c-36966658">[-]</label><label class="expand" for="c-36966658">[1 more]</label></div><br/><div class="children"><div class="content">At least the man pages.</div><br/></div></div></div></div><div id="36965946" class="c"><input type="checkbox" id="c-36965946" checked=""/><div class="controls bullet"><span class="by">schoen</span><span>|</span><a href="#36965789">parent</a><span>|</span><a href="#36966001">prev</a><span>|</span><a href="#36966196">next</a><span>|</span><label class="collapse" for="c-36965946">[-]</label><label class="expand" for="c-36965946">[1 more]</label></div><br/><div class="children"><div class="content">If people don&#x27;t know about this feature, you can search for &quot;tcp&quot; in your bash man page!</div><br/></div></div><div id="36966196" class="c"><input type="checkbox" id="c-36966196" checked=""/><div class="controls bullet"><span class="by">colechristensen</span><span>|</span><a href="#36965789">parent</a><span>|</span><a href="#36965946">prev</a><span>|</span><a href="#36965796">next</a><span>|</span><label class="collapse" for="c-36966196">[-]</label><label class="expand" for="c-36966196">[1 more]</label></div><br/><div class="children"><div class="content">The fun thing about speedruns is the variety of categories.  Just add rules for new kinds of runs.</div><br/></div></div></div></div><div id="36965796" class="c"><input type="checkbox" id="c-36965796" checked=""/><div class="controls bullet"><span class="by">l0b0</span><span>|</span><a href="#36965789">prev</a><span>|</span><a href="#36967428">next</a><span>|</span><label class="collapse" for="c-36965796">[-]</label><label class="expand" for="c-36965796">[4 more]</label></div><br/><div class="children"><div class="content">An end user variant of this might be counting total key strokes&#x2F;mouse clicks to install Linux on any machine, including all the disgusting BIOS&#x2F;UEFI fiddling to enable USB boot, disabling SecureBoot, and anything else necessary. Whoever wins has found the best end user hardware&#x2F;distro combo.</div><br/><div id="36965818" class="c"><input type="checkbox" id="c-36965818" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#36965796">parent</a><span>|</span><a href="#36966806">next</a><span>|</span><label class="collapse" for="c-36965818">[-]</label><label class="expand" for="c-36965818">[2 more]</label></div><br/><div class="children"><div class="content">Do the machines that ship with GNU&#x2F;Linux preinstalled win by default? (Zero keys&#x2F;clicks on system76, say) I suppose to be a fun game we&#x27;d have to exclude them.</div><br/><div id="36965851" class="c"><input type="checkbox" id="c-36965851" checked=""/><div class="controls bullet"><span class="by">l0b0</span><span>|</span><a href="#36965796">root</a><span>|</span><a href="#36965818">parent</a><span>|</span><a href="#36966806">next</a><span>|</span><label class="collapse" for="c-36965851">[-]</label><label class="expand" for="c-36965851">[1 more]</label></div><br/><div class="children"><div class="content">We&#x27;d have to exclude them, otherwise it just raises the question of how the machine was installed originally. And if that was done using some complicated automated setup, the cost and complexity of the setup draws the result down. Assume the storage has some unknown content.</div><br/></div></div></div></div><div id="36966806" class="c"><input type="checkbox" id="c-36966806" checked=""/><div class="controls bullet"><span class="by">MightyBuzzard</span><span>|</span><a href="#36965796">parent</a><span>|</span><a href="#36965818">prev</a><span>|</span><a href="#36967428">next</a><span>|</span><label class="collapse" for="c-36966806">[-]</label><label class="expand" for="c-36966806">[1 more]</label></div><br/><div class="children"><div class="content">Gentoo users win then. They don&#x27;t need to boot from USB, because their installer is tar. The ones that use a BINHOST don&#x27;t even have to fiddle with compiling anything but the kernel unless they demand non-standard USE flags</div><br/></div></div></div></div><div id="36967428" class="c"><input type="checkbox" id="c-36967428" checked=""/><div class="controls bullet"><span class="by">Espionage724</span><span>|</span><a href="#36965796">prev</a><span>|</span><a href="#36968035">next</a><span>|</span><label class="collapse" for="c-36967428">[-]</label><label class="expand" for="c-36967428">[2 more]</label></div><br/><div class="children"><div class="content">I speed-run every install; how else would I improve anything about it? :p<p><a href="https:&#x2F;&#x2F;wiki.realmofespionage.xyz&#x2F;distros:fedora_workstation_gnome" rel="nofollow noreferrer">https:&#x2F;&#x2F;wiki.realmofespionage.xyz&#x2F;distros:fedora_workstation...</a><p>Fresh Fedora installs involve me opening Terminal, Firefox, going to that page, and copy&#x2F;pasting commands. I can reproduce my set-up in less than an hour.</div><br/><div id="36967623" class="c"><input type="checkbox" id="c-36967623" checked=""/><div class="controls bullet"><span class="by">b5n</span><span>|</span><a href="#36967428">parent</a><span>|</span><a href="#36968035">next</a><span>|</span><label class="collapse" for="c-36967623">[-]</label><label class="expand" for="c-36967623">[1 more]</label></div><br/><div class="children"><div class="content">For physical machines I maintain a debian preseed that runs an ansible playbook post install. Install + setup is fully unattended and generally takes about 15 minutes.<p><a href="https:&#x2F;&#x2F;wiki.debian.org&#x2F;DebianInstaller&#x2F;Preseed" rel="nofollow noreferrer">https:&#x2F;&#x2F;wiki.debian.org&#x2F;DebianInstaller&#x2F;Preseed</a><p>Quite different than bootstrapping a system as described in the OP, but relevant in the context of your comment.</div><br/></div></div></div></div><div id="36968035" class="c"><input type="checkbox" id="c-36968035" checked=""/><div class="controls bullet"><span class="by">moomin</span><span>|</span><a href="#36967428">prev</a><span>|</span><a href="#36966485">next</a><span>|</span><label class="collapse" for="c-36968035">[-]</label><label class="expand" for="c-36968035">[1 more]</label></div><br/><div class="children"><div class="content">Here’s a version of the idea: bootstrap speedrun. Start with the source of everything but the binaries of nothing that isn’t the basics (cat&#x2F;chmod) &amp;c. Write a script that compiles gcc. Fastest benchmark time wins.</div><br/></div></div><div id="36966485" class="c"><input type="checkbox" id="c-36966485" checked=""/><div class="controls bullet"><span class="by">raggi</span><span>|</span><a href="#36968035">prev</a><span>|</span><a href="#36966054">next</a><span>|</span><label class="collapse" for="c-36966485">[-]</label><label class="expand" for="c-36966485">[1 more]</label></div><br/><div class="children"><div class="content">I worked on Fuchsia for about 5 years. Somewhere maybe around half way through, I think it was during a Christmas vacation, someone wrote in that they were still away from their desk, and they&#x27;d not bricked their test device, but nearly - they could no longer install new software via the regular path as they&#x27;d done something to one of the filesystem runtimes or the like and that broke some of the components. Along the way they&#x27;d also bricked the alternate boot path, so they couldn&#x27;t use the regular &quot;paving&quot; strategy (like a flash, but for regular disks and a bit faster&#x2F;higher level).<p>I&#x27;d been working on the system bootstrap and verified execution chain, and often had to cobble stuff together in our shell. The shell on Fuchsia is a bit weird though (also my doing, largely), we&#x27;d avoid installing most software, and instead most of the programs in the shell are little stubs containing e.g. `#!resolve fuchsia-pkg:&#x2F;&#x2F;fuchsia.com&#x2F;vim#bin&#x2F;vim`. If you have bricked your update system you can&#x27;t run those programs, as you can&#x27;t resolve an up to date and safe version of vim. What was there though, was always a very small number of utilities from sbase. If you were to pick between sbase, toybox, busybox and so on, I&#x27;m not necessarily sure you&#x27;d pick sbase, but for Fuchsia it was definitely one of the easier to port for a variety of reasons.<p>So you have basically a hexdump tool, cat, and a hacked up version of dash as a shell (a POSIX shell, essentially, on a system without fork, ttys, signals or sessions, so it worked a little differently). A similar set of constraints to this article.<p>I sent them an email which looked something like: run lsblk on target and capture the output. mount the efi device to &#x2F;mnt, assuming it&#x27;s good that&#x27;s fine. copy files using the pattern &quot;cat file | ssh target &#x27;cat - &gt; target-path&#x27;&quot;. Copy the following files in build-name:target-path form: zircon.bin:&#x2F;mnt&#x2F;zircon.bin bootx64.efi:&#x2F;mnt&#x2F;EFI&#x2F;BOOT&#x2F;bootx64.efi ramdisk.bin:&#x2F;mnt&#x2F;ramdisk.bin. umount &#x2F;mnt. On target do &#x27;for i in {1..4096}; do echo -n a &gt; &#x2F;dev&#x2F;{path-to-minfs}; done`, the system will crash and reboot shortly after, and should boot into your new ramdisk.<p>At the time there was a bug that&#x27;d trigger the final reboot when a mounted but broken partition had its magic header overwritten. A couple of months later I made this way harder to recover from, but we also added an A&#x2F;B&#x2F;R partition scheme so that there was essentially always a recovery strategy even if you send really broken software.<p>If you&#x27;re on a Linux system though, I think some of this gets in some ways easier. There&#x27;s some ABI junk to deal with, but you can get really far with disgusting behavior in a posix shell that has a tty and signals, as you can write a bunch of not very feature complete, but very functional programs quickly in shell. A quick editor - probably 20 lines or so, and each time you make it better it gets easier to be better. Already got some read&#x2F;write loop going on in that editor, great, plain text http isn&#x27;t far off.<p>This is all a bit of an interesting set of trivialities though, not to discount the idea. DNS is a good example as in the article, but if you have no DNS tools you are missing ip(1) and friends, and you need to go implement netlink first - otherwise having a DNS client doesn&#x27;t matter, you don&#x27;t have configured network interfaces! If you have ip(1) then you likely also have ss(1) and you can trick the latter into acting as a dns client. If you have to hand roll netlink without headers, a compiler and a linker though, that&#x27;s not really a from-memory job there, and the netlink part is far worse than the DNS part really. If you&#x27;re on a systemd system, and all you have is systemd a shell and ip tools, you&#x27;re basically completely set from the get-go, as you can jump straight to `machinectl pull-tar` and you&#x27;re off to the races.<p>Of course if you&#x27;re on an EFI system that hasn&#x27;t trimmed down much from the reference tianocore build, then you can probably reboot into an efi shell and get network configuration and pull an image from there, which is likely easier than escalating from a zero compiler zero network environment against the linux abi.<p>Fun idea, I&#x27;m just not totally sure how to put a good modern bound around &quot;minimal linux system&quot;.<p>It feels like a CTF, but kind of in reverse. Following that theme perhaps it should be &quot;escape the pot&quot;, modelling the stripped down system as a honeypot.</div><br/></div></div><div id="36966054" class="c"><input type="checkbox" id="c-36966054" checked=""/><div class="controls bullet"><span class="by">ChrisArchitect</span><span>|</span><a href="#36966485">prev</a><span>|</span><a href="#36965911">next</a><span>|</span><label class="collapse" for="c-36966054">[-]</label><label class="expand" for="c-36966054">[1 more]</label></div><br/><div class="children"><div class="content">(2020)<p>Previous discussion: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=22846250">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=22846250</a></div><br/></div></div><div id="36965911" class="c"><input type="checkbox" id="c-36965911" checked=""/><div class="controls bullet"><span class="by">abnry</span><span>|</span><a href="#36966054">prev</a><span>|</span><a href="#36966591">next</a><span>|</span><label class="collapse" for="c-36965911">[-]</label><label class="expand" for="c-36965911">[2 more]</label></div><br/><div class="children"><div class="content">Can someone please do this and stream it so I can learn?</div><br/><div id="36966424" class="c"><input type="checkbox" id="c-36966424" checked=""/><div class="controls bullet"><span class="by">nickstinemates</span><span>|</span><a href="#36965911">parent</a><span>|</span><a href="#36966591">next</a><span>|</span><label class="collapse" for="c-36966424">[-]</label><label class="expand" for="c-36966424">[1 more]</label></div><br/><div class="children"><div class="content">Tetris OS[1] has some good content to learn from.<p>1: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=FaILnmUYS_U">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=FaILnmUYS_U</a></div><br/></div></div></div></div><div id="36966591" class="c"><input type="checkbox" id="c-36966591" checked=""/><div class="controls bullet"><span class="by">accrual</span><span>|</span><a href="#36965911">prev</a><span>|</span><a href="#36965567">next</a><span>|</span><label class="collapse" for="c-36966591">[-]</label><label class="expand" for="c-36966591">[4 more]</label></div><br/><div class="children"><div class="content">I did something like this with a 486 box recently. It only had DOS, ISA only, and no network card. By the end of the night I had Win 95 running, copying files over FTP, and SSH&#x27;d into my router from it. It was fun.</div><br/><div id="36967497" class="c"><input type="checkbox" id="c-36967497" checked=""/><div class="controls bullet"><span class="by">rzzzt</span><span>|</span><a href="#36966591">parent</a><span>|</span><a href="#36966670">next</a><span>|</span><label class="collapse" for="c-36967497">[-]</label><label class="expand" for="c-36967497">[1 more]</label></div><br/><div class="children"><div class="content">I tried LFS on a 486 box when I still had it. Compiles went on for so long, time lost all meaning and I lived about 70 lifetimes as the clouds flew by to the motion picture soundtrack written by Philip Glass.</div><br/></div></div><div id="36966670" class="c"><input type="checkbox" id="c-36966670" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#36966591">parent</a><span>|</span><a href="#36967497">prev</a><span>|</span><a href="#36965567">next</a><span>|</span><label class="collapse" for="c-36966670">[-]</label><label class="expand" for="c-36966670">[2 more]</label></div><br/><div class="children"><div class="content">&gt;and no network card.<p>&gt; copying files over FTP, and SSH&#x27;d into my router from it.<p>Did you add a network card or connect through another machine with serial&#x2F;ppp&#x2F;uucp?</div><br/><div id="36967067" class="c"><input type="checkbox" id="c-36967067" checked=""/><div class="controls bullet"><span class="by">accrual</span><span>|</span><a href="#36966591">root</a><span>|</span><a href="#36966670">parent</a><span>|</span><a href="#36965567">next</a><span>|</span><label class="collapse" for="c-36967067">[-]</label><label class="expand" for="c-36967067">[1 more]</label></div><br/><div class="children"><div class="content">Yes, I took the easy route and added an 3Com 3C509 ISA network card. However, it does have a serial port and that would be a far more interesting way to get it online!</div><br/></div></div></div></div></div></div><div id="36965567" class="c"><input type="checkbox" id="c-36965567" checked=""/><div class="controls bullet"><span class="by">loser777</span><span>|</span><a href="#36966591">prev</a><span>|</span><a href="#36966198">next</a><span>|</span><label class="collapse" for="c-36965567">[-]</label><label class="expand" for="c-36965567">[2 more]</label></div><br/><div class="children"><div class="content">related: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=8utpbbdj0LQ">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=8utpbbdj0LQ</a></div><br/><div id="36968181" class="c"><input type="checkbox" id="c-36968181" checked=""/><div class="controls bullet"><span class="by">dirkc</span><span>|</span><a href="#36965567">parent</a><span>|</span><a href="#36966198">next</a><span>|</span><label class="collapse" for="c-36968181">[-]</label><label class="expand" for="c-36968181">[1 more]</label></div><br/><div class="children"><div class="content">It looks like they didn&#x27;t create a user, unless pacstrap does it for them?</div><br/></div></div></div></div><div id="36966198" class="c"><input type="checkbox" id="c-36966198" checked=""/><div class="controls bullet"><span class="by">ksherlock</span><span>|</span><a href="#36965567">prev</a><span>|</span><label class="collapse" for="c-36966198">[-]</label><label class="expand" for="c-36966198">[1 more]</label></div><br/><div class="children"><div class="content">related: <a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=TLbfqZBL8t8">https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=TLbfqZBL8t8</a></div><br/></div></div></div></div></div></div></div></body></html>