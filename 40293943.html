<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1715158874819" as="style"/><link rel="stylesheet" href="styles.css?v=1715158874819"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://danluu.com/why-ecc/">Why use ECC? (2015)</a> <span class="domain">(<a href="https://danluu.com">danluu.com</a>)</span></div><div class="subtext"><span>vsgherzi</span> | <span>48 comments</span></div><br/><div><div id="40294627" class="c"><input type="checkbox" id="c-40294627" checked=""/><div class="controls bullet"><span class="by">kimixa</span><span>|</span><a href="#40294624">next</a><span>|</span><label class="collapse" for="c-40294627">[-]</label><label class="expand" for="c-40294627">[9 more]</label></div><br/><div class="children"><div class="content">I wish there was a hard requirement for ECC, as a developer working on GPU drivers, there&#x27;s a <i>huge</i> amount of reported issues that just... don&#x27;t make sense? One offs with slightly different symptoms, memory dumps of nonsense, just nowhere to start rooting out the cause for an issue. Even on &quot;widely reported&quot; issues that make it to reddit and similar.<p>Probably not surprising, there&#x27;s a naturally antagonistic relationship between Performance and Reliability here, and it&#x27;s clear which way many of those &quot;enthusiast&quot; forums lean.<p>I haven&#x27;t got actual numbers, but I feel that <i>most</i> [0] of the issues I start looking at just can never be reproduced, or even make sense from the backtrace or similar. I can&#x27;t say it&#x27;s 100% hardware issues for this, as many games are a little... loose... with reliability if it works &quot;well enough&quot;, and is heavily interacting with code and data we work on so might also be a source for &quot;impossible&quot; issues. But even on straightforward code paths, no weird OS interaction, no allocation, nothing async etc. &quot;Impossible&quot; states happen pretty regularly.<p>I would love there to be enough ECC-using gamers out there to statistically see if it makes a difference.<p>[0] Most in terms of number of different issues, not total reports of the same issue. That&#x27;s dominated by one or two things, normally around the latest game or update doing something dumb :P</div><br/><div id="40294710" class="c"><input type="checkbox" id="c-40294710" checked=""/><div class="controls bullet"><span class="by">vlovich123</span><span>|</span><a href="#40294627">parent</a><span>|</span><a href="#40294709">next</a><span>|</span><label class="collapse" for="c-40294710">[-]</label><label class="expand" for="c-40294710">[5 more]</label></div><br/><div class="children"><div class="content">Statistically, in my experience, plain old memory corruption bugs within your code or within the GPU itself are a more likely explanation than issues ECC would fix.<p>Games have pretty terrible quality because games can remain playable in the face of bugs. GPUs have similar issues because numerical accuracy is an after thought but numerical accuracy issues can cause issues in code that assume stability of results.<p>Things have gotten better particular on the GPU vendor side of things, but still, memory safety issues and UB issues in c&#x2F;C++ code far dominate as the root cause any issue you’re likely to see vs memory bit flips (unless people are running very overclocked and unstable machines).</div><br/><div id="40294859" class="c"><input type="checkbox" id="c-40294859" checked=""/><div class="controls bullet"><span class="by">kimixa</span><span>|</span><a href="#40294627">root</a><span>|</span><a href="#40294710">parent</a><span>|</span><a href="#40294709">next</a><span>|</span><label class="collapse" for="c-40294859">[-]</label><label class="expand" for="c-40294859">[4 more]</label></div><br/><div class="children"><div class="content">I&#x27;m very much aware of issues mistakes around memory can cause, and we use many tools (including different languages) to avoid them or verify code. My point is even taking that into account there&#x27;s a long tail of unexplained issues.<p>And UB shouldn&#x27;t be a scary thing 99% of the time, as you won&#x27;t be hitting it anyway (or its actually the result of another <i>real</i> bug, like not handling overflows etc.), though as at some level you start trying on platform specific behavior and start &#x2F;defining&#x2F; them. And again, there are tools and options around that, or highlighting areas where you might still be relying on them. They just might be toolchain and&#x2F;or platform specific. It&#x27;s never been the scary monster some online programming language fanatics seem to make it sound like, but is something to be aware of and managed.<p>And<p>&gt; unless people are running very overclocked and unstable machines<p>Yes. Have you <i>seen</i> the Gamer Hardware Enthusiast community?</div><br/><div id="40295794" class="c"><input type="checkbox" id="c-40295794" checked=""/><div class="controls bullet"><span class="by">jorvi</span><span>|</span><a href="#40294627">root</a><span>|</span><a href="#40294859">parent</a><span>|</span><a href="#40295730">next</a><span>|</span><label class="collapse" for="c-40295794">[-]</label><label class="expand" for="c-40295794">[1 more]</label></div><br/><div class="children"><div class="content">&gt; Yes. Have you seen the Gamer Hardware Enthusiast community?<p>I&#x27;d venture 95% of people run stock, 4% do undervolting and 1% do overclocking.<p>Which isn&#x27;t that strange because GPU vendors have become relatively adept at pushing the silicon near its max. Its why you can run an aggressive undervolt with a few percentage point lower clocks and be rewarded with a 20-30% wattage drop with commensurate drop temperatures and fan noise, all whilst losing perhaps &lt;5% performance.<p>But the GPU vendors want to put big number on box so they&#x27;ll have users suffer loud fans :-)</div><br/></div></div><div id="40295730" class="c"><input type="checkbox" id="c-40295730" checked=""/><div class="controls bullet"><span class="by">Sweepi</span><span>|</span><a href="#40294627">root</a><span>|</span><a href="#40294859">parent</a><span>|</span><a href="#40295794">prev</a><span>|</span><a href="#40295403">next</a><span>|</span><label class="collapse" for="c-40295730">[-]</label><label class="expand" for="c-40295730">[1 more]</label></div><br/><div class="children"><div class="content">&gt;&gt; unless people are running very overclocked and unstable machines<p>&gt; Yes. Have you seen the Gamer Hardware Enthusiast community?<p>Having <i>seen</i> it for the last 2 decades: A lot of them are interested in OC, but nobody is doing it. Maybe 5%, most likely &lt;2%.
Also, most modern Motherboards do a &quot;RAM-Training&quot; session before boot. On unstable machines, this will result in a &quot;test failed&quot; once in a while, with the motherboard showing a &quot;Boot failed, returned every clock setting to default&quot; message, which most likely is not being read by the user, who is either not at the PC the moment it happens or in &quot;why is this taking so long? skip, skip, skip&quot;- mode.<p>What does happen is that Motherboards have OC-like settings out-of-the-box&#x2F;per default, which were stable most of the time and de facto-accepted by Intel, however is now hitting issues and diminishing returns:<p><a href="https:&#x2F;&#x2F;www.radgametools.com&#x2F;oodleintel.htm" rel="nofollow">https:&#x2F;&#x2F;www.radgametools.com&#x2F;oodleintel.htm</a>
<a href="https:&#x2F;&#x2F;www.igorslab.de&#x2F;en&#x2F;intel-spielt-mit-dem-namen-und-den-daten-das-intel-baseline-profile-wird-zu-intel-default-settings&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.igorslab.de&#x2F;en&#x2F;intel-spielt-mit-dem-namen-und-de...</a></div><br/></div></div><div id="40295403" class="c"><input type="checkbox" id="c-40295403" checked=""/><div class="controls bullet"><span class="by">worthless-trash</span><span>|</span><a href="#40294627">root</a><span>|</span><a href="#40294859">parent</a><span>|</span><a href="#40295730">prev</a><span>|</span><a href="#40294709">next</a><span>|</span><label class="collapse" for="c-40295403">[-]</label><label class="expand" for="c-40295403">[1 more]</label></div><br/><div class="children"><div class="content">&gt; And UB shouldn&#x27;t be a scary thing 99% of the time, as you won&#x27;t be hitting it anyway (or its actually the result of another real bug,<p>This is exactly how exploits are made.  Accessing UB usually is the result of &quot;another bug&quot; because the UB isnt a bug itself.</div><br/></div></div></div></div></div></div><div id="40294709" class="c"><input type="checkbox" id="c-40294709" checked=""/><div class="controls bullet"><span class="by">a_t48</span><span>|</span><a href="#40294627">parent</a><span>|</span><a href="#40294710">prev</a><span>|</span><a href="#40294723">next</a><span>|</span><label class="collapse" for="c-40294709">[-]</label><label class="expand" for="c-40294709">[1 more]</label></div><br/><div class="children"><div class="content">Back when I heavily used GCP&#x27;s GPUs I&#x27;d actually get failed tests with ECC errors. It was kind of neat.</div><br/></div></div><div id="40294723" class="c"><input type="checkbox" id="c-40294723" checked=""/><div class="controls bullet"><span class="by">Onavo</span><span>|</span><a href="#40294627">parent</a><span>|</span><a href="#40294709">prev</a><span>|</span><a href="#40294624">next</a><span>|</span><label class="collapse" for="c-40294723">[-]</label><label class="expand" for="c-40294723">[2 more]</label></div><br/><div class="children"><div class="content">And then you have car companies like Tesla that removed ECC memory in newer iterations of their car computers to save money.</div><br/><div id="40295324" class="c"><input type="checkbox" id="c-40295324" checked=""/><div class="controls bullet"><span class="by">bayindirh</span><span>|</span><a href="#40294627">root</a><span>|</span><a href="#40294723">parent</a><span>|</span><a href="#40294624">next</a><span>|</span><label class="collapse" for="c-40295324">[-]</label><label class="expand" for="c-40295324">[1 more]</label></div><br/><div class="children"><div class="content">At worst, you suddenly veer off the road and roll a couple of times, no biggie.<p>It&#x27;s not a rocket or something dangerous, right?<p>Also, newer iterations of the car will be even more cheaper due to cut corners, so you may save some money in the process, too.</div><br/></div></div></div></div></div></div><div id="40294624" class="c"><input type="checkbox" id="c-40294624" checked=""/><div class="controls bullet"><span class="by">jrockway</span><span>|</span><a href="#40294627">prev</a><span>|</span><a href="#40294717">next</a><span>|</span><label class="collapse" for="c-40294624">[-]</label><label class="expand" for="c-40294624">[1 more]</label></div><br/><div class="children"><div class="content">Not having ECC is the biggest scam in computing.  Ever hear of &quot;bitrot&quot;?  That&#x27;s memory errors that have been saved to disk.  We have made millions of people lose their data so that servers can be artificially more expensive.<p>Intel was responsible for most of this.  It is hard to be sad when seeing how they&#x27;ve lost the market lead.</div><br/></div></div><div id="40294717" class="c"><input type="checkbox" id="c-40294717" checked=""/><div class="controls bullet"><span class="by">transpute</span><span>|</span><a href="#40294624">prev</a><span>|</span><a href="#40294901">next</a><span>|</span><label class="collapse" for="c-40294717">[-]</label><label class="expand" for="c-40294717">[1 more]</label></div><br/><div class="children"><div class="content">PC Engines $150 APU2 (RIP) shipped with 4GB ECC RAM and AMD Embedded CPU. Since it was a headless device used mostly for 1GbE networking, the RAM was throttled and relatively impervious to Rowhammer.<p>QNAP has a $600 1U short-depth (11&quot;) 4x3.5 2xM.2 2x10GbE 2x2.5GbE 4-32GB DDR4 SODIMM Arm NAS that would benefit from OSS community attention.  Based on a Marvell&#x2F;Armada CN9130 SoC which supports ECC, has mainline Linux support, and public-but-non-upstream code for uboot [2]. With local serial console and a bit of effort, the QNAP OS can be replaced by Arm Debian&#x2F;Devuan with ZFS. Rare combo of low power, small size, fast network, ECC memory and upstream-friendly Linux.  QNAP also sell a 10GbE router based on the same SoC.<p>Ryzen Pro (OEM) can support ECC [3].<p>[1] <a href="https:&#x2F;&#x2F;www.qnap.com&#x2F;en-us&#x2F;product&#x2F;ts-435xeu" rel="nofollow">https:&#x2F;&#x2F;www.qnap.com&#x2F;en-us&#x2F;product&#x2F;ts-435xeu</a><p>[2] <a href="https:&#x2F;&#x2F;solidrun.atlassian.net&#x2F;wiki&#x2F;spaces&#x2F;developer&#x2F;pages&#x2F;309919745&#x2F;CN913x+Build" rel="nofollow">https:&#x2F;&#x2F;solidrun.atlassian.net&#x2F;wiki&#x2F;spaces&#x2F;developer&#x2F;pages&#x2F;3...</a><p>[3] <a href="https:&#x2F;&#x2F;www.tomshardware.com&#x2F;pc-components&#x2F;cpus&#x2F;amd-confirms-ryzen-8000g-apus-dont-support-ecc-ram-despite-initial-claims" rel="nofollow">https:&#x2F;&#x2F;www.tomshardware.com&#x2F;pc-components&#x2F;cpus&#x2F;amd-confirms...</a></div><br/></div></div><div id="40294901" class="c"><input type="checkbox" id="c-40294901" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#40294717">prev</a><span>|</span><a href="#40294458">next</a><span>|</span><label class="collapse" for="c-40294901">[-]</label><label class="expand" for="c-40294901">[3 more]</label></div><br/><div class="children"><div class="content">Memory corruptions can impact very differently. A sample of decoded music getting corrupted leads to a small glitch, maybe even inaudible. An instruction in executable code getting corrupted can leads to all sorts of havoc.<p>Since ECC is seemingly not getting mandatory, I&#x27;ve been wishing CPUs would support &quot;soft-ECC&quot;. That is, the OS could mark certain pages as needing &quot;soft-ECC&quot;, and the CPU would then store (at least) three copies of that page in RAM. When reading such pages back from RAM the CPU would read all physical copies and compare. If the majority agrees it can use that, otherwise raise an error.<p>This could then be used for executable pages and important configuration data which occupies relatively few pages, and where integrity matters a lot more than speed.<p>There&#x27;s probably some good reasons why this is non-trivial to implement, I&#x27;ve forgotten most of what I learned about the virtual memory implementation in CPUs. But a man can dream...</div><br/><div id="40295380" class="c"><input type="checkbox" id="c-40295380" checked=""/><div class="controls bullet"><span class="by">HideousKojima</span><span>|</span><a href="#40294901">parent</a><span>|</span><a href="#40294458">next</a><span>|</span><label class="collapse" for="c-40295380">[-]</label><label class="expand" for="c-40295380">[2 more]</label></div><br/><div class="children"><div class="content">The triple reading&#x2F;writing to memory along with the comparing would probably be a significant performance hit. You could just use a bit of extra memory for parity bits etc. instead</div><br/><div id="40295489" class="c"><input type="checkbox" id="c-40295489" checked=""/><div class="controls bullet"><span class="by">magicalhippo</span><span>|</span><a href="#40294901">root</a><span>|</span><a href="#40295380">parent</a><span>|</span><a href="#40294458">next</a><span>|</span><label class="collapse" for="c-40295489">[-]</label><label class="expand" for="c-40295489">[1 more]</label></div><br/><div class="children"><div class="content">Sure it would be a significant hit. But only for relatively few pages, and I imagine most of them would either stay cached or are very cold.<p>Of course you could trade implementation complexity for speed as always. My main point was to have effective ECC without any additional support from motherboard and memory modules.</div><br/></div></div></div></div></div></div><div id="40294458" class="c"><input type="checkbox" id="c-40294458" checked=""/><div class="controls bullet"><span class="by">TheAmazingRace</span><span>|</span><a href="#40294901">prev</a><span>|</span><a href="#40294444">next</a><span>|</span><label class="collapse" for="c-40294458">[-]</label><label class="expand" for="c-40294458">[8 more]</label></div><br/><div class="children"><div class="content">So I have to say, ECC memory is definitely something we should not have gotten away from for consumer hardware. My current PC, which is rocking a Core i9 14900k (pray for me) and an ASUS W680M ACE SE motherboard, allowed me to install some 5600MHz speed DDR5 ECC memory, and it works flawlessly.<p>The only downside in my view is the cost. Unbuffered ECC and the cost of using a workstation class chipset really pushes this into luxury territory. Plus, I&#x27;m never too sure what Intel&#x27;s future plans are for successor processors and chipsets, which is why I settled on W680. I don&#x27;t really want to go full blown Xeon.</div><br/><div id="40295496" class="c"><input type="checkbox" id="c-40295496" checked=""/><div class="controls bullet"><span class="by">Sweepi</span><span>|</span><a href="#40294458">parent</a><span>|</span><a href="#40294500">next</a><span>|</span><label class="collapse" for="c-40295496">[-]</label><label class="expand" for="c-40295496">[1 more]</label></div><br/><div class="children"><div class="content">the more significant downside than cost is speed, with your DDR5-5600 ECC having most likely a latency of 16ns, while DDR5-7000 non-ECC 12ns (10ns if you are only interested in Column Strobe) is available for your platform, which has 25% more Bandwidth while also featuring a 25% - 40% lower latency.<p>Dont be fooled (like me) by the DDR5-6000&#x2F;6400&#x2F;6800 ECC <i>registered</i> Modules, all Desktop Motherboards only support unbuffered Modules, and most dont even support DDR5-5600 ECC, only DDR5-4800&#x2F;5200 ECC.</div><br/></div></div><div id="40294500" class="c"><input type="checkbox" id="c-40294500" checked=""/><div class="controls bullet"><span class="by">pixelpoet</span><span>|</span><a href="#40294458">parent</a><span>|</span><a href="#40295496">prev</a><span>|</span><a href="#40294444">next</a><span>|</span><label class="collapse" for="c-40294500">[-]</label><label class="expand" for="c-40294500">[6 more]</label></div><br/><div class="children"><div class="content">14900k might be one of the least reliable CPUs in recent times, pairing it with ECC seems almost ironic!</div><br/><div id="40294648" class="c"><input type="checkbox" id="c-40294648" checked=""/><div class="controls bullet"><span class="by">vardump</span><span>|</span><a href="#40294458">root</a><span>|</span><a href="#40294500">parent</a><span>|</span><a href="#40295159">next</a><span>|</span><label class="collapse" for="c-40294648">[-]</label><label class="expand" for="c-40294648">[4 more]</label></div><br/><div class="children"><div class="content">The recent trend with Intel CPU (at least 13900K and 14900K) reliability is indeed rather worrisome.</div><br/><div id="40295039" class="c"><input type="checkbox" id="c-40295039" checked=""/><div class="controls bullet"><span class="by">walteweiss</span><span>|</span><a href="#40294458">root</a><span>|</span><a href="#40294648">parent</a><span>|</span><a href="#40295159">next</a><span>|</span><label class="collapse" for="c-40295039">[-]</label><label class="expand" for="c-40295039">[3 more]</label></div><br/><div class="children"><div class="content">Do you mind sharing more details for those who weren’t paying attention? I’m still on 10 years old generations with my home PCs and my laptop. And don’t feel the urge to upgrade anything yet. Hence, I’m not following the trends.<p>The only thing I’m considering is the upgrade of my iPad Pro and probably MacBook at some point (not sure if I need it at all). My home computer is doing just fine with 4th generation Intel CPU and I don’t see any need for upgrade in upcoming years, if not a decade.</div><br/><div id="40295181" class="c"><input type="checkbox" id="c-40295181" checked=""/><div class="controls bullet"><span class="by">zrm</span><span>|</span><a href="#40294458">root</a><span>|</span><a href="#40295039">parent</a><span>|</span><a href="#40295067">next</a><span>|</span><label class="collapse" for="c-40295181">[-]</label><label class="expand" for="c-40295181">[1 more]</label></div><br/><div class="children"><div class="content">Intel stagnated for several years, allowing AMD and Apple (both using TSMC) to produce CPUs that are simultaneously faster and more power efficient than Intel&#x27;s. There wasn&#x27;t really anything Intel could do about the power efficiency in the short run so they went all in on performance and started selling desktop CPUs with a 6 GHz turbo that draw &gt;250 watts. Apparently this is not great for reliability.</div><br/></div></div><div id="40295067" class="c"><input type="checkbox" id="c-40295067" checked=""/><div class="controls bullet"><span class="by">vardump</span><span>|</span><a href="#40294458">root</a><span>|</span><a href="#40295039">parent</a><span>|</span><a href="#40295181">prev</a><span>|</span><a href="#40295159">next</a><span>|</span><label class="collapse" for="c-40295067">[-]</label><label class="expand" for="c-40295067">[1 more]</label></div><br/><div class="children"><div class="content">There are significantly more errors occurring on those CPUs. I don&#x27;t have much time now, but you can check details: <a href="https:&#x2F;&#x2F;www.google.com&#x2F;search?q=14900K+failures" rel="nofollow">https:&#x2F;&#x2F;www.google.com&#x2F;search?q=14900K+failures</a></div><br/></div></div></div></div></div></div><div id="40295159" class="c"><input type="checkbox" id="c-40295159" checked=""/><div class="controls bullet"><span class="by">TheAmazingRace</span><span>|</span><a href="#40294458">root</a><span>|</span><a href="#40294500">parent</a><span>|</span><a href="#40294648">prev</a><span>|</span><a href="#40294444">next</a><span>|</span><label class="collapse" for="c-40295159">[-]</label><label class="expand" for="c-40295159">[1 more]</label></div><br/><div class="children"><div class="content">Perhaps… but maybe I see the ECC as an insurance policy on top of a dodgy CPU. Frankly, I set my CPU to Intel Baseline and then ran Cinebench for over an hour on the multi-core test with zero ill effects. Hopefully I’m lucky in the end.</div><br/></div></div></div></div></div></div><div id="40294444" class="c"><input type="checkbox" id="c-40294444" checked=""/><div class="controls bullet"><span class="by">summerlight</span><span>|</span><a href="#40294458">prev</a><span>|</span><a href="#40294486">next</a><span>|</span><label class="collapse" for="c-40294444">[-]</label><label class="expand" for="c-40294444">[3 more]</label></div><br/><div class="children"><div class="content"><a href="https:&#x2F;&#x2F;discourse.codinghorror.com&#x2F;t&#x2F;to-ecc-or-not-to-ecc&#x2F;3771&#x2F;62" rel="nofollow">https:&#x2F;&#x2F;discourse.codinghorror.com&#x2F;t&#x2F;to-ecc-or-not-to-ecc&#x2F;37...</a><p>Interestingly, Jeff Atwood has changed his mind on ECC memory.</div><br/><div id="40294477" class="c"><input type="checkbox" id="c-40294477" checked=""/><div class="controls bullet"><span class="by">pixelpoet</span><span>|</span><a href="#40294444">parent</a><span>|</span><a href="#40294486">next</a><span>|</span><label class="collapse" for="c-40294477">[-]</label><label class="expand" for="c-40294477">[2 more]</label></div><br/><div class="children"><div class="content">Even more interestingly in the comment below, apparently you can just flick on ECC for RTX 4090 cards!<p>Extra weird is Nvidia singling out ray tracing as a use case which shouldn&#x27;t use ECC... I suppose it&#x27;s no biggie if a single ray goes the wrong way down the BVH, out of trillions.</div><br/><div id="40294536" class="c"><input type="checkbox" id="c-40294536" checked=""/><div class="controls bullet"><span class="by">kragen</span><span>|</span><a href="#40294444">root</a><span>|</span><a href="#40294477">parent</a><span>|</span><a href="#40294486">next</a><span>|</span><label class="collapse" for="c-40294536">[-]</label><label class="expand" for="c-40294536">[1 more]</label></div><br/><div class="children"><div class="content">yeah, makes sense to me. it&#x27;ll just result in unnecessarily antialiasing that pixel usually.  unless it corrupts the definition of an object and then that object might disappear or become enormous, and probably most raytracing memory is objects, right?  not rays being traced</div><br/></div></div></div></div></div></div><div id="40294486" class="c"><input type="checkbox" id="c-40294486" checked=""/><div class="controls bullet"><span class="by">Animats</span><span>|</span><a href="#40294444">prev</a><span>|</span><a href="#40294700">next</a><span>|</span><label class="collapse" for="c-40294486">[-]</label><label class="expand" for="c-40294486">[2 more]</label></div><br/><div class="children"><div class="content">ECC memory should have a price premium of only 1 - 9&#x2F;8, or 12.5%. It costs more than that, because it&#x27;s &quot;enterprise&quot;.</div><br/><div id="40294494" class="c"><input type="checkbox" id="c-40294494" checked=""/><div class="controls bullet"><span class="by">ido</span><span>|</span><a href="#40294486">parent</a><span>|</span><a href="#40294700">next</a><span>|</span><label class="collapse" for="c-40294494">[-]</label><label class="expand" for="c-40294494">[1 more]</label></div><br/><div class="children"><div class="content">True, as is explicitly mentioned in the article.</div><br/></div></div></div></div><div id="40294700" class="c"><input type="checkbox" id="c-40294700" checked=""/><div class="controls bullet"><span class="by">dang</span><span>|</span><a href="#40294486">prev</a><span>|</span><a href="#40294545">next</a><span>|</span><label class="collapse" for="c-40294700">[-]</label><label class="expand" for="c-40294700">[1 more]</label></div><br/><div class="children"><div class="content">Related:<p><i>Why Use ECC? (2015)</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=25167288">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=25167288</a> - Nov 2020 (98 comments)<p><i>Why Use ECC Memory?</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=23361577">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=23361577</a> - May 2020 (2 comments)<p><i>Should I buy ECC memory? (2015)</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=14206635">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=14206635</a> - April 2017 (224 comments)<p><i>Why use ECC?</i> - <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=10638324">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=10638324</a> - Nov 2015 (95 comments)</div><br/></div></div><div id="40294545" class="c"><input type="checkbox" id="c-40294545" checked=""/><div class="controls bullet"><span class="by">Nerada</span><span>|</span><a href="#40294700">prev</a><span>|</span><a href="#40295323">next</a><span>|</span><label class="collapse" for="c-40294545">[-]</label><label class="expand" for="c-40294545">[4 more]</label></div><br/><div class="children"><div class="content">DDR5 comes with on-die ECC. My understanding is this only checks errors occuring within the RAM itself, not errors that occur during transmission to and from RAM.<p>My question is, how common are transmission errors over errors happening within RAM?</div><br/><div id="40294563" class="c"><input type="checkbox" id="c-40294563" checked=""/><div class="controls bullet"><span class="by">pclmulqdq</span><span>|</span><a href="#40294545">parent</a><span>|</span><a href="#40294638">next</a><span>|</span><label class="collapse" for="c-40294563">[-]</label><label class="expand" for="c-40294563">[1 more]</label></div><br/><div class="children"><div class="content">On-die ECC is so they can give you a memory array with a few faults. It&#x27;s a yield enhancement not an introduction of ECC as you think of it.<p>Adding protocol-level ECC on top only helps, although it is somewhat inefficient.</div><br/></div></div><div id="40294638" class="c"><input type="checkbox" id="c-40294638" checked=""/><div class="controls bullet"><span class="by">gjjydfhgd</span><span>|</span><a href="#40294545">parent</a><span>|</span><a href="#40294563">prev</a><span>|</span><a href="#40294713">next</a><span>|</span><label class="collapse" for="c-40294638">[-]</label><label class="expand" for="c-40294638">[1 more]</label></div><br/><div class="children"><div class="content">Another problem with on-die ECC is the lack of reporting.<p>You have no idea if you have tons of errors and how many were corrected.</div><br/></div></div><div id="40294713" class="c"><input type="checkbox" id="c-40294713" checked=""/><div class="controls bullet"><span class="by">geerlingguy</span><span>|</span><a href="#40294545">parent</a><span>|</span><a href="#40294638">prev</a><span>|</span><a href="#40295323">next</a><span>|</span><label class="collapse" for="c-40294713">[-]</label><label class="expand" for="c-40294713">[1 more]</label></div><br/><div class="children"><div class="content">LPDDR4&#x2F;4X has also had on-die ECC for a while (at least the chips I&#x27;m used to, like in the Raspberry P); with such small lithography it&#x27;s basically required to get the ram to work reliably.</div><br/></div></div></div></div><div id="40295323" class="c"><input type="checkbox" id="c-40295323" checked=""/><div class="controls bullet"><span class="by">Sweepi</span><span>|</span><a href="#40294545">prev</a><span>|</span><a href="#40295470">next</a><span>|</span><label class="collapse" for="c-40295323">[-]</label><label class="expand" for="c-40295323">[1 more]</label></div><br/><div class="children"><div class="content">I would love to put ECC in my Desktop computers, however its more expensive (ok), is not officially supported on most Desktop Motherboards (and in reality does not work in &quot;ECC-Mode&quot; on the majority of them) and finally: ECC Ram available to purchase is painfully slow, in both bandwidth (:&#x2F;) and latency (:&#x2F;&#x2F;)</div><br/></div></div><div id="40295470" class="c"><input type="checkbox" id="c-40295470" checked=""/><div class="controls bullet"><span class="by">ceving</span><span>|</span><a href="#40295323">prev</a><span>|</span><a href="#40294476">next</a><span>|</span><label class="collapse" for="c-40295470">[-]</label><label class="expand" for="c-40295470">[1 more]</label></div><br/><div class="children"><div class="content">The only problem with ECC is that it is only an improvement, not a solution. Every error correction has a limit to the number of errors it can detect or correct. There is no such thing as absolute security.</div><br/></div></div><div id="40294476" class="c"><input type="checkbox" id="c-40294476" checked=""/><div class="controls bullet"><span class="by">dvt</span><span>|</span><a href="#40295470">prev</a><span>|</span><a href="#40295479">next</a><span>|</span><label class="collapse" for="c-40294476">[-]</label><label class="expand" for="c-40294476">[3 more]</label></div><br/><div class="children"><div class="content">I tried building an old rig (maybe ~7 years ago or so) using ECC RAM (since I was running two Xeons). It was <i>such</i> a pain in the butt to get it to boot and find sticks that were compatible with each other, don&#x27;t really want to go down that path again.</div><br/><div id="40295070" class="c"><input type="checkbox" id="c-40295070" checked=""/><div class="controls bullet"><span class="by">danparsonson</span><span>|</span><a href="#40294476">parent</a><span>|</span><a href="#40295230">next</a><span>|</span><label class="collapse" for="c-40295070">[-]</label><label class="expand" for="c-40295070">[1 more]</label></div><br/><div class="children"><div class="content">I built my most recent desktop using ECC and it was a breeze, so maybe you were just unlucky?</div><br/></div></div><div id="40295230" class="c"><input type="checkbox" id="c-40295230" checked=""/><div class="controls bullet"><span class="by">bjoli</span><span>|</span><a href="#40294476">parent</a><span>|</span><a href="#40295070">prev</a><span>|</span><a href="#40295479">next</a><span>|</span><label class="collapse" for="c-40295230">[-]</label><label class="expand" for="c-40295230">[1 more]</label></div><br/><div class="children"><div class="content">I just chugged 128gb of ddr4 LRDIMMs into my old xeon server. It worked flawlessly.</div><br/></div></div></div></div><div id="40295479" class="c"><input type="checkbox" id="c-40295479" checked=""/><div class="controls bullet"><span class="by">luckystarr</span><span>|</span><a href="#40294476">prev</a><span>|</span><a href="#40295599">next</a><span>|</span><label class="collapse" for="c-40295479">[-]</label><label class="expand" for="c-40295479">[1 more]</label></div><br/><div class="children"><div class="content">That&#x27;s the reason I chose AMD for my own laptop. AFAIR Intel doesn&#x27;t support ECC.</div><br/></div></div><div id="40295599" class="c"><input type="checkbox" id="c-40295599" checked=""/><div class="controls bullet"><span class="by">BlueTemplar</span><span>|</span><a href="#40295479">prev</a><span>|</span><a href="#40294621">next</a><span>|</span><label class="collapse" for="c-40295599">[-]</label><label class="expand" for="c-40295599">[1 more]</label></div><br/><div class="children"><div class="content">&gt; From talking to folks at a lot of large tech companies, it seems that most of them have had a climate control issue resulting in clouds or fog in their datacenters. You might call this a clever plan by Google to reproduce Seattle weather so they can poach MS employees. Alternately, it might be a plan to create literal cloud computing. Or maybe not.</div><br/></div></div><div id="40294621" class="c"><input type="checkbox" id="c-40294621" checked=""/><div class="controls bullet"><span class="by">nextaccountic</span><span>|</span><a href="#40295599">prev</a><span>|</span><a href="#40294352">next</a><span>|</span><label class="collapse" for="c-40294621">[-]</label><label class="expand" for="c-40294621">[5 more]</label></div><br/><div class="children"><div class="content">Why not ECC CPUs and GPUs? They can be hit by cosmic rays too.</div><br/><div id="40294764" class="c"><input type="checkbox" id="c-40294764" checked=""/><div class="controls bullet"><span class="by">adrian_b</span><span>|</span><a href="#40294621">parent</a><span>|</span><a href="#40294352">next</a><span>|</span><label class="collapse" for="c-40294764">[-]</label><label class="expand" for="c-40294764">[4 more]</label></div><br/><div class="children"><div class="content">Almost all CPUs (except perhaps some very cheap microcontrollers) already use ECC for their internal cache memories, because those are even more prone to errors than the external DRAM.<p>Consumer GPUs, which do not have ECC, are notorious for frequent errors when they are used for general-purpose computation tasks instead of graphics or AI applications (where errrors happen, but they usually do not matter), so for any important computation it is recommended to repeat it and compare the results.</div><br/><div id="40295698" class="c"><input type="checkbox" id="c-40295698" checked=""/><div class="controls bullet"><span class="by">nextaccountic</span><span>|</span><a href="#40294621">root</a><span>|</span><a href="#40294764">parent</a><span>|</span><a href="#40294848">next</a><span>|</span><label class="collapse" for="c-40295698">[-]</label><label class="expand" for="c-40295698">[1 more]</label></div><br/><div class="children"><div class="content">What about ECC for the logic circuits of CPUs? Like, some form of redundancy that enables detection and correction of logical errors caused by some kind of malfunctioning in circuits that do computation (perhaps caused by cosmic rays or something)</div><br/></div></div><div id="40294848" class="c"><input type="checkbox" id="c-40294848" checked=""/><div class="controls bullet"><span class="by">caf</span><span>|</span><a href="#40294621">root</a><span>|</span><a href="#40294764">parent</a><span>|</span><a href="#40295698">prev</a><span>|</span><a href="#40294352">next</a><span>|</span><label class="collapse" for="c-40294848">[-]</label><label class="expand" for="c-40294848">[2 more]</label></div><br/><div class="children"><div class="content">If the CPU exposes statistics from the internal cache ECC, I wonder if you could use that as a rough radiation sensor?</div><br/><div id="40295311" class="c"><input type="checkbox" id="c-40295311" checked=""/><div class="controls bullet"><span class="by">adrian_b</span><span>|</span><a href="#40294621">root</a><span>|</span><a href="#40294848">parent</a><span>|</span><a href="#40294352">next</a><span>|</span><label class="collapse" for="c-40295311">[-]</label><label class="expand" for="c-40295311">[1 more]</label></div><br/><div class="children"><div class="content">Most CPUs do not document the details of the cache controllers, so typically you cannot know when correctable errors happened.<p>Only when non-correctable errors happen, which should be very seldom (e.g. less than one per year), the CPU generates a machine error exception, for which it can be identified that the cause was a (multiple-bit) error in one of the internal cache memories.<p>Therefore you could sense only extremely-high radiation levels, which would also require a customized OS kernel to recover from exceptions without crashes. Such great radiation levels could be much easier detected with some discrete reverse-biased diodes, which are also easier to place wherever the radiation exists, keeping the microcontroller or whatever device records the radiation levels either away or shielded from the radiation.</div><br/></div></div></div></div></div></div></div></div><div id="40294352" class="c"><input type="checkbox" id="c-40294352" checked=""/><div class="controls bullet"><span class="by">genpfault</span><span>|</span><a href="#40294621">prev</a><span>|</span><a href="#40295643">next</a><span>|</span><label class="collapse" for="c-40294352">[-]</label><label class="expand" for="c-40294352">[2 more]</label></div><br/><div class="children"><div class="content">(2015)</div><br/><div id="40294384" class="c"><input type="checkbox" id="c-40294384" checked=""/><div class="controls bullet"><span class="by">wmf</span><span>|</span><a href="#40294352">parent</a><span>|</span><a href="#40295643">next</a><span>|</span><label class="collapse" for="c-40294384">[-]</label><label class="expand" for="c-40294384">[1 more]</label></div><br/><div class="children"><div class="content">There is a 2024 update in the middle saying that &quot;Gabriele Svelto estimated that approximately 10% to 20% of all Firefox crashes were due to memory corruption.&quot;</div><br/></div></div></div></div></div></div></div></div></div></body></html>