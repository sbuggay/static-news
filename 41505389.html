<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1726045273281" as="style"/><link rel="stylesheet" href="styles.css?v=1726045273281"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://buttondown.com/hillelwayne/archive/why-not-comments/">Why Not Comments</a> <span class="domain">(<a href="https://buttondown.com">buttondown.com</a>)</span></div><div class="subtext"><span>ghewgill</span> | <span>131 comments</span></div><br/><div><div id="41506182" class="c"><input type="checkbox" id="c-41506182" checked=""/><div class="controls bullet"><span class="by">renhanxue</span><span>|</span><a href="#41509432">next</a><span>|</span><label class="collapse" for="c-41506182">[-]</label><label class="expand" for="c-41506182">[52 more]</label></div><br/><div class="children"><div class="content">I saw someone quip (on twitter, I think) many years ago something like:<p>&quot;A junior engineer writes comments that explain what the code does. A mid-level engineer writes comments that explain why the code does what it does. A senior engineer writes comments that explain why the code isn&#x27;t written in another way.&quot;<p>(except punchier, of course. I&#x27;m not doing the quip justice here)</div><br/><div id="41506237" class="c"><input type="checkbox" id="c-41506237" checked=""/><div class="controls bullet"><span class="by">abc-1</span><span>|</span><a href="#41506182">parent</a><span>|</span><a href="#41506777">next</a><span>|</span><label class="collapse" for="c-41506237">[-]</label><label class="expand" for="c-41506237">[40 more]</label></div><br/><div class="children"><div class="content">I do all of the above. Summary comments are incredibly helpful and have been validated by empirical research. Too bad many have drunk deeply from the Clean Code koolaid and can’t be saved.</div><br/><div id="41506262" class="c"><input type="checkbox" id="c-41506262" checked=""/><div class="controls bullet"><span class="by">Prickle</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506237">parent</a><span>|</span><a href="#41508478">next</a><span>|</span><label class="collapse" for="c-41506262">[-]</label><label class="expand" for="c-41506262">[17 more]</label></div><br/><div class="children"><div class="content">I was taught to not leave comments in finished code.<p>I have regretted following that lesson ever since.</div><br/><div id="41506286" class="c"><input type="checkbox" id="c-41506286" checked=""/><div class="controls bullet"><span class="by">acbart</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506262">parent</a><span>|</span><a href="#41508230">next</a><span>|</span><label class="collapse" for="c-41506286">[-]</label><label class="expand" for="c-41506286">[1 more]</label></div><br/><div class="children"><div class="content">If code were ever finished, then perhaps this would make sense :)</div><br/></div></div><div id="41508230" class="c"><input type="checkbox" id="c-41508230" checked=""/><div class="controls bullet"><span class="by">imp0cat</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506262">parent</a><span>|</span><a href="#41506286">prev</a><span>|</span><a href="#41506301">next</a><span>|</span><label class="collapse" for="c-41508230">[-]</label><label class="expand" for="c-41508230">[1 more]</label></div><br/><div class="children"><div class="content">Code is never finished, only abandoned.</div><br/></div></div><div id="41506301" class="c"><input type="checkbox" id="c-41506301" checked=""/><div class="controls bullet"><span class="by">spacechild1</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506262">parent</a><span>|</span><a href="#41508230">prev</a><span>|</span><a href="#41506466">next</a><span>|</span><label class="collapse" for="c-41506301">[-]</label><label class="expand" for="c-41506301">[8 more]</label></div><br/><div class="children"><div class="content">Who taught you that!?</div><br/><div id="41507907" class="c"><input type="checkbox" id="c-41507907" checked=""/><div class="controls bullet"><span class="by">Prickle</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506301">parent</a><span>|</span><a href="#41508950">next</a><span>|</span><label class="collapse" for="c-41507907">[-]</label><label class="expand" for="c-41507907">[6 more]</label></div><br/><div class="children"><div class="content">I was specifically taught that good, readable code could explain itself; that it would make comments redundant.<p>Therefore, comments should only be used for things like psuedocode, or as help for fellow developers during dev.<p>Then, they should be removed once the code is done.<p>But yea, not a good idea.</div><br/><div id="41507974" class="c"><input type="checkbox" id="c-41507974" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41507907">parent</a><span>|</span><a href="#41509011">next</a><span>|</span><label class="collapse" for="c-41507974">[-]</label><label class="expand" for="c-41507974">[4 more]</label></div><br/><div class="children"><div class="content">This is an example of taking something that is contextually good advise, applying it to all situations, which turns it into bad advise.<p>If you can make your code more clear, so that comments aren&#x27;t necessary to explain what it does or how it works, that is probably (but not always!) something you should do. But that doesn&#x27;t mean you shouldn&#x27;t have comments. At the very least there should be comments explaining why (or why not) things were done a certain way.</div><br/><div id="41508135" class="c"><input type="checkbox" id="c-41508135" checked=""/><div class="controls bullet"><span class="by">RandallBrown</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41507974">parent</a><span>|</span><a href="#41509011">next</a><span>|</span><label class="collapse" for="c-41508135">[-]</label><label class="expand" for="c-41508135">[3 more]</label></div><br/><div class="children"><div class="content">I have almost never run into a situation where a comment was better than a well named function or variable.<p>It happens occasionally, but it&#x27;s usually a sign that I&#x27;m doing something wrong.</div><br/><div id="41508943" class="c"><input type="checkbox" id="c-41508943" checked=""/><div class="controls bullet"><span class="by">moring</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41508135">parent</a><span>|</span><a href="#41509124">next</a><span>|</span><label class="collapse" for="c-41508943">[-]</label><label class="expand" for="c-41508943">[1 more]</label></div><br/><div class="children"><div class="content">This is fine. A problem arises when you assume that this will always be the case, for all developers, and then mandate that they omit comments, _without checking if your assumption is true for their case_.<p>IMHO that rule can be generalized: Whenever you make rules for other devs, make sure that the assumptions on which those rules are based are true, lest you interfere with their work in a negative way.</div><br/></div></div><div id="41509124" class="c"><input type="checkbox" id="c-41509124" checked=""/><div class="controls bullet"><span class="by">atoav</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41508135">parent</a><span>|</span><a href="#41508943">prev</a><span>|</span><a href="#41509011">next</a><span>|</span><label class="collapse" for="c-41509124">[-]</label><label class="expand" for="c-41509124">[1 more]</label></div><br/><div class="children"><div class="content">There are indeed those situations where a comment would not increase the clarity of the code.<p>But one shouls be careful not to mentally think of this as a zero sum dichtomy, where you either have well named functions <i>XOR</i> you have comments, because in reality choosingn both is often the golden path to success.<p>The danger is of course that code that is totally <i>obvious</i> to you <i>now</i> will take far more time to become as obvious later, be it to your future self or to your psychopathic lunatic co-worker who knows where you live.<p>So very often code can be made more readable by adding comments, even if it is just saying the same thing with other words, just by reducing ambiguity. Comments can also bridge higher level concepts in a good way, e.g. by you explaining in a few lines how a component fits into a concept that is spread out over multiple files etc.<p>In the end code is text and like regular prosaic text you can both make it harder to understand by not mentioning things or by mentioning too many or the wrong things. This is why it is not irrelevant for programmers to be good and empathic communicators. Sure in the end readability doesn&#x27;t matter to the computer, but it certainly matters to all people involved.</div><br/></div></div></div></div></div></div><div id="41509011" class="c"><input type="checkbox" id="c-41509011" checked=""/><div class="controls bullet"><span class="by">atoav</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41507907">parent</a><span>|</span><a href="#41507974">prev</a><span>|</span><a href="#41508950">next</a><span>|</span><label class="collapse" for="c-41509011">[-]</label><label class="expand" for="c-41509011">[1 more]</label></div><br/><div class="children"><div class="content">That is like saying: &quot;A perfectly good road needs no road markings&quot;. The point of of good comments is that they make the code faster to read and less ambigous. While good code should indeed <i>already</i> be readable and unambiguos, I have rarely seen code that couldn&#x27;t be made even easier to understand and faster to parse by writing the appropriate comment.<p>But of course you will have some individuals who think it is cooler not to, and they are probably the same people who think use after free bugs can be avoided by the shere willpower of the solo-male-genius that they are.</div><br/></div></div></div></div><div id="41508950" class="c"><input type="checkbox" id="c-41508950" checked=""/><div class="controls bullet"><span class="by">dodos</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506301">parent</a><span>|</span><a href="#41507907">prev</a><span>|</span><a href="#41506466">next</a><span>|</span><label class="collapse" for="c-41508950">[-]</label><label class="expand" for="c-41508950">[1 more]</label></div><br/><div class="children"><div class="content">I had a professor in college who would grade you down if there were any comments in your code.</div><br/></div></div></div></div><div id="41506466" class="c"><input type="checkbox" id="c-41506466" checked=""/><div class="controls bullet"><span class="by">readthenotes1</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506262">parent</a><span>|</span><a href="#41506301">prev</a><span>|</span><a href="#41508478">next</a><span>|</span><label class="collapse" for="c-41506466">[-]</label><label class="expand" for="c-41506466">[6 more]</label></div><br/><div class="children"><div class="content">I have regretted when you fail to follow that lesson.<p>I did a survey once in about 3&#x2F;4 of the comments were either wrong or useless. Examples:<p>&#x2F;&#x2F;Add 1 to x<p>x+=1;<p>&#x2F;&#x2F;Add 1 to x<p>x+=2;<p>&#x2F;&#x2F;Seconds per normal day<p>x = 86400;<p>--<p>&quot;Why not&quot; comments are incredibly valuable except they suffer from explanatory decay as much as other comments.<p>The hope behind Intention Revealing Names is that the dissonance will be too great for the subsequent developers to ignore when they change the code.<p>Of course, that isn&#x27;t always true.</div><br/><div id="41506985" class="c"><input type="checkbox" id="c-41506985" checked=""/><div class="controls bullet"><span class="by">gus_massa</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506466">parent</a><span>|</span><a href="#41507358">next</a><span>|</span><label class="collapse" for="c-41506985">[-]</label><label class="expand" for="c-41506985">[1 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>  x = 86400
</code></pre>
If I were forced not to write comments, I&#x27;d write that as<p><pre><code>  x = 24 * 60 * 60
</code></pre>
and let the compiler optimize that.</div><br/></div></div><div id="41507358" class="c"><input type="checkbox" id="c-41507358" checked=""/><div class="controls bullet"><span class="by">jjav</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506466">parent</a><span>|</span><a href="#41506985">prev</a><span>|</span><a href="#41506874">next</a><span>|</span><label class="collapse" for="c-41507358">[-]</label><label class="expand" for="c-41507358">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I did a survey once in about 3&#x2F;4 of the comments were either wrong or useless.<p>&gt; Examples:<p>&gt; &#x2F;&#x2F;Add 1 to x<p>&gt; x+=1;<p>If 3&#x2F;4ths of comments are like this, maybe show a sampling of public source code (e.g. from github) that shows how prevalent comments like this are in any real codebase.<p>I&#x27;ve been programming since 1982 and have never seen this type of &quot;add 1 to x&quot; comment in real code, outside chapter 1 of some intro to programming book.</div><br/><div id="41508570" class="c"><input type="checkbox" id="c-41508570" checked=""/><div class="controls bullet"><span class="by">dllthomas</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41507358">parent</a><span>|</span><a href="#41506874">next</a><span>|</span><label class="collapse" for="c-41508570">[-]</label><label class="expand" for="c-41508570">[1 more]</label></div><br/><div class="children"><div class="content">I once came to a complicated, multi threaded C++ program and saw:<p><pre><code>   using namespace std; &#x2F;&#x2F; using namespace standard</code></pre></div><br/></div></div></div></div><div id="41506874" class="c"><input type="checkbox" id="c-41506874" checked=""/><div class="controls bullet"><span class="by">g-b-r</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506466">parent</a><span>|</span><a href="#41507358">prev</a><span>|</span><a href="#41508478">next</a><span>|</span><label class="collapse" for="c-41506874">[-]</label><label class="expand" for="c-41506874">[2 more]</label></div><br/><div class="children"><div class="content">An outdated comment is at least a very strong signal that the code might be wrong<p>And, you definitely had little experience with under-documented code</div><br/><div id="41507041" class="c"><input type="checkbox" id="c-41507041" checked=""/><div class="controls bullet"><span class="by">GianFabien</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506874">parent</a><span>|</span><a href="#41508478">next</a><span>|</span><label class="collapse" for="c-41507041">[-]</label><label class="expand" for="c-41507041">[1 more]</label></div><br/><div class="children"><div class="content">For me the quality of comments, somewhat based on the metrics that @renhanxue mentions, is a code smell.  If code is poorly commented (by my standards) then I treat the actual code with suspicion.</div><br/></div></div></div></div></div></div></div></div><div id="41508478" class="c"><input type="checkbox" id="c-41508478" checked=""/><div class="controls bullet"><span class="by">appplication</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506237">parent</a><span>|</span><a href="#41506262">prev</a><span>|</span><a href="#41507019">next</a><span>|</span><label class="collapse" for="c-41508478">[-]</label><label class="expand" for="c-41508478">[1 more]</label></div><br/><div class="children"><div class="content">Yes I write comments like a maniac. Long doc strings that are informally written. It’s more important for me to say what I need someone else (or future me) to know about a function and its context than it is for me to have some beautiful, sterile 300-line autogenerated soulless docstrings.</div><br/></div></div><div id="41507019" class="c"><input type="checkbox" id="c-41507019" checked=""/><div class="controls bullet"><span class="by">hughesjj</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506237">parent</a><span>|</span><a href="#41508478">prev</a><span>|</span><a href="#41506331">next</a><span>|</span><label class="collapse" for="c-41507019">[-]</label><label class="expand" for="c-41507019">[2 more]</label></div><br/><div class="children"><div class="content">I got some flak at a prior job for saying I had some quibbles with clean code (a few years after I had read it), and I&#x27;m glad this opinion is more popular today.  There&#x27;s so much cargo culting hype with &quot;best practices&quot; and style, I hate it.  Same with how overly dogmatic people were with OOP paradigms when it came out (remember using anonymous interfaces to pass a function around in java?).  Same with the functional backlash to that.<p>It&#x27;s fun and enlightening to go ham on any particular style&#x2F;framework&#x2F;philosophy, but actually living by dogma in prod gets kinda dangerous and imo is counter to the role of a senior+ engineer</div><br/><div id="41508193" class="c"><input type="checkbox" id="c-41508193" checked=""/><div class="controls bullet"><span class="by">AtlasBarfed</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41507019">parent</a><span>|</span><a href="#41506331">next</a><span>|</span><label class="collapse" for="c-41508193">[-]</label><label class="expand" for="c-41508193">[1 more]</label></div><br/><div class="children"><div class="content">The very term &quot;best practice&quot; is such a loaded term. It implies:<p>1) empirical measurement compared to a large number of alternatives ... the empirical measurement or study is never mentioned: because they do not exist<p>2) the best practice is valid in all measurements and criteria of comparison: performance, elegance, simplicity, correctness<p>3) since there is no data, the reasons for why the practice was designated best are rarely even explained<p>4) nor are the circumstances or individual or source of &quot;best practice&quot; detailed<p>5) it will always be the best practice: it is the BEST! It CANNOT be improved.<p>So we have an unsubstantiated, unargued, unsourced, non-authoritative, exaggerated declaration in virtually every case of &quot;best practice&quot;</div><br/></div></div></div></div><div id="41506331" class="c"><input type="checkbox" id="c-41506331" checked=""/><div class="controls bullet"><span class="by">__MatrixMan__</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506237">parent</a><span>|</span><a href="#41507019">prev</a><span>|</span><a href="#41506449">next</a><span>|</span><label class="collapse" for="c-41506331">[-]</label><label class="expand" for="c-41506331">[12 more]</label></div><br/><div class="children"><div class="content">I like two of the three, but what is the advantage of commenting what the code is doing, when you can use a Trace or Debug message for that instead?</div><br/><div id="41506407" class="c"><input type="checkbox" id="c-41506407" checked=""/><div class="controls bullet"><span class="by">PlunderBunny</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506331">parent</a><span>|</span><a href="#41509373">next</a><span>|</span><label class="collapse" for="c-41506407">[-]</label><label class="expand" for="c-41506407">[9 more]</label></div><br/><div class="children"><div class="content">Not the person you are replying to, but I would say that:<p>- The code &#x27;tells you&#x27; what it does<p>- The comment for the code tells you what the author intended it to do.<p>The gap between the two is where bugs can be found.</div><br/><div id="41507275" class="c"><input type="checkbox" id="c-41507275" checked=""/><div class="controls bullet"><span class="by">__MatrixMan__</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506407">parent</a><span>|</span><a href="#41506506">next</a><span>|</span><label class="collapse" for="c-41507275">[-]</label><label class="expand" for="c-41507275">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve got no trouble with that perspective, but wouldn&#x27;t a log message scratch the same itch, plus more?</div><br/><div id="41508110" class="c"><input type="checkbox" id="c-41508110" checked=""/><div class="controls bullet"><span class="by">PlunderBunny</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41507275">parent</a><span>|</span><a href="#41506506">next</a><span>|</span><label class="collapse" for="c-41508110">[-]</label><label class="expand" for="c-41508110">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve never worked in a company where the commit log message wasn&#x27;t just a link&#x2F;reference to something in a bug tracker.
I feel like a &#x27;what this block of code does&#x27; comment is different from &#x27;what is this change, and why did I make it&#x27; commit message.</div><br/><div id="41508316" class="c"><input type="checkbox" id="c-41508316" checked=""/><div class="controls bullet"><span class="by">porridgeraisin</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41508110">parent</a><span>|</span><a href="#41506506">next</a><span>|</span><label class="collapse" for="c-41508316">[-]</label><label class="expand" for="c-41508316">[1 more]</label></div><br/><div class="children"><div class="content">They meant logging-logs in the code itself:<p>log.Debugf(&quot;Foo is: %#v&quot;, ...)
&#x2F;&#x2F;You think: this is probably filtering code
log.Debugf(&quot;Foo without X is: %#v&quot;, ...)</div><br/></div></div></div></div></div></div><div id="41506506" class="c"><input type="checkbox" id="c-41506506" checked=""/><div class="controls bullet"><span class="by">readthenotes1</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506407">parent</a><span>|</span><a href="#41507275">prev</a><span>|</span><a href="#41509373">next</a><span>|</span><label class="collapse" for="c-41506506">[-]</label><label class="expand" for="c-41506506">[5 more]</label></div><br/><div class="children"><div class="content">&quot;The comment for the code tells you what the author intended it to do.&quot;<p>Not quite.<p>The comment for the code tells you what the author of the comment understood the code to do when hen wrote the comment.</div><br/><div id="41508393" class="c"><input type="checkbox" id="c-41508393" checked=""/><div class="controls bullet"><span class="by">kristiandupont</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506506">parent</a><span>|</span><a href="#41508693">next</a><span>|</span><label class="collapse" for="c-41508393">[-]</label><label class="expand" for="c-41508393">[1 more]</label></div><br/><div class="children"><div class="content">Not the comments I write.<p>I don&#x27;t write what the code does or even what &quot;I understand the code to do&quot;. I explain choices, especially ones that the next developer or my future self is likely to misunderstand when looking at the code.</div><br/></div></div><div id="41508693" class="c"><input type="checkbox" id="c-41508693" checked=""/><div class="controls bullet"><span class="by">ykonstant</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506506">parent</a><span>|</span><a href="#41508393">prev</a><span>|</span><a href="#41506871">next</a><span>|</span><label class="collapse" for="c-41508693">[-]</label><label class="expand" for="c-41508693">[1 more]</label></div><br/><div class="children"><div class="content">&gt;when hen wrote the comment.<p>I&#x27;ve always said coding is a cottage industry!</div><br/></div></div><div id="41506871" class="c"><input type="checkbox" id="c-41506871" checked=""/><div class="controls bullet"><span class="by">PlunderBunny</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506506">parent</a><span>|</span><a href="#41508693">prev</a><span>|</span><a href="#41506979">next</a><span>|</span><label class="collapse" for="c-41506871">[-]</label><label class="expand" for="c-41506871">[1 more]</label></div><br/><div class="children"><div class="content">It could be that too, but I think that presumes an order - that the comment was written after the code. If the comment was written before the code, then it would describe what the author was trying (intended) to do. Which also implies an order of course.</div><br/></div></div><div id="41506979" class="c"><input type="checkbox" id="c-41506979" checked=""/><div class="controls bullet"><span class="by">g-b-r</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506506">parent</a><span>|</span><a href="#41506871">prev</a><span>|</span><a href="#41509373">next</a><span>|</span><label class="collapse" for="c-41506979">[-]</label><label class="expand" for="c-41506979">[1 more]</label></div><br/><div class="children"><div class="content">Yeah, absolutely check who wrote a comment before relying on it<p>It&#x27;s luckily rare for people to add wrong comments, though (and those who do should be publicly fustigated).<p>By the way, please never state something as it were the truth if you&#x27;re not sure that it is. Saying &quot;I think&quot; is perfectly fine, and might save people days of investigation.</div><br/></div></div></div></div></div></div><div id="41509373" class="c"><input type="checkbox" id="c-41509373" checked=""/><div class="controls bullet"><span class="by">XorNot</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506331">parent</a><span>|</span><a href="#41506407">prev</a><span>|</span><a href="#41506434">next</a><span>|</span><label class="collapse" for="c-41509373">[-]</label><label class="expand" for="c-41509373">[1 more]</label></div><br/><div class="children"><div class="content">This is what I tell people: if you&#x27;re writing a one line code comment, write a debug log message instead.<p>There&#x27;s vanishingly few cases where this extra logging statements will ever be a problem and they can all be handled autonomously if they ever are - but it will save everyone else a ton of time in deployment.</div><br/></div></div><div id="41506434" class="c"><input type="checkbox" id="c-41506434" checked=""/><div class="controls bullet"><span class="by">edflsafoiewq</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506331">parent</a><span>|</span><a href="#41509373">prev</a><span>|</span><a href="#41506449">next</a><span>|</span><label class="collapse" for="c-41506434">[-]</label><label class="expand" for="c-41506434">[1 more]</label></div><br/><div class="children"><div class="content">A function generally tells you what it does three times: once in the doc comment, once in the function name, and once in the body.</div><br/></div></div></div></div><div id="41506449" class="c"><input type="checkbox" id="c-41506449" checked=""/><div class="controls bullet"><span class="by">seanmcdirmid</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506237">parent</a><span>|</span><a href="#41506331">prev</a><span>|</span><a href="#41506777">next</a><span>|</span><label class="collapse" for="c-41506449">[-]</label><label class="expand" for="c-41506449">[7 more]</label></div><br/><div class="children"><div class="content">We could have the best of both worlds if comments could be easily hidden, or better yet, just additional meta-data on rich text code. But nope, we can&#x27;t get away from ascii.</div><br/><div id="41507759" class="c"><input type="checkbox" id="c-41507759" checked=""/><div class="controls bullet"><span class="by">kmoser</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506449">parent</a><span>|</span><a href="#41506485">next</a><span>|</span><label class="collapse" for="c-41507759">[-]</label><label class="expand" for="c-41507759">[1 more]</label></div><br/><div class="children"><div class="content">You just need a &quot;hide&#x2F;show comments&quot; extension for your IDE. (I would argue that such a feature should already be built in.)</div><br/></div></div><div id="41506485" class="c"><input type="checkbox" id="c-41506485" checked=""/><div class="controls bullet"><span class="by">readthenotes1</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506449">parent</a><span>|</span><a href="#41507759">prev</a><span>|</span><a href="#41506777">next</a><span>|</span><label class="collapse" for="c-41506485">[-]</label><label class="expand" for="c-41506485">[5 more]</label></div><br/><div class="children"><div class="content">Trouble with comments is that they drift from the code over time because most people do not update the comments - - based upon my surveying production code bases. If they are hidden, it will drift even quicker and become even more useless faster</div><br/><div id="41508923" class="c"><input type="checkbox" id="c-41508923" checked=""/><div class="controls bullet"><span class="by">yen223</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506485">parent</a><span>|</span><a href="#41506915">next</a><span>|</span><label class="collapse" for="c-41508923">[-]</label><label class="expand" for="c-41508923">[1 more]</label></div><br/><div class="children"><div class="content">I would urge developers to err on the side of too many comments over having too few comments, even if there&#x27;s a risk of them going stale. I can deal with drifting comments, but I can&#x27;t deal with missing comments.</div><br/></div></div><div id="41506915" class="c"><input type="checkbox" id="c-41506915" checked=""/><div class="controls bullet"><span class="by">shiroiushi</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506485">parent</a><span>|</span><a href="#41508923">prev</a><span>|</span><a href="#41506762">next</a><span>|</span><label class="collapse" for="c-41506915">[-]</label><label class="expand" for="c-41506915">[1 more]</label></div><br/><div class="children"><div class="content">This is caused by poor or nonexistent code review practices.  Reviewers should be ensuring that related comments are updated if code functionality is changed.</div><br/></div></div><div id="41506762" class="c"><input type="checkbox" id="c-41506762" checked=""/><div class="controls bullet"><span class="by">seanmcdirmid</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506485">parent</a><span>|</span><a href="#41506915">prev</a><span>|</span><a href="#41506756">next</a><span>|</span><label class="collapse" for="c-41506762">[-]</label><label class="expand" for="c-41506762">[1 more]</label></div><br/><div class="children"><div class="content">...and the main reason people don&#x27;t like comments is because they clutter up the code that gives them the truth of the matter. But yes, if they aren&#x27;t in your face forcing you to look at them rather than the code, then they are slightly more likely to not be ignored when the code is changed.<p>It would be nice if they could be like footnotes, or boxed out-takes, that could be pushed to side notes. We have had the typography, even if it was just markdown with a rendered code reading mode.</div><br/></div></div><div id="41506756" class="c"><input type="checkbox" id="c-41506756" checked=""/><div class="controls bullet"><span class="by">convolvatron</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506485">parent</a><span>|</span><a href="#41506762">prev</a><span>|</span><a href="#41506777">next</a><span>|</span><label class="collapse" for="c-41506756">[-]</label><label class="expand" for="c-41506756">[1 more]</label></div><br/><div class="children"><div class="content">i think in sean&#x27;s proposed world we&#x27;d have metadata about that too! the comment in the context it was written in would be available, as well as all of the surrounding changes that potentially invalidate it. as well as potentially a whole discussion thread about what they meant when they wrote it, and suggestions about how to change it.</div><br/></div></div></div></div></div></div></div></div><div id="41506777" class="c"><input type="checkbox" id="c-41506777" checked=""/><div class="controls bullet"><span class="by">steveBK123</span><span>|</span><a href="#41506182">parent</a><span>|</span><a href="#41506237">prev</a><span>|</span><a href="#41509024">next</a><span>|</span><label class="collapse" for="c-41506777">[-]</label><label class="expand" for="c-41506777">[3 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also the comments that tell you why the code does something obviously stupid but needs to continue replicating this stupid behavior because something else depends on it behaving this way.</div><br/><div id="41508551" class="c"><input type="checkbox" id="c-41508551" checked=""/><div class="controls bullet"><span class="by">saurik</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506777">parent</a><span>|</span><a href="#41506888">next</a><span>|</span><label class="collapse" for="c-41508551">[-]</label><label class="expand" for="c-41508551">[1 more]</label></div><br/><div class="children"><div class="content">That sounds like &quot;explain[ing] why the code isn&#x27;t written in another way&quot; where the other way is &quot;the way you are right now thinking it should be as you read this: the way that isn&#x27;t obviously stupid&quot;.</div><br/></div></div><div id="41506888" class="c"><input type="checkbox" id="c-41506888" checked=""/><div class="controls bullet"><span class="by">paulryanrogers</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41506777">parent</a><span>|</span><a href="#41508551">prev</a><span>|</span><a href="#41509024">next</a><span>|</span><label class="collapse" for="c-41506888">[-]</label><label class="expand" for="c-41506888">[1 more]</label></div><br/><div class="children"><div class="content">This is the way :mando:<p>If it&#x27;s not answering why or at least providing a very concise how to very verbose code, then it&#x27;s just adding noise</div><br/></div></div></div></div><div id="41509024" class="c"><input type="checkbox" id="c-41509024" checked=""/><div class="controls bullet"><span class="by">wrwatson</span><span>|</span><a href="#41506182">parent</a><span>|</span><a href="#41506777">prev</a><span>|</span><a href="#41509078">next</a><span>|</span><label class="collapse" for="c-41509024">[-]</label><label class="expand" for="c-41509024">[2 more]</label></div><br/><div class="children"><div class="content">I think of comments as an apology to the engineer reading the code.<p>I&#x27;m apologising because the code isn&#x27;t obvious, or the language not sufficiently expressive, or the good-idea-at-the-time no longer is.  Ideally I wouldn&#x27;t need to write many comments, but I often find myself sorry things are not simpler.</div><br/><div id="41509158" class="c"><input type="checkbox" id="c-41509158" checked=""/><div class="controls bullet"><span class="by">atoav</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41509024">parent</a><span>|</span><a href="#41509078">next</a><span>|</span><label class="collapse" for="c-41509158">[-]</label><label class="expand" for="c-41509158">[1 more]</label></div><br/><div class="children"><div class="content">In the end a comment should be like a shortcut that allows people to understand your code faster or a reminder why certain choices were made.<p>You are right in spirit to say sorry when the code cannot be self-explainatory, but consider that sometimes even if the code is self explainatory, comments can help your reader to see the grand picture faster or to avoid interpersonal ambiguity by allowing you to use two different ways of phrasing a thing.</div><br/></div></div></div></div><div id="41509078" class="c"><input type="checkbox" id="c-41509078" checked=""/><div class="controls bullet"><span class="by">incontrol</span><span>|</span><a href="#41506182">parent</a><span>|</span><a href="#41509024">prev</a><span>|</span><a href="#41507349">next</a><span>|</span><label class="collapse" for="c-41509078">[-]</label><label class="expand" for="c-41509078">[1 more]</label></div><br/><div class="children"><div class="content">When I feel the need to add a comment, I convert that piece of content into the named function.</div><br/></div></div><div id="41507349" class="c"><input type="checkbox" id="c-41507349" checked=""/><div class="controls bullet"><span class="by">anotherevan</span><span>|</span><a href="#41506182">parent</a><span>|</span><a href="#41509078">prev</a><span>|</span><a href="#41506999">next</a><span>|</span><label class="collapse" for="c-41507349">[-]</label><label class="expand" for="c-41507349">[3 more]</label></div><br/><div class="children"><div class="content"><p><pre><code>    Cursor cursor = getCursor(); &#x2F;&#x2F; Cursor.</code></pre></div><br/><div id="41507407" class="c"><input type="checkbox" id="c-41507407" checked=""/><div class="controls bullet"><span class="by">erik_seaberg</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41507349">parent</a><span>|</span><a href="#41506999">next</a><span>|</span><label class="collapse" for="c-41507407">[-]</label><label class="expand" for="c-41507407">[2 more]</label></div><br/><div class="children"><div class="content">I have seen a linter that requires<p><pre><code>  class User {
    public String getName() { ... }
  }
</code></pre>
to have a doc comment explaining what getName does and also what it returns. Before git, they sometimes needed to see who wrote it and when.</div><br/><div id="41509262" class="c"><input type="checkbox" id="c-41509262" checked=""/><div class="controls bullet"><span class="by">pjerem</span><span>|</span><a href="#41506182">root</a><span>|</span><a href="#41507407">parent</a><span>|</span><a href="#41506999">next</a><span>|</span><label class="collapse" for="c-41509262">[-]</label><label class="expand" for="c-41509262">[1 more]</label></div><br/><div class="children"><div class="content">Well, so, does this method return the login name of the user ? Or is the &quot;name&quot; field in fact a company convention to return firstname and lastname concatenation ? Oh and if it’s that, what will be the concatenation order ? It doesn’t seems like it’s a parameter but is it configurable somewhere ? Is this automatically defined somehow ? Is it hardcoded ? Or is there a name field in the database and if yes, what does it represent ? Etc …</div><br/></div></div></div></div></div></div><div id="41506999" class="c"><input type="checkbox" id="c-41506999" checked=""/><div class="controls bullet"><span class="by">belorn</span><span>|</span><a href="#41506182">parent</a><span>|</span><a href="#41507349">prev</a><span>|</span><a href="#41506400">next</a><span>|</span><label class="collapse" for="c-41506999">[-]</label><label class="expand" for="c-41506999">[1 more]</label></div><br/><div class="children"><div class="content">I find that purpose of comments is to give context to the written code. Sometimes the context explains what the code does, and more often it explains why, but the best comments gives me the reader an insight so that I can have a intuitive feeling for what the author are writing.</div><br/></div></div><div id="41506400" class="c"><input type="checkbox" id="c-41506400" checked=""/><div class="controls bullet"><span class="by">mschuster91</span><span>|</span><a href="#41506182">parent</a><span>|</span><a href="#41506999">prev</a><span>|</span><a href="#41509432">next</a><span>|</span><label class="collapse" for="c-41506400">[-]</label><label class="expand" for="c-41506400">[1 more]</label></div><br/><div class="children"><div class="content">&gt; A senior engineer writes comments that explain why the code isn&#x27;t written in another way.<p>And C-level engineers write a comment &quot;X hours have been wasted on refactoring this code. Should you decide following the example of your priors, please increment this counter.&quot;<p>Sometimes, even what appears to be an utter hack job <i>actually is</i> the best you&#x27;re gonna get.</div><br/></div></div></div></div><div id="41509432" class="c"><input type="checkbox" id="c-41509432" checked=""/><div class="controls bullet"><span class="by">Timwi</span><span>|</span><a href="#41506182">prev</a><span>|</span><a href="#41507381">next</a><span>|</span><label class="collapse" for="c-41509432">[-]</label><label class="expand" for="c-41509432">[1 more]</label></div><br/><div class="children"><div class="content">This is just a special case of a broader, more general advice that I follow:<p>Comment on whatever would be surprising when you read the code.<p>When I write code, a voice in the back of my head constantly asks “will I understand this code later?”. (People who just instinctively answer ‘yes’ every time are arrogant and often wrong.) Whenever the answer is ‘not sure’, the next obvious question is “why not?”. Answering <i>that</i> question leads you directly to what you need to write in your comment.<p>Sometimes the answer is “because the reader of the code might wonder why I didn&#x27;t write it another way”, and that&#x27;s the special case this article covers. But sometimes the answer is “because it&#x27;s not obvious how it works or why it&#x27;s correct” and that clearly requires a different type of comment.</div><br/></div></div><div id="41507381" class="c"><input type="checkbox" id="c-41507381" checked=""/><div class="controls bullet"><span class="by">anotherevan</span><span>|</span><a href="#41509432">prev</a><span>|</span><a href="#41505903">next</a><span>|</span><label class="collapse" for="c-41507381">[-]</label><label class="expand" for="c-41507381">[1 more]</label></div><br/><div class="children"><div class="content">I think the favourite type of comment I&#x27;ve ever left in my code follows this template:<p><pre><code>    DEAR MAINTAINER:

    This code is the way it is because of &lt;reasons go here&gt;.

    Once you are done trying to &#x27;fix&#x27; this, and have realised what a terrible
    mistake that was, please increment the counter as a warning to the next
    person:

    total_hours_wasted_here = n
</code></pre>
I&#x27;m not the original author, but have gratefully used it once or twice, and been amused when there was a single line commit incrementing the counter.</div><br/></div></div><div id="41505903" class="c"><input type="checkbox" id="c-41505903" checked=""/><div class="controls bullet"><span class="by">ghewgill</span><span>|</span><a href="#41507381">prev</a><span>|</span><a href="#41509143">next</a><span>|</span><label class="collapse" for="c-41505903">[-]</label><label class="expand" for="c-41505903">[3 more]</label></div><br/><div class="children"><div class="content">I agree that the title is ambiguous - it&#x27;s what piqued my interest to read the article in the first place. Personally I lean toward fewer comments overall - perhaps to a fault - but explanatory comments as shown in the article are absolutely valuable. It&#x27;s a good reminder to explain the whys and the why nots.<p>This especially applies to your own code that you write and still have to maintain 5, 10, 15 years later. Just the other day I was reviewing a coworker&#x27;s new code and thought &quot;why choose to do it this way?&quot; when the reason was 10 lines up where I did it the same way, 8 years ago. She was following the cardinal rule of maintenance - make the code look like the existing code.</div><br/><div id="41506122" class="c"><input type="checkbox" id="c-41506122" checked=""/><div class="controls bullet"><span class="by">sparrish</span><span>|</span><a href="#41505903">parent</a><span>|</span><a href="#41509143">next</a><span>|</span><label class="collapse" for="c-41506122">[-]</label><label class="expand" for="c-41506122">[2 more]</label></div><br/><div class="children"><div class="content">&gt; make the code look like the existing code.<p>This is so undervalued when maintaining an older codebase.  Please, for the sanity of those who come after you - make the code look like the existing code.</div><br/><div id="41506699" class="c"><input type="checkbox" id="c-41506699" checked=""/><div class="controls bullet"><span class="by">sbuttgereit</span><span>|</span><a href="#41505903">root</a><span>|</span><a href="#41506122">parent</a><span>|</span><a href="#41509143">next</a><span>|</span><label class="collapse" for="c-41506699">[-]</label><label class="expand" for="c-41506699">[1 more]</label></div><br/><div class="children"><div class="content">&quot;Please, for the sanity of those who come after you - make the code look like the existing code.&quot;<p>I think it&#x27;s a great rule of thumb... but there are exceptions.<p>For example, Funnily enough I was reviewing some code just today written by someone else and that I&#x27;m going to be asked to expand on or maintain.  It looks like this:<p><pre><code>  var example1 = Object;
  var example2 = Object;
  var example3 = Object;
  ...
  var example147 = Object;
  
</code></pre>
And then later there are corresponding variables assigned to different objects which are:<p><pre><code>  var tempExample1 = &lt;some object instantiation&gt;;
  var tempExample2 = &lt;some object instantiation&gt;;
  var tempExample3 = &lt;some object instantiation&gt;;
  ...
  var tempExample147 = &lt;some object instantiation&gt;;
</code></pre>
And this goes on and on.  It&#x27;s real special once we get into the real business logic.  (and to be clear... &quot;example1&quot; are the actual names, I&#x27;m not just obfuscating for this comment.)<p>The reason it looks like this is because the original developer copied the examples from the developer technical documentation for what they were doing verbatim; this documentation only had one variable so the numbering was the way to get multiple variables.  Knowing this system, they didn&#x27;t have to do that, they could have very easily assigned meaningful names for all of this.  (To be fair, the original developer isn&#x27;t a developer but a consultant business analysist saying, &quot;Oh yeah, I can do that!&quot; to the client.... billing all the way).<p>I can tell you with great certainty and righteousness: I&#x27;m not going to make my code look like the existing code.  I may well do some refactoring to make the existing code vaguely scrutable.<p>I appreciate that what I&#x27;m describing is an extreme case and not really what you or parent comments really were addressing.  I just stop to point out that what you describe is a rule of thumb... a good one... but one nonetheless.  And, as an absolute rule of thumb about rules of thumb, there are no absolute rules of thumb.  Ultimately, experience and judgement do matter when approaching the development of new code or decades old code.</div><br/></div></div></div></div></div></div><div id="41509143" class="c"><input type="checkbox" id="c-41509143" checked=""/><div class="controls bullet"><span class="by">analog31</span><span>|</span><a href="#41505903">prev</a><span>|</span><a href="#41506701">next</a><span>|</span><label class="collapse" for="c-41509143">[-]</label><label class="expand" for="c-41509143">[1 more]</label></div><br/><div class="children"><div class="content">One issue with comments is that an engineer who struggles to write clearly will also struggle to write clear comments. And clear code. But at least the code can be deciphered by reverse engineering it, stepping through it, or in some cases rewriting it. For me, at least the comments are worth reading before trying to figure out what someone&#x27;s code does, to get me into the ballpark.<p>I often add comments to code as I decipher it, then remove them again when I figure things out.</div><br/></div></div><div id="41506701" class="c"><input type="checkbox" id="c-41506701" checked=""/><div class="controls bullet"><span class="by">gregmac</span><span>|</span><a href="#41509143">prev</a><span>|</span><a href="#41506130">next</a><span>|</span><label class="collapse" for="c-41506701">[-]</label><label class="expand" for="c-41506701">[1 more]</label></div><br/><div class="children"><div class="content">&gt; I see more people arguing that whys do not belong in comments either, that they can be embedded into LongFunctionNames or the names of test cases. Virtually all &quot;self-documenting&quot; codebases add documentation through the addition of identifiers.<p>Identifiers can go a _long_ way, but not _all_ the way. I personally am a fan of requiring documentation on any public methods or variables&#x2F;fields&#x2F;parameters (using jsdocs&#x2F;xmldoc&#x2F;etc). Having a good name for the method is important, but having to write a quick blurb about what it does helps to make it even clearer, and more importantly, points out obvious flaws:<p>* Often even the first sentence will cause you to realize there&#x27;s a better name for the method<p>* If you start using &quot;and&quot; in the description, it is a good indication that the method does too much and can be broken down in a more logical way<p>People often think properties are so clear they don&#x27;t need docs, then write things like:<p><pre><code>    &#x2F;** The API key *&#x2F;
    string ApiKey;
</code></pre>
But there&#x27;s so much missing: where does this key come from? Is this only internal or is it passed from&#x2F;to external systems? Is this required, and can it be null or empty? Is there a maximum? What happens if a bad value (whatever that is) is used? Is there a spot in code or other docs where I could read more (or all these questions are already answered)?<p>This is stuff that as the original author of the code you know and can write in a minute or two, but as a newcomer -- whether modifying it, using it, or just parachuted in to fix a bug years later -- could take _hours_ to figure out.</div><br/></div></div><div id="41506130" class="c"><input type="checkbox" id="c-41506130" checked=""/><div class="controls bullet"><span class="by">ok_dad</span><span>|</span><a href="#41506701">prev</a><span>|</span><a href="#41506363">next</a><span>|</span><label class="collapse" for="c-41506130">[-]</label><label class="expand" for="c-41506130">[20 more]</label></div><br/><div class="children"><div class="content">I personally don&#x27;t care what anyone says, I use comments and doc comments ALL OVER the place; I do it in reverse, though. I write a list of steps for the application as comments, a rough draft at first, then as I develop the code I take the big steps and split them into little steps, sometimes removing the original comment and sometimes not, and I continue to split comments into smaller steps until I have nearly a complete algorithm. Then I just code the logic in there. I normally will code from the outside in, so I&#x27;ll also be writing code as I do the comment-splitting stuff. Sometimes I get off on a tear and I code a bunch of stuff at once, but then later I go back and comment it down to a level that I think most of you would find annoying. Every function and variable has a comment about what it does, even the `deg_to_rad` function has a comment `&quot;&quot;&quot;Converts degrees to radians.&quot;&quot;&quot;`. Why not, storage is cheap!<p>I know most people don&#x27;t like it, and that is fine, they can deal with it! I they don&#x27;t want to see my comments, they can remove them from their version of my code with a script, and if my co-workers and boss don&#x27;t like them they can remove them in a code review! However, I can say that I enjoy reading my old code way more than I enjoy reading other&#x27;s code which have zero comments. I work in Python, so a lot of the simple non-algorithm code (boilerplate stuff for apps, like flask APIs for example) is mostly &quot;self-documenting&quot; since the old saying goes, &quot;write some pseudo-code and 95% of the time it runs in Python.&quot; The most important comments are sometimes on the boilerplate stuff because that&#x27;s where a lot of changes happen versus the algorithms where I find there is a lot more wholesale rewriting in my industry.<p>I will always love comments and doc comments!</div><br/><div id="41506176" class="c"><input type="checkbox" id="c-41506176" checked=""/><div class="controls bullet"><span class="by">buggy6257</span><span>|</span><a href="#41506130">parent</a><span>|</span><a href="#41509093">next</a><span>|</span><label class="collapse" for="c-41506176">[-]</label><label class="expand" for="c-41506176">[2 more]</label></div><br/><div class="children"><div class="content">&gt; I know most people don&#x27;t like it, and that is fine, they can deal with it! I they don&#x27;t want to see my comments, they can remove them from their version of my code with a script, and if my co-workers and boss don&#x27;t like them they can remove them in a code review!<p>It was all great until you got here. This is a big red flag for me for a teammate.</div><br/><div id="41507199" class="c"><input type="checkbox" id="c-41507199" checked=""/><div class="controls bullet"><span class="by">ok_dad</span><span>|</span><a href="#41506130">root</a><span>|</span><a href="#41506176">parent</a><span>|</span><a href="#41509093">next</a><span>|</span><label class="collapse" for="c-41507199">[-]</label><label class="expand" for="c-41507199">[1 more]</label></div><br/><div class="children"><div class="content">Well I don’t think we’ll end up being teammates, and I haven’t had issues before :)</div><br/></div></div></div></div><div id="41509093" class="c"><input type="checkbox" id="c-41509093" checked=""/><div class="controls bullet"><span class="by">phito</span><span>|</span><a href="#41506130">parent</a><span>|</span><a href="#41506176">prev</a><span>|</span><a href="#41508070">next</a><span>|</span><label class="collapse" for="c-41509093">[-]</label><label class="expand" for="c-41509093">[1 more]</label></div><br/><div class="children"><div class="content">You&#x27;re wasting so much time doing this... Nobody will ever read 99% of it. Then the comments will get out of date and it&#x27;ll end up worse than having no comments.</div><br/></div></div><div id="41508070" class="c"><input type="checkbox" id="c-41508070" checked=""/><div class="controls bullet"><span class="by">lifthrasiir</span><span>|</span><a href="#41506130">parent</a><span>|</span><a href="#41509093">prev</a><span>|</span><a href="#41506247">next</a><span>|</span><label class="collapse" for="c-41508070">[-]</label><label class="expand" for="c-41508070">[1 more]</label></div><br/><div class="children"><div class="content">I also tend to do so but <i>only for top-level constructs</i>, where such comments are most useful. I think I do so because I like to conceptualize entirely within my mind; I found it rather slow to experiment with various design choices by actually writing them down, at least initially. So I necessarily have to document these design choices once they are settled (as others don&#x27;t yet have access to my mind :-), while I expect details become much clearer after others also have conceptualized them to their minds. This approach does have a downside of making it possibly harder to read when such conceptualization couldn&#x27;t be done for any reason, so I do additional tweaking to maintain the baseline readability to the minimum required.</div><br/></div></div><div id="41506247" class="c"><input type="checkbox" id="c-41506247" checked=""/><div class="controls bullet"><span class="by">gleenn</span><span>|</span><a href="#41506130">parent</a><span>|</span><a href="#41508070">prev</a><span>|</span><a href="#41506455">next</a><span>|</span><label class="collapse" for="c-41506247">[-]</label><label class="expand" for="c-41506247">[11 more]</label></div><br/><div class="children"><div class="content">Comments are great when they are well maintained. But for every codebase that isn&#x27;t basically some open source software where the eyeballs-reading to comment-maintaining ratio is really high and people spend the time, everyone eventually forgets and&#x2F;or is too lazy to maintain them. It can be almost as much work updating the comments as adjusting the code a lot of the time. So the ground truth reality is that comments are usually &quot;lies waiting to happen&quot;. Eventually, the comments and the code won&#x27;t be in sync, and this can be potentially worse than having either bare, uncommented code, or better, having actual automated tests that show intent. The tests mostly can&#x27;t lie, otherwise you wouldn&#x27;t have merged them presumably. If you show me a bunch of decent tests laying out how the code is intended to be used, <i>that</i> is what I want to see. Because it is explanatory AND it is nearly guaranteed to be truthful.</div><br/><div id="41506392" class="c"><input type="checkbox" id="c-41506392" checked=""/><div class="controls bullet"><span class="by">pavon</span><span>|</span><a href="#41506130">root</a><span>|</span><a href="#41506247">parent</a><span>|</span><a href="#41506323">next</a><span>|</span><label class="collapse" for="c-41506392">[-]</label><label class="expand" for="c-41506392">[2 more]</label></div><br/><div class="children"><div class="content">I&#x27;ll take the out of date comments. They provide a red flag that either the original author was confused, or the behavior changed over time. At least then you can do code archeology to piece together descriptions of what the original intent was, and how it changed using the commit history and figure out where things went off the rails, and thus determine how to actually fix it rather than patch over it even worse.<p>The problem with unit test as documentation is that over time they end up reflecting the same misconceptions that the code has. Someone does a refactor, misunderstands how the original code works, and &quot;fixes&quot; the unit tests to pass. Now you have tests that lie just like comments can lie.</div><br/><div id="41506545" class="c"><input type="checkbox" id="c-41506545" checked=""/><div class="controls bullet"><span class="by">gleenn</span><span>|</span><a href="#41506130">root</a><span>|</span><a href="#41506392">parent</a><span>|</span><a href="#41506323">next</a><span>|</span><label class="collapse" for="c-41506545">[-]</label><label class="expand" for="c-41506545">[1 more]</label></div><br/><div class="children"><div class="content">Neither comments nor lacking unit tests are going to fix that, that&#x27;s a strawman argument. What I&#x27;m saying is if someone doesn&#x27;t know 100% what their doing, which can be relatively often, then I would hands-down take a bunch of unit tests over some misguided comments because at least the unit tests have to &#x2F;pass&#x2F;, so there is some grounding in reality. A comment has absolutely no such requirement and therefore can stray in any direction forever. Also, if you refactor a name of a variable or inputnor function, you will be required to update the tests, so they are dar safer from becoming stale due to refactoring compared to an opaque string from the IDE&#x27;s point of view.</div><br/></div></div></div></div><div id="41506323" class="c"><input type="checkbox" id="c-41506323" checked=""/><div class="controls bullet"><span class="by">rich_sasha</span><span>|</span><a href="#41506130">root</a><span>|</span><a href="#41506247">parent</a><span>|</span><a href="#41506392">prev</a><span>|</span><a href="#41506809">next</a><span>|</span><label class="collapse" for="c-41506323">[-]</label><label class="expand" for="c-41506323">[3 more]</label></div><br/><div class="children"><div class="content">I never found that to be a problem in practice. Yes, comments do get slightly out of sync, and not always corrected. But typically enough comments are correct that you can make sense of the whole thing, and can even fix the comments then.<p>By contrast, I have really never seen truly self documenting code. The comments may be up to date by virtue of not existing, but the end result is just more confusing. YMMV</div><br/><div id="41506510" class="c"><input type="checkbox" id="c-41506510" checked=""/><div class="controls bullet"><span class="by">awfulneutral</span><span>|</span><a href="#41506130">root</a><span>|</span><a href="#41506323">parent</a><span>|</span><a href="#41506809">next</a><span>|</span><label class="collapse" for="c-41506510">[-]</label><label class="expand" for="c-41506510">[2 more]</label></div><br/><div class="children"><div class="content">Same, my coworker used this argument when I tried to get them to write more comments.  The number of hours I&#x27;ve wasted due to there being no comments at all is way, way, way more than the very small number I&#x27;ve wasted due to a no-longer-accurate comment.  And I usually find that people who write self-documenting code choose variable&#x2F;function names that might make sense to them at the time, but are vague and confusing to me when I need to read the code.</div><br/><div id="41508697" class="c"><input type="checkbox" id="c-41508697" checked=""/><div class="controls bullet"><span class="by">bottlepalm</span><span>|</span><a href="#41506130">root</a><span>|</span><a href="#41506510">parent</a><span>|</span><a href="#41506809">next</a><span>|</span><label class="collapse" for="c-41508697">[-]</label><label class="expand" for="c-41508697">[1 more]</label></div><br/><div class="children"><div class="content">Same here as well, I hear this argument a lot, but have yet to see a comment I didn&#x27;t appreciate. And if there&#x27;s something wrong with the comment, fix it! Self documenting code is a joke.</div><br/></div></div></div></div></div></div><div id="41506809" class="c"><input type="checkbox" id="c-41506809" checked=""/><div class="controls bullet"><span class="by">Salgat</span><span>|</span><a href="#41506130">root</a><span>|</span><a href="#41506247">parent</a><span>|</span><a href="#41506323">prev</a><span>|</span><a href="#41506455">next</a><span>|</span><label class="collapse" for="c-41506809">[-]</label><label class="expand" for="c-41506809">[5 more]</label></div><br/><div class="children"><div class="content">Code that breaks is much more likely and damaging than comments that are out of date. In my life I&#x27;ve never had a case where the bad outweighed the good for comments.</div><br/><div id="41507799" class="c"><input type="checkbox" id="c-41507799" checked=""/><div class="controls bullet"><span class="by">kmoser</span><span>|</span><a href="#41506130">root</a><span>|</span><a href="#41506809">parent</a><span>|</span><a href="#41508599">next</a><span>|</span><label class="collapse" for="c-41507799">[-]</label><label class="expand" for="c-41507799">[2 more]</label></div><br/><div class="children"><div class="content">Also, if you&#x27;re doing regular code reviews, wouldn&#x27;t that include making sure the comments are up-to-date?<p>As for the argument that it wastes time to update comments, I&#x27;ve never seen a codebase where the comments were so voluminous that it would be a significant burden to update them. Devs avoid updating comments because there is usually no penalty for doing so (boss doesn&#x27;t call them on it, and the code still runs), and they think they&#x27;ve saved a few minutes when in fact they&#x27;re just kicking the can down the road for the next dev who has to decipher the incorrect (or missing) comment.</div><br/><div id="41508607" class="c"><input type="checkbox" id="c-41508607" checked=""/><div class="controls bullet"><span class="by">8n4vidtmkvmk</span><span>|</span><a href="#41506130">root</a><span>|</span><a href="#41507799">parent</a><span>|</span><a href="#41508599">next</a><span>|</span><label class="collapse" for="c-41508607">[-]</label><label class="expand" for="c-41508607">[1 more]</label></div><br/><div class="children"><div class="content">No. If the comment isn&#x27;t highlighted in green or red in the commit, I&#x27;m not likely to read it.</div><br/></div></div></div></div><div id="41508599" class="c"><input type="checkbox" id="c-41508599" checked=""/><div class="controls bullet"><span class="by">8n4vidtmkvmk</span><span>|</span><a href="#41506130">root</a><span>|</span><a href="#41506809">parent</a><span>|</span><a href="#41507799">prev</a><span>|</span><a href="#41506455">next</a><span>|</span><label class="collapse" for="c-41508599">[-]</label><label class="expand" for="c-41508599">[2 more]</label></div><br/><div class="children"><div class="content">Code breaks because people read the comment and assume it speaks truth when in fact it&#x27;s full of lies. And as soon as you don&#x27;t trust comments you have to start reading the code. And if you&#x27;re at that point now..... Why have the comment?</div><br/><div id="41508721" class="c"><input type="checkbox" id="c-41508721" checked=""/><div class="controls bullet"><span class="by">bottlepalm</span><span>|</span><a href="#41506130">root</a><span>|</span><a href="#41508599">parent</a><span>|</span><a href="#41506455">next</a><span>|</span><label class="collapse" for="c-41508721">[-]</label><label class="expand" for="c-41508721">[1 more]</label></div><br/><div class="children"><div class="content">Comments don&#x27;t replace reading code, they prime your brain for the code you&#x27;re about to read. There is often context and reason behind the code that is not in the code itself.</div><br/></div></div></div></div></div></div></div></div><div id="41506455" class="c"><input type="checkbox" id="c-41506455" checked=""/><div class="controls bullet"><span class="by">AcerbicZero</span><span>|</span><a href="#41506130">parent</a><span>|</span><a href="#41506247">prev</a><span>|</span><a href="#41506502">next</a><span>|</span><label class="collapse" for="c-41506455">[-]</label><label class="expand" for="c-41506455">[1 more]</label></div><br/><div class="children"><div class="content">Hah, this is me :)<p>Half the time I start by just writing comments explaining what I&#x27;m about to try and do, then I go back and add comments about how things did not go as expected, and what I had to do to get it to actually work. Super helpful 5 weeks later when I have to actually see it again.</div><br/></div></div><div id="41506502" class="c"><input type="checkbox" id="c-41506502" checked=""/><div class="controls bullet"><span class="by">slaymaker1907</span><span>|</span><a href="#41506130">parent</a><span>|</span><a href="#41506455">prev</a><span>|</span><a href="#41508673">next</a><span>|</span><label class="collapse" for="c-41506502">[-]</label><label class="expand" for="c-41506502">[1 more]</label></div><br/><div class="children"><div class="content">I don&#x27;t think doc comments are warranted in every case and definitely don&#x27;t think you need to document every single parameter, return value, etc. for every single function, but they sure do come in handy for complicated APIs.</div><br/></div></div><div id="41508673" class="c"><input type="checkbox" id="c-41508673" checked=""/><div class="controls bullet"><span class="by">bottlepalm</span><span>|</span><a href="#41506130">parent</a><span>|</span><a href="#41506502">prev</a><span>|</span><a href="#41506659">next</a><span>|</span><label class="collapse" for="c-41508673">[-]</label><label class="expand" for="c-41508673">[1 more]</label></div><br/><div class="children"><div class="content">Ah yes, Comment Driven Development (CDD), I practice it as well.<p>You start with comments of how you want things to work, and fill in the code. It&#x27;s a perfect combination of why&#x2F;how and communicates to the next developer the high level thought process behind the code perfectly.</div><br/></div></div></div></div><div id="41506363" class="c"><input type="checkbox" id="c-41506363" checked=""/><div class="controls bullet"><span class="by">GuB-42</span><span>|</span><a href="#41506130">prev</a><span>|</span><a href="#41505798">next</a><span>|</span><label class="collapse" for="c-41506363">[-]</label><label class="expand" for="c-41506363">[3 more]</label></div><br/><div class="children"><div class="content">I&#x27;d say that it is one of the few cases where comments are the best solution.<p>You can&#x27;t have functional code for what isn&#x27;t done, so that&#x27;s some information you can&#x27;t express in code.<p>Furthermore, a major problem with comments is that you can&#x27;t debug or test them. There are many tools that can analyze code, static or runtime, but because comments are just free text, you can&#x27;t do much besides spellchecking. Also it is common to forget to update comments, and with the lack of testing, in the end, you get lies.<p>But here, the only maintenance these comment need is to remove them if they stop being relevant. For example because you finally did the thing you said you wouldn&#x27;t do, or just scrapped the part. Very low effort, also rather easy to spot, since if you see a thing being done with an explanation on why it is not done, it means someone forgot.<p>It is also worthwhile because as programs grow, they tend to do more, and &quot;not&quot; assumption may no longer hold (there used to be 4 parameters, now there are 10000...), meaning it is something you should check.<p>A lot of slow code comes from an assumption that N will be small, and N ends up being big. By the way, that&#x27;s why I favor using the lowest O(n) algorithm that is reasonable even if it is overkill and slower on small sets. Because one day, it may not be. If for some reason, using a low O(n) algorithm is problematic, for example because the code is too complex or the slowdown on smaller sets too great, then comes the &quot;why not&quot; comment.</div><br/><div id="41507043" class="c"><input type="checkbox" id="c-41507043" checked=""/><div class="controls bullet"><span class="by">hughesjj</span><span>|</span><a href="#41506363">parent</a><span>|</span><a href="#41505798">next</a><span>|</span><label class="collapse" for="c-41507043">[-]</label><label class="expand" for="c-41507043">[2 more]</label></div><br/><div class="children"><div class="content">It would be super cool if you could provide a list of line ranges for comments.  Like &quot;this comment covers lines 12-14&quot;.<p>I suppose if you make the refer nces fancy enough you wind up reinventing rst</div><br/><div id="41508190" class="c"><input type="checkbox" id="c-41508190" checked=""/><div class="controls bullet"><span class="by">RandallBrown</span><span>|</span><a href="#41506363">root</a><span>|</span><a href="#41507043">parent</a><span>|</span><a href="#41505798">next</a><span>|</span><label class="collapse" for="c-41508190">[-]</label><label class="expand" for="c-41508190">[1 more]</label></div><br/><div class="children"><div class="content">This is actually really easy to do in most languages by wrapping the code you want to comment in a function.<p><pre><code>  func uglyHackForCombiningTwoThings() {  
    &#x2F;&#x2F; Do whatever ugly thing you want to do  
  }</code></pre></div><br/></div></div></div></div></div></div><div id="41505798" class="c"><input type="checkbox" id="c-41505798" checked=""/><div class="controls bullet"><span class="by">Terr_</span><span>|</span><a href="#41506363">prev</a><span>|</span><a href="#41505792">next</a><span>|</span><label class="collapse" for="c-41505798">[-]</label><label class="expand" for="c-41505798">[4 more]</label></div><br/><div class="children"><div class="content">&gt; Does 16 passes over each string BUT there are only 25 math strings in the book so far and most are &lt;5 characters. So it&#x27;s still fast enough.<p>Another twist on this is to put in a debug logging statement which triggers when the inputs are much larger than the original design constraints.<p>It&#x27;s roughly the same message to a future-developer, but they might find it much sooner, short-circuiting even more diagnostic and debugging time.</div><br/><div id="41506164" class="c"><input type="checkbox" id="c-41506164" checked=""/><div class="controls bullet"><span class="by">ok_dad</span><span>|</span><a href="#41505798">parent</a><span>|</span><a href="#41506199">next</a><span>|</span><label class="collapse" for="c-41506164">[-]</label><label class="expand" for="c-41506164">[2 more]</label></div><br/><div class="children"><div class="content">This is a great idea for a lot of things! Sometimes I will write a loop I know is slow as hell but works for now, and it would be cool to use a timer and do, &quot;if this takes more than X seconds, log a warning.&quot; I mean, the perfect logging and observability should theoretically time all the components of your app, log debug information often, and etc., but who really uses a perfect system like that? I think it&#x27;s more important to make specific effort to log in areas where performance might suck later or where you didn&#x27;t have time to optimize or do exactly what you wanted to do.<p>Your comment is super obvious, in hindsight, but I never thought to do something like this, usually at past places of work we&#x27;ve just agreed to make a comment on things we need to reconsider later and hopefully we remember about that comment when things go downhill!</div><br/><div id="41507066" class="c"><input type="checkbox" id="c-41507066" checked=""/><div class="controls bullet"><span class="by">Terr_</span><span>|</span><a href="#41505798">root</a><span>|</span><a href="#41506164">parent</a><span>|</span><a href="#41506199">next</a><span>|</span><label class="collapse" for="c-41507066">[-]</label><label class="expand" for="c-41507066">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;d caution that it&#x27;s a very &quot;80&#x2F;20&quot; thing, since the cost&#x2F;complexity of detecting  all &quot;unusual&quot; cases can easily become not-worth-it.<p>For example, if the slowness of the method depends on non-trivial aspects of the input, or if the performance problem in production comes from someone calling your method too many times on (individually) reasonable chunks of data.</div><br/></div></div></div></div><div id="41506199" class="c"><input type="checkbox" id="c-41506199" checked=""/><div class="controls bullet"><span class="by">AlotOfReading</span><span>|</span><a href="#41505798">parent</a><span>|</span><a href="#41506164">prev</a><span>|</span><a href="#41505792">next</a><span>|</span><label class="collapse" for="c-41506199">[-]</label><label class="expand" for="c-41506199">[1 more]</label></div><br/><div class="children"><div class="content">I find that a lot of well-meaning tools (e.g. bazel) regard non-error output as noise to be hidden. They&#x27;ll often route any messages like this to the nearest wastebin they can find, which makes logging incredibly unreliable as a means of communicating constraints in some domains.</div><br/></div></div></div></div><div id="41505792" class="c"><input type="checkbox" id="c-41505792" checked=""/><div class="controls bullet"><span class="by">JohnMakin</span><span>|</span><a href="#41505798">prev</a><span>|</span><a href="#41506347">next</a><span>|</span><label class="collapse" for="c-41505792">[-]</label><label class="expand" for="c-41505792">[8 more]</label></div><br/><div class="children"><div class="content">I often write comments like this when I can predict what an overly nitpicky reviewer will say in a code review - &quot;I didn&#x27;t do X because Y&quot; hoping to save some annoying back and forth about it.</div><br/><div id="41505904" class="c"><input type="checkbox" id="c-41505904" checked=""/><div class="controls bullet"><span class="by">lainga</span><span>|</span><a href="#41505792">parent</a><span>|</span><a href="#41505968">next</a><span>|</span><label class="collapse" for="c-41505904">[-]</label><label class="expand" for="c-41505904">[2 more]</label></div><br/><div class="children"><div class="content">IME you get the same amount of back and forth but I get to write &quot;as the comment says&quot; a few times</div><br/><div id="41505944" class="c"><input type="checkbox" id="c-41505944" checked=""/><div class="controls bullet"><span class="by">JohnMakin</span><span>|</span><a href="#41505792">root</a><span>|</span><a href="#41505904">parent</a><span>|</span><a href="#41505968">next</a><span>|</span><label class="collapse" for="c-41505944">[-]</label><label class="expand" for="c-41505944">[1 more]</label></div><br/><div class="children"><div class="content">LOL precisely</div><br/></div></div></div></div><div id="41505968" class="c"><input type="checkbox" id="c-41505968" checked=""/><div class="controls bullet"><span class="by">rplnt</span><span>|</span><a href="#41505792">parent</a><span>|</span><a href="#41505904">prev</a><span>|</span><a href="#41506347">next</a><span>|</span><label class="collapse" for="c-41505968">[-]</label><label class="expand" for="c-41505968">[5 more]</label></div><br/><div class="children"><div class="content">I add those preemptively in the PRs, but not sure they have much value in the code.</div><br/><div id="41506019" class="c"><input type="checkbox" id="c-41506019" checked=""/><div class="controls bullet"><span class="by">not2b</span><span>|</span><a href="#41505792">root</a><span>|</span><a href="#41505968">parent</a><span>|</span><a href="#41506347">next</a><span>|</span><label class="collapse" for="c-41506019">[-]</label><label class="expand" for="c-41506019">[4 more]</label></div><br/><div class="children"><div class="content">They have value in the code because they save time when someone has to deal with that code a couple of years later. Certainly the explanation could be in the code reviews or the commit message, but it&#x27;s easiest if it is right there.</div><br/><div id="41506366" class="c"><input type="checkbox" id="c-41506366" checked=""/><div class="controls bullet"><span class="by">panopticon</span><span>|</span><a href="#41505792">root</a><span>|</span><a href="#41506019">parent</a><span>|</span><a href="#41506704">next</a><span>|</span><label class="collapse" for="c-41506366">[-]</label><label class="expand" for="c-41506366">[1 more]</label></div><br/><div class="children"><div class="content">Yup. Our operating principle was that if a question was asked in a code review, someone will likely have the same question when reading the code weeks&#x2F;months&#x2F;years from now and there should be a comment.</div><br/></div></div><div id="41506704" class="c"><input type="checkbox" id="c-41506704" checked=""/><div class="controls bullet"><span class="by">TillE</span><span>|</span><a href="#41505792">root</a><span>|</span><a href="#41506019">parent</a><span>|</span><a href="#41506366">prev</a><span>|</span><a href="#41506347">next</a><span>|</span><label class="collapse" for="c-41506704">[-]</label><label class="expand" for="c-41506704">[2 more]</label></div><br/><div class="children"><div class="content">It&#x27;s an obvious cliche, but that &quot;someone&quot; is very frequently you. It&#x27;s really easy to forget why you made some non-obvious decision and waste time poking at the exact same stuff you already did a year or two ago. It&#x27;s happened to me several times.<p>When you figure out something tricky, leave a comment.</div><br/><div id="41507811" class="c"><input type="checkbox" id="c-41507811" checked=""/><div class="controls bullet"><span class="by">JohnMakin</span><span>|</span><a href="#41505792">root</a><span>|</span><a href="#41506704">parent</a><span>|</span><a href="#41506347">next</a><span>|</span><label class="collapse" for="c-41507811">[-]</label><label class="expand" for="c-41507811">[1 more]</label></div><br/><div class="children"><div class="content">completely agree every person who leaves detailed “unneccessary” comments like this has been bitten by coming back to a codebase a year+ later and going “who was the idiot that wrote this and why didnt they leave any clue behind” and realizing that yes, you were the idiot. or has had to come behind someone that left zero documentation or readable code and been tasked with cleaning it up. breadcrumbs are useful and comments cost nothing. yes, there are commit messages, but commits often aren’t super clean, explicit, coherent, or even looked at.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="41506347" class="c"><input type="checkbox" id="c-41506347" checked=""/><div class="controls bullet"><span class="by">Wowfunhappy</span><span>|</span><a href="#41505792">prev</a><span>|</span><a href="#41506668">next</a><span>|</span><label class="collapse" for="c-41506347">[-]</label><label class="expand" for="c-41506347">[5 more]</label></div><br/><div class="children"><div class="content">&gt; When I was first playing with this idea, someone told me that my negative comment isn&#x27;t necessary, just name the function RunFewerTimesSlowerAndSimplerAlgorithmAfterConsideringTradeOffs.<p>Wow, someone actually suggested that?! Do people write whole programs like this?</div><br/><div id="41508348" class="c"><input type="checkbox" id="c-41508348" checked=""/><div class="controls bullet"><span class="by">mgsouth</span><span>|</span><a href="#41506347">parent</a><span>|</span><a href="#41506513">next</a><span>|</span><label class="collapse" for="c-41508348">[-]</label><label class="expand" for="c-41508348">[1 more]</label></div><br/><div class="children"><div class="content">There are many, many developers who are, deep in their hearts, &quot;programmers&quot;--someone who creates a plan of action, a program, for very complex machines to follow. They are skilled at discerning The Right Way to solve a problem. Actually, THE Right Way. And since they are Programmers, the Right Way is to find the Best Way to tell the computer what to do. Computers are completely oblivious to comments, so they aren&#x27;t The Best Way. Comments are ambiguous, so they can&#x27;t be THE Right Way. Computers parse identifiers, so a good variable name is telling the computer _something_ at least, and so is vastly preferrable to comments. If there&#x27;s a mismatch between comment and code, the code is Reality so the comment must be wrong, and is thus misleading and worse than useless.<p>In reality, of course, software development is about getting large groups of people in-sync as to problem, solution, and implementation. That takes lots and lots of communication. Ambiguous, messy people-to-people stuff, without The Right Solution to contents or wording. Because there&#x27;s a bias towards thinking of the Program as Reality, it never occurs to such developers that an identifier can become just as outdated or wrong as a comment, and in fact it is easier to correct a comment than to globally rename identifiers, or that a 20-word comment carries vastly more information and nuance than a 20-character function name, or that trying to shoehorn information important to developers into a language used to tell _computers_ how to function is worse than trying to drop assembly language into a SQL query.</div><br/></div></div><div id="41506513" class="c"><input type="checkbox" id="c-41506513" checked=""/><div class="controls bullet"><span class="by">herpdyderp</span><span>|</span><a href="#41506347">parent</a><span>|</span><a href="#41508348">prev</a><span>|</span><a href="#41506361">next</a><span>|</span><label class="collapse" for="c-41506513">[-]</label><label class="expand" for="c-41506513">[1 more]</label></div><br/><div class="children"><div class="content">Yes. I currently work in a codebase where the previous tech lead did that and promoted such behavior (among many other insanity-inducing practices).</div><br/></div></div><div id="41506361" class="c"><input type="checkbox" id="c-41506361" checked=""/><div class="controls bullet"><span class="by">mkoubaa</span><span>|</span><a href="#41506347">parent</a><span>|</span><a href="#41506513">prev</a><span>|</span><a href="#41506668">next</a><span>|</span><label class="collapse" for="c-41506361">[-]</label><label class="expand" for="c-41506361">[2 more]</label></div><br/><div class="children"><div class="content">This is griefing your coworkers who would actually do that?</div><br/><div id="41506393" class="c"><input type="checkbox" id="c-41506393" checked=""/><div class="controls bullet"><span class="by">Wowfunhappy</span><span>|</span><a href="#41506347">root</a><span>|</span><a href="#41506361">parent</a><span>|</span><a href="#41506668">next</a><span>|</span><label class="collapse" for="c-41506393">[-]</label><label class="expand" for="c-41506393">[1 more]</label></div><br/><div class="children"><div class="content">I wasn&#x27;t being sarcastic, if that&#x27;s what you mean. (And I&#x27;m not a professional programmer, so my coworkers don&#x27;t write code.)<p>To me, the suggestion seems so incredibly bad that it leaves me wondering about the headspace of someone who would suggest that. Is it somehow less bad than it seems?</div><br/></div></div></div></div></div></div><div id="41506668" class="c"><input type="checkbox" id="c-41506668" checked=""/><div class="controls bullet"><span class="by">jesse__</span><span>|</span><a href="#41506347">prev</a><span>|</span><a href="#41508810">next</a><span>|</span><label class="collapse" for="c-41506668">[-]</label><label class="expand" for="c-41506668">[1 more]</label></div><br/><div class="children"><div class="content">I ascribe to the notion that &#x27;comments are apologies&#x27; (to my future self).<p>If a piece of code is weird, or slow, or you&#x27;d say &quot;yeah, it&#x27;s kinda janky&quot; when describing to somebody, I usually write a comment about it.  Especially if I&#x27;ve changed it before; to document some case that didn&#x27;t work, or I fixed, or whatever.<p>When you operate on this basis, superfluous comments just melt away, and you typically end up documenting &#x27;why&#x27; only when it&#x27;s really necessary.<p>Try it out in your own codebase for a month and see how it feels :)</div><br/></div></div><div id="41508810" class="c"><input type="checkbox" id="c-41508810" checked=""/><div class="controls bullet"><span class="by">kqr</span><span>|</span><a href="#41506668">prev</a><span>|</span><a href="#41509091">next</a><span>|</span><label class="collapse" for="c-41508810">[-]</label><label class="expand" for="c-41508810">[1 more]</label></div><br/><div class="children"><div class="content">Another big one I wish I saw more often is &quot;these are the circumstances under which this assumption was made and here are the steps you can take to check if those circumstances have meaningfully changed.&quot;<p>In other words, the comment allows the author to reach into the future and co-debug with the reader, even if the author is no longer there.</div><br/></div></div><div id="41509091" class="c"><input type="checkbox" id="c-41509091" checked=""/><div class="controls bullet"><span class="by">ktosobcy</span><span>|</span><a href="#41508810">prev</a><span>|</span><a href="#41506538">next</a><span>|</span><label class="collapse" for="c-41509091">[-]</label><label class="expand" for="c-41509091">[1 more]</label></div><br/><div class="children"><div class="content">I somewhat dislike the notion of &quot;self-explanatory code&quot; (especially if someone has tendency to be &quot;smart&quot;)... optimise for reading and add comments!</div><br/></div></div><div id="41506538" class="c"><input type="checkbox" id="c-41506538" checked=""/><div class="controls bullet"><span class="by">jakub_g</span><span>|</span><a href="#41509091">prev</a><span>|</span><a href="#41509376">next</a><span>|</span><label class="collapse" for="c-41506538">[-]</label><label class="expand" for="c-41506538">[2 more]</label></div><br/><div class="children"><div class="content">Apart from what&#x2F;why&#x2F;why not: Something I started doing recently is to put URLs in the comments:<p>- URL of documentation for a complex feature<p>- URL with a dashboard with telemetry<p>- URL of a monitor which checks if the given feature, CI job, GitHub action etc. works correctly.<p>In a big project, figuring this stuff out is not trivial, requires a lot of searching with proper search terms and&#x2F;or asking the proper knowledgeable person.<p>I find it weird that code is often so detached from everything non-code.</div><br/></div></div><div id="41509376" class="c"><input type="checkbox" id="c-41509376" checked=""/><div class="controls bullet"><span class="by">veltas</span><span>|</span><a href="#41506538">prev</a><span>|</span><a href="#41505759">next</a><span>|</span><label class="collapse" for="c-41509376">[-]</label><label class="expand" for="c-41509376">[1 more]</label></div><br/><div class="children"><div class="content">Why not question-mark?</div><br/></div></div><div id="41505759" class="c"><input type="checkbox" id="c-41505759" checked=""/><div class="controls bullet"><span class="by">gary_0</span><span>|</span><a href="#41509376">prev</a><span>|</span><a href="#41506436">next</a><span>|</span><label class="collapse" for="c-41505759">[-]</label><label class="expand" for="c-41505759">[1 more]</label></div><br/><div class="children"><div class="content">The title might be clearer with a hyphen: &quot;Why-Not Comments&quot;.</div><br/></div></div><div id="41506436" class="c"><input type="checkbox" id="c-41506436" checked=""/><div class="controls bullet"><span class="by">AcerbicZero</span><span>|</span><a href="#41505759">prev</a><span>|</span><a href="#41506367">next</a><span>|</span><label class="collapse" for="c-41506436">[-]</label><label class="expand" for="c-41506436">[1 more]</label></div><br/><div class="children"><div class="content">I have learned to enjoy narrating my struggles in the comments, probably to excess; but it certainly makes it much easier to pick up a task again after I leave it alone for a week or two.<p>People rarely touch what I write, but if they do, and they want to strip the comments out, thats totally fine with me, just don&#x27;t ask me how it works after you do :P</div><br/></div></div><div id="41505958" class="c"><input type="checkbox" id="c-41505958" checked=""/><div class="controls bullet"><span class="by">ufo</span><span>|</span><a href="#41506367">prev</a><span>|</span><a href="#41506015">next</a><span>|</span><label class="collapse" for="c-41505958">[-]</label><label class="expand" for="c-41505958">[2 more]</label></div><br/><div class="children"><div class="content">When I see a sequence of string replacements, instead of performance the main thing I worry about is if the output of one replaces matches a pattern for another replacement. I see variations of this often during code review.<p>Doesn&#x27;t seem to be a problem here though because they&#x27;re replacing macros by symbols that are known ahead of time.</div><br/></div></div><div id="41506015" class="c"><input type="checkbox" id="c-41506015" checked=""/><div class="controls bullet"><span class="by">8organicbits</span><span>|</span><a href="#41505958">prev</a><span>|</span><a href="#41505777">next</a><span>|</span><label class="collapse" for="c-41506015">[-]</label><label class="expand" for="c-41506015">[1 more]</label></div><br/><div class="children"><div class="content">Another approach is ADRs, which document alternatives considered, but these are documentation, not comments. I&#x27;ve found them useful for building consensus around architecture decisions.<p><a href="https:&#x2F;&#x2F;adr.github.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;adr.github.io&#x2F;</a></div><br/></div></div><div id="41505777" class="c"><input type="checkbox" id="c-41505777" checked=""/><div class="controls bullet"><span class="by">kstrauser</span><span>|</span><a href="#41506015">prev</a><span>|</span><a href="#41506509">next</a><span>|</span><label class="collapse" for="c-41505777">[-]</label><label class="expand" for="c-41505777">[7 more]</label></div><br/><div class="children"><div class="content">The title&#x27;s a little odd, unless it was to grab attention. It&#x27;s saying &quot;Why [I use] &#x27;not comments&#x27;&quot;, not asking &quot;why not comments?&quot; A &quot;not comment&quot; here is an explanation of why the programmer didn&#x27;t choose the obvious approach. I agree: that&#x27;s a very valuable thing to document for the next person.<p>For instance, you might write something like:<p><pre><code>  # I used a bubble sort instead of a quick sort here because
  # the constraint above this guarantees there will never be
  # more than 5 items, so it&#x27;s faster to use the naive
  # algorithm than to implement a more complex algorithm that
  # involves more branching.
</code></pre>
or<p><pre><code>  # Normally we&#x27;d do X, but that broke customer Y&#x27;s use case
  # based on their interpretation of our API docs which we
  # had kind of messed up. So now we do Y because it works
  # under both interpretations, at least until we can get
  # them to upgrade.
</code></pre>
Basically, tell your audience why you&#x27;re not using the expected method. It&#x27;s not because you didn&#x27;t know about it, but because you do know and you&#x27;ve determined that it&#x27;s not a good fit for this use case.</div><br/><div id="41506101" class="c"><input type="checkbox" id="c-41506101" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#41505777">parent</a><span>|</span><a href="#41506008">next</a><span>|</span><label class="collapse" for="c-41506101">[-]</label><label class="expand" for="c-41506101">[1 more]</label></div><br/><div class="children"><div class="content">I think the title is intentionally ambiguous.<p>Because the article is a rebuttal to those who oppose writing comments (that is where &quot;why not comments&quot; means &quot;why you shouldn&#x27;t write comments&quot;) where the main argument is that you should write &quot;why not&quot; comments (that is &quot;why not comments&quot; means write comments explaining why you didn&#x27;t do something or do something a certain way).</div><br/></div></div><div id="41506008" class="c"><input type="checkbox" id="c-41506008" checked=""/><div class="controls bullet"><span class="by">lkrubner</span><span>|</span><a href="#41505777">parent</a><span>|</span><a href="#41506101">prev</a><span>|</span><a href="#41506509">next</a><span>|</span><label class="collapse" for="c-41506008">[-]</label><label class="expand" for="c-41506008">[5 more]</label></div><br/><div class="children"><div class="content">The problem with the title is simply that the English language allows open compound words. I know many Germans wonder why we allow this. Germans push the words together, for clarity. I&#x27;ve suggested that we use hyphens. Hyphens feel natural in English, and could remove the ambiguity that exists whenever we use open compound words (that is, open-compound-words). In this case &quot;not-comments&quot; would have added clarity.<p>Likewise, the title &quot;World&#x27;s longest DJ set&quot; was confusing, because most people will assume that the compound word is &quot;DJ-set&quot;. But if you read the whole article, then you realize that a python snake fell on the mixing board and accidentally mixed some tunes. So the compound word was actually &quot;longest-DJ&quot; -- a 2.5 meter python.<p>We should all consider using hyphens for all compound words.<p><a href="https:&#x2F;&#x2F;x.com&#x2F;krubner&#x2F;status&#x2F;1828155852773113942" rel="nofollow">https:&#x2F;&#x2F;x.com&#x2F;krubner&#x2F;status&#x2F;1828155852773113942</a></div><br/><div id="41506089" class="c"><input type="checkbox" id="c-41506089" checked=""/><div class="controls bullet"><span class="by">BobaFloutist</span><span>|</span><a href="#41505777">root</a><span>|</span><a href="#41506008">parent</a><span>|</span><a href="#41506946">next</a><span>|</span><label class="collapse" for="c-41506089">[-]</label><label class="expand" for="c-41506089">[2 more]</label></div><br/><div class="children"><div class="content">I think the &quot;Longest DJ Set&quot; was intentional wordplay.</div><br/><div id="41506102" class="c"><input type="checkbox" id="c-41506102" checked=""/><div class="controls bullet"><span class="by">thayne</span><span>|</span><a href="#41505777">root</a><span>|</span><a href="#41506089">parent</a><span>|</span><a href="#41506946">next</a><span>|</span><label class="collapse" for="c-41506102">[-]</label><label class="expand" for="c-41506102">[1 more]</label></div><br/><div class="children"><div class="content">As was the title of this article.</div><br/></div></div></div></div><div id="41506946" class="c"><input type="checkbox" id="c-41506946" checked=""/><div class="controls bullet"><span class="by">shiroiushi</span><span>|</span><a href="#41505777">root</a><span>|</span><a href="#41506008">parent</a><span>|</span><a href="#41506089">prev</a><span>|</span><a href="#41506345">next</a><span>|</span><label class="collapse" for="c-41506946">[-]</label><label class="expand" for="c-41506946">[1 more]</label></div><br/><div class="children"><div class="content">&gt;I&#x27;ve suggested that we use hyphens. Hyphens feel natural in English, and could remove the ambiguity that exists whenever we use open compound words<p>We <i>do</i> use hyphens in English.  Well, some of the time, and some of us.  I could be wrong, but I do feel that, given my age and also my readings of older texts, that the use of hyphens in this way has become less common, and that this was much more common decades ago to avoid ambiguity.</div><br/></div></div><div id="41506345" class="c"><input type="checkbox" id="c-41506345" checked=""/><div class="controls bullet"><span class="by">aidenn0</span><span>|</span><a href="#41505777">root</a><span>|</span><a href="#41506008">parent</a><span>|</span><a href="#41506946">prev</a><span>|</span><a href="#41506509">next</a><span>|</span><label class="collapse" for="c-41506345">[-]</label><label class="expand" for="c-41506345">[1 more]</label></div><br/><div class="children"><div class="content">As always, there&#x27;s a relevant xkcd: <a href="https:&#x2F;&#x2F;xkcd.com&#x2F;37&#x2F;" rel="nofollow">https:&#x2F;&#x2F;xkcd.com&#x2F;37&#x2F;</a></div><br/></div></div></div></div></div></div><div id="41506509" class="c"><input type="checkbox" id="c-41506509" checked=""/><div class="controls bullet"><span class="by">philipwhiuk</span><span>|</span><a href="#41505777">prev</a><span>|</span><a href="#41507588">next</a><span>|</span><label class="collapse" for="c-41506509">[-]</label><label class="expand" for="c-41506509">[3 more]</label></div><br/><div class="children"><div class="content">Personally I think you&#x27;re better off putting &#x27;not comments&#x27; in git commit information. Git commit comments are like normal comments except they don&#x27;t get detached from the code.</div><br/><div id="41506591" class="c"><input type="checkbox" id="c-41506591" checked=""/><div class="controls bullet"><span class="by">jakub_g</span><span>|</span><a href="#41506509">parent</a><span>|</span><a href="#41507588">next</a><span>|</span><label class="collapse" for="c-41506591">[-]</label><label class="expand" for="c-41506591">[2 more]</label></div><br/><div class="children"><div class="content">I believe this can work in slow paced opensource projects which do squash-merges (one PR = one commit), every commit is green and beautiful and well described with properly formatted message.<p>I worked on such project in my first job and I cared a lot about my commit messages, and changelogs.<p>On the other hand, in fast paced corporate development I barely ever see someone make commit messages like this. Even PR titles often leave a lot to be desired.</div><br/><div id="41508501" class="c"><input type="checkbox" id="c-41508501" checked=""/><div class="controls bullet"><span class="by">keybored</span><span>|</span><a href="#41506509">root</a><span>|</span><a href="#41506591">parent</a><span>|</span><a href="#41507588">next</a><span>|</span><label class="collapse" for="c-41508501">[-]</label><label class="expand" for="c-41508501">[1 more]</label></div><br/><div class="children"><div class="content">Squash merging is a practice I mostly see recommended (I mean: mandated) from those corporate environments which churn out code like a paper mill trying to put the Amazon out of existence. OSS projects that <i>can</i> take their time with nice commit messages—which even review them, not just the code—don’t have to limit themselves like that.</div><br/></div></div></div></div></div></div><div id="41507588" class="c"><input type="checkbox" id="c-41507588" checked=""/><div class="controls bullet"><span class="by">spencerchubb</span><span>|</span><a href="#41506509">prev</a><span>|</span><a href="#41506469">next</a><span>|</span><label class="collapse" for="c-41507588">[-]</label><label class="expand" for="c-41507588">[1 more]</label></div><br/><div class="children"><div class="content">My team comments way too much. I constantly see stuff like this<p>def fetch_data(comment_id):<p><pre><code>  Args:  
    - comment_id: The id of the comment to fetch.

  Returns: The comment data
  
</code></pre>
# Fetch comment data<p>data = fetchCommentData()</div><br/></div></div><div id="41506469" class="c"><input type="checkbox" id="c-41506469" checked=""/><div class="controls bullet"><span class="by">slaymaker1907</span><span>|</span><a href="#41507588">prev</a><span>|</span><a href="#41506189">next</a><span>|</span><label class="collapse" for="c-41506469">[-]</label><label class="expand" for="c-41506469">[1 more]</label></div><br/><div class="children"><div class="content">&gt; In recent years I see more people arguing that whys do not belong in comments either, that they can be embedded into LongFunctionNames or the names of test cases.<p>Who is arguing this? Usually, if I&#x27;m adding a comment on why something is done a particular way, it&#x27;s something that is going to take at least a full sentence to explain if not a whole paragraph.</div><br/></div></div><div id="41506189" class="c"><input type="checkbox" id="c-41506189" checked=""/><div class="controls bullet"><span class="by">icambron</span><span>|</span><a href="#41506469">prev</a><span>|</span><a href="#41505965">next</a><span>|</span><label class="collapse" for="c-41506189">[-]</label><label class="expand" for="c-41506189">[1 more]</label></div><br/><div class="children"><div class="content">The “why not” form just seems to be a special case of “explain why this code is weird”, which is my commenting metric in its entirety</div><br/></div></div><div id="41505965" class="c"><input type="checkbox" id="c-41505965" checked=""/><div class="controls bullet"><span class="by">remot_human</span><span>|</span><a href="#41506189">prev</a><span>|</span><a href="#41506187">next</a><span>|</span><label class="collapse" for="c-41505965">[-]</label><label class="expand" for="c-41505965">[3 more]</label></div><br/><div class="children"><div class="content">Maybe what we need is a single vocabulary word that means “I’m doing something that won’t scale well to large inputs but is still worth writing for now” then you could name the function replaceEscapeCharsNewWord()</div><br/><div id="41505990" class="c"><input type="checkbox" id="c-41505990" checked=""/><div class="controls bullet"><span class="by">Jtsummers</span><span>|</span><a href="#41505965">parent</a><span>|</span><a href="#41506461">next</a><span>|</span><label class="collapse" for="c-41505990">[-]</label><label class="expand" for="c-41505990">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve named these things &quot;naive&quot; sometimes. Like &quot;naiveQueryBuilder&quot; or whatever the appropriate term would be. They&#x27;re also useful for creating tests because the naive version is usually &quot;obviously&quot; correct (still write some tests, but you don&#x27;t need much more than sanity checks) and can be the oracle for the faster version (you might want to cache results rather than run the naive one each time, though).</div><br/></div></div><div id="41506461" class="c"><input type="checkbox" id="c-41506461" checked=""/><div class="controls bullet"><span class="by">xelxebar</span><span>|</span><a href="#41505965">parent</a><span>|</span><a href="#41505990">prev</a><span>|</span><a href="#41506187">next</a><span>|</span><label class="collapse" for="c-41506461">[-]</label><label class="expand" for="c-41506461">[1 more]</label></div><br/><div class="children"><div class="content">Ithkuil to the rescue? <a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Ithkuil" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Ithkuil</a></div><br/></div></div></div></div><div id="41506187" class="c"><input type="checkbox" id="c-41506187" checked=""/><div class="controls bullet"><span class="by">breck</span><span>|</span><a href="#41505965">prev</a><span>|</span><a href="#41506928">next</a><span>|</span><label class="collapse" for="c-41506187">[-]</label><label class="expand" for="c-41506187">[1 more]</label></div><br/><div class="children"><div class="content">I resisted putting comments in my languages for years. My reasoning was it was always a flaw of my code (or the language) if I couldn&#x27;t express myself in typed code.<p>Then I realized that my languages will never be perfect, and having comments is an essential escape hatch. I was wrong and I changed my mind.<p>Also, 99.9% of languages have comments:<p><a href="https:&#x2F;&#x2F;pldb.io&#x2F;blog&#x2F;a-language-without-comments.html" rel="nofollow">https:&#x2F;&#x2F;pldb.io&#x2F;blog&#x2F;a-language-without-comments.html</a></div><br/></div></div><div id="41506928" class="c"><input type="checkbox" id="c-41506928" checked=""/><div class="controls bullet"><span class="by">yodsanklai</span><span>|</span><a href="#41506187">prev</a><span>|</span><a href="#41508794">next</a><span>|</span><label class="collapse" for="c-41506928">[-]</label><label class="expand" for="c-41506928">[1 more]</label></div><br/><div class="children"><div class="content">This seems a bit like a strawman argument. I don&#x27;t think anybody say that we should never use comments.<p>The problem with comments is that they can become stale, and it&#x27;s often possible to self-document or write simpler code that causes less surprise. But of course, it&#x27;s totally fine to put comments.<p>And I think comments should be mandatory for interfaces functions&#x2F;types unless their behavior is obvious. I don&#x27;t want to read the code to understand what a function does, or what invariant a class maintains. And if it&#x27;s too complex to document in a few lines, probably this isn&#x27;t the right interface. But apparently, this isn&#x27;t obvious for everybody. In my company, most of the code isn&#x27;t documented.</div><br/></div></div><div id="41508794" class="c"><input type="checkbox" id="c-41508794" checked=""/><div class="controls bullet"><span class="by">at_a_remove</span><span>|</span><a href="#41506928">prev</a><span>|</span><label class="collapse" for="c-41508794">[-]</label><label class="expand" for="c-41508794">[1 more]</label></div><br/><div class="children"><div class="content">Although I had started programming when I was nine, in high school I was fortunate enough to have a computer science teacher with a PhD in the field.  Among one of the habits drilled into me was extensive commenting.<p>Every function (or procedure) starts with a comment block.  It first talks about the what and why.  Then, a line for the inputs and another for the outputs.  Next -- and this is done closer to the end of the writing -- I describe what it calls and what it is called by.  The comment block optionally finishes with room for improvement.<p>The function itself probably has other comments.  Usually for anything which is not <i>blindingly obvious</i>.  Because I write code like a caveman, wherein only one thing happens on one line, most everything is quite clear.  If there&#x27;s anything weird or magical that has to happen, it gets a comment.<p>Elegance and cleverness is reserved for data structures, algorithms, and so on, rather than doing a lot of stuff in as few lines as possible.  I do this for Future Me, who might be having a bad day, or for anyone who wants to adapt my code to something else.<p>One of the last steps in a finished program is going through and making sure that my comments match my code.  I am a very boring kind of programmer.</div><br/></div></div></div></div></div></div></div></body></html>