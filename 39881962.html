<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1711875653635" as="style"/><link rel="stylesheet" href="styles.css?v=1711875653635"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://www.documentcloud.org/documents/24520332-merged-fb">Meta&#x27;s Onavo VPN removed SSL encryption of competitor&#x27;s analytics traffic</a> <span class="domain">(<a href="https://www.documentcloud.org">www.documentcloud.org</a>)</span></div><div class="subtext"><span>wordhydrogen</span> | <span>29 comments</span></div><br/><div><div id="39882601" class="c"><input type="checkbox" id="c-39882601" checked=""/><div class="controls bullet"><span class="by">1vuio0pswjnm7</span><span>|</span><a href="#39881963">next</a><span>|</span><label class="collapse" for="c-39882601">[-]</label><label class="expand" for="c-39882601">[1 more]</label></div><br/><div class="children"><div class="content">Here is Meta&#x27;s response:<p><a href="https:&#x2F;&#x2F;ia802908.us.archive.org&#x2F;29&#x2F;items&#x2F;gov.uscourts.cand.369872&#x2F;gov.uscourts.cand.369872.749.0.pdf" rel="nofollow">https:&#x2F;&#x2F;ia802908.us.archive.org&#x2F;29&#x2F;items&#x2F;gov.uscourts.cand.3...</a><p>Plaintiffs are alleging that documents re: the VPN app Meta is refusing to produce are not attorney-client privileged due to the fraud&#x2F;crime exception.  For example, if Meta&#x27;s lawyers assisted Meta with the commission of a crime, such as wiretapping, the exception might apply.<p>Meta denies wiretapping but offers no evidence of consent.  Meta is also arguing the documents are not relevant.  Meta claims the VPN app intercepting communications with other companies selling ads, e.g., Snap, was not anti-competitive.  It was just &quot;market research&quot;.</div><br/></div></div><div id="39881963" class="c"><input type="checkbox" id="c-39881963" checked=""/><div class="controls bullet"><span class="by">wordhydrogen</span><span>|</span><a href="#39882601">prev</a><span>|</span><a href="#39882407">next</a><span>|</span><label class="collapse" for="c-39881963">[-]</label><label class="expand" for="c-39881963">[4 more]</label></div><br/><div class="children"><div class="content"><i>Documents and testimony show that this “man-in-the-middle” approach—which relied on technology known as a server-side SSL bump performed on Facebook’s Onavo servers—was in fact implemented, at scale, between June 2016 and early 2019.</i><p><i>Facebook’s SSL bump technology was deployed against Snapchat starting in 2016, then against YouTube in 2017-2018, and eventually against Amazon in 2018.</i><p><i>The goal of Facebook’s SSL bump technology was the company’s acquisition, decryption, transfer, and use in competitive decision making of private, encrypted in-app analytics from the Snapchat, YouTube, and Amazon apps, which were supposed to be transmitted over a secure connection between those respective apps and secure servers (sc-analytics.appspot.com for Snapchat, s.youtube.com and youtubei.googleapis.com for YouTube, and *.amazon.com for Amazon).</i><p><i>This code, which included a client-side “kit” that installed a “root” certificate on Snapchat users’ (and later, YouTube and Amazon users’) mobile devices, see PX 414 at 6, PX 26 (PALM-011683732)(“we install a root CA on the device and MITM all SSL traffic”), also included custom server-side code based on “squid” (an open-source web proxy) through which Facebook’s servers created fake digital certificates to impersonate trusted Snapchat, YouTube, and Amazon analytics servers to redirect and decrypt secure traffic from those apps for Facebook’s strategic analysis, see PX 26 at 3-4 (Sep. 12, 2018: “Today we are using the Onavo vpn-proxy stack to deploy squid with ssl bump the stack runs in edge on our own hosts (onavopp and onavolb) with a really old version of squid (3.1).”); see generally <a href="http:&#x2F;&#x2F;wiki.squid-cache.org&#x2F;Features&#x2F;SslBump" rel="nofollow">http:&#x2F;&#x2F;wiki.squid-cache.org&#x2F;Features&#x2F;SslBump</a></i><p>Malware Bytes Article: <a href="https:&#x2F;&#x2F;www.malwarebytes.com&#x2F;blog&#x2F;news&#x2F;2024&#x2F;03&#x2F;facebook-spied-on-snapchat-users-to-get-analytics-about-the-competition" rel="nofollow">https:&#x2F;&#x2F;www.malwarebytes.com&#x2F;blog&#x2F;news&#x2F;2024&#x2F;03&#x2F;facebook-spie...</a></div><br/><div id="39882577" class="c"><input type="checkbox" id="c-39882577" checked=""/><div class="controls bullet"><span class="by">leononame</span><span>|</span><a href="#39881963">parent</a><span>|</span><a href="#39882292">next</a><span>|</span><label class="collapse" for="c-39882577">[-]</label><label class="expand" for="c-39882577">[1 more]</label></div><br/><div class="children"><div class="content">That is insane and I would be inclined to not believe it if someone had told me this. This is such an immense breach of trust that even for me, who has a very low opinion of Meta, it is unexpected. I hope this will blow up as much as it should</div><br/></div></div><div id="39882292" class="c"><input type="checkbox" id="c-39882292" checked=""/><div class="controls bullet"><span class="by">liuliu</span><span>|</span><a href="#39881963">parent</a><span>|</span><a href="#39882577">prev</a><span>|</span><a href="#39882407">next</a><span>|</span><label class="collapse" for="c-39882292">[-]</label><label class="expand" for="c-39882292">[2 more]</label></div><br/><div class="children"><div class="content">That&#x27;s appalling to say at least. But Snapchat implemented certificate-pinning since 2015. Does that mean either the analytics endpoint was not covered or somehow the certificate-pinning is circumvented in this case?</div><br/><div id="39882314" class="c"><input type="checkbox" id="c-39882314" checked=""/><div class="controls bullet"><span class="by">KomoD</span><span>|</span><a href="#39881963">root</a><span>|</span><a href="#39882292">parent</a><span>|</span><a href="#39882407">next</a><span>|</span><label class="collapse" for="c-39882314">[-]</label><label class="expand" for="c-39882314">[1 more]</label></div><br/><div class="children"><div class="content">&gt; analytics endpoint was not covered<p>This sounds most likely</div><br/></div></div></div></div></div></div><div id="39882407" class="c"><input type="checkbox" id="c-39882407" checked=""/><div class="controls bullet"><span class="by">cabirum</span><span>|</span><a href="#39881963">prev</a><span>|</span><a href="#39882328">next</a><span>|</span><label class="collapse" for="c-39882407">[-]</label><label class="expand" for="c-39882407">[3 more]</label></div><br/><div class="children"><div class="content">What do you think Cloudflare is doing with its SSL termination&#x2F;offloading?</div><br/><div id="39882603" class="c"><input type="checkbox" id="c-39882603" checked=""/><div class="controls bullet"><span class="by">ben_w</span><span>|</span><a href="#39882407">parent</a><span>|</span><a href="#39882592">next</a><span>|</span><label class="collapse" for="c-39882603">[-]</label><label class="expand" for="c-39882603">[1 more]</label></div><br/><div class="children"><div class="content">Given Snowden, I have to assume Cloudfare is under the thumb of <i>at least</i> the NSA.<p>At the very least, all the usual arguments against backdoors are going to be used by intelligence agencies to justify &quot;providing assistance&quot;, which isn&#x27;t even merely a euphemistic excuse given how incredibly valuable it would be for normal organised crime to spy on some of the encrypted data… but also is at least a bit of a euphemism, as I have to assume the controversies about terrorist groups using Cloudfare are only pemitted to happen because someone in US intelligence knows how to squeeze secrets from those groups.</div><br/></div></div><div id="39882592" class="c"><input type="checkbox" id="c-39882592" checked=""/><div class="controls bullet"><span class="by">LoganDark</span><span>|</span><a href="#39882407">parent</a><span>|</span><a href="#39882603">prev</a><span>|</span><a href="#39882328">next</a><span>|</span><label class="collapse" for="c-39882592">[-]</label><label class="expand" for="c-39882592">[1 more]</label></div><br/><div class="children"><div class="content">The difference is that people* know and accept that CloudFlare does this. They advertise it as a feature.<p>*most willing customers of CloudFlare.</div><br/></div></div></div></div><div id="39882328" class="c"><input type="checkbox" id="c-39882328" checked=""/><div class="controls bullet"><span class="by">imglorp</span><span>|</span><a href="#39882407">prev</a><span>|</span><a href="#39882391">next</a><span>|</span><label class="collapse" for="c-39882328">[-]</label><label class="expand" for="c-39882328">[1 more]</label></div><br/><div class="children"><div class="content">So, the FANGs can conduct mass psyops warfare against the populace basically with impunity -- a pesky little suit now and then is inconsequential.<p>But what will happen when they get caught stealing each other&#x27;s surveillance booty?</div><br/></div></div><div id="39882391" class="c"><input type="checkbox" id="c-39882391" checked=""/><div class="controls bullet"><span class="by">dddddaviddddd</span><span>|</span><a href="#39882328">prev</a><span>|</span><a href="#39882323">next</a><span>|</span><label class="collapse" for="c-39882391">[-]</label><label class="expand" for="c-39882391">[1 more]</label></div><br/><div class="children"><div class="content">If an individual had somehow done this, I expect that the Computer Fraud and Abuse Act would be used against them. With Meta, we&#x27;ll see.</div><br/></div></div><div id="39882323" class="c"><input type="checkbox" id="c-39882323" checked=""/><div class="controls bullet"><span class="by">adtac</span><span>|</span><a href="#39882391">prev</a><span>|</span><a href="#39882409">next</a><span>|</span><label class="collapse" for="c-39882323">[-]</label><label class="expand" for="c-39882323">[1 more]</label></div><br/><div class="children"><div class="content">Lol the irony of publicly announcing the addition of end-to-end encryption in one app (Whatsapp) while secretly breaking TLS in another, all in the same year #Tethics</div><br/></div></div><div id="39882409" class="c"><input type="checkbox" id="c-39882409" checked=""/><div class="controls bullet"><span class="by">KaiserPro</span><span>|</span><a href="#39882323">prev</a><span>|</span><a href="#39882453">next</a><span>|</span><label class="collapse" for="c-39882409">[-]</label><label class="expand" for="c-39882409">[1 more]</label></div><br/><div class="children"><div class="content">So was the plan to just yolo this out into the wild?<p>because the document says here that it was going to be given to trial participants as part of yougov(and others) survey. Which implies that they would have been informed&#x2F;paid.<p>If its the former, then obviously thats unauthorised wiretapping. If its the latter so long as informed consent is given, that a shittonne better that the advertising tech we have now.</div><br/></div></div><div id="39882453" class="c"><input type="checkbox" id="c-39882453" checked=""/><div class="controls bullet"><span class="by">baby</span><span>|</span><a href="#39882409">prev</a><span>|</span><a href="#39882478">next</a><span>|</span><label class="collapse" for="c-39882453">[-]</label><label class="expand" for="c-39882453">[2 more]</label></div><br/><div class="children"><div class="content">There&#x27;s a lot of confusion around these stories these days, which reminds me of the  &quot;Gmail is looking at your emails&quot; stories[1].<p>First, this is not wiretapping, come on. There&#x27;s targeted man-in-the-middle (MITM) attacks, and then there&#x27;s this. This is plainly &quot;we are using advanced powers to analyze your traffic&quot;.<p>This is not even Superfish[2] type of stuff, where Lenovo had preinstalled root certs onto laptops to display ads. This is &quot;if you opt in we will analyze your data&quot;.<p>Every program you install on your laptop can basically do WHATEVER it wants. This is how viruses work. When you install a program, you agree to give it ALL power. This is true on computers generally, and this is true on phones when you side-load programs. The key is that when we install something we understand the type of program we&#x27;re installing, and we trust that the program doesn&#x27;t do more than what it _claims to be doing_.<p>So the question here is not &quot;how does Onavo manage to analyze  traffic that&#x27;s encrypted&quot;, it&#x27;s &quot;does Onavo abuses the trust and the contract it has with its users?&quot;<p>[1]: <a href="https:&#x2F;&#x2F;variety.com&#x2F;2017&#x2F;digital&#x2F;news&#x2F;google-gmail-ads-emails-1202477321&#x2F;" rel="nofollow">https:&#x2F;&#x2F;variety.com&#x2F;2017&#x2F;digital&#x2F;news&#x2F;google-gmail-ads-email...</a><p>[2]: <a href="https:&#x2F;&#x2F;www.virusbulletin.com&#x2F;blog&#x2F;2015&#x2F;02&#x2F;lenovo-laptops-pre-installed-software-adds-its-own-root-ca-certificate&#x2F;" rel="nofollow">https:&#x2F;&#x2F;www.virusbulletin.com&#x2F;blog&#x2F;2015&#x2F;02&#x2F;lenovo-laptops-pr...</a></div><br/><div id="39882589" class="c"><input type="checkbox" id="c-39882589" checked=""/><div class="controls bullet"><span class="by">jasonvorhe</span><span>|</span><a href="#39882453">parent</a><span>|</span><a href="#39882478">next</a><span>|</span><label class="collapse" for="c-39882589">[-]</label><label class="expand" for="c-39882589">[1 more]</label></div><br/><div class="children"><div class="content">That might have been true in the past, but nowadays at least macOS&#x2F;Android&#x2F;iOS can enforce several restrictions on the apps you install, like prevent them from changing OS settings&#x2F;files, limit access to only specified&#x2F;opt-in directories, limit the amount of background activity, etc.<p>I don&#x27;t know about Windows or Linux though.</div><br/></div></div></div></div><div id="39882478" class="c"><input type="checkbox" id="c-39882478" checked=""/><div class="controls bullet"><span class="by">tigrezno</span><span>|</span><a href="#39882453">prev</a><span>|</span><a href="#39882285">next</a><span>|</span><label class="collapse" for="c-39882478">[-]</label><label class="expand" for="c-39882478">[5 more]</label></div><br/><div class="children"><div class="content">why people pay for 3rd party VPNs? It&#x27;s far more secure to create your own wireguard&#x2F;openvpn&#x2F;whatever with a cheap VPS</div><br/><div id="39882545" class="c"><input type="checkbox" id="c-39882545" checked=""/><div class="controls bullet"><span class="by">orthoxerox</span><span>|</span><a href="#39882478">parent</a><span>|</span><a href="#39882551">next</a><span>|</span><label class="collapse" for="c-39882545">[-]</label><label class="expand" for="c-39882545">[2 more]</label></div><br/><div class="children"><div class="content">Not everyone is savvy enough to do it, even though the process has been simplified with many hosting providers providing preconfigured VPN servers.<p>And it doesn&#x27;t anonymize you that well. When you post a message that draws the attention of law enforcement, the IP will lead them to a VPN provider that hopefully doesn&#x27;t keep any logs.<p>But if it leads them to a specific server, the hosting provider will disclose your account and payment data, since it is linked to your private server. Unless they accept fully pseudonymous accounts and let you pay for your VPS in cash, Monero or tumbled Bitcoins, finding you is much easier now.</div><br/><div id="39882582" class="c"><input type="checkbox" id="c-39882582" checked=""/><div class="controls bullet"><span class="by">thegrim000</span><span>|</span><a href="#39882478">root</a><span>|</span><a href="#39882545">parent</a><span>|</span><a href="#39882551">next</a><span>|</span><label class="collapse" for="c-39882582">[-]</label><label class="expand" for="c-39882582">[1 more]</label></div><br/><div class="children"><div class="content">I find it so insane that people think the major VPN providers aren&#x27;t all completely compromised one way or the other. As if you&#x27;re really going to be able to just pass your traffic through such a business and they&#x27;re going to actually keep no logs, and not have secret deals made with intelligence agencies, and aren&#x27;t unknowingly completely insided&#x2F;compromised by intelligence agencies. As if you can just push your traffic through a major VPN and intelligence agencies would just go &quot;well shucks, oh man, they sure got us, we&#x27;ll never know who it was, foiled again&quot;.</div><br/></div></div></div></div><div id="39882551" class="c"><input type="checkbox" id="c-39882551" checked=""/><div class="controls bullet"><span class="by">almostnormal</span><span>|</span><a href="#39882478">parent</a><span>|</span><a href="#39882545">prev</a><span>|</span><a href="#39882537">next</a><span>|</span><label class="collapse" for="c-39882551">[-]</label><label class="expand" for="c-39882551">[1 more]</label></div><br/><div class="children"><div class="content">Oftentimes, it&#x27;s not about security but about circumventing censorship. A cheap VPS comes with a fixed IP located in one fixed part of the world. Many VPN providers allow switching.</div><br/></div></div><div id="39882537" class="c"><input type="checkbox" id="c-39882537" checked=""/><div class="controls bullet"><span class="by">MissTake</span><span>|</span><a href="#39882478">parent</a><span>|</span><a href="#39882551">prev</a><span>|</span><a href="#39882285">next</a><span>|</span><label class="collapse" for="c-39882537">[-]</label><label class="expand" for="c-39882537">[1 more]</label></div><br/><div class="children"><div class="content">Because most people are not techies.<p>Compared to the rest of the world, the number of people who even know what a VPS is is microscopically small.<p>And even those that do, the number of them with the time, desire, or skill, to do as you suggest, is even smaller.<p>I myself was into this sort of thing just 10 years ago. Now, as I start looking at hitting the big 6-0 in just a few years time, I’m already working on divesting myself of all this complexity,</div><br/></div></div></div></div><div id="39882285" class="c"><input type="checkbox" id="c-39882285" checked=""/><div class="controls bullet"><span class="by">keikobadthebad</span><span>|</span><a href="#39882478">prev</a><span>|</span><a href="#39882410">next</a><span>|</span><label class="collapse" for="c-39882285">[-]</label><label class="expand" for="c-39882285">[4 more]</label></div><br/><div class="children"><div class="content">Facebook is not removable from many android devices... does this mean Zuckerberg has been seeing all user traffic for years regardless of tls?</div><br/><div id="39882353" class="c"><input type="checkbox" id="c-39882353" checked=""/><div class="controls bullet"><span class="by">eru</span><span>|</span><a href="#39882285">parent</a><span>|</span><a href="#39882403">next</a><span>|</span><label class="collapse" for="c-39882353">[-]</label><label class="expand" for="c-39882353">[1 more]</label></div><br/><div class="children"><div class="content">Only when they used Onavo, it seems?<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Onavo" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Onavo</a> is slightly more readable than the legal document submitted as the link.</div><br/></div></div><div id="39882403" class="c"><input type="checkbox" id="c-39882403" checked=""/><div class="controls bullet"><span class="by">1oooqooq</span><span>|</span><a href="#39882285">parent</a><span>|</span><a href="#39882353">prev</a><span>|</span><a href="#39882359">next</a><span>|</span><label class="collapse" for="c-39882403">[-]</label><label class="expand" for="c-39882403">[1 more]</label></div><br/><div class="children"><div class="content">Yes and No.<p>for TLS traffic you need to also install onavo.<p>But the app does scan your contact list every couple minutes and send diffs to their servers. Even if you have never opened the app. And on previous android versions all your recently open apps list too.<p>But again, if you install whatsapp you must give them the contact list permission anyway otherwise the app is intentionally broken and annoying.</div><br/></div></div><div id="39882359" class="c"><input type="checkbox" id="c-39882359" checked=""/><div class="controls bullet"><span class="by">douglasmoore</span><span>|</span><a href="#39882285">parent</a><span>|</span><a href="#39882403">prev</a><span>|</span><a href="#39882410">next</a><span>|</span><label class="collapse" for="c-39882359">[-]</label><label class="expand" for="c-39882359">[1 more]</label></div><br/><div class="children"><div class="content">I might be wrong but I think you need the onavo VPN installed<p>Then your YouTube, Snapchat analytics would get man in the middled</div><br/></div></div></div></div><div id="39882410" class="c"><input type="checkbox" id="c-39882410" checked=""/><div class="controls bullet"><span class="by">vincnetas</span><span>|</span><a href="#39882285">prev</a><span>|</span><a href="#39882334">next</a><span>|</span><label class="collapse" for="c-39882410">[-]</label><label class="expand" for="c-39882410">[3 more]</label></div><br/><div class="children"><div class="content">So how can we be sure now that todays VPNs are not tomorrows Onavos. :(</div><br/><div id="39882436" class="c"><input type="checkbox" id="c-39882436" checked=""/><div class="controls bullet"><span class="by">baby</span><span>|</span><a href="#39882410">parent</a><span>|</span><a href="#39882424">next</a><span>|</span><label class="collapse" for="c-39882436">[-]</label><label class="expand" for="c-39882436">[1 more]</label></div><br/><div class="children"><div class="content">First, all VPNs spy on you, just don&#x27;t believe these claims because they are forced by law to do it. Second, don&#x27;t use a VPN that clearly states that they&#x27;re analyzing your traffic data.</div><br/></div></div><div id="39882424" class="c"><input type="checkbox" id="c-39882424" checked=""/><div class="controls bullet"><span class="by">mgiampapa</span><span>|</span><a href="#39882410">parent</a><span>|</span><a href="#39882436">prev</a><span>|</span><a href="#39882334">next</a><span>|</span><label class="collapse" for="c-39882424">[-]</label><label class="expand" for="c-39882424">[1 more]</label></div><br/><div class="children"><div class="content">Certificate pinning and validation in apps for one. Onavo&#x27;s VPN was really clear it collected market research data. It was as informed consent as a click-through could be.</div><br/></div></div></div></div><div id="39882334" class="c"><input type="checkbox" id="c-39882334" checked=""/><div class="controls bullet"><span class="by">userbinator</span><span>|</span><a href="#39882410">prev</a><span>|</span><a href="#39882411">next</a><span>|</span><label class="collapse" for="c-39882334">[-]</label><label class="expand" for="c-39882334">[1 more]</label></div><br/><div class="children"><div class="content">...with the consent of the users who installed this.<p>Some recent related discussion: <a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39860486">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=39860486</a></div><br/></div></div><div id="39882411" class="c"><input type="checkbox" id="c-39882411" checked=""/><div class="controls bullet"><span class="by">asimpleusecase</span><span>|</span><a href="#39882334">prev</a><span>|</span><label class="collapse" for="c-39882411">[-]</label><label class="expand" for="c-39882411">[1 more]</label></div><br/><div class="children"><div class="content">Can we please see prison time for this. DCMA should apply and it have criminal penalties including prison.</div><br/></div></div></div></div></div></div></div></body></html>