<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1712048452241" as="style"/><link rel="stylesheet" href="styles.css?v=1712048452241"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="http://kristerw.blogspot.com/2019/01/building-gcc-127.html">Building GCC 1.27 (first GCC with x86 support) (2019)</a> <span class="domain">(<a href="http://kristerw.blogspot.com">kristerw.blogspot.com</a>)</span></div><div class="subtext"><span>peter_d_sherman</span> | <span>22 comments</span></div><br/><div><div id="39902288" class="c"><input type="checkbox" id="c-39902288" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#39902175">next</a><span>|</span><label class="collapse" for="c-39902288">[-]</label><label class="expand" for="c-39902288">[1 more]</label></div><br/><div class="children"><div class="content">&gt; the first version of GCC supporting the x86 CPU<p>I have to say, that gives me a funny sort of feeling. The linked 0.9 tarball appears to support the Motorola 68000 and Vax, and <a href="https:&#x2F;&#x2F;gcc.gnu.org&#x2F;backends.html" rel="nofollow">https:&#x2F;&#x2F;gcc.gnu.org&#x2F;backends.html</a> seems to indicate that both are still supported, which is kind of beautiful (though there&#x27;s a note on vax that &quot;A hardware implementation is not currently being manufactured&quot;:P). Just... disconcerting to imagine a world before gcc supported x86.</div><br/></div></div><div id="39902175" class="c"><input type="checkbox" id="c-39902175" checked=""/><div class="controls bullet"><span class="by">tobinfricke</span><span>|</span><a href="#39902288">prev</a><span>|</span><a href="#39902197">next</a><span>|</span><label class="collapse" for="c-39902175">[-]</label><label class="expand" for="c-39902175">[8 more]</label></div><br/><div class="children"><div class="content">&gt; In late 1983, in an effort to bootstrap the GNU operating system, Richard Stallman asked Andrew S. Tanenbaum, the author of the Amsterdam Compiler Kit (also known as the Free University Compiler Kit)<p>I see what you did there<p>edit: Oh but actually Richard Stallman is careful to clarify:<p>&gt; Shortly before beginning the GNU project, I heard about the Free University
Compiler Kit, also known as VUCK. (The Dutch word for &quot;free&quot; is written
with a V.)</div><br/><div id="39903214" class="c"><input type="checkbox" id="c-39903214" checked=""/><div class="controls bullet"><span class="by">pjmlp</span><span>|</span><a href="#39902175">parent</a><span>|</span><a href="#39902556">next</a><span>|</span><label class="collapse" for="c-39903214">[-]</label><label class="expand" for="c-39903214">[1 more]</label></div><br/><div class="children"><div class="content">Also a point to note to the WASM advocacy folks, this compiler toolkit is one of the first to have a bytecode format for C, called EM, shared across its languages, namely C, Modula-2, Pascal and BASIC.<p><a href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;EM_intermediate_language" rel="nofollow">https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;EM_intermediate_language</a></div><br/></div></div><div id="39902556" class="c"><input type="checkbox" id="c-39902556" checked=""/><div class="controls bullet"><span class="by">stoltzmann</span><span>|</span><a href="#39902175">parent</a><span>|</span><a href="#39903214">prev</a><span>|</span><a href="#39902311">next</a><span>|</span><label class="collapse" for="c-39902556">[-]</label><label class="expand" for="c-39902556">[5 more]</label></div><br/><div class="children"><div class="content">The &quot;free&quot; in VUCK doesn&#x27;t stand for free as in freedom, or even free as in beer. Free University is a weird translation of the name of a specific institution - the Vrije Universiteit in Amsterdam. Tanenbaum was a professor there, giving classes on operating systems. So I&#x27;d say it should rather be called the VU Compiler Kit.</div><br/><div id="39903261" class="c"><input type="checkbox" id="c-39903261" checked=""/><div class="controls bullet"><span class="by">gpvos</span><span>|</span><a href="#39902175">root</a><span>|</span><a href="#39902556">parent</a><span>|</span><a href="#39902588">next</a><span>|</span><label class="collapse" for="c-39903261">[-]</label><label class="expand" for="c-39903261">[1 more]</label></div><br/><div class="children"><div class="content">Free University is a perfectly fine translation, just not much used because of the high chance of misunderstanding. The &quot;free&quot; <i>does</i> stand for free as in freedom, just a different kind of freedom than you&#x27;d think of. The Vrije Universiteit was founded as a Reformed protestant christian university, to be free from state control. By the time Tanenbaum worked there, the religious character was much watered down, and barely noticeable in the computer science department.</div><br/></div></div><div id="39902588" class="c"><input type="checkbox" id="c-39902588" checked=""/><div class="controls bullet"><span class="by">skissane</span><span>|</span><a href="#39902175">root</a><span>|</span><a href="#39902556">parent</a><span>|</span><a href="#39903261">prev</a><span>|</span><a href="#39902681">next</a><span>|</span><label class="collapse" for="c-39902588">[-]</label><label class="expand" for="c-39902588">[2 more]</label></div><br/><div class="children"><div class="content">&gt; The &quot;free&quot; in VUCK doesn&#x27;t stand for free as in freedom, or even free as in beer. Free University is a weird translation of the name of a specific institution - the Vrije Universiteit in Amsterdam.<p>It isn’t a “weird translation” - “Free University” is a perfectly valid translation of Dutch “Vrije Universiteit”. You just have to understand the historical background, that the university was so named because it was <i>free</i> from control by State or Church, unlike other universities in the Netherlands at the time of its 19th century founding</div><br/><div id="39902629" class="c"><input type="checkbox" id="c-39902629" checked=""/><div class="controls bullet"><span class="by">gumby</span><span>|</span><a href="#39902175">root</a><span>|</span><a href="#39902588">parent</a><span>|</span><a href="#39902681">next</a><span>|</span><label class="collapse" for="c-39902629">[-]</label><label class="expand" for="c-39902629">[1 more]</label></div><br/><div class="children"><div class="content">My high school was a “free school” in the same sense of the term.  Founded 1640 by royal charter.</div><br/></div></div></div></div><div id="39902681" class="c"><input type="checkbox" id="c-39902681" checked=""/><div class="controls bullet"><span class="by">tobinfricke</span><span>|</span><a href="#39902175">root</a><span>|</span><a href="#39902556">parent</a><span>|</span><a href="#39902588">prev</a><span>|</span><a href="#39902311">next</a><span>|</span><label class="collapse" for="c-39902681">[-]</label><label class="expand" for="c-39902681">[1 more]</label></div><br/><div class="children"><div class="content">The Wikipedia article suggests that Stallman understood it as &quot;Free (University (Compiler Kit))&quot; only to find out that it was &quot;(Free University) Compiler Kit&quot;:<p>&gt; When Tanenbaum advised him that the compiler was not free, and that only the university was free, Stallman decided to work on a different compiler.</div><br/></div></div></div></div><div id="39902311" class="c"><input type="checkbox" id="c-39902311" checked=""/><div class="controls bullet"><span class="by">sanxiyn</span><span>|</span><a href="#39902175">parent</a><span>|</span><a href="#39902556">prev</a><span>|</span><a href="#39902197">next</a><span>|</span><label class="collapse" for="c-39902311">[-]</label><label class="expand" for="c-39902311">[1 more]</label></div><br/><div class="children"><div class="content">Interestingly, The Amsterdam Compiler Kit is now open source.<p><a href="https:&#x2F;&#x2F;tack.sourceforge.net&#x2F;" rel="nofollow">https:&#x2F;&#x2F;tack.sourceforge.net&#x2F;</a></div><br/></div></div></div></div><div id="39902197" class="c"><input type="checkbox" id="c-39902197" checked=""/><div class="controls bullet"><span class="by">tobinfricke</span><span>|</span><a href="#39902175">prev</a><span>|</span><a href="#39902095">next</a><span>|</span><label class="collapse" for="c-39902197">[-]</label><label class="expand" for="c-39902197">[4 more]</label></div><br/><div class="children"><div class="content">I was curious what architectures were supported by the original GCC, if not x86. It seems the answer is vax and 68020: <a href="https:&#x2F;&#x2F;gcc.gnu.org&#x2F;wiki&#x2F;History" rel="nofollow">https:&#x2F;&#x2F;gcc.gnu.org&#x2F;wiki&#x2F;History</a></div><br/><div id="39902622" class="c"><input type="checkbox" id="c-39902622" checked=""/><div class="controls bullet"><span class="by">gumby</span><span>|</span><a href="#39902197">parent</a><span>|</span><a href="#39902095">next</a><span>|</span><label class="collapse" for="c-39902622">[-]</label><label class="expand" for="c-39902622">[3 more]</label></div><br/><div class="children"><div class="content">That’s because Eric Ostrom had somehow gotten us a vax 750 for some inexplicable reason (years later he told me he was astonished that  nobody appreciated it) as if anybody wanted a vax.<p>So RMS started using it for his gnu project since nobody else cared.  It was just using up power in a small machine room on the 3rd (or 7th — I can’t remember) floor of tech square.<p>Complete happenstance.</div><br/><div id="39903029" class="c"><input type="checkbox" id="c-39903029" checked=""/><div class="controls bullet"><span class="by">fl7305</span><span>|</span><a href="#39902197">root</a><span>|</span><a href="#39902622">parent</a><span>|</span><a href="#39902095">next</a><span>|</span><label class="collapse" for="c-39903029">[-]</label><label class="expand" for="c-39903029">[2 more]</label></div><br/><div class="children"><div class="content">A 750 wasn&#x27;t very fast back in 1987 if I remember it correctly? But a 784 was still decent?</div><br/><div id="39903119" class="c"><input type="checkbox" id="c-39903119" checked=""/><div class="controls bullet"><span class="by">rahen</span><span>|</span><a href="#39902197">root</a><span>|</span><a href="#39903029">parent</a><span>|</span><a href="#39902095">next</a><span>|</span><label class="collapse" for="c-39903119">[-]</label><label class="expand" for="c-39903119">[1 more]</label></div><br/><div class="children"><div class="content">Not very fast, but it was a bit of a standard in the BSD world as most development there happened on 750s at Berkeley.<p><a href="https:&#x2F;&#x2F;gunkies.org&#x2F;wiki&#x2F;4.1_BSD" rel="nofollow">https:&#x2F;&#x2F;gunkies.org&#x2F;wiki&#x2F;4.1_BSD</a></div><br/></div></div></div></div></div></div></div></div><div id="39902095" class="c"><input type="checkbox" id="c-39902095" checked=""/><div class="controls bullet"><span class="by">latenightcoding</span><span>|</span><a href="#39902197">prev</a><span>|</span><a href="#39902310">next</a><span>|</span><label class="collapse" for="c-39902095">[-]</label><label class="expand" for="c-39902095">[5 more]</label></div><br/><div class="children"><div class="content">On that note I beleive GCC 2.95.3 (released 2001) is the last gcc written in C, therefore one of the most important versions and still used for bootstrapping</div><br/><div id="39902201" class="c"><input type="checkbox" id="c-39902201" checked=""/><div class="controls bullet"><span class="by">jcranmer</span><span>|</span><a href="#39902095">parent</a><span>|</span><a href="#39902310">next</a><span>|</span><label class="collapse" for="c-39902201">[-]</label><label class="expand" for="c-39902201">[4 more]</label></div><br/><div class="children"><div class="content">No, C++ wasn&#x27;t used for gcc until 4.8 (released 2013).<p>Source: <a href="https:&#x2F;&#x2F;gcc.gnu.org&#x2F;gcc-4.8&#x2F;changes.html" rel="nofollow">https:&#x2F;&#x2F;gcc.gnu.org&#x2F;gcc-4.8&#x2F;changes.html</a></div><br/><div id="39902326" class="c"><input type="checkbox" id="c-39902326" checked=""/><div class="controls bullet"><span class="by">sanxiyn</span><span>|</span><a href="#39902095">root</a><span>|</span><a href="#39902201">parent</a><span>|</span><a href="#39902310">next</a><span>|</span><label class="collapse" for="c-39902326">[-]</label><label class="expand" for="c-39902326">[3 more]</label></div><br/><div class="children"><div class="content">For this reason, maintaining GCC 4.7 is one of long-term high-impact projects of Bootstrappable Builds project.<p><a href="https:&#x2F;&#x2F;bootstrappable.org&#x2F;projects.html" rel="nofollow">https:&#x2F;&#x2F;bootstrappable.org&#x2F;projects.html</a></div><br/><div id="39902554" class="c"><input type="checkbox" id="c-39902554" checked=""/><div class="controls bullet"><span class="by">lmk2009</span><span>|</span><a href="#39902095">root</a><span>|</span><a href="#39902326">parent</a><span>|</span><a href="#39902310">next</a><span>|</span><label class="collapse" for="c-39902554">[-]</label><label class="expand" for="c-39902554">[2 more]</label></div><br/><div class="children"><div class="content">I never understood why one would subject themselves to bootstrap a system using this method instead of simply cross compiling?</div><br/><div id="39902776" class="c"><input type="checkbox" id="c-39902776" checked=""/><div class="controls bullet"><span class="by">yjftsjthsd-h</span><span>|</span><a href="#39902095">root</a><span>|</span><a href="#39902554">parent</a><span>|</span><a href="#39902310">next</a><span>|</span><label class="collapse" for="c-39902776">[-]</label><label class="expand" for="c-39902776">[1 more]</label></div><br/><div class="children"><div class="content">Cross compiling only helps with a subset of uses.
If you&#x27;re doing it for security reasons (to counter the Trusting Trust attack), you aren&#x27;t coming from another current-edition GCC&#x2F;clang, you&#x27;re coming from the simplest compiler you could find.</div><br/></div></div></div></div></div></div></div></div></div></div><div id="39902310" class="c"><input type="checkbox" id="c-39902310" checked=""/><div class="controls bullet"><span class="by">ajross</span><span>|</span><a href="#39902095">prev</a><span>|</span><label class="collapse" for="c-39902310">[-]</label><label class="expand" for="c-39902310">[3 more]</label></div><br/><div class="children"><div class="content">Nitpick: calling this an &quot;x86&quot; compiler is a modernism.  There were, indeed, multiple successor chips to the 8086 in the market.  But gcc supported only one of them.  This is a 386 compiler, not an x86 compiler.</div><br/><div id="39903030" class="c"><input type="checkbox" id="c-39903030" checked=""/><div class="controls bullet"><span class="by">skissane</span><span>|</span><a href="#39902310">parent</a><span>|</span><a href="#39902415">next</a><span>|</span><label class="collapse" for="c-39903030">[-]</label><label class="expand" for="c-39903030">[1 more]</label></div><br/><div class="children"><div class="content">Mainstream GCC has never supported 16-bit code on x86, only 32-bit<p>However, there is (at least one) fork which adds 16-bit code support, see <a href="https:&#x2F;&#x2F;github.com&#x2F;tkchia&#x2F;gcc-ia16">https:&#x2F;&#x2F;github.com&#x2F;tkchia&#x2F;gcc-ia16</a><p>I don&#x27;t think the GCC maintainers have ever or will ever want to support 16-bit x86, because it is so limited, and adds a lot of messy corner cases, and nowadays is really only of hobbyist&#x2F;retrocomputing interest.<p><i>Maybe</i> there is some 16-bit x86 embedded system still being maintained–there were military spec versions of the 8086, and possibly some weapons system, aircraft, satellite, etc, still in use contains one. But I doubt they&#x27;d have any interest in adopting a 16-bit GCC – they&#x27;d already have some proprietary compiler they&#x27;d been using for decades, switching now would add a lot of risk, very late in the life of a legacy system, for no tangible benefit</div><br/></div></div><div id="39902415" class="c"><input type="checkbox" id="c-39902415" checked=""/><div class="controls bullet"><span class="by">Brian_K_White</span><span>|</span><a href="#39902310">parent</a><span>|</span><a href="#39903030">prev</a><span>|</span><label class="collapse" for="c-39902415">[-]</label><label class="expand" for="c-39902415">[1 more]</label></div><br/><div class="children"><div class="content">Unless it is not the first version that targets any x86, then there is no nit to pick.</div><br/></div></div></div></div></div></div></div></div></div></body></html>