<!DOCTYPE html><html lang="en"><head><title>Static News</title><meta charSet="utf-8"/><meta name="description" content="Static delayed Hacker News."/><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1d1f21"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="application-name" content="Static News"/><meta name="apple-mobile-web-app-title" content="Static News"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#1d1f21"/><link rel="preload" href="styles.css?v=1710925267191" as="style"/><link rel="stylesheet" href="styles.css?v=1710925267191"/></head><body><div id="container"><div id="inner"><header><a href="/">Static News</a><a href="/about">about</a></header><div id="content"><div><div id="title"><a href="https://thevahidal.github.io/soul/">Soul: A SQLite REST and Realtime Server</a> <span class="domain">(<a href="https://thevahidal.github.io">thevahidal.github.io</a>)</span></div><div class="subtext"><span>thunderbong</span> | <span>19 comments</span></div><br/><div><div id="39763004" class="c"><input type="checkbox" id="c-39763004" checked=""/><div class="controls bullet"><span class="by">devsda</span><span>|</span><a href="#39763663">next</a><span>|</span><label class="collapse" for="c-39763004">[-]</label><label class="expand" for="c-39763004">[1 more]</label></div><br/><div class="children"><div class="content">Some suggestions:<p>The submitted page can add a link to the github repo. If it is already there it isn&#x27;t obvious.<p>As the links to &#x2F;api&#x2F;tables and others are throwing 404, I had to copy &amp; paste the url from the dev snippet to see examples of the API.<p>Running the server to view  documentation helps in ensuring that the docs are current but it will also add unnecessary friction and deter those who want to just look at the API doc for evaluation.<p>PS: The source url is <a href="https:&#x2F;&#x2F;github.com&#x2F;thevahidal&#x2F;soul">https:&#x2F;&#x2F;github.com&#x2F;thevahidal&#x2F;soul</a></div><br/></div></div><div id="39763663" class="c"><input type="checkbox" id="c-39763663" checked=""/><div class="controls bullet"><span class="by">geenat</span><span>|</span><a href="#39763004">prev</a><span>|</span><a href="#39763657">next</a><span>|</span><label class="collapse" for="c-39763663">[-]</label><label class="expand" for="c-39763663">[3 more]</label></div><br/><div class="children"><div class="content">No benchmark = no download.<p>Plenty of these SQLite web front ends exist, including more enticing single static binaries in go, and they are always far too slow to use in anything but toy projects.<p>Should be standard to bench against a standard SQLite integration (on modern cpu with nvme).<p>Even PocketBase, for as nice as the UI is, an order of magnitude slower than SQLite directly.<p>Here&#x27;s some rough numbers I&#x27;ve found using SELECT * FROM user LIMIT 1; per second ( 1x &#x2F; 10x &#x2F; 100x )<p>SQLite<p>68,000 &#x2F; 50,000 &#x2F; 4,000<p>SQLite WAL2 (3x Database files)<p>67,000 &#x2F; 52,000 &#x2F; 8,000<p>Pocketbase (CURL)<p>15,000 &#x2F; 2,300 &#x2F; 234<p>Pocketbase (Direct)<p>62,000 &#x2F; 29,000 &#x2F; 3,900<p>ws4sqlite (CURL)<p>20,000 &#x2F; 2,600 &#x2F; 255</div><br/><div id="39763824" class="c"><input type="checkbox" id="c-39763824" checked=""/><div class="controls bullet"><span class="by">geenat</span><span>|</span><a href="#39763663">parent</a><span>|</span><a href="#39763747">next</a><span>|</span><label class="collapse" for="c-39763824">[-]</label><label class="expand" for="c-39763824">[1 more]</label></div><br/><div class="children"><div class="content">Btw ws4sqlite rewrite in rust that&#x27;s allegedly faster: <a href="https:&#x2F;&#x2F;github.com&#x2F;proofrock&#x2F;sqliterg">https:&#x2F;&#x2F;github.com&#x2F;proofrock&#x2F;sqliterg</a></div><br/></div></div><div id="39763747" class="c"><input type="checkbox" id="c-39763747" checked=""/><div class="controls bullet"><span class="by">jddj</span><span>|</span><a href="#39763663">parent</a><span>|</span><a href="#39763824">prev</a><span>|</span><a href="#39763657">next</a><span>|</span><label class="collapse" for="c-39763747">[-]</label><label class="expand" for="c-39763747">[1 more]</label></div><br/><div class="children"><div class="content">Curious to see how much it is a factor, did you run the same with&#x2F;without cgo?</div><br/></div></div></div></div><div id="39763657" class="c"><input type="checkbox" id="c-39763657" checked=""/><div class="controls bullet"><span class="by">emmanueloga_</span><span>|</span><a href="#39763663">prev</a><span>|</span><a href="#39762867">next</a><span>|</span><label class="collapse" for="c-39763657">[-]</label><label class="expand" for="c-39763657">[1 more]</label></div><br/><div class="children"><div class="content">I wonder if it is inspired by [1], looks very similar including the &quot;realtime&quot; blurb.<p>--<p>1: <a href="https:&#x2F;&#x2F;pocketbase.io&#x2F;" rel="nofollow">https:&#x2F;&#x2F;pocketbase.io&#x2F;</a></div><br/></div></div><div id="39762867" class="c"><input type="checkbox" id="c-39762867" checked=""/><div class="controls bullet"><span class="by">ginko</span><span>|</span><a href="#39763657">prev</a><span>|</span><label class="collapse" for="c-39762867">[-]</label><label class="expand" for="c-39762867">[13 more]</label></div><br/><div class="children"><div class="content">I thought the whole point of sqlite is that you don&#x27;t have to deal with the cruft and overhead of having to send queries over a network connection. Why tack that back on?</div><br/><div id="39763289" class="c"><input type="checkbox" id="c-39763289" checked=""/><div class="controls bullet"><span class="by">galaxyLogic</span><span>|</span><a href="#39762867">parent</a><span>|</span><a href="#39762920">next</a><span>|</span><label class="collapse" for="c-39763289">[-]</label><label class="expand" for="c-39763289">[3 more]</label></div><br/><div class="children"><div class="content">&gt;I thought the whole point of SqLite is that you don&#x27;t have to deal with the cruft and overhead of having to send queries over a network connection. Why tack that back on?<p>An interesting application could be a web-application whose ONLY server is the SqLite -server. The state of the application would be stored into the SqLite database, not into &quot;local storage&quot; etc.  Using a relational database is a great improvement in flexibility over using the key-value store of Local Storage.<p>Could this work? I guess we would need to load one web-page into the browser first to load some HTML and scripts and then that page could use fetch() to get everything else from the SqLite -server.</div><br/><div id="39763338" class="c"><input type="checkbox" id="c-39763338" checked=""/><div class="controls bullet"><span class="by">chongli</span><span>|</span><a href="#39762867">root</a><span>|</span><a href="#39763289">parent</a><span>|</span><a href="#39763469">next</a><span>|</span><label class="collapse" for="c-39763338">[-]</label><label class="expand" for="c-39763338">[1 more]</label></div><br/><div class="children"><div class="content">What’s the security model for this? Seems like you’d end up with users able to run arbitrary queries against the database.</div><br/></div></div><div id="39763469" class="c"><input type="checkbox" id="c-39763469" checked=""/><div class="controls bullet"><span class="by">johnny22</span><span>|</span><a href="#39762867">root</a><span>|</span><a href="#39763289">parent</a><span>|</span><a href="#39763338">prev</a><span>|</span><a href="#39762920">next</a><span>|</span><label class="collapse" for="c-39763469">[-]</label><label class="expand" for="c-39763469">[1 more]</label></div><br/><div class="children"><div class="content">There&#x27;s also the wasm build of sqlite that you could just run directly if it&#x27;s really necessary. Of course there might be performance differences</div><br/></div></div></div></div><div id="39762920" class="c"><input type="checkbox" id="c-39762920" checked=""/><div class="controls bullet"><span class="by">tracker1</span><span>|</span><a href="#39762867">parent</a><span>|</span><a href="#39763289">prev</a><span>|</span><a href="#39762909">next</a><span>|</span><label class="collapse" for="c-39762920">[-]</label><label class="expand" for="c-39762920">[1 more]</label></div><br/><div class="children"><div class="content">Accessing the database from multiple applications or systems.<p>SQLite is great for sharing application data as well.  If you have, for example data for a specific event,. It can make sense to use a separate database&#x2F;file.<p>Being able to simply copy as a backup&#x2F;archive is big here.<p>You might still want your application or services separate.  Similarly take a look at Turso or AstroDB for more options.  Turso created libSQL as a fork with libSQL server.</div><br/></div></div><div id="39762909" class="c"><input type="checkbox" id="c-39762909" checked=""/><div class="controls bullet"><span class="by">_heimdall</span><span>|</span><a href="#39762867">parent</a><span>|</span><a href="#39762920">prev</a><span>|</span><a href="#39762901">next</a><span>|</span><label class="collapse" for="c-39762909">[-]</label><label class="expand" for="c-39762909">[3 more]</label></div><br/><div class="children"><div class="content">That&#x27;s a great question. This pattern is actually getting popular today with services like Turso and Cloudflare D1 (technically only SQLite <i>compliant</i>).<p>There are a few reasons I can see reaching for SQLite behind an API rather than something like Postgres. Portability can be a big benefit and I would expect you don&#x27;t need to deal with connection pooling.<p>If I had a service running on a single box and didn&#x27;t mind setting up my own db backups, I might reach for SQLite just for the ease of standing up new environments for dev and automated testing.</div><br/><div id="39763472" class="c"><input type="checkbox" id="c-39763472" checked=""/><div class="controls bullet"><span class="by">johnny22</span><span>|</span><a href="#39762867">root</a><span>|</span><a href="#39762909">parent</a><span>|</span><a href="#39763574">next</a><span>|</span><label class="collapse" for="c-39763472">[-]</label><label class="expand" for="c-39763472">[1 more]</label></div><br/><div class="children"><div class="content">I&#x27;ve found postgres via docker to be fine for dev and testing, but there are various epheremal postgres scripts, plus this could be promising for node stuff <a href="https:&#x2F;&#x2F;github.com&#x2F;electric-sql&#x2F;pglite">https:&#x2F;&#x2F;github.com&#x2F;electric-sql&#x2F;pglite</a> if it works out. I&#x27;d imagine if this does work out we&#x27;ll see the same kind of builds for other runtimes as well (like python)</div><br/></div></div></div></div><div id="39762901" class="c"><input type="checkbox" id="c-39762901" checked=""/><div class="controls bullet"><span class="by">zipping1549</span><span>|</span><a href="#39762867">parent</a><span>|</span><a href="#39762909">prev</a><span>|</span><a href="#39762953">next</a><span>|</span><label class="collapse" for="c-39762901">[-]</label><label class="expand" for="c-39762901">[1 more]</label></div><br/><div class="children"><div class="content">To me whole db being a single file is something.</div><br/></div></div><div id="39762953" class="c"><input type="checkbox" id="c-39762953" checked=""/><div class="controls bullet"><span class="by">brigadier132</span><span>|</span><a href="#39762867">parent</a><span>|</span><a href="#39762901">prev</a><span>|</span><label class="collapse" for="c-39762953">[-]</label><label class="expand" for="c-39762953">[4 more]</label></div><br/><div class="children"><div class="content">Frankly, you thought wrong. The whole point of sqlite was to build a database for naval vessels. Aside from that, given it&#x27;s open source, the &quot;point&quot; of it doesn&#x27;t really matter anymore.</div><br/><div id="39762974" class="c"><input type="checkbox" id="c-39762974" checked=""/><div class="controls bullet"><span class="by">SOLAR_FIELDS</span><span>|</span><a href="#39762867">root</a><span>|</span><a href="#39762953">parent</a><span>|</span><label class="collapse" for="c-39762974">[-]</label><label class="expand" for="c-39762974">[3 more]</label></div><br/><div class="children"><div class="content">Huh, this is a little piece of history I was not aware of. Neat and somewhat helps explain the design philosophy of SQLite knowing that</div><br/><div id="39763163" class="c"><input type="checkbox" id="c-39763163" checked=""/><div class="controls bullet"><span class="by">whartung</span><span>|</span><a href="#39762867">root</a><span>|</span><a href="#39762974">parent</a><span>|</span><a href="#39763184">next</a><span>|</span><label class="collapse" for="c-39763163">[-]</label><label class="expand" for="c-39763163">[1 more]</label></div><br/><div class="children"><div class="content">Semi-related, there’s an anecdote that the InterBase database was selected for use within the M1 Abraham’s tank because it was particularly robust in its implementation.<p>Apparently an issue with the M1 is that because of the energy produced when the main gun is fired, internal systems may spontaneously reset. So they had to design around that phenomenon through things like robustness and rapid system restart times.</div><br/></div></div><div id="39763184" class="c"><input type="checkbox" id="c-39763184" checked=""/><div class="controls bullet"><span class="by">tda</span><span>|</span><a href="#39762867">root</a><span>|</span><a href="#39762974">parent</a><span>|</span><a href="#39763163">prev</a><span>|</span><label class="collapse" for="c-39763184">[-]</label><label class="expand" for="c-39763184">[1 more]</label></div><br/><div class="children"><div class="content">If you want to know more of the origins of SQLite I can highly recommend this episode of the Corecursive podcast<p><a href="https:&#x2F;&#x2F;corecursive.com&#x2F;066-sqlite-with-richard-hipp&#x2F;" rel="nofollow">https:&#x2F;&#x2F;corecursive.com&#x2F;066-sqlite-with-richard-hipp&#x2F;</a></div><br/></div></div></div></div></div></div></div></div></div></div></div></div></div></body></html>